try{window.performance.mark("result-provider.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["@atlaskit-internal_@atlassian/product-search-dialog/extensible/async/result-provider"],{"1JDK":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("3tO9"),s=r.n(n),a=r("q1tI"),c=r.n(a);const l=({onClick:e})=>c.a.createElement(r("0+Gd").a,{onClick:e,appearance:"subtle",theme:(e,t)=>{const r=e(s()({},t));return s()(s()({},r),{},{buttonStyles:s()(s()({},r.buttonStyles),{},{margin:"0 auto",display:"block"})})}},c.a.createElement(r("3e7Q").a,r("SM7q").a.common_give_feedback))},"6uMD":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));class n extends r("D2aB").a{start(){return this.startInvoked?Promise.resolve():(this.startInvoked=!0,super.start())}}},K2VS:function(e,t,r){"use strict";r.r(t),r.d(t,"ResultProviderStateMachine",(function(){return K})),r.d(t,"ResultProviderLegacy",(function(){return Z})),r.d(t,"ResultProvider",(function(){
return $}));var n=r("3tO9"),s=r.n(n),a=r("QILm"),c=r.n(a),l=r("pVnL"),o=r.n(l),u=r("q1tI"),i=r.n(u),d=()=>{const e=(()=>{const e=Object(u.useRef)(!1);return Object(u.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),Object(u.useCallback)((()=>e.current),[])})();return Object(u.useCallback)((t=>new Promise(((r,n)=>{t.then((t=>{e()&&r(t)})).catch((t=>{e()&&n(t)}))}))),[e])};var p=()=>{const e=Object(u.useRef)(null);return Object(u.useCallback)((t=>{e.current&&e.current.cancel();const n=r("VdyV").a.from(t);return e.current=n,n.promise()}),[])};const b=({setState:e,searchItemSupplier:t,setAPIState:n,ufoExperience:s})=>{const a=d(),c=p(),{query:l}=Object(r("I8Iw").b)(),{filterDefinitions:o}=Object(r("Q8fx").b)(),i=Object(u.useRef)(l),b=Object(u.useRef)(o),y=Object(r("fmnO").c)(),f=(null==y?void 0:y.getAggregatorConfig().cloudId)||"";return Object(u.useEffect)((()=>{i.current=l,b.current=o}),[l,o]),Object(u.useCallback)((o=>new Promise(((u,d)=>{n(r("xGY4").a.Loading),s.start(),
c(a(t(o))).then((t=>{i.current===l?(s.success({metadata:{cloudId:f}}),e(t),Object(r("GPJg").a)(t)?n(r("xGY4").a.Success):n(r("xGY4").a.NoResult),u(t)):s.abort()})).catch((t=>{i.current===l?(t&&!t.isCancelled&&(e(r("tQiX").a),n(r("xGY4").a.Error),d(t)),s.failure()):s.abort()}))}))),[t,e,a,n,c,l,s,f])},y=e=>e.sections.map((e=>({results:e.searchResults.slice(0,(null==e?void 0:e.resultLimit)||10).map((t=>({containerId:t.containerId||"UNAVAILABLE",isRecentResult:!!t.isRecentResult,resultContentId:t.id,resultType:e.id}))),sectionId:e.id}))),f=(e,t,n,a)=>{if(n!==r("xGY4").b.PreQueryLoading)return;const c=y(a),l=Object(r("RWDu").A)(s()({actionSubjectId:r("RWDu").b.PREQUERY,resultCount:a.size||0,sectionCount:a.sections.length,results:c},t));switch(e){case r("xGY4").b.PreQueryNoResult:return l;case r("xGY4").b.PreQuerySuccess:if(c.length>0)return l}},m=(e,t,n,a)=>{const c=y(a)
;if(n!==r("xGY4").b.PostQueryLoading)return n!==r("xGY4").b.PreQuerySuccess&&n!==r("xGY4").b.PostQuerySuccess||e!==r("xGY4").b.PostQueryLoading||0===c.length?void 0:Object(r("RWDu").A)(s()({actionSubjectId:r("RWDu").b.CACHED,resultCount:a.size||0,sectionCount:a.sections.length,results:c},t));switch(e){case r("xGY4").b.PostQueryNoResult:case r("xGY4").b.PostQuerySuccess||r("xGY4").b.PostQueryNoResult:return Object(r("RWDu").A)(s()({actionSubjectId:r("RWDu").b.POSTQUERY,resultCount:a.size||0,sectionCount:a.sections.length,results:c},t))}};function h(e){return{applied:e.map(((e,t)=>s()(s()({},e),{},{index:t}))).filter((e=>e.isChecked)).map((e=>({id:e.id,source:e.filterSource,index:e.index}))),recommendedIds:e.map((e=>({id:e.id,source:e.filterSource})))}}const S=e=>{let t={};return e.map((e=>{t=s()(s()({},t),{},{[e["@type"]]:h(e.store.availableFilters)})})),t},I=()=>{
const{fireAnalyticsEvent:e}=Object(r("0VsR").a)(),{products:t,getActiveProduct:n}=Object(r("beQG").b)(),s=Object(r("qfuu").d)(),{isExpanded:a}=Object(r("PakA").b)();return[e,n(),a,t.length>0,S(s)]},g=(e,t,r)=>{const n=Object(u.useRef)(),[s,a,c,l,o]=I();Object(u.useEffect)((()=>{if(c&&a&&""!==a.id&&a.isDisplayed&&n.current){const c={activeProduct:null==a?void 0:a.id,isMultiProduct:l,filters:o},u=t(e,c,n.current,r);u&&Object.keys(u).length>0&&s(u)}n.current=e}),[e,c,s,l,a,r,t,o])},Q=({setAPIState:e,setState:t,postQueryItemSupplier:n,id:s})=>{const a=Object(u.useRef)(new(r("D2aB").a)(`${s}-post-query-results-load`,{type:r("DRbF").b.Experience,performanceType:r("DRbF").a.InlineResult,platform:{component:r("UPCV").a}})),c=(()=>{const[e,t,n,s,a]=I();return Object(u.useCallback)((c=>l=>{const o=new Date;return c(l).then((c=>{const l=(new Date).getTime()-o.getTime();return e(Object(r("RWDu").v)({actionSubjectId:"postQuerySearchResults",timings:{postQueryRequestDurationMs:l},
activeProduct:null==t?void 0:t.id,isExpanded:n,isMultiProduct:s,filters:a})),c}))}),[e,null==t?void 0:t.id,n,s,a])})(),l=Object(u.useMemo)((()=>c(n)),[n,c]);return b({setState:t,setAPIState:e,ufoExperience:a.current,searchItemSupplier:l})};var P=r("sEfC"),v=r.n(P),O=r("Y+p1"),E=r.n(O);const j=({debounceTime:e,query:t,analyticsInfo:n,filters:s,workspaces:a,sectionIds:c,isDisplayed:l,postQueryItemSupplier:o,setPostQueryItems:i,setPostQueryAPIState:d,preventDebouncedSearch:p})=>{const b=Object(u.useRef)(l),y=Object(u.useRef)(void 0),f=Object(u.useRef)(s),[m,h,S]=(({debounceTime:e})=>{const[t,r]=Object(u.useState)(!1),n=Object(u.useMemo)((()=>v()((()=>{r(!0)}),e)),[e,r]);return[t,r,n]})({debounceTime:e});x({query:t,filters:s,setPostQueryAPIState:d,isDisplayed:l}),R({query:t,filters:s,setPostQueryItems:i,setPostQueryAPIState:d,isDisplayed:l,debouncedSetter:S,sectionIds:c}),Object(u.useEffect)((()=>{const e=t!==y.current,u=!E()(f.current,s),i=!1===b.current&&l;p&&t&&l?(e&&(y.current=t,
d(r("xGY4").a.Typing)),(i||u)&&(f.current=s,o({query:t,filters:s,analyticsInfo:n,sectionIds:c,workspaces:a}).catch((e=>{})))):(m||i)&&t&&l&&c&&(e||u||i)&&(y.current=t,f.current=s,o({query:t,filters:s,analyticsInfo:n,sectionIds:c,workspaces:a}).catch((e=>{})),h(!1)),b.current=l,t||(y.current="")}),[m,h,o,c,t,n,s,l,a,p,d])},R=({query:e,filters:t,isDisplayed:n,setPostQueryItems:s,setPostQueryAPIState:a,debouncedSetter:c,sectionIds:l,preventDebouncedSearch:o})=>{const i=Object(u.useRef)(e),d=Object(u.useRef)(t);Object(u.useEffect)((()=>{(i.current!==e||!E()(d.current,t))&&e&&n&&l&&l.length>0&&(s(r("tQiX").a),a(o?r("xGY4").a.Typing:r("xGY4").a.Loading),c()),i.current=e,d.current=t}),[e,n,l,s,a,c,i,t,d,o])},x=({query:e,isDisplayed:t,setPostQueryAPIState:n,preventDebouncedSearch:s})=>{const a=Object(u.useRef)(e);Object(u.useEffect)((()=>{""===e&&t&&""!==a.current&&n(s?r("xGY4").a.Typing:r("xGY4").a.Loading),a.current=e}),[e,t,n,a,s])
},C=({id:e,debounceTime:t,query:n,analyticsInfo:s,filters:a,isPrefetchingEnabled:c,workspaces:l,onRetry:o,preQueryItemSupplier:i,postQueryItemSupplier:d,setPostQueryItems:p,setPostQueryAPIState:b})=>{const{getProduct:y}=Object(r("beQG").b)(),f=y(e),m=(null==f?void 0:f.isDisplayed)||!1,h=Object(u.useMemo)((()=>(null==f?void 0:f.sectionIds)||[]),[f]),S=!(null==f||!f.showSearchOnEnter),I=null==f?void 0:f.invokePostQuerySearchRef,g=Object(u.useCallback)((()=>{d({query:n,filters:a,analyticsInfo:s,sectionIds:h,workspaces:l}).catch((e=>{}))}),[s,a,d,n,h,l]);I&&(I.current=g),j({isDisplayed:m,debounceTime:t,postQueryItemSupplier:d,query:n,analyticsInfo:s,filters:a,sectionIds:h,setPostQueryItems:p,setPostQueryAPIState:b,workspaces:l,preventDebouncedSearch:!!S}),(({query:e,isPrefetchingEnabled:t,sectionIds:r,preQueryItemSupplier:n,isDisplayed:s,workspaces:a})=>{Object(u.useEffect)((()=>{""===e&&(!0===t||!0===s)&&r&&r.length>0&&n({sectionIds:r,workspaces:a}).catch((e=>{}))}),[t,s,r,n,e,a])})({
isDisplayed:m,preQueryItemSupplier:i,query:n,sectionIds:h,isPrefetchingEnabled:c,workspaces:l});const Q=(({preQueryItemSupplier:e,onRetry:t,sectionIds:r,workspaces:n})=>Object(u.useCallback)((()=>{e({sectionIds:r,workspaces:n}),null==t||t()}),[t,e,r,n]))({preQueryItemSupplier:i,onRetry:o,sectionIds:h,isDisplayed:m,workspaces:l}),P=(({postQueryItemSupplier:e,onRetry:t,query:r,analyticsInfo:n,filters:s,sectionIds:a,workspaces:c})=>Object(u.useCallback)((()=>{e({query:r,analyticsInfo:n,sectionIds:a,filters:s,workspaces:c}),null==t||t()}),[t,e,a,r,n,s,c]))({postQueryItemSupplier:d,onRetry:o,query:n,analyticsInfo:s,filters:a,sectionIds:h,isDisplayed:m,workspaces:l});return{onRetryPreQuery:Q,onRetryPostQuery:P}},k={preQuery:{[r("xGY4").a.Typing]:r("xGY4").b.Invalid,[r("xGY4").a.Error]:r("xGY4").b.PreQueryError,[r("xGY4").a.Loading]:r("xGY4").b.PreQueryLoading,[r("xGY4").a.NoResult]:r("xGY4").b.PreQueryNoResult,[r("xGY4").a.Success]:r("xGY4").b.PreQuerySuccess},postQuery:{
[r("xGY4").a.Typing]:r("xGY4").b.PostQueryTyping,[r("xGY4").a.Error]:r("xGY4").b.PostQueryError,[r("xGY4").a.Loading]:r("xGY4").b.PostQueryLoading,[r("xGY4").a.NoResult]:r("xGY4").b.PostQueryNoResult,[r("xGY4").a.Success]:r("xGY4").b.PostQuerySuccess}},G=({setPreQueryItems:e,setPostQueryItems:t,preQueryItemSupplier:n,postQueryItemSupplier:s,id:a,isPrefetchingEnabled:c=!1,debounceTime:l=250,onRetry:o,workspaces:i})=>{const{query:d,queryVersion:p}=Object(r("I8Iw").b)(),y=Object(r("/4eM").c)(),f=(e=>{const{filterDefinitions:t}=Object(r("Q8fx").b)();let n=[];const s=t[e];return void 0!==s&&s.forEach((e=>{if(e.mapSelectionToAppliedValue){const t=e.mapSelectionToAppliedValue();t&&n.push(t)}else{let t=e.store.availableFilters.filter((e=>e.isChecked)).map((e=>e.id));"sites"===e["@type"]&&0===t.length&&(t=e.store.availableFilters.slice(0,3).map((e=>e.id))),t.length>0&&n.push({"@type":e["@type"],[e.fieldName]:t})}})),n
})(a),[m,h]=Object(u.useState)(r("xGY4").a.Loading),[S,I]=Object(u.useState)(r("xGY4").a.Loading),g=(({preQueryItemSupplier:e,setAPIState:t,setState:n,id:s})=>{const[a]=Object(u.useState)(new(r("Jko9").a)(e)),c=Object(u.useCallback)((e=>a.getAsync(e).value),[a]),l=Object(u.useRef)(new(r("6uMD").a)(`${s}-pre-query-results-load`,{type:r("DRbF").b.Experience,performanceType:r("DRbF").a.InlineResult,platform:{component:r("UPCV").a}}));return b({setState:n,setAPIState:t,searchItemSupplier:c,ufoExperience:l.current})})({setAPIState:h,preQueryItemSupplier:n,setState:e,id:a}),P=Q({setAPIState:I,setState:t,postQueryItemSupplier:s,id:a}),{onRetryPreQuery:v,onRetryPostQuery:O}=C({id:a,query:d,analyticsInfo:{queryVersion:p,searchSessionId:y},filters:f,isPrefetchingEnabled:c,preQueryItemSupplier:g,postQueryItemSupplier:P,debounceTime:l,setPostQueryItems:t,onRetry:o,setPostQueryAPIState:I,workspaces:i});let E;return E=""!==d?k.postQuery[S]:k.preQuery[m],{state:E,onRetryPreQuery:v,onRetryPostQuery:O}
};var Y=r("HsY8");const w=["retainHeight","children"],L=e=>{let{retainHeight:t,children:r}=e,n=c()(e,w);const s=Object(u.useRef)(void 0),a=Object(u.useRef)(null);if(t){var l,d;const e=null===(l=a.current)||void 0===l||null===(d=l.getBoundingClientRect())||void 0===d?void 0:d.height;s.current=e}Object(u.useEffect)((()=>{var e,t;const r=null===(e=a.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.height;s.current=r}),[]);const p=t&&s.current;return i.a.createElement(Y.q,o()({shouldFixMinimumHeight:p,minimumHeight:s.current,ref:a},n),r)};var q=r("NluS"),D=r.n(q);const A=({filterType:e,store:t,loadFilterOptions:n,sectionLabel:s,findMoreLabel:a,maxSelectable:c,filterConfig:l})=>{var o
;const{formatMessage:d}=Object(r("3NU0").a)(),{fireAnalyticsEvent:p}=Object(r("0VsR").a)(),{availableFilters:b,updateFilter:y,addFilters:f,isLoading:m}=t,h=(null==l?void 0:l.usePreloadedOptions)||!1,S=!(null!=l&&l.hideIcon),I=(null==l?void 0:l.filterOptionIconShape)||"square",g=b.map((e=>({label:i.a.createElement(r("Zv/Q").a,{label:e.label,iconProps:{src:e.avatarUrl,appearance:null==l?void 0:l.filterOptionIconShape}}),value:e}))),Q=g.filter((e=>e.value.isVisible)),P=Object(u.useCallback)(((e,t,r)=>{y(e,r)}),[y]),v=Object(u.useCallback)((({value:t})=>{f([t]),y(t.id,!0),p(Object(r("RWDu").j)({filterId:t.id,filterSource:r("diJP").a.EXTERNAL,filterType:e}))}),[f,y,p,e]),O=D()((e=>n(e)),250),E=Object(u.useCallback)((({avatarUrl:e,name:t})=>{if(S)return i.a.createElement(r("1JKq").a,{borderColor:"transparent",src:e,appearance:I,size:"small",name:t})
}),[S,I]),j=b.filter((e=>e.isChecked)),R=g.filter((e=>!e.value.isVisible)),x=e=>Promise.resolve(R.filter((t=>-1!==t.value.label.indexOf(e.trim().toLowerCase())))),C=!!c&&j.length===c,k=(t=!1)=>Q.map((({value:n})=>{var s;return i.a.createElement(r("kXLL").a,{value:n.id,filterType:e,icon:E(n),label:n.label,onChange:P,isChecked:n.isChecked,filterSource:n.filterSource,isDisabled:C&&!n.isChecked,variant:Y.m.CHECKBOX,LabelComponent:null!==(s=null==l?void 0:l.labelComponent)&&void 0!==s?s:t?Y.e:Y.g})})),G=()=>!(h&&0===R.length)&&i.a.createElement(Y.h,{placeholderText:a,addFilter:v,defaultOptions:R||[],loadOptions:h?x:O,buttonText:d(r("SM7q").a.show_more_filters),filterComponent:Y.a,loadingMessage:()=>d(r("SM7q").a.loading_filters),noOptionsMessage:()=>d(r("SM7q").a.no_options_filters),isDisabled:C});return i.a.createElement(i.a.Fragment,null,(!(null!=l&&l.filterGroupedBy)||"column"===(null==l?void 0:l.filterGroupedBy))&&i.a.createElement(Y.c,{title:s,isLoading:m,
avatarShape:null!==(o=null==l?void 0:l.filterOptionIconShape)&&void 0!==o?o:"circle"},k(!0),G()),"row"===(null==l?void 0:l.filterGroupedBy)&&i.a.createElement(Y.t,{title:s,isLoading:!1},k(!1),G()))},T=Object(u.lazy)((()=>r.e("@atlaskit-internal_product-search-dialog/async-chunk/feedback-collector").then(r.bind(null,"pmbL"))));var F=()=>i.a.createElement(u.Suspense,{fallback:i.a.createElement(r("1JDK").a,{onClick:()=>{}})},i.a.createElement(T,null));const M=i.a.lazy((()=>r.e("@atlaskit-internal_@atlassian/product-search-dialog/async-chunk/static-select-filter").then(r.bind(null,"bQAo")).then((({StaticSelectFilter:e})=>({default:e}))))),V=({productState:e})=>{var t;const{query:n}=Object(r("I8Iw").b)(),{resetSearchSession:a}=Object(r("wjCP").b)(),{getActiveProduct:c}=Object(r("beQG").b)(),l=c(),d=null==l?void 0:l.id,p=Object(r("qfuu").d)(),b=Object(r("qfuu").a)(),y=p.find((e=>e["@type"]===r("H38n").c));y&&(y.filterConfig=s()(s()({},y.filterConfig),{},{hideIcon:!0,usePreloadedOptions:!0}))
;const f=p.filter((e=>e["@type"]!==r("H38n").c));if(!d||!p.length)return null;const m=(null==l||null===(t=l.generateAdvancedSearchUrl)||void 0===t?void 0:t.call(l,n))||"",h=!(null==l||!l.showViewAllFiltersLink);switch(e){case r("xGY4").b.PostQueryTyping:case r("xGY4").b.PostQueryLoading:case r("xGY4").b.PostQuerySuccess:case r("xGY4").b.PostQueryNoResult:case r("xGY4").b.PostQueryError:return i.a.createElement(Y.I,null,!!y&&i.a.createElement(A,o()({filterType:y["@type"]},y,{maxSelectable:5})),f.map((e=>e.uiVariant===r("H38n").b.STATIC_SELECT?i.a.createElement(u.Suspense,{fallback:null},i.a.createElement(M,{filterType:e["@type"],filterStore:e.store,sectionTitle:e.sectionLabel})):i.a.createElement(A,o()({filterType:e["@type"]},e)))),!y&&h&&i.a.createElement(r("bpEK").a,{isLoading:!1,href:m,query:n,selectedFiltersCount:b,onClick:a}),i.a.createElement(r("Li/U").a,null,i.a.createElement(F,null)));default:return null}
},_=i.a.lazy((()=>r.e("@atlaskit-internal_@atlassian/search-ai").then(r.bind(null,"y86U")).then((({SearchAIAnswer:e})=>({default:e}))))),N=()=>{var e;const{query:t}=Object(r("I8Iw").b)(),n=Object(r("fmnO").c)().getAggregatorConfig().cloudId,{getActiveProduct:s}=Object(r("beQG").b)(),a=s(),c=Object(r("/4eM").c)(),{user:l}=Object(r("c1HR").b)(),o=null==a||null===(e=a.generateAdvancedSearchUrl)||void 0===e?void 0:e.call(a,t);return null!=a&&a.aiSearchConfig?i.a.createElement(_,{query:t,cloudId:n,getAIAnswer:a.aiSearchConfig.aiSearchQueryFunction,searchSessionId:c,userDetails:l,advancedSearchUrl:o,source:"searchDialog"}):null},H=({productState:e,preQueryItems:t,postQueryItems:n,onRetryPreQuery:s,onRetryPostQuery:a,urlGeneratorForNoResultsScreen:c=(()=>""),preQuerySectionTitleGenerator:l,linkComponent:o,children:d,searchFooterLabel:p,appendQueryParams:b})=>{
const y=Object(r("wz8l").a)(),f=Object(r("qfuu").c)(),{query:m}=Object(r("I8Iw").b)(),{autocorrectionEnabled:h}=Object(r("zw16").e)(),{correction:S}=Object(r("oELr").b)(),I=d&&"function"==typeof d?d({query:m,productState:e,linkComponent:o,preQueryItems:t,postQueryItems:n,onRetryPreQuery:s,onRetryPostQuery:a,urlGeneratorForNoResultsScreen:c,preQuerySectionTitleGenerator:l}):null,g=(null==I?void 0:I.Header)||(()=>i.a.createElement(i.a.Fragment,null)),Q=(null==I?void 0:I.SectionFooter)||(()=>i.a.createElement(i.a.Fragment,null)),P=(null==I?void 0:I.Footer)||(()=>i.a.createElement(r("JjnE").a,{urlGeneratorForNoResultsScreen:c,linkComponent:o,productState:e,searchFooterLabel:p})),v=Object(u.useCallback)((()=>{switch(e){case r("xGY4").b.PostQueryError:return i.a.createElement(r("GPXc").a,{onRetry:a});case r("xGY4").b.PostQueryTyping:return i.a.createElement(r("qJPb").a,{searchItems:n,screen:"cachedResults",forceHideResultCount:!0,linkComponent:o,isCollapsed:f||y,
productState:r("xGY4").b.PostQueryTyping,appendQueryParams:b});case r("xGY4").b.PostQueryLoading:return i.a.createElement(r("qJPb").a,{searchItems:n,screen:"cachedResults",forceHideResultCount:!0,linkComponent:o,isCollapsed:f||y,productState:r("xGY4").b.PostQueryLoading,appendQueryParams:b},i.a.createElement(r("/lqG").a,null));case r("xGY4").b.PostQueryNoResult:return Object(r("GPJg").a)(n)?i.a.createElement(r("qJPb").a,{searchItems:n,screen:"cachedResults",forceHideResultCount:!0,linkComponent:o,isCollapsed:f||y,productState:r("xGY4").b.PostQueryLoading,appendQueryParams:b}):i.a.createElement(r("uEdj").a,{urlGeneratorForNoResultsScreen:c});case r("xGY4").b.PostQuerySuccess:return i.a.createElement(i.a.Fragment,null,i.a.createElement(r("qJPb").a,{searchItems:n,forceHideResultCount:h&&!!S&&S.length>0,linkComponent:o,screen:"postQuerySearchResults",productState:r("xGY4").b.PostQuerySuccess,isCollapsed:f||y,renderSectionViewAll:!0,appendQueryParams:b}));case r("xGY4").b.PreQueryError:
return i.a.createElement(r("TFtj").a,null);case r("xGY4").b.PreQueryLoading:return i.a.createElement(r("/lqG").a,null);case r("xGY4").b.PreQueryNoResult:return i.a.createElement(r("tCXd").a,null);case r("xGY4").b.PreQuerySuccess:return i.a.createElement(r("qJPb").a,{searchItems:t,generateSectionTitle:(e,t)=>(null==l?void 0:l(e))||t.formatMessage(r("SM7q").a.recently_viewed_title,{sectionTitle:e.title}),linkComponent:o,screen:"preQuerySearchResults",forceHideResultCount:!0,productState:r("xGY4").b.PreQuerySuccess,isCollapsed:y,appendQueryParams:b})}}),[S,h,e,t,n,o,a,l,c,f,y,b]),O=Object(u.useMemo)((()=>I&&I.Body&&void 0!==(null==I?void 0:I.Body())?I.Body:v),[I,v]),E=e===r("xGY4").b.PostQueryLoading||e===r("xGY4").b.PreQueryLoading;return i.a.createElement(L,{retainHeight:E
},i.a.createElement(g,null),i.a.createElement(Y.z,null,i.a.createElement(Y.o,null,i.a.createElement(Y.n,null,(e===r("xGY4").b.PostQuerySuccess||e===r("xGY4").b.PostQueryLoading)&&i.a.createElement(N,null),O()),i.a.createElement(Q,null)),f&&i.a.createElement(V,{productState:e})),i.a.createElement(P,null))};var z=({productState:e,preQueryItems:t,postQueryItems:n,children:s})=>((e=>{const{setAdditionalAnalyticsContext:t}=Object(r("I8Iw").b)();Object(u.useEffect)((()=>{const n=e===r("xGY4").b.PreQueryLoading||e===r("xGY4").b.PostQueryLoading;t({type:"isLoading",value:n})}),[e,t])})(e),((e,t,r)=>{g(e,f,t),g(e,m,r)})(e,t,n),i.a.createElement(i.a.Fragment,null,s)),U=r("qPyV"),J=r.n(U);const B=({postQueryItems:e,preQueryItems:t,children:n})=>{const{query:a}=Object(r("I8Iw").b)(),c=Object(r("qfuu").b)(),l=Object(u.useMemo)((()=>((e,t,r=3)=>{if(!e.sections[0])return e;const n=e.sections[0].searchResults.filter((e=>e.title.toLowerCase().includes(t.toLowerCase()))).slice(0,r);return{size:n.length,
sections:[s()(s()({},e.sections[0]),{},{searchResults:n})]}})(t,a,c?0:3)),[t,a,c]),o=Object(u.useMemo)((()=>e?((e,t)=>{var r,n;if(!e.sections[0]||0===(null===(r=e.sections[0])||void 0===r?void 0:r.searchResults.length))return t;if(!t.sections[0]||0===(null===(n=t.sections[0])||void 0===n?void 0:n.searchResults.length))return e;const a=[...e.sections[0].searchResults.map((e=>s()(s()({},e),{},{isRecentResult:!0}))),...t.sections[0].searchResults],c=J()(a,(e=>e.id)),l=[s()(s()({},t.sections[0]),{},{searchResults:c})];return{size:l.reduce(((e,t)=>e+t.searchResults.length),0),sections:l}})(l,e):l),[l,e]);return n({searchItems:{size:o.size,sections:o.sections.length>0?[o.sections[0]]:[]}})},W=["id","children"],X=["children","id","PLS_DONT_USE_skipDefaultStateManagement"],K=e=>{let{id:t,children:n}=e,a=c()(e,W);const[l,d]=Object(u.useState)(r("tQiX").a),[p,b]=Object(u.useState)(r("tQiX").a),{state:y,onRetryPreQuery:f,onRetryPostQuery:m}=G(s()({id:t,setPreQueryItems:d,setPostQueryItems:b},a))
;return i.a.createElement(r("Sqx2").a,{id:t},i.a.createElement(B,{postQueryItems:p,preQueryItems:l},(({searchItems:e})=>{const t={sections:[...e.sections,...p.sections.slice(1)],size:p.size};return i.a.createElement(z,{postQueryItems:t,preQueryItems:l,productState:y},i.a.createElement(H,o()({},a,{preQueryItems:l,postQueryItems:t,productState:y,onRetryPreQuery:f,onRetryPostQuery:m}),n))})))},Z=({children:e,isPrefetchingEnabled:t,preQueryItemSupplier:r})=>(Object(u.useEffect)((()=>{t&&r({sectionIds:[]})}),[t,r]),i.a.createElement(i.a.Fragment,null,e)),$=e=>{let{children:t,id:n,PLS_DONT_USE_skipDefaultStateManagement:s}=e,a=c()(e,X);return i.a.createElement(i.a.Fragment,null,s?i.a.createElement(Z,{isPrefetchingEnabled:a.isPrefetchingEnabled,preQueryItemSupplier:a.preQueryItemSupplier},i.a.createElement(r("Sqx2").a,{id:n}," ",t," ")):i.a.createElement(K,o()({id:n},a),t))}},"Li/U":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("DZdY");const s=Object(n.a)("div",{
target:"e1hsvgsq0"})({name:"141x1ar",styles:"padding-top:var(--ds-space-300, 24px);padding-bottom:var(--ds-space-300, 24px)"})},bpEK:function(e,t,r){"use strict";var n=r("QILm"),s=r.n(n),a=r("pVnL"),c=r.n(a),l=r("q1tI"),o=r.n(l),u=r("DZdY"),i=r("HsY8");const d=Object(u.a)(i.l,{target:"e1ejhb1b0"})("display:block;text-align:center;border-radius:3px;color:","var(--ds-text-subtle, #42526E)",";cursor:pointer;padding:var(--ds-space-075, 6px);background-color:","var(--ds-background-neutral, #F4F5F7)",";transition:background 0.1s ease-out,box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);&:hover{color:","var(--ds-text-subtle, #42526E)",";background-color:","var(--ds-background-neutral-hovered, #EBECF0)",";text-decoration:none;transition:background 0s ease-out,box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);}:visited{color:","var(--ds-text-subtle, #42526E)",";}"),p=["linkComponent","href","selectedFiltersCount","isLoading","onClick"];t.a=e=>{
let{linkComponent:t,href:n,selectedFiltersCount:a,isLoading:u,onClick:i}=e,b=s()(e,p);const{fireAnalyticsEvent:y}=Object(r("0VsR").a)(),f=Object(l.useCallback)((e=>{const t=Object(r("Qg+c").a)(e);null==i||i(),y(Object(r("RWDu").p)({trigger:t,selectedFiltersCount:a}))}),[y,a,i]);return u?null:o.a.createElement(d,c()({},b,{linkComponent:t,href:n,onClick:f}),o.a.createElement(r("3e7Q").a,r("SM7q").a.more_filters))}},kXLL:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r("QILm"),s=r.n(n),a=r("pVnL"),c=r.n(a),l=r("q1tI"),o=r.n(l),u=r("HsY8");const i=["onChange","filterType","filterSource","isDisabled","smartValue","allOptions","collabGraphSessionId","variant"],d=e=>{let{onChange:t,filterType:n,filterSource:a,isDisabled:d=!1,smartValue:p,allOptions:b,collabGraphSessionId:y="",variant:f}=e,m=s()(e,i);const{fireAnalyticsEvent:h}=Object(r("0VsR").a)(),S=Object(l.useCallback)(((e,s)=>{s?(h(Object(r("RWDu").j)({filterId:e,filterSource:a,filterType:n})),
p&&b&&h(Object(r("RWDu").K)(p,b,"quickSearch",y))):h(Object(r("RWDu").k)({filterId:e,filterSource:a,filterType:n})),null==t||t(e,n,s)}),[t,n,h,a,p,b,y]);return o.a.createElement(u.f,c()({},m,{onChange:S,isDisabled:d,variant:f}))}},qfuu:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return s})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return c}));const n=()=>{var e;const{getActiveProduct:t}=Object(r("beQG").b)(),n=t(),{filterDefinitions:s}=Object(r("Q8fx").b)();return!!(n&&(null===(e=s[n.id])||void 0===e?void 0:e.length)>0)},s=()=>{const{getActiveProduct:e}=Object(r("beQG").b)(),t=e(),{filterDefinitions:n}=Object(r("Q8fx").b)();return t&&n[t.id]||[]},a=()=>{const e=s();let t=!1;return e.forEach((e=>{e.store.availableFilters.forEach((e=>{e.isChecked&&"default"!==e.id&&(t=!0)}))})),t},c=()=>s().filter((e=>"sites"!==e["@type"])).reduce(((e,t)=>t.store.availableFilters.filter((e=>e.isChecked)).length+e),0)},wz8l:function(e,t,r){
"use strict";r.d(t,"a",(function(){return s}));var n=r("HsY8");const s=()=>window.innerWidth<=n.L}}]);try{window.__jsEvalStop("result-provider.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/@atlaskit-internal_@atlassian/product-search-dialog/extensible/async/result-provider.9ddcc89b179198a85097.8.js.map