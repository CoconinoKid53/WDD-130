"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3770],{17116:(e,t,i)=>{i.d(t,{E:()=>o});var o=200},30719:(e,t,i)=>{i.d(t,{m:()=>s});var o=i(84582),r=i(2784);class s extends r.Component{componentDidCatch(e,t){(0,o.u)(e,t)}render(){const{children:e}=this.props;return e}}},95306:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(2784),r=i(71859);const s=({isRequired:e})=>o.createElement(o.Fragment,null,e&&o.createElement(r.Lt,null,"*"))},54630:(e,t,i)=>{i.d(t,{Z:()=>n});var o=i(2784),r=i(82740),s=i(95036);const a=r.default.label`
    font-size: 0.857em;
    font-style: inherit;
    line-height: 1.333;
    color:${s.iw};
    font-weight: 600;
    margin: 16px 0 4px 0;
    display: inline-block;
    text-transform: capitalize;
`,n=({children:e,testId:t})=>o.createElement(a,{"data-testId":t},e)},85454:(e,t,i)=>{i.d(t,{Z:()=>l});var o=i(5163),r=i(2784),s=i(57835),a=i(95306),n=i(54630);const l=e=>{var{id:t="",children:i,label:l="",isRequired:d=!1,isInvalid:u=!1,invalidMessage:c="",testId:h,labelTestId:p,helperMessage:b=""}=e,g=(0,o._T)(e,["id","children","label","isRequired","isInvalid","invalidMessage","testId","labelTestId","helperMessage"]);return r.createElement(r.Fragment,null,l&&r.createElement(n.Z,{testId:p},l,r.createElement(a.Z,{isRequired:d})),r.createElement("div",{"data-testid":h},(0,r.cloneElement)(i,Object.assign(Object.assign({},g),{isInvalid:u}))),u&&r.createElement(s.Bc,null,c),b&&!u?r.createElement(s.W3,null,b):null)}},84582:(e,t,i)=>{i.d(t,{b:()=>n,u:()=>a});var o=i(64336);const r="/error-report",s=`${r}/rest`,a=(e,t)=>{const i=e.stack,s=t.componentStack;o.Z.post(`${r}/react`,{stack:i,componentStack:s,location:window.location.hash})};function n(e,t,i,a){[e.includes(s),e.includes(r),e.includes("api/internal/test-case")&&t.includes("404"),e.includes("/attachments")&&"0"===(null==i?void 0:i.toString())].includes(!0)||o.Z.post(s,{requestUrl:e,status:i,responseBody:t,stack:a,location:window.location.hash})}},61072:(e,t,i)=>{i.d(t,{KB:()=>s,T2:()=>o,fv:()=>r});const o="defects",r="testCases",s="testExecutions"},30225:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(64336),r=i(11669);const s=(e,t)=>r.Z.postAttachment(`/issue/${t}/attachments`,e),a={cloneAttachment:({baseIssueId:e,attachmentId:t,createdIssueId:i,mimeType:r,filename:a})=>o.Z.getBlobFile(`/proxy/attachment/${e}/${t}`).then((e=>{const t=new File([e.data],a,{type:r});return s(t,i)})),doUpload:s,getAttachmentById:e=>r.Z.get(`/attachment/${e}`).then((({data:e})=>e)),getAttachmentMeta:()=>r.Z.get("/attachment/meta").then((({data:e})=>e))}},69258:(e,t,i)=>{i.d(t,{Z:()=>r});var o=i(11669);const r={getFilteredProjects:e=>o.Z.get(`/project/search?query=${e}`).then((e=>e.data.values)),getPrioritySchemeByProject:function(){return new Promise((e=>{e({data:{optionIds:[],defaultOptionId:3}})}))}}},26082:(e,t,i)=>{i.d(t,{$:()=>l});var o=i(5163),r=i(9838),s=i(11669);const a=e=>s.Z.post("/search",e),n=(e,t)=>Object.assign(Object.assign({},e),{startAt:t});function l({jql:e,fields:t=[],maxResults:i=r.IV,offset:o=0,properties:s=[],validateTotalRequest:a=!1,expand:n=[],maxNumberOfIssues:l=500}){return d({jql:e,fields:t,properties:s,expand:n,maxResults:i},a,o,l)}const d=(e,t,i,r)=>(0,o.mG)(void 0,void 0,void 0,(function*(){let o=i;const s=[],l=n(e,o),{data:{total:d,maxResults:u,issues:c}}=yield a(l);if(c.length>0&&d>r&&t)return Promise.reject(new Error("Too many requests"));if(c.length>=r)return{issues:c,total:d};for(;d>o+u;)o+=u,s.push(a(n(e,o)));const h=yield Promise.all(s);return{issues:c.concat(h.flatMap((({data:e})=>e.issues))),total:d}}))},6733:(e,t,i)=>{i.d(t,{Z:()=>s});var o=i(11669),r=i(64336);const s={getEditMeta:e=>o.Z.get(`/issue/${e}/editmeta`).then((({data:e})=>e)),getFieldsOrder:e=>r.Z.get(`/fields/project/${e}/order`),getFieldsOnViewScreen:e=>r.Z.get(`/fields/project/${e}/view`).then((({data:e})=>e))}},90853:(e,t,i)=>{i.d(t,{Z:()=>r});var o=i(64336);const r={migrateTCSteps:e=>o.Z.put(`/migration/${e}`),getTCGroups:e=>o.Z.get(`/test-case/${e}`),updateTCGroups:(e,t)=>o.Z.put(`/test-case/${e}/steps`,t),getTCEGroups:(e,t)=>o.Z.get(`/tce/${e}/${t}/newsteps`),changeTCEStepStatus:(e,t)=>o.Z.put(`/execution/steps/status/${e}`,{statusId:t}),changeTCEGroupStatus:(e,t)=>o.Z.put(`/execution/steps/status/group/${e}`,{statusId:t}),changeTCEStepStatuses:(e,t)=>o.Z.put("/execution/steps/status",{statusId:t,stepIds:e}),getStepsConfiguration:e=>o.Z.get(`/steps-configuration/project/${e}`).then((({data:e})=>e)),saveEvidence:(e,t)=>o.Z.put(`/execution/steps/evidence/${e}`,{evidenceId:t}),deleteEvidence:(e,t)=>o.Z.del(`/execution/steps/${e}/evidence/${t}`).then((({data:e})=>e)),changeActualResult:(e,t)=>o.Z.put(`/execution/steps/result/${e}/`,{actualResult:t}),addStepsColumn:(e,t)=>o.Z.post(`/steps-configuration/project/${e}/column`,t),editStepsColumn:(e,t,i)=>o.Z.put(`/steps-configuration/project/${e}/column/${t}/name`,i),fetchStepsColumn:e=>o.Z.get(`/steps-configuration/project/${e}/column`).then((({data:e})=>e)),removeStepsColumn:(e,t)=>o.Z.del(`/steps-configuration/project/${e}/column/${t}`),updateColumnOrdinal:(e,t,i)=>o.Z.put(`/steps-configuration/project/${e}/column/${t}/ordinal`,i),setDefaultStatus:(e,t)=>o.Z.post(`/steps-configuration/project/${e}/status/default`,{stepStatusId:t}),fetchStatuses:e=>o.Z.get(`/steps-configuration/project/${e}/status`).then((({data:e})=>e)),addStatus:(e,t)=>o.Z.post(`/steps-configuration/project/${e}/status`,t),editStatus:(e,t,i)=>o.Z.put(`/steps-configuration/project/${e}/status/${t}`,i),removeStatus:(e,t)=>o.Z.del(`/steps-configuration/project/${e}/status/${t}`),cloneSteps:(e,t,i,r)=>o.Z.put(`/${e}/test-case/${t}/steps/${i}/clone`,r),cloneStepsBulk:(e,t,i)=>o.Z.put("/test-case/steps/clone/bulk",{projectId:e,issues:t,attachmentSwapMap:i}),saveDefect:(e,t)=>o.Z.put(`/execution/steps/defect/${e}`,{defectId:t}),unlinkDefect:(e,t)=>o.Z.del(`/execution/steps/defect/${e}/${t}`),getTestCases:e=>o.Z.get(`/test-case/ids/project/${e}`),getLinkedTCGroups:e=>o.Z.get(`/test-case/${e}/linkedGroup`),rollbackToOldSteps:e=>o.Z.put(`/migration/rollback/${e}`),hasTCStepsToMigrate:e=>o.Z.get(`/migration/${e}`),bulkMigrateTCSteps:e=>o.Z.put(`/migration/${e}/bulk`)}},82968:(e,t,i)=>{i.d(t,{Z:()=>a});var o=i(5163),r=i(80075);class s{constructor(){Object.defineProperty(this,"showLeaveGuardModal",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"leaveGuardCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showDeleteModal",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"deleteModalCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"deleteModalMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isFormDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"setIsFormDirty",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.isFormDirty=e}}),Object.defineProperty(this,"openLeaveGuardModal",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.leaveGuardCallback=()=>{e(),this.isFormDirty=!1,this.showLeaveGuardModal=!1},this.showLeaveGuardModal=!0}}),Object.defineProperty(this,"hideLeaveGuardModal",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.showLeaveGuardModal=!1}}),Object.defineProperty(this,"openDeleteModal",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,i)=>{this.deleteModalCallback=()=>{e(),this.showDeleteModal=!1},this.deleteModalMessages={bodyMsg:i,headerMsg:t},this.showDeleteModal=!0}}),Object.defineProperty(this,"hideDeleteModal",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.showDeleteModal=!1}}),(0,r.rC)(this)}}(0,o.gn)([r.LO],s.prototype,"showLeaveGuardModal",void 0),(0,o.gn)([r.LO],s.prototype,"leaveGuardCallback",void 0),(0,o.gn)([r.LO],s.prototype,"showDeleteModal",void 0),(0,o.gn)([r.LO],s.prototype,"deleteModalCallback",void 0),(0,o.gn)([r.LO],s.prototype,"deleteModalMessages",void 0),(0,o.gn)([r.LO],s.prototype,"isFormDirty",void 0),(0,o.gn)([r.aD],s.prototype,"setIsFormDirty",void 0),(0,o.gn)([r.aD],s.prototype,"openLeaveGuardModal",void 0),(0,o.gn)([r.aD],s.prototype,"hideLeaveGuardModal",void 0),(0,o.gn)([r.aD],s.prototype,"openDeleteModal",void 0),(0,o.gn)([r.aD],s.prototype,"hideDeleteModal",void 0);const a=s},68269:(e,t,i)=>{i.d(t,{Z:()=>S});var o=i(5163),r=i(80075),s=i(20099),a=i.n(s),n=i(3772),l=i(39351),d=i(61072),u=i(22541),c=i(92170),h=i(56530),p=i(62379),b=i(9927);const g=(e,t,i,o)=>{if("ROOT"===o||"FOLDER"===o)return t===u.u.LIST?b.g.view(e).folderListViewLink(i):b.g.view(e).folderLink(i);if(o===u.$.ISSUE)return t===u.u.LIST?b.g.view(e).issueListViewLink(i):b.g.view(e).issueLink(i);throw new Error(`not supported nodeType: ${o}`)};const f=class{constructor(){Object.defineProperty(this,"atlassianAccountId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"propertyKey",{enumerable:!0,configurable:!0,writable:!0,value:`${p.M}_user_navigation_settings`}),Object.defineProperty(this,"navigationSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:()=>(0,o.mG)(this,void 0,void 0,(function*(){this.atlassianAccountId=yield new Promise((e=>{window.AP.getCurrentUser((({atlassianAccountId:t})=>{e(t)}))})),this.getUserSettings().then((e=>{this.navigationSettings=e.value}))}))}),Object.defineProperty(this,"getLastTreeLocation",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,i,o)=>{const r=this.navigationSettings.lastTreeLocation[t];if(r&&o(r.nodeId)){const t=g(e,r.viewMode,r.nodeId,r.nodeType);if(t)return t}return b.g.view(e).folderLink(i)}}),Object.defineProperty(this,"saveNodeLocation",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{this.getUserSettings().then((e=>e.value)).then((i=>{const o=this.updateSettings(i,e,t);h.Z.setUserProperty(this.atlassianAccountId,this.propertyKey,o).then((()=>{this.navigationSettings=o}))}))}})}updateSettings(e,t,i){const o=e.lastTreeLocation;return o[t.treeId.toString()]={nodeId:t.id,nodeType:t.type,viewMode:i},Object.assign(Object.assign({},e),{lastTreeLocation:o})}getUserSettings(){return h.Z.getUserProperty(this.atlassianAccountId,this.propertyKey).catch((()=>({value:{lastTreeLocation:{}}})))}};var v=i(16060);const m=a()("/:view/:nodeType/:nodeId",[],{end:!1}),y=a()("/:view/:nodeType/:nodeId/:tabId",[],{end:!1}),w=a()("/:view/:nodeType/:nodeId/:tabId/tce/:tceId",[],{end:!1}),T=e=>{var t,i;const o=null!==(t=w.exec(e))&&void 0!==t?t:null!==(i=y.exec(e))&&void 0!==i?i:m.exec(e);return o?{view:o[1],nodeType:o.length>2?o[2]:null,nodeId:o.length>3?+o[3]:null,tabId:o.length>4?+o[4]:null,tceId:o.length>5?o[5]:null}:{view:"",nodeType:"",nodeId:null,tabId:null,tceId:null}};var P=i(61659),O=i(60770);class j{constructor(e,t){Object.defineProperty(this,"navigationUserSettingsStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"navigate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dialogStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"treeCollectionStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"treeStore",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"selectedPath",{enumerable:!0,configurable:!0,writable:!0,value:b.g.dashboard.link}),Object.defineProperty(this,"selectedNode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"locationSearch",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"historyState",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setRootNode",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.selectedNode=this.treeStore.rootNode}}),Object.defineProperty(this,"selectAndSaveNode",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.navigateToNode(e),this.navigationUserSettingsStore.saveNodeLocation(e,this.getViewMode())}}),Object.defineProperty(this,"onHistoryUpdate",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.historyState=e,this.setLocation(e.location.pathname,e.location.search)}}),Object.defineProperty(this,"setLocation",{enumerable:!0,configurable:!0,writable:!0,value:(e,t=null)=>{this.locationSearch=t,this.onSelectedPathChanged(e)}}),Object.defineProperty(this,"goToDashboard",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.navigateTo(b.g.dashboard.link)}}),Object.defineProperty(this,"goToIssueOnCurrentTree",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.goToIssueOnTree(e,this.viewName)}}),Object.defineProperty(this,"goToIssueOnTree",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{const i=this.treeCollectionStore.getTreeByViewName(t);if(i){const o=null==i?void 0:i.findNode((0,P.C$)(e));this.goToNewTabIfNodeIsSelected(o,e,i,t)}else this.goToIssueInNewTab(e)}}),Object.defineProperty(this,"goToParent",{enumerable:!0,configurable:!0,writable:!0,value:()=>{var e;const t=this.treeStore.findParentNode(null===(e=this.selectedNode)||void 0===e?void 0:e.id);this.navigateToNode(t)}}),Object.defineProperty(this,"goTo",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(this.dialogStore.isFormDirty){const t=()=>this.goToPage(e);this.dialogStore.openLeaveGuardModal(t)}else this.goToPage(e)}}),Object.defineProperty(this,"goToTestExecution",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.pushToHistoryWithLeaveGuard(b.g.testExecutions.issues.link(e))}}),Object.defineProperty(this,"goToTestExecutions",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const e=this.treeCollectionStore.testExecutionsTree.treeData[0];this.pushToHistoryWithLeaveGuard(b.g.testExecutions.folders.link(e.id))}}),Object.defineProperty(this,"goToTCE",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{const i=this.findTestExecutionNode(t);this.pushToHistoryWithLeaveGuard(b.g.testExecutions.issues.tce.link(i.id,e)),window.scrollTo(0,0)}}),Object.defineProperty(this,"goToTestPlans",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const e=this.treeCollectionStore.testPlansTree.treeData[0];this.navigateTo(b.g.testPlans.folders.link(e.id))}}),Object.defineProperty(this,"goToRootFolder",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.navigateTo(b.g.view(e).folderLink(this.treeStore.rootNode.id))}}),Object.defineProperty(this,"goToCreatePage",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.pushToHistoryWithLeaveGuard(b.g.view(this.viewName).create)}}),Object.defineProperty(this,"goToImportToTreePage",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.pushToHistoryWithLeaveGuard(b.g.view(this.viewName).importToTree)}}),Object.defineProperty(this,"goToImportFromCSV",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.pushToHistoryWithLeaveGuard(b.g.view(this.viewName).importFromCSV)}}),Object.defineProperty(this,"cancelTo",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(this.dialogStore.isFormDirty){const t=()=>this.cancelToPage(e);this.dialogStore.openLeaveGuardModal(t)}else this.cancelToPage(e)}}),Object.defineProperty(this,"navigateAfterIssueCreate",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(this.selectedNode&&void 0!==this.selectedNode.id&&null!==this.selectedNode.id)switch(this.selectedNode.type){case n.tD:this.navigateTo(b.g.view(e).folderLink(this.selectedNode.id));break;case n.UY:this.goToParent();break;default:this.goToRootFolder(e)}else this.goToRootFolder(e)}}),Object.defineProperty(this,"goToLocation",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.pushToHistoryWithLeaveGuard(e)}}),Object.defineProperty(this,"getIssueUrlByKeyAndTree",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{const i=this.treeCollectionStore.getTreeByViewName(t);if(i){const o=null==i?void 0:i.findNode((0,P.C$)(e));if(o)return`${this.getMainViewUrlWithHash()}${this.linkToSpecificIssuePage(o.id,t)}`}return this.linkToJira(e)}}),Object.defineProperty(this,"getIssueUrlByKey",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var t;const i=null===(t=this.treeStore)||void 0===t?void 0:t.findNode((0,P.C$)(e));return i?`${this.getMainViewUrlWithHash()}${this.linkToIssuePage(i.id)}`:this.linkToJira(e)}}),Object.defineProperty(this,"getTCEUrl",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{const i=this.findTestExecutionNode(t);return this.getMainViewUrlWithHash()+b.g.testExecutions.issues.tce.link(i.id,e)}}),Object.defineProperty(this,"findTestExecutionNode",{enumerable:!0,configurable:!0,writable:!0,value:e=>e?this.treeCollectionStore.testExecutionsTree.findNode((0,P.s1)(e)):this.selectedNode}),Object.defineProperty(this,"getMainViewUrlWithHash",{enumerable:!0,configurable:!0,writable:!0,value:()=>`${(0,c.L2)(O.Z.projectKey)}${l.B8}`}),Object.defineProperty(this,"linkToNode",{enumerable:!0,configurable:!0,writable:!0,value:(e,t=this.viewName,i=this.getViewMode())=>g(t,i,e.id,e.type)}),Object.defineProperty(this,"linkToMainPage",{enumerable:!0,configurable:!0,writable:!0,value:()=>b.g.dashboard.link}),Object.defineProperty(this,"linkToRootPage",{enumerable:!0,configurable:!0,writable:!0,value:()=>{var e;return this.treeStore?this.linkToFolderPage(null===(e=this.treeStore.rootNode)||void 0===e?void 0:e.id):this.linkToViewWithoutTree}}),Object.defineProperty(this,"linkToFolderPage",{enumerable:!0,configurable:!0,writable:!0,value:e=>b.g.view(this.viewName).folderLink(e)}),Object.defineProperty(this,"linkToFolderListViewPage",{enumerable:!0,configurable:!0,writable:!0,value:e=>b.g.view(this.viewName).folderListViewLink(e)}),Object.defineProperty(this,"linkToIssuePage",{enumerable:!0,configurable:!0,writable:!0,value:e=>b.g.view(this.viewName).issueLink(e)}),Object.defineProperty(this,"linkToIssueListViewPage",{enumerable:!0,configurable:!0,writable:!0,value:e=>b.g.view(this.viewName).issueListViewLink(e)}),Object.defineProperty(this,"linkToJira",{enumerable:!0,configurable:!0,writable:!0,value:e=>`${(0,c.ms)()}/browse/${e}`}),Object.defineProperty(this,"navigateTo",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.navigate({pathname:e})}}),Object.defineProperty(this,"pushIfNotSelected",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.selectedPath!==e&&this.navigateTo(e)}}),Object.defineProperty(this,"goToIssueInNewTab",{enumerable:!0,configurable:!0,writable:!0,value:e=>{window.open(this.linkToJira(e),"_blank")}}),Object.defineProperty(this,"goToTab",{enumerable:!0,configurable:!0,writable:!0,value:e=>{let t="/:viewName/issues/:nodeId/:tabId";const i=this.getTceIdFromLocation(),o={viewName:this.viewName,nodeId:this.selectedNode.id,tabId:e,tceId:i};i&&(t+="/tce/:tceId"),this.navigateTo((0,v.Gn)(t,o))}}),Object.defineProperty(this,"getTceIdFromLocation",{enumerable:!0,configurable:!0,writable:!0,value:()=>T(this.selectedPath).tceId}),Object.defineProperty(this,"goToNewTabIfNodeIsSelected",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,i,o)=>{var r;e&&e.id!==(null===(r=this.selectedNode)||void 0===r?void 0:r.id)?this.selectNodeOnView(e,o):this.goToIssueInNewTab(t)}}),Object.defineProperty(this,"selectNodeOnView",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{const i=this.linkToNode(e,t,u.u.DEFAULT),o=()=>{this.pushIfNotSelected(i),this.saveNodeLocation(e,u.u.DEFAULT)};this.dialogStore.isFormDirty?this.dialogStore.openLeaveGuardModal(o):o()}}),Object.defineProperty(this,"navigateToNode",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=()=>this.pushIfNotSelected(this.linkToNode(e));this.dialogStore.isFormDirty?this.dialogStore.openLeaveGuardModal(t):t()}}),Object.defineProperty(this,"extractViewName",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=a()("/:view",[],{end:!1}).exec(e);return t?t[1]:""}}),Object.defineProperty(this,"goToPage",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(this.viewName!==e)if(this.treeCollectionStore.hasTreeForView(e)){const t=this.treeCollectionStore.getTreeByViewName(e),i=this.getLastTreeLocation(e,t);this.selectedPath!==i&&this.navigateTo(i)}else this.navigateTo(`/${e}`)}}),Object.defineProperty(this,"cancelToPage",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(this.treeCollectionStore.hasTreeForView(e)){const t=b.g.view(e).folderLink(this.treeStore.rootNode.id);this.selectedPath!==t&&this.navigateTo(t)}else this.goToDashboard()}}),Object.defineProperty(this,"getViewMode",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.isListView()?u.u.LIST:u.u.DEFAULT}),Object.defineProperty(this,"onSelectedPathChanged",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.selectedPath=e,window.AP.history.replaceState(e);const t=this.extractViewName(e);if(this.treeStore=this.treeCollectionStore.getTreeByViewName(t),this.treeStore){this.treeStore.isViewModeListView=this.getViewMode()===u.u.LIST;const i=T(e).nodeId,o=i?this.treeStore.findNode((0,P.kU)(i)):null;o?(this.selectedNode=o,this.treeStore.expandParents(o.id),window.scrollTo(0,0)):(this.isFolderView()||this.isIssueView())&&this.goToRootFolder(t)}else this.selectedNode=void 0}}),Object.defineProperty(this,"pushToHistoryWithLeaveGuard",{enumerable:!0,configurable:!0,writable:!0,value:e=>{if(this.dialogStore.isFormDirty){const t=()=>this.navigateTo(e);this.dialogStore.openLeaveGuardModal(t)}else this.navigateTo(e)}}),Object.defineProperty(this,"isListView",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.selectedPath&&b.g.util.isListView(this.selectedPath)}),Object.defineProperty(this,"isFolderView",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.selectedPath&&b.g.util.isFolderView(this.selectedPath)}),Object.defineProperty(this,"isIssueView",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.selectedPath&&b.g.util.isIssueView(this.selectedPath)}),Object.defineProperty(this,"linkToSpecificIssuePage",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>b.g.view(t).issueLink(e)}),(0,r.rC)(this),this.treeCollectionStore=e,this.dialogStore=t,this.navigationUserSettingsStore=new f}init(e,t){this.navigate=e,this.historyState=t,this.navigationUserSettingsStore.init()}get isTreeSelected(){return null!==this.treeStore}get isOnCreatePage(){return/create/g.test(this.selectedPath)}get isOnDefectPage(){return this.selectedPath.includes(d.T2)}get isOnRequirementsPage(){return this.selectedPath.includes(l.gR)}get isOnTestExecutionPage(){return this.selectedPath.includes(d.KB)}get isOnTestCasePage(){return this.selectedPath.includes(d.fv)}get viewName(){return this.extractViewName(this.selectedPath)}get isOnTCE(){return a()("/testExecutions/issues/:issueId/:tabId/tce/:tceId",[],{end:!1}).test(this.selectedPath)}get linkToViewWithoutTree(){return this.isOnDefectPage?b.g.defects.link:b.g.dashboard.link}get locationParams(){return T(this.selectedPath)}saveNodeLocation(e,t){this.navigationUserSettingsStore.saveNodeLocation(e,t)}setInitialLocation(){const e=this.formatLegacyLocation(window.AP.history.getState());e&&this.navigateTo(e)}formatLegacyLocation(e){return e.startsWith("//")?e.substring(1,e.length):e}getLastTreeLocation(e,t){return this.navigationUserSettingsStore.getLastTreeLocation(e,t.rootNode.treeId,t.rootNode.id,t.nodeExistsById.bind(t))}}(0,o.gn)([r.LO.ref],j.prototype,"treeStore",void 0),(0,o.gn)([r.LO],j.prototype,"selectedPath",void 0),(0,o.gn)([r.LO],j.prototype,"selectedNode",void 0),(0,o.gn)([r.LO],j.prototype,"locationSearch",void 0),(0,o.gn)([r.LO],j.prototype,"historyState",void 0),(0,o.gn)([r.aD],j.prototype,"init",null),(0,o.gn)([r.Fl],j.prototype,"isTreeSelected",null),(0,o.gn)([r.aD],j.prototype,"setRootNode",void 0),(0,o.gn)([r.aD],j.prototype,"selectAndSaveNode",void 0),(0,o.gn)([r.aD],j.prototype,"onHistoryUpdate",void 0),(0,o.gn)([r.aD],j.prototype,"setLocation",void 0),(0,o.gn)([r.Fl],j.prototype,"isOnCreatePage",null),(0,o.gn)([r.Fl],j.prototype,"isOnDefectPage",null),(0,o.gn)([r.Fl],j.prototype,"isOnRequirementsPage",null),(0,o.gn)([r.Fl],j.prototype,"isOnTestExecutionPage",null),(0,o.gn)([r.Fl],j.prototype,"isOnTestCasePage",null),(0,o.gn)([r.Fl],j.prototype,"viewName",null),(0,o.gn)([r.Fl],j.prototype,"isOnTCE",null),(0,o.gn)([r.Fl],j.prototype,"linkToViewWithoutTree",null),(0,o.gn)([r.Fl],j.prototype,"locationParams",null);const S=j},9927:(e,t,i)=>{i.d(t,{g:()=>o});const o={dashboard:{path:"/",link:"/"},requirements:{path:"/requirements/*",create:{path:"create",link:"/requirements/create"},folders:{path:"folders/:id"},folderListView:{path:"folders-list-view/:id"},issues:{path:"issues/*",link:e=>`/requirements/issues/${e}`},issuesListView:{path:"issues-list-view/:id"},importToTree:{path:"importToTree"}},testCases:{path:"/testCases/*",create:{path:"create",link:"/testCases/create"},folderListView:{path:"folders-list-view/:id"},issuesListView:{path:"issues-list-view/:id"},folders:{path:"folders/:id"},issues:{path:"issues/*"},importToTree:{path:"importToTree"},importFromCSV:{path:"importFromCSV"}},testPlans:{path:"/testPlans/*",create:{path:"create"},folders:{path:"folders/:id",link:e=>`/testPlans/folders/${e}`},issues:{path:"issues/*"},importToTree:{path:"importToTree"}},testExecutions:{path:"/testExecutions/*",folders:{path:"folders/:id",link:e=>`/testExecutions/folders/${e}`},issues:{path:"issues/*",link:e=>`/testExecutions/issues/${e}`,root:{path:"*"},tce:{path:":id/:tabId/tce/:tceId",link:(e,t)=>`/testExecutions/issues/${e}/0/tce/${t}`}},importToTree:{path:"importToTree"}},defects:{path:"/defects/*",link:"/defects",empty:{path:"/"},create:{path:"create"},folders:{path:"folders/:id"},folderListView:{path:"folders-list-view/:id"},issues:{path:"issues/*"},issuesListView:{path:"issues-list-view/:id"},importToTree:{path:"importToTree"}},view:e=>({folderLink:t=>`/${e}/folders/${t}`,folderListViewLink:t=>`/${e}/folders-list-view/${t}`,issueLink:t=>`/${e}/issues/${t}`,issueListViewLink:t=>`/${e}/issues-list-view/${t}`,importFromCSV:`/${e}/importFromCSV`,importToTree:`/${e}/importToTree`,create:`/${e}/create`}),util:{isListView:e=>e.includes("folders-list-view")||e.includes("issues-list-view"),isFolderView:e=>e.includes("folders/"),isIssueView:e=>e.includes("issues/")}}},60770:(e,t,i)=>{i.d(t,{Z:()=>h});var o=i(5163),r=i(80075),s=i(25320),a=i(69283),n=i(90853),l=i(274),d=i(6733),u=i(69258);class c{constructor(){Object.defineProperty(this,"fieldsOrder",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fieldsOnView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configurationLoaded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"projectKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"projectId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fixVersionsLoaded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"priorityDefaultValue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"projectTypeKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stepsConfiguration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"issueTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"prioritySchemeIds",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"stepsStatuses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fixVersions",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"requirementsTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"testCasesTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"testPlansTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"testExecutionsTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defectsTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setProjectName",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.projectName=e}}),Object.defineProperty(this,"setProjectKeyAndId",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{this.projectKey=e,this.projectId=t}}),Object.defineProperty(this,"getPrioritiesByScheme",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const{parsedPriorities:e}=a.default;return this.prioritySchemeIds.length>0?e.filter((e=>this.prioritySchemeIds.includes(e.value))):e}}),Object.defineProperty(this,"getProjectDetails",{enumerable:!0,configurable:!0,writable:!0,value:e=>(this.configurationLoaded=!1,Promise.all([s.Z.getProjectIssueTypes(e),s.Z.getProjectConfiguration(e),s.Z.getAllFields(),u.Z.getPrioritySchemeByProject(),n.Z.getStepsConfiguration(e),d.Z.getFieldsOrder(this.projectId),d.Z.getFieldsOnViewScreen(this.projectId)]).then((0,r.aD)("get project details",(([e,t,i,o,r,s,a])=>{const n=Object.assign(Object.assign({},e),t);return this.stepsConfiguration=Object.assign(Object.assign({},r),{configColumns:r.configColumns.map((e=>Object.assign(Object.assign({},e),{id:`${e.id}`}))).sort(l.GT)}),this.fields=i,this.fieldsOrder=s.data,this.fieldsOnView=a,this.projectName=n.name,this.projectId=n.projectId.toString(),this.prioritySchemeIds=o.data.optionIds,this.priorityDefaultValue=o.data.defaultOptionId||o.data.optionIds[0],this.issueTypes=t.issueTypes,this.requirementsTree={id:n.requirementsTreeId},this.testCasesTree={id:n.testCasesTreeId},this.testPlansTree={id:n.testPlansTreeId},this.testExecutionsTree={id:n.testExecutionsTreeId},this.defectsTree={id:n.defectsTreeId},this.projectTypeKey=n.projectTypeKey,t}))).finally((()=>{this.configurationLoaded=!0})).catch((0,r.aD)((e=>{throw this.configurationLoaded=!0,e}))))}),(0,r.rC)(this)}get parsedVersions(){return this.fixVersions.map((e=>({label:e.name,value:e.id})))}get isSoftwareProject(){return"software"===this.projectTypeKey}getFixVersions(){s.Z.getVersions(this.projectKey).then((e=>{this.fixVersions=e.data,this.fixVersionsLoaded=!0})).catch((e=>{throw this.fixVersionsLoaded=!0,e}))}}(0,o.gn)([r.LO],c.prototype,"configurationLoaded",void 0),(0,o.gn)([r.LO],c.prototype,"projectName",void 0),(0,o.gn)([r.LO],c.prototype,"projectKey",void 0),(0,o.gn)([r.LO],c.prototype,"projectId",void 0),(0,o.gn)([r.LO],c.prototype,"fixVersionsLoaded",void 0),(0,o.gn)([r.LO],c.prototype,"priorityDefaultValue",void 0),(0,o.gn)([r.LO],c.prototype,"projectTypeKey",void 0),(0,o.gn)([r.LO],c.prototype,"stepsConfiguration",void 0),(0,o.gn)([r.LO],c.prototype,"issueTypes",void 0),(0,o.gn)([r.LO],c.prototype,"prioritySchemeIds",void 0),(0,o.gn)([r.LO],c.prototype,"stepsStatuses",void 0),(0,o.gn)([r.LO],c.prototype,"fields",void 0),(0,o.gn)([r.LO],c.prototype,"fixVersions",void 0),(0,o.gn)([r.LO],c.prototype,"requirementsTree",void 0),(0,o.gn)([r.LO],c.prototype,"testCasesTree",void 0),(0,o.gn)([r.LO],c.prototype,"testPlansTree",void 0),(0,o.gn)([r.LO],c.prototype,"testExecutionsTree",void 0),(0,o.gn)([r.LO],c.prototype,"defectsTree",void 0),(0,o.gn)([r.Fl],c.prototype,"parsedVersions",null),(0,o.gn)([r.Fl],c.prototype,"isSoftwareProject",null),(0,o.gn)([r.aD],c.prototype,"setProjectName",void 0),(0,o.gn)([r.aD],c.prototype,"setProjectKeyAndId",void 0),(0,o.gn)([r.aD],c.prototype,"getFixVersions",null),(0,o.gn)([r.aD],c.prototype,"getPrioritiesByScheme",void 0),(0,o.gn)([r.aD],c.prototype,"getProjectDetails",void 0);const h=new c},22541:(e,t,i)=>{var o,r;i.d(t,{$:()=>o,u:()=>r}),function(e){e.ROOT="ROOT",e.ISSUE="ISSUE",e.FOLDER="FOLDER"}(o||(o={})),function(e){e.DEFAULT="DEFAULT",e.LIST="LIST"}(r||(r={}))},8288:(e,t,i)=>{i.d(t,{m:()=>r,w:()=>o});const o=e=>e?e.iconURL:"",r=e=>e?e.iconUrl:""},9838:(e,t,i)=>{i.d(t,{Fj:()=>s,IV:()=>o,cl:()=>a});const o=100,r=e=>{return t=e,Number.isNaN(t)?`"${e}"`:e;var t},s=(e=[])=>(null==e?void 0:e.length)>0?e.map(r).join(", "):'""',a=e=>(null==e?void 0:e.length)>0?e.map((e=>`"${e}"`)).join(", "):'""'}}]);
//# sourceMappingURL=3770.17e6ba8d11f05d03ac75.bundle.js.map