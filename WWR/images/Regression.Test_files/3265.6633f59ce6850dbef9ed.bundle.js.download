(self.webpackChunk=self.webpackChunk||[]).push([[3265],{84248:(e,t,r)=>{(t=e.exports=r(3965)(!1)).push([e.id,'.rst__rowWrapper{height:100%;box-sizing:content-box}.rst__nodeIndex{margin:0 0 0 8px;font-weight:bold;font-size:13px}.rst__row{display:flex;height:100%;align-items:center;white-space:nowrap;cursor:move}.rst__row>*{box-sizing:border-box}.rst__rowLandingPad,.rst__rowCancelPad{border:none !important;box-shadow:none !important;outline:none !important}.rst__rowLandingPad *,.rst__rowCancelPad *{opacity:0 !important}.rst__rowLandingPad::before,.rst__rowCancelPad::before{background-color:#add8e6;border:3px dashed #fff;content:"";position:absolute;top:0;right:0;bottom:0;left:0;z-index:-1}.rst__rowCancelPad::before{background-color:#e6a8ad}.rst__rowSearchMatch{outline:solid 3px #0080ff}.rst__rowSearchFocus{outline:solid 3px #fc6421}.rst__rowToolbar_NoFlex,.rst__rowLabel_NoFlex,.rst__toolbarButton,.rst__rowToolbar,.rst__rowLabel,.rst__rowContents{display:inline-block;vertical-align:middle}.rst__rowContents{display:flex;align-items:center;height:100%;min-width:200px;margin-right:6px}.rst__rowContentsDragDisabled{border-left:solid #bbb 1px}.rst__rowLabel{margin-left:6px;display:flex;align-items:center}.rst__rowToolbar{flex:0 1 auto;display:flex}.rst__moveHandle,.rst__loadingHandle{height:100%;cursor:move;z-index:1;display:flex;align-items:center;justify-content:center}.rst__moveIcon{width:16px}.rst__icon{z-index:1;display:inline-block;margin-right:4px;width:16px;height:100%}.rst__loadingHandle{cursor:default;background:#d9d9d9}@keyframes rst__pointFade{0%,19.999%,100%{opacity:0}20%{opacity:1}}.rst__loadingCircle{width:80%;height:80%;margin:10%;position:relative}.rst__loadingCirclePoint{width:100%;height:100%;position:absolute;left:0;top:0}.rst__loadingCirclePoint:before{content:"";display:block;margin:0 auto;width:11%;height:30%;background-color:#fff;border-radius:30%;animation:rst__pointFade 800ms infinite ease-in-out both}.rst__loadingCirclePoint:nth-of-type(1){transform:rotate(0)}.rst__loadingCirclePoint:nth-of-type(7){transform:rotate(180deg)}.rst__loadingCirclePoint:nth-of-type(1):before,.rst__loadingCirclePoint:nth-of-type(7):before{animation-delay:-800ms}.rst__loadingCirclePoint:nth-of-type(2){transform:rotate(6.5)}.rst__loadingCirclePoint:nth-of-type(8){transform:rotate(210deg)}.rst__loadingCirclePoint:nth-of-type(2):before,.rst__loadingCirclePoint:nth-of-type(8):before{animation-delay:-666.6666666667ms}.rst__loadingCirclePoint:nth-of-type(3){transform:rotate(13)}.rst__loadingCirclePoint:nth-of-type(9){transform:rotate(240deg)}.rst__loadingCirclePoint:nth-of-type(3):before,.rst__loadingCirclePoint:nth-of-type(9):before{animation-delay:-533.3333333333ms}.rst__loadingCirclePoint:nth-of-type(4){transform:rotate(19.5)}.rst__loadingCirclePoint:nth-of-type(10){transform:rotate(270deg)}.rst__loadingCirclePoint:nth-of-type(4):before,.rst__loadingCirclePoint:nth-of-type(10):before{animation-delay:-400ms}.rst__loadingCirclePoint:nth-of-type(5){transform:rotate(26)}.rst__loadingCirclePoint:nth-of-type(11){transform:rotate(300deg)}.rst__loadingCirclePoint:nth-of-type(5):before,.rst__loadingCirclePoint:nth-of-type(11):before{animation-delay:-266.6666666667ms}.rst__loadingCirclePoint:nth-of-type(6){transform:rotate(32.5)}.rst__loadingCirclePoint:nth-of-type(12){transform:rotate(330deg)}.rst__loadingCirclePoint:nth-of-type(6):before,.rst__loadingCirclePoint:nth-of-type(12):before{animation-delay:-133.3333333333ms}.rst__loadingCirclePoint:nth-of-type(7){transform:rotate(39)}.rst__loadingCirclePoint:nth-of-type(13){transform:rotate(360deg)}.rst__loadingCirclePoint:nth-of-type(7):before,.rst__loadingCirclePoint:nth-of-type(13):before{animation-delay:0ms}.rst__rowTitle{font-weight:700;font-size:.85em}.rst__rowTitleWithSubtitle{display:inline-block;height:auto;user-select:none;padding-right:6px}.rst__rowSubtitle{font-size:90%;line-height:1;user-select:none}.rst__collapseButton,.rst__expandButton{appearance:none;border:none;position:absolute;border-radius:100%;box-shadow:0 0 0 1px #000;width:11px;height:11px;top:50%;transform:translate(-50%, -50%);cursor:pointer}.rst__collapseButton:focus,.rst__expandButton:focus{outline:none;box-shadow:0 0 0 1px #000,0 0 1px 3px #83bef9}.rst__collapseButton:hover:not(:active),.rst__expandButton:hover:not(:active){background-size:12px;height:11px;width:11px}.rst__rowContents_NoFlex::before,.rst__row_NoFlex::before{content:"";display:inline-block;vertical-align:middle;height:100%}.rst__rowContents_NoFlex{display:inline-block}.rst__rowContents_NoFlex::after{content:"";display:inline-block;width:100%}.rst__rowLabel_NoFlex{width:50%}.rst__rowToolbar_NoFlex{text-align:left;width:50%}.rst__iconContainer{display:inline-flex;height:100%;align-items:center}.rst__iconRight{display:flex;transform:rotate(0deg);transition:transform .05s linear}.rst__iconDown{display:flex;transform:rotate(90deg);transition:transform .05s linear}.rst__dotIcon{width:36px;text-align:center}.rst__textSubtitle{display:flex}',""]),t.locals={rowWrapper:"rst__rowWrapper",nodeIndex:"rst__nodeIndex",row:"rst__row",rowLandingPad:"rst__rowLandingPad",rowCancelPad:"rst__rowCancelPad",rowSearchMatch:"rst__rowSearchMatch",rowSearchFocus:"rst__rowSearchFocus",rowToolbar_NoFlex:"rst__rowToolbar_NoFlex",rowLabel_NoFlex:"rst__rowLabel_NoFlex",toolbarButton:"rst__toolbarButton",rowToolbar:"rst__rowToolbar",rowLabel:"rst__rowLabel",rowContents:"rst__rowContents",rowContentsDragDisabled:"rst__rowContentsDragDisabled",moveHandle:"rst__moveHandle",loadingHandle:"rst__loadingHandle",moveIcon:"rst__moveIcon",icon:"rst__icon",loadingCircle:"rst__loadingCircle",loadingCirclePoint:"rst__loadingCirclePoint",pointFade:"rst__pointFade",rowTitle:"rst__rowTitle",rowTitleWithSubtitle:"rst__rowTitleWithSubtitle",rowSubtitle:"rst__rowSubtitle",collapseButton:"rst__collapseButton",expandButton:"rst__expandButton",rowContents_NoFlex:"rst__rowContents_NoFlex",row_NoFlex:"rst__row_NoFlex",iconContainer:"rst__iconContainer",iconRight:"rst__iconRight",iconDown:"rst__iconDown",dotIcon:"rst__dotIcon",textSubtitle:"rst__textSubtitle"}},93573:(e,t,r)=>{(t=e.exports=r(3965)(!1)).push([e.id,".rst__tree{/*! This comment keeps Sass from deleting the empty rule */display:block;height:inherit;padding-top:6px}.rst__virtualScrollOverride{overflow:auto !important}.rst__virtualScrollOverride *{box-sizing:border-box}.rst__virtualScrollOverride::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.2);border-radius:8px}.rst__virtualScrollOverride::-webkit-scrollbar{width:6px;height:6px}.ReactVirtualized__Grid__innerScrollContainer{margin-bottom:16px !important}.ReactVirtualized__Grid{outline:none}",""]),t.locals={tree:"rst__tree",virtualScrollOverride:"rst__virtualScrollOverride"}},61472:(e,t,r)=>{(t=e.exports=r(3965)(!1)).push([e.id,".rst__node,.rst__nodeSelected{min-width:100%;white-space:nowrap;position:relative;text-align:left}.rst__node:hover,.rst__nodeSelected:hover{background-color:#ebecf0}.rst__node:hover .rst__rowWrapper,.rst__nodeSelected:hover .rst__rowWrapper{color:#0052cc;background-color:#ebecf0}.rst__node:hover .rst__rowWrapper:hover,.rst__nodeSelected:hover .rst__rowWrapper:hover{color:#42526e}.rst__nodeSelected{color:#0052cc;background-color:#ebecf0}.rst__nodeSelected:hover{color:#42526e}.rst__nodeSelected .rst__rowWrapper{color:#0052cc;background-color:#ebecf0}.rst__nodeSelected .rst__rowWrapper:hover{color:#42526e}.rst__nodeGrayed{opacity:.5}.rst__nodeContent{position:absolute;top:0;bottom:0}",""]),t.locals={node:"rst__node",nodeSelected:"rst__nodeSelected",rowWrapper:"rst__rowWrapper",nodeGrayed:"rst__nodeGrayed",nodeContent:"rst__nodeContent"}},27781:(e,t,r)=>{var n=r(84248);"string"==typeof n&&(n=[[e.id,n,""]]);r(71994)(n,{insertAt:"top"});n.locals&&(e.exports=n.locals)},12591:(e,t,r)=>{var n=r(93573);"string"==typeof n&&(n=[[e.id,n,""]]);r(71994)(n,{insertAt:"top"});n.locals&&(e.exports=n.locals)},74164:(e,t,r)=>{var n=r(61472);"string"==typeof n&&(n=[[e.id,n,""]]);r(71994)(n,{insertAt:"top"});n.locals&&(e.exports=n.locals)},91413:(e,t,r)=>{"use strict";r.d(t,{Z:()=>I});var n=r(2784),o=r(13980),i=r.n(o),a=r(27781),s=r.n(a),l=r(76147),c=r(33692),d=r(86779),u=r(35862);var p=r(35139),h=["viewName","scaffoldBlockPxWidth","toggleChildrenVisibility","connectDragPreview","connectDragSource","isDragging","canDrop","canDrag","node","draggedNode","path","treeIndex","isSearchMatch","isSearchFocus","buttons","className","style","didDrop","isAutonumbered","isIssueKeyVisible","isOver","parentNode","endDrag","startDrag"];function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P(n.key),n)}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,r)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return(t=P(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}var S=s();(function(){var e=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);return e?parseInt(e[1],10):void 0})<10&&(S=T(T({},s()),{},{row:"".concat(S.row," ").concat(S.row_NoFlex),rowContents:"".concat(S.rowContents," ").concat(S.rowContents_NoFlex),rowLabel:"".concat(S.rowLabel," ").concat(S.rowLabel_NoFlex),rowToolbar:"".concat(S.rowToolbar," ").concat(S.rowToolbar_NoFlex)}));var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,r,o,i=m(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return C(v(e=i.call.apply(i,[this].concat(r))),"toggleVisibility",(function(){var t=e.props,r=t.node,n=t.path,o=t.treeIndex;(0,t.toggleChildrenVisibility)({node:r,path:n,treeIndex:o})})),C(v(e),"onDoubleClick",(function(){e.toggleVisibility()})),C(v(e),"onIconClick",(function(){e.toggleVisibility()})),e}return t=a,(r=[{key:"render",value:function(){var e,t=this.props,r=t.viewName,o=t.scaffoldBlockPxWidth,i=t.toggleChildrenVisibility,a=t.connectDragPreview,s=t.connectDragSource,f=t.isDragging,g=t.canDrop,y=t.canDrag,m=t.node,v=t.draggedNode,w=t.path,_=t.treeIndex,C=t.isSearchMatch,P=t.isSearchFocus,x=t.buttons,I=t.className,O=t.style,D=t.didDrop,j=t.isAutonumbered,N=t.isIssueKeyVisible;t.isOver,t.parentNode,t.endDrag,t.startDrag,b(t,h),e="function"==typeof m.children&&m.expanded?n.createElement("div",{className:S.loadingHandle},n.createElement("div",{className:S.loadingCircle},n.createElement("div",{className:S.loadingCirclePoint}),n.createElement("div",{className:S.loadingCirclePoint}),n.createElement("div",{className:S.loadingCirclePoint}),n.createElement("div",{className:S.loadingCirclePoint}),n.createElement("div",{className:S.loadingCirclePoint}),n.createElement("div",{className:S.loadingCirclePoint}),n.createElement("div",{className:S.loadingCirclePoint}),n.createElement("div",{className:S.loadingCirclePoint}),n.createElement("div",{className:S.loadingCirclePoint}),n.createElement("div",{className:S.loadingCirclePoint}),n.createElement("div",{className:S.loadingCirclePoint}),n.createElement("div",{className:S.loadingCirclePoint}))):n.createElement("div",{className:S.moveHandle},m.children&&m.children.length>0?n.createElement("div",{className:S.iconContainer},n.createElement("div",{className:m.expanded?S.iconDown:S.iconRight},n.createElement(c.Z,{appearance:"subtle-link",iconBefore:n.createElement(l.Z,{size:"medium"}),onClick:this.onIconClick}))):n.createElement("span",{className:S.iconContainer},n.createElement("div",{className:S.dotIcon},"â€¢")),n.createElement(u.Z,{nodeImage:m.img,nodeType:m.type,issueTypeId:m.issueTypeId}));var E,k=v&&(0,p.SG)(v,m),R=!D&&f;return n.createElement("div",{"data-node-id":m.id,"data-node-type":m.type,onContextMenu:this.props.onContextMenu,"data-testid":"".concat(r,"-tree-").concat(m.type),style:{height:"100%"}},i&&m.children&&m.children.length>0&&n.createElement("div",null,m.expanded&&!f&&n.createElement("div",{style:{width:o}})),n.createElement("div",{className:S.rowWrapper},a((E=n.createElement("div",{className:S.row+(R?" ".concat(S.rowLandingPad):"")+(R&&!g?" ".concat(S.rowCancelPad):"")+(C?" ".concat(S.rowSearchMatch):"")+(P?" ".concat(S.rowSearchFocus):"")+(I?" ".concat(I):""),style:T({opacity:k?.5:1},O)},e,n.createElement(d.Z,{hideTooltipOnMouseDown:!0,content:m.subtitle},n.createElement("div",{role:"note",className:S.rowContents,onClick:this.props.onRowClickHandler,onDoubleClick:this.onDoubleClick},j&&m.index&&n.createElement("div",{className:S.nodeIndex},m.index),n.createElement("div",{className:S.rowLabel},(N||"ISSUE"!==m.type)&&m.title&&n.createElement("span",{className:S.rowTitle+(m.subtitle?" ".concat(S.rowTitleWithSubtitle):"")},"function"==typeof m.title?m.title({node:m,path:w,treeIndex:_}):m.title),m.subtitleWithTestKey&&n.createElement("span",{className:S.rowSubtitle,id:m.title},"function"==typeof m.subtitle?m.subtitle({node:m,path:w,treeIndex:_}):n.createElement("div",{className:S.textSubtitle},m.subtitleWithTestKey))),n.createElement("div",{className:S.rowToolbar},x.map((function(e,t){return n.createElement("div",{key:t,className:S.toolbarButton},e)})))))),y?s(E):E))))}}])&&g(t.prototype,r),o&&g(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);x.defaultProps={isSearchMatch:!1,isSearchFocus:!1,canDrag:!1,toggleChildrenVisibility:null,buttons:[],className:"",style:{},parentNode:null,draggedNode:null,canDrop:!1,onRowClickHandler:function(){}},x.propTypes={node:i().shape({}).isRequired,path:i().arrayOf(i().oneOfType([i().string,i().number])).isRequired,treeIndex:i().number.isRequired,isSearchMatch:i().bool,isSearchFocus:i().bool,canDrag:i().bool,scaffoldBlockPxWidth:i().number.isRequired,toggleChildrenVisibility:i().func,onRowClickHandler:i().func,buttons:i().arrayOf(i().node),className:i().string,style:i().shape({}),connectDragPreview:i().func.isRequired,connectDragSource:i().func.isRequired,parentNode:i().shape({}),startDrag:i().func.isRequired,endDrag:i().func.isRequired,isDragging:i().bool.isRequired,didDrop:i().bool.isRequired,draggedNode:i().shape({}),isOver:i().bool.isRequired,canDrop:i().bool};const I=x},56821:(e,t,r)=>{"use strict";r.d(t,{Z:()=>T});var n=r(2784),o=r(13980),i=r.n(o),a=r(18495),s=r(74164),l=r.n(s);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}var d,u=["children","listIndex","swapFrom","swapLength","swapDepth","scaffoldBlockPxWidth","lowerSiblingCounts","connectDropTarget","isOver","draggedNode","canDrop","style","treeIndex","customCanDrop","dragHover","getNodeKey","getPrevRow","maxDepth","node","path","treeData"];function p(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==c(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===c(i)?i:String(i)),n)}var o,i}function b(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=v(e);if(t){var o=v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var w=(0,a.f3)("navigationStore")(d=(0,a.Pi)(d=function(e){g(r,e);var t=m(r);function r(){return h(this,r),t.apply(this,arguments)}return b(r,[{key:"render",value:function(){var e,t=this.props,r=t.children,o=(t.listIndex,t.swapFrom,t.swapLength,t.swapDepth,t.scaffoldBlockPxWidth),i=t.lowerSiblingCounts,a=(t.connectDropTarget,t.isOver),s=t.draggedNode,c=t.canDrop,d=t.style,h=(t.treeIndex,t.customCanDrop,t.dragHover,t.getNodeKey,t.getPrevRow,t.maxDepth,t.node,t.path,t.treeData,p(t,u),null===(e=this.props.navigationStore.selectedNode)||void 0===e?void 0:e.id),f=i.length,b=[],g="".concat(this.props.node.id===h?l().nodeSelected:l().node," ");return g+="".concat(!1===this.props.node.isHidden?this.props.node.found?"":l().nodeGrayed:""," "),n.createElement("div",{style:d,className:g},b,n.createElement("div",{className:l().nodeContent,style:{left:o*(f-1)}},n.Children.map(r,(function(e){return(0,n.cloneElement)(e,{isOver:a,canDrop:c,draggedNode:s})}))))}}]),r}(n.Component))||d)||d,_=function(e){g(r,e);var t=m(r);function r(){return h(this,r),t.apply(this,arguments)}return b(r,[{key:"render",value:function(){return(0,this.props.connectDropTarget)(n.createElement("div",null,n.createElement(w,this.props)))}}]),r}(n.Component);_.defaultProps={swapFrom:null,swapDepth:null,swapLength:null,canDrop:!1,draggedNode:null,customCanDrop:null,maxDepth:null,treeData:null},_.propTypes={treeIndex:i().number.isRequired,node:i().shape({}).isRequired,path:i().arrayOf(i().oneOfType([i().string,i().number])).isRequired,swapFrom:i().number,swapDepth:i().number,swapLength:i().number,scaffoldBlockPxWidth:i().number.isRequired,lowerSiblingCounts:i().arrayOf(i().number).isRequired,listIndex:i().number.isRequired,children:i().node.isRequired,connectDropTarget:i().func.isRequired,isOver:i().bool.isRequired,canDrop:i().bool,draggedNode:i().shape({}),customCanDrop:i().func,dragHover:i().func.isRequired,getNodeKey:i().func.isRequired,getPrevRow:i().func.isRequired,maxDepth:i().number,treeData:i().arrayOf(i().object)};const T=_},15886:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return e.treeIndex}function i(e){return"string"==typeof e?e:"object"!==n(e)||!e.props||!e.props.children||"string"!=typeof e.props.children&&"object"!==n(e.props.children)?"":"string"==typeof e.props.children?e.props.children:e.props.children.map((function(e){return i(e)})).join("")}function a(e,t,r,o,a){return"function"==typeof r[e]?String(r[e]({node:r,path:o,treeIndex:a})).toLowerCase().indexOf(t.toLowerCase())>-1:"object"===n(r[e])?i(r[e]).toLowerCase().indexOf(t.toLowerCase())>-1:r[e]&&String(r[e]).toLowerCase().indexOf(t.toLowerCase())>-1}function s(e){var t=e.node,r=e.path,n=e.treeIndex,o=e.searchQuery;return a("title",o,t,r,n)||a("subtitle",o,t,r,n)||a("issueKey",o,t,r,n)}r.d(t,{TS:()=>o,v2:()=>s})},82903:(e,t,r)=>{"use strict";r.d(t,{a4:()=>h,pW:()=>f,zK:()=>b});var n=r(24319),o=r(68879),i=r.n(o),a=r(35139),s=r(31730),l={beginDrag:function(e){return e.startDrag(e),{node:e.node,parentNode:e.parentNode,path:e.path,treeIndex:e.treeIndex}},endDrag:function(e,t){e.endDrag(t.getDropResult())},isDragging:function(e,t){var r=t.getItem().node;return e.node===r}};function c(e,t){var r=0,n=t.getItem(),o=e.getPrevRow();o&&(r=Math.min(o.path.length,e.path.length));var i=Math.round(t.getDifferenceFromInitialOffset().x/e.scaffoldBlockPxWidth),s=Math.min(r,Math.max(0,n.path.length+i-1));if(void 0!==e.maxDepth&&null!==e.maxDepth){var l=t.getItem().node,c=(0,a.hh)(l);s=Math.min(s,e.maxDepth-c-1)}return s}var d={drop:function(e,t){return{node:t.getItem().node,path:t.getItem().path,minimumTreeIndex:e.treeIndex,depth:c(e,t)}},hover:function(e,t){var r=c(e,t),n=t.getItem().node;(e.node!==n||r!==e.path.length-1)&&e.dragHover({node:n,path:t.getItem().path,minimumTreeIndex:e.listIndex,depth:r})},canDrop:function(e,t){if(!t.isOver())return!1;var r=e.getPrevRow(),n=r?r.path:[],o=r?r.node:{},i=c(e,t);if(i>=n.length&&"function"==typeof o.children)return!1;if("function"==typeof e.customCanDrop){var a=t.getItem().node,l=(0,s.H)({treeData:e.treeData,newNode:a,depth:i,getNodeKey:e.getNodeKey,minimumTreeIndex:e.listIndex,expandParent:!0});return e.customCanDrop({node:a,prevPath:t.getItem().path,prevParent:t.getItem().parentNode,prevTreeIndex:t.getItem().treeIndex,nextPath:l.path,nextParent:l.parentNode,nextTreeIndex:l.treeIndex})}return!0}};function u(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging(),didDrop:t.didDrop()}}function p(e,t){var r=t.getItem();return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedNode:r?r.node:null}}function h(e,t){return(0,n.DragSource)(t,l,u)(e)}function f(e,t){return(0,n.DropTarget)(t,d,p)(e)}function b(e){return(0,n.DragDropContext)(i())(e)}},71661:(e,t,r)=>{"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=[].concat(n(e.slice(0,t)),n(e.slice(t+o)));return[].concat(n(i.slice(0,r)),n(e.slice(t,t+o)),n(i.slice(r)))}r.d(t,{m:()=>i})},31730:(e,t,r)=>{"use strict";r.d(t,{H:()=>s});var n=r(35139),o=[],i=[],a=null;function s(e){var t=Object.keys(e).sort(),r=t.map((function(t){return e[t]}));return(r.length!==o.length||r.some((function(e,t){return e!==o[t]}))||t.some((function(e,t){return e!==i[t]})))&&(o=r,i=t,a=(0,n.Lf)(e)),a}},70500:(e,t,r)=>{"use strict";r.d(t,{Kx:()=>I,ZP:()=>j,v7:()=>x});var n=r(2784),o=r(13980),i=r.n(o),a=r(28316),s=r(98357),l=r.n(s),c=r(23493),d=r.n(c),u=r(94924),p=r.n(u),h=["strengthMultiplier","verticalStrength","horizontalStrength","onScrollChange"];function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(this,arguments)}function g(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,C(n.key),n)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}(this,r)}}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function T(e,t,r){return(t=C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function P(){}function S(e,t,r){return Math.floor(Math.min(t,Math.max(e,r)))}function x(e){return function(t,r){var n=t.x,o=t.w,i=t.y,a=t.h,s=Math.min(o/2,e);if(r.x>=n&&r.x<=n+o&&r.y>=i&&r.y<=i+a){if(r.x<n+s)return(r.x-n-s)/s;if(r.x>n+o-s)return-(n+o-r.x-s)/s}return 0}}function I(e){return function(t,r){var n=t.y,o=t.h,i=t.x,a=t.w,s=Math.min(o/2,e);if(r.y>=n&&r.y<=n+o&&r.x>=i&&r.x<=i+a){if(r.y<n+s)return(r.y-n-s)/s;if(r.y>n+o-s)return-(n+o-r.y-s)/s}return 0}}var O=x(150),D=I(150);function j(e,t){var r,o=function(r){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(u,r);var o,i,s,c=v(u);function u(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),T(w(r=c.call(this,e,t)),"handleEvent",(function(e){r.dragging&&!r.attached&&(r.attach(),r.updateScrolling(e))})),T(w(r),"updateScrolling",l()((function(e){var t=r.container.getBoundingClientRect(),n={x:t.left,y:t.top,w:t.width,h:t.height},o=function(e){return"touchmove"===e.type?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}(e);r.scaleX=r.props.horizontalStrength(n,o),r.scaleY=r.props.verticalStrength(n,o),r.frame||!r.scaleX&&!r.scaleY||r.startScrolling()}),100,{trailing:!1})),r.scaleX=0,r.scaleY=0,r.frame=null,r.attached=!1,r.dragging=!1,r}return o=u,(i=[{key:"componentDidMount",value:function(){var e=this;this.container=(0,a.findDOMNode)(this.wrappedInstance),this.container.addEventListener("dragover",this.handleEvent),window.document.body.addEventListener("touchmove",this.handleEvent),this.clearMonitorSubscription=this.context.dragDropManager.getMonitor().subscribeToStateChange((function(){return e.handleMonitorChange()}))}},{key:"componentWillUnmount",value:function(){t&&t(null),this.container.removeEventListener("dragover",this.handleEvent),window.document.body.removeEventListener("touchmove",this.handleEvent),this.clearMonitorSubscription(),this.stopScrolling()}},{key:"handleMonitorChange",value:function(){var e=this.context.dragDropManager.getMonitor().isDragging();!this.dragging&&e?this.dragging=!0:this.dragging&&!e&&(this.dragging=!1,this.stopScrolling())}},{key:"attach",value:function(){this.attached=!0,window.document.body.addEventListener("dragover",this.updateScrolling),window.document.body.addEventListener("touchmove",this.updateScrolling)}},{key:"detach",value:function(){this.attached=!1,window.document.body.removeEventListener("dragover",this.updateScrolling),window.document.body.removeEventListener("touchmove",this.updateScrolling)}},{key:"startScrolling",value:function(){var e=this,t=0;!function r(){var n=e.scaleX,o=e.scaleY,i=e.container,a=e.props,s=a.strengthMultiplier,l=a.onScrollChange;if(0!==s&&n+o!==0){if(t++%2){var c=i.scrollLeft,u=i.scrollTop,p=i.scrollWidth,h=i.scrollHeight,f=i.clientWidth,b=i.clientHeight;l(n?i.scrollLeft=S(0,p-f,c+n*s):c,o?i.scrollTop=S(0,h-b,u+o*s):u)}e.frame=d()(r)}else e.stopScrolling()}()}},{key:"stopScrolling",value:function(){this.detach(),this.scaleX=0,this.scaleY=0,this.frame&&(d().cancel(this.frame),this.frame=null)}},{key:"render",value:function(){var r=this,o=this.props,i=(o.strengthMultiplier,o.verticalStrength,o.horizontalStrength,o.onScrollChange,g(o,h));return n.createElement(e,b({ref:function(e){r.wrappedInstance=e,t(e)}},i))}}])&&y(o.prototype,i),s&&y(o,s),Object.defineProperty(o,"prototype",{writable:!1}),u}(n.Component);return T(o,"displayName","Scrolling(".concat((r=e).displayName||r.name||("string"==typeof r&&r.length>0?r:"Unknown"),")")),T(o,"propTypes",{onScrollChange:i().func,verticalStrength:i().func,horizontalStrength:i().func,strengthMultiplier:i().number}),T(o,"defaultProps",{onScrollChange:P,verticalStrength:D,horizontalStrength:O,strengthMultiplier:30}),T(o,"contextTypes",{dragDropManager:i().object}),p()(o,e)}},24010:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(64336);const o=class{constructor(e){Object.defineProperty(this,"projectId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.projectId=e}getTree({treeId:e}){return n.Z.get(`/project/${this.projectId}/tree/${e}`)}getTrees(e){return n.Z.post(`/project/${this.projectId}/tree/all`,e)}setTestKey(e,t){return n.Z.put(`/project/${this.projectId}/tree/${e}/apiId`,t)}fillTestKeys(e,t){return n.Z.post(`/project/${this.projectId}/tree/${e}/fill`,t)}synchronize({treeId:e}){return n.Z.put(`/project/${this.projectId}/tree/${e}/synchronization`),Promise.resolve({status:200})}reload(){return Promise.resolve()}refresh(){return Promise.resolve()}}},3772:(e,t,r)=>{"use strict";r.d(t,{UY:()=>o,lN:()=>i,tD:()=>n});const n="FOLDER",o="ISSUE",i="ROOT"},55153:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(2784),o=r(87417),i=r(18495),a=r(82740),s=r(95036),l=r(42670),c=r(74495),d=r(5163),u=r(80075),p=r(3772);class h{constructor(e){Object.defineProperty(this,"navigationStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getHashUrl",{enumerable:!0,configurable:!0,writable:!0,value:({nodeType:e,nodeId:t})=>{switch(e){case p.tD:case p.lN:return this.navigationStore.linkToFolderPage(t);case p.UY:return this.navigationStore.linkToIssuePage(t);default:return this.navigationStore.linkToRootPage()}}}),Object.defineProperty(this,"openInNewTab",{enumerable:!0,configurable:!0,writable:!0,value:e=>{window.open(`${this.navigationStore.getMainViewUrlWithHash()}${this.getHashUrl(e)}`,"_blank")}}),Object.defineProperty(this,"expandChildren",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.navigationStore.treeStore.expandChildren(e.nodeId)}}),(0,u.rC)(this),this.navigationStore=e}}(0,d.gn)([u.LO],h.prototype,"navigationStore",void 0);const f=h,b=a.default.div`
    position: fixed;
    top: ${({yPosition:e})=>`${e}px`};
    left: ${({xPosition:e})=>`${e}px`};
    display: ${({isMenuOpen:e})=>e?"block":"none"};
    border-radius: 3px;
    background-color: #fff;
    box-shadow: rgba(9, 30, 66, 0.25) 0 4px 8px -2px, rgba(9, 30, 66, 0.31) 0 0 1px;
    padding: 4px 0;
    z-index: 1;
`,g=a.default.div`
    padding: 4px 12px;

    :hover {
        cursor: pointer;
        background-color: ${s.IR};
    }
`,y=(0,c.qC)((0,i.f3)("navigationStore"),i.Pi)((({isMenuOpen:e,yPosition:t,xPosition:r,nodeDataset:i,navigationStore:a,viewName:s})=>{const c=(0,o.hN)((()=>new f(a))),d=`${s}-${i.nodeType}-${i.nodeId}`,u=(0,n.useRef)(null),[p,h]=(0,n.useState)(0),[y,m]=(0,n.useState)(0);return(0,n.useEffect)((()=>{const e=window.innerHeight+y-t,r=u.current.offsetHeight,n=t-y;h(e>r?n:n-r)}),[t]),(0,n.useEffect)((()=>{const e=()=>{m(window.scrollY)};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)}),[]),n.createElement(b,{yPosition:p,xPosition:r,isMenuOpen:e,ref:u},n.createElement(g,{"data-testid":`${d}-open-new-tab`,onClick:()=>c.openInNewTab(i)},n.createElement(l.Z,{id:"tree.open.new.tab"})),n.createElement(g,{"data-testid":`${d}-expand-node`,onClick:()=>c.expandChildren(i)},n.createElement(l.Z,{id:"tree.expand.node"})))}))},35862:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(2784),o=r(74495),i=r(18495),a=r(82740),s=r(73107),l=r(22541);const c=a.default.img`
    margin-right: 4px;
    width: 16px;
    height: 16px;
`,d=(0,o.qC)((0,i.f3)("issueTypesUIStore"))((({issueTypesUIStore:e,issueTypeId:t,nodeType:r,nodeImage:o})=>{return n.createElement(c,{src:(r===l.$.ISSUE?null===(i=e.projectIssueTypes.find((e=>e.id===`${t}`)))||void 0===i?void 0:i.iconUrl:o)||`${s.i}/images/issue-types/blank_avatar_icon.svg`,alt:""});var i}))},51438:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(25320),o=r(16354),i=r(34110),a=r(77436),s=r(24010),l=r(9392),c=r(94146),d=r(73064);const u=e=>e.map((e=>({id:e.id,key:e.key,issueTypeId:e.fields.issuetype.id,summary:e.fields.summary}))),p=class{constructor(e,t){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"connected",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"onConnectCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.onConnectCallback=e,this.client=new c.K({brokerURL:`wss://${window.location.host}/tree-ws/websocket`,reconnectDelay:5e3,heartbeatIncoming:1e4,heartbeatOutgoing:0,discardWebsocketOnCommFailure:!0,onWebSocketClose:()=>{t(),this.connected=!1},onDisconnect:()=>{t(),this.connected=!1}}),window.addEventListener("beforeunload",(()=>{this.client.onWebSocketClose=()=>{},this.client.forceDisconnect()}))}connect(){return new Promise(((e,t)=>{this.client.onConnect=()=>{this.connected=!0,this.onConnectCallback().then(e).catch((e=>{throw t(e),e}))},this.client.activate()}))}subscribe(e,t){(0,d.gC)().then((r=>this.client.subscribe(`/tree/${e}`,t,{authenticationToken:r})))}subscribeToWarning(e){(0,d.gC)().then((t=>this.client.subscribe("/user/tree/warning",(t=>e(JSON.parse(t.body))),{authenticationToken:t})))}append({treeId:e,payload:t}){return this.publish({destination:`/tree/${e}/append`,payload:t})}update({treeId:e,payload:t}){return this.publish({destination:`/tree/${e}/update`,payload:t})}delete({treeId:e,payload:t}){return this.publish({destination:`/tree/${e}/delete`,payload:t})}move({treeId:e,payload:t}){return this.publish({destination:`/tree/${e}/move`,payload:t})}bulkMove({treeId:e,payload:t}){const r={destinationParentId:t.destinationParentId,treeId:t.treeId,moveIssueDetails:u(t.issues)};return this.publish({destination:`/tree/${e}/moveAll`,payload:r})}bulkDelete({treeId:e,payload:t}){return this.publish({destination:`/tree/${e}/delete/bulk`,payload:t})}bulkAppend({treeId:e,payload:t}){return this.publish({destination:`/tree/${e}/append/bulk`,payload:t})}publish({destination:e,payload:t}){return this.connected?(0,d.gC)().then((r=>this.client.publish({destination:e,body:JSON.stringify(t),headers:{authenticationToken:r}}))).then((()=>[])).catch((e=>[{message:null==e?void 0:e.message}])):Promise.resolve([{message:"Client not connected"}])}};const h=class{constructor(){Object.defineProperty(this,"treeClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webSocketTreeClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"projectId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"requirementsTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"testCasesTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"testPlansTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"testExecutionsTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defectsTree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{this.projectId=e.toString(),void 0===this.treeClient&&(this.treeClient=new s.Z(e)),t&&void 0===this.webSocketTreeClient&&(this.webSocketTreeClient=new p(this.onWebSocketConnectionOpened,this.onWebSocketConnectionClosed))}}),Object.defineProperty(this,"initTrees",{enumerable:!0,configurable:!0,writable:!0,value:e=>(this.createTrees(e),this.webSocketTreeClient?this.webSocketTreeClient.connect():this.loadTrees())}),Object.defineProperty(this,"createTrees",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.requirementsTree=new i.Z(this.treeClient,this.webSocketTreeClient,"Requirements",e.requirementsTreeId),this.testCasesTree=new i.Z(this.treeClient,this.webSocketTreeClient,"Test Cases",e.testCasesTreeId),this.testPlansTree=new i.Z(this.treeClient,this.webSocketTreeClient,"Test Plans",e.testPlansTreeId),this.testExecutionsTree=new i.Z(this.treeClient,this.webSocketTreeClient,"Test Executions",e.testExecutionsTreeId),e.defectsTreeId&&(this.defectsTree=new i.Z(this.treeClient,this.webSocketTreeClient,"Defects",e.defectsTreeId))}}),Object.defineProperty(this,"loadTrees",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.setTreesLoaded(!1);const e=this.getAllTrees().map((e=>e.treeId));return this.treeClient.getTrees(e).then((({data:e})=>{this.getAllTrees().forEach((t=>{const r=e.find((e=>e.id===t.treeId));t.loadTree(r)}))}))}}),Object.defineProperty(this,"onWebSocketConnectionOpened",{enumerable:!0,configurable:!0,writable:!0,value:()=>(this.getAllTrees().forEach((e=>{e.enableTreeConnection(),e.subscribeToTreeChanges()})),this.webSocketTreeClient.subscribeToWarning(this.createWarningFlag),this.loadTrees())}),Object.defineProperty(this,"onWebSocketConnectionClosed",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.getAllTrees().some((e=>e.isTreeConnectionActive))&&o.default.createFlag((0,l.ho)("tree.connection.lost.title"),(0,l.ho)("tree.connection.lost.message"),a.s.WARNING,!1),this.getAllTrees().forEach((e=>e.disableTreeConnection()))}}),Object.defineProperty(this,"createWarningFlag",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=e.map((e=>e.message)).join("\n");e.length>0&&o.default.createFlag((0,l.ho)("general.response.status.error"),t,a.s.WARNING,!0)}}),Object.defineProperty(this,"getTreeByViewName",{enumerable:!0,configurable:!0,writable:!0,value:e=>{switch(e){case"requirements":return this.requirementsTree;case"testCases":return this.testCasesTree;case"testPlans":return this.testPlansTree;case"testExecutions":return this.testExecutionsTree;case"defects":return this.defectsTree?this.defectsTree:null;default:return null}}}),Object.defineProperty(this,"hasTreeForView",{enumerable:!0,configurable:!0,writable:!0,value:e=>null!==this.getTreeByViewName(e)}),Object.defineProperty(this,"getAllTrees",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const e=[this.requirementsTree,this.testCasesTree,this.testPlansTree,this.testExecutionsTree];return this.defectsTree?[...e,this.defectsTree]:e}}),Object.defineProperty(this,"setTreesLoaded",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=[this.requirementsTree,this.testCasesTree,this.testPlansTree,this.testExecutionsTree];(this.defectsTree?[...t,this.defectsTree]:t).forEach((t=>t.setIsTreeLoaded(e)))}})}loadTreesInProject(e,t=!0){return n.Z.getProjectConfiguration(e).then((e=>this.loadTreesFromPreparedProjectConfiguration(e,t)))}loadTreesFromPreparedProjectConfiguration(e,t=!0){return this.init(e.projectId,t),this.initTrees(e)}}},34110:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(5163),o=r(80075),i=r(16354),a=r(94663),s=r(77436),l=r(22541),c=r(34546),d=r(3772),u=r(9392);var p=r(61659);class h{constructor(e,t,r,n){Object.defineProperty(this,"treeTitle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"treeClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webSocketTreeClient",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"treeHashCode",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"invalidKeyErrorMessage",{enumerable:!0,configurable:!0,writable:!0,value:{response:{data:{message:"general.response.status.error.testkey.might.exist"}}}}),Object.defineProperty(this,"treeId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"treeResponse",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isTestKeyVisible",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"treeData",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"isTreeLoaded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isSearcherOpen",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isTreeConnectionActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isViewModeListView",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"treeControls",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"setFolderTestKey",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{this.treeClient.setTestKey(this.treeId,{apiId:e,testKey:t,type:l.$.FOLDER}).then(this.load).catch((e=>{this.createErrorFlag(this.invalidKeyErrorMessage),console.error(e)}))}}),Object.defineProperty(this,"setIssueTestKey",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{this.treeClient.setTestKey(this.treeId,{apiId:e,testKey:t,type:l.$.ISSUE}).then(this.load).catch((e=>{this.createErrorFlag(this.invalidKeyErrorMessage),console.error(e)}))}}),Object.defineProperty(this,"setMissingTestKeys",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.treeClient.fillTestKeys(this.treeId,this.flatNodes().map((t=>this.buildApiId(t,e)))).then(this.createTestKeySettingFlag).catch(this.createErrorFlag)}}),Object.defineProperty(this,"createTestKeySettingFlag",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const e=(0,u.ho)("general.response.status.success"),t=(0,u.ho)("general.response.status.success.testkeys");i.default.createFlag(e,t,"success",!0)}}),Object.defineProperty(this,"createErrorFlag",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=(0,u.ho)("general.response.status.error"),r=(0,u.ho)(e.response.data.message);i.default.createFlag(t,r,"error",!0)}}),Object.defineProperty(this,"createTreeStructureChangedFlag",{enumerable:!0,configurable:!0,writable:!0,value:()=>{const e=(0,u.ho)("general.tree.structure.changed"),t=(0,u.ho)("general.tree.page.view.out.of.date"),r=(0,u.ho)("general.tree.refresh.the.page");i.default.createFlag(e,t,s.s.INFO,!0,"tree-structure-changed",[{content:r,onClick:()=>window.AP.navigator.reload()}])}}),Object.defineProperty(this,"createIssue",{enumerable:!0,configurable:!0,writable:!0,value:({parentId:e,issueKey:t,issueId:r,summary:n,issueTypeId:o})=>{const i={parentId:e,treeId:this.treeId,payload:{issueKey:t,issueTypeId:o,issueId:r,summary:n},type:l.$.ISSUE},a={treeId:this.treeId,payload:i};return this.webSocketTreeClient.append(a)}}),Object.defineProperty(this,"bulkCreateIssues",{enumerable:!0,configurable:!0,writable:!0,value:({payloads:e})=>{const t=e.map((e=>{const t=this.findNode((0,p.s1)(e.cloneSourceId));return(0,p.VW)(t)?{parentId:t.parentId,payload:e.payload,type:l.$.ISSUE}:null})).filter((e=>null!==e)),r={treeId:this.treeId,nodes:t};return this.webSocketTreeClient.bulkAppend({treeId:this.treeId,payload:r})}}),Object.defineProperty(this,"updateNode",{enumerable:!0,configurable:!0,writable:!0,value:({nodeId:e,updatedPayload:t})=>{const r={nodeId:e,updatedPayload:t,treeId:this.treeId};return this.webSocketTreeClient.update({treeId:this.treeId,payload:r})}}),Object.defineProperty(this,"removeNode",{enumerable:!0,configurable:!0,writable:!0,value:({nodeId:e,method:t})=>{const r={nodeId:e,method:t,treeId:this.treeId};return this.webSocketTreeClient.delete({treeId:this.treeId,payload:r})}}),Object.defineProperty(this,"bulkRemoveNodes",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{const r=e.map((e=>({nodeId:e.id,method:t})));this.webSocketTreeClient.bulkDelete({treeId:this.treeId,payload:{requests:r}})}}),Object.defineProperty(this,"bulkMoveIssueNodes",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{const r=e.map((e=>({id:e.id,key:e.key,fields:{summary:e.fields.summary,issuetype:{id:e.fields.issuetype.id}}})));if(this.treeId){const e={destinationParentId:t,issues:r,treeId:this.treeId};return this.webSocketTreeClient.bulkMove({treeId:this.treeId,payload:e})}return Promise.reject()}}),Object.defineProperty(this,"moveNode",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=(0,c.Pg)({treeData:this.treeData,getNodeKey:e=>e.id}).map((e=>e.node)).filter((e=>(0,p.zi)(e)||(0,p.VW)(e))),r=t[e[e.length-1]],n=t[e[e.length-2]],o=n.children.indexOf(r),i={treeId:this.treeId,nodeId:r.id,destinationParentId:n.id,destinationIndex:o};this.webSocketTreeClient.move({treeId:this.treeId,payload:i}).then((e=>{(null==e?void 0:e.length)>0&&this.createWarningFlag(e)}))}}),Object.defineProperty(this,"createWarningFlag",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=e.map((e=>e.message)).join("\n");i.default.createFlag((0,u.ho)("general.response.status.error"),t,s.s.WARNING,!0)}}),Object.defineProperty(this,"toggleTestKeyVisibility",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.isTestKeyVisible=!this.isTestKeyVisible,this.setupTree(this.treeResponse)}}),Object.defineProperty(this,"toggleSearcher",{enumerable:!0,configurable:!0,writable:!0,value:()=>{this.isSearcherOpen=!this.isSearcherOpen}}),Object.defineProperty(this,"setTreeData",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.treeData=e}}),Object.defineProperty(this,"setupTree",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.treeId=e.id,this.treeData=(0,p.DL)(e,(0,p.t3)(this.treeData),this.isTestKeyVisible)}}),Object.defineProperty(this,"load",{enumerable:!0,configurable:!0,writable:!0,value:()=>(this.isTreeLoaded=!1,this.treeId?this.treeClient.getTree({treeId:this.treeId}).then((({data:e})=>{this.loadTree(e)})):Promise.reject())}),Object.defineProperty(this,"loadTree",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.setupTree(e),this.setIsTreeLoaded(!0),this.treeResponse=e}}),Object.defineProperty(this,"shouldGenerateTreeStructureChangedFlag",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.treeHashCode!==e&&this.isViewModeListView}),Object.defineProperty(this,"countDescendants",{enumerable:!0,configurable:!0,writable:!0,value:e=>{let t=0,r=0;return(0,c.dN)({node:e,getNodeKey:({treeIndex:e})=>e,ignoreCollapsed:!1,currentIndex:null,callback:({node:n})=>{const{type:o,id:i}=n;if(i===e.id)return!0;o===d.tD?r+=1:o===d.UY&&(t+=1)}}),{numberOfIssues:t,numberOfFolders:r}}}),(0,o.rC)(this),this.treeId=+n,this.treeClient=e,this.webSocketTreeClient=t,this.treeTitle=r}setIsTreeLoaded(e){this.isTreeLoaded=e}get rootNode(){return this.treeData[0]}get folders(){return(0,p.QP)({parentNode:this.rootNode,condition:p.zi}).map(p.i7)}get issues(){return(0,p.QP)({parentNode:this.rootNode,condition:p.VW}).map(p.C0)}buildApiId(e,t){const r=e.node;return(0,p.zi)(r)?{apiId:`${r.id}`,projectKey:t,treeType:this.getTreeType(this.treeTitle),type:l.$.FOLDER}:{apiId:r.issueId,testKey:r.issueKey,type:l.$.ISSUE}}createFolder({title:e,parentId:t,projectKey:r}){const n={parentId:t,treeId:this.treeId,payload:{title:e},type:l.$.FOLDER,projectKey:r,treeType:this.getTreeType(this.treeTitle)},o={treeId:this.treeId,payload:n};return this.webSocketTreeClient.append(o)}getTreeType(e){switch(e){case"Requirements":return a.Z.REQUIREMENTS;case"Test Cases":return a.Z.TEST_CASES;case"Test Plans":return a.Z.TEST_PLANS;case"Test Executions":return a.Z.TEST_EXECUTIONS;case"Defects":return a.Z.DEFECTS;default:return null}}collapseAll(){this.setTreeData((0,c.Vk)({treeData:this.treeData,expanded:!1}))}expandAll(){this.setTreeData((0,c.Vk)({treeData:this.treeData,expanded:!0}))}expandChildren(e){const t=this.flatNodes(),r=t.filter((t=>t.path.includes(parseInt(e,10)))),n=t.map((({node:e})=>e));r.forEach((e=>{const t=n.findIndex((({id:t})=>t===e.node.id));t>-1&&(n[t].expanded=!0)}));const o=(0,c.Pm)({flatData:n,getKey:e=>e.id,getParentKey:e=>e.parentId,rootKey:this.rootNode.id});this.treeData=[Object.assign(Object.assign({},this.rootNode),{children:o})]}synchronize(){const{createFlag:e}=i.default;this.treeClient.synchronize({treeId:this.treeId}).then((t=>{if(200===t.status||204===t.status){const t=(0,u.ho)("tree.navigation.dropdownMenu.synchronize.success"),r=(0,u.ho)("tree.navigation.dropdownMenu.synchronize.success.description");e(t,r,"success",!0)}else{const t=(0,u.ho)("general.response.status.error"),r=(0,u.ho)("general.action.status.error.generalError");e(t,r,"error",!0)}}))}getPathToNode(e){const t=this.flatNodes(),r=t.find((0,p.kU)(e));return r?r.path.map((e=>t.find((0,p.kU)(e)).node)):void 0}getFolderPathAsString(e){const t=this.flatNodes(),r=t.find((0,p.kU)(e));return r?r.path.map((e=>t.find((0,p.kU)(e)).node)).filter((e=>(0,p.zi)(e))).map((e=>(0,p.pl)(e)?e.subtitle:e.title)).join(" / "):""}expandParents(e){const t=this.flatNodes(),r=t.find((0,p.kU)(e));if(void 0===r)return;const{path:n}=r,o=t.map((({node:e})=>e));n.forEach((e=>{const t=o.findIndex((({id:t})=>t===e));t>-1&&(o[t].expanded=!0)}));const i=(0,c.Pm)({flatData:o,getKey:e=>e.id,getParentKey:e=>e.parentId,rootKey:this.rootNode.id});this.treeData=[Object.assign(Object.assign({},this.rootNode),{children:i})]}flatNodes(){return(0,c.Pg)({ignoreCollapsed:!1,treeData:this.treeData,getNodeKey:({node:e})=>e.id})}findNode(e){var t;return null===(t=this.flatNodes().find(e))||void 0===t?void 0:t.node}findParentNode(e){var t;return null===(t=this.flatNodes().find((0,p.kU)(e)))||void 0===t?void 0:t.parentNode}findNodesByIssueKeys(e){return this.flatNodes().filter((0,p.WD)(e)).map(p.Bw)}nodeExistsById(e){return!!this.findNode((0,p.kU)(e))}registerTreeControls(e){this.treeControls=e}scrollToNode(e){var t;null===(t=this.treeControls)||void 0===t||t.scrollTo(e)}disableTreeConnection(){this.isTreeConnectionActive=!1}enableTreeConnection(){this.isTreeConnectionActive=!0}subscribeToTreeChanges(){this.webSocketTreeClient.subscribe(this.treeId,(e=>{const t=JSON.parse(e.body),r=(0,p.bp)(t.root).map((e=>e.id)),n=JSON.stringify(r).split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)|0),0);this.treeResponse=t,this.setupTree(t),this.shouldGenerateTreeStructureChangedFlag(n)&&this.createTreeStructureChangedFlag(),this.treeHashCode=n}))}}(0,n.gn)([o.LO],h.prototype,"treeId",void 0),(0,n.gn)([o.LO],h.prototype,"isTestKeyVisible",void 0),(0,n.gn)([o.LO],h.prototype,"treeData",void 0),(0,n.gn)([o.LO],h.prototype,"isTreeLoaded",void 0),(0,n.gn)([o.LO],h.prototype,"isSearcherOpen",void 0),(0,n.gn)([o.LO],h.prototype,"isTreeConnectionActive",void 0),(0,n.gn)([o.aD],h.prototype,"setIsTreeLoaded",null),(0,n.gn)([o.Fl],h.prototype,"rootNode",null),(0,n.gn)([o.Fl],h.prototype,"folders",null),(0,n.gn)([o.Fl],h.prototype,"issues",null),(0,n.gn)([o.aD],h.prototype,"setFolderTestKey",void 0),(0,n.gn)([o.aD],h.prototype,"setIssueTestKey",void 0),(0,n.gn)([o.aD],h.prototype,"createFolder",null),(0,n.gn)([o.aD],h.prototype,"createIssue",void 0),(0,n.gn)([o.aD],h.prototype,"bulkCreateIssues",void 0),(0,n.gn)([o.aD],h.prototype,"updateNode",void 0),(0,n.gn)([o.aD],h.prototype,"removeNode",void 0),(0,n.gn)([o.aD],h.prototype,"bulkRemoveNodes",void 0),(0,n.gn)([o.aD],h.prototype,"bulkMoveIssueNodes",void 0),(0,n.gn)([o.aD],h.prototype,"moveNode",void 0),(0,n.gn)([o.aD],h.prototype,"toggleTestKeyVisibility",void 0),(0,n.gn)([o.aD],h.prototype,"collapseAll",null),(0,n.gn)([o.aD],h.prototype,"expandAll",null),(0,n.gn)([o.aD],h.prototype,"expandChildren",null),(0,n.gn)([o.aD],h.prototype,"toggleSearcher",void 0),(0,n.gn)([o.aD],h.prototype,"setTreeData",void 0),(0,n.gn)([o.aD],h.prototype,"setupTree",void 0),(0,n.gn)([o.aD],h.prototype,"load",void 0),(0,n.gn)([o.aD],h.prototype,"loadTree",void 0),(0,n.gn)([o.aD],h.prototype,"synchronize",null),(0,n.gn)([o.aD],h.prototype,"expandParents",null),(0,n.gn)([o.aD.bound],h.prototype,"disableTreeConnection",null),(0,n.gn)([o.aD.bound],h.prototype,"enableTreeConnection",null);const f=h},94663:(e,t,r)=>{"use strict";var n;r.d(t,{Z:()=>o}),function(e){e.REQUIREMENTS="REQUIREMENTS",e.TEST_CASES="TEST_CASES",e.TEST_PLANS="TEST_PLANS",e.TEST_EXECUTIONS="TEST_EXECUTIONS",e.DEFECTS="DEFECTS"}(n||(n={}));const o=n}}]);
//# sourceMappingURL=3265.6633f59ce6850dbef9ed.bundle.js.map