"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7173],{73107:(e,t,s)=>{s.d(t,{i:()=>i});var i=""},25320:(e,t,s)=>{s.d(t,{Z:()=>p});var i=s(49029),r=s(11669),o=s(64336);const a="scrum",n=()=>{let e,t=0;const s=()=>(e=>r.Z.getAgile(`agile/1.0/board?startAt=${e}`))(t).then((({data:i})=>(e=i.maxResults,i.isLast?{data:i.values,status:200}:(t+=e,s().then((e=>({data:i.values.concat(e.data),status:200})))))));return s()},u=e=>r.Z.getAgile(`agile/1.0/board?projectKeyOrId=${e}`),l=(e,t,s="")=>{let i,o=0;const a=()=>((e,t,s,i)=>r.Z.getAgile(`agile/1.0/board/${e}/${t}?startAt=${s}${i&&`&state=${i}`}`))(e,t,o,s).then((({data:e})=>(i=e.maxResults,e.isLast?{data:e.values,status:200}:(o+=i,a().then((t=>({data:e.values.concat(t.data),status:200})))))));return a()},p={setAnalyticsFlag:e=>o.Z.put("/rest/globalConfiguration/analytics",{analyticsEnabled:e}),getApplicationProperties:()=>r.Z.get("/application-properties").then((e=>e.data)),getProjectIssueTypes:e=>r.Z.get(`/project/${e}/?expand=issueTypes`).then((({data:e})=>e)),getComponents:e=>r.Z.get(`/project/${e}/components`),getAllUserIssueTypes:()=>r.Z.get("/issuetype").then((({data:e})=>e)),getAllFields:()=>r.Z.get("/field").then((({data:e})=>e)),getPriorities:()=>r.Z.get("/priority"),getGlobalConfiguration:()=>o.Z.get("/rest/globalConfiguration").then((({data:e})=>e)),getProjectConfiguration:e=>o.Z.get(`/projects/${e}`).then((({data:e})=>e)),getVersions:e=>r.Z.get(`/project/${e}/versions`),getAttachmentsSettings:()=>r.Z.get("/attachment/meta"),getSprintsForProject:e=>u(e).then((e=>{const t=e.data.values[0].id;return l(t,i.BB.SPRINT)})),isScrumProject:e=>u(e).then((e=>e.data.values.map((e=>e.type===a)).includes(!0))).catch((()=>!1)),getProjectStatuses:e=>r.Z.get(`/project/${e}/statuses`),getAllLinkTypes:()=>r.Z.get("/issueLinkType").then((({data:e})=>e)),getAllSprints:()=>n().then((e=>{const t=e.data.filter((e=>e.type===a)).map((e=>l(e.id,i.BB.SPRINT,"active,future").then((({data:e})=>e))));return Promise.all(t.map((e=>e.catch((e=>(console.error(e),null))))))})),getAllEpicLinks:()=>n().then((e=>{const t=e.data.map((e=>l(e.id,i.BB.EPIC).then((({data:e})=>e))));return Promise.all(t)})),getFieldNameUsingAutoComplete:(e,t)=>r.Z.get(`/jql/autocompletedata/suggestions?fieldName=${t}&fieldValue=${e}`).then((({data:{results:e}})=>({data:e.map((e=>e.value)),status:200})))}},14002:(e,t,s)=>{s.d(t,{Z:()=>o});var i=s(11669);const r={getCreateMeta:(e,t)=>i.Z.get(`/issue/createmeta?projectIds=${e}&issuetypeIds=${t}&expand=projects.issuetypes.fields`).then((({data:e})=>e)),getCreateMetaForProjects:(e,t)=>i.Z.get(`/issue/createmeta?projectIds=${e.toString()}&issuetypeIds=${t.toString()}&expand=projects.issuetypes.fields`).then((({data:e})=>e)),getCreateMetaForIssues:e=>{const t=[...new Set(e.map((e=>e.fields.project.id.toString())))],s=[...new Set(e.map((e=>e.fields.issuetype.id)))];return r.getCreateMetaForProjects(t,s).then((t=>({issues:e,createMetaProjects:t.projects})))}},o=r},20879:(e,t,s)=>{s.d(t,{Z:()=>r});var i=s(11669);const r={getIssueLinkType:()=>i.Z.get("/issueLinkType").then((({data:e})=>e)),createIssueLink:e=>i.Z.post("/issueLink",e),deleteIssueLinks:e=>i.Z.del(`/issueLink/${e}`).then((({data:e})=>e))}},28811:(e,t,s)=>{s.d(t,{Z:()=>r});var i=s(64336);const r={clearFieldsCache:e=>i.Z.put(`/fields/project/${e}/clear`),updateIssueTypesConfiguration:(e,t)=>i.Z.put(`/projects/${e}/issueTypes`,t),addDefaultIssueTypes:e=>i.Z.put(`/defaultIssueTypes/${e}`),getIssueTypesConfiguration:e=>i.Z.get(`/projects/${e}/issueTypes`).then((({data:e})=>e))}},12132:(e,t,s)=>{s.d(t,{Z:()=>u});var i=s(5163),r=s(80075),o=s(39351),a=s(10394);class n{constructor(e){Object.defineProperty(this,"customFieldsMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"initStore",{enumerable:!0,configurable:!0,writable:!0,value:()=>(0,i.mG)(this,void 0,void 0,(function*(){o.XT.forEach(this.augmentCustomFieldMapByRankSchemeKey)}))}),Object.defineProperty(this,"getCustomFieldsMap",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.customFieldsMap}),Object.defineProperty(this,"getEnvironmentCustomfield",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.findCustomFieldByCustomSchema(a.VP)}),Object.defineProperty(this,"getEnvironmentCustomfieldId",{enumerable:!0,configurable:!0,writable:!0,value:()=>{var e;return null===(e=this.findCustomFieldByCustomSchema(a.VP))||void 0===e?void 0:e.id}}),Object.defineProperty(this,"getEnvironmentCustomfieldKey",{enumerable:!0,configurable:!0,writable:!0,value:()=>{var e;return null===(e=this.findCustomFieldByCustomSchema(a.VP))||void 0===e?void 0:e.key}}),Object.defineProperty(this,"getEpicNameCustomfield",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.findCustomFieldByCustomSchema(o.WW)}),Object.defineProperty(this,"getEpicLinkCustomfield",{enumerable:!0,configurable:!0,writable:!0,value:()=>this.findCustomFieldByCustomSchema(o.B0)}),Object.defineProperty(this,"getEpicNameCustomfieldId",{enumerable:!0,configurable:!0,writable:!0,value:()=>{var e;return null===(e=this.findCustomFieldByCustomSchema(o.WW))||void 0===e?void 0:e.id}}),Object.defineProperty(this,"getEpicLinkCustomfieldId",{enumerable:!0,configurable:!0,writable:!0,value:()=>{var e;return null===(e=this.findCustomFieldByCustomSchema(o.B0))||void 0===e?void 0:e.id}}),Object.defineProperty(this,"getCustomField",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.findCustomFieldBykey(e)}),Object.defineProperty(this,"getRankCustomfieldId",{enumerable:!0,configurable:!0,writable:!0,value:()=>{var e;return null===(e=this.findCustomFieldByCustomSchema(o.f8))||void 0===e?void 0:e.id}}),Object.defineProperty(this,"getSprintCustomfieldId",{enumerable:!0,configurable:!0,writable:!0,value:()=>{var e;return null===(e=this.findCustomFieldByCustomSchema(o.z9))||void 0===e?void 0:e.id}}),Object.defineProperty(this,"augmentCustomFieldMapByRankSchemeKey",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=this.findCustomFieldByCustomSchema(e);t&&this.customFieldsMap&&(this.customFieldsMap=Object.assign(Object.assign({},this.customFieldsMap),{[e]:t}))}}),Object.defineProperty(this,"findCustomFieldByCustomSchema",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var t;return null===(t=Object.values(this.customFieldsMap||[]))||void 0===t?void 0:t.find((t=>{var s;return null===(s=t.schema)||void 0===s?void 0:s.custom.includes(e)}))}}),Object.defineProperty(this,"findCustomFieldBykey",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var t;return null===(t=Object.values(this.customFieldsMap))||void 0===t?void 0:t.find((t=>t.key===e))}}),(0,r.rC)(this),this.customFieldsMap=e,o.XT.forEach(this.augmentCustomFieldMapByRankSchemeKey)}}(0,i.gn)([r.LO],n.prototype,"customFieldsMap",void 0),(0,i.gn)([r.aD],n.prototype,"initStore",void 0);const u=n},77436:(e,t,s)=>{var i;s.d(t,{s:()=>i}),function(e){e.SUCCESS="success",e.ERROR="error",e.WARNING="warning",e.INFO="info"}(i||(i={}))},69283:(e,t,s)=>{s.d(t,{default:()=>b});var i=s(5163),r=s(80075),o=s(25320),a=s(74495),n=s(20879),u=s(16354),l=s(77436),p=s(8288),d=s(9392),c=s(12132);class y{constructor(){Object.defineProperty(this,"applicationProperties",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"priorities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"prioritiesLoaded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"customIssueLinkTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"customFieldsData",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"issueLinksTypes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"attachmentSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"license",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"isAnalyticsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"daysToExpire",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"isLoaded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"errors",{enumerable:!0,configurable:!0,writable:!0,value:{isTreeDataEmpty:!1,issueDataNotLoaded:!1,configurationLoaded:!1,commentsNotLoaded:!1,permissionsNotLoaded:!1}}),Object.defineProperty(this,"customFieldStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"updateAnalyticsFlag",{enumerable:!0,configurable:!0,writable:!0,value:e=>(this.isAnalyticsEnabled=e,o.Z.setAnalyticsFlag(e).catch((()=>{u.default.createFlag((0,d.ho)("general.response.status.error"),(0,d.ho)("settings.anonymize.error.description"),l.s.ERROR),this.isAnalyticsEnabled=!e})))}),Object.defineProperty(this,"setGlobalConfiguration",{enumerable:!0,configurable:!0,writable:!0,value:({customFieldsData:e,defaultIssueTypes:t,issueLinkTypes:s,license:i})=>{this.defaultIssueTypes=t,this.customIssueLinkTypes=s,this.license=i.active,this.daysToExpire=i.daysToExpire,this.customFieldsData=e,this.customFieldStore=new c.Z(e)}}),Object.defineProperty(this,"setIssueLinkTypes",{enumerable:!0,configurable:!0,writable:!0,value:({issueLinkTypes:e})=>{this.issueLinksTypes=e}}),Object.defineProperty(this,"emitLicenseEvent",{enumerable:!0,configurable:!0,writable:!0,value:({license:e})=>{(0,a.rq)(null==e?void 0:e.subscriptionType)}}),Object.defineProperty(this,"getCustomIssueLinkTypeByName",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.customIssueLinkTypes[e]}),Object.defineProperty(this,"getIssueLinkById",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.issueLinksTypes.find((({id:t})=>+t===e))}),Object.defineProperty(this,"getPropertyByKey",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.applicationProperties.find((({key:t})=>t===e))}),(0,r.rC)(this)}get isLicenseActive(){return this.license}get parsedPriorities(){return this.priorities.map((e=>({label:e.name,value:e.id,iconURL:(0,p.m)(e)})))}getGlobalConfiguration(){return Promise.all([o.Z.getGlobalConfiguration(),n.Z.getIssueLinkType()]).then((([e,t])=>{this.setGlobalConfiguration(e),this.setIssueLinkTypes(t),this.emitLicenseEvent(e),this.setApplicationProperties(e.applicationProperties),this.isAnalyticsEnabled=e.analyticsEnabled,this.isLoaded=!0}))}setApplicationProperties(e){this.applicationProperties=e}getPriorities(){return o.Z.getPriorities().then((0,r.aD)("Get priority data",(({data:e})=>{this.priorities=e}))).catch(console.error).finally((()=>{this.prioritiesLoaded=!0}))}getAttachmentsSettings(){return o.Z.getAttachmentsSettings().then((0,r.aD)("Get attachments settings",(({data:e})=>{this.attachmentSettings=e}))).catch(console.error)}}(0,i.gn)([r.LO],y.prototype,"applicationProperties",void 0),(0,i.gn)([r.LO],y.prototype,"priorities",void 0),(0,i.gn)([r.LO],y.prototype,"prioritiesLoaded",void 0),(0,i.gn)([r.LO],y.prototype,"customIssueLinkTypes",void 0),(0,i.gn)([r.LO],y.prototype,"customFieldsData",void 0),(0,i.gn)([r.LO],y.prototype,"defaultIssueTypes",void 0),(0,i.gn)([r.LO],y.prototype,"issueLinksTypes",void 0),(0,i.gn)([r.LO],y.prototype,"attachmentSettings",void 0),(0,i.gn)([r.LO],y.prototype,"license",void 0),(0,i.gn)([r.LO],y.prototype,"isAnalyticsEnabled",void 0),(0,i.gn)([r.LO],y.prototype,"daysToExpire",void 0),(0,i.gn)([r.LO],y.prototype,"isLoaded",void 0),(0,i.gn)([r.LO],y.prototype,"errors",void 0),(0,i.gn)([r.Fl],y.prototype,"isLicenseActive",null),(0,i.gn)([r.Fl],y.prototype,"parsedPriorities",null),(0,i.gn)([r.aD],y.prototype,"getGlobalConfiguration",null),(0,i.gn)([r.aD],y.prototype,"updateAnalyticsFlag",void 0),(0,i.gn)([r.aD],y.prototype,"setApplicationProperties",null),(0,i.gn)([r.aD],y.prototype,"setGlobalConfiguration",void 0),(0,i.gn)([r.aD],y.prototype,"setIssueLinkTypes",void 0),(0,i.gn)([r.aD],y.prototype,"getPriorities",null),(0,i.gn)([r.aD],y.prototype,"getAttachmentsSettings",null);new y;const b=new y},7173:(e,t,s)=>{s.d(t,{Z:()=>I});var i=s(5163),r=s(80075),o=s(9392),a=s(73107),n=s(8288),u=s(25320),l=s(28811),p=s(57165),d=s(98022),c=s(69283),y=s(14002);class b{constructor(e){Object.defineProperty(this,"issueTypesStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"issueTypesWithFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"projectsWithIssueTypeFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isTimeTrackingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"affectsVersionEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"getFieldConfiguration",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=this.issueTypesStore.projectIssueTypeIds,s=this.issueTypesStore.defectSettingsProjectIds,i=[e,...s];return Promise.all([y.Z.getCreateMetaForProjects(i,t),u.Z.getAllFields()]).then((([t,s])=>{var i;this.projectsWithIssueTypeFields=t.projects,this.issueTypesWithFields=null===(i=t.projects.find((({id:t})=>t===e)))||void 0===i?void 0:i.issuetypes,this.isTimeTrackingEnabled=!!s.filter((e=>"timetracking"===e.id)).length,this.affectsVersionEnabled=!!s.filter((e=>"versions"===e.id)).length}))}}),(0,r.rC)(this),this.issueTypesStore=e}}(0,i.gn)([r.LO],b.prototype,"issueTypesWithFields",void 0),(0,i.gn)([r.LO],b.prototype,"projectsWithIssueTypeFields",void 0),(0,i.gn)([r.LO],b.prototype,"isTimeTrackingEnabled",void 0),(0,i.gn)([r.LO],b.prototype,"affectsVersionEnabled",void 0),(0,i.gn)([r.aD],b.prototype,"getFieldConfiguration",void 0);const g=b;class f{constructor(){Object.defineProperty(this,"projectId",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"projectKey",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"projectIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"allIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defectsSettings",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defectProjectsDetails",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"filteredProjectIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"issueTypesWithEpicName",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"isLoaded",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"defectsIssueTypesPerProject",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"defaultIssueTypesIds",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"isManaged",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"requirementsIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"testCasesIssueType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"testExecutionsIssueType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"testPlansIssueType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"globalConfigurationStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"createFieldsConfigurationStore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getTypeByIssueType",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=this.issueTypeConfigurationGroupedByType,s=Object.keys(t).filter((s=>t[s].includes(e)));return s.length>0?s[0]:"REQ"}}),Object.defineProperty(this,"setIsLoaded",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.isLoaded=e}}),Object.defineProperty(this,"loadConfiguration",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>(this.setIsLoaded(!1),this.projectId=e,this.projectKey=t,Promise.all([this.loadIssueTypesConfiguration(e),this.loadProjectIssueTypes(e),this.loadAllIssueTypes()]).then((([e])=>this.setConfiguration(e))).then((()=>this.createFieldsConfigurationStore.getFieldConfiguration(this.projectId))).then((()=>this.setFilteredProjectIssueTypes(this.removeIssueTypesWithEpicNameCf(this.projectIssueTypes)))).catch((()=>{this.isManaged=!1})))}),Object.defineProperty(this,"loadIssueTypesConfiguration",{enumerable:!0,configurable:!0,writable:!0,value:e=>(this.projectId=e,l.Z.getIssueTypesConfiguration(e))}),Object.defineProperty(this,"setConfiguration",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.defaultIssueTypes=this.globalConfigurationStore.defaultIssueTypes;const{defects:t,requirements:s,testCase:i,testExecution:r,testPlan:o}=e;this.setDefectsSettings(t),this.requirementsIssueTypes=null==s?void 0:s.map((e=>e.toString())),this.testCasesIssueType=null==i?void 0:i.toString(),this.testExecutionsIssueType=null==r?void 0:r.toString(),this.testPlansIssueType=null==o?void 0:o.toString(),this.setIsLoaded(!0)}}),Object.defineProperty(this,"setDefectsSettings",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.defectsSettings=(null==e?void 0:e.length)>0?e.map((e=>({projectId:e.projectId.toString(),issueTypeIds:e.issueTypeIds.map((e=>e.toString())),fieldId:(0,d.v4)()}))):[{projectId:this.projectId,issueTypeIds:[],fieldId:(0,d.v4)()}]}}),Object.defineProperty(this,"setFilteredProjectIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.filteredProjectIssueTypes=e}}),Object.defineProperty(this,"setCreateFieldsConfigurationStore",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.createFieldsConfigurationStore=e}}),Object.defineProperty(this,"loadDefectProjects",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=e.map((e=>e.projectId)),s={};t.forEach(((t,i)=>{s[t]=e[i].issueTypeIds}));const i=t.map((e=>p.Z.getProject(e)));Promise.all(i).then((e=>{const t={};e.forEach((e=>{const i=s[e.id];t[e.id]=e.issueTypes.filter((e=>i.includes(e.id)))})),this.defectsIssueTypesPerProject=t,this.defectProjectsDetails=e}))}}),Object.defineProperty(this,"setIssueTypesWithEpicName",{enumerable:!0,configurable:!0,writable:!0,value:e=>{this.issueTypesWithEpicName=e}}),Object.defineProperty(this,"loadProjectIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:(e=this.projectId)=>u.Z.getProjectIssueTypes(e).then((({issueTypes:e})=>{this.projectIssueTypes=e.filter(this.removeSubTaskIssueTypes)}))}),Object.defineProperty(this,"loadAllIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:()=>u.Z.getAllUserIssueTypes().then((e=>{this.allIssueTypes=e.filter(this.removeSubTaskIssueTypes)}))}),Object.defineProperty(this,"removeSubTaskIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:e=>!e.subtask}),Object.defineProperty(this,"filterIssueTypesWithEpicName",{enumerable:!0,configurable:!0,writable:!0,value:(e,t,s)=>e.filter((e=>{var i;return null===(i=t.find((({id:e})=>e===this.projectId)))||void 0===i?void 0:i.issuetypes.find((t=>t.id===e.id)).fields[s]}))}),Object.defineProperty(this,"removeIssueTypesWithEpicNameCf",{enumerable:!0,configurable:!0,writable:!0,value:e=>{var t;const s=null===(t=this.globalConfigurationStore.customFieldStore)||void 0===t?void 0:t.getEpicNameCustomfieldId(),i=this.createFieldsConfigurationStore.projectsWithIssueTypeFields,r=this.filterIssueTypesWithEpicName(e,i,s),o=e.filter((e=>!r.includes(e)));return this.setIssueTypesWithEpicName(r),o}}),(0,r.rC)(this),this.globalConfigurationStore=c.default,this.createFieldsConfigurationStore=new g(this),(0,r.U5)((()=>this.defectsSettings),((e,t,s)=>{this.defectsSettings.length>0&&(this.loadDefectProjects(e),s.dispose())})),(0,r.rC)(this)}get requirementsIssueTypeIds(){return this.requirementsIssueTypes}get testCasesIssueTypeId(){return this.testCasesIssueType}get testExecutionsIssueTypeId(){return this.testExecutionsIssueType}get testPlansIssueTypeId(){return this.testPlansIssueType}get projectIssueTypeIds(){return this.projectIssueTypes.map((e=>null==e?void 0:e.id))}get defectIssueTypeIds(){const e=this.defectsSettings.flatMap((e=>[...e.issueTypeIds]));return[...new Set(e)]}get rtmIssueTypesIds(){return this.defaultIssueTypesIds=[this.defaultIssueTypes.testExecution,this.defaultIssueTypes.testCase,this.defaultIssueTypes.testPlan,this.defaultIssueTypes.defect,...this.defaultIssueTypes.requirements],this.defaultIssueTypesIds.map((e=>e.toString()))}get defectSettingsProjectIds(){return this.defectsSettings.map((e=>e.projectId))}get isCrossProject(){return!(1===this.defectSettingsProjectIds.length&&this.defectProjectsDetails.find((e=>(null==e?void 0:e.id)===this.projectId)))}get rtmConfigurationIssueTypesIds(){return[...this.requirementsIssueTypeIds,this.testCasesIssueTypeId,this.testPlansIssueTypeId,this.testExecutionsIssueTypeId,...this.defectIssueTypeIds]}get issueTypeConfigurationGroupedByType(){return{REQ:this.requirementsIssueTypeIds,TC:[this.testCasesIssueTypeId],TP:[this.testPlansIssueTypeId],TE:[this.testExecutionsIssueTypeId],DEF:this.defectIssueTypeIds}}}(0,i.gn)([r.LO],f.prototype,"projectId",void 0),(0,i.gn)([r.LO],f.prototype,"projectKey",void 0),(0,i.gn)([r.LO],f.prototype,"projectIssueTypes",void 0),(0,i.gn)([r.LO],f.prototype,"allIssueTypes",void 0),(0,i.gn)([r.LO],f.prototype,"defectsSettings",void 0),(0,i.gn)([r.LO],f.prototype,"defaultIssueTypes",void 0),(0,i.gn)([r.LO],f.prototype,"defectProjectsDetails",void 0),(0,i.gn)([r.LO],f.prototype,"filteredProjectIssueTypes",void 0),(0,i.gn)([r.LO],f.prototype,"issueTypesWithEpicName",void 0),(0,i.gn)([r.LO],f.prototype,"isLoaded",void 0),(0,i.gn)([r.LO],f.prototype,"defectsIssueTypesPerProject",void 0),(0,i.gn)([r.Fl],f.prototype,"requirementsIssueTypeIds",null),(0,i.gn)([r.Fl],f.prototype,"testCasesIssueTypeId",null),(0,i.gn)([r.Fl],f.prototype,"testExecutionsIssueTypeId",null),(0,i.gn)([r.Fl],f.prototype,"testPlansIssueTypeId",null),(0,i.gn)([r.Fl],f.prototype,"projectIssueTypeIds",null),(0,i.gn)([r.Fl],f.prototype,"defectIssueTypeIds",null),(0,i.gn)([r.Fl],f.prototype,"rtmIssueTypesIds",null),(0,i.gn)([r.Fl],f.prototype,"defectSettingsProjectIds",null),(0,i.gn)([r.Fl],f.prototype,"isCrossProject",null),(0,i.gn)([r.Fl],f.prototype,"rtmConfigurationIssueTypesIds",null),(0,i.gn)([r.Fl],f.prototype,"issueTypeConfigurationGroupedByType",null),(0,i.gn)([r.aD],f.prototype,"setIsLoaded",void 0),(0,i.gn)([r.aD],f.prototype,"loadConfiguration",void 0),(0,i.gn)([r.aD],f.prototype,"loadIssueTypesConfiguration",void 0),(0,i.gn)([r.aD],f.prototype,"setConfiguration",void 0),(0,i.gn)([r.aD],f.prototype,"setDefectsSettings",void 0),(0,i.gn)([r.aD],f.prototype,"setFilteredProjectIssueTypes",void 0),(0,i.gn)([r.aD],f.prototype,"setCreateFieldsConfigurationStore",void 0),(0,i.gn)([r.aD],f.prototype,"loadDefectProjects",void 0),(0,i.gn)([r.aD],f.prototype,"setIssueTypesWithEpicName",void 0);const h=f;class m extends h{constructor(){super(),Object.defineProperty(this,"usedIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:{requirement:[],testcase:void 0,testplan:void 0,testexecution:void 0}}),Object.defineProperty(this,"setUsedIssueTypes",{enumerable:!0,configurable:!0,writable:!0,value:(e,t)=>{this.usedIssueTypes=Object.assign(Object.assign({},this.usedIssueTypes),{[e]:t||[]})}}),Object.defineProperty(this,"parseProjectsToOptions",{enumerable:!0,configurable:!0,writable:!0,value:e=>e.map((e=>({label:e.name,value:e.id,projectKey:e.key})))}),Object.defineProperty(this,"parseIssueTypesToOptions",{enumerable:!0,configurable:!0,writable:!0,value:e=>e.filter((e=>!e.subtask)).map((e=>{var t;return{label:e.name,value:e.id,iconURL:(0,n.m)(e),avatarId:null===(t=e.avatarId)||void 0===t?void 0:t.toString()}}))}),Object.defineProperty(this,"getDestinationByIssueTypeId",{enumerable:!0,configurable:!0,writable:!0,value:e=>{const t=this.defectIssueTypeIds,s=this.requirementsIssueTypeIds,i=t.find((t=>t===e)),r=s.find((t=>t===e));switch(e){case this.testCasesIssueTypeId:return"testCases";case this.testPlansIssueTypeId:return"testPlans";case this.testExecutionsIssueTypeId:return"testExecutions";case i:return"defects";case r:return"requirements";default:return""}}}),Object.defineProperty(this,"getIssueTypeOptionById",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.parseIssueTypesToOptions(this.projectIssueTypes).find((t=>t.value===e))||this.parseDeletedIssueType(e)}),Object.defineProperty(this,"getDefaultIssueTypeOptionById",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.parseIssueTypesToOptions(this.projectIssueTypes).find((t=>t.value===e))}),Object.defineProperty(this,"getAllIssueTypeOptionById",{enumerable:!0,configurable:!0,writable:!0,value:e=>this.parseIssueTypesToOptions(this.allIssueTypes).find((t=>t.value===e))}),Object.defineProperty(this,"getIssueTypeOptionsByIds",{enumerable:!0,configurable:!0,writable:!0,value:e=>e.map(this.getIssueTypeOptionById).filter((e=>void 0!==e))}),Object.defineProperty(this,"getDefaultIssueTypeOptionsById",{enumerable:!0,configurable:!0,writable:!0,value:e=>e.map(this.getDefaultIssueTypeOptionById).filter((e=>void 0!==e))}),Object.defineProperty(this,"getAllIssueTypeOptionsByIds",{enumerable:!0,configurable:!0,writable:!0,value:e=>e.map(this.getAllIssueTypeOptionById).filter((e=>void 0!==e))}),Object.defineProperty(this,"parseDeletedIssueType",{enumerable:!0,configurable:!0,writable:!0,value:e=>({avatarId:`${a.i}/images/issue-types/blank_avatar_icon.svg`,iconURL:`${a.i}/images/issue-types/blank_avatar_icon.svg`,value:e,label:(0,o.ho)("general.issueType.deleted"),isDeleted:!0})}),Object.defineProperty(this,"getIssueTypeNameFormatted",{enumerable:!0,configurable:!0,writable:!0,value:e=>{switch(e){case"defects":return"Defect";case"testCases":return"Test Case";case"testPlans":return"Test Plan";case"requirements":return"Requirement";default:return"Issue"}}}),(0,r.rC)(this)}get usedIssueTypesIds(){const{requirement:e,testcase:t,testplan:s,testexecution:i}=this.usedIssueTypes;return[...e,t,s,i].map((e=>(null==e?void 0:e.value)?e.value:""))}get allIssueTypesOptions(){return this.parseIssueTypesToOptions(this.allIssueTypes)}get allProjectsOptions(){return this.parseProjectsToOptions(this.defectProjectsDetails)}get reportsIssueTypesOptions(){if(this.isLoaded){const e=this.projectIssueTypeIds.filter((e=>!this.rtmConfigurationIssueTypesIds.includes(e))),t=(0,o.ho)("issueTypes.unConfigured.label"),s=(0,o.ho)("issueTypes.rtm.label"),i=this.parseToIssueTypesIdsToMenuOptions(t,e);return[this.parseToIssueTypesIdsToMenuOptions(s,this.rtmConfigurationIssueTypesIds),...0!==i.options.length?[i]:[]]}return this.allProjectsOptions}get uniqueIssueTypesOptions(){const e=this.filteredProjectIssueTypes.filter((e=>!this.usedIssueTypesIds.includes(e.id)));return this.parseIssueTypesToOptions(e)}get uniqueIssueTypesOptionsWithEpicNameCf(){const e=this.projectIssueTypes.filter((e=>!this.usedIssueTypesIds.includes(e.id)));return this.parseIssueTypesToOptions(e)}parseToIssueTypesIdsToMenuOptions(e,t){return{label:e,options:this.getIssueTypeOptionsByIds(t)}}}(0,i.gn)([r.LO],m.prototype,"usedIssueTypes",void 0),(0,i.gn)([r.Fl],m.prototype,"usedIssueTypesIds",null),(0,i.gn)([r.Fl],m.prototype,"allIssueTypesOptions",null),(0,i.gn)([r.Fl],m.prototype,"allProjectsOptions",null),(0,i.gn)([r.Fl],m.prototype,"reportsIssueTypesOptions",null),(0,i.gn)([r.Fl],m.prototype,"uniqueIssueTypesOptions",null),(0,i.gn)([r.Fl],m.prototype,"uniqueIssueTypesOptionsWithEpicNameCf",null),(0,i.gn)([r.aD],m.prototype,"setUsedIssueTypes",void 0);const I=m}}]);
//# sourceMappingURL=7173.e4709f1f7fad152f2b57.bundle.js.map