/*! For license information please see 1905.631e2168c1c1b2bc5659.bundle.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[1905,6057],{32946:(e,t,n)=>{"use strict";n.d(t,{Ew:()=>ke,ZY:()=>Ee});var r=n(56666),o=n(87598),i=n(83951),a=n(65635),c=n(15907),s=n(49618),u=n(93490),l=n(85860),d=n(15817),p=n(55685),f=n(50306),h=n(48092),v=n(14566),m=n(30491),g=n(17818),y=n(76402),b=n(59629),w=n(88306),k=n(75588),E=n(30773),x=n(15672),O=n(76287),S=n(73133),C=n(14770),T=n(50165),A=n(5956),_=n(93093),P=n(278),D=n(47958),Z=n(99017),I=n(33874),L=n(21e3),M=n(45133),R=n(63053),N=n(18365),j=n(69824),F=n(28075),B=n(61332),z=n(67777),U=n(4950),V=n(70177),H=n(51775),W=n(77480),G=n(89726),q=n(43726),K=n(68032),$=n(12246),J=n(49697),Y=n(70778),X=n(34321),Q=n(99462),ee=n(23677),te=n(48312),ne=n(63935),re=n(19757),oe=n(54718),ie=n(78297),ae=n(43193),ce=n(84336),se=n(39915),ue=n(91228),le=n(70164),de=n(73562),pe=n(30562),fe=n(41256);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)return{};var r=e.reduce((function(e,r){var o=r.name,i=r.spec;return-1!==t.indexOf(o)&&(e[o]=n[o]||i),e}),{});return Object.keys(n).reduce((function(e,t){return e[t]||(e[t]=n[t]),e}),r)}function me(e){return{name:"__".concat(e,"GroupDeclaration"),spec:{group:e}}}var ge=[me(i.r$),me(i.rZ),me(i.dZ),me(i.Zj)],ye=ge.map((function(e){return e.name})),be=[{name:"doc",spec:O.J},{name:"paragraph",spec:S.A},{name:"text",spec:C.f},{name:"bulletList",spec:T.i},{name:"orderedList",spec:A.AG},{name:"listItem",spec:_.q},{name:"heading",spec:P.n},{name:"blockquote",spec:D.M},{name:"codeBlock",spec:Z.F},{name:"panel",spec:(0,I.B)(!0)},{name:"rule",spec:L.j},{name:"image",spec:M.B},{name:"mention",spec:R.Pl},{name:"caption",spec:N.V},{name:"media",spec:j.BC},{name:"mediaGroup",spec:F._},{name:"mediaSingle",spec:B.t2},{name:"mediaInline",spec:z.j},{name:"placeholder",spec:U.W},{name:"layoutSection",spec:V.I},{name:"layoutColumn",spec:H.H},{name:"hardBreak",spec:W.l},{name:"emoji",spec:G.r},{name:"table",spec:q.Kz},{name:"tableCell",spec:q.K5},{name:"tableRow",spec:q.RL},{name:"tableHeader",spec:q.Rt},{name:"confluenceJiraIssue",spec:K.G},{name:"confluenceUnsupportedInline",spec:$.O},{name:"confluenceUnsupportedBlock",spec:J.S},{name:"decisionList",spec:Y.w},{name:"decisionItem",spec:X.O},{name:"taskList",spec:Q.o},{name:"taskItem",spec:ee.p},{name:"date",spec:te.h},{name:"status",spec:ne.i},{name:"expand",spec:re.j},{name:"nestedExpand",spec:oe.K},{name:"extension",spec:ie.A},{name:"inlineExtension",spec:ae.m},{name:"bodiedExtension",spec:ce.H},{name:"inlineCard",spec:se.D},{name:"blockCard",spec:ue._},{name:"embedCard",spec:le._},{name:"unknownBlock",spec:de.Z},{name:"unsupportedBlock",spec:pe.V},{name:"unsupportedInline",spec:fe.X}],we=[{name:"link",spec:a.p},{name:"em",spec:c.em},{name:"strong",spec:s.f},{name:"textColor",spec:u.zP},{name:"strike",spec:l.Y},{name:"subsup",spec:d.Z},{name:"underline",spec:p.e},{name:"code",spec:f.T},{name:"typeAheadQuery",spec:h.X},{name:"alignment",spec:v.o},{name:"annotation",spec:m.dQ},{name:"confluenceInlineComment",spec:{inclusive:!1,excludes:"",attrs:{reference:{default:""}},parseDOM:[{tag:'span[data-mark-type="confluenceInlineComment"]'}],toDOM:function(e){return["span",{"data-mark-type":"confluenceInlineComment","data-reference":e.attrs.reference}]}}}].concat(ge,[{name:"breakout",spec:g.D},{name:"dataConsumer",spec:y.h},{name:"fragment",spec:b.D},{name:"indentation",spec:w.N},{name:"border",spec:k.C},{name:"unsupportedMark",spec:E.C},{name:"unsupportedNodeAttribute",spec:x.p}]);function ke(e){var t=e.customNodeSpecs,n=e.customMarkSpecs,r=Object.keys(t||{}).concat(e.nodes),i=Object.keys(n||{}).concat(e.marks||[]).concat(ye),a=ve(be,r,t),c=ve(we,i,n);return a=Ee(a,c),new o.V_({nodes:a,marks:c})}function Ee(e,t){return Object.keys(e).forEach((function(n){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e[n]);o.marks&&"_"!==o.marks&&(o.marks=o.marks.split(" ").filter((function(e){return!!t[e]})).join(" ")),o.content&&(o.content=function(e,t){var n=t.replace(/\W/g," ").split(" ").filter((function(t){return!function(e,t){var n=Object.keys(e);if(n.indexOf(t)>-1)return!0;for(var r in e){var o=e[r];if(o&&o.group===t)return!0}return!1}(e,t)}));return n.reduce((function(e,t){return function(e,t){if(!t.length)return e||"";if(!e||!e.match(/\w/))return"";var n="(".concat(t,"((\\s)*\\|)+)|((\\|(\\s)*)+").concat(t,")|(").concat(t,"$)|(").concat(t,"(\\+|\\*))");return e.replace(new RegExp(n,"g"),"").replace("  "," ").trim()}(e,t)}),t)}(e,o.content)),e[n]=o})),e}},89896:(e,t,n)=>{"use strict";n.d(t,{R4:()=>c,kp:()=>a});var r=n(70177),o=n(75588),i=n(32946),a=function(){var e={nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","panel","rule","image","caption","mention","media","mediaGroup","mediaSingle","mediaInline","confluenceUnsupportedBlock","confluenceUnsupportedInline","confluenceJiraIssue","expand","nestedExpand","extension","inlineExtension","bodiedExtension","hardBreak","emoji","table","tableCell","tableHeader","tableRow","decisionList","decisionItem","taskList","taskItem","unknownBlock","date","status","placeholder","layoutSection","layoutColumn","inlineCard","blockCard","embedCard","unsupportedBlock","unsupportedInline"],marks:["link","em","strong","strike","subsup","underline","code","textColor","confluenceInlineComment","breakout","alignment","indentation","annotation","dataConsumer","unsupportedMark","unsupportedNodeAttribute","typeAheadQuery","fragment"]};return"stage0"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"final")&&(e.customNodeSpecs={layoutSection:r.C},e.customMarkSpecs={border:o.C}),(0,i.Ew)(e)},c=a()},83951:(e,t,n)=>{"use strict";n.d(t,{Zj:()=>i,dZ:()=>o,r$:()=>a,rZ:()=>r,sP:()=>s,xy:()=>c});var r="fontStyle",o="searchQuery",i="link",a="color",c="alignment",s="indentation"},14566:(e,t,n)=>{"use strict";n.d(t,{o:()=>i,z:()=>o});var r=n(83951),o={end:"right",right:"end",center:"center"},i={excludes:"alignment ".concat(r.sP),group:r.xy,attrs:{align:{}},parseDOM:[{tag:"div.fabric-editor-block-mark",getAttrs:function(e){var t=e.getAttribute("data-align");return!!t&&{align:t}}}],toDOM:function(e){return["div",{class:"fabric-editor-block-mark fabric-editor-alignment fabric-editor-align-".concat(e.attrs.align),"data-align":e.attrs.align},0]}}},30491:(e,t,n)=>{"use strict";n.d(t,{$S:()=>s,dQ:()=>u,j9:()=>a,to:()=>c});var r=n(56666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e){return e.INLINE_COMMENT="inlineComment",e}({}),c=function(e){return e.RESOLVED="resolved",e.ACTIVE="active",e}({});function s(e){var t=e.id,n=e.annotationType,r=e.state,o={"data-mark-type":"annotation","data-mark-annotation-type":n,"data-id":t};return r?i(i({},o),{},{"data-mark-annotation-state":r}):o}var u={inclusive:!0,group:"annotation",excludes:"",attrs:{id:{default:""},annotationType:{default:a.INLINE_COMMENT}},parseDOM:[{tag:'span[data-mark-type="annotation"]',mark:"annotation",getAttrs:function(e){var t=e;return{id:t.getAttribute("data-id"),annotationType:t.getAttribute("data-mark-annotation-type")}}}],toDOM:function(e){return["span",i({class:"fabric-editor-annotation"},s({id:e.attrs.id,annotationType:e.attrs.annotationType})),0]}}},75588:(e,t,n)=>{"use strict";n.d(t,{C:()=>l,Z:()=>u});var r,o=n(96234),i=n(56666);var a=(r={},(0,i.Z)(r,"#091E4224","var(--ds-border, #091E4224)"),(0,i.Z)(r,"#758195","var(--ds-border-bold, #758195)"),(0,i.Z)(r,"#172B4D","var(--ds-text, #172B4D)"),r),c=n(9091),s=[[c.Us,"Subtle gray"],[c.mg,"Gray"],[c.M6,"Bold gray"]],u=new Map;s.forEach((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return u.set(n.toLowerCase(),r)}));var l={inclusive:!1,parseDOM:[{tag:'div[data-mark-type="border"]',getAttrs:function(e){var t,n,r=e,o=(null!==(t=r.getAttribute("data-color"))&&void 0!==t?t:"").toLowerCase(),i=+(null!==(n=r.getAttribute("data-size"))&&void 0!==n?n:"0");return{size:i>3?3:!(i<1)&&i,color:!!u.has(o)&&o}}}],attrs:{color:{},size:{}},toDOM:function(e){var t,n=(t=e.attrs.color,a[t.toUpperCase()]||e.attrs.color);return["div",{"data-mark-type":"border","data-color":e.attrs.color,"data-size":e.attrs.size,style:"--custom-palette-color: ".concat(n)}]}}},17818:(e,t,n)=>{"use strict";n.d(t,{D:()=>o});var r=["wide","full-width"],o={spanning:!1,inclusive:!1,parseDOM:[{tag:"div.fabric-editor-breakout-mark",getAttrs:function(e){var t=e.getAttribute("data-mode");return{mode:-1===r.indexOf(t||"")?"wide":t}}}],attrs:{mode:{default:"wide"}},toDOM:function(e){return["div",{class:"fabric-editor-breakout-mark","data-mode":e.attrs.mode},0]}}},50306:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(83951),o={excludes:"".concat(r.rZ," ").concat(r.Zj," ").concat(r.dZ," ").concat(r.r$),inclusive:!0,parseDOM:[{tag:"span.code",preserveWhitespace:!0},{tag:"code",preserveWhitespace:!0},{tag:"tt",preserveWhitespace:!0},{tag:"span",preserveWhitespace:!0,getAttrs:function(e){var t=e;return("pre"===t.style.whiteSpace||!!(t.style.fontFamily&&t.style.fontFamily.toLowerCase().indexOf("monospace")>=0))&&{}}}],toDOM:function(){return["span",{class:"code",spellcheck:"false"}]}}},76402:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,h:()=>o});var r=n(81909),o={attrs:{sources:{default:[]}},parseDOM:[{tag:'[data-mark-type="dataConsumer"]',getAttrs:function(e){return function(e){var t=(0,r.a)(e)&&e.getAttribute("data-sources");try{return!!t&&{sources:JSON.parse(t)}}catch(e){return!1}}(e)}}],toDOM:function(e,t){return[t?"span":"div",{"data-mark-type":"dataConsumer","data-sources":JSON.stringify(e.attrs.sources)}]}},i=function(e){return{type:e.type.name,attrs:Object.keys(e.attrs).filter((function(t){return"sources"===t&&e.attrs[t].length>0&&null!==e.attrs[t]})).reduce((function(t,n){return t[n]=e.attrs[n],t}),{})}}},15907:(e,t,n)=>{"use strict";n.d(t,{em:()=>i});var r=n(83951),o=["em"],i={inclusive:!0,group:r.rZ,parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return o}}},59629:(e,t,n)=>{"use strict";n.d(t,{D:()=>c,a:()=>s});var r=n(56666),o=n(81909);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={inclusive:!1,excludes:"",attrs:{localId:{default:""},name:{default:null}},parseDOM:[{tag:'[data-mark-type="fragment"]',getAttrs:function(e){return function(e){var t;if(!(0,o.a)(e))return!1;var n=null!==(t=e.getAttribute("data-name"))&&void 0!==t?t:void 0,r=e.getAttribute("data-localId");return!!r&&{localId:r,name:n}}(e)}}],toDOM:function(e,t){return[t?"span":"div",{"data-mark-type":"fragment","data-name":e.attrs.name,"data-localId":e.attrs.localId}]}},s=function(e){return{type:e.type.name,attrs:a({localId:e.attrs.localId},e.attrs.name?{name:e.attrs.name}:{})}}},88306:(e,t,n)=>{"use strict";n.d(t,{N:()=>o});var r=n(83951),o={excludes:"indentation ".concat(r.xy),group:r.sP,attrs:{level:{}},parseDOM:[{tag:"div.fabric-editor-indentation-mark",getAttrs:function(e){var t=+(e.getAttribute("data-level")||"0");return{level:t>6?6:!(t<1)&&t}}}],toDOM:function(e){return["div",{class:"fabric-editor-block-mark fabric-editor-indentation-mark","data-level":e.attrs.level},0]}}},65635:(e,t,n)=>{"use strict";n.d(t,{a:()=>d,p:()=>u});var r=n(56666),o=n(83951),i=n(57195);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e){return function(t){var n=t,r=n.getAttribute(e)||"",o={__confluenceMetadata:n.hasAttribute("__confluenceMetadata")?JSON.parse(n.getAttribute("__confluenceMetadata")||""):void 0};return!!(0,i.w6)(r)&&((0,i.Nv)(r)?(o.href=r,o):(o.href=(0,i.D5)(r),o))}},u={excludes:"".concat(o.Zj),group:o.Zj,attrs:{href:{},__confluenceMetadata:{default:null}},inclusive:!1,parseDOM:[{tag:"[data-block-link]",getAttrs:s("data-block-link"),contentElement:function(e){var t=e.cloneNode(!0);t.removeAttribute("data-block-link"),t.setAttribute("data-skip-paste","true");var n=document.createElement("div");return n.appendChild(t),n}},{tag:"a[href]",getAttrs:s("href")}],toDOM:function(e,t){var n,o=Object.keys(e.attrs).reduce((function(t,n){return"__confluenceMetadata"===n?null!==e.attrs[n]&&(t[n]=JSON.stringify(e.attrs[n])):t[n]="href"===n?(0,i.w6)(e.attrs[n])?e.attrs[n]:void 0:e.attrs[n],t}),{});return t?["a",o]:["a",c(c({},o),{},(n={},(0,r.Z)(n,"data-block-link","true"),(0,r.Z)(n,"class","blockLink"),n)),0]}},l=["title","id","collection","occurrenceKey","__confluenceMetadata"],d=function(e){return{type:e.type.name,attrs:Object.keys(e.attrs).reduce((function(t,n){return-1!==l.indexOf(n)&&null===e.attrs[n]||(t[n]=e.attrs[n]),t}),{})}}},85860:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});var r={inclusive:!0,group:n(83951).rZ,parseDOM:[{tag:"strike"},{tag:"s"},{tag:"del"},{style:"text-decoration",getAttrs:function(e){return"line-through"===e&&null}}],toDOM:function(){return["s"]}}},49618:(e,t,n)=>{"use strict";n.d(t,{f:()=>i});var r=n(83951),o=["strong"],i={inclusive:!0,group:r.rZ,parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!==e.style.fontWeight&&null}},{tag:"span",getAttrs:function(e){var t=e.style.fontWeight;return"string"==typeof t&&("bold"===t||"bolder"===t||/^(bold(er)?|[5-9]\d{2,})$/.test(t))&&null}}],toDOM:function(){return o}}},15817:(e,t,n)=>{"use strict";function r(e){if(e.style.verticalAlign){var t=e.style.verticalAlign.slice(0,3);if("sub"===t||"sup"===t)return{type:t}}return!1}n.d(t,{Z:()=>o});var o={inclusive:!0,group:n(83951).rZ,attrs:{type:{default:"sub"}},parseDOM:[{tag:"sub",attrs:{type:"sub"}},{tag:"sup",attrs:{type:"sup"}},{tag:"span",style:"vertical-align=super",getAttrs:function(e){return r(e)}},{tag:"span",style:"vertical-align=sub",getAttrs:function(e){return r(e)}}],toDOM:function(e){return[e.attrs.type]}}},93490:(e,t,n)=>{"use strict";n.d(t,{K5:()=>l,zP:()=>d});var r,o=n(56666),i=n(96234);var a=(r={},(0,o.Z)(r,"#B3D4FF","var(--ds-background-accent-blue-subtler, #B3D4FF)"),(0,o.Z)(r,"#4C9AFF","var(--ds-icon-accent-blue, #4C9AFF)"),(0,o.Z)(r,"#0747A6","var(--ds-text-accent-blue, #0747A6)"),(0,o.Z)(r,"#B3F5FF","var(--ds-background-accent-teal-subtler, #B3F5FF)"),(0,o.Z)(r,"#00B8D9","var(--ds-icon-accent-teal, #00B8D9)"),(0,o.Z)(r,"#008DA6","var(--ds-text-accent-teal, #008DA6)"),(0,o.Z)(r,"#ABF5D1","var(--ds-background-accent-green-subtler, #ABF5D1)"),(0,o.Z)(r,"#36B37E","var(--ds-icon-accent-green, #36B37E)"),(0,o.Z)(r,"#006644","var(--ds-text-accent-green, #006644)"),(0,o.Z)(r,"#FFF0B3","var(--ds-background-accent-yellow-subtler, #FFF0B3)"),(0,o.Z)(r,"#FFC400","var(--ds-background-accent-orange-subtle, #FFC400)"),(0,o.Z)(r,"#FF991F","var(--ds-icon-accent-orange, #FF991F)"),(0,o.Z)(r,"#FFBDAD","var(--ds-background-accent-red-subtler, #FFBDAD)"),(0,o.Z)(r,"#FF5630","var(--ds-icon-accent-red, #FF5630)"),(0,o.Z)(r,"#BF2600","var(--ds-text-accent-red, #BF2600)"),(0,o.Z)(r,"#EAE6FF","var(--ds-background-accent-purple-subtler, #EAE6FF)"),(0,o.Z)(r,"#6554C0","var(--ds-icon-accent-purple, #6554C0)"),(0,o.Z)(r,"#403294","var(--ds-text-accent-purple, #403294)"),(0,o.Z)(r,"#FFFFFF","var(--ds-text-inverse, #FFFFFF)"),(0,o.Z)(r,"#97A0AF","var(--ds-icon-accent-gray, #97A0AF)"),(0,o.Z)(r,"#172B4D","var(--ds-text, #172B4D)"),r),c=n(83951),s=n(9091),u=[[s.YC,"Dark blue"],[s.tu,"Dark teal"],[s.VB,"Dark green"],[s.jC,"Orange"],[s.gR,"Dark red"],[s.J1,"Dark purple"],[s.Bn,"Light gray"],[s.vP,"Blue"],[s.hv,"Teal"],[s.eE,"Green"],[s.cS,"Yellow"],[s.rt,"Red"],[s.Wn,"Purple"],[s.N0,"White"],[s.tE,"Light blue"],[s.Xl,"Light teal"],[s.RY,"Light green"],[s.a8,"Light yellow"],[s.Xd,"Light red"],[s.jJ,"Light purple"]],l=new Map;u.forEach((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return l.set(n.toLowerCase(),r)}));var d={attrs:{color:{}},inclusive:!0,group:c.r$,parseDOM:[{style:"color",getAttrs:function(e){var t,n=e;return n.match(/^rgb/i)?t=(0,s.rr)(n):"#"===n[0]&&(t=n.toLowerCase()),!(!t||!l.has(t))&&{color:t}}},{tag:".fabric-text-color-mark",getAttrs:function(e){if(!(e instanceof HTMLElement))return!1;var t=e.dataset.textCustomColor;return!(!t||!l.has(t))&&{color:t}}}],toDOM:function(e){var t,n=(t=e.attrs.color,a[t.toUpperCase()]||e.attrs.color);return["span",(0,o.Z)({class:"fabric-text-color-mark",style:"--custom-palette-color: ".concat(n)},"data-text-custom-color",e.attrs.color)]}}},48092:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(83951),o=n(9091),i={inclusive:!0,group:r.dZ,parseDOM:[{tag:"span[data-type-ahead-query]"}],toDOM:function(e){return["span",{"data-type-ahead-query":"true","data-trigger":e.attrs.trigger,style:"color: ".concat(o.AX)}]},attrs:{trigger:{default:""}}}},55685:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});var r={inclusive:!0,group:n(83951).rZ,parseDOM:[{tag:"u"},{style:"text-decoration",getAttrs:function(e){return"underline"===e&&null}}],toDOM:function(){return["u"]}}},30773:(e,t,n)=>{"use strict";n.d(t,{C:()=>r});var r={toDOM:function(){return["span"]},excludes:"",attrs:{originalValue:{}}}},15672:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var r={toDOM:function(){return["span"]},attrs:{type:{},unsupported:{}}}},91228:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r={inline:!1,group:"block",draggable:!0,selectable:!0,attrs:{url:{default:null},data:{default:null}},parseDOM:[{tag:"a[data-block-card]",priority:100,getAttrs:function(e){var t=e,n=t.getAttribute("data-card-data");return{url:t.getAttribute("href")||null,data:n?JSON.parse(n):null}}},{tag:"div[data-block-card]",getAttrs:function(e){var t=e,n=t.getAttribute("data-card-data");return{url:t.getAttribute("data-card-url")||null,data:n?JSON.parse(n):null}}}],toDOM:function(e){var t;return["a",{"data-block-card":"",href:e.attrs.url||"","data-card-data":e.attrs.data?JSON.stringify(e.attrs.data):""},(null==e||null===(t=e.attrs)||void 0===t?void 0:t.url)||" "]}}},47958:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var r={content:"(paragraph | unsupportedBlock)+",group:"block",defining:!0,selectable:!1,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}}},84336:(e,t,n)=>{"use strict";n.d(t,{H:()=>o});var r=n(16530),o={inline:!1,group:"block",marks:"dataConsumer fragment",content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaGroup | mediaSingle | decisionList | taskList | table | blockCard | extension | unsupportedBlock | embedCard)+",defining:!0,selectable:!0,isolating:!0,attrs:{extensionType:{default:""},extensionKey:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},parseDOM:[{context:"bodiedExtension//",tag:'[data-node-type="bodied-extension"]',skip:!0},{tag:'[data-node-type="bodied-extension"]',getAttrs:function(e){return(0,r.g)(e)}}],toDOM:function(e){return["div",{"data-node-type":"bodied-extension","data-extension-type":e.attrs.extensionType,"data-extension-key":e.attrs.extensionKey,"data-text":e.attrs.text,"data-parameters":JSON.stringify(e.attrs.parameters),"data-layout":e.attrs.layout,"data-local-id:":e.attrs.localId},0]}}},50165:(e,t,n)=>{"use strict";n.d(t,{T:()=>r,i:()=>o});var r=".ak-ul",o={group:"block",content:"listItem+",selectable:!1,parseDOM:[{tag:"ul"}],marks:"unsupportedMark unsupportedNodeAttribute",toDOM:function(){return["ul",{class:r.substr(1)},0]}}},18365:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r={content:"(text|hardBreak|mention|emoji|date|placeholder|inlineCard|status)*",isolating:!0,marks:"_",selectable:!1,parseDOM:[{tag:"figcaption[data-caption]"}],toDOM:function(e){return["figcaption",{"data-caption":"true"},0]}}},99017:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,a:()=>a});var r=n(87598),o=function(e){var t=/(?:^|\s)language-([^\s]+)/.exec(e);if(t&&t[1])return t[1]},i={attrs:{language:{default:null},uniqueId:{default:null}},content:"(text | unsupportedInline)*",marks:"unsupportedMark unsupportedNodeAttribute",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:function(e){var t=e,n=function(e){if(e&&e.classList.contains("codehilite"))return o(e.className)}(t.parentElement)||function(e){return e.getAttribute("data-language")||void 0}(t.parentElement)||function(e){var t=e.firstElementChild;if(t&&"CODE"===t.nodeName)return t.getAttribute("data-language")||void 0}(t)||t.getAttribute("data-language");return t=function(e){var t=e&&e.parentElement;return t&&t.classList.contains("codehilite")&&(e.textContent=e.textContent.replace(/\n$/,"")),e}(t),{language:n}}},{tag:"div[style]",preserveWhitespace:"full",getAttrs:function(e){var t=e;return!!("pre"===t.style.whiteSpace||t.style.fontFamily&&t.style.fontFamily.toLowerCase().indexOf("monospace")>-1)&&{}},getContent:function(e,t){var n=e,o=Array.from(n.children).map((function(e){return e.textContent})).filter((function(e){return void 0!==e})).join("\n");return o?r.HY.from(t.text(o)):r.HY.empty}},{tag:"table[style]",preserveWhitespace:"full",getAttrs:function(e){return!!e.querySelector('td[class*="blob-code"]')&&{}}},{tag:"div.code-block",preserveWhitespace:"full",getAttrs:function(e){var t=e.querySelectorAll(".react-syntax-highlighter-line-number");return t.length>0&&t.forEach((function(e){return e.remove()})),{}}}],toDOM:function(e){return["pre",["code",{"data-language":e.attrs.language},0]]}},a=function(e){return{attrs:Object.keys(e.attrs).reduce((function(t,n){return"uniqueId"===n||"language"===n&&null===e.attrs.language||(t[n]=e.attrs[n]),t}),{})}}},68032:(e,t,n)=>{"use strict";n.d(t,{G:()=>o});var r="confluenceJiraIssue",o={group:"inline",inline:!0,atom:!0,attrs:{issueKey:{default:""},macroId:{default:null},schemaVersion:{default:null},server:{default:null},serverId:{default:null}},parseDOM:[{tag:'span[data-node-type="'.concat(r,'"]'),getAttrs:function(e){var t=e;return{issueKey:t.textContent,macroId:t.dataset&&t.dataset.macroId,schemaVersion:t.dataset&&t.dataset.schemaVersion,server:t.dataset&&t.dataset.server,serverId:t.dataset&&t.dataset.serverId}}}],toDOM:function(e){return["span",{"data-node-type":r,"data-macro-id":e.attrs.macroId,"data-schema-version":e.attrs.schemaVersion,"data-server":e.attrs.server,"data-server-id":e.attrs.serverId,"data-jira-issue":e.attrs.issueKey},e.attrs.issueKey]}}},49697:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r="confluenceUnsupportedBlock",o={group:"block",attrs:{cxhtml:{default:null}},toDOM:function(e){return["div",{"data-node-type":r,"data-confluence-unsupported":"block","data-confluence-unsupported-block-cxhtml":e.attrs.cxhtml},"Unsupported content"]},parseDOM:[{tag:'div[data-node-type="'.concat(r,'"]'),getAttrs:function(e){return{cxhtml:e.getAttribute("data-confluence-unsupported-block-cxhtml")}}}]}},12246:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r="confluenceUnsupportedInline",o={group:"inline",inline:!0,atom:!0,attrs:{cxhtml:{default:null}},toDOM:function(e){return["div",{"data-node-type":r,"data-confluence-unsupported":"inline","data-confluence-unsupported-inline-cxhtml":e.attrs.cxhtml},"Unsupported content"]},parseDOM:[{tag:'div[data-node-type="'.concat(r,'"]'),getAttrs:function(e){return{cxhtml:e.getAttribute("data-confluence-unsupported-inline-cxhtml")}}}]}},48312:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r={inline:!0,group:"inline",selectable:!0,attrs:{timestamp:{default:""}},parseDOM:[{tag:'span[data-node-type="date"]',getAttrs:function(e){return{timestamp:e.getAttribute("data-timestamp")}}}],toDOM:function(e){return["span",{"data-node-type":"date","data-timestamp":e.attrs.timestamp}]}}},34321:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r=n(21025),o={content:"inline*",defining:!0,marks:"_",attrs:{localId:{default:""},state:{default:"DECIDED"}},parseDOM:[{tag:"li[data-decision-local-id]",priority:100,getAttrs:function(e){return{localId:r.V.generate(),state:e.getAttribute("data-decision-state")}}}],toDOM:function(e){var t=e.attrs;return["li",{"data-decision-local-id":t.localId||"local-decision","data-decision-state":t.state},0]}}},70778:(e,t,n)=>{"use strict";n.d(t,{i:()=>i,w:()=>a});var r=n(21025),o="decisionList",i='[data-node-type="'.concat(o,'"]'),a={group:"block",defining:!0,content:"(decisionItem|unsupportedBlock)+",marks:"unsupportedMark unsupportedNodeAttribute",selectable:!1,attrs:{localId:{default:""}},parseDOM:[{tag:"ol".concat(i),priority:100,getAttrs:function(){return{localId:r.V.generate()}}}],toDOM:function(e){var t=e.attrs.localId;return["ol",{"data-node-type":o,"data-decision-list-local-id":t||"local-decision-list",style:"list-style: none; padding-left: 0"},0]}}},76287:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r={content:"(block|layoutSection)+",marks:"alignment breakout dataConsumer fragment indentation unsupportedMark unsupportedNodeAttribute"}},70164:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r={inline:!1,group:"block",selectable:!0,attrs:{url:{default:""},layout:{default:"center"},width:{default:100},originalWidth:{default:null},originalHeight:{default:null}},parseDOM:[{tag:"div[data-embed-card]",getAttrs:function(e){return{url:e.getAttribute("data-card-url"),layout:e.getAttribute("data-layout")||"center",width:Number(e.getAttribute("data-width"))||null,originalWidth:Number(e.getAttribute("data-card-original-width"))||null,originalHeight:Number(e.getAttribute("data-card-original-height"))||null}}}],toDOM:function(e){var t=e.attrs;return["div",{"data-embed-card":"","data-card-url":t.url,"data-layout":t.layout,"data-width":t.width,"data-original-width":t.originalWidth,"data-original-height":t.originalHeight}]}}},89726:(e,t,n)=>{"use strict";n.d(t,{r:()=>i});var r="2b50",o={smile:["1f642",":slight_smile:","🙂"],sad:["1f641",":slight_frown:","🙁"],cheeky:["1f61b",":stuck_out_tongue:","😛"],laugh:["1f600",":grinning:","😀"],wink:["1f609",":wink:","😉"],information:["2139",":information_source:","ℹ"],tick:["2705",":white_check_mark:","✅"],cross:["274c",":x:","❌"],warning:["26a0",":warning:","⚠"],plus:["2795",":heavy_plus_sign:","➕"],minus:["2796",":heavy_minus_sign:","➖"],question:["2753",":question:","?"],"thumbs-up":["1f44d",":thumbsup:","👍"],"thumbs-down":["1f44e",":thumbsdown:","👎"],"light-on":["1f4a1",":bulb:","💡"],"yellow-star":["2b50",":star:","💛"],"light-off":["1f6ab",":no_entry_sign:","🚫"],"red-star":["2764",":heart:","❤️"],"green-star":["1f49a",":green_heart:","💚"],"blue-star":["1f499",":blue_heart:","💙"],heart:["2764",":heart:","❤️"],"broken-heart":["1f494",":broken_heart:","💔"]};var i={inline:!0,group:"inline",selectable:!0,attrs:{shortName:{default:""},id:{default:""},text:{default:""}},parseDOM:[{tag:"div.ak-editor-panel__icon span",ignore:!0},{tag:"span[data-emoji-short-name]",getAttrs:function(e){var t=e;return{shortName:t.getAttribute("data-emoji-short-name")||i.attrs.shortName.default,id:t.getAttribute("data-emoji-id")||i.attrs.id.default,text:t.getAttribute("data-emoji-text")||i.attrs.text.default}}},{tag:"img[data-emoticon-name]",getAttrs:function(e){return t=e.getAttribute("data-emoticon-name"),(n=o[t])?{id:n[0],shortName:n[1],text:n[2]}:{id:r,shortName:":".concat(t,":"),text:""};var t,n}},{tag:"img[data-hipchat-emoticon]",getAttrs:function(e){return t=e.getAttribute("data-hipchat-emoticon"),{id:"".concat("atlassian-").concat(t),shortName:":".concat(t,":"),text:""};var t}},{tag:"img.emoji[data-emoji-short-name]",getAttrs:function(e){var t=e;return{shortName:t.getAttribute("data-emoji-short-name")||i.attrs.shortName.default,id:t.getAttribute("data-emoji-id")||i.attrs.id.default,text:t.getAttribute("data-emoji-text")||i.attrs.text.default}}}],toDOM:function(e){var t=e.attrs,n=t.shortName,r=t.id,o=t.text;return["span",{"data-emoji-short-name":n,"data-emoji-id":r,"data-emoji-text":o,contenteditable:"false"},o]}}},19757:(e,t,n)=>{"use strict";function r(e){return{title:e.getAttribute("data-title"),__expanded:!0}}n.d(t,{a:()=>i,j:()=>o});var o={inline:!1,group:"block",marks:"dataConsumer fragment unsupportedMark unsupportedNodeAttribute",content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaGroup | mediaSingle | decisionList | taskList | table | blockCard | embedCard | extension | unsupportedBlock)+",isolating:!0,selectable:!0,attrs:{title:{default:""},__expanded:{default:!0}},parseDOM:[{context:"table//",tag:'div[data-node-type="expand"]',getAttrs:r},{context:"expand//",tag:'[data-node-type="expand"]',skip:!0},{context:"nestedExpand//",tag:'[data-node-type="expand"]',skip:!0},{tag:'[data-node-type="nestedExpand"] button',ignore:!0},{tag:'[data-node-type="expand"] button',ignore:!0},{tag:'div[data-node-type="expand"]',getAttrs:r}],toDOM:function(e){return["div",{"data-node-type":"expand","data-title":e.attrs.title,"data-expanded":e.attrs.__expanded},0]}},i=function(e){return{attrs:Object.keys(e.attrs).filter((function(e){return!e.startsWith("__")})).reduce((function(t,n){return t[n]=e.attrs[n],t}),{})}}},78297:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(16530),o={inline:!1,group:"block",atom:!0,selectable:!0,attrs:{extensionType:{default:""},extensionKey:{default:""},parameters:{default:null},text:{default:null},layout:{default:"default"},localId:{default:null}},parseDOM:[{tag:'[data-node-type="extension"]',getAttrs:function(e){return(0,r.g)(e)}}],toDOM:function(e){return["div",{"data-node-type":"extension","data-extension-type":e.attrs.extensionType,"data-extension-key":e.attrs.extensionKey,"data-text":e.attrs.text,"data-parameters":JSON.stringify(e.attrs.parameters),"data-layout":e.attrs.layout,"data-local-id:":e.attrs.localId}]}}},77480:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}}},278:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var r={attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,selectable:!1,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(e){return["h"+e.attrs.level,0]}}},45133:(e,t,n)=>{"use strict";n.d(t,{B:()=>r});var r={group:"inline",inline:!0,attrs:{src:{default:""},alt:{default:""},title:{default:null}},draggable:!0,parseDOM:[{tag:'img[src^="data:image/"]',ignore:!0},{tag:"img[src]",getAttrs:function(e){var t=e;return{src:t.getAttribute("src"),alt:t.getAttribute("alt"),title:t.getAttribute("title")}}}],toDOM:function(e){return["img",e.attrs]}}},39915:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var r={inline:!0,group:"inline",selectable:!0,draggable:!0,attrs:{url:{default:null},data:{default:null}},parseDOM:[{tag:"a[data-inline-card], span[data-inline-card]",priority:100,getAttrs:function(e){var t=e,n=t.getAttribute("data-card-data");return{url:t.getAttribute("href")||t.getAttribute("data-card-url")||null,data:n?JSON.parse(n):null}}},{tag:"div[data-inline-card]",getAttrs:function(e){var t=e,n=t.getAttribute("data-card-data");return{url:t.getAttribute("data-card-url"),data:n?JSON.parse(n):null}}}],toDOM:function(e){var t={"data-inline-card":"",href:e.attrs.url||"","data-card-data":e.attrs.data?JSON.stringify(e.attrs.data):""};return e.attrs.url?["a",t,e.attrs.url]:["a",t]}}},43193:(e,t,n)=>{"use strict";n.d(t,{m:()=>o});var r=n(16530),o={inline:!0,group:"inline",selectable:!0,attrs:{extensionType:{default:""},extensionKey:{default:""},parameters:{default:null},text:{default:null},localId:{default:null}},parseDOM:[{tag:"span[data-extension-type]",getAttrs:function(e){return(0,r.g)(e,!0)}}],toDOM:function(e){return["span",{"data-extension-type":e.attrs.extensionType,"data-extension-key":e.attrs.extensionKey,"data-text":e.attrs.text,"data-parameters":JSON.stringify(e.attrs.parameters),"data-local-id:":e.attrs.localId,contenteditable:"false"}]}}},51775:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r={content:"(block|unsupportedBlock)+",isolating:!0,marks:"alignment indentation dataConsumer fragment unsupportedMark unsupportedNodeAttribute",selectable:!1,attrs:{width:{default:void 0}},parseDOM:[{context:"layoutColumn//",tag:"div[data-layout-column]",skip:!0},{tag:"div[data-layout-column]",getAttrs:function(e){return{width:Number(e.getAttribute("data-column-width"))||void 0}}}],toDOM:function(e){var t={"data-layout-column":"true"},n=e.attrs.width;n&&(t.style="flex-basis: ".concat(n,"%"),t["data-column-width"]=n);return["div",t,["div",{"data-layout-content":"true"},0]]}}},70177:(e,t,n)=>{"use strict";n.d(t,{C:()=>o,I:()=>r});var r={content:"(layoutColumn | unsupportedBlock){1,3} unsupportedBlock* | unsupportedBlock+",marks:"unsupportedMark unsupportedNodeAttribute",isolating:!0,parseDOM:[{context:"layoutSection//|layoutColumn//",tag:"div[data-layout-section]",skip:!0},{tag:"div[data-layout-section]"}],toDOM:function(){return["div",{"data-layout-section":"true"},0]}},o={content:"(layoutColumn | unsupportedBlock){1,3} unsupportedBlock* | unsupportedBlock+",marks:"unsupportedMark unsupportedNodeAttribute",isolating:!0,parseDOM:[{context:"layoutSection//|layoutColumn//",tag:"div[data-layout-section]",skip:!0},{tag:"div[data-layout-section]"}],toDOM:function(){return["div",{"data-layout-section":"true"},0]}}},93093:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});var r={content:"(paragraph | mediaSingle | codeBlock) (paragraph | bulletList | orderedList | mediaSingle | codeBlock)*",marks:"unsupportedMark unsupportedNodeAttribute",defining:!0,selectable:!1,parseDOM:[{tag:"li"}],toDOM:function(){return["li",0]}}},28075:(e,t,n)=>{"use strict";n.d(t,{_:()=>r});var r={inline:!1,group:"block",content:"(media|unsupportedBlock)+",attrs:{},marks:"unsupportedMark unsupportedNodeAttribute border link",selectable:!1,parseDOM:[{tag:'div[data-node-type="mediaGroup"]'},{tag:'div[class="MediaGroup"]'}],toDOM:function(){return["div",{"data-node-type":"mediaGroup"},0]}}},67777:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=n(69824),o=(0,r.i7)(r.wk,!0)},61332:(e,t,n)=>{"use strict";n.d(t,{au:()=>s,t2:()=>c,yC:()=>a});var r=n(56666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a={inline:!1,group:"block",selectable:!0,atom:!0,content:"media|unsupportedBlock+|media unsupportedBlock+",attrs:{width:{default:null},layout:{default:"center"}},marks:"unsupportedMark unsupportedNodeAttribute border link",parseDOM:[{tag:'div[data-node-type="mediaSingle"]',getAttrs:function(e){return{layout:e.getAttribute("data-layout")||"center",width:Number(e.getAttribute("data-width"))||null}}}],toDOM:function(e){var t=e.attrs,n=t.layout,r=t.width,o={"data-node-type":"mediaSingle","data-layout":n,"data-width":""};return r&&(o["data-width"]=isFinite(r)&&Math.floor(r)===r?r:r.toFixed(2)),["div",o,0]}},c=i(i({},a),{},{atom:!1,content:"media|unsupportedBlock+|media (caption|unsupportedBlock) unsupportedBlock*"}),s=function(e){return{attrs:Object.keys(e.attrs).reduce((function(t,n){return null!==e.attrs[n]&&(t[n]=e.attrs[n]),t}),{})}}},69824:(e,t,n)=>{"use strict";n.d(t,{BC:()=>a,au:()=>d,i7:()=>i,vD:()=>s,wk:()=>o});var r=n(9091),o={id:{default:""},type:{default:"file"},collection:{default:""},occurrenceKey:{default:null},alt:{default:""},width:{default:null},height:{default:null},url:{default:null},__fileName:{default:null},__fileSize:{default:null},__fileMimeType:{default:null},__displayType:{default:null},__contextId:{default:null},__mediaTraceId:{default:null},__external:{default:!1}},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t?"span":"div",o=t?"mediaInline":"media",i=[{tag:"".concat(n,'[data-node-type="').concat(o,'"]'),getAttrs:function(t){var n={};e&&Object.keys(e).forEach((function(e){var r=c(e).replace(/^__/,""),o=t.getAttribute("data-".concat(r))||"";o&&(n[e]=o)})),n.__fileSize&&(n.__fileSize=+n.__fileSize);var r=Number(n.width);void 0===r||isNaN(r)||(n.width=r);var o=Number(n.height);return void 0===o||isNaN(o)||(n.height=o),n}},{tag:'img[src^="data:image"]',ignore:!0}];return t||i.push({tag:"img:not(.smart-link-icon)",getAttrs:function(e){return{type:"external",url:e.getAttribute("src")||"",alt:e.getAttribute("alt")||""}}}),{selectable:!0,inline:t,group:t?"inline":void 0,attrs:e,parseDOM:i,toDOM:function(e){var t={"data-id":e.attrs.id,"data-node-type":"".concat(o),"data-type":e.attrs.type,"data-collection":e.attrs.collection,"data-occurrence-key":e.attrs.occurrenceKey,"data-width":e.attrs.width,"data-height":e.attrs.height,"data-url":e.attrs.url,"data-alt":e.attrs.alt,title:"Attachment",style:"display: inline-block; border-radius: 3px; background: ".concat(r.gt,"; box-shadow: 0 1px 1px rgba(9, 30, 66, 0.2), 0 0 1px 0 rgba(9, 30, 66, 0.24);")};return s(e.attrs,t,(function(e){return"data-".concat(c(e.slice(2)))})),["".concat(n),t]}}},a=i(o),c=function(e){return e.replace(/([^A-Z]+)([A-Z])/g,(function(e,t,n){return"".concat(t,"-").concat(n.toLowerCase())}))},s=function(e,t,n){a.attrs&&Object.keys(a.attrs).forEach((function(r){"_"===r[0]&&"_"===r[1]&&e[r]&&(t[n?n(r):r]=e[r])}))},u=["occurrenceKey","width","height","url","alt"],l=["type","url","width","height","alt"],d=function(e){return{attrs:Object.keys(e.attrs).filter((function(e){return!("_"===e[0]&&"_"===e[1])})).reduce((function(t,n){return"external"===e.attrs.type&&-1===l.indexOf(n)||u.indexOf(n)>-1&&(null===e.attrs[n]||""===e.attrs[n])?t:-1!==["width","height"].indexOf(n)?(t[n]=Number(e.attrs[n]),t):(t[n]=e.attrs[n],t)}),{})}}},63053:(e,t,n)=>{"use strict";n.d(t,{Pl:()=>o,au:()=>i});var r=function(e){return e.DEFAULT="DEFAULT",e.SPECIAL="SPECIAL",e.APP="APP",e}({}),o={inline:!0,group:"inline",selectable:!0,attrs:{id:{default:""},text:{default:""},accessLevel:{default:""},userType:{default:null}},parseDOM:[{tag:"span[data-mention-id]",getAttrs:function(e){var t=e,n={id:t.getAttribute("data-mention-id")||o.attrs.id.default,text:t.textContent||o.attrs.text.default,accessLevel:t.getAttribute("data-access-level")||o.attrs.accessLevel.default},i=t.getAttribute("data-user-type");return r[i]&&(n.userType=i),n}}],toDOM:function(e){var t=e.attrs,n=t.id,r=t.accessLevel,o=t.text,i=t.userType,a={"data-mention-id":n,"data-access-level":r,contenteditable:"false"};return i&&(a["data-user-type"]=i),["span",a,o]}},i=function(e){return{attrs:Object.keys(e.attrs).reduce((function(t,n){return function(e){return["userType"].indexOf(e)>-1}(n)&&!e.attrs[n]||(t[n]=e.attrs[n]),t}),{})}}},54718:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r={inline:!1,marks:"unsupportedMark unsupportedNodeAttribute",content:"(paragraph | heading | mediaSingle | mediaGroup | unsupportedBlock)+",isolating:!0,selectable:!0,attrs:{title:{default:""},__expanded:{default:!0}},parseDOM:[{context:"nestedExpand//",tag:'[data-node-type="nestedExpand"]',skip:!0},{tag:'[data-node-type="nestedExpand"] button',ignore:!0},{tag:'[data-node-type="expand"] button',ignore:!0},{tag:'div[data-node-type="nestedExpand"]',getAttrs:function(e){return{title:e.getAttribute("data-title"),__expanded:!0}}}],toDOM:function(e){return["div",{"data-node-type":"nestedExpand","data-title":e.attrs.title,"data-expanded":e.attrs.__expanded},0]}}},5956:(e,t,n)=>{"use strict";n.d(t,{AG:()=>u,Us:()=>a,dq:()=>c});var r=n(56666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=".ak-ol",c={group:"block",attrs:{order:{default:1}},content:"listItem+",marks:"unsupportedMark unsupportedNodeAttribute",selectable:!1,parseDOM:[{tag:"ol"}],toDOM:function(){return["ol",{class:a.substr(1)},0]}},s=function(e){var t=Number(e);if(!(Number.isNaN(t)||t<0))return Math.floor(Math.max(t,0))},u=i(i({},c),{},{parseDOM:[{tag:"ol",getAttrs:function(e){var t=e.getAttribute("start");if(t){var n=s(t);if("number"==typeof n)return{order:n}}return null}}],toDOM:function(e){var t,n=s(null==e||null===(t=e.attrs)||void 0===t?void 0:t.order);return["ol",{start:"number"==typeof n?String(n):void 0,class:a.substr(1)},0]}})},33874:(e,t,n)=>{"use strict";n.d(t,{B:()=>c,w:()=>a});var r=n(56666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e){return e.INFO="info",e.NOTE="note",e.TIP="tip",e.WARNING="warning",e.ERROR="error",e.SUCCESS="success",e.CUSTOM="custom",e}({}),c=function(e){var t={group:"block",content:"(paragraph | heading | bulletList | orderedList | blockCard | unsupportedBlock)+",marks:"unsupportedMark unsupportedNodeAttribute",attrs:{panelType:{default:"info"},panelIcon:{default:null},panelIconId:{default:null},panelIconText:{default:null},panelColor:{default:null}},selectable:!0,parseDOM:[{tag:"div[data-panel-type]",getAttrs:function(t){return function(e,t){var n={panelType:t.getAttribute("data-panel-type")};return e?n=i(i({},n),{},{panelIcon:t.getAttribute("data-panel-icon"),panelIconId:t.getAttribute("data-panel-icon-id"),panelIconText:t.getAttribute("data-panel-icon-text"),panelColor:t.getAttribute("data-panel-color")}):n.panelType=n.panelType===a.CUSTOM?a.INFO:n.panelType,n}(e,t)}}],toDOM:function(e){var t;return["div",{"data-panel-type":(t=e.attrs).panelType,"data-panel-icon":t.panelIcon,"data-panel-icon-id":t.panelIconId,"data-panel-icon-text":t.panelIconText,"data-panel-color":t.panelColor},["div",{"data-panel-content":"true"},0]]}};return t}},73133:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=["p",0],o={selectable:!1,content:"inline*",group:"block",marks:"strong code em link strike subsup textColor typeAheadQuery underline confluenceInlineComment action annotation unsupportedMark unsupportedNodeAttribute dataConsumer fragment",parseDOM:[{tag:"p"}],toDOM:function(){return r}}},4950:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r={inline:!0,group:"inline",selectable:!1,marks:"",attrs:{text:{default:""}},parseDOM:[{tag:"span[data-placeholder]",getAttrs:function(e){return{text:e.getAttribute("data-placeholder")||r.attrs.text.default}}}],toDOM:function(e){var t=e.attrs.text;return["span",{"data-placeholder":t,contenteditable:"true"},t]}}},21e3:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=["hr"],o={group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return r}}},63935:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(21025),o={inline:!0,group:"inline",selectable:!0,attrs:{text:{default:""},color:{default:""},localId:{default:r.V.generate()},style:{default:""}},parseDOM:[{tag:'span[data-node-type="status"]',getAttrs:function(e){var t=e;return{text:t.textContent.replace(/\n/,"").trim(),color:t.getAttribute("data-color"),localId:r.V.generate(),style:t.getAttribute("data-style")}}}],toDOM:function(e){var t=e.attrs,n=t.text;return["span",{"data-node-type":"status","data-color":t.color,"data-local-id":t.localId,"data-style":t.style,contenteditable:"false"},n]}}},43726:(e,t,n)=>{"use strict";n.d(t,{sG:()=>g,EE:()=>y,Kz:()=>E,KS:()=>w,XX:()=>k,R_:()=>b,K5:()=>C,Z4:()=>v,bu:()=>h,fY:()=>p,Rt:()=>A,Vz:()=>f,Yf:()=>d,RL:()=>O,oc:()=>x,pp:()=>T,Ae:()=>_});var r,o=n(96234),i=n(56666);var a=(r={},(0,i.Z)(r,"#DEEBFF",{tokenName:"color.background.accent.blue.subtlest",token:"var(--ds-background-accent-blue-subtlest, #DEEBFF)"}),(0,i.Z)(r,"#B3D4FF",{tokenName:"color.background.accent.blue.subtler",token:"var(--ds-background-accent-blue-subtler, #B3D4FF)"}),(0,i.Z)(r,"#4C9AFF",{tokenName:"color.background.accent.blue.subtle",token:"var(--ds-background-accent-blue-subtle, #4C9AFF)"}),(0,i.Z)(r,"#E6FCFF",{tokenName:"color.background.accent.teal.subtlest",token:"var(--ds-background-accent-teal-subtlest, #E6FCFF)"}),(0,i.Z)(r,"#B3F5FF",{tokenName:"color.background.accent.teal.subtler",token:"var(--ds-background-accent-teal-subtler, #B3F5FF)"}),(0,i.Z)(r,"#79E2F2",{tokenName:"color.background.accent.teal.subtle",token:"var(--ds-background-accent-teal-subtle, #79E2F2)"}),(0,i.Z)(r,"#E3FCEF",{tokenName:"color.background.accent.green.subtlest",token:"var(--ds-background-accent-green-subtlest, #E3FCEF)"}),(0,i.Z)(r,"#ABF5D1",{tokenName:"color.background.accent.green.subtler",token:"var(--ds-background-accent-green-subtler, #ABF5D1)"}),(0,i.Z)(r,"#57D9A3",{tokenName:"color.background.accent.green.subtle",token:"var(--ds-background-accent-green-subtle, #57D9A3)"}),(0,i.Z)(r,"#FFFAE6",{tokenName:"color.background.accent.yellow.subtlest",token:"var(--ds-background-accent-yellow-subtlest, #FFFAE6)"}),(0,i.Z)(r,"#FFF0B3",{tokenName:"color.background.accent.yellow.subtler",token:"var(--ds-background-accent-yellow-subtler, #FFF0B3)"}),(0,i.Z)(r,"#FFC400",{tokenName:"color.background.accent.orange.subtle",token:"var(--ds-background-accent-orange-subtle, #FFC400)"}),(0,i.Z)(r,"#FFEBE6",{tokenName:"color.background.accent.red.subtlest",token:"var(--ds-background-accent-red-subtlest, #FFEBE6)"}),(0,i.Z)(r,"#FFBDAD",{tokenName:"color.background.accent.red.subtler",token:"var(--ds-background-accent-red-subtler, #FFBDAD)"}),(0,i.Z)(r,"#FF8F73",{tokenName:"color.background.accent.red.subtle",token:"var(--ds-background-accent-red-subtle, #FF8F73)"}),(0,i.Z)(r,"#EAE6FF",{tokenName:"color.background.accent.purple.subtlest",token:"var(--ds-background-accent-purple-subtlest, #EAE6FF)"}),(0,i.Z)(r,"#C0B6F2",{tokenName:"color.background.accent.purple.subtler",token:"var(--ds-background-accent-purple-subtler, #C0B6F2)"}),(0,i.Z)(r,"#998DD9",{tokenName:"color.background.accent.purple.subtle",token:"var(--ds-background-accent-purple-subtle, #998DD9)"}),(0,i.Z)(r,"#FFFFFF",{tokenName:"elevation.surface",token:"var(--ds-surface, #FFFFFF)"}),(0,i.Z)(r,"#F4F5F7",{tokenName:"color.background.accent.gray.subtlest",token:"var(--ds-background-accent-gray-subtlest, #F4F5F7)"}),(0,i.Z)(r,"#B3BAC5",{tokenName:"color.background.accent.gray.subtle",token:"var(--ds-background-accent-gray-subtle, #B3BAC5)"}),r);Object.keys(a).map((function(e){return a[e].tokenName}));const c={"border.radius.050":"--ds-radius-050","border.radius.100":"--ds-radius-100","border.radius.200":"--ds-radius-200","border.radius.300":"--ds-radius-300","border.radius.400":"--ds-radius-400","border.radius.round":"--ds-radius-round","border.width.0":"--ds-width-0","border.width.050":"--ds-width-050","border.width.100":"--ds-width-100","color.text":"--ds-text","color.text.accent.red":"--ds-text-accent-red","color.text.accent.red.bolder":"--ds-text-accent-red-bolder","color.text.accent.orange":"--ds-text-accent-orange","color.text.accent.orange.bolder":"--ds-text-accent-orange-bolder","color.text.accent.yellow":"--ds-text-accent-yellow","color.text.accent.yellow.bolder":"--ds-text-accent-yellow-bolder","color.text.accent.green":"--ds-text-accent-green","color.text.accent.green.bolder":"--ds-text-accent-green-bolder","color.text.accent.teal":"--ds-text-accent-teal","color.text.accent.teal.bolder":"--ds-text-accent-teal-bolder","color.text.accent.blue":"--ds-text-accent-blue","color.text.accent.blue.bolder":"--ds-text-accent-blue-bolder","color.text.accent.purple":"--ds-text-accent-purple","color.text.accent.purple.bolder":"--ds-text-accent-purple-bolder","color.text.accent.magenta":"--ds-text-accent-magenta","color.text.accent.magenta.bolder":"--ds-text-accent-magenta-bolder","color.text.accent.gray":"--ds-text-accent-gray","color.text.accent.gray.bolder":"--ds-text-accent-gray-bolder","color.text.disabled":"--ds-text-disabled","color.text.inverse":"--ds-text-inverse","color.text.selected":"--ds-text-selected","color.text.brand":"--ds-text-brand","color.text.danger":"--ds-text-danger","color.text.warning":"--ds-text-warning","color.text.warning.inverse":"--ds-text-warning-inverse","color.text.success":"--ds-text-success","color.text.discovery":"--ds-text-discovery","color.text.information":"--ds-text-information","color.text.subtlest":"--ds-text-subtlest","color.text.subtle":"--ds-text-subtle","color.link":"--ds-link","color.link.pressed":"--ds-link-pressed","color.icon":"--ds-icon","color.icon.accent.red":"--ds-icon-accent-red","color.icon.accent.orange":"--ds-icon-accent-orange","color.icon.accent.yellow":"--ds-icon-accent-yellow","color.icon.accent.green":"--ds-icon-accent-green","color.icon.accent.teal":"--ds-icon-accent-teal","color.icon.accent.blue":"--ds-icon-accent-blue","color.icon.accent.purple":"--ds-icon-accent-purple","color.icon.accent.magenta":"--ds-icon-accent-magenta","color.icon.accent.gray":"--ds-icon-accent-gray","color.icon.disabled":"--ds-icon-disabled","color.icon.inverse":"--ds-icon-inverse","color.icon.selected":"--ds-icon-selected","color.icon.brand":"--ds-icon-brand","color.icon.danger":"--ds-icon-danger","color.icon.warning":"--ds-icon-warning","color.icon.warning.inverse":"--ds-icon-warning-inverse","color.icon.success":"--ds-icon-success","color.icon.discovery":"--ds-icon-discovery","color.icon.information":"--ds-icon-information","color.icon.subtle":"--ds-icon-subtle","color.border":"--ds-border","color.border.accent.red":"--ds-border-accent-red","color.border.accent.orange":"--ds-border-accent-orange","color.border.accent.yellow":"--ds-border-accent-yellow","color.border.accent.green":"--ds-border-accent-green","color.border.accent.teal":"--ds-border-accent-teal","color.border.accent.blue":"--ds-border-accent-blue","color.border.accent.purple":"--ds-border-accent-purple","color.border.accent.magenta":"--ds-border-accent-magenta","color.border.accent.gray":"--ds-border-accent-gray","color.border.disabled":"--ds-border-disabled","color.border.focused":"--ds-border-focused","color.border.input":"--ds-border-input","color.border.inverse":"--ds-border-inverse","color.border.selected":"--ds-border-selected","color.border.brand":"--ds-border-brand","color.border.danger":"--ds-border-danger","color.border.warning":"--ds-border-warning","color.border.success":"--ds-border-success","color.border.discovery":"--ds-border-discovery","color.border.information":"--ds-border-information","color.border.bold":"--ds-border-bold","color.background.accent.red.subtlest":"--ds-background-accent-red-subtlest","color.background.accent.red.subtler":"--ds-background-accent-red-subtler","color.background.accent.red.subtle":"--ds-background-accent-red-subtle","color.background.accent.red.bolder":"--ds-background-accent-red-bolder","color.background.accent.orange.subtlest":"--ds-background-accent-orange-subtlest","color.background.accent.orange.subtler":"--ds-background-accent-orange-subtler","color.background.accent.orange.subtle":"--ds-background-accent-orange-subtle","color.background.accent.orange.bolder":"--ds-background-accent-orange-bolder","color.background.accent.yellow.subtlest":"--ds-background-accent-yellow-subtlest","color.background.accent.yellow.subtler":"--ds-background-accent-yellow-subtler","color.background.accent.yellow.subtle":"--ds-background-accent-yellow-subtle","color.background.accent.yellow.bolder":"--ds-background-accent-yellow-bolder","color.background.accent.green.subtlest":"--ds-background-accent-green-subtlest","color.background.accent.green.subtler":"--ds-background-accent-green-subtler","color.background.accent.green.subtle":"--ds-background-accent-green-subtle","color.background.accent.green.bolder":"--ds-background-accent-green-bolder","color.background.accent.teal.subtlest":"--ds-background-accent-teal-subtlest","color.background.accent.teal.subtler":"--ds-background-accent-teal-subtler","color.background.accent.teal.subtle":"--ds-background-accent-teal-subtle","color.background.accent.teal.bolder":"--ds-background-accent-teal-bolder","color.background.accent.blue.subtlest":"--ds-background-accent-blue-subtlest","color.background.accent.blue.subtler":"--ds-background-accent-blue-subtler","color.background.accent.blue.subtle":"--ds-background-accent-blue-subtle","color.background.accent.blue.bolder":"--ds-background-accent-blue-bolder","color.background.accent.purple.subtlest":"--ds-background-accent-purple-subtlest","color.background.accent.purple.subtler":"--ds-background-accent-purple-subtler","color.background.accent.purple.subtle":"--ds-background-accent-purple-subtle","color.background.accent.purple.bolder":"--ds-background-accent-purple-bolder","color.background.accent.magenta.subtlest":"--ds-background-accent-magenta-subtlest","color.background.accent.magenta.subtler":"--ds-background-accent-magenta-subtler","color.background.accent.magenta.subtle":"--ds-background-accent-magenta-subtle","color.background.accent.magenta.bolder":"--ds-background-accent-magenta-bolder","color.background.accent.gray.subtlest":"--ds-background-accent-gray-subtlest","color.background.accent.gray.subtler":"--ds-background-accent-gray-subtler","color.background.accent.gray.subtle":"--ds-background-accent-gray-subtle","color.background.accent.gray.bolder":"--ds-background-accent-gray-bolder","color.background.disabled":"--ds-background-disabled","color.background.input":"--ds-background-input","color.background.input.hovered":"--ds-background-input-hovered","color.background.input.pressed":"--ds-background-input-pressed","color.background.inverse.subtle":"--ds-background-inverse-subtle","color.background.inverse.subtle.hovered":"--ds-background-inverse-subtle-hovered","color.background.inverse.subtle.pressed":"--ds-background-inverse-subtle-pressed","color.background.neutral":"--ds-background-neutral","color.background.neutral.hovered":"--ds-background-neutral-hovered","color.background.neutral.pressed":"--ds-background-neutral-pressed","color.background.neutral.subtle":"--ds-background-neutral-subtle","color.background.neutral.subtle.hovered":"--ds-background-neutral-subtle-hovered","color.background.neutral.subtle.pressed":"--ds-background-neutral-subtle-pressed","color.background.neutral.bold":"--ds-background-neutral-bold","color.background.neutral.bold.hovered":"--ds-background-neutral-bold-hovered","color.background.neutral.bold.pressed":"--ds-background-neutral-bold-pressed","color.background.selected":"--ds-background-selected","color.background.selected.hovered":"--ds-background-selected-hovered","color.background.selected.pressed":"--ds-background-selected-pressed","color.background.selected.bold":"--ds-background-selected-bold","color.background.selected.bold.hovered":"--ds-background-selected-bold-hovered","color.background.selected.bold.pressed":"--ds-background-selected-bold-pressed","color.background.brand.bold":"--ds-background-brand-bold","color.background.brand.bold.hovered":"--ds-background-brand-bold-hovered","color.background.brand.bold.pressed":"--ds-background-brand-bold-pressed","color.background.danger":"--ds-background-danger","color.background.danger.hovered":"--ds-background-danger-hovered","color.background.danger.pressed":"--ds-background-danger-pressed","color.background.danger.bold":"--ds-background-danger-bold","color.background.danger.bold.hovered":"--ds-background-danger-bold-hovered","color.background.danger.bold.pressed":"--ds-background-danger-bold-pressed","color.background.warning":"--ds-background-warning","color.background.warning.hovered":"--ds-background-warning-hovered","color.background.warning.pressed":"--ds-background-warning-pressed","color.background.warning.bold":"--ds-background-warning-bold","color.background.warning.bold.hovered":"--ds-background-warning-bold-hovered","color.background.warning.bold.pressed":"--ds-background-warning-bold-pressed","color.background.success":"--ds-background-success","color.background.success.hovered":"--ds-background-success-hovered","color.background.success.pressed":"--ds-background-success-pressed","color.background.success.bold":"--ds-background-success-bold","color.background.success.bold.hovered":"--ds-background-success-bold-hovered","color.background.success.bold.pressed":"--ds-background-success-bold-pressed","color.background.discovery":"--ds-background-discovery","color.background.discovery.hovered":"--ds-background-discovery-hovered","color.background.discovery.pressed":"--ds-background-discovery-pressed","color.background.discovery.bold":"--ds-background-discovery-bold","color.background.discovery.bold.hovered":"--ds-background-discovery-bold-hovered","color.background.discovery.bold.pressed":"--ds-background-discovery-bold-pressed","color.background.information":"--ds-background-information","color.background.information.hovered":"--ds-background-information-hovered","color.background.information.pressed":"--ds-background-information-pressed","color.background.information.bold":"--ds-background-information-bold","color.background.information.bold.hovered":"--ds-background-information-bold-hovered","color.background.information.bold.pressed":"--ds-background-information-bold-pressed","color.blanket":"--ds-blanket","color.blanket.selected":"--ds-blanket-selected","color.blanket.danger":"--ds-blanket-danger","color.interaction.hovered":"--ds-interaction-hovered","color.interaction.pressed":"--ds-interaction-pressed","color.skeleton":"--ds-skeleton","color.skeleton.subtle":"--ds-skeleton-subtle","color.chart.categorical.1":"--ds-chart-categorical-1","color.chart.categorical.1.hovered":"--ds-chart-categorical-1-hovered","color.chart.categorical.2":"--ds-chart-categorical-2","color.chart.categorical.2.hovered":"--ds-chart-categorical-2-hovered","color.chart.categorical.3":"--ds-chart-categorical-3","color.chart.categorical.3.hovered":"--ds-chart-categorical-3-hovered","color.chart.categorical.4":"--ds-chart-categorical-4","color.chart.categorical.4.hovered":"--ds-chart-categorical-4-hovered","color.chart.categorical.5":"--ds-chart-categorical-5","color.chart.categorical.5.hovered":"--ds-chart-categorical-5-hovered","color.chart.categorical.6":"--ds-chart-categorical-6","color.chart.categorical.6.hovered":"--ds-chart-categorical-6-hovered","color.chart.categorical.7":"--ds-chart-categorical-7","color.chart.categorical.7.hovered":"--ds-chart-categorical-7-hovered","color.chart.categorical.8":"--ds-chart-categorical-8","color.chart.categorical.8.hovered":"--ds-chart-categorical-8-hovered","color.chart.neutral":"--ds-chart-neutral","color.chart.neutral.hovered":"--ds-chart-neutral-hovered","color.chart.red.bold":"--ds-chart-red-bold","color.chart.red.bold.hovered":"--ds-chart-red-bold-hovered","color.chart.red.bolder":"--ds-chart-red-bolder","color.chart.red.bolder.hovered":"--ds-chart-red-bolder-hovered","color.chart.red.boldest":"--ds-chart-red-boldest","color.chart.red.boldest.hovered":"--ds-chart-red-boldest-hovered","color.chart.orange.bold":"--ds-chart-orange-bold","color.chart.orange.bold.hovered":"--ds-chart-orange-bold-hovered","color.chart.orange.bolder":"--ds-chart-orange-bolder","color.chart.orange.bolder.hovered":"--ds-chart-orange-bolder-hovered","color.chart.orange.boldest":"--ds-chart-orange-boldest","color.chart.orange.boldest.hovered":"--ds-chart-orange-boldest-hovered","color.chart.yellow.bold":"--ds-chart-yellow-bold","color.chart.yellow.bold.hovered":"--ds-chart-yellow-bold-hovered","color.chart.yellow.bolder":"--ds-chart-yellow-bolder","color.chart.yellow.bolder.hovered":"--ds-chart-yellow-bolder-hovered","color.chart.yellow.boldest":"--ds-chart-yellow-boldest","color.chart.yellow.boldest.hovered":"--ds-chart-yellow-boldest-hovered","color.chart.green.bold":"--ds-chart-green-bold","color.chart.green.bold.hovered":"--ds-chart-green-bold-hovered","color.chart.green.bolder":"--ds-chart-green-bolder","color.chart.green.bolder.hovered":"--ds-chart-green-bolder-hovered","color.chart.green.boldest":"--ds-chart-green-boldest","color.chart.green.boldest.hovered":"--ds-chart-green-boldest-hovered","color.chart.teal.bold":"--ds-chart-teal-bold","color.chart.teal.bold.hovered":"--ds-chart-teal-bold-hovered","color.chart.teal.bolder":"--ds-chart-teal-bolder","color.chart.teal.bolder.hovered":"--ds-chart-teal-bolder-hovered","color.chart.teal.boldest":"--ds-chart-teal-boldest","color.chart.teal.boldest.hovered":"--ds-chart-teal-boldest-hovered","color.chart.blue.bold":"--ds-chart-blue-bold","color.chart.blue.bold.hovered":"--ds-chart-blue-bold-hovered","color.chart.blue.bolder":"--ds-chart-blue-bolder","color.chart.blue.bolder.hovered":"--ds-chart-blue-bolder-hovered","color.chart.blue.boldest":"--ds-chart-blue-boldest","color.chart.blue.boldest.hovered":"--ds-chart-blue-boldest-hovered","color.chart.purple.bold":"--ds-chart-purple-bold","color.chart.purple.bold.hovered":"--ds-chart-purple-bold-hovered","color.chart.purple.bolder":"--ds-chart-purple-bolder","color.chart.purple.bolder.hovered":"--ds-chart-purple-bolder-hovered","color.chart.purple.boldest":"--ds-chart-purple-boldest","color.chart.purple.boldest.hovered":"--ds-chart-purple-boldest-hovered","color.chart.magenta.bold":"--ds-chart-magenta-bold","color.chart.magenta.bold.hovered":"--ds-chart-magenta-bold-hovered","color.chart.magenta.bolder":"--ds-chart-magenta-bolder","color.chart.magenta.bolder.hovered":"--ds-chart-magenta-bolder-hovered","color.chart.magenta.boldest":"--ds-chart-magenta-boldest","color.chart.magenta.boldest.hovered":"--ds-chart-magenta-boldest-hovered","color.chart.gray.bold":"--ds-chart-gray-bold","color.chart.gray.bold.hovered":"--ds-chart-gray-bold-hovered","color.chart.gray.bolder":"--ds-chart-gray-bolder","color.chart.gray.bolder.hovered":"--ds-chart-gray-bolder-hovered","color.chart.gray.boldest":"--ds-chart-gray-boldest","color.chart.gray.boldest.hovered":"--ds-chart-gray-boldest-hovered","color.chart.brand":"--ds-chart-brand","color.chart.brand.hovered":"--ds-chart-brand-hovered","color.chart.danger":"--ds-chart-danger","color.chart.danger.hovered":"--ds-chart-danger-hovered","color.chart.danger.bold":"--ds-chart-danger-bold","color.chart.danger.bold.hovered":"--ds-chart-danger-bold-hovered","color.chart.warning":"--ds-chart-warning","color.chart.warning.hovered":"--ds-chart-warning-hovered","color.chart.warning.bold":"--ds-chart-warning-bold","color.chart.warning.bold.hovered":"--ds-chart-warning-bold-hovered","color.chart.success":"--ds-chart-success","color.chart.success.hovered":"--ds-chart-success-hovered","color.chart.success.bold":"--ds-chart-success-bold","color.chart.success.bold.hovered":"--ds-chart-success-bold-hovered","color.chart.discovery":"--ds-chart-discovery","color.chart.discovery.hovered":"--ds-chart-discovery-hovered","color.chart.discovery.bold":"--ds-chart-discovery-bold","color.chart.discovery.bold.hovered":"--ds-chart-discovery-bold-hovered","color.chart.information":"--ds-chart-information","color.chart.information.hovered":"--ds-chart-information-hovered","color.chart.information.bold":"--ds-chart-information-bold","color.chart.information.bold.hovered":"--ds-chart-information-bold-hovered","elevation.surface":"--ds-surface","elevation.surface.hovered":"--ds-surface-hovered","elevation.surface.pressed":"--ds-surface-pressed","elevation.surface.overlay":"--ds-surface-overlay","elevation.surface.overlay.hovered":"--ds-surface-overlay-hovered","elevation.surface.overlay.pressed":"--ds-surface-overlay-pressed","elevation.surface.raised":"--ds-surface-raised","elevation.surface.raised.hovered":"--ds-surface-raised-hovered","elevation.surface.raised.pressed":"--ds-surface-raised-pressed","elevation.surface.sunken":"--ds-surface-sunken","elevation.shadow.overflow":"--ds-shadow-overflow","elevation.shadow.overflow.perimeter":"--ds-shadow-overflow-perimeter","elevation.shadow.overflow.spread":"--ds-shadow-overflow-spread","elevation.shadow.overlay":"--ds-shadow-overlay","elevation.shadow.raised":"--ds-shadow-raised","opacity.disabled":"--ds-opacity-disabled","opacity.loading":"--ds-opacity-loading","utility.UNSAFE.transparent":"--ds-UNSAFE-transparent","space.0":"--ds-space-0","space.025":"--ds-space-025","space.050":"--ds-space-050","space.075":"--ds-space-075","space.100":"--ds-space-100","space.150":"--ds-space-150","space.200":"--ds-space-200","space.250":"--ds-space-250","space.300":"--ds-space-300","space.400":"--ds-space-400","space.500":"--ds-space-500","space.600":"--ds-space-600","space.800":"--ds-space-800","space.1000":"--ds-space-1000","font.family.monospace":"--ds-font-family-monospace","font.family.sans":"--ds-font-family-sans","font.size.050":"--ds-font-size-050","font.size.075":"--ds-font-size-075","font.size.100":"--ds-font-size-100","font.size.200":"--ds-font-size-200","font.size.300":"--ds-font-size-300","font.size.400":"--ds-font-size-400","font.size.500":"--ds-font-size-500","font.size.600":"--ds-font-size-600","font.weight.bold":"--ds-font-weight-bold","font.weight.medium":"--ds-font-weight-medium","font.weight.regular":"--ds-font-weight-regular","font.weight.semibold":"--ds-font-weight-semibold","font.lineHeight.100":"--ds-font-lineHeight-100","font.lineHeight.200":"--ds-font-lineHeight-200","font.lineHeight.300":"--ds-font-lineHeight-300","font.lineHeight.400":"--ds-font-lineHeight-400","font.lineHeight.500":"--ds-font-lineHeight-500","font.lineHeight.600":"--ds-font-lineHeight-600"};n(34406);const s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=c[e],r=t;return"undefined"==typeof window?r:r=(r=window.getComputedStyle(document.documentElement).getPropertyValue(n).trim())||t};var u=n(9091),l=n(21025),d="pm-table",p="".concat(d,"-cell-content-wrap"),f="".concat(d,"-header-content-wrap"),h="".concat(d,"-cell-nodeview-wrapper"),v="".concat(d,"-cell-nodeview-content-dom"),m=u.IR.toLocaleLowerCase(),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,o=Number(e.getAttribute("colspan")||1),i=e.style.backgroundColor,a=e.getAttribute("data-cell-background"),c=a&&(0,u.vq)(a)?a:void 0;if(i.includes("--ds-background-neutral"))i="";else if(i&&(0,u.yu)(i)){var s=(0,u.rr)(i);null!==s&&(i=s)}var l=c||(i&&i!==t.background?i:null);return{colspan:o,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:r&&r.length===o?r:null,background:l}},y=function(e){var t,n={},r=e.type.name;if(1!==e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!==e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),e.attrs.background){var o=e.attrs.background;if("tableHeader"===r&&o===k.get("light gray")||"tableCell"===r&&o===k.get("white")||"tableHeader"===r&&o.includes("--ds-background-neutral"))n.style="";else{var i=(0,u.yu)(o)&&(0,u.rr)(o)?(0,u.rr)(o):o,c=(t=a[i.toUpperCase()])?t.tokenName:void 0,l=c?s(c):i;n.style="".concat(n.style||"","background-color: ").concat(l,";"),i&&(n["data-cell-background"]=i),n.colorname=b.get(i)}}return n.class="tableHeader"===r?f:p,n},b=new Map,w=(0,u.a7)(u.q2,.12)||u.N0,k=new Map;[[u.N0,"White"],[u.BA,"Light blue"],[u.u7,"Light teal"],[u.ER,"Light green"],[u.S_,"Light yellow"],[u.r6,"Light red"],[u.jJ,"Light purple"],[u.IR,"Light gray"],[u.tE,"Blue"],[u.Xl,"Teal"],[u.RY,"Green"],[u.a8,"Yellow"],[u.Xd,"Red"],[u.VY,"Purple"],[u.ip,"Gray"],[u.vP,"Dark blue"],[u.N_,"Dark teal"],[u.T5,"Dark green"],[u.cS,"Dark yellow"],[u.S5,"Dark red"],[u.Vi,"Dark purple"]].forEach((function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];b.set(n.toLowerCase(),r),k.set(r.toLowerCase(),n.toLowerCase())}));var E={content:"tableRow+",attrs:{isNumberColumnEnabled:{default:!1},layout:{default:"default"},__autoSize:{default:!1},localId:{default:""}},marks:"unsupportedMark unsupportedNodeAttribute",tableRole:"table",isolating:!0,selectable:!0,group:"block",parseDOM:[{tag:"table",getAttrs:function(e){var t,n=e,r=null===(t=n.parentElement)||void 0===t?void 0:t.parentElement;return{isNumberColumnEnabled:"true"===n.getAttribute("data-number-column"),layout:n.getAttribute("data-layout")||(null==r?void 0:r.getAttribute("data-layout"))||"default",__autoSize:"true"===n.getAttribute("data-autosize"),localId:n.getAttribute("data-table-local-id")||l.V.generate()}}}],toDOM:function(e){return["table",{"data-number-column":e.attrs.isNumberColumnEnabled,"data-layout":e.attrs.layout,"data-autosize":e.attrs.__autoSize,"data-table-local-id":e.attrs.localId},["tbody",0]]}},x=function(e){return{attrs:Object.keys(e.attrs).filter((function(t){return function(e,t){return!(e.startsWith("__")||"localId"===e&&!t)}(t,e.attrs[t])})).reduce((function(t,n){return t[n]=e.attrs[n],t}),{})}},O={selectable:!1,content:"(tableCell | tableHeader)+",marks:"unsupportedMark unsupportedNodeAttribute",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},S={colspan:{default:1},rowspan:{default:1},colwidth:{default:null},background:{default:null}},C={selectable:!1,content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle |  mediaGroup | decisionList | taskList | blockCard | embedCard | extension | nestedExpand | unsupportedBlock)+",attrs:S,tableRole:"cell",marks:"alignment dataConsumer fragment unsupportedMark unsupportedNodeAttribute",isolating:!0,parseDOM:[{tag:".ak-renderer-table-number-column",ignore:!0},{tag:"td",getAttrs:function(e){return g(e)}}],toDOM:function(e){return["td",y(e),0]}},T=function(e){return{attrs:Object.keys(e.attrs).reduce((function(t,n){return S[n].default!==e.attrs[n]&&(t[n]=e.attrs[n]),t}),{})}},A={selectable:!1,content:"(paragraph | panel | blockquote | orderedList | bulletList | rule | heading | codeBlock | mediaSingle |  mediaGroup | decisionList | taskList | blockCard | embedCard | extension | nestedExpand)+",attrs:S,tableRole:"header_cell",isolating:!0,marks:"alignment dataConsumer fragment unsupportedMark unsupportedNodeAttribute",parseDOM:[{tag:"th",getAttrs:function(e){return g(e,{background:m})}}],toDOM:function(e){return["th",y(e),0]}},_=T},23677:(e,t,n)=>{"use strict";n.d(t,{p:()=>o});var r=n(21025),o={content:"inline*",defining:!0,selectable:!1,marks:"_",attrs:{localId:{default:""},state:{default:"TODO"}},parseDOM:[{tag:"div[data-task-local-id]",priority:100,getAttrs:function(e){return{localId:r.V.generate(),state:e.getAttribute("data-task-state")||"TODO"}}}],toDOM:function(e){var t=e.attrs;return["div",{"data-task-local-id":t.localId||"local-task","data-task-state":t.state||"TODO"},0]}}},99462:(e,t,n)=>{"use strict";n.d(t,{K:()=>i,o:()=>a});var r=n(21025),o="actionList",i='[data-node-type="'.concat(o,'"]'),a={group:"block",defining:!0,selectable:!1,content:"(taskItem|unsupportedBlock)+ (taskItem|taskList|unsupportedBlock)*",marks:"unsupportedMark unsupportedNodeAttribute",attrs:{localId:{default:""}},parseDOM:[{tag:"div".concat(i),priority:100,getAttrs:function(){return{localId:r.V.generate()}}}],toDOM:function(e){var t=e.attrs.localId;return["div",{"data-node-type":o,"data-task-list-local-id":t||"local-task-list",style:"list-style: none; padding-left: 0"},0]}}},14770:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});var r={group:"inline",toDebugString:function(){return"text_node"}}},73562:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r="unknownBlock";const o={group:"block",content:"inline+",marks:"_",toDOM:function(){return["div",{"data-node-type":r},0]},parseDOM:[{tag:'div[data-node-type="'.concat(r,'"]')}]}},30562:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});var r={inline:!1,group:"block",atom:!0,selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedBlock"]',getAttrs:function(e){return{originalValue:JSON.parse(e.getAttribute("data-original-value")||"{}")}}}],toDOM:function(e){return["div",{"data-node-type":"unsupportedBlock","data-original-value":JSON.stringify(e.attrs.originalValue)},"Unsupported content"]}}},41256:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});var r={inline:!0,group:"inline",selectable:!0,attrs:{originalValue:{default:{}}},parseDOM:[{tag:'[data-node-type="unsupportedInline"]',getAttrs:function(e){return{originalValue:JSON.parse(e.getAttribute("data-original-value")||"{}")}}}],toDOM:function(e){return["span",{"data-node-type":"unsupportedInline","data-original-value":JSON.stringify(e.attrs.originalValue)},"Unsupported content"]}}},91112:(e,t,n)=>{"use strict";n.d(t,{R1:()=>y});var r=n(68079),o=n(9249),i=n(87371),a=n(80753),c=n(45754),s=n(11987),u=n(95058),l=n(56666),d=n(30709),p=n(87598);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m="atlaskit-analytics",g=function(e){return e.UNDID="undid",e.REDID="redid",e}(g||{});var y=function(e){(0,c.Z)(n,e);var t=f(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;return(0,o.Z)(this,n),r=t.call(this),(0,l.Z)((0,a.Z)(r),"analyticsEvents",[]),(0,l.Z)((0,a.Z)(r),"actionsToIgnore",[]),r.analyticsEvents=e,r.actionsToIgnore=i,r.pos=c,r}return(0,i.Z)(n,[{key:"invert",value:function(){var e=this;return new n(this.analyticsEvents.filter((function(t){return-1===e.actionsToIgnore.indexOf(t.payload.action)})).map((function(e){return(t=e).payload.action===g.UNDID||t.payload.action===g.REDID?function(e){return v(v({},e),{},{payload:v(v({},e.payload),{},{action:e.payload.action===g.UNDID?g.REDID:g.UNDID})})}(e):function(e){var t;return v(v({},e),{},{payload:{action:g.UNDID,actionSubject:e.payload.actionSubject,actionSubjectId:e.payload.action,attributes:v(v({},e.payload.attributes),{},{actionSubjectId:e.payload.actionSubjectId,inputMethod:(null===(t=e.payload.attributes)||void 0===t?void 0:t.inputMethod)||""}),eventType:"track"}})}(e);var t})),[])}},{key:"apply",value:function(e){return d.oo.ok(e)}},{key:"map",value:function(e){var t=this.pos;return"number"==typeof t&&(t=e.map(t)),new n(this.analyticsEvents,this.actionsToIgnore,t)}},{key:"getMap",value:function(){return"number"==typeof this.pos?new d.KS([this.pos,0,0]):new d.KS([])}},{key:"merge",value:function(e){if(e instanceof n){var t=e.analyticsEvents;return new n([].concat((0,r.Z)(t),(0,r.Z)(this.analyticsEvents)))}return null}},{key:"toJSON",value:function(){return{stepType:m}}}],[{key:"fromJSON",value:function(){return new d.Pu(0,0,p.p2.empty)}}]),n}(d.h8);d.h8.jsonID(m,y)},76942:(e,t,n)=>{"use strict";n.d(t,{l:()=>p});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058),s=n(87598),u=n(30709);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var d="atlaskit-table-sorting-ordering",p=function(e){(0,i.Z)(n,e);var t=l(n);function n(e,o,i){var a;return(0,r.Z)(this,n),(a=t.call(this)).prev=o,a.next=i,a.pos=e,a}return(0,o.Z)(n,[{key:"invert",value:function(){return new n(this.pos,this.next,this.prev)}},{key:"apply",value:function(e){return u.oo.ok(e)}},{key:"map",value:function(){return null}},{key:"getMap",value:function(){return new u.KS([0,0,0])}},{key:"toJSON",value:function(){return{stepType:d}}}],[{key:"fromJSON",value:function(){return new u.Pu(0,0,s.p2.empty)}}]),n}(u.h8);u.h8.jsonID(d,p)},16530:(e,t,n)=>{"use strict";n.d(t,{g:()=>r});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("data-extension-type"),r=e.getAttribute("data-extension-key");if(!n||!r)return!1;var o,i={extensionType:n,extensionKey:r,text:e.getAttribute("data-text")||void 0,parameters:JSON.parse(e.getAttribute("data-parameters")||"{}"),localId:e.getAttribute("data-local-id")||void 0};if(!t){var a=e.getAttribute("data-layout");i.layout=(o=a)&&["default","wide","full-width"].includes(o)?a:"default"}return i}},81909:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var r=function(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}},57195:(e,t,n)=>{"use strict";n.d(t,{D5:()=>d,N1:()=>a,Nv:()=>p,Z7:()=>u,n_:()=>l,w6:()=>i});var r=n(10251),o=[/^https?:\/\//im,/^ftps?:\/\//im,/^gopher:\/\//im,/^integrity:\/\//im,/^file:\/\//im,/^smb:\/\//im,/^dynamicsnav:\/\//im,/^jamfselfservice:\/\//im,/^\//im,/^mailto:/im,/^skype:/im,/^callto:/im,/^facetime:/im,/^git:/im,/^irc6?:/im,/^news:/im,/^nntp:/im,/^feed:/im,/^cvs:/im,/^svn:/im,/^mvn:/im,/^ssh:/im,/^scp:\/\//im,/^sftp:\/\//im,/^itms:/im,/^notes:/im,/^hipchat:\/\//im,/^sourcetree:/im,/^urn:/im,/^tel:/im,/^xmpp:/im,/^telnet:/im,/^vnc:/im,/^rdp:/im,/^whatsapp:/im,/^slack:/im,/^sips?:/im,/^magnet:/im,/^#/im],i=function(e){var t=e.trim();return 0===t.length||o.some((function(e){return e.test(t)}))},a=n.n(r)()();a.add("sourcetree:","http:"),a.add("jamfselfservice:","http:");var c="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");c.push("a[cdefgilmnoqrtuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrtuvwxyz]|n[acefgilopruz]|om|p[aefghkmnrtw]|qa|r[eosuw]|s[abcdegijklmnrtuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),a.tlds(c,!1);var s=/(https?|ftp|jamfselfservice|gopher|dynamicsnav|integrity|file|smb):\/\/[^\s]+/,u=function(e){var t=[];if(!s.test(e))return t;for(var n,r=0;n=e.substr(r);){var o=(n.match(s)||[""])[0];if(!o)break;var i=n.search(s),a=i>=0?i+r:i,c=a+o.length;t.push({index:a,lastIndex:c,raw:o,url:o,text:o,schema:""}),r+=c}return t};function l(e){if(!e)return null;var t=u(e);return t.length||(t=a.match(e)),t&&t[0]}function d(e){var t=l(e);return t&&t.url||""}function p(e){return e.startsWith("/")}},21025:(e,t,n)=>{"use strict";n.d(t,{R:()=>r,V:()=>i});var r=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},o=!1,i={setStatic:function(e){o=e},generate:function(){return o||r()}}},87598:(e,t,n)=>{"use strict";n.d(t,{HY:()=>a,V_:()=>re,p2:()=>f});var r=n(86403);function o(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var i=e.child(r),a=t.child(r);if(i!=a){if(!i.sameMarkup(a))return n;if(i.isText&&i.text!=a.text){for(var c=0;i.text[c]==a.text[c];c++)n++;return n}if(i.content.size||a.content.size){var s=o(i.content,a.content,n+1);if(null!=s)return s}n+=i.nodeSize}else n+=i.nodeSize}}function i(e,t,n,r){for(var o=e.childCount,a=t.childCount;;){if(0==o||0==a)return o==a?null:{a:n,b:r};var c=e.child(--o),s=t.child(--a),u=c.nodeSize;if(c!=s){if(!c.sameMarkup(s))return{a:n,b:r};if(c.isText&&c.text!=s.text){for(var l=0,d=Math.min(c.text.length,s.text.length);l<d&&c.text[c.text.length-l-1]==s.text[s.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(c.content.size||s.content.size){var p=i(c.content,s.content,n-1,r-1);if(p)return p}n-=u,r-=u}else n-=u,r-=u}}var a=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};a.prototype.nodesBetween=function(e,t,n,r,o){void 0===r&&(r=0);for(var i=0,a=0;a<t;i++){var c=this.content[i],s=a+c.nodeSize;if(s>e&&!1!==n(c,r+a,o,i)&&c.content.size){var u=a+1;c.nodesBetween(Math.max(0,e-u),Math.min(c.content.size,t-u),n,r+u)}a=s}},a.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},a.prototype.textBetween=function(e,t,n,r){var o="",i=!0;return this.nodesBetween(e,t,(function(a,c){a.isText?(o+=a.text.slice(Math.max(e,c)-c,t-c),i=!n):a.isLeaf&&r?(o+="function"==typeof r?r(a):r,i=!n):!i&&a.isBlock&&(o+=n,i=!0)}),0),o},a.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new a(r,this.size+e.size)},a.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],r=0;if(t>e)for(var o=0,i=0;i<t;o++){var c=this.content[o],s=i+c.nodeSize;s>e&&((i<e||s>t)&&(c=c.isText?c.cut(Math.max(0,e-i),Math.min(c.text.length,t-i)):c.cut(Math.max(0,e-i-1),Math.min(c.content.size,t-i-1))),n.push(c),r+=c.nodeSize),i=s}return new a(n,r)},a.prototype.cutByIndex=function(e,t){return e==t?a.empty:0==e&&t==this.content.length?this:new a(this.content.slice(e,t))},a.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new a(r,o)},a.prototype.addToStart=function(e){return new a([e].concat(this.content),this.size+e.nodeSize)},a.prototype.addToEnd=function(e){return new a(this.content.concat(e),this.size+e.nodeSize)},a.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},a.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},a.prototype.maybeChild=function(e){return this.content[e]},a.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}},a.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),o(this,e,t)},a.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),i(this,e,t,n)},a.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return u(0,e);if(e==this.size)return u(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?u(n+1,o):u(n,r);r=o}},a.prototype.toString=function(){return"<"+this.toStringInner()+">"},a.prototype.toStringInner=function(){return this.content.join(", ")},a.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},a.fromJSON=function(e,t){if(!t)return a.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(t.map(e.nodeFromJSON))},a.fromArray=function(e){if(!e.length)return a.empty;for(var t,n=0,r=0;r<e.length;r++){var o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new a(t||e,n)},a.from=function(e){if(!e)return a.empty;if(e instanceof a)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new a([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(a.prototype,c);var s={index:0,offset:0};function u(e,t){return s.index=e,s.offset=t,s}function l(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!l(e[r],t[r]))return!1}else{for(var o in e)if(!(o in t)||!l(e[o],t[o]))return!1;for(var i in t)if(!(i in e))return!1}return!0}a.empty=new a([],0);var d=function(e,t){this.type=e,this.attrs=t};function p(e){var t=Error.call(this,e);return t.__proto__=p.prototype,t}d.prototype.addToSet=function(e){for(var t,n=!1,r=0;r<e.length;r++){var o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t},d.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},d.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},d.prototype.eq=function(e){return this==e||this.type==e.type&&l(this.attrs,e.attrs)},d.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},d.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},d.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},d.setFrom=function(e){if(!e||0==e.length)return d.none;if(e instanceof d)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},d.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="ReplaceError";var f=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},h={size:{configurable:!0}};function v(e,t,n){var r=e.findIndex(t),o=r.index,i=r.offset,a=e.maybeChild(o),c=e.findIndex(n),s=c.index,u=c.offset;if(i==t||a.isText){if(u!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(o!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(o,a.copy(v(a.content,t-i-1,n-i-1)))}function m(e,t,n,r){var o=e.findIndex(t),i=o.index,a=o.offset,c=e.maybeChild(i);if(a==t||c.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));var s=m(c.content,t-a-1,n);return s&&e.replaceChild(i,c.copy(s))}function g(e,t,n){if(n.openStart>e.depth)throw new p("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new p("Inconsistent open depths");return y(e,t,n,0)}function y(e,t,n,r){var o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){var c=y(e,t,n,r+1);return i.copy(i.content.replaceChild(o,c))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){var s=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),o=n-1;o>=0;o--)r=t.node(o).copy(a.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return x(i,O(e,s.start,s.end,t,r))}var u=e.parent,l=u.content;return x(u,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}return x(i,S(e,t,r))}function b(e,t){if(!t.type.compatibleContent(e.type))throw new p("Cannot join "+t.type.name+" onto "+e.type.name)}function w(e,t,n){var r=e.node(n);return b(r,t.node(n)),r}function k(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function E(e,t,n,r){var o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(k(e.nodeAfter,r),i++));for(var c=i;c<a;c++)k(o.child(c),r);t&&t.depth==n&&t.textOffset&&k(t.nodeBefore,r)}function x(e,t){if(!e.type.validContent(t))throw new p("Invalid content for node "+e.type.name);return e.copy(t)}function O(e,t,n,r,o){var i=e.depth>o&&w(e,t,o+1),c=r.depth>o&&w(n,r,o+1),s=[];return E(null,e,o,s),i&&c&&t.index(o)==n.index(o)?(b(i,c),k(x(i,O(e,t,n,r,o+1)),s)):(i&&k(x(i,S(e,t,o+1)),s),E(t,n,o,s),c&&k(x(c,S(n,r,o+1)),s)),E(r,null,o,s),new a(s)}function S(e,t,n){var r=[];(E(null,e,n,r),e.depth>n)&&k(x(w(e,t,n+1),S(e,t,n+1)),r);return E(t,null,n,r),new a(r)}h.size.get=function(){return this.content.size-this.openStart-this.openEnd},f.prototype.insertAt=function(e,t){var n=m(this.content,e+this.openStart,t,null);return n&&new f(n,this.openStart,this.openEnd)},f.prototype.removeBetween=function(e,t){return new f(v(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},f.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},f.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},f.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},f.fromJSON=function(e,t){if(!t)return f.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new f(a.fromJSON(e,t.content),n,r)},f.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,r=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new f(e,n,r)},Object.defineProperties(f.prototype,h),f.empty=new f(a.empty,0,0);var C=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},T={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};C.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},T.parent.get=function(){return this.node(this.depth)},T.doc.get=function(){return this.node(0)},C.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},C.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},C.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},C.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},C.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},C.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},C.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},T.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},T.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r},T.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},C.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)r+=n.child(o).nodeSize;return r},C.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return d.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i},C.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},C.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},C.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new D(this,e,n)},C.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},C.prototype.max=function(e){return e.pos>this.pos?e:this},C.prototype.min=function(e){return e.pos<this.pos?e:this},C.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},C.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],r=0,o=t,i=e;;){var a=i.content.findIndex(o),c=a.index,s=a.offset,u=o-s;if(n.push(i,c,r+s),!u)break;if((i=i.child(c)).isText)break;o=u-1,r+=s+1}return new C(t,n,o)},C.resolveCached=function(e,t){for(var n=0;n<A.length;n++){var r=A[n];if(r.pos==t&&r.doc==e)return r}var o=A[_]=C.resolve(e,t);return _=(_+1)%P,o},Object.defineProperties(C.prototype,T);var A=[],_=0,P=12,D=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},Z={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Z.start.get=function(){return this.$from.before(this.depth+1)},Z.end.get=function(){return this.$to.after(this.depth+1)},Z.parent.get=function(){return this.$from.node(this.depth)},Z.startIndex.get=function(){return this.$from.index(this.depth)},Z.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(D.prototype,Z);var I=Object.create(null),L=function(e,t,n,r){this.type=e,this.attrs=t,this.content=n||a.empty,this.marks=r||d.none},M={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};M.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},M.childCount.get=function(){return this.content.childCount},L.prototype.child=function(e){return this.content.child(e)},L.prototype.maybeChild=function(e){return this.content.maybeChild(e)},L.prototype.forEach=function(e){this.content.forEach(e)},L.prototype.nodesBetween=function(e,t,n,r){void 0===r&&(r=0),this.content.nodesBetween(e,t,n,r,this)},L.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},M.textContent.get=function(){return this.textBetween(0,this.content.size,"")},L.prototype.textBetween=function(e,t,n,r){return this.content.textBetween(e,t,n,r)},M.firstChild.get=function(){return this.content.firstChild},M.lastChild.get=function(){return this.content.lastChild},L.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},L.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},L.prototype.hasMarkup=function(e,t,n){return this.type==e&&l(this.attrs,t||e.defaultAttrs||I)&&d.sameSet(this.marks,n||d.none)},L.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},L.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},L.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},L.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return f.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),c=r.node(i).content.cut(r.pos-a,o.pos-a);return new f(c,r.depth-i,o.depth-i)},L.prototype.replace=function(e,t,n){return g(this.resolve(e),this.resolve(t),n)},L.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(!(t=t.maybeChild(r)))return null;if(o==e||t.isText)return t;e-=o+1}},L.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},L.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},L.prototype.resolve=function(e){return C.resolveCached(this,e)},L.prototype.resolveNoCache=function(e){return C.resolve(this,e)},L.prototype.rangeHasMark=function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r},M.isBlock.get=function(){return this.type.isBlock},M.isTextblock.get=function(){return this.type.isTextblock},M.inlineContent.get=function(){return this.type.inlineContent},M.isInline.get=function(){return this.type.isInline},M.isText.get=function(){return this.type.isText},M.isLeaf.get=function(){return this.type.isLeaf},M.isAtom.get=function(){return this.type.isAtom},L.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),N(this.marks,e)},L.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},L.prototype.canReplace=function(e,t,n,r,o){void 0===n&&(n=a.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(e).matchFragment(n,r,o),c=i&&i.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(var s=r;s<o;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},L.prototype.canReplaceWith=function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd},L.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},L.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=d.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!d.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(e){return e.type.name})));this.content.forEach((function(e){return e.check()}))},L.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},L.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=a.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)},Object.defineProperties(L.prototype,M);var R=function(e){function t(t,n,r,o){if(e.call(this,t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):N(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(L);function N(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var j=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},F={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};j.parse=function(e,t){var n=new B(e,t);if(null==n.next)return j.empty;var r=U(n);n.next&&n.err("Unexpected trailing text");var o=function(e){var t=Object.create(null);return n(K(e,0));function n(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){var i=o.indexOf(n),a=i>-1&&o[i+1];K(e,r).forEach((function(e){a||o.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var i=t[r.join(",")]=new j(r.indexOf(e.length-1)>-1),a=0;a<o.length;a+=2){var c=o[a+1].sort(q);i.next.push(o[a],t[c.join(",")]||n(c))}return i}}(function(e){var t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}function i(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(i(n,t))}),[]);if("seq"==e.type)for(var a=0;;a++){var c=i(e.exprs[a],t);if(a==e.exprs.length-1)return c;o(c,t=n())}else{if("star"==e.type){var s=n();return r(t,s),o(i(e.expr,s),s),[r(s)]}if("plus"==e.type){var u=n();return o(i(e.expr,t),u),o(i(e.expr,u),u),[r(u)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){for(var l=t,d=0;d<e.min;d++){var p=n();o(i(e.expr,l),p),l=p}if(-1==e.max)o(i(e.expr,l),l);else for(var f=e.min;f<e.max;f++){var h=n();r(l,h),o(i(e.expr,l),h),l=h}return[r(l)]}if("name"==e.type)return[r(t,null,e.value)]}}}(r));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],c=0;c<o.next.length;c+=2){var s=o.next[c],u=o.next[c+1];a.push(s.name),!i||s.isText||s.hasRequiredAttrs()||(i=!1),-1==r.indexOf(u)&&r.push(u)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},j.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},j.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r},F.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},F.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},j.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},j.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var r=[this];return function o(i,c){var s=i.matchFragment(e,n);if(s&&(!t||s.validEnd))return a.from(c.map((function(e){return e.createAndFill()})));for(var u=0;u<i.next.length;u+=2){var l=i.next[u],d=i.next[u+1];if(!l.isText&&!l.hasRequiredAttrs()&&-1==r.indexOf(d)){r.push(d);var p=o(d,c.concat(l));if(p)return p}}}(this,[])},j.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},j.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var c=0;c<o.next.length;c+=2){var s=o.next[c];s.isLeaf||s.hasRequiredAttrs()||s.name in t||r.type&&!o.next[c+1].validEnd||(n.push({match:s.contentMatch,type:s,via:r}),t[s.name]=!0)}}},F.edgeCount.get=function(){return this.next.length>>1},j.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},j.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)-1==e.indexOf(n.next[r])&&t(n.next[r])}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)r+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return r})).join("\n")},Object.defineProperties(j.prototype,F),j.empty=new j(!0);var B=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},z={next:{configurable:!0}};function U(e){var t=[];do{t.push(V(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function V(e){var t=[];do{t.push(H(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function H(e){for(var t=function(e){if(e.eat("(")){var t=U(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&o.push(a)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=G(e,t)}return t}function W(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function G(e,t){var n=W(e),r=n;return e.eat(",")&&(r="}"!=e.next?W(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function q(e,t){return t-e}function K(e,t){var n=[];return function t(r){var o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var a=o[i],c=a.term,s=a.to;c||-1!=n.indexOf(s)||t(s)}}(t),n.sort(q)}function $(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function J(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function Y(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new ee(e[n]);return t}z.next.get=function(){return this.tokens[this.pos]},B.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},B.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(B.prototype,z);var X=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=Y(n.attrs),this.defaultAttrs=$(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},Q={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};Q.isInline.get=function(){return!this.isBlock},Q.isTextblock.get=function(){return this.isBlock&&this.inlineContent},Q.isLeaf.get=function(){return this.contentMatch==j.empty},Q.isAtom.get=function(){return this.isLeaf||this.spec.atom},Q.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")},X.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},X.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},X.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:J(this.attrs,e)},X.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new L(this,this.computeAttrs(e),a.from(t),d.setFrom(n))},X.prototype.createChecked=function(e,t,n){if(t=a.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new L(this,this.computeAttrs(e),t,d.setFrom(n))},X.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=a.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(a.empty,!0);return o?new L(this,e,t.append(o),d.setFrom(n)):null},X.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},X.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},X.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},X.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:d.empty:e},X.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,r){return n[e]=new X(e,t,r)}));var r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(X.prototype,Q);var ee=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},te={isRequired:{configurable:!0}};te.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(ee.prototype,te);var ne=function(e,t,n,r){this.name=e,this.schema=n,this.spec=r,this.attrs=Y(r.attrs),this.rank=t,this.excluded=null;var o=$(this.attrs);this.instance=o&&new d(this,o)};ne.prototype.create=function(e){return!e&&this.instance?this.instance:new d(this,J(this.attrs,e))},ne.compile=function(e,t){var n=Object.create(null),r=0;return e.forEach((function(e,o){return n[e]=new ne(e,r++,t,o)})),n},ne.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e},ne.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},ne.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var re=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=r.Z.from(e.nodes),this.spec.marks=r.Z.from(e.marks),this.nodes=X.compile(this.spec.nodes,this),this.marks=ne.compile(this.spec.marks,this);var n=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var i=this.nodes[o],a=i.spec.content||"",c=i.spec.marks;i.contentMatch=n[a]||(n[a]=j.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==c?null:c?oe(this,c.split(" ")):""!=c&&i.inlineContent?null:[]}for(var s in this.marks){var u=this.marks[s],l=u.spec.excludes;u.excluded=null==l?[u]:""==l?[]:oe(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function oe(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(var c in e.marks){var s=e.marks[c];("_"==o||s.spec.group&&s.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=s)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}re.prototype.node=function(e,t,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof X))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)},re.prototype.text=function(e,t){var n=this.nodes.text;return new R(n,n.defaultAttrs,e,d.setFrom(t))},re.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},re.prototype.nodeFromJSON=function(e){return L.fromJSON(this,e)},re.prototype.markFromJSON=function(e){return d.fromJSON(this,e)},re.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var ie=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};ie.prototype.parse=function(e,t){void 0===t&&(t={});var n=new fe(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},ie.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new fe(this,t,!0);return n.addAll(e,null,t.from,t.to),f.maxOpen(n.finish())},ie.prototype.matchTag=function(e,t,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(ve(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i}return o}}},ie.prototype.matchStyle=function(e,t,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(e)||i.context&&!n.matchesContext(i.context)||i.style.length>e.length&&(61!=i.style.charCodeAt(e.length)||i.style.slice(e.length+1)!=t))){if(i.getAttrs){var a=i.getAttrs(t);if(!1===a)continue;i.attrs=a}return i}}},ie.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var o=t[r];if((null==o.priority?50:o.priority)<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=me(e)),e.mark=t}))};for(var o in e.marks)r(o);var i;for(var a in e.nodes)i=void 0,(i=e.nodes[a].spec.parseDOM)&&i.forEach((function(e){n(e=me(e)),e.node=a}));return t},ie.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new ie(e,ie.schemaRules(e)))};var ae={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ce={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},se={ol:!0,ul:!0},ue=1,le=2;function de(e,t){return(t?ue:0)|("full"===t||null==t&&e&&"pre"==e.whitespace?le:0)}var pe=function(e,t,n,r,o,i,a){this.type=e,this.attrs=t,this.solid=o,this.match=i||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=d.none,this.pendingMarks=r,this.stashMarks=[]};pe.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(a.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},pe.prototype.finish=function(e){if(!(this.options&ue)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var r=a.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},pe.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]},pe.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):ge(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},pe.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!ae.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var fe=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var r,o=t.topNode,i=de(null,t.preserveWhitespace)|(n?4:0);r=o?new pe(o.type,o.attrs,d.none,d.none,!0,t.topMatch||o.type.contentMatch,i):new pe(n?null:e.schema.topNodeType,null,d.none,d.none,!0,null,i),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1},he={top:{configurable:!0},currentPos:{configurable:!0}};function ve(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function me(e){var t={};for(var n in e)t[n]=e[n];return t}function ge(e,t){var n=t.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(e)){var i=[],a=function(e){i.push(e);for(var n=0;n<e.edgeCount;n++){var r=e.edge(n),o=r.type,c=r.next;if(o==t)return!0;if(i.indexOf(c)<0&&a(c))return!0}};return a(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}he.top.get=function(){return this.nodes[this.open]},fe.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},fe.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(n.options&le||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&ue)t=n.options&le?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},fe.prototype.addElement=function(e,t){var n,r=e.nodeName.toLowerCase();se.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&se.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:ce.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var i,a=this.top,c=this.needsBlock;if(ae.hasOwnProperty(r))i=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),i&&this.sync(a),this.needsBlock=c}else this.addElementByRule(e,o,!1===o.consuming?n:null)},fe.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},fe.prototype.ignoreFallback=function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},fe.prototype.readStyles=function(e){var t=d.none;e:for(var n=0;n<e.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(e[n],e[n+1],this,r);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;r=o}return t},fe.prototype.addElementByRule=function(e,t,n){var r,o,i,a=this;t.node?(o=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs,t.preserveWhitespace):(i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i));var c=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var s=t.contentElement;"string"==typeof s?s=e.querySelector(s):"function"==typeof s&&(s=s(e)),s||(s=e),this.findAround(e,s,!0),this.addAll(s,r)}r&&(this.sync(c),this.open--),i&&this.removePendingMark(i,c)},fe.prototype.addAll=function(e,t,n,r){for(var o=n||0,i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i),t&&ae.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)},fe.prototype.findPlace=function(e){for(var t,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},fe.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1},fe.prototype.enter=function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r},fe.prototype.enterInner=function(e,t,n,r){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var i=null==r?-5&o.options:de(e,r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new pe(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},fe.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},fe.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},fe.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},he.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e},fe.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},fe.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},fe.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node))t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},fe.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},fe.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=function(e,c){for(;e>=0;e--){var s=n[e];if(""==s){if(e==n.length-1||0==e)continue;for(;c>=i;c--)if(a(e-1,c))return!0;return!1}var u=c>0||0==c&&o?t.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!u||u.name!=s&&-1==u.groups.indexOf(s))return!1;c--}return!0};return a(n.length-1,this.open)},fe.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},fe.prototype.addPendingMark=function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},fe.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var o=r.popFromStashMark(e);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==t)break}},Object.defineProperties(fe.prototype,he);var ye=function(e,t){this.nodes=e||{},this.marks=t||{}};function be(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function we(e){return e.document||window.document}ye.prototype.serializeFragment=function(e,t,n){var r=this;void 0===t&&(t={}),n||(n=we(t).createDocumentFragment());var o=n,i=null;return e.forEach((function(e){if(i||e.marks.length){i||(i=[]);for(var n=0,a=0;n<i.length&&a<e.marks.length;){var c=e.marks[a];if(r.marks[c.type.name]){if(!c.eq(i[n])||!1===c.type.spec.spanning)break;n+=2,a++}else a++}for(;n<i.length;)o=i.pop(),i.pop();for(;a<e.marks.length;){var s=e.marks[a++],u=r.serializeMark(s,e.isInline,t);u&&(i.push(s,o),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(r.serializeNodeInner(e,t))})),n},ye.prototype.serializeNodeInner=function(e,t){void 0===t&&(t={});var n=ye.renderSpec(we(t),this.nodes[e.type.name](e)),r=n.dom,o=n.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return r},ye.prototype.serializeNode=function(e,t){void 0===t&&(t={});for(var n=this.serializeNodeInner(e,t),r=e.marks.length-1;r>=0;r--){var o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},ye.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var r=this.marks[e.type.name];return r&&ye.renderSpec(we(n),r(e,t))},ye.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var r=t[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,a=n?e.createElementNS(n,r):e.createElement(r),c=t[1],s=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c))for(var u in s=2,c)if(null!=c[u]){var l=u.indexOf(" ");l>0?a.setAttributeNS(u.slice(0,l),u.slice(l+1),c[u]):a.setAttribute(u,c[u])}for(var d=s;d<t.length;d++){var p=t[d];if(0===p){if(d<t.length-1||d>s)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var f=ye.renderSpec(e,p,n),h=f.dom,v=f.contentDOM;if(a.appendChild(h),v){if(i)throw new RangeError("Multiple content holes");i=v}}return{dom:a,contentDOM:i}},ye.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new ye(this.nodesFromSchema(e),this.marksFromSchema(e)))},ye.nodesFromSchema=function(e){var t=be(e.nodes);return t.text||(t.text=function(e){return e.text}),t},ye.marksFromSchema=function(e){return be(e.marks)}},53657:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var r=n(18499),o=function(e){var t=!1;return{transformedAdf:(0,r.f)(e,{mediaSingle:function(e){var n;if(!e.marks||!e.content||"media"!==(null===(n=e.content[0])||void 0===n?void 0:n.type))return e;var r=null;if(e.marks.forEach((function(n,o){var i;"link"===n.type&&(r=n,null===(i=e.marks)||void 0===i||i.splice(o,1),t=!0)})),0===e.marks.length&&delete e.marks,r){var o,i=e.content[0];null!==(o=i.marks)&&void 0!==o&&o.every((function(e){return"link"!==e.type}))?i.marks.push(r):i.marks||(i.marks=[r])}return e}}),isTransformed:t}}},18499:(e,t,n)=>{"use strict";n.d(t,{f:()=>a});var r=n(56666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){return c(e,{node:void 0},t,0,0)}function c(e,t,n,r,o){var a=n[e.type]||n.any,s=i({},e);if(a){var u=a(i({},s),t,r,o);if(!1===u)return!1;s=u||e}return s.content&&(s.content=s.content.reduce((function(e,r,i){if(!r)return e;var a=c(r,{node:s,parent:t},n,i,o+1);return!1!==a&&e.push(a),e}),[])),s}},64815:(e,t,n)=>{"use strict";n.d(t,{s:()=>rt});var r={};n.r(r),n.d(r,{alignment:()=>g,annotation:()=>b,atomic_inline:()=>F,blockCard:()=>P,block_content:()=>Pe,blockquote:()=>ae,bodiedExtension:()=>Ae,bodiedExtension_with_marks:()=>_e,border:()=>E,breakout:()=>m,bulletList:()=>Q,caption:()=>W,code:()=>s,codeBlock:()=>$,codeBlock_with_marks:()=>Y,codeBlock_with_no_marks:()=>J,code_inline:()=>j,dataConsumer:()=>w,date:()=>A,decisionItem:()=>ue,decisionList:()=>le,doc:()=>Me,em:()=>c,embedCard:()=>ve,emoji:()=>S,expand:()=>Se,expand_with_breakout_mark:()=>Te,expand_with_no_mark:()=>Ce,extension:()=>fe,extension_with_marks:()=>he,formatted_text_inline:()=>R,fragment:()=>k,hardBreak:()=>x,heading:()=>te,heading_with_alignment:()=>re,heading_with_indentation:()=>oe,heading_with_no_marks:()=>ne,indentation:()=>y,inline:()=>B,inlineCard:()=>D,inlineExtension:()=>C,inlineExtension_with_marks:()=>T,inline_comment_marker:()=>v,layoutColumn:()=>De,layoutSection:()=>Ze,layoutSection_full:()=>Ie,layoutSection_with_single_column:()=>Le,link:()=>p,link_text_inline:()=>N,listItem:()=>X,media:()=>L,mediaGroup:()=>se,mediaInline:()=>M,mediaSingle:()=>G,mediaSingle_caption:()=>q,mediaSingle_full:()=>K,mention:()=>O,nestedExpand:()=>ge,nestedExpand_content:()=>me,nestedExpand_with_no_marks:()=>ye,non_nestable_block_content:()=>Oe,orderedList:()=>ee,panel:()=>ie,paragraph:()=>z,paragraph_with_alignment:()=>V,paragraph_with_indentation:()=>H,paragraph_with_no_marks:()=>U,placeholder:()=>_,rule:()=>ce,status:()=>Z,strike:()=>u,strong:()=>l,subsup:()=>f,table:()=>be,tableCell:()=>Ee,tableCell_content:()=>ke,tableHeader:()=>xe,tableRow:()=>we,taskItem:()=>de,taskList:()=>pe,text:()=>I,textColor:()=>h,underline:()=>d});var o=n(96234),i=n(56666),a=n(59740);const c={props:{type:{type:"enum",values:["em"]}}},s={props:{type:{type:"enum",values:["code"]}}},u={props:{type:{type:"enum",values:["strike"]}}},l={props:{type:{type:"enum",values:["strong"]}}},d={props:{type:{type:"enum",values:["underline"]}}},p={props:{type:{type:"enum",values:["link"]},attrs:{props:{href:{type:"string",validatorFn:"safeUrl"},title:{type:"string",optional:!0},id:{type:"string",optional:!0},collection:{type:"string",optional:!0},occurrenceKey:{type:"string",optional:!0}}}}},f={props:{type:{type:"enum",values:["subsup"]},attrs:{props:{type:{type:"enum",values:["sub","sup"]}}}}},h={props:{type:{type:"enum",values:["textColor"]},attrs:{props:{color:{type:"string",pattern:"^#[0-9a-fA-F]{6}$"}}}}},v={props:{type:{type:"enum",values:["confluenceInlineComment"]},attrs:{props:{reference:{type:"string"}}}}},m={props:{type:{type:"enum",values:["breakout"]},attrs:{props:{mode:{type:"enum",values:["wide","full-width"]}}}}},g={props:{type:{type:"enum",values:["alignment"]},attrs:{props:{align:{type:"enum",values:["center","end"]}}}}},y={props:{type:{type:"enum",values:["indentation"]},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}},b={props:{type:{type:"enum",values:["annotation"]},attrs:{props:{id:{type:"string"},annotationType:{type:"enum",values:["inlineComment"]}}}}},w={props:{type:{type:"enum",values:["dataConsumer"]},attrs:{props:{sources:{type:"array",items:[{type:"string"}],minItems:1}}}}},k={props:{type:{type:"enum",values:["fragment"]},attrs:{props:{localId:{type:"string",minLength:1},name:{type:"string",optional:!0}}}}},E={props:{type:{type:"enum",values:["border"]},attrs:{props:{size:{type:"number",minimum:1,maximum:3},color:{type:"string",pattern:"^#[0-9a-fA-F]{8}$|^#[0-9a-fA-F]{6}$"}}}}},x={props:{type:{type:"enum",values:["hardBreak"]},attrs:{props:{text:{type:"enum",values:["\n"],optional:!0}},optional:!0}}},O={props:{type:{type:"enum",values:["mention"]},attrs:{props:{id:{type:"string"},text:{type:"string",optional:!0},userType:{type:"enum",values:["DEFAULT","SPECIAL","APP"],optional:!0},accessLevel:{type:"string",optional:!0}}}}},S={props:{type:{type:"enum",values:["emoji"]},attrs:{props:{id:{type:"string",optional:!0},shortName:{type:"string"},text:{type:"string",optional:!0}}}}},C={props:{type:{type:"enum",values:["inlineExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0}}},T=["inlineExtension",{props:{marks:{type:"array",items:[["dataConsumer","fragment"]],optional:!0}}}],A={props:{type:{type:"enum",values:["date"]},attrs:{props:{timestamp:{type:"string",minLength:1}}}}},_={props:{type:{type:"enum",values:["placeholder"]},attrs:{props:{text:{type:"string"}}}}},P={props:{type:{type:"enum",values:["blockCard"]},attrs:[{props:{url:{type:"string",validatorFn:"safeUrl"}}},{props:{data:{type:"object"}}}]},required:["attrs"]},D={props:{type:{type:"enum",values:["inlineCard"]},attrs:[{props:{url:{type:"string",validatorFn:"safeUrl"}}},{props:{data:{type:"object"}}}]},required:["attrs"]},Z={props:{type:{type:"enum",values:["status"]},attrs:{props:{text:{type:"string",minLength:1},color:{type:"enum",values:["neutral","purple","blue","red","yellow","green"]},localId:{type:"string",optional:!0},style:{type:"string",optional:!0}}}}},I={props:{type:{type:"enum",values:["text"]},text:{type:"string",minLength:1},marks:{type:"array",items:[],optional:!0}}},L={props:{type:{type:"enum",values:["media"]},attrs:[{props:{type:{type:"enum",values:["link","file"]},id:{type:"string",minLength:1},collection:{type:"string"},height:{type:"number",optional:!0},width:{type:"number",optional:!0},occurrenceKey:{type:"string",minLength:1,optional:!0},alt:{type:"string",optional:!0}}},{props:{type:{type:"enum",values:["external"]},url:{type:"string"},alt:{type:"string",optional:!0},width:{type:"number",optional:!0},height:{type:"number",optional:!0}}}],marks:{type:"array",items:[["link","border"]],optional:!0}},required:["attrs"]},M={props:{type:{type:"enum",values:["mediaInline"]},attrs:{props:{data:{type:"object",optional:!0},type:{type:"enum",values:["link","file"],optional:!0},id:{type:"string",minLength:1},collection:{type:"string"},height:{type:"number",optional:!0},width:{type:"number",optional:!0},occurrenceKey:{type:"string",minLength:1,optional:!0},alt:{type:"string",optional:!0}}},marks:{type:"array",items:["link"],optional:!0}}},R=["text",{props:{marks:{type:"array",items:[["em","strike","strong","underline","link","subsup","textColor","annotation"]],optional:!0}}}],N=["text",{props:{marks:{type:"array",items:["link"],optional:!0}}}],j=["text",{props:{marks:{type:"array",items:[["code","link","annotation"]],optional:!0}}}],F=["hardBreak","mention","emoji","inlineExtension_with_marks","date","placeholder","inlineCard","status","mediaInline"],B=["hardBreak","mention","emoji","inlineExtension_with_marks","date","placeholder","inlineCard","status","mediaInline","formatted_text_inline","code_inline"],z={props:{type:{type:"enum",values:["paragraph"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0}}},U=["paragraph",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],V=["paragraph",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}],H=["paragraph",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}],W={props:{type:{type:"enum",values:["caption"]},content:{type:"array",items:[["hardBreak","mention","emoji","date","placeholder","inlineCard","status","formatted_text_inline","code_inline"]],minItems:0}}},G={props:{type:{type:"enum",values:["mediaSingle"]},attrs:{props:{width:{type:"number",minimum:0,maximum:100,optional:!0},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"]}},optional:!0},marks:{type:"array",items:["link"],optional:!0}}},q=["mediaSingle",{props:{content:{type:"array",items:["media","caption"],isTupleLike:!0,minItems:1,maxItems:2,allowUnsupportedBlock:!0}}}],K=["mediaSingle",{props:{content:{type:"array",items:["media"],minItems:1,maxItems:1,allowUnsupportedBlock:!0}}}],$={props:{type:{type:"enum",values:["codeBlock"]},content:{type:"array",items:[["text",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{language:{type:"string",optional:!0}},optional:!0}}},J=["codeBlock",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],Y=["codeBlock",{props:{marks:{type:"array",items:["breakout"],optional:!0}}}],X={props:{type:{type:"enum",values:["listItem"]},content:{type:"array",items:[["paragraph_with_no_marks","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks"],["paragraph_with_no_marks","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","bulletList","orderedList"]],isTupleLike:!0,minItems:1}}},Q={props:{type:{type:"enum",values:["bulletList"]},content:{type:"array",items:["listItem"],minItems:1}}},ee={props:{type:{type:"enum",values:["orderedList"]},content:{type:"array",items:["listItem"],minItems:1},attrs:{props:{order:{type:"number",minimum:0,optional:!0}},optional:!0}}},te={props:{type:{type:"enum",values:["heading"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}},ne=["heading",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],re=["heading",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}],oe=["heading",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}],ie={props:{type:{type:"enum",values:["panel"]},attrs:{props:{panelType:{type:"enum",values:["info","note","tip","warning","error","success","custom"]},panelIcon:{type:"string",optional:!0},panelIconId:{type:"string",optional:!0},panelIconText:{type:"string",optional:!0},panelColor:{type:"string",optional:!0}}},content:{type:"array",items:[["blockCard","paragraph_with_no_marks","bulletList","orderedList","heading_with_no_marks"]],minItems:1,allowUnsupportedBlock:!0}}},ae={props:{type:{type:"enum",values:["blockquote"]},content:{type:"array",items:["paragraph_with_no_marks"],minItems:1,allowUnsupportedBlock:!0}}},ce={props:{type:{type:"enum",values:["rule"]}}},se={props:{type:{type:"enum",values:["mediaGroup"]},content:{type:"array",items:["media"],minItems:1,allowUnsupportedBlock:!0}}},ue={props:{type:{type:"enum",values:["decisionItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"string"}}}}},le={props:{type:{type:"enum",values:["decisionList"]},content:{type:"array",items:["decisionItem"],minItems:1,allowUnsupportedBlock:!0},attrs:{props:{localId:{type:"string"}}}}},de={props:{type:{type:"enum",values:["taskItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"enum",values:["TODO","DONE"]}}}}},pe={props:{type:{type:"enum",values:["taskList"]},content:{type:"array",items:["taskItem",["taskItem","taskList"]],isTupleLike:!0,minItems:1,allowUnsupportedBlock:!0},attrs:{props:{localId:{type:"string"}}}}},fe={props:{type:{type:"enum",values:["extension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0}}},he=["extension",{props:{marks:{type:"array",items:[["dataConsumer","fragment"]],optional:!0}}}],ve={props:{type:{type:"enum",values:["embedCard"]},attrs:{props:{originalWidth:{type:"number",optional:!0},originalHeight:{type:"number",optional:!0},url:{type:"string",validatorFn:"safeUrl"},width:{type:"number",minimum:0,maximum:100,optional:!0},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"]}}}}},me={type:"array",items:[["paragraph_with_no_marks","mediaSingle_caption","mediaSingle_full","heading_with_no_marks","mediaGroup"]],minItems:1,allowUnsupportedBlock:!0},ge={props:{type:{type:"enum",values:["nestedExpand"]},attrs:{props:{title:{type:"string",optional:!0}}},content:"nestedExpand_content"},required:["content"]},ye=["nestedExpand",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],be={props:{type:{type:"enum",values:["table"]},attrs:{props:{isNumberColumnEnabled:{type:"boolean",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}},optional:!0},content:{type:"array",items:["tableRow"],minItems:1},marks:{type:"array",items:["fragment"],optional:!0}}},we={props:{type:{type:"enum",values:["tableRow"]},content:{type:"array",items:[["tableCell","tableHeader"]]}}},ke={type:"array",items:[["blockCard","paragraph_with_no_marks","paragraph_with_alignment","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","bulletList","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_marks","embedCard","nestedExpand_with_no_marks"]],minItems:1,allowUnsupportedBlock:!0},Ee={props:{type:{type:"enum",values:["tableCell"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]},xe={props:{type:{type:"enum",values:["tableHeader"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]},Oe=["blockCard","paragraph_with_no_marks","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","bulletList","orderedList","heading_with_no_marks","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_marks","embedCard","table"],Se={props:{type:{type:"enum",values:["expand"]},attrs:{props:{title:{type:"string",optional:!0}}},content:{type:"array",items:["non_nestable_block_content"],minItems:1,allowUnsupportedBlock:!0},marks:{type:"array",items:[],optional:!0}}},Ce=["expand",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}],Te=["expand",{props:{marks:{type:"array",items:["breakout"],optional:!0}}}],Ae={props:{type:{type:"enum",values:["bodiedExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0},content:{type:"array",items:["non_nestable_block_content"],minItems:1,allowUnsupportedBlock:!0}}},_e=["bodiedExtension",{props:{marks:{type:"array",items:[["dataConsumer","fragment"]],optional:!0}}}],Pe=["blockCard","paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","bulletList","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_marks","embedCard","table","expand_with_no_mark","bodiedExtension_with_marks"],De={props:{type:{type:"enum",values:["layoutColumn"]},attrs:{props:{width:{type:"number",minimum:0,maximum:100}}},content:{type:"array",items:["block_content"],minItems:1,allowUnsupportedBlock:!0}}},Ze={props:{type:{type:"enum",values:["layoutSection"]},marks:{type:"array",items:["breakout"],optional:!0},content:{type:"array",items:["layoutColumn"]}}},Ie=["layoutSection",{props:{type:{type:"enum",values:["layoutSection"]},marks:{type:"array",items:["breakout"],optional:!0},content:{type:"array",items:["layoutColumn"],minItems:2,maxItems:3,allowUnsupportedBlock:!0}}}],Le=["layoutSection",{props:{type:{type:"enum",values:["layoutSection"]},marks:{type:"array",items:["breakout"],optional:!0},content:{type:"array",items:["layoutColumn"],minItems:1,maxItems:3,allowUnsupportedBlock:!0}}}],Me={props:{version:{type:"enum",values:[1]},type:{type:"enum",values:["doc"]},content:{type:"array",items:[["blockCard","paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","mediaSingle_caption","mediaSingle_full","codeBlock_with_no_marks","codeBlock_with_marks","bulletList","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_marks","embedCard","table","expand_with_no_mark","expand_with_breakout_mark","bodiedExtension_with_marks","layoutSection_full","layoutSection_with_single_column"]],allowUnsupportedBlock:!0}}};var Re=n(86522),Ne=function(e){return null!=e},je=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)},Fe=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},Be=function(e){return!0===e||!1===e||"[object Boolean]"===toString.call(e)},ze=function(e){return"string"==typeof e||e instanceof String},Ue=function(e){return"object"===(0,Re.Z)(e)&&null!==e&&!Array.isArray(e)},Ve=function(e,t,n){return t[n]=e[n],t},He=function(e){return Array.isArray(e)?e:[e]},We={safeUrl:n(57195).w6},Ge=["items"];function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};if(e.props&&e.props.marks){var n=e.props.marks,r=n.items,o=(0,a.Z)(n,Ge);return Ke(Ke({},e),{},{props:Ke(Ke({},e.props),{},{marks:Ke(Ke({},o),{},{items:r.length?Array.isArray(r[0])?r.map(t):[t(r)]:[[]]})})})}return e}var Je=function(e,t){return Object.keys(e).reduce((function(n,r){return n[t(r,e[r],e)?0:1].push(r),n}),[[],[]])};function Ye(e,t){if(!Ne(e.type))return!!e.optional;if(!Ne(t))return!!e.optional;switch(e.type){case"boolean":return Be(t);case"number":return je(t)&&(!Ne(e.minimum)||e.minimum<=t)&&(!Ne(e.maximum)||e.maximum>=t);case"integer":return Fe(t)&&(!Ne(e.minimum)||e.minimum<=t)&&(!Ne(e.maximum)||e.maximum>=t);case"string":return ze(t)&&(!Ne(e.minLength)||e.minLength<=t.length)&&(!Ne(e.validatorFn)||function(e){return"string"==typeof t&&Ne(We[e])&&We[e](t)}(e.validatorFn))&&(!e.pattern||new RegExp(e.pattern).test(t));case"object":return Ue(t);case"array":var n=e.items,r=n.length-1;return!!Array.isArray(t)&&t.every((function(e,t){return Ye(n[Math.min(t,r)],e)}));case"enum":return ze(t)&&e.values.indexOf(t)>-1}return!1}var Xe=function(e,t){return"".concat(e,": ").concat(t,".")},Qe=function(e){if(e&&e.props&&e.props.content){var t=e.props.content;return{allowUnsupportedBlock:t.allowUnsupportedBlock,allowUnsupportedInline:t.allowUnsupportedInline}}return{}},et=function(e,t,n){var r=Xe(e.type,"invalid content");if(t)return t(Ke({},e),{code:"INVALID_CONTENT",message:r},Qe(n));throw new Error(r)},tt=function(e,t,n,r){var o=r||Xe(t.type,"unsupported mark");if(n)return n(Ke({},t),{code:e,message:o,meta:t},{allowUnsupportedBlock:!1,allowUnsupportedInline:!1,isMark:!0});throw new Error(o)},nt=function(e,t,n,r,o){if(o)return o({type:e.type},{code:t,message:r,meta:n},{allowUnsupportedBlock:!1,allowUnsupportedInline:!1,isMark:!1,isNodeAttribute:!0});throw new Error(r)};function rt(e,t,n){var i=function(e,t){return Object.keys(r).reduce((function(n,o){var i=Ke({},r[o]);return i.props&&(i.props=Ke({},i.props),i.props.content&&(ze(i.props.content)&&(i.props.content=r[i.props.content]),Array.isArray(i.props.content)?i.props.content={type:"array",items:(i.props.content||[]).map((function(e){return e.items}))}:i.props.content=Ke({},i.props.content),i.props.content.items=i.props.content.items.map((function(e){return ze(e)?Array.isArray(r[e])?r[e]:[e]:e})).map((function(n){return n.map((function(e){return Array.isArray(r[e])?r[e]:ze(e)?e:["text",e]})).filter((function(t){if(e){if(Array.isArray(t)){var n,r,o,i=e.indexOf(t[0])>-1;return i&&null!==(n=t[1])&&void 0!==n&&null!==(r=n.props)&&void 0!==r&&null!==(o=r.content)&&void 0!==o&&o.items?t[1].props.content.items.every((function(t){return e.indexOf(t)>-1})):i}return e.indexOf(t)>-1}return!0})).map((function(e){return Array.isArray(e)&&t?[e[0],$e(e[1])]:e}))})))),n[o]=i,n}),{})}(e,t),a=n||{},c=a.mode,s=void 0===c?"strict":c,u=a.allowPrivateAttributes,l=void 0!==u&&u,d=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=e.type,s=Ke({},e),u=function(e,n,o){var i=Xe(c,n);if(t)return{valid:!1,entity:t(s,{code:e,message:i,meta:o},Qe(r))};throw new Error(i)};if(!c)return u("INVALID_TYPE","ProseMirror Node/Mark should contain a `type`");var l=function(e,t){if(!t)return{};for(var n=0,r=t.length;n<r;n++){var i=t[n],a=i,c={};if(Array.isArray(i)){var s=(0,o.Z)(i,2);a=s[0],c=s[1]}if(a===e)return c}return!1}(c,n);if(!1===l)return a?{valid:!1}:u("INVALID_TYPE","type not allowed here");var d=i[c];if(!d)return u("INVALID_TYPE","".concat(c,": No validation spec found for type!"));var p=v(d,l,e,u,s,c,t,a);return p.hasValidated&&p.result?p.result:{valid:!0,entity:s}};return function(e,t,n,r){var o=d(e,t,n,r);return{entity:o.entity,valid:o.valid}};function p(e,n,r,o,i){var a;if(e.props&&e.props.marks){var c=function(e){var t=e.props.marks,n=t.items,r=n.length?Array.isArray(n[0])?n[0]:n:[];return r}(e),u=function(e,n,r,o){return e.marks?e.marks.map((function(e){var i=!t||t.indexOf(e.type)>-1;if("strict"===s&&i){var a=d(e,n,r,o,!0),c=a.entity;return c?{valid:!0,originalMark:e,newMark:c}:a.marksValidationOutput&&a.marksValidationOutput.length?{valid:!1,originalMark:e,errorCode:a.marksValidationOutput[0].errorCode,message:a.marksValidationOutput[0].message}:{valid:!1,originalMark:e,errorCode:"INVALID_TYPE"}}return{valid:!1,originalMark:e,errorCode:"INVALID_CONTENT"}})):[]}(n,r,c,e);a={valid:!0,entity:o,marksValidationOutput:u}}else a=function(e,t,n,r){var o="REDUNDANT_MARKS",i=e.marks||[],a=i.map((function(e){return"unsupportedNodeAttribute"===e.type?e:tt(o,e,n)}));return a.length?(t.marks=a,{valid:!0,entity:t}):r("REDUNDANT_MARKS","redundant marks",{marks:Object.keys(i)})}(n,o,r,i);return a}function f(e,t,n,r,i){var a=e.props&&e.props.attrs;if(t.attrs){if(!a)return r?function(e,t){var n=Xe("redundant attributes found",Object.keys(t).join(", ")),r={valid:!0,originalMark:e,errorCode:"REDUNDANT_ATTRIBUTES",message:n};return{valid:!1,marksValidationOutput:[r]}}(t,t.attrs):h(t,n,[],Object.keys(t.attrs),i);var c=function(e,t,n){var r=function(e,t){var n=[],r={};if(e.props&&e.props.attrs)for(var i=He(e.props.attrs),a=0,c=i.length;a<c;++a){var s=i[a];if(s&&s.props){var u=Je(s.props,(function(e,n){return Ye(n,t.attrs[e])}));n=(0,o.Z)(u,2)[1]}if(r=s,!n.length)break}return{invalidAttrs:n,validatorAttrs:r}}(e,t),i=r.invalidAttrs,a=r.validatorAttrs,c=Object.keys(n).filter((function(e){return!(l&&e.startsWith("__"))})),s=c.filter((function(e){return!a.props[e]})),u=s.length>0,d=i.length||u;return{hasUnsupportedAttrs:d,invalidAttrs:i,redundantAttrs:s}}(e,t,t.attrs),s=c.hasUnsupportedAttrs,u=c.redundantAttrs,d=c.invalidAttrs;if(s)return r?function(e,t,n){var r="INVALID_ATTRIBUTES",o=Xe(e.type,"'attrs' validation failed"),i=n.length,a=i&&t.length;!a&&i&&(r="REDUNDANT_ATTRIBUTES",o=Xe("redundant attributes found",n.join(", ")));var c={valid:!0,originalMark:e,errorCode:r,message:o};return{valid:!1,marksValidationOutput:[c]}}(t,d,u):h(t,n,d,u,i)}return{valid:!0,entity:t}}function h(e,t,n,r,o){var i=n.concat(r),a=Xe(e.type,"'attrs' validation failed");return t.marks=function(e,t,n,r,o,i){var a={};for(var c in n)a[n[c]]=e.attrs&&e.attrs[n[c]],t.attrs&&delete t.attrs[n[c]];var s=nt(e,r,a,o,i),u=Ke({},t);if(u.marks){if(!s)return u.marks;var l=u.marks.find((function(e){return e.type===s.type}));return l?l.attrs=s.attrs:u.marks.push(s),u.marks}return[s]}(e,t,i,"UNSUPPORTED_ATTRIBUTES",a,o),{valid:!0,entity:t}}function v(e,t,n,r,i,a,c,u){var l={hasValidated:!1},h=function(e,t){return Ke(Ke(Ke({},e),t),e.props?{props:Ke(Ke({},e.props),t.props||{})}:{})}(e,t);if(!h)return l;var v=function(e,t,n){var r={valid:!0,entity:t};return e.required&&(e.required.every((function(e){return Ne(t[e])}))||(r=n("MISSING_PROPERTIES","required prop missing"))),r}(h,n,r);if(!v.valid)return{hasValidated:!0,result:v};if(!h.props){var m=Object.keys(n);return m.length>1?{hasValidated:!0,result:r("REDUNDANT_PROPERTIES","redundant props found: ".concat(Object.keys(n).join(", ")),{props:m})}:l}var g=function(e,t,n){var r={valid:!0,entity:t};return e.props.text&&Ne(t.text)&&!Ye(e.props.text,t.text)&&(r=n("INVALID_TEXT","'text' validation failed")),r}(h,n,r);if(!g.valid)return{hasValidated:!0,result:g};var y=function(e,t,n){var r={valid:!0,entity:t};if(e.props.content&&t.content){var o=e.props.content,i=o.minItems,a=o.maxItems,c=t.content.length;Ne(i)&&i>c?r=n("INVALID_CONTENT_LENGTH","'content' should have more than ".concat(i," child"),{length:c,requiredLength:i,type:"minimum"}):Ne(a)&&a<c&&(r=n("INVALID_CONTENT_LENGTH","'content' should have less than ".concat(a," child"),{length:c,requiredLength:a,type:"maximum"}))}return r}(h,n,r);if(!y.valid)return{hasValidated:!0,result:y};var b=Je(h.props,(function(e,t){return t.optional||Ne(n[e])})),w=(0,o.Z)(b,2)[1];if(w.length)return{hasValidated:!0,result:r("MISSING_PROPERTIES","required prop missing",{props:w})};var k=f(h,n,i,u,c);if(!k.valid)return{hasValidated:!0,result:k};if(u&&k.valid)return{hasValidated:!0,result:k};var E=function(e,t,n,r,i){var a={valid:!0,entity:t},c=Je(t,(function(t){return Ne(e.props[t])})),u=(0,o.Z)(c,2),l=u[0],d=u[1];if(d.length)if("loose"===s)r={type:i},l.reduce((function(e,n){return Ve(t,e,n)}),r);else if(!(d.indexOf("marks")>-1||d.indexOf("attrs")>-1)||1!==d.length)return n("REDUNDANT_PROPERTIES","redundant props found: ".concat(d.join(", ")),{props:d});return a}(h,n,r,i,a);if(!E.valid)return{hasValidated:!0,result:E};if(h.props.content){var x=h.props.content;if(n.content){i.content=n.content.map((function(e,t){if(void 0===e)return e;var n=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=!0;if(e&&e.marks&&t){var a=t.filter((function(e){return e.valid})),c=t.map((function(e){return e.valid?e.newMark:a.length||r||o||"INVALID_TYPE"===e.errorCode||"INVALID_CONTENT"===e.errorCode||"REDUNDANT_ATTRIBUTES"===e.errorCode||"INVALID_ATTRIBUTES"===e.errorCode?tt(e.errorCode,e.originalMark,n,e.message):void 0})).filter(Boolean);c.length?e.marks=c:(delete e.marks,i=!1)}return{valid:i,entity:e}};if(!!x.isTupleLike){var r=d(e,c,He(x.items[t]||x.items[x.items.length-1]),h);return n(r.entity,r.marksValidationOutput,c,!1,!0).entity}var o=x.items.filter((function(t){return!Array.isArray(t)||t.some((function(t){return(Array.isArray(t)?t[0]:t)===e.type}))}));if(o.length){if(o.length>1)throw new Error("Consider using Tuple instead!");var i,a,s=He(o[0]).filter((function(t){return(Array.isArray(t)?t[0]:t)===e.type}));if(0===s.length)return et(e,c,h);for(var u=0,l=s.length;u<l;u++)try{var p=[s[u]],f=d(e,c,p,h),v=f.valid,m=f.entity,g=f.marksValidationOutput;if(v){var y=u===s.length-1,b=n(m,g,c,y),w=b.valid,k=b.entity,E=k&&k.marks&&k.marks.filter((function(e){return"unsupportedMark"===e.type}))||[];if(w&&!E.length)return k;a=a||m}else a=a||m}catch(e){i=i||e}if(c)return a;throw i}return et(e,c,h)})).filter(Boolean)}else if(!x.optional)return{hasValidated:!0,result:r("MISSING_PROPERTIES","missing `content` prop")}}return n.marks?{hasValidated:!0,result:p(h,n,c,i,r)}:l}}},23818:(e,t,n)=>{"use strict";n.d(t,{Ru:()=>a,WJ:()=>c,_d:()=>r,s_:()=>o,uc:()=>i});var r="ui",o="track",i="screen",a="operational",c="unknown"},46117:(e,t,n)=>{"use strict";n.d(t,{XD:()=>l});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058),s=n(56666),u=n(2784),l=function(e){return e.atlaskit="atlaskit",e.elements="fabric-elements",e.navigation="navigation",e.editor="editor",e.media="media",e.peopleTeams="peopleTeams",e.notifications="notifications",e.recentWork="recentWork",e.atlas="atlas",e.crossFlow="crossFlow",e.linkingPlatform="linkingPlatform",e}({}),d=n(80753),p=n(68079),f=n(13980),h=n.n(f),v=n(46674);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var g={getAtlaskitAnalyticsEventHandlers:h().func,getAtlaskitAnalyticsContext:h().func},y=function(){return[]},b=function(e){(0,i.Z)(n,e);var t=m(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,s.Z)((0,d.Z)(o),"getChildContext",(function(){return{getAtlaskitAnalyticsEventHandlers:o.getAnalyticsEventHandlers,getAtlaskitAnalyticsContext:o.getAtlaskitAnalyticsContext}})),(0,s.Z)((0,d.Z)(o),"getAnalyticsEventHandlers",(function(){var e=o.props,t=e.channel,n=e.onEvent,r=o.context.getAtlaskitAnalyticsEventHandlers,i=void 0===r?y:r;return[function(e,r){"*"!==t&&t!==r||n(e,r)}].concat((0,p.Z)(i()))})),(0,s.Z)((0,d.Z)(o),"getAtlaskitAnalyticsContext",(function(){var e=o.context.getAtlaskitAnalyticsContext;return(void 0===e?y:e)()})),o.contextValue={getAtlaskitAnalyticsContext:o.getAtlaskitAnalyticsContext,getAtlaskitAnalyticsEventHandlers:o.getAnalyticsEventHandlers},o}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props.children;return u.createElement(v.Z.Provider,{value:this.contextValue},e)}}]),n}(u.Component);(0,s.Z)(b,"contextTypes",g),(0,s.Z)(b,"childContextTypes",g);const w=b;var k=function(e){var t=(0,u.useRef)(e);return(0,u.useEffect)((function(){t.current=e}),[e]),t};const E=function(e){var t=e.children,n=e.channel,r=e.onEvent,o=(0,u.useContext)(v.Z),i=k(r),a=k(n),c=(0,u.useCallback)((function(){return[].concat((0,p.Z)(o.getAtlaskitAnalyticsEventHandlers()),[function(e,t){"*"!==a.current&&a.current!==t||i.current(e,t)}])}),[o,a,i]),s=(0,u.useMemo)((function(){return{getAtlaskitAnalyticsEventHandlers:c,getAtlaskitAnalyticsContext:o.getAtlaskitAnalyticsContext}}),[o,c]);return u.createElement(v.Z.Provider,{value:s},t)};var x,O=n(34406);const S=null!=O&&null!==(x=O.env)&&void 0!==x&&x.ANALYTICS_NEXT_MODERN_CONTEXT?E:w;var C=n(59740),T=["eventType"],A=function(e,t){return function(n){if(t){n.eventType;var r=(0,C.Z)(n,T),o=function(n){if("function"==typeof t.then)t.then(n).catch((function(t){return e.warn("There was an error sending the event",t)}));else try{n(t)}catch(t){e.warn("There was an error sending the event",t)}};switch(n.eventType){case"ui":e.debug("Sending UI Event via analytics client",r),o((function(e){return e.sendUIEvent(r)}));break;case"operational":e.debug("Sending Operational Event via analytics client",r),o((function(e){return e.sendOperationalEvent(r)}));break;case"track":e.debug("Sending Track Event via analytics client",r),o((function(e){return e.sendTrackEvent(r)}));break;case"screen":e.debug("Sending Screen Event via analytics client",r),o((function(e){return e.sendScreenEvent(r)}));break;default:e.error("cannot map eventType ".concat(n.eventType," to an analytics-web-client function"))}}else e.warn("AnalyticsWebClient instance is not provided")}},_=n(86522),P=n(23818),D=n(19840),Z=n(98537),I=n.n(Z);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var M="editor",R=function(e){(0,i.Z)(n,e);var t=L(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,d.Z)(e),"handleEventWrapper",(function(t){H(t,[M,"fabricEditor"],e.props.logger,e.props.client)})),e}return(0,o.Z)(n,[{key:"render",value:function(){return u.createElement(S,{onEvent:this.handleEventWrapper,channel:l.editor},this.props.children)}}]),n}(u.Component);function N(e){var t=function(e,t){if("object"!==(0,_.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==(0,_.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,_.Z)(t)?t:String(t)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=function(e){return t=["source","objectType","objectId","containerType","containerId",e],function(e){return e.map((function(e){return t.reduce((function(t,n){return e[n]?I()(t,(0,s.Z)({},n,e[n])):t}),{})})).reduce((function(e,t){return I()(e,t)}),{})};var t},z=function(e,t){if(0===t.context.length)return F({source:P.WJ},t.payload);var n=function(e){switch(e){case G:return D.gH;case M:return D.gE;default:return""}}(e)||"attributes",r=B(n)(t.context),o=r[n],i=(0,C.Z)(r,[n].map(N));return o&&(t.payload.attributes=I()(o,t.payload.attributes||{})),F(F({source:P.WJ},i),t.payload)},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=new Set([].concat((0,p.Z)(t),(0,p.Z)(e)));return Array.from(n)};var V=function(e,t){var n=function(e){if("string"==typeof e)return e;if(!e.length)throw new Error("Empty tags string array. Unable to match analytics event payload with context");return e[0]}(t),r="string"==typeof t?[t]:t;return F(F({},z(n,e)),{},{tags:U(r,e.payload.tags)})},H=function(e,t,n,r){if(e.payload){var o=V(e,t);A(n,r)(o)}};function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var G="fabricElements",q=function(e){(0,i.Z)(n,e);var t=W(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,d.Z)(e),"handleEventWrapper",(function(t){H(t,G,e.props.logger,e.props.client)})),e}return(0,o.Z)(n,[{key:"render",value:function(){return u.createElement(S,{onEvent:this.handleEventWrapper,channel:l.elements},this.props.children)}}]),n}(u.Component),K=n(7896),$=n(56974),J=n.n($),Y=function(e,t){return t.context.map((function(t){return t[e]})).filter(Boolean)},X=function(e){var t=Y("actionSubjectOverride",e),n=e.context.length>0?e.context[e.context.length-1]:{},r=e.payload.actionSubject||n.component;return t.length>0?t[0]:r},Q=function(e){return Y("source",e)},ee=function(e){return Y("component",e)},te=function(e){return Y("attributes",e).reduce((function(e,t){return I()(e,t)}),{})},ne=function(e){return e.context.map((function(e){return{packageName:e.packageName,packageVersion:e.packageVersion}})).filter((function(e){return e.packageName}))};function re(e){return(ne(e)||[]).map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})).join(",")||void 0}const oe={i:"8.7.2"};function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ce=function(e,t){var n=Q(e),r=J()(n)||P.WJ,o=te(e),i=ee(e),a=J()(ne(e))||{},c=a.packageName,s=a.packageVersion,u=e.payload,l=u.eventType,d=void 0===l?P._d:l,p=u.action,f=u.actionSubjectId,h=u.attributes,v=u.containerId,m=ae(ae({listenerVersion:oe.i,sourceHierarchy:n.join(".")||void 0,componentHierarchy:i.join(".")||void 0,packageHierarchy:re(e)||void 0},{packageName:c,packageVersion:s}),I()(o,h)),g=new Set(e.payload.tags||[]);if(g.add("atlaskit"),e.payload){if(d===P._d)return{eventType:d,source:r,actionSubject:X(e),action:p,actionSubjectId:f,attributes:m,containerId:v,tags:Array.from(g)};d===P.s_||d===P.Ru||d===P.uc?t.error("Track, screen and operational events are currently not supported for atlaskit events"):t.error("Invalid event type",d)}return null};function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var ue=function(e){(0,i.Z)(n,e);var t=se(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,s.Z)((0,d.Z)(e),"listenerHandler",(function(t){var n=e.props,r=n.client,o=n.logger,i=n.channel,a=n.processEvent;if(t.payload){o.debug("Received ".concat(i," event"),t);var c=a(t,o);o.debug("Processed ".concat(i," event"),c),c&&A(o,r)(c)}})),e}return(0,o.Z)(n,[{key:"render",value:function(){return u.createElement(S,{onEvent:this.listenerHandler,channel:this.props.channel},this.props.children)}}]),n}(u.Component);var le={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4},de=function(){function e(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).logLevel;(0,r.Z)(this,e),(0,s.Z)(this,"logLevel",le.OFF),"number"==typeof t&&this.setLogLevel(t)}return(0,o.Z)(e,[{key:"setLogLevel",value:function(e){e>=le.DEBUG&&e<=le.OFF?this.logLevel=+e:this.logLevel=le.OFF}},{key:"logMessage",value:function(e,t){if(e>=this.logLevel){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];(n=console)[t].apply(n,o)}}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[le.DEBUG,"log"].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[le.INFO,"info"].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[le.WARN,"warn"].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.logMessage.apply(this,[le.ERROR,"error"].concat(t))}}]),e}(),pe=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;return t.context.reduce((function(t,o){return e.forEach((function(e){var i=o[r],a=i?i[e]:null,c=n?a:a||o[e];c&&t.push(c)})),t}),[])},fe=function(e,t){return pe(["source"],e,!1,t)},he=function(e,t){return pe(["component","componentName"],e,!1,t)},ve=function(e,t){return pe(["attributes"],e,!0,t).reduce((function(e,t){return I()(e,t)}),{})},me=function(e,t){return e.context.map((function(e){var n=e[t],r=n||e;return{packageName:r.packageName,packageVersion:r.packageVersion}})).filter((function(e){return e.packageName}))};function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const be=function(e,t){var n=fe(e,D.i4),r=J()(n)||P.WJ,o=ve(e,D.i4),i=he(e,D.i4),a=me(e,D.i4),c=J()(me(e,D.i4))||{},s=c.packageName,u=c.packageVersion,l=a.map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})),d=e.payload,p=d.eventType,f=void 0===p?P._d:p,h=d.action,v=d.actionSubject,m=d.actionSubjectId,g=d.attributes,y=d.name,b=ye(ye({listenerVersion:oe.i,sourceHierarchy:n.join(".")||void 0,componentHierarchy:i.join(".")||void 0,packageHierarchy:l.join(",")||void 0},{packageName:s,packageVersion:u}),I()(o,g)),w=new Set(e.payload.tags||[]);if(w.add("navigation"),e.payload)switch(f){case P._d:case P.Ru:return{eventType:f,source:r,actionSubject:v,action:h,actionSubjectId:m,attributes:b,tags:Array.from(w)};case P.uc:return{eventType:f,name:y,attributes:b,tags:Array.from(w)};case P.s_:t.error("Track events are currently not supported for navigation events");break;default:t.error("Invalid event type",f)}return null};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ee(e){var t=Q(e),n=J()(ne(e))||{},r=n.packageName,o=n.packageVersion,i=te(e),a=function(e){return Y(D.Rs,e)}(e)||[],c=I().apply(void 0,[{}].concat((0,p.Z)(a))),s=new Set(e.payload.tags||[]);s.add("media");var u=ee(e),l=function(){try{return window&&window.sessionStorage&&window.sessionStorage.getItem("media-api-region")}catch(e){return}}();return{source:J()(t)||P.WJ,actionSubject:e.payload.actionSubject,action:e.payload.action,eventType:e.payload.eventType,actionSubjectId:e.payload.actionSubjectId,name:e.payload.name,tags:Array.from(s),attributes:ke(ke({packageName:r,packageVersion:o},I()({},i,c,e.payload.attributes)),{},{componentHierarchy:u.join(".")||void 0,packageHierarchy:re(e),sourceHierarchy:t.join(".")||void 0,listenerVersion:oe.i},l?{mediaRegion:l}:void 0)}}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Se=function(e,t){var n=fe(e,D.ap),r=J()(n)||P.WJ,o=ve(e,D.ap),i=he(e,D.ap),a=me(e,D.ap),c=J()(me(e,D.ap))||{},s=c.packageName,u=c.packageVersion,l=a.map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})),d=e.payload,p=d.eventType,f=void 0===p?P._d:p,h=d.action,v=d.actionSubject,m=d.actionSubjectId,g=d.attributes,y=d.name,b=Oe(Oe({listenerVersion:oe.i,sourceHierarchy:n.join(".")||void 0,componentHierarchy:i.join(".")||void 0,packageHierarchy:l.join(",")||void 0},{packageName:s,packageVersion:u}),I()(o,g)),w=new Set(e.payload.tags||[]);if(w.add("peopleTeams"),e.payload)switch(f){case P._d:case P.Ru:case P.s_:return{eventType:f,source:r,actionSubject:v,action:h,actionSubjectId:m,attributes:b,tags:Array.from(w)};case P.uc:return{eventType:f,name:y,attributes:b,tags:Array.from(w)};default:t.error("Invalid event type",f)}return null};function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ae=function(e,t){var n=fe(e,D.O0),r=J()(n)||P.WJ,o=ve(e,D.O0),i=he(e,D.O0),a=me(e,D.O0),c=J()(me(e,D.O0))||{},s=c.packageName,u=c.packageVersion,d=a.map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})),p=e.payload,f=p.eventType,h=void 0===f?P._d:f,v=p.action,m=p.actionSubject,g=p.actionSubjectId,y=p.attributes,b=p.name,w=Te(Te({listenerVersion:oe.i,sourceHierarchy:n.join(".")||void 0,componentHierarchy:i.join(".")||void 0,packageHierarchy:d.join(",")||void 0},{packageName:s,packageVersion:u}),I()(o,y)),k=new Set(e.payload.tags||[]);if(k.add(l.notifications),e.payload)switch(h){case P._d:case P.Ru:case P.s_:return{eventType:h,source:r,actionSubject:m,action:v,actionSubjectId:g,attributes:w,tags:Array.from(k)};case P.uc:return{eventType:h,name:b,attributes:w,tags:Array.from(k)};default:t.error("Invalid event type",h)}return null};function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const De=function(e,t){var n=fe(e,D._5),r=J()(n)||P.WJ,o=ve(e,D._5),i=he(e,D._5),a=me(e,D._5),c=J()(me(e,D._5))||{},s=c.packageName,u=c.packageVersion,d=a.map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})),p=e.payload,f=p.eventType,h=void 0===f?P._d:f,v=p.action,m=p.actionSubject,g=p.actionSubjectId,y=p.attributes,b=p.name,w=Pe(Pe({listenerVersion:oe.i,sourceHierarchy:n.join(".")||void 0,componentHierarchy:i.join(".")||void 0,packageHierarchy:d.join(",")||void 0},{packageName:s,packageVersion:u}),I()(o,y)),k=new Set(e.payload.tags||[]);if(k.add(l.recentWork),e.payload)switch(h){case P._d:case P.Ru:case P.s_:return{eventType:h,source:r,actionSubject:m,action:v,actionSubjectId:g,attributes:w,tags:Array.from(k)};case P.uc:return{eventType:h,name:b,attributes:w,tags:Array.from(k)};default:t.error("Invalid event type",h)}return null};function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Le=function(e,t){var n=fe(e,D.xv),r=J()(n)||P.WJ,o=ve(e,D.xv),i=he(e,D.xv),a=me(e,D.xv),c=J()(me(e,D.xv))||{},s=c.packageName,u=c.packageVersion,l=a.map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})),d=e.payload,p=d.eventType,f=void 0===p?P._d:p,h=d.action,v=d.actionSubject,m=d.actionSubjectId,g=d.attributes,y=d.name,b=Ie(Ie({listenerVersion:oe.i,sourceHierarchy:n.join(".")||void 0,componentHierarchy:i.join(".")||void 0,packageHierarchy:l.join(",")||void 0},{packageName:s,packageVersion:u}),I()(o,g)),w=new Set(e.payload.tags||[]);if(w.add("atlas"),e.payload)switch(f){case P._d:case P.Ru:case P.s_:return{eventType:f,source:r,actionSubject:v,action:h,actionSubjectId:m,attributes:b,tags:Array.from(w)};case P.uc:return{eventType:f,name:y,attributes:b,tags:Array.from(w)};default:t.error("Invalid event type",f)}return null};function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Ne=function(e,t){var n,r=e.payload,o=r.eventType,i=void 0===o?P._d:o,a=r.action,c=r.actionSubject,s=r.actionSubjectId,u=r.name,l=Q(e),d=J()(l),p=null!==(n=e.payload.source)&&void 0!==n?n:d;d!==p&&l.push(p);var f=Re(Re(Re(Re({},te(e)),ve(e,D.i4)),e.payload.attributes),{},{namespaces:l.join(".")}),h=new Set(e.payload.tags||[]);if(h.add("crossFlow"),e.payload)switch(i){case P._d:case P.Ru:case P.s_:return{eventType:i,source:p,actionSubject:c,action:a,actionSubjectId:s,attributes:f,tags:Array.from(h)};case P.uc:return{eventType:i,name:u,attributes:f,tags:Array.from(h)};default:t.error("Invalid event type",i)}return null};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Be=function(e){var t=fe(e,D.aU),n=me(e,D.aU),r=he(e,D.aU),o=ve(e,D.aU),i=J()(n)||{},a=i.packageName,c=i.packageVersion,s=n.map((function(e){return e.packageVersion?"".concat(e.packageName,"@").concat(e.packageVersion):e.packageName})),u=new Set(e.payload.tags||[]);return u.add(l.linkingPlatform),{name:e.payload.name,action:e.payload.action,actionSubject:e.payload.actionSubject,actionSubjectId:e.payload.actionSubjectId,eventType:e.payload.eventType,attributes:Fe({packageName:a,packageVersion:c,listenerVersion:oe.i,sourceHierarchy:t.join(".")||void 0,componentHierarchy:r.join(".")||void 0,packageHierarchy:s.join(",")||void 0},I()(o,e.payload.attributes)),tags:Array.from(u),source:J()(t)||P.WJ,nonPrivacySafeAttributes:e.payload.nonPrivacySafeAttributes}};var ze;function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var Ve=(ze={},(0,s.Z)(ze,l.elements,q),(0,s.Z)(ze,l.editor,R),(0,s.Z)(ze,l.atlaskit,(function(e){return u.createElement(ue,(0,K.Z)({},e,{channel:l.atlaskit,processEvent:ce}))})),(0,s.Z)(ze,l.navigation,(function(e){return u.createElement(ue,(0,K.Z)({},e,{channel:l.navigation,processEvent:be}))})),(0,s.Z)(ze,l.media,(function(e){return u.createElement(ue,(0,K.Z)({},e,{channel:l.media,processEvent:Ee}))})),(0,s.Z)(ze,l.peopleTeams,(function(e){return u.createElement(ue,(0,K.Z)({},e,{channel:l.peopleTeams,processEvent:Se}))})),(0,s.Z)(ze,l.notifications,(function(e){return u.createElement(ue,(0,K.Z)({},e,{channel:l.notifications,processEvent:Ae}))})),(0,s.Z)(ze,l.recentWork,(function(e){return u.createElement(ue,(0,K.Z)({},e,{channel:l.recentWork,processEvent:De}))})),(0,s.Z)(ze,l.atlas,(function(e){return u.createElement(ue,(0,K.Z)({},e,{channel:l.atlas,processEvent:Le}))})),(0,s.Z)(ze,l.crossFlow,(function(e){return u.createElement(ue,(0,K.Z)({},e,{channel:l.crossFlow,processEvent:Ne}))})),(0,s.Z)(ze,l.linkingPlatform,(function(e){return u.createElement(ue,(0,K.Z)({},e,{channel:l.linkingPlatform,processEvent:Be}))})),ze);u.Component},47992:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});var r="mediaCtx"},19840:(e,t,n)=>{"use strict";n.d(t,{xv:()=>M,Dj:()=>_,gE:()=>A,gH:()=>S,oF:()=>P,Wc:()=>C,aU:()=>R,Rs:()=>D.R,i4:()=>T,O0:()=>I,ap:()=>Z,_5:()=>L});var r=n(56666),o=n(2784),i=n(68079),a=n(9249),c=n(87371),s=n(80753),u=n(45754),l=n(11987),d=n(95058),p=n(13980),f=n.n(p),h=n(46674);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var m={getAtlaskitAnalyticsContext:f().func,getAtlaskitAnalyticsEventHandlers:f().func},g=function(){return[]},y=function(e){(0,u.Z)(n,e);var t=v(n);function n(e){var o;return(0,a.Z)(this,n),o=t.call(this,e),(0,r.Z)((0,s.Z)(o),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:o.getAnalyticsContext}})),(0,r.Z)((0,s.Z)(o),"getAnalyticsContext",(function(){var e=o.props.data,t=o.context.getAtlaskitAnalyticsContext,n=void 0===t?g:t;return[].concat((0,i.Z)(n()),[e])})),(0,r.Z)((0,s.Z)(o),"getAnalyticsEventHandlers",(function(){var e=o.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?g:e)()})),o.contextValue={getAtlaskitAnalyticsContext:o.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:o.getAnalyticsEventHandlers},o}return(0,c.Z)(n,[{key:"render",value:function(){var e=this.props.children;return o.createElement(h.Z.Provider,{value:this.contextValue},e)}}]),n}(o.Component);(0,r.Z)(y,"contextTypes",m),(0,r.Z)(y,"childContextTypes",m);const b=y;const w=function(e){var t=e.data,n=e.children,r=function(e){var t=(0,o.useRef)(e);return(0,o.useEffect)((function(){t.current=e}),[e]),t}(t),a=(0,o.useContext)(h.Z),c=(0,o.useCallback)((function(){return[].concat((0,i.Z)(a.getAtlaskitAnalyticsContext()),[r.current])}),[a,r]),s=(0,o.useMemo)((function(){return{getAtlaskitAnalyticsContext:c,getAtlaskitAnalyticsEventHandlers:a.getAtlaskitAnalyticsEventHandlers}}),[a,c]);return o.createElement(h.Z.Provider,{value:s},n)};var k,E=n(34406);const x=null!=E&&null!==(k=E.env)&&void 0!==k&&k.ANALYTICS_NEXT_MODERN_CONTEXT?w:b;const O=function(e){var t=function(t){var n=(0,r.Z)({},e,t.data);return o.createElement(x,{data:n},o.Children.only(t.children))};return t.displayName=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"NamespacedContext",t};var S="fabricElementsCtx",C=O(S,"FabricElementsAnalyticsContext"),T="navigationCtx",A=(O(T,"NavigationAnalyticsContext"),"fabricEditorCtx"),_=function(e){return e.FIXED_WIDTH="fixedWidth",e.FULL_WIDTH="fullWidth",e.COMMENT="comment",e.CHROMELESS="chromeless",e.MOBILE="mobile",e}({}),P=O(A,"FabricEditorAnalyticsContext"),D=n(47992),Z="peopleTeamsCtx",I=(O(Z,"PeopleTeamsAnalyticsContext"),"NotificationsCtx"),L=(O(I,"NotificationsAnalyticsContext"),"RecentWorkCtx"),M=(O(L,"RecentWorkAnalyticsContext"),"atlasCtx"),R=(O(M,"AtlasAnalyticsContext"),"linkingPlatformCtx");O(R,"LinkingPlatformAnalyticsContext")},74167:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ct});var r=n(96234),o=n(7896),i=n(56666),a=n(2784),c=n(28165),s=n(71171),u=n(31118),l=n(68079),d=n(9249),p=n(87371),f=n(80753),h=n(93069),v=n(45754),m=n(11987),g=n(95058),y=n(86522);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(){function e(t){var n=this;(0,d.Z)(this,e),(0,i.Z)(this,"_isAnalyticsEvent",!0),(0,i.Z)(this,"clone",(function(){return new e({payload:w({},n.payload)})})),this.payload=t.payload}return(0,p.Z)(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===(0,y.Z)(e)&&(this.payload=w(w({},this.payload),e)),this}}]),e}();function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,g.Z)(e);if(t){var o=(0,g.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,m.Z)(this,n)}}var x=function(e){(0,v.Z)(n,e);var t=E(n);function n(e){var r;return(0,d.Z)(this,n),r=t.call(this,e),(0,i.Z)((0,f.Z)(r),"_isUIAnalyticsEvent",!0),(0,i.Z)((0,f.Z)(r),"clone",(function(){return r.hasFired?null:new n({context:(0,l.Z)(r.context),handlers:(0,l.Z)(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),(0,i.Z)((0,f.Z)(r),"fire",(function(e){r.hasFired||(r.handlers.forEach((function(t){return t((0,f.Z)(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return(0,p.Z)(n,[{key:"update",value:function(e){return this.hasFired?this:(0,h.Z)((0,g.Z)(n.prototype),"update",this).call(this,e)}}]),n}(k),O=n(46674);function S(){var e=(0,a.useContext)(O.Z);return{createAnalyticsEvent:(0,u.vl)((function(t){return new x({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}var C="__ATLASKIT_THEME__",T="light",A=["light","dark"],_=function(){return 510};function P(e){if(e&&e.theme){if(C in e.theme)return e.theme[C];if("mode"in e.theme&&A.includes(e.theme.mode))return e.theme}return{mode:T}}function D(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=P(e);if(e&&e[n]&&r){var o=r[e[n]];if(o&&o[t.mode]){var i=o[t.mode];if(i)return i}}return""};var n,r,o=e;return function(e){var t=P(e);if(t.mode in o){var n=o[t.mode];if(n)return n}return""}}var Z="#FF5630",I="#FFAB00",L="#36B37E",M="#DEEBFF",R="#4C9AFF",N="#2684FF",j="#0065FF",F="#0052CC",B="#FFFFFF",z="#F4F5F7",U="#EBECF0",V="#DFE1E6",H="#6B778C",W="#42526E",G="#172B4D",q="rgba(9, 30, 66, 0.36)",K="#B8C7E0",$="#8C9CB8",J="#283447",Y=D({light:"var(--ds-surface, ".concat(B,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),X=(D({light:"var(--ds-background-selected, ".concat(M,")"),dark:"var(--ds-background-selected, ".concat("#B3D4FF",")")}),D({light:"var(--ds-background-neutral-hovered, ".concat(U,")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),D({light:"var(--ds-surface-overlay, ".concat(B,")"),dark:"var(--ds-surface-overlay, ".concat(J,")")}),D({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(K,")")}),D({light:"var(--ds-text, ".concat(G,")"),dark:"var(--ds-text, ".concat(K,")")}),D({light:"var(--ds-text-selected, ".concat(F,")"),dark:"var(--ds-text-selected, ".concat(F,")")}),D({light:"var(--ds-text-subtlest, ".concat(H,")"),dark:"var(--ds-text-subtlest, ".concat($,")")}),D({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),D({light:"var(--ds-text, ".concat(G,")"),dark:"var(--ds-text, ".concat(K,")")}),D({light:"var(--ds-text-subtlest, ".concat(H,")"),dark:"var(--ds-text-subtlest, ".concat($,")")}),D({light:z,dark:J}),D({light:"var(--ds-link, ".concat(F,")"),dark:"var(--ds-link, ".concat(R,")")}),D({light:"var(--ds-link-pressed, ".concat(j,")"),dark:"var(--ds-link-pressed, ".concat(N,")")}),D({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(R,")")}),D({light:"var(--ds-border-focused, ".concat(R,")"),dark:"var(--ds-border-focused, ".concat(N,")")}),D({light:"var(--ds-background-brand-bold, ".concat(F,")"),dark:"var(--ds-background-brand-bold, ".concat(R,")")}),D({light:F,dark:R}),D({light:"#00B8D9",dark:"#00C7E6"}),D({light:"#6554C0",dark:"#998DD9"})),Q=(D({light:Z,dark:Z}),D({light:I,dark:I}),D({light:L,dark:L}),n(13775)),ee=n(75104),te={xsmall:16,small:24,medium:32,large:40,xlarge:96,xxlarge:128},ne={xsmall:2,small:2,medium:3,large:3,xlarge:6,xxlarge:12},re={small:12,medium:14,large:15,xlarge:18},oe={small:0,medium:0,large:1,xlarge:7},ie="var(--ds-icon-inverse, ".concat(Y(),")"),ae="var(--ds-icon-subtle, ".concat("#8993A4",")"),ce=(0,c.iv)({display:"block",width:"100%",height:"100%",backgroundColor:ae}),se=(0,c.iv)({display:"flex",width:"100%",height:"100%",flex:"1 1 100%"});const ue=function(e){var t=e.alt,n=void 0===t?"":t,o=e.src,i=e.appearance,s=e.size,u=e.testId,l=(0,a.useState)(!1),d=(0,r.Z)(l,2),p=d[0],f=d[1],h="circle"===i?"50%":"".concat(ne[s],"px");return(0,a.useEffect)((function(){f(!1)}),[o]),!o||p?(0,c.tZ)("span",{css:[ce,{"& svg":{width:"".concat(te[s],"px"),height:"".concat(te[s],"px")}}]},"circle"===i?(0,c.tZ)(Q.Z,{label:n,primaryColor:ie,secondaryColor:ae,testId:u&&"".concat(u,"--person")}):(0,c.tZ)(ee.Z,{label:n,primaryColor:ie,secondaryColor:ae,testId:u&&"".concat(u,"--ship")})):(0,c.tZ)("img",{src:o,alt:n,"data-testid":u&&"".concat(u,"--image"),css:se,style:{borderRadius:h},onError:function(){return f(!0)}})};var le=(0,c.iv)({display:"flex",boxSizing:"border-box",width:"100%",height:"100%",alignItems:"center",alignContent:"center",borderRadius:"50%",overflow:"hidden"});const de=function(e){var t=e.bgColor,n=void 0===t?"var(--ds-surface-overlay, ".concat(Y(),")"):t,r=e.children,o=e.label;return(0,c.tZ)("span",{"aria-label":o||void 0,css:le,role:o?"img":"presentation",style:{border:"".concat(2,"px solid ").concat(n),backgroundColor:n}},r)};var pe=a.createElement(a.Fragment,null,a.createElement("circle",{fill:"var(--ds-icon-danger, ".concat(Z,")"),cx:"4",cy:"4",r:"4"}),a.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(Y(),")"),d:"M3.3,1.9l2.8,2.8c0.2,0.2,0.2,0.5,0,0.7L5.4,6.1c-0.2,0.2-0.5,0.2-0.7,0L1.9,3.3c-0.2-0.2-0.2-0.5,0-0.7l0.7-0.7C2.8,1.7,3.1,1.7,3.3,1.9z"})),fe=a.createElement(a.Fragment,null,a.createElement("path",{fill:"var(--ds-icon-discovery, ".concat(X(),")"),d:"M4,8 C1.790861,8 0,6.209139 0,4 C0,1.790861 1.790861,0 4,0 C6.209139,0 8,1.790861 8,4 C8,6.209139 6.209139,8 4,8 Z M4,6.66666667 C5.47275933,6.66666667 6.66666667,5.47275933 6.66666667,4 C6.66666667,2.52724067 5.47275933,1.33333333 4,1.33333333 C2.52724067,1.33333333 1.33333333,2.52724067 1.33333333,4 C1.33333333,5.47275933 2.52724067,6.66666667 4,6.66666667 Z M4,5.33333333 C3.26362033,5.33333333 2.66666667,4.73637967 2.66666667,4 C2.66666667,3.26362033 3.26362033,2.66666667 4,2.66666667 C4.73637967,2.66666667 5.33333333,3.26362033 5.33333333,4 C5.33333333,4.73637967 4.73637967,5.33333333 4,5.33333333 Z"})),he=a.createElement(a.Fragment,null,a.createElement("path",{fill:"var(--ds-text-subtlest, ".concat(H,")"),d:"M4,8 C6.209139,8 8,6.209139 8,4 C8,1.790861 6.209139,0 4,0 C1.790861,0 0,1.790861 0,4 C0,6.209139 1.790861,8 4,8 Z M4,6 C5.1045695,6 6,5.1045695 6,4 C6,2.8954305 5.1045695,2 4,2 C2.8954305,2 2,2.8954305 2,4 C2,5.1045695 2.8954305,6 4,6 Z"}),a.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(V,")"),d:"M4,6 C5.1045695,6 6,5.1045695 6,4 C6,2.8954305 5.1045695,2 4,2 C2.8954305,2 2,2.8954305 2,4 C2,5.1045695 2.8954305,6 4,6 Z"})),ve=a.createElement("circle",{fill:"var(--ds-icon-success, ".concat(L,")"),cx:"4",cy:"4",r:"4"});var me=function(e){var t=e.borderColor,n=e.children,r=e.presence;return a.createElement(de,{bgColor:t,label:"string"==typeof r?r:void 0},r?a.createElement("svg",{"aria-hidden":"true",height:"100%",version:"1.1",viewBox:"0 0 8 8",width:"100%",xmlns:"http://www.w3.org/2000/svg"},function(e){switch(e){case"busy":return pe;case"focus":return fe;case"offline":return he;case"online":return ve}}(r)):n)};var ge=function(e){var t=e.size,n=e.appearance,r=e.children,o=e.borderColor,i=e.presence,c=e.testId,s="square"===n?-4:oe[t];return a.createElement("span",{"aria-hidden":"true","data-testid":c&&"".concat(c,"--presence"),style:{pointerEvents:"none",position:"absolute",bottom:"".concat(s,"px"),height:"".concat(re[t],"px"),right:"".concat(s,"px"),width:"".concat(re[t],"px")}},a.createElement(me,{borderColor:o,presence:!r&&i},r))},ye=a.createElement(a.Fragment,null,a.createElement("circle",{fill:"var(--ds-icon-success, ".concat("#00875A",")"),cx:"4",cy:"4",r:"4"}),a.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(Y(),")"),d:"M2.47140452,3.52859548 C2.21105499,3.26824595 1.78894501,3.26824595 1.52859548,3.52859548 C1.26824595,3.78894501 1.26824595,4.21105499 1.52859548,4.47140452 L2.86192881,5.80473785 C3.12227834,6.06508738 3.54438833,6.06508738 3.80473785,5.80473785 L6.47140452,3.13807119 C6.73175405,2.87772166 6.73175405,2.45561167 6.47140452,2.19526215 C6.21105499,1.93491262 5.78894501,1.93491262 5.52859548,2.19526215 L3.33333333,4.39052429 L2.47140452,3.52859548 Z"})),be=a.createElement(a.Fragment,null,a.createElement("circle",{fill:"var(--ds-icon-danger, ".concat("#DE350B",")"),cx:"4",cy:"4",r:"4"}),a.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(Y(),")"),d:"M4.890661,4.0088336 L5.81806461,3.07802178 C6.06167933,2.83351177 6.06048933,2.43826992 5.81540668,2.19522442 C5.57032402,1.95217891 5.17415651,1.95336612 4.93054179,2.19787613 L4.00765946,3.12415007 L3.06906871,2.18377143 C2.82523777,1.93947602 2.42906937,1.93863765 2.18420182,2.18189887 C1.93933427,2.42516008 1.93849394,2.82040282 2.18232488,3.06469822 L3.12544091,4.00961077 L2.20275024,4.93569234 C1.95913552,5.18020236 1.96032551,5.5754442 2.20540817,5.81848971 C2.45049083,6.06153521 2.84665833,6.060348 3.09027306,5.81583799 L4.00844245,4.89429431 L4.9092123,5.79678001 C5.15304324,6.04107541 5.54921164,6.04191379 5.79407919,5.79865257 C6.03894674,5.55539135 6.03978708,5.16014862 5.79595614,4.91585321 L4.890661,4.0088336 Z"})),we=a.createElement(a.Fragment,null,a.createElement("circle",{fill:"var(--ds-text-subtlest, ".concat(V,")"),cx:"4",cy:"4",r:"4"}),a.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(W,")"),d:"M4.13074827,1.21766493 L4.10368158,1.21766493 C3.36340745,1.21766493 2.76388015,1.80793503 2.76388015,2.5367787 L2.76388015,3.21632216 L3.44054754,3.21632216 L3.44054754,2.54344089 C3.44054754,2.17901906 3.74031119,1.88388401 4.11044825,1.88388401 L4.1239816,1.88388401 C4.49411866,1.88388401 4.79388232,2.17901906 4.79388232,2.54344089 L4.79388232,3.21632216 L5.47054971,3.21632216 L5.47054971,2.5367787 C5.47054971,1.80793503 4.8710224,1.21766493 4.13074827,1.21766493 M2.76388015,3.21632216 L3.44054754,3.21632216 L3.44054754,3.88254123 L2.76388015,3.88254123 L2.76388015,3.21632216 Z M4.79388232,3.21632216 L5.47054971,3.21632216 L5.47054971,3.88254123 L4.79388232,3.88254123 L4.79388232,3.21632216 Z M4.79401765,3.88254123 L3.44068287,3.88254123 L2.76401548,3.88254123 C2.39049508,3.88254123 2.08734809,4.18100738 2.08734809,4.54876031 L2.08734809,5.54808892 C2.08734809,6.10000287 2.53735205,6.54741753 3.09094491,6.54741753 L5.14375561,6.54741753 C5.69802683,6.54741753 6.14735243,6.10385072 6.14735243,5.54808892 L6.14735243,4.54876031 C6.14735243,4.18100738 5.84420544,3.88254123 5.47068504,3.88254123 L4.79401765,3.88254123 Z"}));var ke=function(e){var t=e.borderColor,n=e.children,r=e.status;return a.createElement(de,{bgColor:t,label:"string"==typeof r?r:void 0},r?a.createElement("svg",{"aria-hidden":"true",height:"100%",version:"1.1",viewBox:"0 0 8 8",width:"100%",xmlns:"http://www.w3.org/2000/svg"},function(e){switch(e){case"approved":return ye;case"declined":return be;case"locked":return we}}(r)):n)};var Ee,xe=function(e){var t=e.size,n=e.status,r=e.appearance,o=e.borderColor,i=e.children,c=e.testId,s="square"===r?0:oe[t];return a.createElement("span",{"aria-hidden":"true","data-testid":c&&"".concat(c,"--status"),style:{position:"absolute",height:"".concat(re[t],"px"),right:"".concat(s,"px"),top:"".concat(s,"px"),width:"".concat(re[t],"px")}},a.createElement(ke,{borderColor:o,status:!i&&n},i))};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce="@atlaskit/avatar",Te="21.2.1",Ae=function(e,t){var n=t.size,r=t.radius,o=t.appearance,i=t.borderColor,a=void 0===i?"var(--ds-surface-overlay, ".concat(B,")"):i,c=t.stackIndex,u=t.isInteractive,l=t.isDisabled;return e(Ee||(Ee=(0,s.Z)(["\n    height: ","px;\n    width: ","px;\n    align-items: stretch;\n    background-color: ",";\n    border-radius: ",";\n    box-sizing: content-box;\n    cursor: inherit;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    outline: none;\n    overflow: hidden;\n    position: static;\n    transform: translateZ(0);\n    transition: transform 200ms, opacity 200ms;\n    box-shadow: 0 0 0 ","px ",";\n    border: none;\n    margin: ",";\n    padding: ",";\n\n    /* Added font-size and font-family styles to fix alignment issue in firefox for interactive button avatar */\n    font-size: inherit;\n    font-family: inherit;\n\n    &::-moz-focus-inner {\n      border: 0;\n      margin: ",";\n      padding: ",";\n    }\n\n    &::after {\n      background-color: transparent;\n      inset: 0px;\n\n      /* Added border-radius style to fix hover issue in safari */\n      border-radius: ",";\n      content: ' ';\n      opacity: 0;\n      pointer-events: none;\n      position: absolute;\n      transition: opacity 200ms;\n      width: 100%;\n    }\n\n    ","\n\n    ","\n\n    ","\n  "])),n,n,a,"circle"===o?"50%":"".concat(r,"px"),2,a,"var(--ds-space-025, 2px)","var(--ds-space-0, 0px)","var(--ds-space-0, 0px)","var(--ds-space-0, 0px)","circle"===o?"50%":"".concat(r,"px"),c&&"position: relative;",u&&"\n      cursor: pointer;\n\n      :focus {\n        outline: none;\n        box-shadow: 0 0 0 ".concat(2,"px ","var(--ds-border-focused, ".concat(j,")"),"\n      }\n\n      :hover {\n        &::after {\n          background-color: ","var(--ds-interaction-hovered, ".concat(q,")"),";\n          opacity: 1;\n        }\n      }\n\n      :active {\n        &::after {\n          background-color: ","var(--ds-interaction-pressed, ".concat(q,")"),";\n          opacity: 1;\n        }\n      }\n\n      :active {\n        transform: scale(").concat(.9,");\n      }\n\n      @media screen and (forced-colors: active) {\n        &:focus-visible {\n          outline: 1px solid\n        }\n      }\n    "),l&&"\n        cursor: not-allowed;\n\n        &::after {\n          opacity: ".concat("var(--ds-opacity-disabled, 0.7)",";\n          pointer-events: none;\n          background-color: ","var(--ds-surface, ".concat(B,")"),";\n        }\n      "))},_e=(0,a.forwardRef)((function(e,t){var n=e.analyticsContext,r=e.appearance,o=void 0===r?"circle":r,i=e.label,s=e.borderColor,u=e.children,l=e.href,d=e.isDisabled,p=e.name,f=e.onClick,h=e.presence,v=e.size,m=void 0===v?"medium":v,g=e.src,y=e.stackIndex,b=e.status,w=e.target,k=e.testId,E=S().createAnalyticsEvent,x=(0,a.isValidElement)(h)?h:null,O=(0,a.isValidElement)(b)?b:null,C="xxlarge"!==m&&"xsmall"!==m,T=(0,a.useRef)(n);(0,a.useEffect)((function(){T.current=n}),[n]);var A=(0,a.useCallback)((function(e){if(!d&&"function"==typeof f){var t=E({action:"clicked",actionSubject:"avatar",attributes:{componentName:"avatar",packageName:Ce,packageVersion:Te}}),n=Se({componentName:"avatar",packageName:Ce,packageVersion:Te},T.current);t.context.push(n);var r=t.clone();r&&r.fire("atlaskit"),f(e,t)}}),[E,d,f]);return(0,c.tZ)("div",{"data-testid":k,style:{display:"inline-block",position:"relative",outline:0,zIndex:y}},(0,c.tZ)(c.ms,null,(function(e){var n=e.css,r=Se(Se(Se(Se({className:Ae(n,{size:te[m],radius:ne[m],appearance:o,borderColor:s,stackIndex:y,isInteractive:Boolean(l||f)&&!d,isDisabled:d})},d?{disabled:!0}:Se(Se({},l&&function(e,t){return{href:e,rel:"_blank"===t?"noopener noreferrer":null,target:t}}(l,w)),f&&!l?function(e){return{type:"button",onClick:e}}(A):{onClick:f})),k&&function(e,t){return t?{testId:"".concat(e,"--inner")}:{"data-testid":"".concat(e,"--inner")}}(k,u)),(f||l)&&{"aria-label":i}),{},{children:(0,c.tZ)(ue,{alt:p,appearance:o,size:m,src:g,testId:k}),ref:t});return u?u(r):(0,a.createElement)(function(e,t,n){return t&&!e?"a":n||e?"button":"span"}(d,l,f),r)})),C&&h&&!b&&(0,c.tZ)(ge,{appearance:o,size:m,presence:!x&&h,testId:k},x),C&&b&&(0,c.tZ)(xe,{appearance:o,size:m,borderColor:s,status:!O&&b,testId:k},O))}));_e.displayName="Avatar";const Pe=_e;var De=n(59740),Ze=n(74455),Ie=["maxWidth","minWidth"];const Le=function(e){var t=e.maxWidth,n=void 0===t?800:t,r=e.minWidth,i=void 0===r?320:r,a=(0,De.Z)(e,Ie);return(0,c.tZ)(Ze.Z,(0,o.Z)({maxWidth:n,minWidth:i},a))};var Me=n(48130),Re=n(32310),Ne=n(86779),je=n(61992),Fe=n(17131),Be=n(9662),ze=["href","onClick"],Ue=["children"];const Ve=function(e){var t=e.avatar,n=e.onAvatarClick,r=e.testId,i=e.index,c=t.href,s=t.onClick,u=(0,De.Z)(t,ze),l=a.createElement(Pe,(0,o.Z)({},u,{testId:r&&"".concat(r,"--avatar"),borderColor:"transparent",size:"small",name:""})),d=s||n;return c?a.createElement(je.Z,{href:c,target:t.target,rel:"_blank"===t.target?"noopener noreferrer":void 0,iconBefore:l,testId:r,onClick:function(e){return d&&d(e,void 0,i)}},t.name):"function"==typeof d?a.createElement(Fe.Z,{onClick:function(e){return d&&d(e,void 0,i)},iconBefore:l,testId:r},t.name):a.createElement(Be.Z,{iconBefore:l,component:function(e){var t=e.children,n=(0,De.Z)(e,Ue);return a.createElement("span",n,t)},testId:r},t.name)};var He=(0,c.iv)({display:"flex",margin:"var(--ds-space-0, 0px)",marginRight:-4,marginLeft:-4,padding:"var(--ds-space-0, 0px)",justifyContent:"flex-start",flexWrap:"wrap",lineHeight:1,listStyleType:"none !important"}),We=(0,c.iv)({margin:"var(--ds-space-0, 0px)",marginBottom:"var(--ds-space-100, 8px)",paddingRight:"var(--ds-space-050, 4px)",paddingLeft:"var(--ds-space-050, 4px)"});const Ge=function(e){var t=e.children,n=e.testId,r=e["aria-label"];return(0,c.tZ)("ul",{"data-testid":n,"aria-label":r,css:He},a.Children.map(t,(function(e){return e&&(0,c.tZ)("li",{css:We},e)})))};var qe=["testId","className","ref"],Ke={xsmall:"10px",small:"10px",medium:"11px",large:"12px",xlarge:"16px",xxlarge:"16px"},$e=(0,c.iv)({"&&":{backgroundColor:"var(--ds-background-selected, ".concat(M,")"),boxShadow:"0 0 0 ".concat(2,"px ","var(--ds-border-selected, ".concat(j,")")),color:"var(--ds-text-selected, ".concat(F,")"),transform:"scale(".concat(.9,")"),"&:hover":{backgroundColor:"var(--ds-background-selected-hovered, ".concat(U,")"),color:"var(--ds-text-selected, ".concat(W,")")},"&:active":{backgroundColor:"var(--ds-background-selected-pressed, ".concat(M,")"),color:"var(--ds-text-selected, ".concat(F,")")}}}),Je=(0,c.iv)({"&&":{backgroundColor:"var(--ds-background-neutral, ".concat(z,")"),color:"var(--ds-text, ".concat(W,")"),fontFamily:"inherit",fontWeight:"var(--ds-font-weight-medium, 500)","&:hover":{backgroundColor:"var(--ds-background-neutral-hovered, ".concat(U,")"),color:"var(--ds-text, ".concat(W,")")},"&:active":{backgroundColor:"var(--ds-background-neutral-pressed, ".concat(M,")"),color:"var(--ds-text, ".concat(F,")")},"&:after":{display:"none"}}}),Ye=(0,a.forwardRef)((function(e,t){var n=e.appearance,r=void 0===n?"circle":n,i=e.borderColor,s=void 0===i?"var(--ds-border-inverse, ".concat(B,")"):i,u=e.size,l=void 0===u?"medium":u,d=e.count,p=void 0===d?0:d,f=e.testId,h=e.onClick,v=e["aria-controls"],m=e["aria-expanded"],g=e["aria-haspopup"],y=e.buttonProps,b=void 0===y?{}:y,w=e.isActive,k=(0,a.useCallback)((function(e,t){b.onClick&&b.onClick(e),h(e,t)}),[b.onClick,h]);return(0,c.tZ)(Pe,{appearance:r,size:l,borderColor:s,ref:t,onClick:k},(function(e){e.testId;var t=e.className,n=e.ref,r=(0,De.Z)(e,qe);return(0,c.tZ)("button",(0,o.Z)({type:"submit"},b,r,{ref:n,"data-testid":f,"aria-controls":v,"aria-expanded":m,"aria-haspopup":g,style:{fontSize:Ke[l]},css:[Je,w&&$e],className:t}),"+",p>99?99:p)}))}));Ye.displayName="MoreIndicator";const Xe=Ye;var Qe=(0,c.iv)({display:"flex",margin:"var(--ds-space-0, 0px)",marginRight:8,padding:"var(--ds-space-0, 0px)",lineHeight:1,listStyleType:"none !important"}),et=(0,c.iv)({margin:"var(--ds-space-0, 0px)",marginRight:-8});const tt=function(e){var t=e.children,n=e.testId,r=e["aria-label"];return(0,c.tZ)("ul",{"data-testid":n,"aria-label":r,css:Qe},a.Children.map(t,(function(e){return e&&(0,c.tZ)("li",{css:et},e)})))};var nt=function(e,t){return e.key?e.key:t};function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it={grid:11,stack:5};function at(e){return{AvatarGroupItem:ot({render:function(e,t,n){return(0,c.tZ)(e,(0,o.Z)({},t,{key:nt(t.avatar,n)}))}},e&&e.AvatarGroupItem),Avatar:ot({render:function(e,t,n){return(0,c.tZ)(e,(0,o.Z)({},t,{key:nt(t,n)}))}},e&&e.Avatar)}}const ct=function(e){var t=e.appearance,n=void 0===t?"stack":t,i=e.avatar,s=void 0===i?Pe:i,u=e.borderColor,l=e.boundariesElement,d=e.data,p=e.isTooltipDisabled,f=e.maxCount,h=e.onAvatarClick,v=e.onMoreClick,m=e.overrides,g=e.showMoreButtonProps,y=void 0===g?{}:g,b=e.size,w=void 0===b?"medium":b,k=e.testId,E=e.label,x=void 0===E?"avatar group":E,O=e.tooltipPosition,S=void 0===O?"bottom":O,C=(0,a.useState)(!1),T=(0,r.Z)(C,2),A=T[0],P=T[1],D=(0,a.useCallback)((function(){return P(!1)}),[]);var Z=void 0===f||0===f?it[n]:f,I=d.length,L=I>Z?Z-1:Z,M="stack"===n?tt:Ge;return(0,c.tZ)(M,{testId:k&&"".concat(k,"--avatar-group"),"aria-label":x},d.slice(0,L).map((function(e,t){var n=e.onClick||h,r=at(m).Avatar.render(s,ot(ot({},e),{},{size:w,borderColor:u,testId:k&&"".concat(k,"--avatar-").concat(t),onClick:n?function(e,r){n(e,r,t)}:void 0,stackIndex:Z-t}),t);return p||e.isDisabled?r:(0,c.tZ)(Ne.Z,{key:nt(e,t),content:e.name,testId:k&&"".concat(k,"--tooltip-").concat(t),position:S},r)})),function(e,t){if(t<=e)return null;var n=function(n){return(0,c.tZ)(Xe,(0,o.Z)({buttonProps:y,borderColor:u,count:t-e,size:w,testId:k&&"".concat(k,"--overflow-menu--trigger"),isActive:A},n))};if("function"==typeof v)return n({onClick:v});var r="scrollParent"===l?"clippingParents":void 0,i=function(){if("scrollParent"!==l)return"window"===l?"document":"viewport"}();return(0,c.tZ)(Re.Z,{isOpen:A,onClose:D,placement:"bottom-end",boundary:r,rootBoundary:i,shouldFlip:!0,zIndex:_(),content:function(){return(0,c.tZ)(Le,{onClick:function(e){return e.stopPropagation()},minWidth:250,maxHeight:300},(0,c.tZ)(Me.Z,null,d.slice(e).map((function(t,n){return at(m).AvatarGroupItem.render(Ve,{avatar:t,onAvatarClick:h,testId:k&&"".concat(k,"--avatar-group-item-").concat(n+e),index:n+e},n+e)}))))},trigger:function(e){return n(ot(ot({},e),{},{onClick:function(){return P(!A)}}))},testId:k&&"".concat(k,"--overflow-menu")})}(+L,I))}},65197:(e,t,n)=>{"use strict";n.d(t,{G:()=>x});var r=n(13756),o=n(47551),i=n(28361),a=n(74686),c=n(66406),s=n(80301),u=n(34795),l=n(82841),d=n.n(l),p=n(28761),f=n(39388);function h(){return(h=(0,u.Z)(d().mark((function e(t){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!=typeof t){e.next=6;break}return e.next=3,fetch(t).then((function(e){return e.blob()}));case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=function(e,t){return(0,f.mergeMap)(function(e){var t=new Array,n=function(){var e=t.findIndex((function(e){return!e.notifyIfReady()}));e>0&&t.splice(0,e)};return function(r){return new p.Observable((function(o){t.push(function(e,t,n){var r={notifyIfReady:function(){return!1}};return e.then((function(e){r.notifyIfReady=function(){return t.next(e),t.complete(),!0},n(r)}),(function(e){r.notifyIfReady=function(){return t.error(e),!0},n(r)})),r}(e(r),o,n))}))}}(e),t)};function m(e){return Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)})).join("")}var g=function(e){return function(e){var t=new FileReader;return new Promise((function(n,r){t.onload=function(){n(this.result)},t.onerror=r,t.readAsArrayBuffer(e)}))}(e).then((function(e){return crypto.subtle.digest("SHA-1",e)})).then(m)},y=n(56666),b=n(36119);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,y.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e,t,n){return(0,a.p)(function(e){return h.apply(this,arguments)}(e)).pipe((0,o.b)((function(e){var a,u,l,d,p=t.chunkSize,f=n.onProgress,h=Math.ceil(e.size/p),m=function(e,t){var n=t.size,r=Math.ceil(e.size/n);return(0,c.w)(0,r).pipe((0,s.map)((function(t){return{partNumber:t+1,blob:e.slice(t*n,(t+1)*n)}})))}(e,{size:p}),y=function(e,t){var n=t.batchSize,r=t.prober;return e.pipe((0,i.bufferCount)(n),(0,o.b)((function(e){return r(e).then((function(t){return e.map((function(e,n){return k(k({},e),{},{exists:t[n]})}))}))})),(0,o.b)((function(e){return(0,b.D)(e)})))}((a=m,u={concurrency:t.hashingConcurrency,hasher:t.hashingFunction},l=u.hasher,d=u.concurrency,v(function(e){return function(t){return e(t.blob).then((function(e){return{blob:t.blob,hash:"".concat(e,"-").concat(t.blob.size),partNumber:t.partNumber}}))}}(l||g),d)(a)),{batchSize:t.probingBatchSize,prober:t.probingFunction}),w=0,E=function(e,t){return e.pipe(v((function(e){return e.exists?Promise.resolve(e):t.uploader(e).then((function(){return e}))}),t.concurrency))}(y,{concurrency:t.uploadingConcurrency,uploader:t.uploadingFunction});return f&&(E=E.pipe((0,r.tap)((function(){f((w+=1)/h)})))),function(e,t){return e.pipe((0,i.bufferCount)(t.batchSize)).pipe((0,o.b)((function(e){return t.processor?t.processor(e).then((function(){return e})):Promise.resolve(e)})))}(E,{batchSize:t.processingBatchSize,processor:t.processingFunction}).pipe((0,o.b)((function(e){return(0,b.D)(e)})),(0,i.bufferCount)(h))})))},x=function(e,t,n){return E(e,t,n)}},31363:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(68079);function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=/[\u202A-\u202E\u2066-\u2069]/g;function c(e,t){var n=(0,r.Z)(e.matchAll(a));if(0===n.length)return e;var i,c=[],s=0,u=o(n);try{for(u.s();!(i=u.n()).done;){var l=i.value;s!==l.index&&c.push(e.substring(s,l.index)),c.push(t({bidiCharacter:l[0],index:l.index})),s=l.index+l[0].length}}catch(e){u.e(e)}finally{u.f()}return s!==e.length&&c.push(e.substring(s,e.length)),c}},46388:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(7896),o=n(59740),i=n(2784),a=n(86779),c=n(28165),s=n(15365),u=(0,c.iv)({position:"relative",":before":{display:"inline-flex",padding:"var(--ds-space-0, 0px)".concat(" ","var(--ds-space-050, 4px)"),alignItems:"center",justifyContent:"center",flexDirection:"row",background:"var(--ds-background-warning, ".concat(s.a8,")"),color:"var(--ds-text-warning, #7F5F01)",content:'"<"attr(data-bidi-character-code)">"',fontSize:"var(--ds-font-size-100, 14px)",fontStyle:"normal",lineHeight:"18px",pointerEvents:"auto"},":hover:before":{background:"var(--ds-background-warning-hovered, ".concat(s.a8,")"),color:"var(--ds-text-warning, #533F04)"}});function l(e){var t=e.bidiCharacter,n=e.children,r=e.testId,o=function(e){var t,n=null===(t=e.codePointAt(0))||void 0===t?void 0:t.toString(16);return"U+".concat(n)}(t);return(0,c.tZ)("span",{"aria-label":o},(0,c.tZ)("span",{css:u,"data-testid":r,"data-bidi-character-code":o,"aria-hidden":"true"},n))}var d=["children"];function p(e){var t=e.testId,n=e.bidiCharacter,r=e.skipChildren,o=e.tooltipEnabled,c=e.label,s=void 0===c?"Bidirectional characters change the order that text is rendered. This could be used to obscure malicious code.":c;return o?i.createElement(a.Z,{content:s,tag:f},i.createElement(l,{testId:t,bidiCharacter:n},r?null:n)):i.createElement(l,{testId:t,bidiCharacter:n},r?null:n)}var f=i.forwardRef((function(e,t){var n=e.children,a=(0,o.Z)(e,d);return i.createElement("span",(0,r.Z)({},a,{ref:t}),n)}))},65057:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});var r=[{name:"PHP",alias:["php","php3","php4","php5"],value:"php"},{name:"Java",alias:["java"],value:"java"},{name:"CSharp",alias:["csharp","c#"],value:"cs"},{name:"Python",alias:["python","py"],value:"python"},{name:"JavaScript",alias:["javascript","js"],value:"javascript"},{name:"Html",alias:["html"],value:"xml"},{name:"C++",alias:["c++","cpp","clike"],value:"cpp"},{name:"Ruby",alias:["ruby","rb","duby"],value:"ruby"},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"],value:"objectivec"},{name:"C",alias:["c"],value:"cpp"},{name:"Swift",alias:["swift"],value:"swift"},{name:"TeX",alias:["tex","latex"],value:"tex"},{name:"Shell",alias:["shell","bash","sh","ksh","zsh"],value:"shell"},{name:"Scala",alias:["scala"],value:"scala"},{name:"Go",alias:["go"],value:"go"},{name:"ActionScript",alias:["actionscript","actionscript3","as"],value:"actionscript"},{name:"ColdFusion",alias:["coldfusion"],value:"xml"},{name:"JavaFX",alias:["javafx","jfx"],value:"java"},{name:"VbNet",alias:["vbnet","vb.net","vfp","clipper","xbase"],value:"vbnet"},{name:"JSON",alias:["json"],value:"json"},{name:"MATLAB",alias:["matlab"],value:"matlab"},{name:"Groovy",alias:["groovy"],value:"groovy"},{name:"SQL",alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"],value:"sql"},{name:"R",alias:["r"],value:"r"},{name:"Perl",alias:["perl","pl"],value:"perl"},{name:"Lua",alias:["lua"],value:"lua"},{name:"Pascal",alias:["pas","pascal","objectpascal","delphi"],value:"pascal"},{name:"XML",alias:["xml"],value:"xml"},{name:"TypeScript",alias:["typescript","ts"],value:"typescript"},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"],value:"coffeescript"},{name:"Haskell",alias:["haskell","hs"],value:"haskell"},{name:"Puppet",alias:["puppet"],value:"puppet"},{name:"Arduino",alias:["arduino"],value:"arduino"},{name:"Fortran",alias:["fortran"],value:"fortran"},{name:"Erlang",alias:["erlang","erl"],value:"erlang"},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"],value:"powershell"},{name:"Haxe",alias:["haxe","hx","hxsl"],value:"haxe"},{name:"Elixir",alias:["elixir","ex","exs"],value:"elixir"},{name:"Verilog",alias:["verilog","v"],value:"verilog"},{name:"Rust",alias:["rust"],value:"rust"},{name:"VHDL",alias:["vhdl"],value:"vhdl"},{name:"Sass",alias:["sass"],value:"less"},{name:"OCaml",alias:["ocaml"],value:"ocaml"},{name:"Dart",alias:["dart"],value:"dart"},{name:"CSS",alias:["css"],value:"css"},{name:"reStructuredText",alias:["restructuredtext","rst","rest"],value:"rest"},{name:"Kotlin",alias:["kotlin"],value:"kotlin"},{name:"D",alias:["d"],value:"d"},{name:"Octave",alias:["octave"],value:"matlab"},{name:"QML",alias:["qbs","qml"],value:"qml"},{name:"Prolog",alias:["prolog"],value:"prolog"},{name:"FoxPro",alias:["foxpro","purebasic"],value:"purebasic"},{name:"Scheme",alias:["scheme","scm"],value:"scheme"},{name:"CUDA",alias:["cuda","cu"],value:"cpp"},{name:"Julia",alias:["julia","jl"],value:"julia"},{name:"Racket",alias:["racket","rkt"],value:"lisp"},{name:"Ada",alias:["ada","ada95","ada2005"],value:"ada"},{name:"Tcl",alias:["tcl"],value:"tcl"},{name:"Mathematica",alias:["mathematica","mma","nb"],value:"mathematica"},{name:"Autoit",alias:["autoit"],value:"autoit"},{name:"StandardML",alias:["standardmL","sml","standardml"],value:"sml"},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"],value:"objectivec"},{name:"Smalltalk",alias:["smalltalk","squeak","st"],value:"smalltalk"},{name:"Vala",alias:["vala","vapi"],value:"vala"},{name:"ABAP",alias:["abap"],value:"sql"},{name:"LiveScript",alias:["livescript","live-script"],value:"livescript"},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"],value:"xquery"},{name:"PlainText",alias:["text","plaintext"],value:"text"},{name:"Yaml",alias:["yaml","yml"],value:"yaml"},{name:"GraphQL",alias:["graphql"],value:"graphql"},{name:"AppleScript",alias:["applescript"],value:"applescript"},{name:"Clojure",alias:["clojure"],value:"clojure"},{name:"Diff",alias:["diff"],value:"diff"},{name:"VisualBasic",alias:["visualbasic"],value:"visual-basic"},{name:"JSX",alias:["jsx"],value:"jsx"},{name:"TSX",alias:["tsx"],value:"tsx"},{name:"SplunkSPL",alias:["splunk-spl"],value:"splunk-spl"}]},81208:(e,t,n)=>{"use strict";n.d(t,{Rm:()=>w,w9:()=>E,HX:()=>k});var r=n(56666),o=n(34741),i="4px",a=(0,o.ww)(),c=2*a,s="--ds--code--line-number-bg-color",u=n(61333),l=n(15365),d=n(59447);var p="#067384",f="#7A5D1A",h=function(e){return{fontFamily:(0,o.Vj)(),fontFamilyItalic:"SFMono-MediumItalic, ".concat((0,o.Vj)()),backgroundColor:(0,d.Z)({light:"var(--ds-background-neutral, ".concat(l.IR,")"),dark:"var(--ds-background-neutral, ".concat(l.H8,")")})({theme:e}),textColor:(0,d.Z)({light:"var(--ds-text, ".concat(l.q2,")"),dark:"var(--ds-text, ".concat(l.vs,")")})({theme:e}),lineNumberColor:(0,d.Z)({light:"var(--ds-text-subtlest, ".concat(l.zN,")"),dark:"var(--ds-text-subtlest, ".concat(l.oe,")")})({theme:e}),lineNumberBgColor:(0,d.Z)({light:"var(--ds-background-neutral, ".concat(l.gt,")"),dark:"var(--ds-background-neutral, ".concat(l.JV,")")})({theme:e})}},v=(h({mode:"light"}),(0,u.Z)((function(e){var t={theme:e};return{highlightedLineBgColor:(0,d.Z)({light:"var(--ds-background-neutral, ".concat(l.gt,")"),dark:"var(--ds-background-neutral, ".concat("#3A434E",")")})(t),highlightedLineBorderColor:(0,d.Z)({light:"var(--ds-border-focused, ".concat(l.VY,")"),dark:"var(--ds-border-focused, ".concat(l.vP,")")})(t),substringColor:(0,d.Z)({light:"var(--ds-text-subtlest, ".concat(l.zN,")"),dark:"var(--ds-text-subtlest, ".concat(l.oe,")")})(t),keywordColor:(0,d.Z)({light:"var(--ds-text-accent-blue, ".concat(l.AX,")"),dark:"var(--ds-text-accent-blue, ".concat(l.tE,")")})(t),attributeColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.R,")")})(t),selectorTagColor:(0,d.Z)({light:"var(--ds-text-accent-blue, ".concat(l.AX,")"),dark:"var(--ds-text-accent-blue, ".concat(l.tE,")")})(t),docTagColor:(0,d.Z)({light:"var(--ds-text-accent-yellow, ".concat(f,")"),dark:"var(--ds-text-accent-yellow, ".concat(l.Z3,")")})(t),nameColor:(0,d.Z)({light:"var(--ds-text-accent-blue, ".concat(l.AX,")"),dark:"var(--ds-text-accent-blue, ".concat(l.tE,")")})(t),builtInColor:(0,d.Z)({light:"var(--ds-text-accent-blue, ".concat(l.AX,")"),dark:"var(--ds-text-accent-blue, ".concat(l.tE,")")})(t),literalColor:(0,d.Z)({light:"var(--ds-text-accent-blue, ".concat(l.AX,")"),dark:"var(--ds-text-accent-blue, ".concat(l.tE,")")})(t),bulletColor:(0,d.Z)({light:"var(--ds-text-accent-blue, ".concat(l.AX,")"),dark:"var(--ds-text-accent-blue, ".concat(l.tE,")")})(t),codeColor:(0,d.Z)({light:"var(--ds-text-accent-blue, ".concat(l.AX,")"),dark:"var(--ds-text-accent-blue, ".concat(l.tE,")")})(t),regexpColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.R,")")})(t),symbolColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.R,")")})(t),variableColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.R,")")})(t),templateVariableColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.R,")")})(t),linkColor:(0,d.Z)({light:"var(--ds-text-accent-purple, ".concat(l.Wn,")"),dark:"var(--ds-text-accent-purple, ".concat(l.kJ,")")})(t),selectorAttributeColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.R,")")})(t),selectorPseudoColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.R,")")})(t),typeColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.N_,")")})(t),stringColor:(0,d.Z)({light:"var(--ds-text-accent-green, ".concat(l.VB,")"),dark:"var(--ds-text-accent-green, ".concat(l.T5,")")})(t),selectorIdColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.N_,")")})(t),selectorClassColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.N_,")")})(t),quoteColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.N_,")")})(t),templateTagColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.N_,")")})(t),titleColor:(0,d.Z)({light:"var(--ds-text-accent-purple, ".concat(l.Wn,")"),dark:"var(--ds-text-accent-purple, ".concat(l.kJ,")")})(t),sectionColor:(0,d.Z)({light:"var(--ds-text-accent-purple, ".concat(l.Wn,")"),dark:"var(--ds-text-accent-purple, ".concat(l.kJ,")")})(t),commentColor:(0,d.Z)({light:"var(--ds-text-subtlest, ".concat(l.zN,")"),dark:"var(--ds-text-subtlest, ".concat(l.oe,")")})(t),metaKeywordColor:(0,d.Z)({light:"var(--ds-text-accent-green, ".concat(l.VB,")"),dark:"var(--ds-text-accent-green, ".concat(l.T5,")")})(t),metaColor:(0,d.Z)({light:"var(--ds-text-subtlest, ".concat(l.zN,")"),dark:"var(--ds-text-subtlest, ".concat(l.oe,")")})(t),functionColor:(0,d.Z)({light:"var(--ds-text, ".concat(l.q2,")"),dark:"var(--ds-text, ".concat(l.vs,")")})(t),numberColor:(0,d.Z)({light:"var(--ds-text-accent-blue, ".concat(l.AX,")"),dark:"var(--ds-text-accent-blue, ".concat(l.tE,")")})(t),prologColor:(0,d.Z)({light:"var(--ds-text-accent-blue, ".concat(l.AX,")"),dark:"var(--ds-text-accent-blue, ".concat(l.tE,")")})(t),cdataColor:(0,d.Z)({light:"var(--ds-text-subtlest, ".concat(l.zN,")"),dark:"var(--ds-text-subtlest, ".concat(l.tE,")")})(t),punctuationColor:(0,d.Z)({light:"var(--ds-text, ".concat(l.q2,")"),dark:"var(--ds-text, ".concat(l.vs,")")})(t),propertyColor:(0,d.Z)({light:"var(--ds-text-accent-purple, ".concat(l.Wn,")"),dark:"var(--ds-text-accent-purple, ".concat(l.kJ,")")})(t),constantColor:(0,d.Z)({light:"var(--ds-text-accent-teal, ".concat(p,")"),dark:"var(--ds-text-accent-teal, ".concat(l.N_,")")})(t),booleanColor:(0,d.Z)({light:"var(--ds-text-accent-blue, ".concat(l.AX,")"),dark:"var(--ds-text-accent-blue, ".concat(l.tE,")")})(t),charColor:(0,d.Z)({light:"var(--ds-text, ".concat(l.q2,")"),dark:"var(--ds-text, ".concat(l.vs,")")})(t),insertedColor:(0,d.Z)({light:"var(--ds-text-accent-green, ".concat(l.VB,")"),dark:"var(--ds-text-accent-green, ".concat(l.tE,")")})(t),deletedColor:(0,d.Z)({light:"var(--ds-text-accent-red, ".concat(l.gR,")"),dark:"var(--ds-text-accent-red, ".concat(l.tE,")")})(t),operatorColor:(0,d.Z)({light:"var(--ds-text, ".concat(l.q2,")"),dark:"var(--ds-text, ".concat(l.tE,")")})(t),atruleColor:(0,d.Z)({light:"var(--ds-text-accent-green, ".concat(l.VB,")"),dark:"var(--ds-text-accent-green, ".concat(l.T5,")")})(t),importantColor:(0,d.Z)({light:"var(--ds-text-accent-yellow, ".concat(f,")"),dark:"var(--ds-text-accent-yellow, ".concat(l.Z3,")")})(t)}})));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){return{minWidth:"calc(".concat(e.lineNumberWidth," + ").concat(c,"px) !important"),fontStyle:"normal !important",color:"".concat(e.lineNumberColor," !important"),flexShrink:0,boxSizing:"border-box",paddingRight:"".concat(a,"px !important"),paddingLeft:a,marginRight:a,textAlign:"right",userSelect:"none",display:"block","&::after":{content:"attr(data-ds--line-number)"}}},b=function(e){return{fontSize:12,fontFamily:e.fontFamily,fontWeight:"normal",backgroundColor:"var(".concat("--ds--code--bg-color",",").concat(e.backgroundColor,")"),color:e.textColor,borderStyle:"none",borderRadius:"".concat((0,o.E0)(),"px")}},w=function(e){return function(t,n,r,o){return g(g(g({'code[class*="language-"], pre[class*="language-"], code':{all:"unset",padding:r?"".concat(a,"px 0"):a},display:"flex",lineHeight:"20px",overflowX:"auto",whiteSpace:"pre",direction:"ltr"},b(e)),function(e){return{".token":{"&:not([class=token],[data-ds--code--row--highlight],[data-ds--code--row])":{all:"unset"},"&.key,&.keyword":{color:e.keywordColor,fontWeight:"bolder"},"&.attr-name":{color:e.attributeColor},"&.selector":{color:e.selectorTagColor},"&.comment,&.block-comment":{color:e.commentColor,fontFamily:e.fontFamilyItalic,fontStyle:"italic"},"&.function-name":{color:e.sectionColor},"&.doctype":{color:e.docTagColor},"&.substr":{color:e.substringColor},"&.namespace":{color:e.nameColor},"&.builtin":{color:e.builtInColor},"&.entity":{color:e.literalColor},"&.bullet":{color:e.bulletColor},"&.code":{color:e.codeColor},"&.regex":{color:e.regexpColor},"&.symbol":{color:e.symbolColor},"&.variable":{color:e.variableColor},"&.url":{color:e.linkColor},"&.selector-attr":{color:e.selectorAttributeColor},"&.selector-pseudo":{color:e.selectorPseudoColor},"&.type":{color:e.typeColor},"&.quote":{color:e.quoteColor},"&.tag":{color:e.templateTagColor},"&.string":{color:e.stringColor},"&.class-name":{color:e.sectionColor},"&.title":{color:e.titleColor},"&.section":{color:e.sectionColor},"&.meta-keyword":{color:e.metaKeywordColor},"&.meta":{color:e.metaColor},"&.italic":{fontStyle:"italic"},"&.bold":{fontWeight:"bolder"},"&.function":{color:e.functionColor},"&.number":{color:e.numberColor},"&.attr-value":{color:e.attributeColor},"&.prolog":{color:e.prologColor},"&.cdata":{color:e.cdataColor},"&.punctuation":{color:e.punctuationColor},"&.property":{color:e.propertyColor},"&.constant":{color:e.constantColor},"&.deleted":{color:e.deletedColor},"&.boolean":{color:e.booleanColor},"&.char":{color:e.charColor},"&.inserted":{color:e.insertedColor},"&.operator":{color:e.operatorColor},"&.atrule":{color:e.atruleColor},"&.important":{color:e.importantColor,fontWeight:"bold"}}}}(e)),{},{"& .linenumber, .ds-sh-line-number":y(e),"& .linenumber":{display:"inline-block !important",float:"left"},"& [data-ds--code--row]":{display:r?"flex":"block",paddingRight:"".concat(a,"px !important"),marginRight:"-".concat(a,"px")},"& [data-ds--code--row--highlight]":{background:"".concat(e.highlightedLineBgColor),"&::before, &::after":{clipPath:"inset(100%)",clip:"rect(1px, 1px, 1px, 1px)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},"&::before":{content:'" ['.concat(t,'] "')},"&::after":{content:'" ['.concat(n,'] "')}},"& [data-ds--code--row--highlight] .linenumber":{borderLeft:"".concat(i," solid ").concat(e.highlightedLineBorderColor),paddingLeft:"".concat(a/2,"px !important"),position:"relative"},"& [data-ds--code--row--highlight] .linenumber::before":{content:'""',position:"absolute",width:i,top:"-1px",left:"-".concat(i),borderTop:"1px solid ".concat(e.highlightedLineBorderColor)},"[data-ds--code--row--highlight] + [data-ds--code--row]:not([data-ds--code--row--highlight]), [data-ds--code--row]:not([data-ds--code--row--highlight]) + [data-ds--code--row--highlight]":{borderTop:"1px dashed transparent"},"[data-ds--code--row--highlight]:last-child":{borderBottom:"1px dashed transparent"},"& code:first-of-type":{paddingRight:"0px !important",backgroundImage:r?"linear-gradient(to right, var(".concat(s,",").concat(e.lineNumberBgColor,"), var(").concat(s,",").concat(e.lineNumberBgColor,")\n    calc(").concat(e.lineNumberWidth," + ").concat(c,"px), transparent calc(").concat(e.lineNumberWidth," + ").concat(c,"px), transparent)"):void 0},"& code:last-of-type":{paddingRight:"".concat(a,"px !important"),flexBasis:"auto",flexGrow:1,flexShrink:o?1:0,wordBreak:"break-word"},"code > span:only-child:empty:before, code > span:only-child > span:only-child:empty:before":{content:'" "'}})}},k=function(e){var t="theme"in e?e.theme:e,n=h(t);return g(g({},b(n)),{},{display:"inline",padding:"2px 0.5ch",boxDecorationBreak:"clone",fontSize:"0.875em",overflow:"auto",overflowWrap:"break-word",whiteSpace:"pre-wrap"})},E=function(e,t){return g(g(g({},h(e)),v(e)),{},{lineNumberWidth:t?(n=t,n?"".concat(n.toFixed(0).length,"ch"):"1ch"):void 0});var n}},15365:(e,t,n)=>{"use strict";n.d(t,{AX:()=>h,H8:()=>_,IR:()=>w,JV:()=>P,N_:()=>g,R:()=>y,T5:()=>s,VB:()=>l,VY:()=>f,Wn:()=>m,Z3:()=>c,a8:()=>a,gR:()=>i,gt:()=>k,kJ:()=>v,oe:()=>T,q2:()=>O,tE:()=>d,vP:()=>p,vs:()=>S,zN:()=>x});var r=n(59447),o="#FF5630",i="#BF2600",a="#FFF0B3",c="#FFAB00",s="#57D9A3",u="#36B37E",l="#006644",d="#B3D4FF",p="#4C9AFF",f="#2684FF",h="#0052CC",v="#C0B6F2",m="#6554C0",g="#79E2F2",y="#00C7E6",b="#FFFFFF",w="#F4F5F7",k="#EBECF0",E="#6B778C",x="#505F79",O="#172B4D",S="#DCE5F5",C="#B8C7E0",T="#9FB0CC",A="#8C9CB8",_="#283447",P="#121A29";(0,r.Z)({light:"var(--ds-surface, ".concat(b,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),(0,r.Z)({light:"var(--ds-background-selected, ".concat("#DEEBFF",")"),dark:"var(--ds-background-selected, ".concat(d,")")}),(0,r.Z)({light:"var(--ds-background-neutral-hovered, ".concat(k,")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),(0,r.Z)({light:"var(--ds-surface-overlay, ".concat(b,")"),dark:"var(--ds-surface-overlay, ".concat(_,")")}),(0,r.Z)({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(C,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(O,")"),dark:"var(--ds-text, ".concat(C,")")}),(0,r.Z)({light:"var(--ds-text-selected, ".concat(h,")"),dark:"var(--ds-text-selected, ".concat(h,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(E,")"),dark:"var(--ds-text-subtlest, ".concat(A,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(E,")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),(0,r.Z)({light:"var(--ds-text, ".concat(O,")"),dark:"var(--ds-text, ".concat(C,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(E,")"),dark:"var(--ds-text-subtlest, ".concat(A,")")}),(0,r.Z)({light:w,dark:_}),(0,r.Z)({light:"var(--ds-link, ".concat(h,")"),dark:"var(--ds-link, ".concat(p,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat("#0065FF",")"),dark:"var(--ds-link-pressed, ".concat(f,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(p,")")}),(0,r.Z)({light:"var(--ds-border-focused, ".concat(p,")"),dark:"var(--ds-border-focused, ".concat(f,")")}),(0,r.Z)({light:"var(--ds-background-brand-bold, ".concat(h,")"),dark:"var(--ds-background-brand-bold, ".concat(p,")")}),(0,r.Z)({light:h,dark:p}),(0,r.Z)({light:"#00B8D9",dark:y}),(0,r.Z)({light:m,dark:"#998DD9"}),(0,r.Z)({light:o,dark:o}),(0,r.Z)({light:c,dark:c}),(0,r.Z)({light:u,dark:u})},34741:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,GV:()=>r,MU:()=>o,Vj:()=>s,oc:()=>i,ww:()=>c});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 8},s=function(){return"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace"}},59447:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(34741);function o(e){if(e&&e.theme){if(r.GV in e.theme)return e.theme[r.GV];if("mode"in e.theme&&r.oc.includes(e.theme.mode))return e.theme}return{mode:r.MU}}function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}},61333:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(o=e[n],i=t[n],!(o===i||r(o)&&r(i)))return!1;var o,i;return!0}function i(e,t){void 0===t&&(t=o);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}},19652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(14956);function o(e){return(0,r.Z)((function(){return e})).current}},96943:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(96234),o=n(2784);function i(e){var t=(0,o.useState)(e),n=(0,r.Z)(t,2),i=n[0],a=n[1],c=(0,o.useRef)(i);return c.current=i,[c,a]}},8639:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(46117),o=n(9249),i=n(87371),a=n(56666),c=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function s(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||c(r)&&c(o)))return!1;var r,o;return!0}var u=function(){function e(){(0,o.Z)(this,e),(0,a.Z)(this,"tasks",[]),(0,a.Z)(this,"running",!1)}return(0,i.Z)(e,[{key:"request",value:function(e){if(window.requestIdleCallback)window.requestIdleCallback(e);else{var t=performance.now();setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(performance.now()-t))}})}),0)}}},{key:"pending",value:function(){var e,t,n,r;return"function"==typeof(null===(e=window.navigator)||void 0===e||null===(t=e.scheduling)||void 0===t?void 0:t.isInputPending)&&!0===(null===(n=window.navigator)||void 0===n||null===(r=n.scheduling)||void 0===r?void 0:r.isInputPending())}},{key:"process",value:function(){var e=this;this.running||(this.running=!0,this.request((function(t){for(;t.timeRemaining()>0&&e.tasks.length>0&&!e.pending();){var n=e.tasks.shift();n&&n()}e.running=!1,e.tasks.length>0&&e.process()})))}},{key:"schedule",value:function(e){this.tasks.push(e),this.process()}}]),e}();(0,a.Z)(u,"get",function(e,t){void 0===t&&(t=s);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}((function(){return new u})));var l=r.XD.editor,d=function(e){return function(t){var n,r=t.payload,o=t.channel,i=void 0===o?l:o;e&&(Boolean(e.__queueAnalytics)?u.get().schedule((function(){var t;return null===(t=e(r))||void 0===t?void 0:t.fire(i)})):null===(n=e(r))||void 0===n||n.fire(i))}}},19589:(e,t,n)=>{"use strict";var r,o,i,a,c,s,u,l;n.d(t,{ID:()=>a,Jq:()=>i,VJ:()=>s,Wt:()=>c,Ze:()=>r,nI:()=>l,om:()=>o}),function(e){e.OPERATIONAL="operational",e.SCREEN="screen",e.TRACK="track",e.UI="ui"}(r||(r={})),function(e){e.ACTIVATED="activated",e.ADDED="added",e.BROWSER_FREEZE="browserFreeze",e.CHANGED_BACKGROUND_COLOR="changedBackgroundColor",e.CHANGED_ICON="changedIcon",e.CHANGED_FULL_WIDTH_MODE="changedFullWidthMode",e.CHANGED_LAYOUT="changedLayout",e.CHANGED_REPLACEMENT_TEXT="changedReplacementText",e.CHANGED_TYPE="changedType",e.CHANGED_URL="changedUrl",e.CLEARED="cleared",e.CLICKED="clicked",e.CLOSED="closed",e.COMMITTED="committed",e.CONNECTED_NODES="connectedNodes",e.CONVERTED="converted",e.COPIED="copied",e.CUT="cut",e.DEACTIVATED="deactivated",e.DECREMENTED="decremented",e.DELETED="deleted",e.DISCARDED_INVALID_STEPS_FROM_TRANSACTION="discardedInvalidStepsFromTransaction",e.DISCONNECTED_SOURCE="disconnectedSource",e.DISCONNECTED_TARGET="disconnectedTarget",e.DISMISSED="dismissed",e.DISPATCHED_INVALID_TRANSACTION="dispatchedInvalidTransaction",e.DISPATCHED_VALID_TRANSACTION="dispatchedValidTransaction",e.EDITED="edited",e.EDITOR_CRASHED="unhandledErrorCaught",e.EDITOR_CRASHED_ADDITIONAL_INFORMATION="unhandledErrorCaughtAdditionalInfov2",e.EDITOR_MOUNTED="mounted",e.EDITOR_TTI="tti",e.EDITOR_CONTENT_RETRIEVAL_PERFORMED="contentRetrievalPerformed",e.RE_RENDERED="reRendered",e.ENTERED="entered",e.ERRORED="errored",e.EXPOSED="exposed",e.FAILED_TO_UNMOUNT="failedToUnmount",e.FIND_NEXT_PERFORMED="findNextPerformed",e.FIND_PERFORMED="findPerformed",e.FIND_PREV_PERFORMED="findPrevPerformed",e.FORMATTED="formatted",e.HELP_OPENED="helpOpened",e.HIGHLIGHTED="highlighted",e.INCREMENTED="incremented",e.INDENTED="indented",e.INITIALISED="initialised",e.INITIALISED_FRAGMENT_MARK="initialisedFragmentMark",e.INPUT_PERF_SAMPLING="inputPerfSampling",e.INPUT_PERF_SAMPLING_AVG="inputPerfSamplingAvg",e.INPUT_PERF_SAMPLING_SINGLE_KEYPRESS="inputPerfSamplingSingleKeypress",e.INPUT_PERF_SAMPLING_SINGLE_KEYPRESS_AVG="inputPerfSamplingSingleKeypressAvg",e.INPUT_PERF_SAMPLING_RENDERED="inputPerfSamplingRendered",e.INPUT_PERF_SAMPLING_RENDERED_AVG="inputPerfSamplingRenderedAvg",e.INSERTED="inserted",e.INVALID_DOCUMENT_ENCOUNTERED="invalidDocumentEncountered",e.INVOKED="invoked",e.GOT_CONNECTIONS="gotConnections",e.LANGUAGE_SELECTED="languageSelected",e.LIST_ITEM_JOINED="listItemJoined",e.MATCHED="matched",e.MEDIA_LINK_TRANSFORMED="mediaLinkTransformed",e.NODE_CONTENT_SANITIZED="nodeContentSanitized",e.OPENED="opened",e.OUTDENTED="outdented",e.PASTED="pasted",e.PASTED_AS_PLAIN="pastedAsPlain",e.PASTED_TIMED="pastedTimed",e.PROSEMIRROR_RENDERED="proseMirrorRendered",e.REACT_NODEVIEW_RENDERED="reactNodeViewRendered",e.REPLACED_ALL="replacedAll",e.REPLACED_ONE="replacedOne",e.RESOLVED="resolved",e.SELECTED="selected",e.SHOWN="shown",e.SLOW_INPUT="slowInput",e.STARTED="started",e.STOPPED="stopped",e.SUBSTITUTED="autoSubstituted",e.SYNCHRONY_DISCONNECTED="synchronyDisconnected",e.SYNCHRONY_ENTITY_ERROR="synchronyEntityError",e.SYNCHRONY_ERROR="synchronyError",e.TEXT_LINK_MARK_TRANSFORMED="textLinkMarkTransformed",e.DEDUPE_MARKS_TRANSFORMED_V2="dedupeMarksTransformedV2",e.NODES_MISSING_CONTENT_TRANSFORMED="nodesMissingContentTransformed",e.INDENTATION_MARKS_TRANSFORMED="indentationMarksTransformed",e.INVALID_MEDIA_CONTENT_TRANSFORMED="invalidMediaContentTransformed",e.TOGGLE_EXPAND="toggleExpand",e.TRANSACTION_DISPATCHED="transactionDispatched",e.TRANSACTION_MUTATED_AFTER_DISPATCH="transactionMutatedAfterDispatched",e.TYPING_FINISHED="typingFinished",e.TYPING_STARTED="typingStarted",e.UNLINK="unlinked",e.UNSUPPORTED_CONTENT_ENCOUNTERED="unsupportedContentEncounteredV2",e.UPDATED="updated",e.UPDATED_FRAGMENT_MARK_NAME="updatedFragmentMarkName",e.UPDATED_SOURCE="updatedSource",e.UPDATED_TARGET="updatedTarget",e.UPLOAD_EXTERNAL_FAIL="uploadExternalFailed",e.VIEWED="viewed",e.VISITED="visited",e.WITH_PLUGIN_STATE_CALLED="withPluginStateCalled",e.RENDERED="rendered",e.ON_EDITOR_READY_CALLBACK="onEditorReadyCallback",e.ON_CHANGE_CALLBACK="onChangeCalled",e.NEW_COLLAB_SYNC_UP_ERROR_NO_STEPS="newCollabSyncUpErrorNoSteps",e.REMOVE_ICON="removedIcon",e.UFO_SESSION_COMPLETE="ufoSessionComplete",e.INVALID_PROSEMIRROR_DOCUMENT="invalidProsemirrorDocument",e.DOCUMENT_PROCESSING_ERROR="documentProcessingErrorV2",e.RENDERER_TTI="tti",e.CRASHED="unhandledErrorCaughtV2",e.SELECT_ALL_CAUGHT="selectAllCaught",e.SELECT_ALL_ESCAPED="selectAllEscaped",e.SORT_COLUMN="sortedColumn",e.SORT_COLUMN_NOT_ALLOWED="sortColumnNotAllowed",e.CREATE_NOT_ALLOWED="createNotAllowed",e.UNSUPPORTED_CONTENT_LEVELS_TRACKING_SUCCEEDED="unsupportedContentLevelsTrackingSucceeded",e.UNSUPPORTED_CONTENT_LEVELS_TRACKING_ERRORED="unsupportedContentLevelsTrackingErrored",e.UNSUPPORTED_TOOLTIP_VIEWED="viewed"}(o||(o={})),function(e){e.ASCII="ascii",e.AUTO="auto",e.AUTO_DETECT="autoDetect",e.BUTTON="button",e.BLUR="blur",e.CARD="card",e.CLIPBOARD="clipboard",e.CONFIG_PANEL="configPanel",e.CONTEXT_MENU="contextMenu",e.DRAG_AND_DROP="dragAndDrop",e.EXTERNAL="external",e.EXTENSION_API="extensionApi",e.FLOATING_TB="floatingToolbar",e.FORMATTING="autoformatting",e.INSERT_MENU="insertMenu",e.KEYBOARD="keyboard",e.MACRO_BROWSER="macroBrowser",e.MANUAL="manual",e.PICKER="picker",e.PICKER_CLOUD="cloudPicker",e.PREFILL="prefill",e.QUICK_INSERT="quickInsert",e.SHORTCUT="shortcut",e.TOOLBAR="toolbar",e.TYPEAHEAD="typeAhead"}(i||(i={})),function(e){e.BUTTON="button",e.KEYBOARD="keyboard",e.SHORTCUT="shortcut",e.TOOLBAR="toolbar"}(a||(a={})),function(e){e.TOOLBAR_BUTTON="toolbarButton",e.BUTTON="button",e.CONFIG_PANEL="configPanel",e.CONTENT_COMPONENT="contentComponent",e.DATE="date",e.DATE_SEGMENT="dateSegment",e.DOCUMENT="document",e.EDITOR="editor",e.ELEMENT_BROWSER="elementBrowser",e.EMBEDS="embeds",e.EXPAND="expand",e.EXTENSION="extension",e.FEATURE="feature",e.FEEDBACK_DIALOG="feedbackDialog",e.FIND_REPLACE_DIALOG="findReplaceDialog",e.FLOATING_CONTEXTUAL_BUTTON="floatingContextualButton",e.FLOATING_TOOLBAR_PLUGIN="floatingToolbarPlugin",e.HELP="help",e.LAYOUT="layout",e.LIST="list",e.MEDIA="media",e.MEDIA_SINGLE="mediaSingle",e.NESTED_EXPAND="nestedExpand",e.PANEL="panel",e.PICKER="picker",e.PLUS_MENU="plusMenu",e.PLUGIN_SLOT="pluginSlot",e.REACT_NODE_VIEW="reactNodeView",e.SELECTION="selection",e.SMART_LINK="smartLink",e.HYPERLINK="hyperlink",e.TABLE="table",e.TABLES_PLUGIN="tablesPlugin",e.TEXT="text",e.TOOLBAR="toolbar",e.TYPEAHEAD="typeAhead",e.TYPEAHEAD_ITEM="typeAheadItem",e.ANNOTATION="annotation",e.SEARCH_RESULT="searchResult",e.CREATE_LINK_INLINE_DIALOG="createLinkInlineDialog",e.CODE_BLOCK="codeBlock",e.REACT_EDITOR_VIEW="reactEditorView",e.RENDERER="renderer",e.ANCHOR_LINK="anchorLink",e.LINK="link",e.TOOLTIP="tooltip"}(c||(c={})),function(e){e.ACTION="action",e.ALL="all",e.ALT_TEXT="altText",e.ANNOTATE_BUTTON="annotateButton",e.AVATAR_GROUP_PLUGIN="AvatarGroupInPlugin",e.BLOCK_QUOTE="blockQuote",e.BORDER="border",e.BUTTON_CATEGORY="categoryButton",e.BUTTON_FEEDBACK="feedbackButton",e.BUTTON_HELP="helpButton",e.CANCEL="cancel",e.CAPTION="caption",e.CARD_BLOCK="blockCard",e.CARD_INLINE="inlineCard",e.CELL="cell",e.CODE_BLOCK="codeBlock",e.CODEBLOCK_COPY="codeBlockCopy",e.CODEBLOCK_WRAP="codeBlockWrap",e.DATE="date",e.DATE_DAY="day",e.DATE_MONTH="month",e.DATE_YEAR="year",e.DECISION="decision",e.DIVIDER="divider",e.EDIT_LINK="editLink",e.EMBEDS="embeds",e.EMOJI="emoji",e.EXPAND="expand",e.EXTENSION="extension",e.EXTENSION_API="extensionApi",e.EXTENSION_BLOCK="extension",e.EXTENSION_BODIED="bodiedExtension",e.EXTENSION_INLINE="inlineExtension",e.FORMAT_BLOCK_QUOTE="blockQuote",e.FORMAT_CLEAR="clearFormatting",e.FORMAT_CODE="code",e.FORMAT_COLOR="color",e.FORMAT_HEADING="heading",e.FORMAT_INDENT="indentation",e.FORMAT_ITALIC="italic",e.FORMAT_LIST_BULLET="bulletedList",e.FORMAT_LIST_NUMBER="numberedList",e.FORMAT_STRIKE="strike",e.FORMAT_STRONG="strong",e.FORMAT_SUB="subscript",e.FORMAT_SUPER="superscript",e.FORMAT_UNDERLINE="underline",e.FRAGMENT_MARK="fragmentMark",e.GOTO_SMART_LINK_SETTINGS="goToSmartLinkSettings",e.HELP_QUICK_INSERT="helpQuickInsert",e.HYPERLINK="hyperlink",e.INLINE_COMMENT="inlineComment",e.LAYOUT="layout",e.LINE_BREAK="lineBreak",e.LINK="link",e.LINK_PREVIEW="linkPreview",e.LINK_SEARCH_INPUT="linkSearchInput",e.MEDIA="media",e.MEDIA_GROUP="mediaGroup",e.MEDIA_INLINE="mediaInline",e.MEDIA_LINK="mediaLink",e.MEDIA_SINGLE="mediaSingle",e.MENTION="mention",e.NESTED_EXPAND="nestedExpand",e.NODE="node",e.OPEN_LINK="openLink",e.PANEL="panel",e.PASTE_BLOCK_CARD="blockCard",e.PASTE_BLOCKQUOTE="blockQuote",e.PASTE_BODIED_EXTENSION="bodiedExtension",e.PASTE_BULLET_LIST="bulletList",e.PASTE_CODE_BLOCK="codeBlock",e.PASTE_DECISION_LIST="decisionList",e.PASTE_EXPAND="expand",e.PASTE_EXTENSION="extension",e.PASTE_HEADING="heading",e.PASTE_MEDIA_GROUP="mediaGroup",e.PASTE_MEDIA_SINGLE="mediaSingle",e.PASTE_NESTED_EXPAND="nestedExpand",e.PASTE_ORDERED_LIST="orderedList",e.PASTE_PANEL="panel",e.PASTE_PARAGRAPH="paragraph",e.PASTE_RULE="rule",e.PASTE_TABLE="table",e.PASTE_TABLE_CELL="tableCell",e.PASTE_TABLE_HEADER="tableHeader",e.PASTE_TABLE_ROW="tableRow",e.PASTE_TASK_LIST="taskList",e.PICKER_CLOUD="cloudPicker",e.PICKER_COLOR="colorPicker",e.PICKER_EMOJI="emojiPicker",e.PLACEHOLDER_TEXT="placeholderText",e.POST_QUERY_SEARCH_RESULTS="postQuerySearchResults",e.PRE_QUERY_SEARCH_RESULTS="preQuerySearchResults",e.PRODUCT_NAME="productName",e.PUNC="punctuation",e.QUICK_SEARCH="quickSearch",e.RANGE="range",e.REACT_NODE_VIEW="reactNodeView",e.RECENT_ACTIVITIES="recentActivities",e.RESIZED="resized",e.RICH_MEDIA_LAYOUT="richMediaLayout",e.SAVE="save",e.SECTION="section",e.SMART_LINK="smartLink",e.STATUS="status",e.SYMBOL="symbol",e.TABLE="table",e.TEXT="text",e.TYPEAHEAD_EMOJI="emojiTypeAhead",e.TYPEAHEAD_LINK="linkTypeAhead",e.TYPEAHEAD_MENTION="mentionTypeAhead",e.TYPEAHEAD_QUICK_INSERT="quickInsertTypeAhead",e.UNKNOWN_NODE="unknownNode",e.UNLINK="unlink",e.HEADING_ANCHOR_LINK="headingAnchorLink",e.UNSUPPORTED_ERROR="unsupportedUnhandled",e.UNSUPPORTED_NODE_ATTRIBUTE="unsupportedNodeAttribute",e.UNSUPPORTED_BLOCK="unsupportedBlock",e.UNSUPPORTED_INLINE="unsupportedInline",e.UNSUPPORTED_MARK="unsupportedMark",e.ON_UNSUPPORTED_INLINE="onUnsupportedInline",e.ON_UNSUPPORTED_BLOCK="onUnsupportedBlock"}(s||(s={})),function(e){e.CODE_BLOCK="codeBlockFloatingControls",e.EXTENSION="extensionFloatingControls",e.HYPERLINK="hyperlinkFloatingControls",e.MEDIA="mediaFloatingControls",e.PANEL="panelFloatingControls",e.TABLE="tableFloatingControls",e.EXPAND="expandToolbar"}(u||(u={})),function(e){e.INLINE_COMMENT="inlineComment",e.FLOATING_CONTEXTUAL_BUTTON="floatingContextualButton",e.FLOATING_INSERT_BUTTON="floatingInsertButton",e.FLOATING_TOOLBAR="floatingToolbar"}(l||(l={}))},74183:(e,t,n)=>{"use strict";var r,o;n.d(t,{F:()=>o}),function(e){e.LEFT="left",e.RIGHT="right"}(r||(r={})),function(e){e.CURRENT_SELECTION="currentSelection",e.HTML_ELEMENT="htmlElement"}(o||(o={}))},30850:(e,t,n)=>{"use strict";var r,o,i,a;n.d(t,{IK:()=>o,PP:()=>i,Rv:()=>a,VT:()=>r}),function(e){e.NATIVE="mobileNative",e.HYBRID="mobileHybrid",e.WEB="web"}(r||(r={})),function(e){e.RENDERER="renderer",e.EDITOR="editor"}(o||(o={})),function(e){e.FIXED_WIDTH="fixedWidth",e.FULL_WIDTH="fullWidth"}(i||(i={})),function(e){e.LOADING="loading",e.TYPING="typing",e.CLICKING="clicking",e.PASTING="pasting"}(a||(a={}))},48072:(e,t,n)=>{"use strict";var r;n.d(t,{L:()=>r}),function(e){e.FIND_REPLACE="findReplace",e.EMOJI="emoji",e.ORDERED_LIST="orderedList",e.BULLET_LIST="bulletList",e.MEDIA="media",e.MENTION="mention",e.DECISION_LIST="decisionList",e.TASK_LIST="taskList",e.TEXT_COLOR="color",e.TEXT_FORMATTING_STRONG="strong",e.TEXT_FORMATTING_ITALIC="italic",e.UNDO="undo",e.REDO="redo",e.INDENT="indent",e.OUTDENT="outdent"}(r||(r={}))},79393:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});var r=n(68079),o=n(91112);function i(e){return e.steps.filter((function(e){return e instanceof o.R1})).reduce((function(e,t){return[].concat((0,r.Z)(e),(0,r.Z)(t.analyticsEvents))}),[])}},60652:(e,t,n)=>{"use strict";n.d(t,{h:()=>c,p:()=>a});var r=n(9249),o=n(87371),i=n(56666),a=function(){function e(){(0,r.Z)(this,e),(0,i.Z)(this,"listeners",{})}return(0,o.Z)(e,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t)}},{key:"has",value:function(e,t){return!!this.listeners[e]&&this.listeners[e].has(t)}},{key:"off",value:function(e,t){this.listeners[e]&&this.listeners[e].has(t)&&this.listeners[e].delete(t)}},{key:"emit",value:function(e,t){this.listeners[e]&&this.listeners[e].forEach((function(e){return e(t)}))}},{key:"destroy",value:function(){this.listeners={}}}]),e}();function c(e){return function(t,n){if(!t)throw new Error("event name is required!");var r="string"==typeof t?t:t.key;e.emit(r,n)}}},60135:(e,t,n)=>{"use strict";n.d(t,{ZY:()=>m,_3:()=>d,tV:()=>f});var r=n(86522),o=n(96234),i=n(34795),a=n(2784),c=n(89028),s=n.n(c),u=n(96767);function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function d(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)(l().mark((function e(t,n,r){var i,a,c,s,d,p;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(0,u.tz)(r,n),a=(0,o.Z)(i,2),c=a[0],s=a[1],e.next=3,t.getExtension(n,c);case 3:if(d=e.sent){e.next=6;break}throw new Error('Extension with key "'.concat(c,'" and type "').concat(n,'" not found!'));case 6:if(d.modules.nodes){e.next=8;break}throw new Error("Couldn't find any node for extension type \"".concat(n,'" and key "').concat(r,'"!'));case 8:if(p=d.modules.nodes[s]){e.next=11;break}throw new Error('Node with key "'.concat(r,'" not found on manifest for extension type "').concat(n,'" and key "').concat(r,'"!'));case 11:return e.abrupt("return",p);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,n){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)(l().mark((function e(t,n,r){var o;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t,n,r);case 2:return o=e.sent,e.abrupt("return",Object.keys(o).filter((function(e){return e.startsWith("__")})).reduce((function(e,t){return e[t]=o[t],e}),{}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return e.error||e.timedOut?(console.error("Error rendering extension",e.error),a.createElement("div",null,"Error loading the extension!")):null}function m(e,t,n){return s()({loader:function(){return d(e,t,n).then((function(e){return(0,u.B8)(e.render())}))},loading:v})}},96767:(e,t,n)=>{"use strict";n.d(t,{B8:()=>f,cM:()=>p,tz:()=>l});var r=n(86522),o=n(56666),i=n(34795),a=n(96234);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,s,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var l=function(e,t){if("com.atlassian.ecosystem"===t)return[e,"default"];var n=e.split(":"),r=(0,a.Z)(n,2),o=r[0],i=r[1];return[o,void 0===i?"default":i]},d=function(e,t){return t&&"default"!==t?"".concat(e,":").concat(t):e};function p(e,t){return"function"==typeof e?e:"node"===e.type&&t.modules.nodes?function(e,t){if(!t.modules.nodes)return;var n=t.modules.nodes[e.key],r=d(t.key,e.key),o={type:n.type,attrs:{extensionType:t.type,extensionKey:r,parameters:e.parameters}};if("bodiedExtension"===n.type)return s(s({},o),{},{content:[{type:"paragraph",content:[]}]});return o}(e,t):void 0}var f=function(){var e=(0,i.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.abrupt("return",n&&n.__esModule?n.default:n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},8421:(e,t,n)=>{"use strict";n.d(t,{as:()=>y,bU:()=>p,yh:()=>h});var r=n(86522),o=n(56666),i=n(34795),a=n(68079),c=n(96767);function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,u,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e,t){var n,r=e.map((function(e){return(e.modules.quickInsert||[]).map((function(t){return function(e,t){var n=t.title||e.title,r="".concat(e.key,":").concat(t.key),o=(0,c.cM)(t.action,e);if(!o)throw new Error("Couldn't find any action for ".concat(n," (").concat(r,")"));return{key:r,title:n,extensionType:e.type,keywords:t.keywords||e.keywords||[],featured:t.featured||!1,categories:t.categories||e.categories||[],description:t.description||e.description,summary:e.summary,documentationUrl:e.documentationUrl,icon:t.icon||e.icons[48],node:o}}(e,t)}))}));return(n=[]).concat.apply(n,(0,a.Z)(r)).map(t)};var f=function(e){return function(t){var n,r=l(e);try{for(r.s();!(n=r.n()).done;){var o=(0,n.value)(t);if(o)return o}}catch(e){r.e(e)}finally{r.f()}}};function h(e){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return n=e.sent,e.next=5,n.getAutoConverter();case 5:return r=e.sent,e.abrupt("return",f(r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).error.apply(t,[e].concat(r))},g=function(e,t){var n=e.tooltip,r=e.key,i=e.label,a=e.icon,c=e.action,s=e.disabled,l=[t,r].join(":");"function"!=typeof c&&m("Provided action is not a function for extension toolbar button: ".concat(i," (").concat(l,")"));var d={};switch(e.display){case"icon":a||m("icon should be provided for extension toolbar button (".concat(l,"), when display is set to 'icon'")),d={icon:a};break;case"label":i||m("label should be provided for extension toolbar button (".concat(l,"), when display is set to 'label'")),d={label:i};break;default:i&&a||m("label and icon should be provided for extension toolbar button (".concat(l,"), when display is not set or set to 'icon-and-label'")),d={icon:a,label:i}}return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({key:l,tooltip:n,action:c,disabled:s},d)},y=function(e,t,n){return e.map((function(e){if(e.modules.contextualToolbars){var r=function(e){if(e.length>1){var t=e.map((function(e){return e.context}));return t.find((function(e,n){return n!==t.findIndex((function(t){return function(e,t){if(e.type===t.type&&e.nodeType===t.nodeType){if("node"===e.type)return!0;if("extension"===e.type&&"extension"===t.type)return e.extensionKey===t.extensionKey&&e.extensionType===t.extensionType}return!1}(e,t)}))}))}}(e.modules.contextualToolbars);return r?(m("[contextualToolbars] Duplicate context detected - ".concat(JSON.stringify(r),".")),[]):e.modules.contextualToolbars.map((function(e){if(function(e,t){var n;if("node"===e.context.type&&e.context.nodeType===t.type)return!0;if("extension"!==e.context.type||t.type!==e.context.nodeType)return!1;var r,o,i=e.context,a=i.extensionType,c=i.extensionKey;if(a&&a!==(null===(n=t.attrs)||void 0===n?void 0:n.extensionType))return!1;return"string"==typeof c?c===(null===(r=t.attrs)||void 0===r?void 0:r.extensionKey):!(!Array.isArray(c)||!c.length)&&c.includes(null===(o=t.attrs)||void 0===o?void 0:o.extensionKey)}(e,t)){var r=e.toolbarItems;return"function"==typeof r?r(t,n):r}return[]})).flatMap((function(t){return t.map((function(t){return g(t,e.key)}))}))}return[]})).flatMap((function(e){return e}))}},735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);function o(e,t){var n=(0,r.useRef)(t),o=n.current;return n.current=e,o}},60551:(e,t,n)=>{"use strict";n.d(t,{K:()=>c});var r=n(7896),o=n(2784),i=n(42706),a=function(e){return o.createElement("svg",(0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.8562 11.9112L16.5088 9.26C16.7433 9.02545 16.8751 8.70733 16.8751 8.37563C16.8751 8.04392 16.7433 7.7258 16.5088 7.49125C16.2742 7.2567 15.9561 7.12493 15.6244 7.12493C15.2927 7.12493 14.9746 7.2567 14.74 7.49125L12.09 10.1438L9.4375 7.49125C9.20295 7.25686 8.8849 7.12526 8.55331 7.12537C8.22172 7.12549 7.90376 7.25732 7.66937 7.49188C7.43499 7.72643 7.30338 8.04448 7.3035 8.37607C7.30361 8.70766 7.43545 9.02561 7.67 9.26L10.32 11.91L7.67 14.5625C7.4423 14.7983 7.31631 15.114 7.31916 15.4418C7.32201 15.7695 7.45347 16.083 7.68523 16.3148C7.91699 16.5465 8.2305 16.678 8.55825 16.6808C8.88599 16.6837 9.20175 16.5577 9.4375 16.33L12.0888 13.68L14.74 16.33C14.8561 16.4461 14.9939 16.5383 15.1455 16.6012C15.2972 16.664 15.4597 16.6964 15.6239 16.6965C15.7881 16.6966 15.9507 16.6643 16.1024 16.6015C16.2541 16.5387 16.392 16.4467 16.5081 16.3306C16.6243 16.2146 16.7164 16.0768 16.7793 15.9251C16.8422 15.7734 16.8746 15.6109 16.8746 15.4467C16.8747 15.2825 16.8424 15.1199 16.7796 14.9682C16.7168 14.8165 16.6248 14.6786 16.5088 14.5625L13.8562 11.9112V11.9112ZM12 22C9.34784 22 6.8043 20.9464 4.92893 19.0711C3.05357 17.1957 2 14.6522 2 12C2 9.34784 3.05357 6.8043 4.92893 4.92893C6.8043 3.05357 9.34784 2 12 2C14.6522 2 17.1957 3.05357 19.0711 4.92893C20.9464 6.8043 22 9.34784 22 12C22 14.6522 20.9464 17.1957 19.0711 19.0711C17.1957 20.9464 14.6522 22 12 22V22Z",fill:"currentColor"}))},c=function(e){return o.createElement(i.Z,(0,r.Z)({glyph:a},e))}},87136:(e,t,n)=>{"use strict";n.d(t,{F:()=>c});var r=n(7896),o=n(2784),i=n(42706),a=function(e){return o.createElement("svg",(0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C9.34784 22 6.8043 20.9464 4.92893 19.0711C3.05357 17.1957 2 14.6522 2 12C2 9.34784 3.05357 6.8043 4.92893 4.92893C6.8043 3.05357 9.34784 2 12 2C14.6522 2 17.1957 3.05357 19.0711 4.92893C20.9464 6.8043 22 9.34784 22 12C22 14.6522 20.9464 17.1957 19.0711 19.0711C17.1957 20.9464 14.6522 22 12 22V22ZM12 11.375C11.6685 11.375 11.3505 11.5067 11.1161 11.7411C10.8817 11.9755 10.75 12.2935 10.75 12.625V15.75C10.75 16.0815 10.8817 16.3995 11.1161 16.6339C11.3505 16.8683 11.6685 17 12 17C12.3315 17 12.6495 16.8683 12.8839 16.6339C13.1183 16.3995 13.25 16.0815 13.25 15.75V12.625C13.25 12.2935 13.1183 11.9755 12.8839 11.7411C12.6495 11.5067 12.3315 11.375 12 11.375ZM12 9.96875C12.4558 9.96875 12.893 9.78767 13.2153 9.46534C13.5377 9.14301 13.7188 8.70584 13.7188 8.25C13.7188 7.79416 13.5377 7.35699 13.2153 7.03466C12.893 6.71233 12.4558 6.53125 12 6.53125C11.5442 6.53125 11.107 6.71233 10.7847 7.03466C10.4623 7.35699 10.2812 7.79416 10.2812 8.25C10.2812 8.70584 10.4623 9.14301 10.7847 9.46534C11.107 9.78767 11.5442 9.96875 12 9.96875Z",fill:"currentColor"}))},c=function(e){return o.createElement(i.Z,(0,r.Z)({glyph:a},e))}},28487:(e,t,n)=>{"use strict";n.d(t,{m:()=>c});var r=n(7896),o=n(2784),i=n(42706),a=function(e){return o.createElement("svg",(0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 2H17C17.663 2 18.2989 2.26339 18.7678 2.73223C19.2366 3.20107 19.5 3.83696 19.5 4.5V19.5C19.5 20.163 19.2366 20.7989 18.7678 21.2678C18.2989 21.7366 17.663 22 17 22H7C6.33696 22 5.70107 21.7366 5.23223 21.2678C4.76339 20.7989 4.5 20.163 4.5 19.5V4.5C4.5 3.83696 4.76339 3.20107 5.23223 2.73223C5.70107 2.26339 6.33696 2 7 2ZM8.875 7C8.70924 7 8.55027 7.06585 8.43306 7.18306C8.31585 7.30027 8.25 7.45924 8.25 7.625V8.875C8.25 9.04076 8.31585 9.19973 8.43306 9.31694C8.55027 9.43415 8.70924 9.5 8.875 9.5H15.125C15.2908 9.5 15.4497 9.43415 15.5669 9.31694C15.6842 9.19973 15.75 9.04076 15.75 8.875V7.625C15.75 7.45924 15.6842 7.30027 15.5669 7.18306C15.4497 7.06585 15.2908 7 15.125 7H8.875ZM8.875 12C8.70924 12 8.55027 12.0658 8.43306 12.1831C8.31585 12.3003 8.25 12.4592 8.25 12.625V13.875C8.25 14.0408 8.31585 14.1997 8.43306 14.3169C8.55027 14.4342 8.70924 14.5 8.875 14.5H12.625C12.7908 14.5 12.9497 14.4342 13.0669 14.3169C13.1842 14.1997 13.25 14.0408 13.25 13.875V12.625C13.25 12.4592 13.1842 12.3003 13.0669 12.1831C12.9497 12.0658 12.7908 12 12.625 12H8.875Z",fill:"currentColor"}))},c=function(e){return o.createElement(i.Z,(0,r.Z)({glyph:a},e))}},46989:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var r=n(7896),o=n(2784),i=n(42706),a=function(e){return o.createElement("svg",(0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C9.34784 22 6.8043 20.9464 4.92893 19.0711C3.05357 17.1957 2 14.6522 2 12C2 9.34784 3.05357 6.8043 4.92893 4.92893C6.8043 3.05357 9.34784 2 12 2C14.6522 2 17.1957 3.05357 19.0711 4.92893C20.9464 6.8043 22 9.34784 22 12C22 14.6522 20.9464 17.1957 19.0711 19.0711C17.1957 20.9464 14.6522 22 12 22V22ZM13.705 8.295L11.015 13.4325L9.08625 11.695C8.9642 11.5852 8.82172 11.5005 8.66694 11.4457C8.51216 11.391 8.3481 11.3672 8.18415 11.3759C8.0202 11.3845 7.85955 11.4254 7.71139 11.4961C7.56322 11.5669 7.43044 11.6661 7.32063 11.7881C7.21081 11.9102 7.1261 12.0527 7.07135 12.2074C7.0166 12.3622 6.99287 12.5263 7.00152 12.6902C7.01016 12.8542 7.05102 13.0148 7.12175 13.163C7.19248 13.3112 7.2917 13.4439 7.41375 13.5538L10.5388 16.3663C10.6803 16.4938 10.8492 16.5872 11.0325 16.6395C11.2157 16.6917 11.4085 16.7014 11.596 16.6678C11.7836 16.6341 11.9609 16.558 12.1146 16.4453C12.2682 16.3326 12.3941 16.1863 12.4825 16.0175L15.92 9.455C16.0738 9.16127 16.1047 8.81847 16.0057 8.502C15.9068 8.18553 15.6862 7.92133 15.3925 7.7675C15.0988 7.61367 14.756 7.58283 14.4395 7.68176C14.123 7.78068 13.8588 8.00127 13.705 8.295V8.295Z",fill:"currentColor"}))},c=function(e){return o.createElement(i.Z,(0,r.Z)({glyph:a},e))}},68434:(e,t,n)=>{"use strict";n.d(t,{z:()=>c});var r=n(7896),o=n(2784),i=n(42706),a=function(e){return o.createElement("svg",(0,r.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4897 4.34592L21.8561 18.8611C21.9525 19.0288 22.0021 19.2181 21.9999 19.4101C21.9977 19.6021 21.9438 19.7903 21.8435 19.9559C21.7432 20.1215 21.6001 20.2588 21.4282 20.3542C21.2563 20.4497 21.0616 20.4999 20.8636 20.5H3.13707C2.93882 20.5 2.74401 20.4498 2.57196 20.3543C2.39992 20.2588 2.25663 20.1213 2.15631 19.9556C2.05598 19.7898 2.00212 19.6015 2.00006 19.4093C1.998 19.2171 2.04782 19.0278 2.14456 18.86L10.5121 4.34592C10.6602 4.08939 10.8762 3.87577 11.1377 3.72708C11.3993 3.57838 11.6971 3.5 12.0003 3.5C12.3036 3.5 12.6013 3.57838 12.8629 3.72708C13.1245 3.87577 13.3404 4.08939 13.4885 4.34592H13.4897ZM12.0003 7.82538C11.8232 7.82537 11.6482 7.86212 11.4869 7.93317C11.3257 8.00423 11.182 8.10793 11.0656 8.2373C10.9492 8.36668 10.8627 8.51872 10.8119 8.68321C10.7611 8.8477 10.7473 9.02083 10.7713 9.19093L11.3546 13.3416C11.3754 13.4933 11.4523 13.6326 11.5711 13.7334C11.6899 13.8343 11.8424 13.8899 12.0003 13.8899C12.1582 13.8899 12.3107 13.8343 12.4295 13.7334C12.5483 13.6326 12.6253 13.4933 12.6461 13.3416L13.2293 9.19093C13.2533 9.02083 13.2395 8.8477 13.1887 8.68321C13.138 8.51872 13.0515 8.36668 12.935 8.2373C12.8186 8.10793 12.6749 8.00423 12.5137 7.93317C12.3525 7.86212 12.1774 7.82537 12.0003 7.82538V7.82538ZM12.0003 17.3369C12.3395 17.3369 12.6649 17.2062 12.9047 16.9737C13.1446 16.7412 13.2793 16.4258 13.2793 16.0969C13.2793 15.7681 13.1446 15.4527 12.9047 15.2202C12.6649 14.9877 12.3395 14.857 12.0003 14.857C11.6611 14.857 11.3358 14.9877 11.0959 15.2202C10.8561 15.4527 10.7213 15.7681 10.7213 16.0969C10.7213 16.4258 10.8561 16.7412 11.0959 16.9737C11.3358 17.2062 11.6611 17.3369 12.0003 17.3369V17.3369Z",fill:"currentColor"}))},c=function(e){return o.createElement(i.Z,(0,r.Z)({glyph:a},e))}},21561:(e,t,n)=>{"use strict";n.d(t,{$Z:()=>Se,A1:()=>F,AB:()=>ce,D9:()=>w,Dh:()=>oe,E4:()=>Ze,HW:()=>x,H_:()=>be,IO:()=>J,I_:()=>fe,Id:()=>g,Ix:()=>C,JA:()=>m,JG:()=>ve,JL:()=>_,Jj:()=>O,KK:()=>K,KX:()=>W,Kh:()=>ge,Kw:()=>k,L2:()=>ne,LD:()=>A,LH:()=>S,MJ:()=>q,Md:()=>xe,Oh:()=>H,PU:()=>h,Ps:()=>$,Qd:()=>b,SG:()=>N,Sb:()=>ee,Tm:()=>Ae,Tn:()=>Pe,UF:()=>G,VW:()=>Ce,Vq:()=>re,WY:()=>Q,XX:()=>l,Xi:()=>d,Y$:()=>T,YU:()=>ie,Yw:()=>j,Z5:()=>se,_X:()=>D,_l:()=>De,as:()=>te,by:()=>Z,c1:()=>Te,dl:()=>de,e2:()=>pe,eE:()=>V,fV:()=>ue,gn:()=>v,hi:()=>z,li:()=>ae,n2:()=>X,p6:()=>P,pT:()=>L,ql:()=>U,rI:()=>E,s6:()=>R,sE:()=>ye,ti:()=>M,v:()=>me,vi:()=>B,vv:()=>f,w1:()=>p,wn:()=>Oe,xV:()=>Y,xd:()=>Ie,yq:()=>y,z2:()=>le,z7:()=>he,zo:()=>I});var r,o=n(86522),i=n(71171),a=n(2784),c=n(28165),s=n(51595),u=n(3493),l=De("Add Alt Text","Mod-Alt-y"),d=De("Navigate to editor toolbar","Alt-F9"),p=De("Navigate to floating toolbar","Alt-F10"),f=De("Bold","Mod-b"),h=De("Italic","Mod-i"),v=De("Underline","Mod-u"),m=De("Strikethrough","Mod-Shift-s"),g=De("Subscript","Mod-Shift-,"),y=De("Superscript","Mod-Shift-."),b=De("Code","Mod-Shift-m"),w=De("Paste Plain Text","Mod-Shift-v"),k=De("Clear formatting","Mod-\\"),E=De("Normal text","Mod-Alt-0"),x=De("Heading 1","Mod-Alt-1"),O=De("Heading 2","Mod-Alt-2"),S=De("Heading 3","Mod-Alt-3"),C=De("Heading 4","Mod-Alt-4"),T=De("Heading 5","Mod-Alt-5"),A=De("Heading 6","Mod-Alt-6"),_=De("Numbered list","Mod-Shift-7"),P=De("Cmd + Backspace","Mod-Backspace"),D=De("Bullet list","Mod-Shift-8"),Z=De("Quote","Mod-Shift-9"),I=De("Insert new line","Shift-Enter"),L=De("Shift Backspace","Shift-Backspace"),M=De("Split code block","Enter"),R=De("Split list item","Enter"),N=De("Insert horizontal rule","Mod-Shift--"),j=De("Undo","Mod-z"),F=De("Move up","ArrowUp"),B=De("Move down","ArrowDown"),z=De("Move left","ArrowLeft"),U=De("Move right","ArrowRight"),V=De("Indent List","Tab"),H=De("Outdent List","Shift-Tab"),W=Pe("Redo","Ctrl-y","Mod-Shift-z"),G=De("Open Help","Mod-/"),q=De("Link","Mod-k"),K=De("Annotate","Mod-Alt-c"),$=De("Submit Content","Mod-Enter"),J=De("Enter","Enter"),Y=De("Shift Enter","Shift-Enter"),X=De("Tab","Tab"),Q=De("Indent","Tab"),ee=De("Outdent","Shift-Tab"),te=De("Backspace","Backspace"),ne=De("Delete","Delete"),re=Pe("Forward Delete","","Ctrl-d"),oe=De("Space","Space"),ie=De("Escape","Escape"),ae=De("Next cell","Tab"),ce=De("Previous cell","Shift-Tab"),se=De("Shift Tab","Shift-Tab"),ue=De("Table","Shift-Alt-t"),le=De("Add Row Above","Ctrl-Alt-ArrowUp"),de=De("Add Row Below","Ctrl-Alt-ArrowDown"),pe=De("Add Column After","Ctrl-Alt-ArrowRight"),fe=De("Add Column Before","Ctrl-Alt-ArrowLeft"),he=De("Cut","Mod-x"),ve=De("Copy","Mod-c"),me=De("Paste","Mod-v"),ge=De("Paste","Mod-Shift-v"),ye=De("Find","Mod-f"),be=De("Align Left","Mod-Shift-l"),we={ARROWLEFT:"←",ARROWRIGHT:"→",ARROWUP:"↑",ARROWDOWN:"↓"},ke=(0,c.iv)(r||(r=(0,i.Z)(["\n  border-radius: 2px;\n  background-color: ",";\n  padding: 0 2px;\n\n  /* TODO: fix in develop: https://atlassian.slack.com/archives/CFG3PSQ9E/p1647395052443259?thread_ts=1647394572.556029&cid=CFG3PSQ9E */\n  /* stylelint-disable-next-line */\n  label: tooltip-shortcut;\n"])),"var(--ds-background-inverse-subtle, ".concat(s.zN,")"));function Ee(e){var t=(u.Z.mac?e.mac.replace(/Cmd/i,"⌘").replace(/Shift/i,"⇧").replace(/Ctrl/i,"⌃").replace(/Alt/i,"⌥").replace(/Backspace/i,"⌫").replace(/Enter/i,"⏎"):e.windows.replace(/Backspace/i,"⌫")).split("-"),n=t[t.length-1];return 1===n.length&&(n=n.toUpperCase()),t[t.length-1]=we[n.toUpperCase()]||n,t.join(u.Z.mac?"":"+")}function xe(e,t){if(e){var n=Ee(e);return t?"".concat(t," ").concat(n):n}}var Oe=a.memo((function(e){var t=e.description,n=e.shortcutOverride,r=e.keymap,o=n||r&&Ee(r);return o||t?(0,c.tZ)(a.Fragment,null,t,o&&t&&" ",o&&(0,c.tZ)("span",{css:ke},o)):null}));function Se(e){return _e.filter((function(t){return t.description.toUpperCase()===e.toUpperCase()}))[0]}function Ce(e){var t=Se(e);if(t)return Te(t)}function Te(e){return u.Z.mac?e.mac:e.windows}function Ae(e){var t;return"string"==typeof e?t=e:"object"===(0,o.Z)(e)&&(t=e[u.Z.mac?"mac":"windows"]),t?t.toLowerCase().split("-").map((function(e){switch(e){case"cmd":return"Meta";case"ctrl":return"Control";case"alt":return"Alt";case"shift":return"Shift";case"enter":return"Enter";case"esc":return"Esc";case"tab":return"Tab";case"space":return"Space";case"backspace":return"Backspace";default:return e.split("").join(" ")}})).join("+"):void 0}var _e=[_,D,f,h,v,m,g,y,b,E,x,O,S,C,T,A,Z,I,N,M,R,W,j,ye,ie,J,Y];function Pe(e,t,n,r){return{description:e,windows:t.replace(/Mod/i,"Ctrl"),mac:n.replace(/Mod/i,"Cmd"),common:r}}function De(e,t){return Pe(e,t.replace(/Mod/i,"Ctrl"),t.replace(/Mod/i,"Cmd"),t)}function Ze(e,t,n){var r=n[e],o=t;n[e]&&(o=function(e,n,o){return r(e,n)||t(e,n,o)}),n[e]=o}function Ie(e){if(e)return u.Z.mac?e.mac:e.windows}},71695:(e,t,n)=>{"use strict";n.d(t,{i:()=>r});var r=(0,n(63470).vU)({label:{id:"fabric.editor.codeBidiWarningLabel",defaultMessage:"Bidirectional characters change the order that text is rendered. This could be used to obscure malicious code.",description:"Tooltip message to present to users when a bidirectional character is encountered in code."}})},27714:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r=(0,n(63470).vU)({copyCodeToClipboard:{id:"fabric.editor.codeBlockCopyButton.copyToClipboard",defaultMessage:"Copy as text",description:"Copy the content of the code block as text to your clipboard"},copiedCodeToClipboard:{id:"fabric.editor.codeBlockCopyButton.copiedToClipboard",defaultMessage:"Copied!",description:"Copied the content of the code block as text to clipboard"},wrapCode:{id:"fabric.editor.codeBlockWrapButton.wrapCodeBlock",defaultMessage:"Turn on wrap",description:"Wrap the content of the code block"},unwrapCode:{id:"fabric.editor.codeBlockWrapButton.unwrapCodeBlock",defaultMessage:"Turn off wrap",description:"Wrap the content of the code block"}})},11650:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r});const r=(0,n(63470).vU)({layoutFixedWidth:{id:"fabric.editor.layoutFixedWidth",defaultMessage:"Back to center",description:"Display your element (image, table, extension, etc) as standard width"},layoutWide:{id:"fabric.editor.layoutWide",defaultMessage:"Go wide",description:"Display your element (image, table, extension, etc) wider than normal"},layoutFullWidth:{id:"fabric.editor.layoutFullWidth",defaultMessage:"Go full width",description:"Display your element (image, table, extension, etc) as full width"},alignImageRight:{id:"fabric.editor.alignImageRight",defaultMessage:"Align right",description:"Aligns image to the right"},alignImageCenter:{id:"fabric.editor.alignImageCenter",defaultMessage:"Align center",description:"Aligns image to the center"},alignImageLeft:{id:"fabric.editor.alignImageLeft",defaultMessage:"Align left",description:"Aligns image to the left"},remove:{id:"fabric.editor.remove",defaultMessage:"Remove",description:"Delete the element (image, panel, table, etc.) from your document"},removeEmoji:{id:"fabric.editor.removeEmoji",defaultMessage:"Remove emoji",description:"Remove the emoji panel icon from custom panel"},visit:{id:"fabric.editor.visit",defaultMessage:"Open link in a new window",description:"Open the link in a new window"},inviteToEditButtonTitle:{id:"fabric.editor.editMode.inviteToEditButton.title",defaultMessage:"Invite to edit",description:"Invite another user to edit the current document"},saveButton:{id:"fabric.editor.saveButton",defaultMessage:"Save",description:"Submit and save a comment or document"},cancelButton:{id:"fabric.editor.cancelButton",defaultMessage:"Cancel",description:"Discard the current comment or document"},taskList:{id:"fabric.editor.tooltip.taskList",defaultMessage:"an action item",description:"an action item in the Editor"},bulletList:{id:"fabric.editor.tooltip.bulletList",defaultMessage:"a list",description:"a list item in the Editor"},nestedExpand:{id:"fabric.editor.tooltip.nestedExpand",defaultMessage:"a nested expand",description:"expand node which is nested"},decisionList:{id:"fabric.editor.tooltip.decisionList",defaultMessage:"a decision list",description:"a list of decisions"},defaultBlockNode:{id:"fabric.editor.tooltip.defaultBlockNode",defaultMessage:"a block node",description:"a block node element"},panel:{id:"fabric.editor.tooltip.blockPanel",defaultMessage:"a panel",description:"Panel node in the Editor"},blockquote:{id:"fabric.editor.blockquote",defaultMessage:"a quote",description:"a quote node"},timeUpdated:{id:"fabric.editor.time.updated",defaultMessage:"Updated",description:"Time last updated"},timeViewed:{id:"fabric.editor.time.viewed",defaultMessage:"Viewed",description:"Time last viewed"},timeAgo:{id:"fabric.editor.time.ago",defaultMessage:"ago",description:"Some time ago"},copyToClipboard:{id:"fabric.editor.copyToClipboard",defaultMessage:"Copy",description:"Copy the whole content of the element to your clipboard"},copiedToClipboard:{id:"fabric.editor.copiedToClipboard",defaultMessage:"Copied!",description:"Copied the whole content of the element to clipboard"}})},57844:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var r=(0,n(63470).vU)({action:{id:"fabric.editor.action",defaultMessage:"Action item",description:"Also known as a “task”, “to do item”, or a checklist"},actionDescription:{id:"fabric.editor.action.description",defaultMessage:"Create and assign action items",description:""},link:{id:"fabric.editor.link",defaultMessage:"Link",description:"Insert a hyperlink"},linkDescription:{id:"fabric.editor.link.description",defaultMessage:"Insert a link",description:"Insert a hyperlink"},mediaFiles:{id:"fabric.editor.mediaFiles",defaultMessage:"Image, video, or file",description:"Insert one or more files, videos or images"},addMediaFiles:{id:"fabric.editor.addMediaFiles",defaultMessage:"Add image, video, or file",description:"Insert one or more files, videos or images"},mediaFilesDescription:{id:"fabric.editor.mediaFiles.description",defaultMessage:"Add images and other files to your page",description:"Insert one or more files or images"},image:{id:"fabric.editor.image",defaultMessage:"Image",description:"Insert an image."},mention:{id:"fabric.editor.mention",defaultMessage:"Mention",description:"Reference another person in your document"},mentionDescription:{id:"fabric.editor.mention.description",defaultMessage:"Mention someone to send them a notification",description:"Reference another person in your document"},emoji:{id:"fabric.editor.emoji",defaultMessage:"Emoji",description:"Insert an emoticon or smiley :-)"},emojiDescription:{id:"fabric.editor.emoji.description",defaultMessage:"Use emojis to express ideas 🎉 and emotions 😄",description:"Insert an emoticon or smiley :-)"},table:{id:"fabric.editor.table",defaultMessage:"Table",description:"Inserts a table in the document"},tableDescription:{id:"fabric.editor.table.description",defaultMessage:"Insert a table",description:"Inserts a table in the document"},expand:{id:"fabric.editor.expand",defaultMessage:"Expand",description:"Inserts an expand in the document"},expandDescription:{id:"fabric.editor.expand.description",defaultMessage:"Insert an expand",description:"Inserts an expand in the document"},decision:{id:"fabric.editor.decision",defaultMessage:"Decision",description:"Capture a decision you’ve made"},decisionDescription:{id:"fabric.editor.decision.description",defaultMessage:"Capture decisions so they’re easy to track",description:"Capture a decision you’ve made"},feedbackDialog:{id:"fabric.editor.feedbackDialog",defaultMessage:"Give feedback",description:"Open the feedback dialog from editor"},feedbackDialogDescription:{id:"fabric.editor.feedbackDialog.description",defaultMessage:"Tell us about your experience using the new editor",description:"Description for feedback option under quick insert dropdown"},horizontalRule:{id:"fabric.editor.horizontalRule",defaultMessage:"Divider",description:"A horizontal rule or divider"},horizontalRuleDescription:{id:"fabric.editor.horizontalRule.description",defaultMessage:"Separate content with a horizontal line",description:"A horizontal rule or divider"},date:{id:"fabric.editor.date",defaultMessage:"Date",description:"Opens a date picker that lets you select a date"},dateDescription:{id:"fabric.editor.date.description",defaultMessage:"Add a date using a calendar",description:"Opens a date picker that lets you select a date"},placeholderText:{id:"fabric.editor.placeholderText",defaultMessage:"Placeholder text",description:"Inserts a text placeholder into the page"},placeholderTextDescription:{id:"fabric.editor.placeholderText.description",defaultMessage:"Insert a text placeholder into the page",description:"Inserts a text placeholder into the page"},columns:{id:"fabric.editor.columns",defaultMessage:"Layouts",description:"Create a multi column section or layout"},columnsDescription:{id:"fabric.editor.columns.description",defaultMessage:"Structure your page using sections",description:"Create a multi column section or layout"},status:{id:"fabric.editor.status",defaultMessage:"Status",description:"Inserts an item representing the status of an activity to task."},statusDescription:{id:"fabric.editor.status.description",defaultMessage:"Add a custom status label",description:"Inserts an item representing the status of an activity to task."},viewMore:{id:"fabric.editor.viewMore",defaultMessage:"View more",description:""},insertMenu:{id:"fabric.editor.insertMenu",defaultMessage:"Insert",description:"Opens a menu of additional items that can be inserted into your document."},help:{id:"fabric.editor.help",defaultMessage:"Help",description:"Opens up the help dialog"},helpDescription:{id:"fabric.editor.help.description",defaultMessage:"Browse all the keyboard shortcuts and markdown options",description:"Browse all the keyboard shortcuts and markdown options"}})},84392:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});var r=(0,n(63470).vU)({unsupportedInlineContent:{id:"fabric.editor.unsupportedInlineContent",defaultMessage:"Unsupported content",description:"Unsupported content"},unsupportedBlockContent:{id:"fabric.editor.unsupportedBlockContent",defaultMessage:"This editor does not support displaying this content",description:"This editor does not support displaying this content"},unsupportedContentTooltip:{id:"fabric.editor.unsupportedContentTooltip",defaultMessage:"Content is not available in this editor, this will be preserved when you edit and save",description:"Content is not available in this editor, this will be preserved when you edit and save"}})},14935:(e,t,n)=>{"use strict";n.d(t,{I:()=>d,W:()=>p});var r=n(96234),o=n(86522),i=n(96009),a=n.n(i),c=n(79857),s=n.n(c),u={};function l(e,t,n){return Boolean("string"==typeof t&&(null==n?void 0:n.includes(e)))}function d(e,t){return e?Object.entries(e).filter((function(e){return"boolean"==typeof e[1]||!(!l(a()(e[0]),e[1],null==t?void 0:t.objectFlagKeys)||!function(e){try{var t=JSON.parse(e);return"object"===(0,o.Z)(t)&&null!==t}catch(e){return!1}}(e[1]))})).filter((function(e){var t=(0,r.Z)(e,1)[0];return s()(t)===t})).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];return[a()(n),o]})).reduce((function(e,n){var o=(0,r.Z)(n,2),i=o[0],a=o[1];return l(i,a,null==t?void 0:t.objectFlagKeys)&&(e[i]=JSON.parse(a)),"boolean"==typeof a&&(e[i]=a),e}),{}):u}function p(e){return Object.keys(e).filter((function(t){return!0===e[t]}))}},27467:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9249),o=n(87371),i=n(56666);var a=function(){function e(){(0,r.Z)(this,e),(0,i.Z)(this,"providers",new Map),(0,i.Z)(this,"subscribers",new Map)}return(0,o.Z)(e,[{key:"destroy",value:function(){this.providers.clear(),this.subscribers.clear()}},{key:"isEmpty",value:function(){return!this.providers.size&&!this.subscribers.size}},{key:"setProvider",value:function(e,t){this.providers.get(e)!==t&&(void 0!==t?this.providers.set(e,t):this.providers.delete(e),this.notifyUpdated(e,t))}},{key:"removeProvider",value:function(e){this.providers.delete(e),this.notifyUpdated(e)}},{key:"subscribe",value:function(e,t){var n=this.subscribers.get(e)||[];n.push(t),this.subscribers.set(e,n);var r=this.providers.get(e);r&&t(e,r)}},{key:"unsubscribe",value:function(e,t){var n=this.subscribers.get(e);if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length?this.subscribers.delete(e):this.subscribers.set(e,n)}}},{key:"unsubscribeAll",value:function(e){this.subscribers.get(e)&&this.subscribers.delete(e)}},{key:"hasProvider",value:function(e){return this.providers.has(e)}},{key:"notifyUpdated",value:function(e,t){var n=this.subscribers.get(e);n&&n.forEach((function(n){n(e,t)}))}}],[{key:"create",value:function(t){var n=new e;return Object.keys(t).forEach((function(e){n.setProvider(e,t[e])})),n}}]),e}()},69024:(e,t,n)=>{"use strict";n.d(t,{S:()=>f});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var f=function(e){(0,a.Z)(n,e);var t=p(n);function n(e){var o;(0,r.Z)(this,n),o=t.call(this,e),(0,u.Z)((0,i.Z)(o),"handleProvider",(function(e,t){o.setState((function(n){return{providers:d(d({},n.providers),{},(0,u.Z)({},e,t))}}))}));var a={};return o.props.providers.forEach((function(e){a[e]=void 0})),o.state={providers:a},o}return(0,o.Z)(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.providers,r=t.providerFactory;n.forEach((function(t){r.subscribe(t,e.handleProvider)}))}},{key:"componentWillUnmount",value:function(){var e=this,t=this.props,n=t.providers,r=t.providerFactory;n.forEach((function(t){r.unsubscribe(t,e.handleProvider)}))}},{key:"render",value:function(){var e=this.state;return(0,this.props.renderNode)(e.providers)}}]),n}(n(2784).PureComponent);(0,u.Z)(f,"displayName","WithProviders")},53341:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r,o=n(86522),i=n(34795),a=n(68079);!function(e){e.FULFILLED="fulfilled",e.FAILED="failed"}(r||(r={}));var c=function(e){return e.status===r.FULFILLED},s=function(e){return{status:r.FULFILLED,value:e}},u=function(e){return{status:r.FAILED,reason:e}},l=function(e){return Promise.all(e.map((function(e){return e.then(s).catch(u)})))},d=function(e){var t=[];return new Promise((function(n,r){e.forEach((function(o){return o.then((function(e){if(null==e)throw new Error("Result was not found but the method didn't reject/throw. Please ensure that it doesn't return null or undefined.");n(e)})).catch((function(n){t.push(n),t.length===e.length&&r(n)}))}))}))},p=function(e){return e.filter(c).map((function(e){return e.value}))};function f(){f=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function h(){}function v(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,o.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}const h=function(e){if(0===e.length)throw new Error("At least one provider must be provided");var t=function(){var t=(0,i.Z)(f().mark((function t(){var n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e.map((function(e){return Promise.resolve(e)})));case 2:return n=t.sent,t.abrupt("return",p(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),n=function(){var e=(0,i.Z)(f().mark((function e(n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return e.abrupt("return",e.sent.map((function(e){return n(e)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(e,t){return function(n){var r=n[e];if("function"==typeof r)return r.apply(n,t);throw new Error('"'.concat(e,"\" isn't a function of the provider"))}},o=function(){var e=(0,i.Z)(f().mark((function e(t,o){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r(t,o),e.t0=d,e.next=4,n(i);case 4:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)(f().mark((function e(t,o){var i,c,s;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r(t,o),e.t0=l,e.next=4,n(i);case 4:return e.t1=e.sent,e.next=7,(0,e.t0)(e.t1);case 7:return c=e.sent,s=p(c),e.abrupt("return",(u=s,d=void 0,(d=[]).concat.apply(d,(0,a.Z)(u))).filter((function(e){return e})));case 10:case"end":return e.stop()}var u,d}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{invokeSingle:o,invokeList:c}}},6131:(e,t,n)=>{"use strict";n.d(t,{J:()=>u});var r=n(87371),o=n(9249),i=n(45754),a=n(11987),c=n(95058);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var u=function(e){(0,i.Z)(n,e);var t=s(n);function n(e){return(0,o.Z)(this,n),t.call(this,e)}return(0,r.Z)(n)}(n(16037).Plugin)},92264:(e,t,n)=>{"use strict";n.d(t,{MF:()=>r,WD:()=>m,i0:()=>v});var r,o=n(9249),i=n(87371),a=n(80753),c=n(45754),s=n(11987),u=n(95058),l=n(56666),d=n(75730),p=n(16037),f=n(73497);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}!function(e){e.LEFT="left",e.RIGHT="right"}(r||(r={}));var v="gapcursor",m=function(e){(0,c.Z)(n,e);var t=h(n);function n(e){var i,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.LEFT;return(0,o.Z)(this,n),i=t.call(this,e,e),(0,l.Z)((0,a.Z)(i),"visible",!1),i.side=c,i}return(0,i.Z)(n,[{key:"map",value:function(e,t){var r=e.resolve(t.map(this.head));return n.valid(r)?new n(r,this.side):p.Selection.near(r)}},{key:"eq",value:function(e){return e instanceof n&&e.head===this.head}},{key:"content",value:function(){return d.Slice.empty}},{key:"getBookmark",value:function(){return new g(this.anchor)}},{key:"toJSON",value:function(){return{pos:this.head,type:v,side:this.side}}}],[{key:"valid",value:function(e){var t=e.parent,n=e.nodeBefore,r=e.nodeAfter;if(!((0,f.w)(n)?n:(0,f.w)(r)?r:null)||t.isTextblock)return!1;var o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}},{key:"findFrom",value:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=1===t?r.RIGHT:r.LEFT;if(!o&&n.valid(e))return new n(e,i);for(var a=e.pos,c=null,s=e.depth;;s--){var u=e.node(s);if(i===r.RIGHT?e.indexAfter(s)<u.childCount:e.index(s)>0){c=u.maybeChild(i===r.RIGHT?e.indexAfter(s):e.index(s)-1);break}if(0===s)return null;a+=t;var l=e.doc.resolve(a);if(n.valid(l))return new n(l,i)}for(;null!==(c=i===r.RIGHT?c.firstChild:c.lastChild);){a+=t;var d=e.doc.resolve(a);if(n.valid(d))return new n(d,i)}return null}},{key:"fromJSON",value:function(e,t){return new n(e.resolve(t.pos),t.side)}}]),n}(p.Selection);p.Selection.jsonID(v,m);var g=function(){function e(t){(0,o.Z)(this,e),this.pos=t}return(0,i.Z)(e,[{key:"map",value:function(t){return new e(t.map(this.pos))}},{key:"resolve",value:function(e){var t=e.resolve(this.pos);return m.valid(t)?new m(t):p.Selection.near(t)}}]),e}()},8209:(e,t,n)=>{"use strict";n.d(t,{W:()=>o});var r=["paragraph","bulletList","orderedList","listItem","taskItem","decisionItem","heading","blockquote","layoutColumn","caption","media"],o=function(e){return!!e&&-1!==r.indexOf(e.type.name)}},73497:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(8209),o=function(e){return!!e&&!(0,r.W)(e)}},1282:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>p,_L:()=>f,qH:()=>d});var r,o,i,a=n(71171),c=n(28165),s=n(51595),u=n(36233),l="ak-editor-annotation",d={focus:"".concat(l,"-focus"),blur:"".concat(l,"-blur"),draft:"".concat(l,"-draft")},p=function(e){return{focus:(0,c.iv)(r||(r=(0,a.Z)(["\n    // Background is not coming through in confluence, suspecting to be caused by some specific combination of\n    // emotion and token look up\n\n    background: ",";\n    border-bottom: 2px solid\n      ",";\n    // TODO: https://product-fabric.atlassian.net/browse/DSP-4147\n    box-shadow: ",";\n    cursor: pointer;\n  "])),(0,u.Z)({light:"var(--ds-background-accent-yellow-subtler, ".concat(s.a8,")"),dark:"var(--ds-background-accent-yellow-subtler, ".concat("rgb(111, 92, 37)",")")})(e),(0,u.Z)({light:"var(--ds-border-accent-yellow, ".concat(s.Z3,")"),dark:"var(--ds-border-accent-yellow, ".concat("#ffd557",")")})(e),"var(--ds-shadow-overlay, ".concat("1px 2px 3px ".concat(s.VG,", -1px 2px 3px ").concat(s.VG),")")),blur:(0,c.iv)(o||(o=(0,a.Z)(["\n    background: ",";\n    border-bottom: 2px solid\n      ",";\n    cursor: pointer;\n  "])),(0,u.Z)({light:"var(--ds-background-accent-yellow-subtlest, ".concat("rgba(255, 240, 179, 0.5)",")"),dark:"var(--ds-background-accent-yellow-subtlest, ".concat("rgba(111, 92, 37, 0.5)",")")})(e),(0,u.Z)({light:"var(--ds-border-accent-yellow, ".concat("rgba(255, 196, 0, 0.82)",")"),dark:"var(--ds-border-accent-yellow, ".concat("#82641c",")")})(e))}},f=function(e){return(0,c.iv)(i||(i=(0,a.Z)(["\n  .ProseMirror {\n    ."," {\n      ",";\n    }\n\n    ."," {\n      ",";\n      cursor: initial;\n    }\n\n    ."," {\n      ",";\n    }\n  }\n"])),d.focus,p(e).focus,d.draft,p(e).focus,d.blur,p(e).blur)}},57522:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r,o=n(71171),i=(0,n(28165).iv)(r||(r=(0,o.Z)(["\n  /**\n   * We need to remove margin-top from first item\n   * inside doc, tableCell, tableHeader, blockquote, etc.\n   */\n  *:not(.fabric-editor-block-mark) >,\n  /* For nested block marks apart from those with indentation mark */\n  *:not(.fabric-editor-block-mark) >\n    div.fabric-editor-block-mark:first-of-type\n    /* Do not remove the margin top for nodes inside indentation marks */\n      :not(.fabric-editor-indentation-mark)\n    /* Do not remove the margin top for nodes inside alignment marks */\n      :not(.fabric-editor-alignment),\n  // If first element inside a block node has alignment mark, then remove the margin-top\n  .fabric-editor-alignment:first-of-type:first-child,\n  // If first document element has indentation mark remove margin-top\n  .ProseMirror .fabric-editor-indentation-mark:first-of-type:first-child {\n    p,\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6,\n    .heading-wrapper {\n      :first-child:not(style),\n      style:first-child + * {\n        margin-top: 0;\n      }\n    }\n  }\n"])))},67543:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var r,o=n(71171),i=n(28165),a=n(8357),c=n(56298),s=(0,i.iv)(r||(r=(0,o.Z)(["\n  & blockquote {\n    box-sizing: border-box;\n    padding-left: ","px;\n    border-left: 2px solid\n      ",";\n    margin: "," 0 0 0;\n    margin-right: 0;\n\n    [dir='rtl'] & {\n      padding-left: 0;\n      padding-right: ","px;\n    }\n\n    &:first-child {\n      margin-top: 0;\n    }\n\n    &::before {\n      content: '';\n    }\n\n    &::after {\n      content: none;\n    }\n\n    & p {\n      display: block;\n    }\n\n    & table,\n    & table:last-child {\n      display: inline-table;\n    }\n  }\n"])),2*(0,c.ww)(),"var(--ds-border, ".concat(a.DT,")"),a.zH,2*(0,c.ww)())},90105:(e,t,n)=>{"use strict";n.d(t,{AG:()=>h,Hk:()=>f,zq:()=>p});var r,o,i=n(71171),a=n(28165),c=n(8357),s=n(75363),u=n(51595),l=n(36233),d=n(56298),p={CODEBLOCK_CONTAINER:"code-block",CODEBLOCK_START:"code-block--start",CODEBLOCK_END:"code-block--end",CODEBLOCK_CONTENT_WRAPPER:"code-block-content-wrapper",CODEBLOCK_LINE_NUMBER_GUTTER:"line-number-gutter",CODEBLOCK_CONTENT:"code-content",DS_CODEBLOCK:"[data-ds--code--code-block]"},f=function(e){return(0,a.iv)(r||(r=(0,i.Z)(["\n  ."," {\n    position: relative;\n    background-color: ",";\n    border-radius: ","px;\n    margin: "," 0 0 0;\n    font-family: ",";\n    min-width: ","px;\n    cursor: pointer;\n\n    --ds--code--bg-color: transparent;\n\n    /* This is necessary to allow for arrow key navigation in/out of code blocks in Firefox. */\n    white-space: normal;\n\n    ."," {\n      position: absolute;\n      visibility: hidden;\n      height: 1.5rem;\n      top: 0px;\n      left: 0px;\n    }\n\n    ."," {\n      position: absolute;\n      visibility: hidden;\n      height: 1.5rem;\n      bottom: 0px;\n      right: 0px;\n    }\n\n    ."," {\n      background-color: ",";\n      display: flex;\n      border-radius: ","px;\n      width: 100%;\n      counter-reset: line;\n      overflow-x: auto;\n\n      background-image: ",";\n\n      background-repeat: no-repeat;\n      background-attachment: local, local, local, local, scroll, scroll, scroll,\n        scroll;\n      background-size: ","px 100%, ","px 100%,\n        ","px 100%, ","px 100%, ","px 100%,\n        1px 100%, ","px 100%, 1px 100%;\n      background-position: 0 0, 0 0, 100% 0, 100% 0, 100% 0, 100% 0, 0 0, 0 0;\n\n      /* Be careful if refactoring this; it is needed to keep arrow key navigation in Firefox consistent with other browsers. */\n      overflow-y: hidden;\n    }\n\n    ."," {\n      flex-shrink: 0;\n      text-align: right;\n      background-color: ",";\n      padding: ","px;\n      position: relative;\n\n      span {\n        display: block;\n        line-height: 0;\n        font-size: 0;\n\n        ::before {\n          display: inline-block;\n          content: counter(line);\n          counter-increment: line;\n          color: ",";\n          font-size: ",";\n          line-height: 1.5rem;\n        }\n      }\n    }\n\n    ."," {\n      display: flex;\n      flex: 1;\n\n      code {\n        flex-grow: 1;\n        tab-size: 4;\n        cursor: text;\n        color: ",";\n        border-radius: ","px;\n        margin: ","px;\n        white-space: pre;\n        font-size: ",";\n        line-height: 1.5rem;\n      }\n    }\n  }\n"])),p.CODEBLOCK_CONTAINER,"var(--ds-surface-raised, transparent)",(0,d.E0)(),c.zH,c.zd,c.cw,p.CODEBLOCK_START,p.CODEBLOCK_END,p.CODEBLOCK_CONTENT_WRAPPER,(0,l.Z)({light:"var(--ds-background-neutral, ".concat(u.IR,")"),dark:"var(--ds-background-neutral, ".concat(u.H8,")")})(e),(0,d.E0)(),(0,s.u)({background:(0,l.Z)({light:"var(--ds-background-neutral, ".concat(u.IR,")"),dark:"var(--ds-background-neutral, ".concat(u.H8,")")})(e),leftCoverWidth:"".concat(3*(0,d.ww)(),"px")}),3*(0,d.ww)(),3*(0,d.ww)(),(0,d.ww)(),(0,d.ww)(),(0,d.ww)(),(0,d.ww)(),p.CODEBLOCK_LINE_NUMBER_GUTTER,(0,l.Z)({light:"var(--ds-background-neutral, ".concat(u.gt,")"),dark:"var(--ds-background-neutral, ".concat(u.JV,")")})(e),(0,d.ww)(),(0,l.Z)({light:"var(--ds-text-subtlest, ".concat(u.zN,")"),dark:"var(--ds-text-subtlest, ".concat(u.oe,")")})(e),(0,c.Gh)((0,d.JB)()),p.CODEBLOCK_CONTENT,(0,l.Z)({light:"var(--ds-text, ".concat(u.q2,")"),dark:"var(--ds-text, ".concat(u.vs,")")})(e),(0,d.E0)(),(0,d.ww)(),(0,c.Gh)((0,d.JB)()))},h=(0,a.iv)(o||(o=(0,i.Z)(["\n  ::before {\n    content: ' ';\n    line-height: ",";\n  }\n\n  > p:first-child,\n  > .code-block:first-child,\n  > .ProseMirror-gapcursor:first-child + .code-block {\n    margin-top: -","em !important;\n  }\n"])),c.pt,c.pt)},94612:(e,t,n)=>{"use strict";n.d(t,{V:()=>l});var r,o=n(71171),i=n(28165),a=n(81208),c=n(51595),s=n(77210),u=n(36233),l=function(e){var t=(0,s.Z)(e);return(0,i.iv)(r||(r=(0,o.Z)(["\n    .code {\n      --ds--code--bg-color: ",";\n      ","\n    }\n  "])),(0,u.Z)({light:"var(--ds-background-neutral, ".concat(c.kd,")"),dark:"var(--ds-background-neutral, ".concat(c.nA,")")})(e),(0,a.HX)(t))}},39378:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var r,o=n(71171),i=n(28165),a=n(8357),c=(0,i.iv)(r||(r=(0,o.Z)(["\n  [data-layout-section] {\n    position: relative;\n    display: flex;\n    flex-direction: row;\n    & > * {\n      flex: 1;\n      min-width: 0;\n    }\n\n    & > .unsupportedBlockView-content-wrap {\n      min-width: initial;\n    }\n\n    @media screen and (max-width: ","px) {\n      flex-direction: column;\n    }\n  }\n"])),a.Kv)},30467:(e,t,n)=>{"use strict";n.d(t,{B:()=>c,r:()=>a});var r,o=n(71171),i=n(28165),a={DATE_WRAPPER:"date-lozenger-container",DATE_CONTAINER:"dateView-content-wrap"},c=(0,i.iv)(r||(r=(0,o.Z)(["\n  ."," span {\n    white-space: unset;\n  }\n"])),a.DATE_WRAPPER)},26410:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var r,o=n(71171),i=n(28165),a=n(68013),c=function(e){return(0,i.iv)(r||(r=(0,o.Z)(["\n  & h1 {\n    ",";\n    margin-bottom: 0;\n    margin-top: 1.667em;\n  }\n\n  & h2 {\n    ",";\n    margin-top: 1.8em;\n    margin-bottom: 0;\n  }\n\n  & h3 {\n    ",";\n    margin-top: 2em;\n    margin-bottom: 0;\n  }\n\n  & h4 {\n    ",";\n    margin-top: 1.357em;\n  }\n\n  & h5 {\n    ",";\n    margin-top: 1.667em;\n    text-transform: none;\n  }\n\n  & h6 {\n    ",";\n    margin-top: 1.455em;\n    text-transform: none;\n  }\n"])),(0,a.pp)(e),(0,a.lL)(e),(0,a.uU)(e),(0,a.AC)(e),(0,a.qm)(e),(0,a.Mf)(e))}},14883:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r,o=n(71171),i=(0,n(28165).iv)(r||(r=(0,o.Z)(["\n  .fabric-editor-indentation-mark {\n    &[data-level='1'] {\n      margin-left: 30px;\n    }\n    &[data-level='2'] {\n      margin-left: 60px;\n    }\n    &[data-level='3'] {\n      margin-left: 90px;\n    }\n    &[data-level='4'] {\n      margin-left: 120px;\n    }\n    &[data-level='5'] {\n      margin-left: 150px;\n    }\n    &[data-level='6'] {\n      margin-left: 180px;\n    }\n  }\n"])))},89012:(e,t,n)=>{"use strict";n.d(t,{U:()=>o,r:()=>i});var r=n(56298),o=(0,r.ww)(),i=1.5*(0,r.ww)()},79179:(e,t,n)=>{"use strict";n.d(t,{Xo:()=>m,aP:()=>v,cm:()=>p});var r,o,i=n(71171),a=n(56666),c=n(96234),s=n(28165),u=n(5956),l=n(50165),d=n(3493),p=24;!function(e){e.ITEM_COUNTER_PADDING="--ed--list--item-counter--padding"}(o||(o={}));var f=function(e){var t="2.385ch";if(e>=3){t="calc(".concat(e+1,"ch - ").concat(2,"px)")}return t},h=function(e){return Object.entries(e).reduce((function(e,t){var n=(0,c.Z)(t,2),r=n[0],o=n[1];return"".concat(e).concat(r,":").concat(o,";")}),"")};function v(e,t){var n=(0,a.Z)({},o.ITEM_COUNTER_PADDING,f(e));return"string"===t?h(n):n}var m=(0,s.iv)(r||(r=(0,i.Z)(["\n  /* =============== INDENTATION SPACING ========= */\n\n  ul,\n  ol {\n    box-sizing: border-box;\n    padding-left: var(\n      ",",\n      ","px\n    );\n\n    /*\n    Firefox does not handle empty block element inside li tag.\n    If there is not block element inside li tag,\n      then firefox sets inherited height to li\n    However, if there is any block element and if it's empty\n      (or has empty inline element) then\n    firefox sets li tag height to zero.\n    More details at\n    https://product-fabric.atlassian.net/wiki/spaces/~455502413/pages/3149365890/ED-14110+Investigation\n    */\n    li p:empty,\n    li p > span:empty {\n      ","\n    }\n  }\n\n  ",", "," {\n    /*\n      Ensures list item content adheres to the list's margin instead\n      of filling the entire block row. This is important to allow\n      clicking interactive elements which are floated next to a list.\n\n      For some history and context on this block, see PRs related to tickets.:\n      @see ED-6551 - original issue.\n      @see ED-7015 - follow up issue.\n      @see ED-7447 - flow-root change.\n\n      We use 'display: table' (old clear fix / new block formatting context hack)\n      for older browsers and 'flow-root' for modern browsers.\n\n      @see https://css-tricks.com/display-flow-root/\n    */\n    // For older browsers the do not support flow-root.\n    /* stylelint-disable declaration-block-no-duplicate-properties */\n    display: table;\n    display: flow-root;\n    /* stylelint-enable declaration-block-no-duplicate-properties */\n  }\n\n  /* =============== INDENTATION AESTHETICS ========= */\n\n  /**\n        We support nested lists up to six levels deep.\n    **/\n\n  /* LEGACY LISTS */\n\n  ul,\n  ul ul ul ul {\n    list-style-type: disc;\n  }\n\n  ul ul,\n  ul ul ul ul ul {\n    list-style-type: circle;\n  }\n\n  ul ul ul,\n  ul ul ul ul ul ul {\n    list-style-type: square;\n  }\n\n  ol,\n  ol ol ol ol {\n    list-style-type: decimal;\n  }\n  ol ol,\n  ol ol ol ol ol {\n    list-style-type: lower-alpha;\n  }\n  ol ol ol,\n  ol ol ol ol ol ol {\n    list-style-type: lower-roman;\n  }\n\n  /* PREDICTABLE LISTS */\n\n  ol[data-indent-level='1'],\n  ol[data-indent-level='4'] {\n    list-style-type: decimal;\n  }\n\n  ol[data-indent-level='2'],\n  ol[data-indent-level='5'] {\n    list-style-type: lower-alpha;\n  }\n\n  ol[data-indent-level='3'],\n  ol[data-indent-level='6'] {\n    list-style-type: lower-roman;\n  }\n\n  ul[data-indent-level='1'],\n  ul[data-indent-level='4'] {\n    list-style-type: disc;\n  }\n\n  ul[data-indent-level='2'],\n  ul[data-indent-level='5'] {\n    list-style-type: circle;\n  }\n\n  ul[data-indent-level='3'],\n  ul[data-indent-level='6'] {\n    list-style-type: square;\n  }\n"])),o.ITEM_COUNTER_PADDING,p,d.Z.gecko?"display: inline-block;":"",u.Us,l.T)},29875:(e,t,n)=>{"use strict";n.d(t,{G:()=>c,I:()=>a});var r,o=n(71171),i=n(28165),a="rich-media-item",c=(0,i.iv)(r||(r=(0,o.Z)(["\n  li ."," {\n    margin: 0;\n  }\n\n  /* Hack for chrome to fix media single position\n     inside a list when media is the first child */\n  &.ua-chrome li > .mediaSingleView-content-wrap::before {\n    content: '';\n    display: block;\n    height: 0;\n  }\n\n  &.ua-firefox {\n    .mediaSingleView-content-wrap {\n      user-select: none;\n    }\n\n    .captionView-content-wrap {\n      user-select: text;\n    }\n  }\n\n  .mediaSingleView-content-wrap[layout='center'] {\n    clear: both;\n  }\n\n  table ."," {\n    margin-top: 12px;\n    margin-bottom: 12px;\n    clear: both;\n\n    &.image-wrap-left,\n    &.image-wrap-right {\n      clear: none;\n\n      &:first-child {\n        margin-top: 12px;\n      }\n    }\n  }\n\n  .",".image-wrap-right\n    + .",".image-wrap-left {\n    clear: both;\n  }\n\n  .",".image-wrap-left\n    + .",".image-wrap-right,\n    .",".image-wrap-right\n    + .",".image-wrap-left,\n    .",".image-wrap-left\n    + .",".image-wrap-left,\n    .",".image-wrap-right\n    + .",".image-wrap-right {\n    margin-right: 0;\n    margin-left: 0;\n  }\n\n  @media all and (max-width: ","px) {\n    div.mediaSingleView-content-wrap[layout='wrap-left'],\n    div.mediaSingleView-content-wrap[data-layout='wrap-left'],\n    div.mediaSingleView-content-wrap[layout='wrap-right'],\n    div.mediaSingleView-content-wrap[data-layout='wrap-right'] {\n      float: none;\n      overflow: auto;\n      margin: 12px 0;\n    }\n  }\n"])),a,a,a,a,a,a,a,a,a,a,a,a,410)},63869:(e,t,n)=>{"use strict";n.d(t,{H4:()=>_,K8:()=>P,LQ:()=>m,Ox:()=>x,dy:()=>T,sp:()=>S});var r,o,i=n(71171),a=n(96234),c=n(28165),s=n(33874),u=n(14413),l=n(8357),d=n(55339),p=n(51595),f=n(36233),h=n(56298),v={info:p.BA,note:p.jJ,tip:p.ER,success:p.ER,warning:p.S_,error:p.r6},m={info:"#0C294F",error:"#441C13",warning:"#413001",tip:"#052E21",success:"#052E21",note:"#282249",R900:"#601D16",R100S:"#FFEFEB",R300S:"#FFB5A3",R500S:"#FF6B47",R800S:"#C4320E",R1200S:"#441C13",Y900:"#533F04",Y100S:"#FFF3D1",Y300S:"#FFDC7A",Y500S:"#FFC933",Y800S:"#D8A003",Y1200S:"#413001",G900:"#164B35",G100S:"#E3FCF0",G300S:"#95EEC5",G400S:"#60DCA8",G900S:"#086848",G1200S:"#052E21",B900:"#09326C",B100S:"#E5F0FF",B300S:"#A3C9FF",B500S:"#4794FF",B800S:"#0055CC",B1200S:"#0C294F",P900:"#352C63",P100S:"#EEEBFF",P300S:"#CCC3FE",P500S:"#A292F7",P800S:"#5E49CA",P1200S:"#282249",T900:"#1D474C",T100S:"#DBFAFF",T300S:"#78EBFC",T400S:"#3AD6EE",T900S:"#056270",T1200S:"#0B3037",DarkGray:"#161A1D",Gray:"#2C333A",LightGray:"#5A6977",TextColor:"#D9DDE3"},g={info:"var(--ds-icon-information, ".concat(p.AX,")"),note:"var(--ds-icon-discovery, ".concat(p.HD,")"),tip:"var(--ds-icon-success, ".concat(p.ak,")"),success:"var(--ds-icon-success, ".concat(p.ak,")"),warning:"var(--ds-icon-warning, ".concat(p.jC,")"),error:"var(--ds-icon-danger, ".concat(p.$H,")")},y={info:"var(--ds-icon-information, ".concat(p.vP,")"),note:"var(--ds-icon-discovery, ".concat(p.Vi,")"),tip:"var(--ds-icon-success, ".concat(p.T5,")"),success:"var(--ds-icon-success, ".concat(p.T5,")"),warning:"var(--ds-icon-warning, ".concat(p.ii,")"),error:"var(--ds-icon-danger, ".concat(p.Zk,")")},b={info:"var(--ds-background-information, ".concat(m.info,")"),note:"var(--ds-background-discovery, ".concat(m.note,")"),tip:"var(--ds-background-success, ".concat(m.tip,")"),success:"var(--ds-background-success, ".concat(m.success,")"),warning:"var(--ds-background-warning, ".concat(m.warning,")"),error:"var(--ds-background-danger, ".concat(m.error,")")},w=-(3*(0,h.ww)()-l.qv)/2,k=w-1,E=[[p.BA,m.B1200S],[p.tE,m.B900],[p.vP,m.B800S],[p.N0,m.LightGray],[p.IR,m.Gray],[p.ip,m.DarkGray],[p.u7,m.T1200S],[p.Xl,m.T900],[p.N_,m.T900S],[p.ER,m.G1200S],[p.RY,m.G900],[p.T5,m.G900S],[p.S_,m.Y1200S],[p.a8,m.Y900],[p.cS,m.Y800S],[p.r6,m.R1200S],[p.Xd,m.R900],[p.S5,m.R800S],[p.jJ,m.P1200S],[p.kJ,m.P900],[p.Vi,m.P800S]],x=E.map((function(e){var t=(0,a.Z)(e,2);return function(e,t){return'\n  &[data-panel-color="'.concat(e,'"] {\n    background-color: ').concat(t," !important; // !important to override default style color\n    color: ").concat(m.TextColor,";\n  }\n  ")}(t[0],t[1])})).join("\n");var O="ak-editor-panel",S={prefix:O,content:"".concat(O,"__content"),icon:"".concat(O,"__icon")},C=(".".concat(O,"[data-panel-type=").concat(s.w.INFO,"]"),".".concat(O,"[data-panel-type=").concat(s.w.NOTE,"]"),".".concat(O,"[data-panel-type=").concat(s.w.WARNING,"]"),".".concat(O,"[data-panel-type=").concat(s.w.ERROR,"]"),".".concat(O,"[data-panel-type=").concat(s.w.SUCCESS,"]"),function(e){return function(t){var n=g[e],r=y[e],o=(0,f.Z)({light:n,dark:r})(t);return"\n    color: ".concat(o,";\n  ")}}),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=v[e],r=m[e];return(0,f.Z)({light:n,dark:r})(t)||"none"},A=function(e){return function(t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,u.ES)(v[e]),r=b[e];return(0,f.Z)({light:n,dark:r})(t)||"none"}(e,t),r=(0,f.Z)({light:"inherit",dark:m.TextColor})(t);return"\n    background-color: ".concat(n,";\n    color: ").concat(r,";\n  ")}},_=function(e){return(0,c.iv)(r||(r=(0,i.Z)(["\n  border-radius: ","px;\n  margin: "," 0 0;\n  padding: ","px;\n  min-width: ","px;\n  display: flex;\n  position: relative;\n  align-items: baseline;\n  word-break: break-word;\n\n  ","\n\n  ."," {\n    flex-shrink: 0;\n    height: ","px;\n    width: ","px;\n    box-sizing: content-box;\n    padding-right: ","px;\n    text-align: center;\n    user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    ","\n\n    > span {\n      vertical-align: middle;\n      display: inline-flex;\n    }\n\n    ."," {\n      vertical-align: ","px;\n    }\n\n    ."," {\n      vertical-align: ","px;\n\n      // Vertical align only works for inline-block elements in Firefox\n      @-moz-document url-prefix() {\n        img {\n          display: inline-block;\n        }\n      }\n    }\n  }\n\n  .ak-editor-panel__content {\n    margin: 1px 0 1px;\n    flex: 1 0 0;\n    /*\n      https://ishadeed.com/article/min-max-css/#setting-min-width-to-zero-with-flexbox\n      The default value for min-width is auto, which is computed to zero. When an element is a flex item, the value of min-width doesn’t compute to zero. The minimum size of a flex item is equal to the size of its contents.\n    */\n    min-width: 0;\n  }\n\n  &[data-panel-type='","'] {\n    ","\n\n    ."," {\n      ","\n    }\n  }\n\n  &[data-panel-type='","'] {\n    ","\n\n    ."," {\n      ","\n    }\n  }\n\n  &[data-panel-type='","'] {\n    ","\n\n    ."," {\n      ","\n    }\n  }\n\n  &[data-panel-type='","'] {\n    ","\n\n    ."," {\n      ","\n    }\n  }\n\n  &[data-panel-type='","'] {\n    ","\n\n    ."," {\n      ","\n    }\n  }\n\n  &[data-panel-type='","'] {\n    ",";\n  }\n"])),(0,h.E0)(),l.zH,(0,h.ww)(),l.cw,A(s.w.INFO)(e),S.icon,3*(0,h.ww)(),3*(0,h.ww)(),(0,h.ww)(),C(s.w.INFO)(e),d.Lc,w,d.rZ,k,s.w.NOTE,A(s.w.NOTE)(e),S.icon,C(s.w.NOTE)(e),s.w.TIP,A(s.w.TIP)(e),S.icon,C(s.w.TIP)(e),s.w.WARNING,A(s.w.WARNING)(e),S.icon,C(s.w.WARNING)(e),s.w.ERROR,A(s.w.ERROR)(e),S.icon,C(s.w.ERROR)(e),s.w.SUCCESS,A(s.w.SUCCESS)(e),S.icon,C(s.w.SUCCESS)(e),s.w.CUSTOM,(0,f.Z)({dark:x})(e))},P=function(e){return(0,c.iv)(o||(o=(0,i.Z)(["\n  ."," {\n    ","\n  }\n"])),S.prefix,_(e))}},21987:(e,t,n)=>{"use strict";n.d(t,{o:()=>c});var r,o=n(71171),i=n(28165),a=n(8357),c=(0,i.iv)(r||(r=(0,o.Z)(["\n  & p {\n    font-size: 1em;\n    line-height: ",";\n    font-weight: normal;\n    margin-top: ",";\n    margin-bottom: 0;\n    letter-spacing: -0.005em;\n  }\n"])),a.pt,a.zH)},87119:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r,o=n(71171),i=n(28165),a=n(8357),c=n(51595),s=(0,n(36233).Z)({light:"var(--ds-border, ".concat(c.kd,")"),dark:"var(--ds-border, ".concat(c.H8,")")}),u=function(e){return(0,i.iv)(r||(r=(0,o.Z)(["\n  & hr {\n    border: none;\n    background-color: ",";\n    margin: ","em 0;\n    height: 2px;\n    border-radius: 1px;\n  }\n"])),s(e),a.pt)}},42427:(e,t,n)=>{"use strict";n.d(t,{B:()=>l});var r,o=n(71171),i=n(28165),a=n(8357),c=n(51595),s=n(77048),u=n(48998),l=(0,i.iv)(r||(r=(0,o.Z)(["\n  &\n    .","::before,\n    .","::after,\n    .","::before,\n    .","::after {\n    display: none;\n    position: absolute;\n    pointer-events: none;\n    z-index: ",";\n    width: ","px;\n    content: '';\n    /* Scrollbar is outside the content in IE, inset in other browsers. */\n    height: calc(100%);\n  }\n\n  & .",", ."," {\n    position: relative;\n  }\n\n  & .","::before {\n    background: linear-gradient(\n        to left,\n        transparent 0,\n        "," 100%\n      ),\n      linear-gradient(\n        to right,\n        "," 0px,\n        transparent 1px\n      );\n    top: 0px;\n    left: 0;\n    display: block;\n  }\n\n  & .","::after {\n    background: linear-gradient(\n        to right,\n        transparent 0,\n        "," 100%\n      ),\n      linear-gradient(\n        to left,\n        "," 0px,\n        transparent 1px\n      );\n    left: calc(100% - ","px);\n    top: 0px;\n    display: block;\n  }\n\n  & ."," {\n    height: 100%;\n    width: 0px;\n    min-width: 0px;\n  }\n\n  & ."," {\n    height: 100%;\n    width: 0px;\n    min-width: 0px;\n  }\n"])),s.$.RIGHT_SHADOW,s.$.RIGHT_SHADOW,s.$.LEFT_SHADOW,s.$.LEFT_SHADOW,a.yV,8,s.$.RIGHT_SHADOW,s.$.LEFT_SHADOW,s.$.LEFT_SHADOW,"var(--ds-shadow-overflow-spread, ".concat(c.bt,")"),"var(--ds-shadow-overflow-perimeter, transparent)",s.$.RIGHT_SHADOW,"var(--ds-shadow-overflow-spread, ".concat(c.bt,")"),"var(--ds-shadow-overflow-perimeter, transparent)",8,u.S4.SENTINEL_LEFT,u.S4.SENTINEL_RIGHT)},80015:(e,t,n)=>{"use strict";n.d(t,{U:()=>a,j:()=>i});var r=n(8357),o=n(56298),i={INLINE_CARD_CONTAINER:"inlineCardView-content-wrap",BLOCK_CARD_CONTAINER:"blockCardView-content-wrap",EMBED_CARD_CONTAINER:"embedCardView-content-wrap",LOADER_WRAPPER:"loader-wrapper"},a="\n  .".concat(i.BLOCK_CARD_CONTAINER," {\n    display: block;\n    margin: ").concat(r.zH," 0 0;\n    max-width: ").concat(95*(0,o.ww)(),"px;\n  }\n")},44683:(e,t,n)=>{"use strict";n.d(t,{Up:()=>O,WM:()=>C,Ok:()=>E,kB:()=>w,uq:()=>x,w0:()=>b,MZ:()=>g,tB:()=>y,Xf:()=>k,nP:()=>S});var r,o,i=n(71171),a=n(28165),c=n(43726),s=n(8357),u=n(75363),l=n(51595),d=n(36233),p=n(56298),f=n(3493),h=n(90105),v=n(14413),m=function(){return(0,a.iv)(r||(r=(0,i.Z)(["\n  ","\n"])),(e="",c.XX.forEach((function(t,n){var r=(0,v.ES)(t);r&&(e+="\n        td[colorname='".concat(n,"' i],\n        th[colorname='").concat(n,"' i] {\n          background-color: ").concat(r," !important;\n        }\n      "))})),e));var e},g=24,y=14,b=8,w=48,k=140,E=1,x=8,O={TABLE_CONTAINER:"".concat(c.Yf,"-container"),TABLE_NODE_WRAPPER:"".concat(c.Yf,"-wrapper"),TABLE_LEFT_SHADOW:"".concat(c.Yf,"-with-left-shadow"),TABLE_RIGHT_SHADOW:"".concat(c.Yf,"-with-right-shadow"),TABLE_STICKY_SHADOW:"".concat(c.Yf,"-sticky-shadow"),TABLE_STICKY_WRAPPER:"".concat(c.Yf,"-sticky-wrapper"),TABLE_STICKY_SENTINEL_TOP:"".concat(c.Yf,"-sticky-sentinel-top"),TABLE_STICKY_SENTINEL_BOTTOM:"".concat(c.Yf,"-sticky-sentinel-bottom"),TABLE_SHADOW_SENTINEL_LEFT:"".concat(c.Yf,"-shadow-sentinel-left"),TABLE_SHADOW_SENTINEL_RIGHT:"".concat(c.Yf,"-shadow-sentinel-right"),TABLE_CELL_NODEVIEW_CONTENT_DOM:c.Z4,TABLE_CELL_WRAPPER:c.fY,TABLE_HEADER_CELL_WRAPPER:c.Vz,TABLE_ROW_CONTROLS_WRAPPER:"".concat(c.Yf,"-row-controls-wrapper"),TABLE_COLUMN_CONTROLS_DECORATIONS:"".concat(c.Yf,"-column-controls-decoration")},S=function(e){return(0,a.iv)(o||(o=(0,i.Z)(["\n  ","\n  ."," {\n    position: relative;\n    margin: 0 auto ","px;\n    box-sizing: border-box;\n\n    /**\n     * Fix block top alignment inside table cells.\n     */\n    .decisionItemView-content-wrap:first-of-type > div {\n      margin-top: 0;\n    }\n  }\n  .","[data-number-column='true'] {\n    padding-left: ","px;\n    clear: both;\n  }\n  ."," > table {\n    margin: ","px 0 0 0;\n  }\n\n  ."," > table,\n  ."," > table {\n    margin: ","px ","px 0 0;\n  }\n\n  /* avoid applying styles to nested tables (possible via extensions) */\n  ."," > table,\n  ."," > table,\n  ."," > table {\n    border-collapse: collapse;\n    border: ","px solid\n      ",";\n    table-layout: fixed;\n    font-size: 1em;\n    width: 100%;\n\n    &[data-autosize='true'] {\n      table-layout: auto;\n    }\n\n    & {\n      * {\n        box-sizing: border-box;\n      }\n      hr {\n        box-sizing: content-box;\n      }\n\n      tbody {\n        border-bottom: none;\n      }\n      th td {\n        background-color: ",";\n      }\n      th,\n      td {\n        min-width: ","px;\n        font-weight: normal;\n        vertical-align: top;\n        border: 1px solid\n          ",";\n        border-right-width: 0;\n        border-bottom-width: 0;\n        padding: ","px;\n        /* https://stackoverflow.com/questions/7517127/borders-not-shown-in-firefox-with-border-collapse-on-table-position-relative-o */\n        ","\n\n        ",";\n\n        > :first-child:not(style),\n        > style:first-child + * {\n          margin-top: 0;\n        }\n\n        > .ProseMirror-gapcursor:first-child + *,\n        > style:first-child + .ProseMirror-gapcursor + * {\n          margin-top: 0;\n        }\n\n        > .ProseMirror-gapcursor:first-child + span + *,\n        > style:first-child + .ProseMirror-gapcursor + span + * {\n          margin-top: 0;\n        }\n\n        th p:not(:first-of-type),\n        td p:not(:first-of-type) {\n          margin-top: 12px;\n        }\n      }\n      th {\n        background-color: ",";\n        text-align: left;\n\n        /* only apply this styling to codeblocks in default background headercells */\n        /* TODO this needs to be overhauled as it relies on unsafe selectors */\n        &:not([style]):not(.danger) {\n          .",":not(.danger) {\n            background-color: ",";\n\n            :not(.",") {\n              box-shadow: 0px 0px 0px 1px\n                ",";\n            }\n\n            ."," {\n              background-image: ",";\n\n              background-color: ",";\n            }\n\n            ."," {\n              background-color: ",";\n            }\n\n            /* this is only relevant to the element taken care of by renderer */\n            > [data-ds--code--code-block] {\n              background-image: ","!important;\n\n              background-color: ","!important;\n\n              // selector lives inside @atlaskit/code\n              --ds--code--line-number-bg-color: ",";\n            }\n          }\n        }\n      }\n    }\n  }\n"])),m(),O.TABLE_CONTAINER,16,O.TABLE_CONTAINER,s.XV-1,O.TABLE_NODE_WRAPPER,g,O.TABLE_CONTAINER,O.TABLE_STICKY_WRAPPER,g,b,O.TABLE_CONTAINER,O.TABLE_NODE_WRAPPER,O.TABLE_STICKY_WRAPPER,E,(0,d.Z)({light:"var(--ds-border, ".concat(s.aX,")"),dark:"var(--ds-border, ".concat(s.Q9,")")})(e),"var(--ds-background-neutral-subtle, white)",w,(0,d.Z)({light:"var(--ds-border, ".concat(s.aX,")"),dark:"var(--ds-border, ".concat(s.Q9,")")})(e),x,f.Z.gecko||f.Z.ie||f.Z.mac&&f.Z.chrome?"background-clip: padding-box;":"",(0,d.Z)({dark:s.GT})(e),(0,d.Z)({light:"var(--ds-background-neutral, ".concat(s.Zs,")"),dark:"var(--ds-background-neutral, ".concat(s.SX,")")})(e),h.zq.CODEBLOCK_CONTAINER,(0,d.Z)({light:"var(--ds-surface-raised, rgb(235, 237, 240))",dark:"var(--ds-surface-raised, rgb(36, 47, 66))"})(e),s.ur,"var(--ds-border, transparent)",h.zq.CODEBLOCK_CONTENT_WRAPPER,(0,u.u)({background:(0,d.Z)({light:"var(--ds-background-neutral, rgb(235, 237, 240))",dark:"var(--ds-background-neutral, rgb(36, 47, 66))"})(e),leftCoverWidth:"".concat(3*(0,p.ww)(),"px")}),(0,d.Z)({light:"var(--ds-background-neutral, rgb(235, 237, 240))",dark:"var(--ds-background-neutral, rgb(36, 47, 66))"})(e),h.zq.CODEBLOCK_LINE_NUMBER_GUTTER,(0,d.Z)({light:"var(--ds-background-neutral, rgb(226, 229, 233))",dark:"var(--ds-background-neutral, ".concat(l.JV,")")})(e),(0,u.u)({background:(0,d.Z)({light:"var(--ds-background-neutral, rgb(235, 237, 240))",dark:"var(--ds-background-neutral, rgb(36, 47, 66))"})(e),leftCoverWidth:"".concat(3*(0,p.ww)(),"px")}),(0,d.Z)({light:"var(--ds-background-neutral, rgb(235, 237, 240))",dark:"var(--ds-background-neutral, rgb(36, 47, 66))"})(e),(0,d.Z)({light:"var(--ds-background-neutral, rgb(226, 229, 233))",dark:"var(--ds-background-neutral, ".concat(l.JV,")")})(e))},C=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e){case"full-width":return"".concat(t?Math.min(t-(n?s._2:0),s.zJ):s.zJ,"px");case"wide":return"".concat(t?Math.min(t-(n?s._2:0),s.uz):s.uz,"px");default:return"inherit"}}},36032:(e,t,n)=>{"use strict";n.d(t,{L:()=>s,o:()=>c});var r,o=n(71171),i=n(28165),a=n(8357),c={DECISION_CONTAINER:"decisionItemView-content-wrap"},s=(0,i.iv)(r||(r=(0,o.Z)(["\n  .ProseMirror {\n    .taskItemView-content-wrap,\n    ."," {\n      position: relative;\n      min-width: ","px;\n    }\n\n    ."," {\n      margin-top: 0;\n    }\n  }\n\n  div[data-task-list-local-id] {\n    margin: 12px 0 0 0;\n  }\n\n  // If task list is first in the document then set margin top to zero.\n  div[data-task-list-local-id]:first-child,\n  style:first-child + div[data-task-list-local-id] {\n    margin-top: 0;\n  }\n\n  div[data-task-list-local-id] div[data-task-list-local-id] {\n    margin-top: 0px;\n    margin-left: 24px;\n  }\n"])),c.DECISION_CONTAINER,a.cw,c.DECISION_CONTAINER)},32123:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r,o=n(71171),i=(0,n(28165).iv)(r||(r=(0,o.Z)(["\n  .fabric-text-color-mark {\n    color: var(--custom-palette-color, inherit);\n  }\n\n  a .fabric-text-color-mark {\n    color: unset;\n  }\n"])))},60891:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r,o=n(71171),i=(0,n(28165).iv)(r||(r=(0,o.Z)(["\n  word-wrap: break-word;\n  white-space: pre-wrap;\n"])))},72315:(e,t,n)=>{"use strict";var r,o;n.d(t,{P:()=>o,o:()=>r}),function(e){e.EMOJI="emojiTypeAhead",e.MENTION="mentionTypeAhead",e.QUICK_INSERT="quickInsertTypeAhead"}(r||(r={})),function(e){e.SHIFT_ENTER="shift-enter",e.ENTER="enter",e.SPACE="space",e.SELECTED="selected",e.TAB="tab"}(o||(o={}))},50092:(e,t,n)=>{"use strict";var r;n.d(t,{As:()=>r}),function(e){e.ASC="asc",e.DESC="desc",e.NO_ORDER="no_order"}(r||(r={}))},77108:(e,t,n)=>{"use strict";var r,o,i;n.d(t,{Mi:()=>r,V9:()=>i,mb:()=>o}),function(e){e[e.XXL=6]="XXL",e[e.XL=5]="XL",e[e.L=4]="L",e[e.M=3]="M",e[e.S=2]="S",e[e.XXXS=1]="XXXS"}(r||(r={})),function(e){e[e.XXL=610]="XXL",e[e.XL=540]="XL",e[e.L=460]="L",e[e.M=450]="M",e[e.S=370]="S"}(o||(o={})),function(e){e[e.XXL=650]="XXL",e[e.XL=580]="XL",e[e.L=540]="L",e[e.M=490]="M",e[e.S=410]="S"}(i||(i={}))},56223:(e,t,n)=>{"use strict";n.d(t,{Xv:()=>d,fO:()=>r,hR:()=>l});var r,o=n(9249),i=n(87371),a=n(56666),c=n(25548),s=n(81374),u={type:c.Z.Operation,performanceType:c.R.Custom,platform:{component:"editor"}};!function(e){e.loadEditor="load",e.typing="type",e.interaction="interact",e.editSession="editSession"}(r||(r={}));var l=3e4,d=function(){function e(){(0,o.Z)(this,e),this.experiences=new Map;for(var t=0,n=Object.values(r);t<n.length;t++){var i=n[t],a=new s.Q(i,u);this.experiences.set(i,a)}}return(0,i.Z)(e,[{key:"get",value:function(e){return this.experiences.get(e)}},{key:"getActive",value:function(e){var t=this.experiences.get(e);if(null==t||!t.state.final)return t}},{key:"getAll",value:function(){return Array.from(this.experiences.values())}},{key:"start",value:function(e,t){var n;null===(n=this.get(e))||void 0===n||n.start(t)}},{key:"addMetadata",value:function(e,t){var n;null===(n=this.get(e))||void 0===n||n.addMetadata(t)}},{key:"mark",value:function(e,t,n){var r;null===(r=this.get(e))||void 0===r||r.mark(t,n)}},{key:"success",value:function(e,t){var n;return null===(n=this.getActive(e))||void 0===n?void 0:n.success({metadata:t})}},{key:"fail",value:function(e,t){var n;null===(n=this.getActive(e))||void 0===n||n.failure({metadata:t})}},{key:"abort",value:function(e,t){var n=this;setTimeout((function(){var r;null===(r=n.getActive(e))||void 0===r||r.abort({metadata:t})}),0)}},{key:"abortAll",value:function(e){var t=this;this.experiences.forEach((function(n){t.abort(n.id,e)}))}},{key:"failAll",value:function(e){var t=this;this.experiences.forEach((function(n){t.fail(n.id,e)}))}}],[{key:"getInstance",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.stores.get(t)||null!=n&&n.forceNewInstance){var r=new e;this.stores.set(t,r)}return this.stores.get(t)}}]),e}();(0,a.Z)(d,"stores",new WeakMap)},70117:(e,t,n)=>{"use strict";n.d(t,{B:()=>d});var r=n(30323),o=n(51595);var i,a,c,s,u,l,d=(i=o.q2,a=.12,c=r.Z.convert(i).rgb,s=c.r,u=c.g,l=c.b,"rgba(".concat(s,", ").concat(u,", ").concat(l,", ").concat(a,")"))},63226:(e,t,n)=>{"use strict";function r(e,t){var n=e[t];return n||console.warn("Text color palette does not have an internationalization message for color ".concat(t.toUpperCase(),".\nYou must add a message description to properly translate this color.\nUsing current label as default message.\nThis could have happen when someone changed the 'colorPalette' from 'adf-schema' without updating this file.\n")),n}n.d(t,{Z:()=>r})},87483:(e,t,n)=>{"use strict";n.d(t,{Am:()=>p,B0:()=>u,s4:()=>h,wp:()=>m});var r=n(56666),o=n(63470);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=(0,o.vU)({"#FFFFFF":{id:"fabric.theme.white",defaultMessage:"White",description:"Name of a color"},"#B3D4FF":{id:"fabric.theme.subtle-blue",defaultMessage:"Subtle blue",description:"Name of a color"},"#B3F5FF":{id:"fabric.theme.subtle-teal",defaultMessage:"Subtle teal",description:"Name of a color"},"#ABF5D1":{id:"fabric.theme.subtle-green",defaultMessage:"Subtle green",description:"Name of a color"},"#FFF0B3":{id:"fabric.theme.subtle-yellow",defaultMessage:"Subtle yellow",description:"Name of a color"},"#FFBDAD":{id:"fabric.theme.subtle-red",defaultMessage:"Subtle red",description:"Name of a color"},"#EAE6FF":{id:"fabric.theme.subtle-purple",defaultMessage:"Subtle purple",description:"Name of a color"},"#97A0AF":{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"#4C9AFF":{id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},"#00B8D9":{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},"#36B37E":{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},"#FFC400":{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},"#FF5630":{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color"},"#FF991F":{id:"fabric.theme.bold-orange",defaultMessage:"Bold orange",description:"Name of a color."},"#6554C0":{id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},"#0747A6":{id:"fabric.theme.bold-blue",defaultMessage:"Bold blue",description:"Name of a color"},"#008DA6":{id:"fabric.theme.bold-teal",defaultMessage:"Bold teal",description:"Name of a color"},"#006644":{id:"fabric.theme.bold-green",defaultMessage:"Bold green",description:"Name of a color"},"#BF2600":{id:"fabric.theme.bold-red",defaultMessage:"Bold red",description:"Name of a color"},"#403294":{id:"fabric.theme.bold-purple",defaultMessage:"Bold purple",description:"Name of a color"},"#172B4D":{id:"fabric.theme.default",defaultMessage:"Default",description:"Name of a color"}}),s=(0,o.vU)({"#FFFFFF":{id:"fabric.theme.dark-gray",defaultMessage:"Dark gray",description:"Name of a color"}}),u={light:c,dark:a(a({},c),s)},l=(0,o.vU)({"#DEEBFF":{id:"fabric.theme.subtle-blue",defaultMessage:"Subtle blue",description:"Name of a color"},"#B3D4FF":{id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},"#4C9AFF":{id:"fabric.theme.bold-blue",defaultMessage:"Bold blue",description:"Name of a color"},"#E6FCFF":{id:"fabric.theme.subtle-teal",defaultMessage:"Subtle teal",description:"Name of a color"},"#B3F5FF":{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},"#79E2F2":{id:"fabric.theme.bold-teal",defaultMessage:"Bold teal",description:"Name of a color"},"#E3FCEF":{id:"fabric.theme.subtle-green",defaultMessage:"Subtle green",description:"Name of a color"},"#ABF5D1":{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},"#57D9A3":{id:"fabric.theme.bold-green",defaultMessage:"Bold green",description:"Name of a color"},"#FFFAE6":{id:"fabric.theme.subtle-yellow",defaultMessage:"Subtle yellow",description:"Name of a color"},"#FFF0B3":{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},"#FFC400":{id:"fabric.theme.bold-yellow",defaultMessage:"Bold yellow",description:"Name of a color"},"#FFEBE6":{id:"fabric.theme.subtle-red",defaultMessage:"Subtle red",description:"Name of a color"},"#FFBDAD":{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color."},"#FF8F73":{id:"fabric.theme.bold-red",defaultMessage:"Bold red",description:"Name of a color"},"#EAE6FF":{id:"fabric.theme.subtle-purple",defaultMessage:"Subtle purple",description:"Name of a color"},"#C0B6F2":{id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},"#998DD9":{id:"fabric.theme.bold-purple",defaultMessage:"Bold purple",description:"Name of a color"},"#FFFFFF":{id:"fabric.theme.white",defaultMessage:"White",description:"Name of a color"},"#F4F5F7":{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"#B3BAC5":{id:"fabric.theme.bold-gray",defaultMessage:"Bold gray",description:"Name of a color"}}),d=(0,o.vU)({"#FFFFFF":{id:"fabric.theme.subtle-gray",defaultMessage:"Subtle gray",description:"Name of a color"},"#B3BAC5":{id:"fabric.theme.bold-gray",defaultMessage:"Bold gray",description:"Name of a color"}}),p={light:l,dark:a(a({},l),d)},f=(0,o.vU)({"#7AB2FF":{id:"fabric.theme.subtle-blue",defaultMessage:"Subtle blue",description:"Name of a color"},"#247FFF":{id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},"#0055CC":{id:"fabric.theme.bold-blue",defaultMessage:"Bold blue",description:"Name of a color"},"#003884":{id:"fabric.theme.bolder-blue",defaultMessage:"Bolder blue",description:"Name of a color"},"#60C6D2":{id:"fabric.theme.subtle-teal",defaultMessage:"Subtle teal",description:"Name of a color"},"#1D9AAA":{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},"#1D7F8C":{id:"fabric.theme.bold-teal",defaultMessage:"Bold teal",description:"Name of a color"},"#206B74":{id:"fabric.theme.bolder-teal",defaultMessage:"Bolder teal",description:"Name of a color"},"#6BE1B0":{id:"fabric.theme.subtle-green",defaultMessage:"Subtle green",description:"Name of a color"},"#23A971":{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},"#177D52":{id:"fabric.theme.bold-green",defaultMessage:"Bold green",description:"Name of a color"},"#055C3F":{id:"fabric.theme.bolder-green",defaultMessage:"Bolder green",description:"Name of a color"},"#FFDB57":{id:"fabric.theme.subtle-yellow",defaultMessage:"Subtle yellow",description:"Name of a color"},"#FFBE33":{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},"#FF9D00":{id:"fabric.theme.bold-yellow",defaultMessage:"Bold yellow",description:"Name of a color"},"#946104":{id:"fabric.theme.bolder-yellow",defaultMessage:"Bolder yellow",description:"Name of a color"},"#FF8F73":{id:"fabric.theme.subtle-red",defaultMessage:"Subtle red",description:"Name of a color"},"#FC552C":{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color."},"#D32D03":{id:"fabric.theme.bold-red",defaultMessage:"Bold red",description:"Name of a color"},"#A32000":{id:"fabric.theme.bolder-red",defaultMessage:"Bolder red",description:"Name of a color"},"#FAA53D":{id:"fabric.theme.subtle-orange",defaultMessage:"Subtle orange",description:"Name of a color"},"#D97008":{id:"fabric.theme.orange",defaultMessage:"Orange",description:"Name of a color."},"#B65C02":{id:"fabric.theme.bold-orange",defaultMessage:"Bold orange",description:"Name of a color"},"#974F0C":{id:"fabric.theme.bolder-orange",defaultMessage:"Bolder orange",description:"Name of a color"},"#E774BB":{id:"fabric.theme.subtle-magenta",defaultMessage:"Subtle magenta",description:"Name of a color"},"#DA62AC":{id:"fabric.theme.magenta",defaultMessage:"Magenta",description:"Name of a color"},"#CD519D":{id:"fabric.theme.bold-magenta",defaultMessage:"Bold magenta",description:"Name of a color"},"#943D73":{id:"fabric.theme.bolder-magenta",defaultMessage:"Bolder magenta",description:"Name of a color"},"#B5A7FB":{id:"fabric.theme.subtle-purple",defaultMessage:"Subtle purple",description:"Name of a color"},"#8B77EE":{id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},"#5A43D0":{id:"fabric.theme.bold-purple",defaultMessage:"Bold purple",description:"Name of a color"},"#44368B":{id:"fabric.theme.bolder-purple",defaultMessage:"Bolder purple",description:"Name of a color"},"#8993A5":{id:"fabric.theme.subtle-gray",defaultMessage:"Subtle gray",description:"Name of a color"},"#8590A2":{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"#758195":{id:"fabric.theme.bold-gray",defaultMessage:"Bold gray",description:"Name of a color"},"#44546F":{id:"fabric.theme.bolder-gray",defaultMessage:"Bolder gray",description:"Name of a color"}}),h={light:f,dark:a({},f)},v=(0,o.vU)({"#091E4224":{id:"fabric.theme.subtle-gray",defaultMessage:"Subtle gray",description:"Name of a color"},"#758195":{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"#172B4D":{id:"fabric.theme.bold-gray",defaultMessage:"Bold gray",description:"Name of a color"}}),m={light:v,dark:a({},v)}},4099:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var r=n(2784),o=n(28165),i=n(30323),a=n(89274),c=n(51595),s=n(96234),u=n(56666),l="data-theme",d="data-color-mode",p=("--".concat("ds","-token-not-found"),["light","dark","auto"]),f=["light","dark","legacy-light","legacy-dark","spacing","typography","shape"];var h=["light","dark","spacing","typography"],v=function(e){return void 0!==h.find((function(t){return t===e}))},m=function(e){return void 0!==f.find((function(t){return t===e}))},g=function(e){return["light","dark","auto"].includes(e)};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w,k,E=function(){if("undefined"==typeof document)return{};var e=document.documentElement,t=e.getAttribute(d)||"",n=e.getAttribute(l)||"";return b(b({},n.split(" ").map((function(e){return e.split(":")})).reduce((function(e,t){var n=(0,s.Z)(t,2),r=n[0],o=n[1];return"colorMode"===r&&g(o)&&(e[r]=o),v(r)&&m(o)&&(e[r]=o),e}),{})),function(e){return void 0!==p.find((function(t){return t===e}))}(t)&&{colorMode:t})},x=n(9249),O=n(87371),S=function(){function e(t){(0,x.Z)(this,e),(0,u.Z)(this,"observer",null),(0,u.Z)(this,"mediaObserver",null),this.callback=t}return(0,O.Z)(e,[{key:"observe",value:function(){var e=this;this.observer||(this.observer=new MutationObserver((function(){e.callback(E())}))),this.observer.observe(document.documentElement,{attributeFilter:[l,d]})}},{key:"disconnect",value:function(){this.observer&&this.observer.disconnect()}}]),e}(),C=n(80753),T=n(45754),A=n(11987),_=n(95058),P=n(31458),D=n(86779),Z=n(71171),I=(0,o.iv)(w||(w=(0,Z.Z)(["\n  height: 26px;\n  width: 26px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n"])),c.xA,c.N0),L=(0,o.iv)(k||(k=(0,Z.Z)(["\n  border: 1px solid transparent;\n  margin: 1px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:focus-within,\n  &:focus,\n  &:hover {\n    border-color: "," !important;\n  }\n"])),c.uv);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,_.Z)(e);if(t){var o=(0,_.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,A.Z)(this,n)}}const R=function(e){(0,T.Z)(n,e);var t=M(n);function n(){var e;(0,x.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,u.Z)((0,C.Z)(e),"onMouseDown",(function(e){e.preventDefault()})),(0,u.Z)((0,C.Z)(e),"onClick",(function(t){var n=e.props,r=n.onClick,o=n.value,i=n.label;t.preventDefault(),r(o,i)})),e}return(0,O.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.autoFocus,n=e.tabIndex,r=e.value,i=e.label,a=e.isSelected,s=e.borderColor,u=e.checkMarkColor,l=void 0===u?c.N0:u,d=e.hexToPaletteColor,p=d?d(r):r;return(0,o.tZ)(D.Z,{content:i},(0,o.tZ)("span",{css:L},(0,o.tZ)("button",{css:I,"aria-label":i,role:"radio","aria-checked":a,onClick:this.onClick,onMouseDown:this.onMouseDown,tabIndex:n,className:"".concat(a?"selected":""),style:{backgroundColor:p||"transparent",border:"1px solid ".concat(s)},autoFocus:t},a&&(0,o.tZ)(P.Z,{primaryColor:l,label:""}))))}}]),n}(r.PureComponent);var N,j=n(63226),F=n(56298),B=(0,o.iv)(N||(N=(0,Z.Z)(["\n  padding: 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n"])),(0,F.ww)()),z=n(48510);function U(e,t){var n=[c.N0,c.Mx].sort((function(t,n){return i.Z.difference(n,e)-i.Z.difference(t,e)}))[0];return t?n===c.N0?"var(--ds-icon-inverse, ".concat(c.N0,")"):"var(--ds-icon, ".concat(c.Mx,")"):n}const V=(0,a.ZP)((function(e){var t,n,i,a,c=e.cols,u=void 0===c?z.Zl:c,l=e.onClick,d=e.selectedColor,p=e.className,f=e.intl.formatMessage,h=e.paletteOptions,v=h.palette,m=h.hexToPaletteColor,g=h.showSomewhatSemanticTooltips,y=void 0!==g&&g,b=h.paletteColorTooltipMessages,w=(t=(0,r.useState)(E()),n=(0,s.Z)(t,2),i=n[0],a=n[1],(0,r.useEffect)((function(){var e=new S((function(e){return a(e)}));return e.observe(),function(){return e.disconnect()}}),[]),i).colorMode,k=!!m,x=r.useMemo((function(){return(0,z.gO)(v,u)}),[v,u]);return(0,o.tZ)(r.Fragment,null,x.map((function(e,t){return(0,o.tZ)("div",{css:B,className:p,key:"row-first-color-".concat(e[0].value),role:"radiogroup"},e.map((function(e,t){var n=e.value,r=e.label,i=e.border,a=e.message;return y&&b&&("dark"===w&&(a=(0,j.Z)(b.dark,n.toUpperCase())),"light"===w&&(a=(0,j.Z)(b.light,n.toUpperCase()))),(0,o.tZ)(R,{key:n,value:n,borderColor:i,label:a?f(a):r,onClick:l,isSelected:n===d,checkMarkColor:U(n,k),hexToPaletteColor:m})})))})))}))},48510:(e,t,n)=>{"use strict";n.d(t,{L$:()=>i,Zl:()=>r,gO:()=>o});var r=7;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;return e.reduce((function(e,n,r){var o=Math.floor(r/t);return e[o]=e[o]||[],e[o].push(n),e}),[])}function i(e,t){return function(e,t){var n=-1,r=-1;return e.forEach((function(e,o){e.forEach((function(e,i){e.value===t&&(n=o,r=i)}))})),{selectedRowIndex:n,selectedColumnIndex:r}}(o(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:r),t)}},18202:(e,t,n)=>{"use strict";n.d(t,{J:()=>v});var r=n(7896),o=n(59740),i=n(2784),a=n(44854),c=n(96234),s=function(e){var t=e.children,n=e.selectedRowIndex,r=e.selectedColumnIndex,o=e.isOpenedByKeyboard,a=e.isPopupPositioned,s=e.handleClose,d=e.closeOnTab,p=e.editorRef,f=(0,i.useRef)(null),h=(0,i.useRef)(-1===r?0:r),v=(0,i.useRef)(-1===n?0:n),m=(0,i.useState)(p.current),g=(0,c.Z)(m,1)[0],y=function(e,t){v.current===e.length-1?v.current=0:v.current=v.current+1},b=function(e,t){0===v.current?v.current=e.length-1:v.current=v.current-1};return(0,i.useLayoutEffect)((function(){var e=function(){var e,t=l(u(null==f?void 0:f.current)[v.current]);t&&0!==(null==t?void 0:t.length)&&(null===(e=t[h.current])||void 0===e||e.focus())},t=function(t){if("Tab"===t.key&&d)s(t);else{var n,r,o=u(null==f?void 0:f.current),i=l(o[v.current]);switch(t.key){case"ArrowDown":y(o),e(),t.preventDefault();break;case"ArrowUp":b(o),e(),t.preventDefault();break;case"ArrowLeft":n=o,r=i,0===h.current?(b(n),h.current=r.length-1):h.current=h.current-1,e(),t.preventDefault();break;case"ArrowRight":!function(e,t){h.current===t.length-1?(y(e),h.current=0):h.current=h.current+1}(o,i),e(),t.preventDefault();break;case"Escape":s(t);break;default:return}}};return g&&g.addEventListener("keydown",t),o&&a&&setTimeout((function(){e()})),function(){g&&g.removeEventListener("keydown",t)}}),[h,o,a,f,s,d,g]),i.createElement("div",{className:"custom-key-handler-wrapper",ref:f},t)};function u(e){if(!e)return[];var t=e.querySelectorAll("div[role=radiogroup]")||[];return Array.from(t)}function l(e){if(!e)return[];var t=e.querySelectorAll("button[role=radio]:not([disabled])")||[];return Array.from(t)}var d=function(e){var t=e.children,n=e.handleClose,r=e.disableArrowKeyNavigation,o=e.keyDownHandlerContext,a=e.closeOnTab,s=e.onSelection,u=e.editorRef,l=(0,i.useRef)(null),d=(0,i.useState)(-1),f=(0,c.Z)(d,2),h=f[0],v=f[1],m=(0,i.useState)(u.current),g=(0,c.Z)(m,1)[0],y=(0,i.useCallback)((function(e){for(var t=h,n=(t+1)%e.length;n!==t&&"true"===e[n].getAttribute("aria-disabled");)n=(n+1)%e.length;return v(n),n}),[h]),b=(0,i.useCallback)((function(e){for(var t=h,n=(e.length+t-1)%e.length;n!==t&&"true"===e[n].getAttribute("aria-disabled");)n=(e.length+n-1)%e.length;return v(n),n}),[h]);return(0,i.useEffect)((function(){var e,t=h,n=p(null==l?void 0:l.current),r=n[t];r&&"true"===r.getAttribute("aria-disabled")&&(null===(e=n[y(n)])||void 0===e||e.focus())}),[h,s,y,b]),(0,i.useLayoutEffect)((function(){if(!r){var e=function(e){var t,r=e.target;if("Tab"===e.key&&a)return n(e),void(null==o||o.handleTab());var i=p(null==l?void 0:l.current);if(i&&0!==(null==i?void 0:i.length))switch(null!==(t=l.current)&&void 0!==t&&t.contains(r)||v(-1),e.key){case"ArrowDown":var c;null===(c=i[y(i)])||void 0===c||c.focus(),e.preventDefault();break;case"ArrowUp":var u;null===(u=i[b(i)])||void 0===u||u.focus(),e.preventDefault();break;case"ArrowLeft":if(!r.closest(".custom-key-handler-wrapper"))return;n(e),r.closest('[data-testid="editor-floating-toolbar"]')||null==o||o.handleArrowLeft();break;case"ArrowRight":if(!r.closest(".custom-key-handler-wrapper"))return;n(e),r.closest('[data-testid="editor-floating-toolbar"]')||null==o||o.handleArrowRight();break;case"Escape":n(e);break;case"Enter":"function"==typeof s&&s(h);break;default:return}};return g&&g.addEventListener("keydown",e),function(){g&&g.removeEventListener("keydown",e)}}}),[h,l,n,r,o,a,s,y,b,g]),i.createElement("div",{className:"menu-key-handler-wrapper custom-key-handler-wrapper",ref:l},t)};function p(e){if(!e)return[];var t=e.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, div[tabindex="-1"]')||[];return Array.from(t)}var f=n(81278),h=["children","type"],v=function(e){var t=e.children,n=e.type,c=(0,o.Z)(e,h);return n===f.i.COLOR?i.createElement(a.Z.Consumer,null,(function(n){n.editorView;var o=n.editorRef;return o&&i.createElement(s,(0,r.Z)({selectedRowIndex:e.selectedRowIndex,selectedColumnIndex:e.selectedColumnIndex,isOpenedByKeyboard:e.isOpenedByKeyboard,isPopupPositioned:e.isPopupPositioned,editorRef:o},c),t)})):i.createElement(a.Z.Consumer,null,(function(e){e.editorView;var n=e.editorRef;return n&&i.createElement(d,(0,r.Z)({editorRef:n},c),t)}))}},81278:(e,t,n)=>{"use strict";var r;n.d(t,{i:()=>r}),function(e){e.COLOR="color",e.MENU="menu"}(r||(r={}))},18886:(e,t,n)=>{"use strict";n.d(t,{s:()=>oe,Z:()=>ae});var r=n(56666),o=n(71171),i=n(2784),a=n(28165),c=n(46117),s=n(86779),u=n(48072),l=n(19589),d=n(7896),p=n(96234),f=n(59740),h=n(70520),v=n(43139),m=n(79398),g=n(48495);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){var t=e.fn,n=e.action,o=e.componentName,a=e.actionSubject,c=e.packageName,s=e.packageVersion,u=e.analyticsData,l=(0,m._)().createAnalyticsEvent,d=(0,g.V)(u),p=(0,g.V)(t),f=(0,i.useCallback)((function(e){var t=l({action:n,actionSubject:a||o,attributes:{componentName:o,packageName:c,packageVersion:s}}),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({componentName:o,packageName:c,packageVersion:s},d.current);t.context.push(i);var u=t.clone();u&&u.fire("atlaskit"),p.current(e,t)}),[n,o,a,c,s,l,d,p]);return f}var w=n(42494),k=n(98273),E=n(28),x=n(51595);function O(e){e.preventDefault(),e.stopPropagation()}function S(e){9!==e.keyCode&&O(e)}var C={onMouseDownCapture:O,onMouseUpCapture:O,onKeyDownCapture:S,onKeyUpCapture:S,onTouchStartCapture:O,onTouchEndCapture:O,onPointerDownCapture:O,onPointerUpCapture:O,onClickCapture:O,onClick:O},T={};var A=n(56298),_="rgba(179, 212, 255, 0.6)";const P={background:{default:{default:{light:"var(--ds-background-neutral, ".concat(x.os,")"),dark:"var(--ds-background-neutral, ".concat(x.nA,")")},hover:{light:"var(--ds-background-neutral-hovered, ".concat(x.kd,")"),dark:"var(--ds-background-neutral-hovered, ".concat(x.mn,")")},active:{light:"var(--ds-background-neutral-pressed, ".concat(_,")"),dark:"var(--ds-background-neutral-pressed, ".concat(x.tE,")")},disabled:{light:"var(--ds-background-disabled, ".concat(x.os,")"),dark:"var(--ds-background-disabled, ".concat(x.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(x.TG,")"),dark:"var(--ds-background-selected, ".concat(x.xU,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(x.TG,")"),dark:"var(--ds-background-selected, ".concat(x.xU,")")}},primary:{default:{light:"var(--ds-background-brand-bold, ".concat(x.AX,")"),dark:"var(--ds-background-brand-bold, ".concat(x.vP,")")},hover:{light:"var(--ds-background-brand-bold-hovered, ".concat(x.M5,")"),dark:"var(--ds-background-brand-bold-hovered, ".concat(x.tE,")")},active:{light:"var(--ds-background-brand-bold-pressed, ".concat(x.YC,")"),dark:"var(--ds-background-brand-bold-pressed, ".concat(x.VY,")")},disabled:{light:"var(--ds-background-disabled, ".concat(x.os,")"),dark:"var(--ds-background-disabled, ".concat(x.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(x.TG,")"),dark:"var(--ds-background-selected, ".concat(x.xU,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(x.TG,")"),dark:"var(--ds-background-selected, ".concat(x.xU,")")}},warning:{default:{light:"var(--ds-background-warning-bold, ".concat(x.Z3,")"),dark:"var(--ds-background-warning-bold, ".concat(x.Z3,")")},hover:{light:"var(--ds-background-warning-bold-hovered, ".concat(x.cS,")"),dark:"var(--ds-background-warning-bold-hovered, ".concat(x.cS,")")},active:{light:"var(--ds-background-warning-bold-pressed, ".concat(x.jC,")"),dark:"var(--ds-background-warning-bold-pressed, ".concat(x.jC,")")},disabled:{light:"var(--ds-background-disabled, ".concat(x.os,")"),dark:"var(--ds-background-disabled, ".concat(x.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(x.jC,")"),dark:"var(--ds-background-selected, ".concat(x.jC,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(x.jC,")"),dark:"var(--ds-background-selected, ".concat(x.jC,")")}},danger:{default:{light:"var(--ds-background-danger-bold, ".concat(x.$H,")"),dark:"var(--ds-background-danger-bold, ".concat(x.$H,")")},hover:{light:"var(--ds-background-danger-bold-hovered, ".concat(x.rt,")"),dark:"var(--ds-background-danger-bold-hovered, ".concat(x.rt,")")},active:{light:"var(--ds-background-danger-bold-pressed, ".concat(x.gR,")"),dark:"var(--ds-background-danger-bold-pressed, ".concat(x.gR,")")},disabled:{light:"var(--ds-background-disabled, ".concat(x.os,")"),dark:"var(--ds-background-disabled, ".concat(x.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(x.gR,")"),dark:"var(--ds-background-selected, ".concat(x.gR,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(x.gR,")"),dark:"var(--ds-background-selected, ".concat(x.gR,")")}},link:{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:"var(--ds-background-selected, ".concat(x.TG,")"),dark:"var(--ds-background-selected, ".concat(x.IR,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(x.TG,")"),dark:"var(--ds-background-selected, ".concat(x.IR,")")}},subtle:{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},hover:{light:"var(--ds-background-neutral-subtle-hovered, ".concat(x.kd,")"),dark:"var(--ds-background-neutral-subtle-hovered, ".concat(x.mn,")")},active:{light:"var(--ds-background-neutral-subtle-pressed, ".concat(_,")"),dark:"var(--ds-background-neutral-subtle-pressed, ".concat(x.tE,")")},disabled:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:"var(--ds-background-selected, ".concat(x.TG,")"),dark:"var(--ds-background-selected, ".concat(x.xU,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(x.TG,")"),dark:"var(--ds-background-selected, ".concat(x.xU,")")}},"subtle-link":{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:"var(--ds-background-selected, ".concat(x.TG,")"),dark:"var(--ds-background-selected, ".concat(x.IR,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(x.TG,")"),dark:"var(--ds-background-selected, ".concat(x.IR,")")}}},color:{default:{default:{light:"var(--ds-text, ".concat(x.Mx,")"),dark:"var(--ds-text, ".concat(x.oe,")")},active:{light:"var(--ds-text, ".concat(x.AX,")"),dark:"var(--ds-text, ".concat(x.AX,")")},disabled:{light:"var(--ds-text-disabled, ".concat(x.n2,")"),dark:"var(--ds-text-disabled, ".concat(x.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(x.IR,")"),dark:"var(--ds-text-selected, ".concat(x.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(x.IR,")"),dark:"var(--ds-text-selected, ".concat(x.oe,")")}},primary:{default:{light:"var(--ds-text-inverse, ".concat(x.N0,")"),dark:"var(--ds-text-inverse, ".concat(x.Dw,")")},disabled:{light:"var(--ds-text-disabled, ".concat(x.n2,")"),dark:"var(--ds-text-disabled, ".concat(x.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(x.IR,")"),dark:"var(--ds-text-selected, ".concat(x.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(x.IR,")"),dark:"var(--ds-text-selected, ".concat(x.oe,")")}},warning:{default:{light:"var(--ds-text-warning-inverse, ".concat(x.q2,")"),dark:"var(--ds-text-warning-inverse, ".concat(x.q2,")")},disabled:{light:"var(--ds-text-disabled, ".concat(x.n2,")"),dark:"var(--ds-text-disabled, ".concat(x.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(x.q2,")"),dark:"var(--ds-text-selected, ".concat(x.q2,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(x.q2,")"),dark:"var(--ds-text-selected, ".concat(x.q2,")")}},danger:{default:{light:"var(--ds-text-inverse, ".concat(x.N0,")"),dark:"var(--ds-text-inverse, ".concat(x.N0,")")},disabled:{light:"var(--ds-text-disabled, ".concat(x.n2,")"),dark:"var(--ds-text-disabled, ".concat(x.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(x.N0,")"),dark:"var(--ds-text-selected, ".concat(x.N0,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(x.N0,")"),dark:"var(--ds-text-selected, ".concat(x.N0,")")}},link:{default:{light:"var(--ds-link, ".concat(x.AX,")"),dark:"var(--ds-link, ".concat(x.vP,")")},hover:{light:"var(--ds-link, ".concat(x.M5,")"),dark:"var(--ds-link, ".concat(x.tE,")")},active:{light:"var(--ds-link-pressed, ".concat(x.YC,")"),dark:"var(--ds-link-pressed, ".concat(x.VY,")")},disabled:{light:"var(--ds-text-disabled, ".concat(x.n2,")"),dark:"var(--ds-text-disabled, ".concat(x.Sk,")")},selected:{light:"var(--ds-text-selected, ".concat(x.IR,")"),dark:"var(--ds-text-selected, ".concat(x.TG,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(x.IR,")"),dark:"var(--ds-text-selected, ".concat(x.TG,")")}},subtle:{default:{light:"var(--ds-text, ".concat(x.Mx,")"),dark:"var(--ds-text, ".concat(x.oe,")")},active:{light:"var(--ds-text, ".concat(x.AX,")"),dark:"var(--ds-text, ".concat(x.AX,")")},disabled:{light:"var(--ds-text-disabled, ".concat(x.n2,")"),dark:"var(--ds-text-disabled, ".concat(x.Sk,")")},selected:{light:"var(--ds-text-selected, ".concat(x.IR,")"),dark:"var(--ds-text-selected, ".concat(x.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(x.IR,")"),dark:"var(--ds-text-selected, ".concat(x.oe,")")}},"subtle-link":{default:{light:"var(--ds-text-subtle, ".concat(x.iw,")"),dark:"var(--ds-text-subtle, ".concat(x.oe,")")},hover:{light:"var(--ds-text-subtle, ".concat(x.WA,")"),dark:"var(--ds-text-subtle, ".concat(x.BA,")")},active:{light:"var(--ds-text, ".concat(x.zN,")"),dark:"var(--ds-text, ".concat(x.Tx,")")},disabled:{light:"var(--ds-text-disabled, ".concat(x.n2,")"),dark:"var(--ds-text-disabled, ".concat(x.Sk,")")},selected:{light:"var(--ds-text-selected, ".concat(x.IR,")"),dark:"var(--ds-text-selected, ".concat(x.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(x.IR,")"),dark:"var(--ds-text-selected, ".concat(x.oe,")")}}}};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=(0,A.E0)(),L=(0,A.ww)(),M=(0,A.JB)(),R={default:"".concat(4*L/M,"em"),compact:"".concat(3*L/M,"em"),none:"auto"},N={default:R.default,compact:R.compact,none:"inherit"},j={default:"0 ".concat(L+L/4,"px"),compact:"0 ".concat(L+L/4,"px"),none:"0"},F={compact:"0 ".concat(L/4,"px"),default:"0 ".concat(L/4,"px"),none:"0"},B={default:"middle",compact:"middle",none:"baseline"},z={content:"0 ".concat(L/4,"px"),icon:"0 ".concat(L/4,"px")};function U(e){var t=e.group,n=e.key,r=e.mode;return(t[n]||t.default)[r]}function V(e){var t=e.appearance,n=e.key,r=e.mode;return{background:U({group:P.background[t],key:n,mode:r}),color:"".concat(U({group:P.color[t],key:n,mode:r})," !important")}}function H(e){var t=e.spacing;return(0,a.iv)({display:"flex",margin:"none"===t?0:z.icon,flexGrow:0,flexShrink:0,alignSelf:"center",fontSize:0,lineHeight:0,userSelect:"none"})}function W(e){var t=e.spacing;return(0,a.iv)({margin:"none"===t?0:z.content,flexGrow:1,flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})}var G={position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"},q=["appearance","buttonCss","spacing","autoFocus","isDisabled","shouldFitContainer","isSelected","iconBefore","iconAfter","children","className","href","overlay","tabIndex","type","onMouseDown","onClick","component","testId","interactionName","analyticsContext"],K={"> *":{pointerEvents:"none"}};const $=i.forwardRef((function(e,t){var n=e.appearance,r=void 0===n?"default":n,o=e.buttonCss,c=e.spacing,s=void 0===c?"default":c,u=e.autoFocus,l=void 0!==u&&u,p=e.isDisabled,v=void 0!==p&&p,m=(e.shouldFitContainer,e.isSelected),g=void 0!==m&&m,y=e.iconBefore,O=e.iconAfter,S=e.children,A=e.className,_=e.href,P=e.overlay,D=e.tabIndex,Z=void 0===D?0:D,I=e.type,L=void 0===I?_?void 0:"button":I,M=e.onMouseDown,R=void 0===M?h.Z:M,N=e.onClick,j=void 0===N?h.Z:N,F=e.component,B=void 0===F?_?"a":"button":F,z=e.testId,U=e.interactionName,V=e.analyticsContext,$=(0,f.Z)(e,q),J=(0,i.useRef)(),Y=(0,i.useCallback)((function(e){J.current=e,null!=t&&("function"!=typeof t?t.current=e:t(e))}),[J,t]);(0,w.Z)(J,l);var X=(0,i.useContext)(E.Z),Q=b({fn:(0,i.useCallback)((function(e,t){X&&X.tracePress(U,e.timeStamp),j(e,t)}),[j,X,U]),action:"clicked",componentName:"button",packageName:"@atlaskit/button",packageVersion:"16.6.0",analyticsData:V}),ee=(0,i.useCallback)((function(e){e.preventDefault(),R(e)}),[R]);(0,i.useEffect)((function(){var e=J.current;v&&e&&e===document.activeElement&&e.blur()}),[v]);var te=Boolean(P),ne=(0,a.iv)(function(e){var t=e.hasOverlay;return(0,a.iv)({opacity:t?0:1,transition:"opacity 0.3s"})}({hasOverlay:te})),re=!v&&!te,oe={};return(g||v||"warning"===r)&&(oe={"[data-theme] & circle":{stroke:"".concat(g||v?"var(--ds-icon-subtle, ".concat(x.Mx,")"):"var(--ds-icon-warning-inverse, ".concat(x.Mx,")")," !important")}}),(0,a.tZ)(k.Z,null,(0,a.tZ)(B,(0,d.Z)({},$,{css:[o,re?null:K],className:A,ref:Y,onClick:Q,onMouseDown:ee,disabled:v,href:re?_:void 0,"data-has-overlay":!!te||void 0,"data-testid":z,type:L,tabIndex:v?-1:Z},{isInteractive:re}.isInteractive?T:C),y?(0,a.tZ)("span",{css:[ne,H({spacing:s})]},y):null,S?(0,a.tZ)("span",{css:[ne,W({spacing:s})]},S):null,O?(0,a.tZ)("span",{css:[ne,H({spacing:s})]},O):null,P?(0,a.tZ)("span",{css:[G,oe]},P):null))}));var J=["onMouseDown","onMouseUp"],Y="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,X=i.memo(i.forwardRef((function(e,t){var n=e.onMouseDown,r=void 0===n?h.Z:n,o=e.onMouseUp,a=void 0===o?h.Z:o,c=(0,f.Z)(e,J),s=(0,v.m)().mode,u=c.appearance||"default",l=c.spacing||"default",m=Boolean(c.shouldFitContainer),g=Boolean(c.isSelected),y=function(e){var t=e.children,n=e.iconBefore,r=e.iconAfter;return!(t||(!n||r)&&(n||!r))}(c),b=(0,i.useState)(!1),w=(0,p.Z)(b,2),k=w[0],E=w[1],x=(0,i.useCallback)((function(e){r(e),Y&&E(!0)}),[r,E]),O=(0,i.useCallback)((function(e){a(e),Y&&E(!1)}),[a,E]),S=(0,i.useMemo)((function(){return function(e){var t=e.appearance,n=e.spacing,r=e.mode,o=e.isSelected,i=e.shouldFitContainer,a=e.isOnlySingleIcon,c=V({appearance:t,key:o?"selected":"default",mode:r});return Z(Z({alignItems:"baseline",borderWidth:0,borderRadius:I,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontFamily:"inherit",fontWeight:500,maxWidth:"100%",position:"relative",textAlign:"center",textDecoration:"none",transition:"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",whiteSpace:"nowrap"},c),{},{cursor:"pointer",height:R[n],lineHeight:N[n],padding:a?F[n]:j[n],verticalAlign:B[n],width:i?"100%":"auto",justifyContent:"center","&:visited":Z({},c),"&:hover":Z(Z({},V({appearance:t,key:o?"selected":"hover",mode:r})),{},{textDecoration:o||"link"!==t&&"subtle-link"!==t?"inherit":"underline",transitionDuration:"0s, 0.15s"}),"&:active":Z(Z({},V({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),'&[data-firefox-is-active="true"]':Z(Z({},V({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),"&[disabled]":Z(Z({},V({appearance:t,key:"disabled",mode:r})),{},{cursor:"not-allowed",textDecoration:"none"}),'&[data-has-overlay="true"]':{cursor:"default",textDecoration:"none"},'&[data-has-overlay="true"]:not([disabled]):hover, &[data-has-overlay="true"]:not([disabled]):active':Z({},V({appearance:t,key:o?"selected":"default",mode:r})),"&::-moz-focus-inner":{border:0,margin:0,padding:0}})}({appearance:u,spacing:l,mode:s,isSelected:g,shouldFitContainer:m,isOnlySingleIcon:y})}),[u,l,s,g,m,y]);return i.createElement($,(0,d.Z)({},c,{ref:t,buttonCss:S,"data-firefox-is-active":!!k||void 0,onMouseDown:x,onMouseUp:O}))})));X.displayName="Button";const Q=X,ee=i.forwardRef((function(e,t){return i.createElement(Q,(0,d.Z)({ref:t},e,{style:{alignItems:"center"}}))}));var te;function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=u.L,ie=(0,a.iv)(te||(te=(0,o.Z)(["\n  display: flex;\n  height: 100%;\n"])));const ae=i.forwardRef((function(e,t){var n=e.buttonId,r=e.testId,o=e.className,u=void 0===o?"":o,d=e.href,p=e.iconAfter,f=e.iconBefore,h=e.disabled,v=e.selected,m=e.spacing,g=e.target,y=e.children,b=e.hideTooltip,w=e.title,k=e.titlePosition,E=void 0===k?"top":k,x=e.item,O=e["aria-label"],S=e["aria-haspopup"],C=e["aria-expanded"],T=e["aria-pressed"],A=e["aria-keyshortcuts"],_=e.onClick,P=e.onKeyDown,D=e.onItemClick,Z=(0,i.useCallback)((function(e,t){h||(n&&t.update((function(e){return re(re({},e),{},{action:l.om.CLICKED,actionSubject:l.Wt.TOOLBAR_BUTTON,actionSubjectId:n,eventType:l.Ze.UI})})).fire(c.XD.editor),_&&_(e),x&&D&&D(x))}),[h,_,D,x,n]),I=n?"editor-toolbar__".concat(n):void 0,L=(0,a.tZ)(ee,{id:I,ref:t,appearance:"subtle",testId:r,className:u,href:d,iconAfter:p,iconBefore:f,isDisabled:h,isSelected:v,onClick:Z,spacing:m||"default",target:g,shouldFitContainer:!0,"aria-expanded":C,"aria-haspopup":S,"aria-label":O,"aria-pressed":T,"aria-keyshortcuts":A,onKeyDown:P},y);if(!w)return L;var M=b?null:w;return(0,a.tZ)(s.Z,{content:M,hideTooltipOnClick:!0,position:E},(0,a.tZ)("div",{css:ie},L))}))},44854:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(2784).createContext({})},54053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(59740),o=n(9249),i=n(87371),a=n(80753),c=n(45754),s=n(11987),u=n(95058),l=n(56666),d=n(2784),p=n(28316),f=n(44854),h=["handleClickOutside","handleEnterKeydown","handleEscapeKeydown","closeOnTab"];function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var m=function(e){(0,c.Z)(n,e);var t=v(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),(0,l.Z)((0,a.Z)(e),"handleClick",(function(t){if(e.props.isActiveComponent){var n,r,o=p.findDOMNode((0,a.Z)(e));if(!o||t.target instanceof Node&&!o.contains(t.target))if(e.props.handleClickOutside)if(e.props.handleClickOutside(t),null===(n=e.props.editorView)||void 0===n||!n.hasFocus())null===(r=e.props.editorView)||void 0===r||r.focus()}})),(0,l.Z)((0,a.Z)(e),"handleKeydown",(function(t){if(e.props.isActiveComponent)return"Escape"===t.code&&e.props.handleEscapeKeydown?(t.preventDefault(),t.stopPropagation(),e.props.handleEscapeKeydown(t),!1):void("Enter"===t.code&&e.props.handleEnterKeydown?e.props.handleEnterKeydown(t):"Tab"===t.code&&e.props.handleEscapeKeydown&&e.props.closeOnTab&&e.props.handleEscapeKeydown(t))})),e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e;(this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown)&&((null===(e=this.props.editorRef)||void 0===e?void 0:e.current)||this.props.targetRef||document).addEventListener("keydown",this.handleKeydown,!1)}},{key:"componentWillUnmount",value:function(){var e;(this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown)&&((null===(e=this.props.editorRef)||void 0===e?void 0:e.current)||this.props.targetRef||document).removeEventListener("keydown",this.handleKeydown,!1)}},{key:"render",value:function(){return this.props.children}}]),n}(d.PureComponent);function g(e){return function(t){var n=t.handleClickOutside,o=t.handleEnterKeydown,i=t.handleEscapeKeydown,a=t.closeOnTab,c=(0,r.Z)(t,h),s=!function(e){return"isOpen"in e}(c)||c.isOpen;return d.createElement(f.Z.Consumer,null,(function(t){var r=t.editorView,u=t.editorRef;return d.createElement(m,{editorView:r,editorRef:u,targetRef:c.targetRef,isActiveComponent:s,handleClickOutside:n,handleEnterKeydown:o,handleEscapeKeydown:i,closeOnTab:a},d.createElement(e,c))}))}}},74727:(e,t,n)=>{"use strict";n.d(t,{Yu:()=>p,p0:()=>l});var r=n(56666),o=n(2784),i=n(66330),a=n(8357),c=n(43139),s=n(56298),u=n(26692);function l(e){switch(e){case"M":case"L":return 760;default:return 680}}function d(e){var t=e.baseFontSize,n=e.children,u=(0,c.m)().mode,l=(0,o.useMemo)((function(){return(0,r.Z)({baseFontSize:t||(0,s.JB)(),layoutMaxWidth:a.re},s.GV,{mode:u})}),[t,u]);return o.createElement(i.a,{theme:l},n)}function p(e){var t=e.children,n=e.baseFontSize;return o.createElement(u.mP,null,(function(e){var r=e.breakpoint;return o.createElement(d,{breakpoint:r,baseFontSize:n},o.createElement(o.Fragment,null,t))}))}},12651:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r,o,i=n(7896),a=n(9249),c=n(87371),s=n(45754),u=n(11987),l=n(95058),d=n(71171),p=n(2784),f=n(28165),h=n(89274),v=n(51595),m=(0,n(63470).vU)({placeholder:{id:"fabric.editor.captionPlaceholder",defaultMessage:"Add a caption",description:"Placeholder description for an empty (new) caption in the editor"}});function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var y=(0,f.iv)(r||(r=(0,d.Z)(["\n  margin-top: 8px;\n  text-align: center;\n  position: relative;\n  color: ",";\n"])),"var(--ds-text-subtle, ".concat(v.zN,")")),b=(0,f.iv)(o||(o=(0,d.Z)(["\n  color: ",";\n  position: absolute;\n  top: 0;\n  width: 100%;\n"])),"var(--ds-text-subtlest, ".concat(v.iw,")")),w=function(e){(0,s.Z)(n,e);var t=g(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.hasContent,r=e.children,o=e.dataAttributes,a=e.intl.formatMessage,c=!t&&!n;return(0,f.tZ)("div",(0,i.Z)({"data-media-caption":!0,"data-testid":"media-caption"},o,{css:y}),c?(0,f.tZ)("p",{css:b},a(m.placeholder)):null,r)}}]),n}(p.Component);const k=(0,h.ZP)(w)},9937:(e,t,n)=>{"use strict";n.d(t,{Z:()=>oe});var r=n(71171),o=n(9249),i=n(87371),a=n(80753),c=n(45754),s=n(11987),u=n(95058),l=n(56666),d=n(2784),p=n(28165);var f=n(7896),h=n(59740),v=n(68079),m=n(13980),g=n.n(m),y=n(46674);function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var w={getAtlaskitAnalyticsContext:g().func,getAtlaskitAnalyticsEventHandlers:g().func},k=function(){return[]},E=function(e){(0,c.Z)(n,e);var t=b(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,a.Z)(r),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:r.getAnalyticsContext}})),(0,l.Z)((0,a.Z)(r),"getAnalyticsContext",(function(){var e=r.props.data,t=r.context.getAtlaskitAnalyticsContext,n=void 0===t?k:t;return[].concat((0,v.Z)(n()),[e])})),(0,l.Z)((0,a.Z)(r),"getAnalyticsEventHandlers",(function(){var e=r.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?k:e)()})),r.contextValue={getAtlaskitAnalyticsContext:r.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers},r}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props.children;return d.createElement(y.Z.Provider,{value:this.contextValue},e)}}]),n}(d.Component);(0,l.Z)(E,"contextTypes",w),(0,l.Z)(E,"childContextTypes",w);const x=E;var O=n(20541),S=n(48495);const C=function(e){var t=e.data,n=e.children,r=(0,S.V)(t),o=(0,O.O)(),i=(0,d.useCallback)((function(){return[].concat((0,v.Z)(o.getAtlaskitAnalyticsContext()),[r.current])}),[o,r]),a=(0,d.useMemo)((function(){return{getAtlaskitAnalyticsContext:i,getAtlaskitAnalyticsEventHandlers:o.getAtlaskitAnalyticsEventHandlers}}),[o,i]);return d.createElement(y.Z.Provider,{value:a},n)};var T,A=n(34406);const _=null!=A&&null!==(T=A.env)&&void 0!==T&&T.ANALYTICS_NEXT_MODERN_CONTEXT?C:x;var P=["analyticsContext"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const I=function(e){return function(t){var n=(0,d.forwardRef)((function(n,r){var o=n.analyticsContext,i=(0,h.Z)(n,P),a=(0,d.useMemo)((function(){return Z(Z({},e),o)}),[o]);return d.createElement(_,{data:a},d.createElement(t,(0,f.Z)({},i,{ref:r})))}));return n.displayName="WithAnalyticsContext(".concat(t.displayName||t.name,")"),n}};var L=n(83783),M=n(51595),R=n(36233),N=n(56298),j=n(3619),F=n(26947),B={"top left":{position:"top-start",animation:"top"},"top center":{position:"top",animation:"top"},"top right":{position:"top-end",animation:"top"},"right top":{position:"right-start",animation:"right"},"right middle":{position:"right",animation:"right"},"right bottom":{position:"right-end",animation:"right"},"bottom left":{position:"bottom-start",animation:"bottom"},"bottom center":{position:"bottom",animation:"bottom"},"bottom right":{position:"bottom-end",animation:"bottom"},"left top":{position:"left-start",animation:"left"},"left middle":{position:"left",animation:"left"},"left bottom":{position:"left-end",animation:"left"}},z="right middle";function U(e){return function(e){return e&&B[e]?B[e].position:null}(e)||B[z].position}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var G,q,K,$={hasExtractedStyles:!1,offsets:{popper:{left:-9999,top:-9999,position:null}},cssPosition:"absolute",originalHeight:null,maxHeight:null},J=function(e){(0,c.Z)(n,e);var t=W(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,a.Z)(r),"targetRef",d.createRef()),(0,l.Z)((0,a.Z)(r),"contentRef",d.createRef()),(0,l.Z)((0,a.Z)(r),"extractStyles",(function(e){if(e){var t=e.offsets.popper.height,n=Math.round(e.offsets.popper.left),o=Math.round(e.offsets.popper.top),i="absolute",a=r.state.originalHeight||t,c=r.calculateMaxHeight(a,t,o,i);r.setState({cssPosition:i,hasExtractedStyles:!0,transform:"translate3d(".concat(n,"px, ").concat(o,"px, 0px)"),originalHeight:a,maxHeight:c})}})),r.state=$,r.extractStyles=(0,F.Z)(r.extractStyles.bind((0,a.Z)(r))),r}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.applyPopper(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.applyPopper(e)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.onPositioned,r=this.state.hasExtractedStyles;!t.hasExtractedStyles&&r&&n&&n()}},{key:"componentWillUnmount",value:function(){this.popper&&this.popper.destroy()}},{key:"calculateMaxHeight",value:function(e,t,n,r){var o=0;if(document.documentElement&&(o=document.documentElement.clientHeight),"fixed"!==r)return null;var i=Math.max(o,window.innerHeight||0);return i<e&&t+n>=i-50?i-12:null}},{key:"applyPopper",value:function(e){if(this.targetRef.current&&this.contentRef.current&&(this.popper&&this.popper.destroy(),e.content)){var t=this.targetRef.current.children[0],n={placement:U(e.position),onCreate:this.extractStyles,onUpdate:this.extractStyles,modifiers:{applyStyle:{enabled:!1},hide:{enabled:!1},offset:{enabled:!0,offset:this.props.offset},flip:{enabled:!1,flipVariations:!0,boundariesElement:"viewport",padding:0},preventOverflow:{enabled:!1,escapeWithReference:!0}},positionFixed:!1};t&&(this.popper=new j.Z(t,this.contentRef.current,n))}}},{key:"render",value:function(){var e=this.state,t=e.transform,n=e.hasExtractedStyles,r=e.maxHeight,o=n?{}:{opacity:0};return d.createElement("div",null,d.createElement("div",{ref:this.targetRef},this.props.children),d.createElement("div",{ref:this.contentRef,style:H({top:0,left:0,position:"absolute",transform:t,maxHeight:r||"auto"},o)},this.props.content))}}]),n}(d.Component);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}(0,l.Z)(J,"defaultProps",{boundariesElement:"viewport",children:null,content:null,offset:"0, 0",position:"right middle",zIndex:400,lockScroll:!1,isAlwaysFixed:!1,onPositioned:function(){}});var X,Q="@atlaskit/editor-common",ee="72.9.0",te="0, ".concat((0,N.ww)(),"px"),ne=function(e){(0,c.Z)(n,e);var t=Y(n);function n(){var e;(0,o.Z)(this,n);for(var i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return e=t.call.apply(t,[this].concat(c)),(0,l.Z)((0,a.Z)(e),"wrapperStyles",(0,p.iv)(G||(G=(0,r.Z)(["\n    ","\n    transition-duration: 0.2s;\n    transition: box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);\n  "])),e.props.shouldFitContainer?"display: block; flex: 1 1 auto;":"display: inline-flex;")),(0,l.Z)((0,a.Z)(e),"triggerStyles",(0,p.iv)(q||(q=(0,r.Z)(["\n    transition-duration: 0.2s;\n    transition: box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38);\n    ","\n  "])),e.props.shouldFitContainer?"display: block; box-sizing: border-box;":"display: inline-flex;")),(0,l.Z)((0,a.Z)(e),"menuWrapper",(function(e){return(0,p.iv)(K||(K=(0,r.Z)(["\n      color: ",";\n      background-color: ",";\n      border-radius: ","px;\n      box-shadow: 0 ","px ","px -","px ",",\n        0 0 1px ",";\n      box-sizing: border-box;\n      overflow: auto;\n      padding: ","px 0;\n      max-height: 90vh;\n    "])),(0,R.Z)({light:"var(--ds-text, ".concat(M.xA,")"),dark:"var(--ds-text, ".concat(M.ly,")")})(e),(0,R.Z)({light:"var(--ds-surface-overlay, ".concat(M.N0,")"),dark:"var(--ds-surface-overlay, ".concat(M.H8,")")})(e),(0,N.E0)(),(0,N.ww)()/2,(0,N.ww)(),(0,N.ww)()/4,M.Nx,M.VG,(0,N.ww)()/2)})),(0,l.Z)((0,a.Z)(e),"componentDidMount",(function(){e.setContentWidth(),document.addEventListener("click",e.handleClickOutside,!0),document.addEventListener("keydown",e.handleEsc)})),(0,l.Z)((0,a.Z)(e),"componentDidUpdate",(function(){e.props.isOpen&&e.setContentWidth()})),(0,l.Z)((0,a.Z)(e),"componentWillUnmount",(function(){document.removeEventListener("click",e.handleClickOutside,!0),document.removeEventListener("keydown",e.handleEsc)})),(0,l.Z)((0,a.Z)(e),"setContentWidth",(function(){var t=(0,a.Z)(e),n=t.dropContentRef,r=t.triggerRef;e.props.shouldFitContainer&&n&&r&&(n.style.width="".concat(r.offsetWidth-2,"px"))})),(0,l.Z)((0,a.Z)(e),"handleEsc",(function(t){"Escape"!==t.key&&"Esc"!==t.key||!e.props.isOpen||e.close(t)})),(0,l.Z)((0,a.Z)(e),"handleClickOutside",(function(t){if(e.props.isOpen&&t.target instanceof Node){var n=e.triggerRef&&e.triggerRef.contains(t.target),r=e.dropContentRef&&e.dropContentRef.contains(t.target);n||r||e.close(t)}})),(0,l.Z)((0,a.Z)(e),"close",(function(t){e.props.onOpenChange&&e.props.onOpenChange({isOpen:!1,event:t})})),(0,l.Z)((0,a.Z)(e),"handleContentRef",(function(t){e.dropContentRef=t,t&&t.focus()})),(0,l.Z)((0,a.Z)(e),"handleTriggerRef",(function(t){e.triggerRef=t})),e}return(0,i.Z)(n,[{key:"getChildContext",value:function(){return{shouldAllowMultilineItems:!1}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.isOpen,o=t.position,i=t.trigger,a=t.onPositioned,c=t.testId,s=t.id,u=r?(0,p.tZ)("div",{css:function(t){return e.menuWrapper({theme:t})},"data-role":"droplistContent","data-testid":c&&"".concat(c,"--content"),ref:this.handleContentRef,id:s,role:"menu"},n):null;return(0,p.tZ)("div",{css:this.wrapperStyles},(0,p.tZ)(J,{content:u,offset:te,position:o,onPositioned:a},(0,p.tZ)("div",{css:this.triggerStyles,ref:this.handleTriggerRef},i)))}}]),n}(d.Component),re=(X="atlaskit",function(e){return function(t){var n=t(e),r=n.clone();return r&&r.fire(X),n}});const oe=I({componentName:"droplist",packageName:Q,packageVersion:ee})((0,L.Z)({onOpenChange:re({action:"toggled",actionSubject:"droplist",attributes:{componentName:"droplist",packageName:Q,packageVersion:ee}})})(ne))},55504:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(89028),p=n.n(d),f=n(63915),h=n(74173),v=n(79169),m=p()({loader:function(){return n.e(8351).then(n.bind(n,45631)).then((function(e){return e.ResourcedEmojiComponent}))},loading:function(){return null}});const g=function(e){var t=e.emojiId,n=e.optimisticImageURL;return(0,l.useEffect)((function(){if(t)return(0,h.oY)(t).start({samplingRate:v.VO}),h.vb["emoji-rendered"].getInstance(t.id||t.shortName).addMetadata({source:"ResourcedEmoji",emojiId:t.id,isOptimisticImageURL:!!n}),function(){(0,h.oY)(t).abort({metadata:{source:"ResourcedEmoji",reason:"unmount"}})}}),[t,n]),l.createElement(f.t,{experiences:[h.vb["emoji-rendered"].getInstance(e.emojiId.id||e.emojiId.shortName)]},l.createElement(m,e))};var y=n(27467),b=n(69024);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var k=function(e){(0,a.Z)(n,e);var t=w(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,u.Z)((0,i.Z)(o),"renderWithProvider",(function(e){var t,n=o.props,r=n.allowTextFallback,i=n.shortName,a=n.id,c=n.fallback,s=n.fitToHeight,u=n.showTooltip,d=n.resourceConfig;return r&&!e.emojiProvider?l.createElement("span",{"data-emoji-id":a,"data-emoji-short-name":i,"data-emoji-text":c||i},c||i):e.emojiProvider?l.createElement(g,{emojiId:{id:a,fallback:c,shortName:i},emojiProvider:e.emojiProvider,showTooltip:u,fitToHeight:s,optimistic:!0,optimisticImageURL:null==d||null===(t=d.optimisticImageApi)||void 0===t?void 0:t.getUrl({id:a,fallback:c,shortName:i})}):null})),o.providerFactory=e.providers||new y.Z,o}return(0,o.Z)(n,[{key:"componentWillUnmount",value:function(){this.props.providers||this.providerFactory.destroy()}},{key:"render",value:function(){return l.createElement(b.S,{providers:["emojiProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),n}(l.PureComponent);(0,u.Z)(k,"displayName","EmojiNode"),(0,u.Z)(k,"defaultProps",{showTooltip:!0})},73254:(e,t,n)=>{"use strict";n.d(t,{AS:()=>_,DJ:()=>P,H4:()=>C,m2:()=>D,sY:()=>k});var r,o,i,a,c,s,u,l=n(7896),d=n(59740),p=n(71171),f=n(2784),h=n(28165),v=n(63470),m=n(8357),g=n(51595),y=n(36233),b=n(56298),w=["children"],k=(0,v.vU)({collapseNode:{id:"fabric.editor.collapseNode",defaultMessage:"Collapse content",description:"Collapse the node"},expandDefaultTitle:{id:"fabric.editor.expandDefaultTitle",defaultMessage:"Click here to expand...",description:"Placeholder text for an expand node"},expandNode:{id:"fabric.editor.expandNode",defaultMessage:"Expand content",description:"Expand the node"},expandPlaceholderText:{id:"fabric.editor.expandPlaceholder",defaultMessage:"Give this expand a title...",description:"Placeholder text for an expand node title input field"}}),E=(0,b.ww)()/2,x=(0,y.Z)({light:"var(--ds-surface, rgba(255, 255, 255, 0.6))",dark:"var(--ds-surface, rgba(9, 10, 11, 0.29))"}),O="var(--ds-border-focused, ".concat(g.M5,")"),S=(0,y.Z)({light:"var(--ds-border, ".concat(g.bt,")"),dark:"var(--ds-border, ".concat(g.H8,")")}),C=function(e){var t=e.children,n=e.expanded;return(0,h.tZ)("div",{css:function(e){return n?[T(e),A]:T(e)}},t)},T=function(e){return(0,h.iv)(r||(r=(0,p.Z)(["\n  cursor: pointer;\n  display: flex;\n  color: ",";\n  border-radius: ","px;\n  width: 24px;\n  height: 24px;\n\n  &:hover {\n    background: ",";\n  }\n\n  svg {\n    transition: transform 0.2s ",";\n  }\n"])),(0,y.Z)({light:"var(--ds-icon, ".concat(g.WA,")"),dark:"var(--ds-icon, #d9dde3)"})(e),(0,b.ww)()/2,"var(--ds-background-neutral-subtle-hovered, ".concat(g.kd,")"),m.Y3)},A=(0,h.iv)(o||(o=(0,p.Z)(["\n  svg {\n    transform: rotate(90deg);\n  }\n"]))),_=(0,h.iv)(i||(i=(0,p.Z)(["\n  width: ","px;\n  height: ","px;\n"])),3*(0,b.ww)(),3*(0,b.ww)()),P=(0,f.forwardRef)((function(e,t){var n=e.children,r=(0,d.Z)(e,w);return(0,h.tZ)("div",(0,l.Z)({css:_},r,{ref:t}),n)})),D={titleInputStyles:function(e){return(0,h.iv)(s||(s=(0,p.Z)(["\n  outline: none;\n  border: none;\n  font-size: ",";\n  line-height: ",";\n  font-weight: normal;\n  color: ",";\n  background: transparent;\n  display: flex;\n  flex: 1;\n  padding: 0 0 0 ","px;\n  width: 100%;\n\n  &::placeholder {\n    opacity: 0.6;\n    color: ",";\n  }\n"])),(0,m.Gh)((0,b.JB)()),m.pt,(0,y.Z)({light:"var(--ds-text-subtlest, ".concat(g.F4,")"),dark:"var(--ds-text-subtlest, ".concat(g.ly,")")})(e),(0,b.ww)()/2,(0,y.Z)({light:"var(--ds-text-subtlest, ".concat(g.F4,")"),dark:"var(--ds-text-subtlest, ".concat(g.ly,")")})(e))},titleContainerStyles:function(e){return(0,h.iv)(u||(u=(0,p.Z)(["\n  padding: 0;\n  display: flex;\n  align-items: flex-start;\n  background: none;\n  border: none;\n  font-size: ",";\n  width: 100%;\n  color: ",";\n  overflow: hidden;\n  cursor: pointer;\n  // Prevent browser selection being inside the title container\n  user-select: none;\n\n  &:focus {\n    outline: 0;\n  }\n"])),(0,m.Gh)((0,b.JB)()),(0,y.Z)({light:"var(--ds-text-subtle, ".concat(g.Us,")"),dark:"var(--ds-text-subtle, ".concat(g.ly,")")})(e))},containerStyles:function(e){var t=e.expanded,n=e.focused,r="".concat((0,b.ww)()/2/(0,b.JB)(),"rem"),o="expand"===e["data-node-type"]?"-".concat(m.qh,"px"):0,i="".concat(r," ").concat(o," ").concat(0);return function(e){return(0,h.iv)(a||(a=(0,p.Z)(["\n    border-width: 1px;\n    border-style: solid;\n    border-color: ",";\n    border-radius: ","px;\n    min-height: 25px;\n    background: ",";\n    margin: ",";\n\n    transition: background 0.3s ",",\n      border-color 0.3s ",";\n    padding: ","px;\n\n    &:hover {\n      // TODO: Remove the border styles below once design tokens have been enabled and fallbacks are no longer triggered.\n      // This is because the default state already uses the same token and, as such, the hover style won't change anything.\n      // https://product-fabric.atlassian.net/browse/DSP-4152\n      border: 1px solid\n        ",";\n      background: ",";\n    }\n\n    td > :not(style):first-child,\n    td > style:first-child + * {\n      margin-top: 0;\n    }\n  "])),n?O:t?S(e):"transparent",E,t?x(e):"var(--ds-background-neutral-subtle, transparent)",i,m.Y3,m.Y3,(0,b.ww)(),(0,y.Z)({light:"var(--ds-border, ".concat(g.Nx,")"),dark:"var(--ds-border, ".concat(g.H8,")")})(e),x(e))}},contentStyles:function(e){return function(t){return(0,h.iv)(c||(c=(0,p.Z)(["\n    padding-top: ","px;\n    padding-right: ","px;\n    padding-left: ","px;\n    display: flow-root;\n\n    // The follow rules inside @supports block are added as a part of ED-8893\n    // The fix is targeting mobile bridge on iOS 12 or below,\n    // We should consider remove this fix when we no longer support iOS 12\n    @supports not (display: flow-root) {\n      width: 100%;\n      box-sizing: border-box;\n    }\n\n    ","\n  "])),e.expanded?(0,b.ww)():0,(0,b.ww)(),4*(0,b.ww)()-(0,b.ww)()/2,e.expanded?"":"\n        .expand-content-wrapper, .nestedExpand-content-wrapper {\n          /* We visually hide the content here to preserve the content during copy+paste */\n          width: 100%;\n          display: block;\n          height: 0;\n          overflow: hidden;\n          clip: rect(1px, 1px, 1px, 1px);\n          white-space: nowrap;\n          user-select: none;\n        }\n      ")}}}},74427:(e,t,n)=>{"use strict";n.d(t,{G:()=>f});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(14605);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var f=function(e){(0,a.Z)(n,e);var t=p(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"state",{missingIntlProviderInAncestry:!1}),e}return(0,o.Z)(n,[{key:"componentDidCatch",value:function(e,t){if(!(null==(n=e)||null===(r=n.toString())||void 0===r?void 0:r.includes("<IntlProvider> needs to exist in the component ancestry")))throw e;var n,r;this.setState({missingIntlProviderInAncestry:!0})}},{key:"render",value:function(){return this.state.missingIntlProviderInAncestry?l.createElement(d.Z,{locale:"en"},this.props.children):this.props.children}}]),n}(l.Component)},95847:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(2784),o=n(89274),i=n(14605),a=function(){return null===(0,r.useContext)(o._y)};function c(e){var t=e.children;return a()?r.createElement(i.Z,{locale:"en"},t):t}},16031:(e,t,n)=>{"use strict";n.d(t,{I3:()=>a,VF:()=>i,nz:()=>c,uP:()=>o});var r=24;function o(e,t,n){return(t+r)/n*e-r}function i(e,t,n){return(e+r)*n/(t+r)}function a(e,t){return(t+r)*e-r}function c(e,t){return(e+r)/(t+r)}},99009:(e,t,n)=>{"use strict";n.d(t,{T1:()=>f,ZP:()=>v,bW:()=>h,rS:()=>p,vz:()=>d});var r=n(96234),o=n(2784),i=n(28165),a=n(72779),c=n.n(a),s=n(8357),u=n(16031),l=n(8887),d=250,p=200,f=["wrap-left","wrap-right","align-end","align-start"],h=function(e,t,n){return f.indexOf(e)>-1&&n&&t&&t>.5*n};function v(e){var t=e.layout,n=e.width,a=e.height,d=e.containerWidth,p=void 0===d?n:d,f=e.isLoading,v=void 0!==f&&f,m=e.pctWidth,g=e.className,y=e.children,b=e.nodeType,w=void 0===b?"mediaSingle":b,k=e.fullWidthMode,E=e.lineLength,x=e.hasFallbackContainer,O=void 0===x||x,S=e.handleMediaSingleRef,C=o.Children.toArray(y);!m&&h(t,n,E)&&(m=50);var T,A,_=void 0===n;if(m){var P=Math.ceil((0,u.I3)(m/100,E||p||0));_?n=P-s.D$:void 0!==n&&(a=a/n*P,n=P)}else _&&(n=s.In-s.D$);if(_)T=a;else if(void 0!==n){A="".concat((a/n*100).toFixed(3),"%"),"embedCard"===w&&(A="calc(".concat(A," + 32px)"))}var D=(0,r.Z)(C,2),Z=D[0],I=D[1];return(0,i.tZ)("div",{ref:S,css:(0,l.b3)({width:n,layout:t,containerWidth:p,pctWidth:m,fullWidthMode:k}),"data-layout":t,"data-width":m,"data-node-type":w,className:c()("rich-media-item mediaSingleView-content-wrap","image-".concat(t),g,{"is-loading":v,"rich-media-wrapped":"wrap-left"===t||"wrap-right"===t})},(0,i.tZ)(l.zB,{hasFallbackContainer:O,height:T,paddingBottom:A},Z),I)}},8887:(e,t,n)=>{"use strict";n.d(t,{b3:()=>h,zB:()=>m});var r,o,i,a,c=n(59740),s=n(71171),u=(n(2784),n(28165)),l=n(8357),d=n(17743),p=["children"];function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;switch(e){case"align-start":case"align-end":case"wrap-right":case"wrap-left":return t>n/2?"calc(50% - 12px)":"".concat(t,"px");case"wide":return(0,d.HV)(n);case"full-width":return(0,d.rW)(e,n);default:return o?"".concat(t,"px"):r?function(e){return e>l.zJ?"100%":"".concat(e,"px")}(t):function(e){return e>l.Vt?"100%":"".concat(e,"px")}(t)}}var h=function(e){var t=e.containerWidth,n=void 0===t?0:t,i=e.fullWidthMode,a=e.isResized,c=e.layout,l=e.pctWidth,p=e.width;return(0,u.iv)(r||(r=(0,s.Z)(["\n  /* For nested rich media items, set max-width to 100% */\n  tr &,\n  [data-layout-column] &,\n  [data-node-type='expand'] & {\n    max-width: 100%;\n  }\n\n  width: ",";\n  ","\n  max-width: ",";\n  float: ",";\n  margin: ",";\n  ",";\n\n  &:not(.is-resizing) {\n    transition: width 100ms ease-in;\n  }\n"])),l?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e){case"wide":return(0,d.HV)(n);case"full-width":return(0,d.rW)(e,n);default:return"".concat(t,"px")}}(c,p||0,n):f(c,p||0,n,i,a),"full-width"===c&&(0,u.iv)(o||(o=(0,s.Z)(["\n    min-width: 100%;\n  "]))),function(e,t){switch(e){case"wide":return(0,d.HV)(t);case"full-width":return(0,d.rW)(e,t);default:return"100%"}}(c,n),function(e){switch(e){case"wrap-right":return"right";case"wrap-left":return"left";default:return"none"}}(c),function(e){switch(e){case"wrap-right":return"12px auto 12px 12px";case"wrap-left":return"12px 12px 12px auto";default:return"24px auto"}}(c),function(e){switch(e){case"align-end":return"margin-right: 0";case"align-start":return"margin-left: 0";default:return""}}(c))},v=function(e){return(0,u.iv)(a||(a=(0,s.Z)(["\n  position: relative;\n\n  ","\n\n  /* Editor */\n  & > figure {\n    position: ",";\n    height: 100%;\n    width: 100%;\n  }\n\n  & > div {\n    position: ",";\n    height: 100%;\n    width: 100%;\n  }\n\n  &[data-node-type='embedCard'] > div {\n    width: 100%;\n  }\n\n  /* Renderer */\n  [data-node-type='media'] {\n    position: static !important;\n\n    > div {\n      position: absolute;\n      height: 100%;\n    }\n  }\n"])),(n=(t=e).hasFallbackContainer,r=t.paddingBottom,o=t.height,(0,u.iv)(i||(i=(0,s.Z)(["\n  ","\n"])),n?"\n  &::after {\n    content: '';\n    display: block;\n    ".concat(o?"height: ".concat(o,"px;"):r?"padding-bottom: ".concat(r,";"):"","\n\n    /* Fixes extra padding problem in Firefox */\n    font-size: 0;\n    line-height: 0;\n  }\n  "):"")),e.hasFallbackContainer?"absolute":"relative",e.hasFallbackContainer?"absolute":"relative");var t,n,r,o},m=function(e){var t=e.children,n=(0,c.Z)(e,p);return(0,u.tZ)("div",{css:v(n)},t)};m.displayName="WrapperMediaSingle"},77048:(e,t,n)=>{"use strict";n.d(t,{$:()=>h,Z:()=>v});var r=n(7896),o=n(9249),i=n(87371),a=n(80753),c=n(45754),s=n(11987),u=n(95058),l=n(56666),d=n(2784),p=n(48998);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var h={RIGHT_SHADOW:"right-shadow",LEFT_SHADOW:"left-shadow"};function v(e,t){return function(n){(0,c.Z)(u,n);var s=f(u);function u(){var e;(0,o.Z)(this,u);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e=s.call.apply(s,[this].concat(r)),(0,l.Z)((0,a.Z)(e),"overflowContainerWidth",0),(0,l.Z)((0,a.Z)(e),"state",{showLeftShadow:!1,showRightShadow:!1}),(0,l.Z)((0,a.Z)(e),"handleScroll",(function(n){e.overflowContainer&&n.target===e.overflowContainer&&!t.useShadowObserver&&e.updateShadows()})),(0,l.Z)((0,a.Z)(e),"updateShadows",(function(){t.useShadowObserver||e.setState((function(t){if(e.overflowContainer){var n=e.calcOverflowDiff(),r=n>0&&n>e.overflowContainer.scrollLeft,o=e.showLeftShadow(e.overflowContainer);return o!==t.showLeftShadow||r!==e.state.showRightShadow?{showLeftShadow:o,showRightShadow:r}:null}}))})),(0,l.Z)((0,a.Z)(e),"showLeftShadow",(function(e){return!!e&&e.scrollLeft>0})),(0,l.Z)((0,a.Z)(e),"calcOverflowDiff",(function(){return e.overflowContainer?(e.diff=e.calcScrollableWidth(),e.diff-e.overflowContainer.offsetWidth):0})),(0,l.Z)((0,a.Z)(e),"calcScrollableWidth",(function(){if(!e.scrollable&&e.overflowContainer)return e.overflowContainer.scrollWidth;if(!e.scrollable)return 0;for(var t=0,n=0;n<e.scrollable.length;n++){t+=e.scrollable[n].scrollWidth}return t})),(0,l.Z)((0,a.Z)(e),"handleContainer",(function(n){n&&!e.container&&(e.container=n,e.overflowContainer=n.querySelector(t.overflowSelector),e.overflowContainer||(e.overflowContainer=n),t.useShadowObserver?e.initShadowObserver():(e.updateShadows(),e.overflowContainer.addEventListener("scroll",e.handleScroll)))})),e}return(0,i.Z)(u,[{key:"componentWillUnmount",value:function(){if(t.useShadowObserver)return this.shadowObserver&&this.shadowObserver.dispose();this.overflowContainer&&this.overflowContainer.removeEventListener("scroll",this.handleScroll),this.updateShadows()}},{key:"componentDidUpdate",value:function(){t.useShadowObserver||this.updateShadows()}},{key:"initShadowObserver",value:function(){var e=this;!this.shadowObserver&&this.overflowContainer&&(this.shadowObserver=new p.Xx({scrollContainer:this.overflowContainer,onUpdateShadows:function(t){e.setState((function(e){var n=t.showLeftShadow,r=t.showRightShadow;return n!==e.showLeftShadow||r!==e.showRightShadow?{showLeftShadow:n,showRightShadow:r}:null}))}}))}},{key:"render",value:function(){var n=this.state,o=n.showLeftShadow,i=[n.showRightShadow&&h.RIGHT_SHADOW,o&&h.LEFT_SHADOW,t.useShadowObserver&&p.S4.SHADOW_CONTAINER].filter(Boolean).join(" ");return d.createElement(e,(0,r.Z)({handleRef:this.handleContainer,shadowClassNames:i},this.props))}}]),u}(d.Component)}},48998:(e,t,n)=>{"use strict";n.d(t,{S4:()=>c,Xx:()=>s});var r,o=n(9249),i=n(87371),a=n(56666);!function(e){e.SHOW_LEFT_SHADOW="showLeftShadow",e.SHOW_RIGHT_SHADOW="showRightShadow"}(r||(r={}));var c={SENTINEL_LEFT:"sentinel-left",SENTINEL_RIGHT:"sentinel-right",SHADOW_CONTAINER:"with-shadow-observer"},s=function(){function e(t){var n,i=this,s=t.scrollContainer,u=t.onUpdateShadows;(0,o.Z)(this,e),(0,a.Z)(this,"sentinels",{}),(0,a.Z)(this,"shadowStates",(n={},(0,a.Z)(n,r.SHOW_LEFT_SHADOW,!1),(0,a.Z)(n,r.SHOW_RIGHT_SHADOW,!1),n)),(0,a.Z)(this,"init",(function(){i.scrollContainer&&!i.intersectionObserver&&(i.sentinels.right=document.createElement("div"),i.sentinels.right.classList.add(c.SENTINEL_RIGHT),i.scrollContainer.appendChild(i.sentinels.right),i.sentinels.left=document.createElement("div"),i.sentinels.left.classList.add(c.SENTINEL_LEFT),i.scrollContainer.prepend(i.sentinels.left),i.intersectionObserver=new IntersectionObserver((function(e,t){e.forEach(i.onIntersect)}),{root:i.scrollContainer}),i.intersectionObserver.observe(i.sentinels.left),i.intersectionObserver.observe(i.sentinels.right))})),(0,a.Z)(this,"onIntersect",(function(e){var t;i.requestCallbackId=(t=function(){e.target.classList.contains(c.SENTINEL_LEFT)&&(i.shadowStates[r.SHOW_LEFT_SHADOW]=!e.isIntersecting),e.target.classList.contains(c.SENTINEL_RIGHT)&&(i.shadowStates[r.SHOW_RIGHT_SHADOW]=!e.isIntersecting),i.onUpdateShadows(i.shadowStates)},window.requestIdleCallback?window.requestIdleCallback(t):window.requestAnimationFrame(t))})),this.scrollContainer=s,this.onUpdateShadows=u,this.init()}return(0,i.Z)(e,[{key:"dispose",value:function(){var e;this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0,this.requestCallbackId&&(e=this.requestCallbackId,window.cancelIdleCallback?window.cancelIdleCallback(e):window.cancelAnimationFrame(e)))}}]),e}()},4035:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(80366),p=n.n(d),f=n(26947),h=n(28316),v=n(8357),m=n(70256);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var w=function(e){(0,a.Z)(n,e);var t=b(n);function n(){var e,o;(0,r.Z)(this,n);for(var a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return o=t.call.apply(t,[this].concat(c)),(0,u.Z)((0,i.Z)(o),"rafIds",new Set),(0,u.Z)((0,i.Z)(o),"state",{validPosition:!0}),(0,u.Z)((0,i.Z)(o),"popupRef",l.createRef()),(0,u.Z)((0,i.Z)(o),"placement",["",""]),(0,u.Z)((0,i.Z)(o),"handleRef",(function(e){e&&o.initPopup(e)})),(0,u.Z)((0,i.Z)(o),"scheduledUpdatePosition",(0,f.Z)((function(e){o.updatePosition(o.props)}))),(0,u.Z)((0,i.Z)(o),"onResize",(function(){return o.scheduledUpdatePosition(o.props)})),(0,u.Z)((0,i.Z)(o),"resizeObserver",null!==(e=window)&&void 0!==e&&e.ResizeObserver?new ResizeObserver((function(){o.scheduledUpdatePosition(o.props)})):void 0),(0,u.Z)((0,i.Z)(o),"initFocusTrap",(0,f.Z)((function(){var e=o.popupRef.current;if(e){var t={clickOutsideDeactivates:!0,escapeDeactivates:!0,initialFocus:e,fallbackFocus:e,returnFocusOnDeactivate:!1};o.focusTrap=p()(e,t),o.focusTrap.activate()}}))),o}return(0,o.Z)(n,[{key:"calculatePosition",value:function(e,t){var n=e.target,r=e.fitHeight,o=e.fitWidth,i=e.boundariesElement,a=e.offset,c=e.onPositionCalculated,s=e.onPlacementChanged,u=e.alignX,l=e.alignY,d=e.stick,p=e.forcePlacement,f=e.allowOutOfBounds,h=e.rect,v=e.preventOverflow;if(!n||!t)return{};var g=(0,m.Es)(n,i||document.body,o,r,u,l,p,v);s&&this.placement.join("")!==g.join("")&&(s(g),this.placement=g);var y=(0,m.kl)({placement:g,popup:t,target:n,stick:d,offset:a,allowOutOfBounds:f,rect:h});return{position:y=c?c(y):y,validPosition:(0,m.$)(n)}}},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state).popup,n=this.calculatePosition(e,t),r=n.position,o=n.validPosition;r&&o&&this.setState({position:r,validPosition:o})}},{key:"cannotSetPopup",value:function(e,t,n){return!t||document.body.contains(t)&&e.offsetParent&&!e.offsetParent.contains(t)||n&&!n.contains(e.offsetParent)}},{key:"initPopup",value:function(e){this.popupRef.current=e;var t=this.props.target,n=(0,m.uo)(e);this.cannotSetPopup(e,t,n)||(this.setState({popup:e}),this.scheduledUpdatePosition(this.props),this.props.focusTrap&&this.initFocusTrap())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.scheduledUpdatePosition(e)}},{key:"destroyFocusTrap",value:function(){var e;this.initFocusTrap.cancel(),null===(e=this.focusTrap)||void 0===e||e.deactivate()}},{key:"handleChangedFocusTrapProp",value:function(e){var t;if(e.focusTrap!==this.props.focusTrap)return this.props.focusTrap?(this.focusTrap&&this.focusTrap.unpause(),this.initFocusTrap()):null===(t=this.focusTrap)||void 0===t?void 0:t.pause()}},{key:"componentDidUpdate",value:function(e){this.handleChangedFocusTrapProp(e)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize);var e=this.props.stick;this.scrollParentElement=(0,m.uo)(this.props.target),this.scrollParentElement&&this.resizeObserver&&this.resizeObserver.observe(this.scrollParentElement),this.scrollElement=e?this.scrollParentElement:this.props.scrollableElement,this.scrollElement&&this.scrollElement.addEventListener("scroll",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.scrollElement&&this.scrollElement.removeEventListener("scroll",this.onResize),this.scrollParentElement&&this.resizeObserver&&this.resizeObserver.unobserve(this.scrollParentElement),this.scheduledUpdatePosition.cancel(),this.destroyFocusTrap()}},{key:"renderPopup",value:function(){var e=this.state.position,t=this.props.shouldRenderPopup;return t&&!t(e||{})?null:l.createElement("div",{ref:this.handleRef,style:y(y({position:"absolute",zIndex:this.props.zIndex||v.Zr},e),this.props.style),"aria-label":this.props.ariaLabel||"Popup","data-editor-popup":!0},this.props.children)}},{key:"render",value:function(){var e=this.props,t=e.target,n=e.mountTo,r=this.state.validPosition;return t&&r?n?(0,h.createPortal)(this.renderPopup(),n):this.renderPopup():null}}]),n}(l.Component);(0,u.Z)(w,"defaultProps",{offset:[0,0],allowOutOfBound:!1})},70256:(e,t,n)=>{"use strict";n.d(t,{$:()=>y,Es:()=>d,kl:()=>g,uo:()=>b});var r=n(96234),o=n(56666);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return e===document.body}function s(e){return e&&3===e.nodeType}function u(e,t,n,r,o,i){if(o&&r)return r;if(!n)return"bottom";s(e)&&(e=e.parentElement);var a=t.getBoundingClientRect(),u=a.height,l=c(t)?0:a.top,d=e.getBoundingClientRect(),p=d.top,f=d.height,h=p-(l-t.scrollTop),v=l+u-(p+f);return i&&h<=n||v>=n||v>=h?"bottom":"top"}function l(e,t,n,r,o,i){if(o&&r&&!i)return r;if(!n)return r||"left";s(e)&&(e=e.parentElement);var a=e.getBoundingClientRect(),c=a.left,u=a.width,l=t.getBoundingClientRect(),d=l.left,p=c-d+u,f=d+l.width-c;return r&&p>n&&f>n?r:f>=n||f>=p&&!r?"left":"right"}function d(e,t,n,r,o,i,a,c){return[u(e,t,r,i,a,c),l(e,t,n,o,a,c)]}var p=function(e){var t=e.placement,n=e.targetLeft,r=e.targetRight,o=e.targetWidth,i=e.isPopupParentBody,a=e.popupOffsetParentLeft,c=e.popupOffsetParentRight,s=e.popupOffsetParentScrollLeft,u=e.popupOffsetParentClientWidth,l=e.popupClientWidth,d=e.offset,p=e.allowOutOfBounds,h=void 0!==p&&p,v={};if("left"===t)v.left=Math.ceil(n-a+(i?0:s)+d[0]);else if("center"===t)v.left=Math.ceil(n-a+(i?0:s)+d[0]+o/2-l/2);else if("end"===t){var m=Math.ceil(r-a+(i?0:s)+d[0]);v.left=m}else v.right=Math.ceil(c-r-(i?0:s)+d[0]);return h||(void 0!==v.left&&(v.left=f(v.left,l,u)),void 0!==v.right&&(v.right=f(v.right,l,u))),v},f=function(e,t,n){return n<e+t&&(e=n-t-1),Math.max(1,e)},h=function(e){var t=e.target,n=e.targetTop,r=e.targetHeight,o=e.popup,i=e.offset,c=e.position,s=b(t),u=a({},c);if(s){var l=n-s.getBoundingClientRect().top,d=r+l;if(s.clientHeight-d<=o.clientHeight+2*i[1]&&l<s.clientHeight){var p=d-s.clientHeight+2*i[1],f=u.top||0;f-=p+o.clientHeight,u.top=f}}return u},v=function(e){var t=e.target,n=e.targetTop,r=e.targetHeight,o=e.popupOffsetParentHeight,i=e.popupOffsetParent,c=e.offset,s=e.position,u=e.placement,l=b(t),d=a({},s);if(l){var p=l.getBoundingClientRect().top,f=n-p,h=l.scrollTop;if(f<0){var v=n+(h-p)+r+c[1]<h;"top"===u&&(d.bottom=v?o-(f+i.scrollTop+r):f+(d.bottom||0)),"start"===u&&(d.top=v?f+i.scrollTop+r:Math.abs(f)+(d.top||0)+c[1])}}return d},m=function(e){var t=e.placement,n=e.targetTop,r=e.targetHeight,o=e.isPopupParentBody,i=e.popupOffsetParentHeight,a=e.popupOffsetParentTop,c=e.popupOffsetParentScrollTop,s=e.borderBottomWidth,u=e.offset,l={};if("top"===t)l.bottom=Math.ceil(i-(n-a)-(o?0:c)-s+u[1]);else if("start"===t)l.top=Math.ceil(n-a-u[1]+(o?0:c));else{var d=Math.ceil(n-a+r+(o?0:c)-s+u[1]);l.top=d}return l};function g(e){var t=e.placement,n=e.target,o=e.popup,i=e.offset,u=e.stick,l=e.allowOutOfBounds,d=void 0!==l&&l,f=e.rect,g={};if(!n||!o||!o.offsetParent)return g;s(n)&&(n=n.parentElement);var y=o.offsetParent,b=y.style,w=0;b&&b.borderBottomWidth&&(w=parseInt(b.borderBottomWidth,10));var k=(0,r.Z)(t,2),E=k[0],x=k[1],O=f||y.getBoundingClientRect(),S=O.top,C=O.left,T=O.right,A=O.height,_=n.getBoundingClientRect(),P=_.top,D=_.left,Z=_.right,I=_.height,L=_.width,M=c(y),R=m({placement:E,targetTop:P,isPopupParentBody:M,popupOffsetParentHeight:A,popupOffsetParentTop:S,popupOffsetParentScrollTop:y.scrollTop||0,targetHeight:I,borderBottomWidth:w,offset:i});g=a(a({},g),R),"top"!==E&&"start"!==E||!u||(g=v({target:n,targetTop:P,targetHeight:I,popupOffsetParentHeight:A,popupOffsetParent:y,popup:o,offset:i,position:g,placement:E})),"top"!==E&&"start"!==E&&u&&(g=h({target:n,targetTop:P,targetHeight:I,popup:o,offset:i,position:g}));var N=p({placement:x,targetLeft:D,targetRight:Z,targetWidth:L,isPopupParentBody:M,popupOffsetParentLeft:C,popupOffsetParentRight:T,popupOffsetParentScrollLeft:y.scrollLeft||0,popupOffsetParentClientWidth:o.offsetParent.clientWidth,popupClientWidth:o.clientWidth||0,offset:i,allowOutOfBounds:d});return g=a(a({},g),N)}function y(e){return!(!e||!e.offsetParent)}function b(e){var t=e;if(!t)return!1;for(;t=t.parentElement;){var n=window.getComputedStyle(t);if("scroll"===n.overflow||"scroll"===n.overflowX||"scroll"===n.overflowY||t.classList.contains("fabric-editor-popup-scroll-parent"))return t}return!1}},15497:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r,o=n(71171),i=n(2784),a=n(28165),c=n(89274),s=n(8357),u=n(93250),l=n(51595),d=n(56298),p=n(86779),f=n(19589),h=n(84392),v=n(33249),m=n(45543),g=(0,a.iv)(r||(r=(0,o.Z)(["\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: flex;\n  font-size: ",";\n  margin: 10px 0;\n  min-height: 24px;\n  padding: 10px;\n  text-align: center;\n  vertical-align: text-bottom;\n  min-width: 120px;\n  align-items: center;\n  justify-content: center;\n"])),"var(--ds-background-disabled, ".concat(l.gt,")"),"var(--ds-border-disabled, ".concat(l.uv,")"),(0,d.E0)(),(0,s.Gh)((0,d.JB)()));const y=(0,c.ZP)((function(e){var t=e.node,n=e.intl,r=e.dispatchAnalyticsEvent,o=(0,m.B)(h.x.unsupportedBlockContent,h.x.unsupportedBlockContent.defaultMessage+":",t,n),c=n.formatMessage(h.x.unsupportedContentTooltip),s=(0,i.useRef)({padding:"4px"}).current,l=null==t?void 0:t.attrs.originalValue.type,d=(0,i.useCallback)((function(){return r&&(0,v.u9)(r,f.VJ.ON_UNSUPPORTED_BLOCK,l)}),[r,l]);return(0,a.tZ)("div",{css:g,className:"unsupported"},o,(0,a.tZ)(p.Z,{content:c,hideTooltipOnClick:!1,position:"bottom",onShow:d,strategy:"absolute"},(0,a.tZ)("span",{style:s},(0,a.tZ)(u.Z,{label:"?",size:"small"}))))}))},30084:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r,o=n(71171),i=n(2784),a=n(28165),c=n(89274),s=n(8357),u=n(93250),l=n(51595),d=n(56298),p=n(86779),f=n(19589),h=n(84392),v=n(33249),m=n(45543),g=(0,a.iv)(r||(r=(0,o.Z)(["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: ",";\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 10px;\n  vertical-align: middle;\n  white-space: nowrap;\n"])),"var(--ds-background-disabled, ".concat(l.gt,")"),"var(--ds-border-disabled, ".concat(l.uv,")"),(0,d.E0)(),(0,s.Gh)((0,d.JB)()));const y=(0,c.ZP)((function(e){var t=e.node,n=e.intl,r=e.dispatchAnalyticsEvent,o=(0,m.B)(h.x.unsupportedInlineContent,"Unsupported",t,n),c=n.formatMessage(h.x.unsupportedContentTooltip),s=(0,i.useRef)({padding:"4px"}).current,l=null==t?void 0:t.attrs.originalValue.type,d=(0,i.useCallback)((function(){return r&&(0,v.u9)(r,f.VJ.ON_UNSUPPORTED_INLINE,l)}),[r,l]);return(0,a.tZ)("span",{css:g},o,(0,a.tZ)(p.Z,{content:c,hideTooltipOnClick:!1,position:"bottom",onShow:d,strategy:"absolute"},(0,a.tZ)("span",{style:s},(0,a.tZ)(u.Z,{label:"?",size:"small"}))))}))},26692:(e,t,n)=>{"use strict";n.d(t,{E3:()=>b,iF:()=>E,iu:()=>g,mP:()=>k});var r,o=n(71171),i=n(9249),a=n(87371),c=n(80753),s=n(45754),u=n(11987),l=n(95058),d=n(56666),p=n(2784),f=n(28165),h=n(26947),v=n(31299);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e>=1266&&e<2146?"M":e>=2146?"L":"S"}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{width:e,breakpoint:g(e)}}var b=p.createContext(y()),w=b.Provider,k=b.Consumer,E=function(e){(0,s.Z)(n,e);var t=m(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,d.Z)((0,c.Z)(r),"state",{width:0}),(0,d.Z)((0,c.Z)(r),"setWidth",(0,h.Z)((function(e){Math.abs(r.state.width-e)<30||r.setState({width:e})}))),r.state.width=document.body.offsetWidth,r}return(0,a.Z)(n,[{key:"render",value:function(){return(0,f.tZ)("div",{css:(0,f.iv)(r||(r=(0,o.Z)(["\n          position: relative;\n          width: 100%;\n        "]))),className:this.props.className},(0,f.tZ)(v.K,{setWidth:this.setWidth,offscreen:!0}),(0,f.tZ)(w,{value:y(this.state.width)},this.props.children))}}]),n}(p.Component)},12730:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058),s=n(2784);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var l=(0,n(83783).Z)()(function(e){(0,i.Z)(n,e);var t=u(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.render;return t(e.createAnalyticsEvent)}}]),n}(s.Component))},45543:(e,t,n)=>{"use strict";function r(e,t,n,r){var o=!0,i=r?r.locale:"en",a=e.defaultMessage;if(n&&i.startsWith("en")){var c=n.attrs.originalValue;c.text||c.attrs&&c.attrs.text?(a=c.text?c.text:c.attrs.text,o=!1):c.type&&(a="".concat(t," ").concat(c.type),o=!1)}return r&&o?r.formatMessage(e):a}n.d(t,{B:()=>r})},80127:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(28316);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}function f(e){return function(t){(0,a.Z)(c,t);var n=p(c);function c(){var e;(0,r.Z)(this,c);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),(0,u.Z)((0,i.Z)(e),"handleClick",(function(t){var n=d.findDOMNode((0,i.Z)(e));(!n||t.target instanceof Node&&!n.contains(t.target))&&e.props.handleClickOutside&&e.props.handleClickOutside(t)})),(0,u.Z)((0,i.Z)(e),"handleKeydown",(function(t){"Escape"===t.code&&e.props.handleEscapeKeydown&&e.props.handleEscapeKeydown(t)})),e}return(0,o.Z)(c,[{key:"componentDidMount",value:function(){this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.addEventListener("keydown",this.handleKeydown,!1)}},{key:"componentWillUnmount",value:function(){this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.removeEventListener("keydown",this.handleKeydown,!1)}},{key:"render",value:function(){return l.createElement(e,this.props)}}]),c}(l.PureComponent)}},61801:(e,t,n)=>{"use strict";n.d(t,{$L:()=>i,DQ:()=>s,a$:()=>c,a9:()=>a,bI:()=>r});var r,o=n(19840),i=function(e){switch(e){case"full-page":return o.Dj.FIXED_WIDTH;case"full-width":return o.Dj.FULL_WIDTH;case"comment":return o.Dj.COMMENT;case"chromeless":return o.Dj.CHROMELESS;case"mobile":return o.Dj.MOBILE}},a=function(e){return e?"editor_".concat(i(e)):"_unknown"},c=function(e,t,n){return e>t&&e<=n?r.DEGRADED:e>n?r.BLOCKING:r.NORMAL};!function(e){e.NORMAL="normal",e.DEGRADED="degraded",e.BLOCKING="blocking"}(r||(r={}));var s="EDITOR_ANALYTICS_EVENT"},1182:(e,t,n)=>{"use strict";n.d(t,{_:()=>o,h:()=>r});var r=function(e,t,n){var r=e.from,o=e.to;if(isNaN(r+o)||o-r<=0||o<0||r<0)return!1;var i=!1;return t.nodesBetween(e.from,e.to,(function(e,t,r){return n.nodes.hardBreak!==e.type&&(!(e.isInline&&!e.isText||e.isLeaf&&!e.isText||e.isText&&!r.type.allowsMarkType(n.marks.annotation))||(i=!0,!1))})),!i},o=function(e,t,n){var r=e.from,o=e.to,i=new Set;return t.nodesBetween(r,o,(function(e){return!e.marks||(e.marks.forEach((function(e){e.type===n.marks.annotation&&e.attrs&&i.add(e.attrs.id)})),!0)})),Array.from(i)}},17743:(e,t,n)=>{"use strict";n.d(t,{A9:()=>s,HV:()=>u,Z7:()=>c,mV:()=>p,rW:()=>l,wV:()=>d});var r=n(8357),o=n(74727),i=n(26692),a=n(26305),c={padding:r._2,defaultLayoutWidth:r.re,wideScaleRatio:r.kI,fullWidthLayoutWidth:r.zJ,wideLayoutWidth:r.uz,mapBreakpointToLayoutMaxWidth:o.p0,getBreakpoint:i.iu,calcBreakoutWidth:function(e,t){var n=t-c.padding;switch(e){case"full-width":return"".concat(Math.min(n,c.fullWidthLayoutWidth),"px");case"wide":return c.calcWideWidth(t);default:return"100%"}},calcLineLength:function(){return c.defaultLayoutWidth},calcWideWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.defaultLayoutWidth,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",r=e-c.padding,o=c.mapBreakpointToLayoutMaxWidth(c.getBreakpoint(e)),i=Math.min(Math.ceil(o*c.wideScaleRatio),r);return o>i?n:"".concat(Math.min(t,i),"px")}},s=function(e,t){var n=c.calcBreakoutWidth(e,t);if(n.endsWith("%"))switch(e){case"full-width":return r.zJ;case"wide":return r.uz;default:return c.mapBreakpointToLayoutMaxWidth(c.getBreakpoint(t))}return parseInt(n,10)},u=c.calcWideWidth,l=c.calcBreakoutWidth;function d(e){var t=e.mode,n=e.widthStateLineLength,o=e.widthStateWidth,i=l(t,o),c=(0,a.AY)(i);return n?{type:"line-length-known",width:i,minWidth:c,transition:"min-width 0.5s ".concat(r.Y3),transform:"translateX(-50%)",marginLeft:"50%"}:{type:"line-length-unknown",width:i,minWidth:c,display:"flex",justifyContent:"center",transform:"none",transition:"min-width 0.5s ".concat(r.Y3)}}function p(e,t){return(0,a.AY)(l(e,t))}},9334:(e,t,n)=>{"use strict";function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,a=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{I:()=>u});var i=function(e,t){return t.filter((function(t){return e.includes(t.name)})).map((function(e){return{name:e.name,state:{detected:!1},fns:{async:e.fns.async,sync:e.fns.sync}}}))},a="race_complete",c="grammarly-extension, grammarly-popups, [data-grammarly-shadow-root]",s=[{name:"grammarly",fns:{sync:function(){var e;return Boolean(null===(e=document)||void 0===e?void 0:e.querySelector(c))},async:function(e,t){var n;Boolean(null===(n=document)||void 0===n?void 0:n.querySelector(c))&&e();var o=[],i=function(){for(var t=0,n=o;t<n.length;t++){var i,a=r(n[t]);try{for(a.s();!(i=a.n()).done;){var s,u=i.value;if("childList"===(null==u?void 0:u.type)&&null!=u&&null!==(s=u.addedNodes)&&void 0!==s&&s.length)Array.from(u.addedNodes).some((function(e){var t;return null===(t=e.parentElement)||void 0===t?void 0:t.querySelector(c)}))&&e()}}catch(e){a.e(e)}finally{a.f()}}o=[]},a=setInterval((function(){"function"==typeof window.requestIdleCallback?window.requestIdleCallback(i):window.requestAnimationFrame(i)}),1e3),s=new MutationObserver((function(e){o.push(e)}));t((function(){o=[],clearInterval(a),null==s||s.disconnect()})),s.observe(document.documentElement,{childList:!0,subtree:!0})}}}];function u(e){try{var t=i(e.extensions,s);if(!0===e.async){var n=[],r=Promise.all(t.map((function(e){return new Promise((function(t){"function"==typeof e.fns.async?e.fns.async((function(){e.state.detected=!0,t()}),(function(e){n.push(e)})):(e.state.detected=!1,t())}))}))),o=new Promise((function(t){return setTimeout(t,e.asyncTimeoutMs,a)}));return Promise.race([r,o]).then((function(){return t.filter((function(e){return e.state.detected})).map((function(e){return e.name}))})).catch((function(){return[]})).finally((function(){return n.map((function(e){return e()}))}))}return t.filter((function(e){var t,n;return null===(t=(n=e.fns).sync)||void 0===t?void 0:t.call(n)})).map((function(e){return e.name}))}catch(t){return e.async?Promise.resolve([]):[]}}},3493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r={mac:!1,ie:!1,ie_version:0,gecko:!1,gecko_version:0,chrome:!1,chrome_version:0,android:!1,ios:!1,webkit:!1,safari:!1,safari_version:0,supportsIntersectionObserver:!1,supportsResizeObserver:!1};if("undefined"!=typeof navigator){var o=/Edge\/(\d+)/.exec(navigator.userAgent),i=/MSIE \d/.test(navigator.userAgent),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);r.mac=/Mac/.test(navigator.platform);var c=r.ie=!!(i||a||o);r.ie_version=i?document.documentMode||6:a?+a[1]:o?+o[1]:null,r.gecko=!c&&/gecko\/\d/i.test(navigator.userAgent),r.gecko_version=parseInt((navigator.userAgent.match(/Firefox\/(\d+)/)||[])[1],10),r.chrome=!c&&/Chrome\//.test(navigator.userAgent),r.chrome_version=parseInt((navigator.userAgent.match(/Chrome\/(\d+)/)||[])[1],10),r.android=/Android \d/.test(navigator.userAgent),r.ios=!c&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),r.webkit=!c&&!!document.documentElement&&"WebkitAppearance"in document.documentElement.style,r.safari=Boolean(navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")),r.safari_version=parseInt((navigator.userAgent.match(/Version\/([0-9\._]+).*Safari/)||[])[1],10),r.supportsIntersectionObserver="undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r.supportsResizeObserver="undefined"!=typeof window&&"ResizeObserver"in window&&"ResizeObserverEntry"in window}const s=r},64153:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r=function(e){var t,n;return e&&e.collabEditPlugin$&&null!==(t=null===(n=e.collabEditPlugin$.participants)||void 0===n?void 0:n.size())&&void 0!==t?t:1}},1965:(e,t,n)=>{"use strict";n.d(t,{zR:()=>s});var r,o=n(96234),i=n(50092);function a(e){var t;if(t=e.marks.filter((function(e){return"link"===e.type.name})),(0,o.Z)(t,1)[0]||null){var n=e.text||"";return{type:r.LINK,value:n}}var i=function(e){if(!Intl||!Intl.Segmenter){var t=e.indexOf(" ");return-1!==t?e.substring(0,t):e}var n=new Intl.Segmenter(window.navigator.language,{granularity:"word"}).segment(e);if(!n)return e;var r=Array.from(n);return 0===r.length?e:r[0].segment}(e.text||""),a=function(e){if(""===e.trim())return null;var t=window.navigator.language,n=Intl.NumberFormat(t).format(11111).replace(/(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])/g,""),r=Intl.NumberFormat(t).format(1.1).replace(/(?:[0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D58-\u0D5E\u0D66-\u0D78\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]|\uD800[\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDEE1-\uDEFB\uDF20-\uDF23\uDF41\uDF4A\uDFD1-\uDFD5]|\uD801[\uDCA0-\uDCA9]|\uD802[\uDC58-\uDC5F\uDC79-\uDC7F\uDCA7-\uDCAF\uDCFB-\uDCFF\uDD16-\uDD1B\uDDBC\uDDBD\uDDC0-\uDDCF\uDDD2-\uDDFF\uDE40-\uDE48\uDE7D\uDE7E\uDE9D-\uDE9F\uDEEB-\uDEEF\uDF58-\uDF5F\uDF78-\uDF7F\uDFA9-\uDFAF]|\uD803[\uDCFA-\uDCFF\uDD30-\uDD39\uDE60-\uDE7E\uDF1D-\uDF26\uDF51-\uDF54\uDFC5-\uDFCB]|\uD804[\uDC52-\uDC6F\uDCF0-\uDCF9\uDD36-\uDD3F\uDDD0-\uDDD9\uDDE1-\uDDF4\uDEF0-\uDEF9]|\uD805[\uDC50-\uDC59\uDCD0-\uDCD9\uDE50-\uDE59\uDEC0-\uDEC9\uDF30-\uDF3B]|\uD806[\uDCE0-\uDCF2\uDD50-\uDD59]|\uD807[\uDC50-\uDC6C\uDD50-\uDD59\uDDA0-\uDDA9\uDFC0-\uDFD4]|\uD809[\uDC00-\uDC6E]|\uD81A[\uDE60-\uDE69\uDEC0-\uDEC9\uDF50-\uDF59\uDF5B-\uDF61]|\uD81B[\uDE80-\uDE96]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDFCE-\uDFFF]|\uD838[\uDD40-\uDD49\uDEF0-\uDEF9]|\uD83A[\uDCC7-\uDCCF\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9])/g,""),o=Number(e.replace(new RegExp("\\"+n,"g"),"").replace(new RegExp("\\"+r),"."));return Number.isNaN(o)?null:o}(i);return null!==a?{type:r.NUMBER,value:a}:{type:r.TEXT,value:i}}function c(e,t){if(!e)return null;var n=e.firstChild;if(!n)return null;switch(n.type.name){case"heading":case"paragraph":return c(n,t);case"inlineCard":var o=n.attrs,i=t.getInlineCardTextFromStore(o);if(i)return{type:r.LINK,value:i};var s=o.url;return{type:r.LINK,value:s||""};case"text":return a(n);case"status":var u=n.attrs.text;return{type:r.STATUS,value:u};case"date":var l=Number.parseInt(n.attrs.timestamp,20);return{type:r.DATE,value:l};case"mention":var d=n.attrs.text||"";return{type:r.MENTION,value:d.toLowerCase()};default:return null}}!function(e){e[e.NUMBER=0]="NUMBER",e[e.TEXT=5]="TEXT",e[e.MENTION=10]="MENTION",e[e.DATE=15]="DATE",e[e.STATUS=20]="STATUS",e[e.LINK=25]="LINK"}(r||(r={}));var s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.As.ASC;return function(n,r){var o=c(n,e),a=c(r,e);return null===o||null===a?u(o,a):(t===i.As.DESC?-1:1)*u(o,a)}};function u(e,t){return e===t?0:null===e||null===t?null===t?-1:1:e.type!==t.type?e.type>t.type?1:-1:(n=e.value,r=t.value,n===r?0:"string"==typeof n&&"string"==typeof r?n.localeCompare(r,window.navigator.language,{caseFirst:"upper"}):n>r?1:-1);var n,r}},59045:(e,t,n)=>{"use strict";n.d(t,{Cb:()=>d,oR:()=>l,jV:()=>u,S8:()=>p,hg:()=>c,oS:()=>s});var r,o=n(90020),i=n(66700),a=n(19785);!function(e){e.ISO_FORMAT="YYYY-MM-DD",e.CURRENT_YEAR_FORMAT_WITHOUT_YEAR="CURRENT_YEAR_FORMAT_WITHOUT_YEAR",e.LOCALIZED_FORMAT="LOCALIZED_FORMAT"}(r||(r={}));var c=function(e){var t=new Date(Number(e));return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}},s=function(){var e=new Date(Date.now());return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()).toString()},u=function(e,t,n){if(!t||n===r.ISO_FORMAT)return l(e);var o=new Date(Number(e)),i=n===r.CURRENT_YEAR_FORMAT_WITHOUT_YEAR,a=!i;return t.formatDate(o,{timeZone:"UTC",weekday:i?"short":void 0,month:"short",day:"numeric",year:a?"numeric":void 0,formatMatcher:"best fit"})},l=function(e){var t,n=new Date(Number(e));return"".concat(n.getUTCFullYear(),"-").concat((t=n.getUTCMonth()+1,t<10?"0".concat(t):t),"-").concat(n.getUTCDate())},d=function(e){return function(e,t){(0,a.Z)(2,arguments);var n=(0,i.Z)(e),r=(0,i.Z)(t);return n.getTime()<r.getTime()}(new Date(Number(e)),new Date(Number(s())))},p=function(e,t){var n,i=new Date(Number(s())),a=new Date(Number(e)),c=(0,o.Z)(a,i),l=a.getUTCFullYear()===i.getUTCFullYear();return t&&[-1,0,1].indexOf(c)>-1?(n=t.formatRelativeTime(c,"day",{numeric:"auto"})).charAt(0).toUpperCase()+n.slice(1):u(e,t,l?r.CURRENT_YEAR_FORMAT_WITHOUT_YEAR:r.LOCALIZED_FORMAT)}},26305:(e,t,n)=>{"use strict";function r(e,t){for(var n=e;n&&n.parentElement&&!t(n);)n=n.parentElement;return n}function o(e,t){var n=document.createDocumentFragment();Array.from(t.children).forEach((function(e){n.appendChild(e)})),e.replaceChild(n,t)}function i(e){for(;e.parentElement&&0===e.childElementCount&&""===e.textContent;){var t=e.parentElement;t.removeChild(e),e=t}}n.d(t,{AY:()=>u,FR:()=>l,G7:()=>i,Oh:()=>r,Wg:()=>o,oq:()=>c,pE:()=>s,tn:()=>a});var a=function(e,t){return!!e&&(e.classList&&e.classList.contains?e.classList.contains(t):!!e.className&&-1!==("string"==typeof e.className.baseVal?e.className.baseVal:e.className).split(" ").indexOf(t))};function c(e,t){if(!e)return null;var n=e;if(!document.documentElement||!document.documentElement.contains(n))return null;if(n.closest)return n.closest(t);do{var r=n.matches?n.matches:n.msMatchesSelector;if(r&&r.call(n,t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function s(e,t){return c(e,t)}function u(e){if(e.endsWith("px")){var t=parseInt(e,10);return Number.isNaN(t)?void 0:t}}function l(e,t){return function(e,t){for(var n=[],r=0;r<e.childElementCount;r++)n.push(t(e.children[r],r,e));return n}(e,t)}},41595:(e,t,n)=>{"use strict";n.d(t,{B0:()=>f,L7:()=>l,Ui:()=>p,Ws:()=>a,bj:()=>s,dL:()=>d,hT:()=>u,v1:()=>c,vJ:()=>h,w7:()=>v});var r=n(16037),o=n(30709),i=n(26305),a=function(e){return e&&e.hasOwnProperty("slice")};function c(e,t){var n=!1;return a(e)?(e.slice.content.descendants((function(e){return t.has(e.type)&&(n=!0),!n})),n):n}var s=function(e){return e instanceof o.Pu||e instanceof o.FC?e.slice:null},u=function(e){return e instanceof r.TextSelection},l=function(e){return(0,i.oq)(e,"td")||(0,i.oq)(e,"th")},d=function(e){var t=e.content;return!!t.lastChild&&"mediaGroup"===t.lastChild.type.name},p=function(e,t){var n=e.state,o=e.dispatch;isFinite(t)&&o(n.tr.setSelection(r.NodeSelection.create(n.doc,t)))};function f(e,t,n){var o=e.state;(0,e.dispatch)(o.tr.setSelection(r.TextSelection.create(o.doc,t,n)))}function h(e){return null!=e}var v=function(e,t){return e>=0&&e<=t.doc.resolve(0).end()}},59046:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9249),o=n(87371),i=n(56666),a=function(){function e(){(0,r.Z)(this,e),(0,i.Z)(this,"handlerStorage",null)}return(0,o.Z)(e,[{key:"captureMessage",value:function(e,t){this.handlerStorage&&this.handlerStorage.captureMessage(e,t)}},{key:"captureException",value:function(e,t){this.handlerStorage&&this.handlerStorage.captureException(e,t)}},{key:"handler",set:function(e){this.handlerStorage=e}}]),e}()},60894:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(86522);function o(e){return"object"===(0,r.Z)(e)?e.render:e}},13965:(e,t,n)=>{"use strict";n.d(t,{Rz:()=>u,qH:()=>d,vy:()=>l});var r=n(19589),o=n(64153),i=n(91460),a=0,c=100,s=7;function u(e){var t,n,r=e.state.analyticsPlugin$,o=r&&r.performanceTracking&&r.performanceTracking.nodeViewTracking||{},i=null!==(t=o.samplingRate)&&void 0!==t?t:c,a=null!==(n=o.slowThreshold)&&void 0!==n?n:s;return{trackingEnabled:!!o.enabled,samplingRate:i,slowThreshold:a}}function l(e){var t=e.nodeTypeName;(0,i.MZ)("🦉".concat(t,"::ReactNodeView"))}function d(e){var t=e.nodeTypeName,n=e.dispatchAnalyticsEvent,c=e.editorState,s=e.samplingRate,u=e.slowThreshold;(0,i.H0)("🦉".concat(t,"::ReactNodeView"),(function(e){++a%s==0&&e>u&&n({action:r.om.REACT_NODEVIEW_RENDERED,actionSubject:r.Wt.EDITOR,eventType:r.Ze.OPERATIONAL,attributes:{node:t,duration:e,participants:(0,o.J)(c)}})}))}},81095:(e,t,n)=>{"use strict";n.d(t,{H:()=>f});var r=n(7896),o=n(9249),i=n(87371),a=n(80753),c=n(45754),s=n(11987),u=n(95058),l=n(56666),d=n(2784);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var f=function(e){return function(t){(0,c.Z)(s,t);var n=p(s);function s(){var e;(0,o.Z)(this,s);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e=n.call.apply(n,[this].concat(r)),(0,l.Z)((0,a.Z)(e),"state",{imageStatus:"loading"}),(0,l.Z)((0,a.Z)(e),"onLoad",(function(){e.setState({imageStatus:"complete"});var t=e.props.onExternalImageLoaded;t&&e.img&&t({width:e.img.naturalWidth,height:e.img.naturalHeight})})),(0,l.Z)((0,a.Z)(e),"onError",(function(){e.setState({imageStatus:"error"})})),e}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){this.fetchImage(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.url!==this.props.url&&(this.setState({imageStatus:"loading"}),this.fetchImage(e))}},{key:"componentWillUnmount",value:function(){this.img&&(this.img.removeEventListener("load",this.onLoad),this.img.removeEventListener("error",this.onError),this.img=null)}},{key:"fetchImage",value:function(e){var t=e.url;t&&(this.img||(this.img=new Image,this.img.addEventListener("load",this.onLoad),this.img.addEventListener("error",this.onError)),this.img.src=t)}},{key:"render",value:function(){var t=this.state.imageStatus;return d.createElement(e,(0,r.Z)({},this.props,{imageStatus:t}))}}]),s}(d.Component)}},2300:(e,t,n)=>{"use strict";n.d(t,{Ah:()=>o,Px:()=>i,hn:()=>r});var r=function(e){var t=Number(e);if(!(Number.isNaN(t)||t<0))return Math.floor(Math.max(t,0))},o=function(e){var t,n,o=null==e||null===(t=e.attrs)||void 0===t?void 0:t.order;return null!==(n=r(o))&&void 0!==n?n:1},i=function(e){var t,n,o,i,a=null!==(t=r(e.order))&&void 0!==t?t:1,c="number"==typeof e.itemsCount?e.itemsCount:0;return null===(n=String(a+(c-1)))||void 0===n||null===(o=n.split("."))||void 0===o||null===(i=o[0])||void 0===i?void 0:i.length}},97816:(e,t,n)=>{"use strict";n.d(t,{AK:()=>v,Gs:()=>l,ML:()=>a,MU:()=>f,RF:()=>u,T7:()=>d,eA:()=>c,fO:()=>i,fP:()=>h,sp:()=>p,u7:()=>r});var r,o=n(41396),i=function(e){var t=[];return(e.steps||[]).forEach((function(n){for(var r=n.to,o=n.from,i=n.slice,a=i&&i.content?i.content.size:0,c=o;c<=r+a;c++)c<=e.doc.content.size&&function(){var n=e.doc.resolve(c).node(1);n&&!t.find((function(e){return e===n}))&&t.push(n)}()})),t},a=function(e){try{e.check()}catch(e){return!1}return!0},c=function(e){return e.every(a)},s=function(e,t){return t&&e&&e.type===t},u=function(e,t){return s(e,t.nodes.paragraph)},l=function(e,t){return s(e,t.nodes.text)},d=function(e,t){return s(e,t.marks.link)};!function(e){e[e.selectedInRange=0]="selectedInRange",e[e.selectedInside=1]="selectedInside"}(r||(r={}));var p=function(e,t,n,o){var i=Math.min(e,t),a=Math.max(e,t),c=n,s=n+o;return e===t?null:i<=c&&s<a||i<c&&s<=a?r.selectedInRange:c<=e&&t<=s?r.selectedInside:null},f=function(e,t,n){var r="embed"===n||"block"===n?void 0:-1,o=e.selection.$from.node(r);return o&&o.type.validContent(t)},h=function(e){return["media","mediaInline","mediaGroup","mediaSingle"].includes(e.type.name)},v=function(e,t){var n=e.nodeBefore;if(!n){var r=e.depth-1||1,i=(0,o.Tr)([t.schema.nodes["".concat(e.node(r).type.name)]])(t.selection),a=i?t.tr.doc.resolve(i.pos):void 0,c=a&&a.pos<t.doc.nodeSize?a.nodeBefore:void 0;c&&(n=c)}return!!n&&["media","mediaInline","mediaGroup","mediaSingle"].includes(n.type.name)}},89832:(e,t,n)=>{"use strict";n.d(t,{n:()=>d});var r=n(2784),o=n(21025),i=n(86522),a=Object.keys,c=function(e,t){var n=null!==e?a(e):[],r=null!==t?a(t):[],o=n.filter((function(e){return!r.includes(e)}));return{added:r.filter((function(e){return!n.includes(e)})),common:n.filter((function(e){return r.includes(e)})),removed:o}},s=function(e){var t=(0,i.Z)(e);return null===e?"null":void 0===e?"undefined":"string"===t||"number"===t?e:"symbol"===t?e.toString():"function"===t?"function:".concat(e.name):"object"===t?{type:"object",keys:Object.keys(e)}:void 0},u=function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l=c(t,n),d=l.added,p=l.common,f=l.removed,h=[];return p.forEach((function(c){var l=t[c],d=n[c],p=(0,i.Z)(l),f=(0,i.Z)(d);if(l!==d&&-1===u.indexOf(c))if(r.isValidElement(l)||r.isValidElement(d))h.push({key:c,reactElementChanged:!0});else if("object"===p&&"object"===f)if(o<=a){var v=e(l,d,o+1,a);h.push({key:c,difference:v})}else h.push({key:c,maxDepthReached:!0});else h.push({key:c,oldValue:s(l),newValue:s(d)})})),{added:d,changed:h,removed:f}},l=function(e,t){var n=c(e,t),r=n.added,o=n.common,i=n.removed;return{added:r,changed:o.filter((function(n){return e[n]!==t[n]})),removed:i}};function d(e){var t=e.onRender,n=e.propsDiffingOptions,i=e.zeroBasedCount,a=void 0===i||i,c=(0,r.useRef)(),s=(0,r.useRef)(a?0:1),d=(0,r.useRef)(o.V.generate()).current;(0,r.useEffect)((function(){var e,r=c.current,o=s.current;null!=n&&n.enabled&&r&&(e=null!=n&&n.useShallow?l(r,n.props):u(r,n.props,0,2,null==n?void 0:n.propsToIgnore)),t({renderCount:o,propsDifference:e,componentId:d}),null!=n&&n.enabled&&(c.current=n.props),s.current=s.current+1}))}},6771:(e,t,n)=>{"use strict";var r;function o(){return void 0===r&&(r="undefined"!=typeof window&&"performance"in window&&["measure","clearMeasures","clearMarks","getEntriesByName","getEntriesByType","now"].every((function(e){return!!performance[e]}))),r}function i(){return!("undefined"==typeof window||!("PerformanceObserver"in window))}function a(){return i()&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}n.d(t,{D4:()=>o,bh:()=>i,nX:()=>a})},98985:(e,t,n)=>{"use strict";n.d(t,{W:()=>o,a:()=>i});var r=n(6771);function o(){var e="visible"!==document.visibilityState;function t(){"visible"!==document.visibilityState&&(e=!0)}return document.addEventListener("visibilitychange",t),{distortedDuration:e,cleanup:function(){document.removeEventListener("visibilitychange",t)}}}function i(e,t){if((0,r.D4)()){var n="[START]: ".concat(e),i="[END]: ".concat(e),a=performance.now();performance.mark(n);var c=o();requestAnimationFrame((function(){requestAnimationFrame((function(){performance.mark(i),c.cleanup();var r=performance.now()-a;try{performance.measure(e,n,i);var o=performance.getEntriesByName(e).pop();t(o?{duration:o.duration,startTime:o.startTime,distortedDuration:c.distortedDuration}:{duration:r,startTime:a,distortedDuration:c.distortedDuration})}catch(e){t({duration:r,startTime:a,distortedDuration:c.distortedDuration})}performance.clearMeasures(e),performance.clearMarks(n),performance.clearMarks(i)}))}))}}},15009:(e,t,n)=>{"use strict";n.d(t,{Ev:()=>i,w6:()=>s});var r=n(61801),o=n(6771);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r=arguments.length>3?arguments[3]:void 0;if((0,o.nX)()){var i,a=performance.now(),c={startTime:a,duration:0},s=1e3*n,u=new(r||PerformanceObserver)((function(e){var t=e.getEntries();t.length&&(i=c,c=t[t.length-1])}));u.observe({entryTypes:["longtask"]});setTimeout((function n(){var r=performance.now(),o=c.startTime+c.duration,l=i?i.startTime+i.duration:o;return i?c.startTime-l>=t?(u.disconnect(),e(l,l-a,s<=0)):r-o>=t||s<=0?(u.disconnect(),e(o,o-a,s<=0)):(s=Math.max(0,s-(r-a)),setTimeout(n,t)):(u.disconnect(),e(l,0,!1))}),t)}}var a={NORMAL:4e4,DEGRADED:6e4},c={NORMAL:5e3,DEGRADED:8e3};function s(e,t,n,o,i,s){var u,l=n||a.NORMAL,d=o||a.DEGRADED;u=e>=l&&e<d?r.bI.DEGRADED:e>=d?r.bI.BLOCKING:r.bI.NORMAL;var p=i||c.NORMAL,f=s||c.DEGRADED;return{ttiSeverity:u,ttiFromInvocationSeverity:t>=p&&t<f?r.bI.DEGRADED:t>=f?r.bI.BLOCKING:r.bI.NORMAL}}},91460:(e,t,n)=>{"use strict";n.d(t,{H0:()=>a,MZ:()=>i,Xf:()=>c});var r=n(6771),o=new Map;function i(e){(0,r.D4)()&&(performance.mark("".concat(e,"::start")),o.set(e,performance.now()))}function a(e,t){if((0,r.D4)()){performance.mark("".concat(e,"::end"));var n=t?o.get(e):void 0;try{performance.measure(e,"".concat(e,"::start"),"".concat(e,"::end"))}catch(e){}finally{if(t){var i=performance.getEntriesByName(e).pop();i?t(i.duration,i.startTime):n&&t(performance.now()-n,n)}c(e)}}}function c(e){(0,r.D4)()&&(o.delete(e),performance.clearMarks("".concat(e,"::start")),performance.clearMarks("".concat(e,"::end")),performance.clearMeasures(e))}},88683:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(6771);function o(){if((0,r.D4)()){var e=performance.getEntriesByType("navigation")[0];return e?e.responseEnd:void 0}}},72132:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.mapping,i=n.onDocChanged,a=n.onSelectionChanged;return{createPluginState:function(n,c){return{init:function(e,t){return r(c)?c(t):c},apply:function(r,c,s,u){var l=o?o(r,c,u):c,d=l,p=r.getMeta(e);return p&&(d=t(l,p)),i&&r.docChanged?d=i(r,d,u):a&&r.selectionSet&&(d=a(r,d,u)),d!==l&&n(e,d),d}}},createCommand:function(t,n){return function(o,i){if(i){var a=n?n(o.tr,o):o.tr,c=r(t)?t(o):t;if(!a||!c)return!1;i(a.setMeta(e,c))}return!0}},getPluginState:function(t){return e.getState(t)}}}n.d(t,{H:()=>o})},65599:(e,t,n)=>{"use strict";n.d(t,{CJ:()=>p,f6:()=>s,ku:()=>l,wk:()=>g});var r=n(86522),o=n(68079),i=n(96234);function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e,t){var n,r,o,i;if(!t)return!1;var a=!1,c=new Set([null===(n=t.attrs)||void 0===n?void 0:n.localId,null===(r=t.marks)||void 0===r||null===(o=r.find((function(t){return t.type===e.schema.marks.fragment})))||void 0===o||null===(i=o.attrs)||void 0===i?void 0:i.localId].filter(Boolean));return!!c.size&&(e.doc.descendants((function(t){var n,r;if(a)return!1;var o=t.marks.find((function(t){return t.type===e.schema.marks.dataConsumer}));return!o||!(a=null!==(n=null===(r=o.attrs.sources)||void 0===r?void 0:r.some((function(e){return c.has(e)})))&&void 0!==n&&n)})),a)},u=function(e){var t={},n=e.doc,r=e.schema,o=new Map,c=new Map;n.descendants((function(e,n){var i,a,s,u,l,d,p,f,h,v,m,g;if(e.marks.some((function(e){return e.type===r.marks.dataConsumer?m=e:e.type===r.marks.fragment&&(g=e),!!m&&!!g})),!(g||null!==(i=e.attrs)&&void 0!==i&&i.localId))return!0;var y=null!==(a=null===(s=g)||void 0===s||null===(u=s.attrs)||void 0===u?void 0:u.localId)&&void 0!==a?a:null===(l=e.attrs)||void 0===l?void 0:l.localId;return!y||(null!==(d=g)&&void 0!==d&&null!==(p=d.attrs)&&void 0!==p&&p.localId&&o.set(g.attrs.localId,y),null!==(f=e.attrs)&&void 0!==f&&f.localId&&o.set(e.attrs.localId,y),!!t[y]||(t[y]={localId:y,name:null===(h=g)||void 0===h||null===(v=h.attrs)||void 0===v?void 0:v.name,node:e,pos:n,targets:[]},m&&m.attrs.sources.length&&c.set(y,m.attrs.sources),!m))}));var s,u=a(c);try{var l=function(){var e=(0,i.Z)(s.value,2),n=e[0];e[1].forEach((function(e){var r,i=null!==(r=o.get(e))&&void 0!==r?r:e,a=t[i];a&&i!==n&&a.targets.push(n)}))};for(u.s();!(s=u.n()).done;)l()}catch(e){u.e(e)}finally{u.f()}return t},l=function(e,t){if(!t)return e.tr;var n=m(e,t),r=u(e),o=d(n,r);if(null==o||!o.length)return e.tr;var i=e.tr;return o.forEach((function(e){if(r[e]){var t=r[e],n=t.node,o=t.pos;i=i.delete(i.mapping.map(o),i.mapping.map(n.nodeSize+o))}})),i},d=function(e,t){if(!e.size)return[];for(var n=(0,o.Z)(e),r=new Set;n.length;){var i,a,c=n.pop();if(t[c])r.add(t[c].localId),n=n.concat(null!==(i=null===(a=t[c])||void 0===a?void 0:a.targets.filter((function(e){var n;return!r.has(null===(n=t[e])||void 0===n?void 0:n.localId)})))&&void 0!==i?i:[])}return Array.from(r)},p=function(e,t){var n=!0;if(!t)return[];var r=new Set,o=[],i=u(e);m(e,t).forEach((function(e){i[e]&&i[e].targets.forEach(r.add,r)}));var c,s=a(r);try{for(s.s();!(c=s.n()).done;){var l=c.value;if(!v(l,i)){n=!1;break}o.push({id:l,name:v(l,i),amount:f(l,i)})}}catch(e){s.e(e)}finally{s.f()}return n?o:[]},f=function(e,t){var n=new Set([e]),r=new Map,o=new Set;for(r.set(e,!1);n.size>0;){var a=(0,i.Z)(n,1)[0];h(a,t).forEach((function(t){r.get(t)||(n.add(t),o.add(t)),t!==e&&o.add(t)})),r.set(a,!0),n.delete(a)}return o.size},h=function(e,t){return e&&t[e]?t[e].targets:[]},v=function(e,t){var n;return"object"===(0,r.Z)(e)?(e.forEach((function(e){var r,o;n=null!==(r=n)&&void 0!==r?r:null===(o=t[e])||void 0===o?void 0:o.name})),n||null):e&&t[e]?t[e].name:null},m=function(e,t){var n,r,o,i;return t?new Set([null===(n=t.attrs)||void 0===n?void 0:n.localId,null===(r=t.marks)||void 0===r||null===(o=r.find((function(t){return t.type===e.schema.marks.fragment})))||void 0===o||null===(i=o.attrs)||void 0===i?void 0:i.localId].filter(Boolean)):new Set([])},g=function(e,t){var n,r,o,i;return null!==(n=null==t||null===(r=t.marks)||void 0===r||null===(o=r.find((function(t){return t.type===e.schema.marks.fragment})))||void 0===o||null===(i=o.attrs)||void 0===i?void 0:i.name)&&void 0!==n?n:""}},13956:(e,t,n)=>{"use strict";n.d(t,{p:()=>r});var r=function(){try{var e=(window.__buildInfo||{}).FRONTEND_VERSION,t=void 0===e?"":e;return"product-fabric.atlassian.net"===window.location.hostname&&t.includes("branch-deploy")}catch(e){return console.warn(e),!1}}},28195:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>i,gf:()=>o,oc:()=>a});var r=n(68079);function o(e){var t=[],n=e.firstChild;return n&&n.forEach((function(e){var n=e.attrs.colwidth||[0];n&&(t=[].concat((0,r.Z)(t),(0,r.Z)(n)))})),t}function i(e){var t=!1;return e.descendants((function(e){if("tableRow"===e.type.name)return!0;var n=e.attrs,r=n.colspan,o=n.rowspan;return(r>1||o>1)&&(t=!0),!1})),t}function a(e){var t=[];return e.forEach((function(e){if("tableRow"===e.type.name){var n=[];e.forEach((function(e){return n.push(e)})),t.push(n)}})),t}},33249:(e,t,n)=>{"use strict";n.d(t,{cn:()=>u,p$:()=>l,u9:()=>d});var r=n(56666),o=n(19589);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=["align","annotationType","extensionKey","extensionType","layout","type","localId","mode","language","timestamp","state","originalWidth","originalHeight","height","width","shortName","level","userType","order","panelType","color","style","isNumberColumnEnabled","colspan","rowspan","colwidth","background"];var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object.keys(e).filter((function(e){return!c.includes(e)})).forEach((function(e){null!==t[e]?t[e]="":t[e]="null"})),t},u=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=t.type,c=t.marks,s=n.marks,u=s.unsupportedMark,d=s.unsupportedNodeAttribute,p=n.nodes,f=p.unsupportedInline,h=p.unsupportedBlock,v=i.split(" ").pop()||"";if(c.length&&c.forEach((function(e){if(e.type===u){var t=(e.attrs||{}).originalValue,n={type:(t||{}).type||"",ancestry:i,parentType:v,marks:[],attrs:t.attrs||{}};l(r,o.VJ.UNSUPPORTED_MARK,n)}else if(e.type===d){var c=(e.attrs||{}).unsupported,s={type:a.name||"",ancestry:i,parentType:v,marks:[],attrs:c||{}};l(r,o.VJ.UNSUPPORTED_NODE_ATTRIBUTE,s)}})),a===f||a===h){var m=(t.attrs||{}).originalValue,g=(m||[]).marks,y=(m||{}).attrs,b={type:(m||{}).type||"",ancestry:i,parentType:v,marks:g||[],attrs:y||{}},w=a===f?o.VJ.UNSUPPORTED_INLINE:o.VJ.UNSUPPORTED_BLOCK;l(r,w,b)}else t.content.forEach((function(o){return e(o,n,r,function(e,t){var n=e.type.name;return t?"".concat(t," ").concat(n):n}(t,i))}))},l=function(e,t,n,r){var i=s(n.attrs),c=function(){var e=[];return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){if(t.attrs){var n=s(t.attrs);e.push(a(a({},t),{},{attrs:n}))}else e.push(a({},t))})),e}(n.marks),u={type:n.type,ancestry:n.ancestry,parentType:n.parentType,attrs:i,marks:c};e({action:o.om.UNSUPPORTED_CONTENT_ENCOUNTERED,actionSubject:o.Wt.DOCUMENT,actionSubjectId:t,attributes:a({unsupportedNode:u},!!r&&{errorCode:r}),eventType:o.Ze.TRACK})},d=function(e,t,n){!function(e,t,n,r){t({action:e,actionSubjectId:n,actionSubject:o.Wt.TOOLTIP,eventType:o.Ze.UI,attributes:{unsupportedNodeType:r}})}(o.om.UNSUPPORTED_TOOLTIP_VIEWED,e,t,n)}},98684:(e,t,n)=>{"use strict";n.d(t,{gh:()=>l});var r=n(64815),o=n(19589),i=n(33249),a="unsupportedNodeAttribute",c=function(e,t,n){return function(r,o,i){return s(r,o,i,e,t,n)}},s=function(e,t,n,r,o,i){if(e&&e.type===a)return e;if(n.isMark)return d(t.meta,"mark");if(n.isNodeAttribute){var s=e&&e.type?e.type:void 0;return{type:a,attrs:{type:{nodeType:s},unsupported:t.meta}}}if(!(e&&r.indexOf(e.type)>-1)){if("MISSING_PROPERTIES"===t.code&&"paragraph"===e.type)return{type:"paragraph",content:[]};if("INVALID_CONTENT_LENGTH"===t.code){if(t.meta&&n.allowUnsupportedBlock&&e.content)return function(e,t,n,r,o){var i=e.meta;"maximum"===i.type&&(t.content=t.content.filter((function(e){return!!e})).map((function(e,t){return t>=i.requiredLength&&"unsupportedBlock"!==e.type?d(e):n(e,c(r,n,o)).entity})));if("minimum"===i.type){if(0===t.content.length)return d(t);t.content=t.content.filter((function(e){return!!e})).map((function(e){return"unsupportedBlock"!==e.type?d(e):e}))}return t}(t,e,o,r,i);i&&u(i,t,e)}return n.allowUnsupportedBlock?d(e):n.allowUnsupportedInline?d(e,"inline"):(i&&u(i,t,e),e)}};function u(e,t,n){e&&(0,i.p$)(e,o.VJ.UNSUPPORTED_ERROR,{type:n.type||"",ancestry:n.ancestorHierarchy||"",parentType:n.parentType||"",marks:n.marks||[],attrs:n.attrs||{}},t.code)}var l=function(e,t,n){var o=Object.keys(e.nodes),i=Object.keys(e.marks),a=(0,r.s)(o,i,{allowPrivateAttributes:!0}),s=a(t,c(i,a,n)).entity;return void 0===s?{type:"doc",content:[]}:s};function d(e){var t;switch(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block"){case"inline":t="unsupportedInline";break;case"mark":t="unsupportedMark";break;default:t="unsupportedBlock"}return{type:t,attrs:{originalValue:e}}}},30581:(e,t,n)=>{"use strict";n.d(t,{K0:()=>oe,l9:()=>ae,Rr:()=>ve,E2:()=>ie});var r={};n.r(r),n.d(r,{PanelType:()=>x.w,blockCard:()=>H._,blockquote:()=>d.M,bodiedExtension:()=>j.H,bulletList:()=>p.i,bulletListSelector:()=>p.T,caption:()=>C.V,codeBlock:()=>f.F,codeBlockToJSON:()=>f.a,confluenceJiraIssue:()=>c.G,confluenceUnsupportedBlock:()=>s.S,confluenceUnsupportedInline:()=>u.O,copyPrivateMediaAttributes:()=>T.vD,date:()=>F.h,decisionItem:()=>I.O,decisionList:()=>Z.w,decisionListSelector:()=>Z.i,doc:()=>l.J,embedCard:()=>$._,emoji:()=>b.r,expand:()=>a.j,expandToJSON:()=>a.a,extension:()=>R.A,getCellAttrs:()=>D.sG,getCellDomAttrs:()=>D.EE,hardBreak:()=>h.l,heading:()=>v.n,image:()=>w.B,inlineCard:()=>V.D,inlineExtension:()=>N.m,layoutColumn:()=>U.H,layoutSection:()=>z.I,layoutSectionWithSingleColumn:()=>z.C,listItem:()=>E.q,media:()=>T.BC,mediaGroup:()=>A._,mediaInline:()=>_.j,mediaSingle:()=>P.yC,mediaSingleToJSON:()=>P.au,mediaSingleWithCaption:()=>P.t2,mediaToJSON:()=>T.au,mention:()=>k.Pl,mentionToJSON:()=>k.au,nestedExpand:()=>K.K,orderedList:()=>g.dq,orderedListSelector:()=>g.Us,orderedListWithOrder:()=>g.AG,panel:()=>x.B,paragraph:()=>y.A,placeholder:()=>B.W,rule:()=>m.j,status:()=>q.i,table:()=>D.Kz,tableBackgroundBorderColor:()=>D.KS,tableBackgroundColorNames:()=>D.XX,tableBackgroundColorPalette:()=>D.R_,tableCell:()=>D.K5,tableCellContentDomSelector:()=>D.Z4,tableCellContentWrapperSelector:()=>D.bu,tableCellSelector:()=>D.fY,tableHeader:()=>D.Rt,tableHeaderSelector:()=>D.Vz,tablePrefixSelector:()=>D.Yf,tableRow:()=>D.RL,tableToJSON:()=>D.oc,taskItem:()=>M.p,taskList:()=>L.o,taskListSelector:()=>L.K,text:()=>O.f,toJSONTableCell:()=>D.pp,toJSONTableHeader:()=>D.Ae,unknownBlock:()=>S.Z,unsupportedBlock:()=>W.V,unsupportedInline:()=>G.X});var o=n(56666),i=n(68079),a=n(19757),c=n(68032),s=n(49697),u=n(12246),l=n(76287),d=n(47958),p=n(50165),f=n(99017),h=n(77480),v=n(278),m=n(21e3),g=n(5956),y=n(73133),b=n(89726),w=n(45133),k=n(63053),E=n(93093),x=n(33874),O=n(14770),S=n(73562),C=n(18365),T=n(69824),A=n(28075),_=n(67777),P=n(61332),D=n(43726),Z=n(70778),I=n(34321),L=n(99462),M=n(23677),R=n(78297),N=n(43193),j=n(84336),F=n(48312),B=n(4950),z=n(70177),U=n(51775),V=n(39915),H=n(91228),W=n(30562),G=n(41256),q=n(63935),K=n(54718),$=n(70164),J=r,Y=new Set(Object.keys(J).filter((function(e){return J[e]&&"inline"===J[e].group}))),X=n(57195),Q=n(21025),ee=n(89896);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=["fragment","link","em","strong","textColor","strike","subsup","underline","code","confluenceInlineComment","annotation","dataConsumer"],oe=function(e){return(0,i.Z)(e).sort((function(e,t){return re.indexOf(e.type.name)-re.indexOf(t.type.name)}))},ie=function(e,t){return!(!e||!t)&&e.eq(t)},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.R4,n=ve(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"final");return"doc"===n.type?(n.content=ce(n.content),n):null},ce=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){return Y.has(e.type)?{type:"paragraph",content:[e]}:e}))},se=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.R4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"final";return e.map((function(e){return ve(e,t,n)}))},ue=/^#[0-9a-fA-F]{6}$/,le=/^\//,de=/^#/,pe=function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.R4,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"final",o=[],a=!1,c=0;c<t.content.length;c++){var s=t.content[c],u=!(s.content&&s.content.length);c>0&&(a?o.push({type:"text",text:" "}):o.push({type:"hardBreak"})),u?o.push(ve(s,n,r)):o.push.apply(o,(0,i.Z)(e(s,n,r))),a=u}return o},fe=function(e){var t=e.attrs,n=void 0===t?{}:t,r=e.content,o=e.text,i=e.type;if(!r||!r.length){var a={type:"text",text:o||n.text||"[".concat(i,"]")},c=n.textUrl;return c&&(0,X.w6)(c)&&(a.marks=[{type:"link",attrs:{href:c}}]),a}return{type:"unknownBlock",content:pe(e)}},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"final";return e&&e.length>0?e.reduce((function(e,n){var r=me(n,t);return r&&e.push(r),e}),[]):e},ve=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ee.R4,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"final",i=e.attrs,a=e.marks,c=e.text,s=e.type,u=e.content,l={attrs:i,marks:a,text:c,type:s};if(u&&(l.content=u=se(u,r,o)),!r.nodes[s])return fe(l);if(s)switch(s){case"doc":if(e.version&&u&&u.length)return{type:s,content:u};break;case"codeBlock":return u&&(u=u.reduce((function(e,t){return"text"===t.type&&e.push({type:t.type,text:t.text}),e}),[])),i&&i.language?{type:s,attrs:i,content:u,marks:a}:{type:s,content:u,marks:a};case"date":if(i&&i.timestamp)return{type:s,attrs:i};break;case"status":if(i&&i.text&&i.color)return{type:s,attrs:i};break;case"emoji":if(i&&i.shortName)return{type:s,attrs:i};break;case"inlineExtension":case"extension":if(i&&i.extensionType&&i.extensionKey)return{type:s,attrs:i};break;case"inlineCard":case"blockCard":if(i&&(i.url&&(0,X.w6)(i.url)||i.data&&i.data.url&&(0,X.w6)(i.data.url)))return{type:s,attrs:i};break;case"embedCard":if(i&&(i.url&&(0,X.w6)(i.url)||i.data&&i.data.url&&(0,X.w6)(i.data.url))&&i.layout)return{type:s,attrs:i};break;case"bodiedExtension":if(i&&i.extensionType&&i.extensionKey&&u)return{type:s,attrs:i,content:u};break;case"hardBreak":case"rule":return{type:s};case"caption":case"bulletList":case"blockquote":if(u)return{type:s,content:u};break;case"mediaInline":var d="",p=[];if(i)d=i.id,p=i.collection;if(d&&p)return{type:s,attrs:i,marks:a};break;case"media":var f="",h="",v=[],m="";if(i){var g=i.id,y=i.collection;f=g,h=i.type,v=y,m=i.url}if("external"===h&&m){var b={type:h,url:m,width:i.width,height:i.height};return i.alt&&(b.alt=i.alt),{type:s,attrs:b}}if(f&&h){var w={type:h,id:f,collection:v};i.width&&(w.width=i.width),i.height&&(w.height=i.height),i.alt&&(w.alt=i.alt);var k=he(a,o);return k?{type:s,attrs:w,marks:k}:{type:s,attrs:w}}break;case"mediaGroup":if(Array.isArray(u)&&!u.some((function(e){return"media"!==e.type})))return{type:s,content:u};break;case"mediaSingle":var E=Array.isArray(u)&&1===u.length&&"media"===u[0].type,O=Array.isArray(u)&&2===u.length&&"media"===u[0].type&&"caption"===u[1].type;if(E||O)return{type:s,attrs:i,content:u,marks:he(a,o)};break;case"mention":var S,C,T="";if(i){var A=i.text,_=i.displayName;T=A||_,S=i.id,C=i.accessLevel}if(T||(T=c||"@unknown"),T&&S){var P={type:s,attrs:{id:S,text:T,accessLevel:""}};return C&&(P.attrs.accessLevel=C),P}break;case"paragraph":return a?{type:s,content:u||[],marks:a}:{type:s,content:u||[]};case"text":var D=l.marks;if(c)return D?{type:s,text:c,marks:he(D,o)}:{type:s,text:c};break;case"heading":if(i){var Z=i.level;if(Z&&(n=6,(t=Z)>=1&&t<=n))return a?{type:s,content:u,marks:a,attrs:{level:Z}}:{type:s,content:u,attrs:{level:Z}}}break;case"orderedList":if(u)return{type:s,content:u,attrs:{order:i&&i.order}};break;case"listItem":if(u)return{type:s,content:ce(u)};break;case"panel":if(i&&u){var I=i.panelType;if(Object.values(x.w).includes(I))return{type:s,attrs:i,content:u}}break;case"layoutSection":if(u)return{type:s,marks:a,content:u};break;case"layoutColumn":if(i&&u&&i.width>0&&i.width<=100)return{type:s,content:u,attrs:i};break;case"decisionList":case"taskList":return{type:s,content:u,attrs:{localId:i&&i.localId||(0,Q.R)()}};case"decisionItem":return{type:s,content:u,attrs:{localId:i&&i.localId||(0,Q.R)(),state:i&&i.state||"DECIDED"}};case"taskItem":return{type:s,content:u,attrs:{localId:i&&i.localId||(0,Q.R)(),state:i&&i.state||"TODO"}};case"table":if(Array.isArray(u)&&u.length>0&&!u.some((function(e){return"tableRow"!==e.type})))return"stage0"===o?{type:s,content:u,attrs:ne(ne({},i),{},{localId:(null==i?void 0:i.localId)||(0,Q.R)()})}:{type:s,content:u,attrs:i};break;case"tableRow":if(Array.isArray(u)&&u.length>0&&!u.some((function(e){return"tableCell"!==e.type&&"tableHeader"!==e.type})))return{type:s,content:u};break;case"tableCell":case"tableHeader":if(u){var L={};return i&&(i.colspan&&i.colspan>1&&(L.colspan=i.colspan),i.rowspan&&i.rowspan>1&&(L.rowspan=i.rowspan),i.background&&(L.background=i.background),i.colwidth&&Array.isArray(i.colwidth)&&(L.colwidth=i.colwidth)),{type:s,content:ce(u),attrs:i?L:void 0}}break;case"image":if(i&&i.src)return{type:s,attrs:i};break;case"placeholder":if(i&&void 0!==i.text)return{type:s,attrs:i};break;case"expand":case"nestedExpand":return{type:s,attrs:i,content:u,marks:a}}return fe(l)},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"final",n=e.attrs,r=e.type;if(r)switch(r){case"code":case"em":case"strike":case"strong":case"underline":return{type:r};case"link":if(n){var o=n.href,i=n.url,a=n.__confluenceMetadata,c=o||i;!c||-1!==c.indexOf(":")||le.test(c)||de.test(c)||(c="http://".concat(c));var s={href:c};if(a&&(s.__confluenceMetadata=a),c&&(0,X.w6)(c))return{type:r,attrs:s}}break;case"subsup":if(n&&n.type){var u=n.type;if(function(e){return"sub"===e||"sup"===e}(u))return{type:r,attrs:{type:u}}}break;case"textColor":if(n&&ue.test(n.color))return{type:r,attrs:n};break;case"annotation":return{type:r,attrs:n}}if("stage0"===t)switch(r){case"confluenceInlineComment":case"dataConsumer":case"fragment":case"border":return{type:r,attrs:n}}return null}},35345:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,V:()=>o});var r="​",o="‍"},83836:(e,t,n)=>{"use strict";n.d(t,{f:()=>k});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(13980),p=n.n(d),f=n(19589),h=n(60652),v=n(91460),m=n(61801),g=n(64153);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var k=function(e){(0,a.Z)(n,e);var t=w(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"listeners",{}),(0,u.Z)((0,i.Z)(e),"debounce",null),(0,u.Z)((0,i.Z)(e),"notAppliedState",{}),(0,u.Z)((0,i.Z)(e),"isSubscribed",!1),(0,u.Z)((0,i.Z)(e),"callsCount",0),(0,u.Z)((0,i.Z)(e),"state",e.getPluginsStates(e.props.plugins,e.getEditorView(e.props,e.context))),(0,u.Z)((0,i.Z)(e),"handlePluginStateChange",(function(t,n,r,o){return function(i){(e.state[t]!==i||o)&&e.updateState({stateSubset:(0,u.Z)({},t,i),pluginName:n,performanceOptions:r})}})),(0,u.Z)((0,i.Z)(e),"updateState",(function(t){var n=t.stateSubset,r=t.pluginName,o=t.performanceOptions;e.notAppliedState=b(b({},e.notAppliedState),n),e.debounce&&window.clearTimeout(e.debounce);var i=!1!==e.props.debounce?function(e){return window.setTimeout(e,0)}:function(e){return e()};e.debounce=i((function(){var t="🦉".concat(r,"::WithPluginState");o.trackingEnabled&&(0,v.MZ)(t),e.setState(e.notAppliedState,(function(){o.trackingEnabled&&(0,v.H0)(t,(function(t){if(++e.callsCount%o.samplingRate==0&&t>o.slowThreshold){var n=e.getEditorView();e.dispatchAnalyticsEvent({action:f.om.WITH_PLUGIN_STATE_CALLED,actionSubject:f.Wt.EDITOR,eventType:f.Ze.OPERATIONAL,attributes:{plugin:r,duration:t,participants:(0,g.J)(n&&n.state)}})}}))})),e.debounce=null,e.notAppliedState={}}))})),(0,u.Z)((0,i.Z)(e),"dispatchAnalyticsEvent",(function(t){var n=e.getEventDispatcher();n&&(0,h.h)(n)(m.DQ,{payload:t})})),(0,u.Z)((0,i.Z)(e),"onContextUpdate",(function(){e.subscribe(e.props)})),e}return(0,o.Z)(n,[{key:"getEditorView",value:function(e,t){var n=e||this.props,r=t||this.context;return n.editorView||r&&r.editorActions&&r.editorActions._privateGetEditorView()||r&&r.editorSharedConfig&&r.editorSharedConfig.editorView}},{key:"getEventDispatcher",value:function(e){return(e||this.props).eventDispatcher||this.context&&this.context.editorActions&&this.context.editorActions._privateGetEventDispatcher()||this.context&&this.context.editorSharedConfig&&this.context.editorSharedConfig.eventDispatcher}},{key:"getPluginsStates",value:function(e,t){return t&&e?Object.keys(e).reduce((function(n,r){var o=e[r];return o?(n[r]=o.getState(t.state),n):n}),{}):{}}},{key:"subscribe",value:function(e){var t,n,r=this,o=e.plugins,i=this.getEventDispatcher(e),a=this.getEditorView(e);if(i&&a&&!this.isSubscribed){var c=a.state.analyticsPlugin$,s=c&&c.performanceTracking&&c.performanceTracking.uiTracking||{},u=!0===s.enabled,l=null!==(t=s.samplingRate)&&void 0!==t?t:100,d=null!==(n=s.slowThreshold)&&void 0!==n?n:4;this.isSubscribed=!0;var p=this.getPluginsStates(o,a);this.setState(p),Object.keys(o).forEach((function(e){var t=o[e];if(t){var n=t.key,a=p[e],c=a&&a.subscribe,s=r.handlePluginStateChange(e,n,{samplingRate:l,slowThreshold:d,trackingEnabled:u},c);c?a.subscribe(s):i.on(t.key,s),r.listeners[t.key]={handler:s,pluginKey:t}}}))}}},{key:"unsubscribe",value:function(){var e=this,t=this.getEventDispatcher(),n=this.getEditorView();t&&n&&this.isSubscribed&&(Object.keys(this.listeners).forEach((function(r){var o=e.listeners[r].pluginKey.getState(n.state);o&&o.unsubscribe?o.unsubscribe(e.listeners[r].handler):t.off(r,e.listeners[r].handler)})),this.listeners=[])}},{key:"subscribeToContextUpdates",value:function(e){e&&e.editorActions&&e.editorActions._privateSubscribe(this.onContextUpdate)}},{key:"unsubscribeFromContextUpdates",value:function(e){e&&e.editorActions&&e.editorActions._privateUnsubscribe(this.onContextUpdate)}},{key:"componentDidMount",value:function(){this.subscribe(this.props),this.subscribeToContextUpdates(this.context)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.isSubscribed||this.subscribe(e)}},{key:"componentWillUnmount",value:function(){this.debounce&&window.clearTimeout(this.debounce),this.unsubscribeFromContextUpdates(this.context),this.unsubscribe()}},{key:"render",value:function(){var e=this.props.render;return e(this.state)}}]),n}(l.Component);(0,u.Z)(k,"displayName","WithPluginState"),(0,u.Z)(k,"contextTypes",{editorActions:p().object,editorSharedConfig:p().object})},83783:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7896),o=n(2784),i=n(79398),a=n(56666),c=n(86522);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=(0,o.forwardRef)((function(n,s){var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=(0,i._)().createAnalyticsEvent,r=(0,o.useRef)({}),s=(0,o.useMemo)((function(){var o=r.current;return Object.keys(o).filter((function(t){return!(t in e)})).forEach((function(e){return delete o[e]})),Object.keys(e).reduce((function(r,i){var s=e[i];if(!["object","function"].includes((0,c.Z)(s)))return r;var l=t[i];if(i in o&&o[i].eventCreator===s&&o[i].propValue===l)return u(u({},r),{},(0,a.Z)({},i,o[i].wrappedCallback));var d=function(){var e="function"==typeof s?s(n,t):n(s);if(l&&"function"==typeof l){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];l.apply(void 0,o.concat([e]))}};return o[i]={eventCreator:s,wrappedCallback:d,propValue:l},u(u({},r),{},(0,a.Z)({},i,d))}),{})}),[e,t,n,r]);return{patchedEventProps:s}}(e,n),d=l.patchedEventProps,p=(0,i._)().createAnalyticsEvent;return o.createElement(t,(0,r.Z)({},n,d,{createAnalyticsEvent:p,ref:s}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}},20541:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(2784),o=n(46674),i=function(){return(0,r.useContext)(o.Z)}},79398:(e,t,n)=>{"use strict";n.d(t,{_:()=>w});var r=n(31118),o=n(68079),i=n(9249),a=n(87371),c=n(80753),s=n(93069),u=n(45754),l=n(11987),d=n(95058),p=n(56666),f=n(86522);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){function e(t){var n=this;(0,i.Z)(this,e),(0,p.Z)(this,"_isAnalyticsEvent",!0),(0,p.Z)(this,"clone",(function(){return new e({payload:v({},n.payload)})})),this.payload=t.payload}return(0,a.Z)(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===(0,f.Z)(e)&&(this.payload=v(v({},this.payload),e)),this}}]),e}();function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var y=function(e){(0,u.Z)(n,e);var t=g(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,p.Z)((0,c.Z)(r),"_isUIAnalyticsEvent",!0),(0,p.Z)((0,c.Z)(r),"clone",(function(){return r.hasFired?null:new n({context:(0,o.Z)(r.context),handlers:(0,o.Z)(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),(0,p.Z)((0,c.Z)(r),"fire",(function(e){r.hasFired||(r.handlers.forEach((function(t){return t((0,c.Z)(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return(0,a.Z)(n,[{key:"update",value:function(e){return this.hasFired?this:(0,s.Z)((0,d.Z)(n.prototype),"update",this).call(this,e)}}]),n}(m),b=n(20541);function w(){var e=(0,b.O)();return{createAnalyticsEvent:(0,r.vl)((function(t){return new y({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}},48495:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(2784),o=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t}},51595:(e,t,n)=>{"use strict";n.d(t,{$H:()=>u,AX:()=>T,BA:()=>E,Dw:()=>de,ER:()=>g,EZ:()=>ce,F4:()=>ee,H8:()=>le,HD:()=>Z,IR:()=>N,JV:()=>pe,M5:()=>C,Mx:()=>W,N0:()=>R,N_:()=>M,Nx:()=>X,Pe:()=>ve,RY:()=>y,S5:()=>a,S_:()=>d,Sk:()=>ae,T5:()=>b,TG:()=>G,Tx:()=>ie,Us:()=>te,VG:()=>Q,VY:()=>S,Vi:()=>D,WA:()=>U,Xd:()=>i,Xl:()=>L,YC:()=>A,Z3:()=>v,Zk:()=>c,a8:()=>p,ak:()=>k,bt:()=>Y,cS:()=>h,gR:()=>l,gt:()=>j,ii:()=>f,ip:()=>B,iw:()=>V,jC:()=>m,jJ:()=>_,kJ:()=>P,kd:()=>J,ly:()=>re,mn:()=>ue,n2:()=>z,nA:()=>se,nP:()=>he,oe:()=>oe,os:()=>$,q2:()=>q,r6:()=>o,rt:()=>s,tE:()=>x,u7:()=>I,uv:()=>F,vP:()=>O,vs:()=>ne,xA:()=>K,xU:()=>fe,zN:()=>H});var r=n(36233),o="#FFEBE6",i="#FFBDAD",a="#FF8F73",c="#FF7452",s="#FF5630",u="#DE350B",l="#BF2600",d="#FFFAE6",p="#FFF0B3",f="#FFE380",h="#FFC400",v="#FFAB00",m="#FF991F",g="#E3FCEF",y="#ABF5D1",b="#57D9A3",w="#36B37E",k="#00875A",E="#DEEBFF",x="#B3D4FF",O="#4C9AFF",S="#2684FF",C="#0065FF",T="#0052CC",A="#0747A6",_="#EAE6FF",P="#C0B6F2",D="#998DD9",Z="#5243AA",I="#E6FCFF",L="#B3F5FF",M="#79E2F2",R="#FFFFFF",N="#F4F5F7",j="#EBECF0",F="#C1C7D0",B="#B3BAC5",z="#A5ADBA",U="#8993A4",V="#6B778C",H="#505F79",W="#42526E",G="#253858",q="#172B4D",K="#091E42",$="rgba(9, 30, 66, 0.04)",J="rgba(9, 30, 66, 0.08)",Y="rgba(9, 30, 66, 0.13)",X="rgba(9, 30, 66, 0.25)",Q="rgba(9, 30, 66, 0.31)",ee="rgba(9, 30, 66, 0.60)",te="rgba(9, 30, 66, 0.66)",ne="#DCE5F5",re="#B8C7E0",oe="#9FB0CC",ie="#8C9CB8",ae="#67758F",ce="#455166",se="#3B475C",ue="#313D52",le="#283447",de="#1B2638",pe="#121A29",fe="#0D1424",he=((0,r.Z)({light:"var(--ds-surface, ".concat(R,")"),dark:"var(--ds-surface, ".concat(de,")")}),(0,r.Z)({light:"var(--ds-background-selected, ".concat(E,")"),dark:"var(--ds-background-selected, ".concat(x,")")}),(0,r.Z)({light:"var(--ds-background-neutral-hovered, ".concat(j,")"),dark:"var(--ds-background-neutral-hovered, ".concat(se,")")}),(0,r.Z)({light:"var(--ds-surface-overlay, ".concat(R,")"),dark:"var(--ds-surface-overlay, ".concat(le,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(K,")"),dark:"var(--ds-text, ".concat(re,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(q,")"),dark:"var(--ds-text, ".concat(re,")")}),(0,r.Z)({light:"var(--ds-text-selected, ".concat(T,")"),dark:"var(--ds-text-selected, ".concat(T,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(V,")"),dark:"var(--ds-text-subtlest, ".concat(ie,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),(0,r.Z)({light:"var(--ds-text, ".concat(q,")"),dark:"var(--ds-text, ".concat(re,")")})),ve=(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(V,")"),dark:"var(--ds-text-subtlest, ".concat(ie,")")});(0,r.Z)({light:N,dark:le}),(0,r.Z)({light:"var(--ds-link, ".concat(T,")"),dark:"var(--ds-link, ".concat(O,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat(C,")"),dark:"var(--ds-link-pressed, ".concat(S,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat(A,")"),dark:"var(--ds-link-pressed, ".concat(O,")")}),(0,r.Z)({light:"var(--ds-border-focused, ".concat(O,")"),dark:"var(--ds-border-focused, ".concat(S,")")}),(0,r.Z)({light:"var(--ds-background-brand-bold, ".concat(T,")"),dark:"var(--ds-background-brand-bold, ".concat(O,")")}),(0,r.Z)({light:T,dark:O}),(0,r.Z)({light:"#00B8D9",dark:"#00C7E6"}),(0,r.Z)({light:"#6554C0",dark:D}),(0,r.Z)({light:s,dark:s}),(0,r.Z)({light:v,dark:v}),(0,r.Z)({light:w,dark:w})},43139:(e,t,n)=>{"use strict";n.d(t,{m:()=>c});var r=n(59740),o=n(2784),i=["children"];var a=function(e){var t=function(e,t){return e(t)},n=(0,o.createContext)(e);function a(e){return((0,o.useContext)(n)||t)(e)}return{Consumer:function(e){var t=e.children,n=a((0,r.Z)(e,i));return o.createElement(o.Fragment,null,t(n))},Provider:function(e){var r=(0,o.useContext)(n),i=e.value||t,a=(0,o.useCallback)((function(e){return i(r,e)}),[r,i]);return o.createElement(n.Provider,{value:a},e.children)},useTheme:a}}((function(){return{mode:"light"}})),c=(a.Provider,a.Consumer,a.useTheme)},56298:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,GV:()=>r,JB:()=>s,MU:()=>o,oc:()=>i,ww:()=>c});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 8},s=function(){return 14}},68013:(e,t,n)=>{"use strict";n.d(t,{AC:()=>b,Mf:()=>E,lL:()=>g,pB:()=>k,pp:()=>m,qm:()=>w,uU:()=>y});var r=n(56666),o=n(51595),i=n(56298);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e,t){return{fontSize:"".concat(e/(0,i.JB)(),"em"),fontStyle:"inherit",lineHeight:t/e}},u={size:24,lineHeight:28},l={size:20,lineHeight:24},d={size:16,lineHeight:20},p={size:14,lineHeight:16},f={size:12,lineHeight:16},h={size:12,lineHeight:16},v={size:11,lineHeight:16},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(c({},s(u.size,u.lineHeight)),{},{color:"var(--ds-text, ".concat((0,o.nP)(e),")"),fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.01em",marginTop:"".concat(5*(0,i.ww)(),"px")})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(c({},s(l.size,l.lineHeight)),{},{color:"var(--ds-text, ".concat((0,o.nP)(e),")"),fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",marginTop:"".concat(3.5*(0,i.ww)(),"px")})},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(c({},s(d.size,d.lineHeight)),{},{color:"var(--ds-text, ".concat((0,o.nP)(e),")"),fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.006em",marginTop:"".concat(3*(0,i.ww)(),"px")})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(c({},s(p.size,p.lineHeight)),{},{color:"var(--ds-text, ".concat((0,o.nP)(e),")"),fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.003em",marginTop:"".concat(2*(0,i.ww)(),"px")})},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(c({},s(f.size,f.lineHeight)),{},{color:"var(--ds-text, ".concat((0,o.nP)(e),")"),fontWeight:"var(--ds-font-weight-semibold, 600)",marginTop:"".concat(2.5*(0,i.ww)(),"px"),textTransform:"uppercase"})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(c({},s(h.size,h.lineHeight)),{},{color:"var(--ds-text-subtlest, ".concat((0,o.Pe)(e),")"),fontWeight:"var(--ds-font-weight-semibold, 600)",marginTop:"".concat(2*(0,i.ww)(),"px")})},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(c({},s(v.size,v.lineHeight)),{},{color:"var(--ds-text-subtlest, ".concat((0,o.Pe)(e),")"),fontWeight:"var(--ds-font-weight-bold, 700)",marginTop:"".concat(2*(0,i.ww)(),"px")})}},77210:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(56298);function o(e){if(e&&e.theme){if(r.GV in e.theme)return e.theme[r.GV];if("mode"in e.theme&&r.oc.includes(e.theme.mode))return e.theme}return{mode:r.MU}}},36233:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(77210);function o(e,t){if("string"==typeof e)return n=e,o=t,function(e){var t=(0,r.Z)(e);if(e&&e[n]&&o){var i=o[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,o,i=e;return function(e){var t=(0,r.Z)(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}},69626:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(86522),o=n(34795),i=n(9249),a=n(87371),c=n(56666),s=n(75730),u=n(61801),l=n(16037),d=n(41396),p=n(60652),f=n(90118),h=n(89247),v=n(79155),m=n(58733);n(15574);const g=function(e,t,n){};var y=n(68982),b=n(33701);function w(){w=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(A([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,r.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=v,o(b,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var k=function(){function e(){var t=this;(0,i.Z)(this,e),(0,c.Z)(this,"listeners",[]),(0,c.Z)(this,"dispatchAnalyticsEvent",(function(e){t.eventDispatcher&&(0,p.h)(t.eventDispatcher)(u.DQ,{payload:e})})),(0,c.Z)(this,"getResolvedEditorState",(0,o.Z)(w().mark((function e(){var n,r,o,i,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getFeatureFlags(),o=r.useNativeCollabPlugin,t.editorView){e.next=3;break}throw new Error("Called getResolvedEditorState before editorView is ready");case 3:if(o){e.next=10;break}return e.next=6,t.getValue();case 6:if(i=e.sent){e.next=9;break}throw new Error("editorValue is undefined");case 9:return e.abrupt("return",{content:i,title:null,stepVersion:-1});case 10:return a=t.editorView,e.next=13,(0,m.SB)(a);case 13:return e.abrupt("return",null===(n=(0,f.A)(a.state))||void 0===n?void 0:n.getFinalAcknowledgedState());case 14:case"end":return e.stop()}}),e)}))))}var t,n;return(0,a.Z)(e,[{key:"_privateGetEditorView",value:function(){return this.editorView}},{key:"_privateGetEventDispatcher",value:function(){return this.eventDispatcher}},{key:"getFeatureFlags",value:function(){return{}}},{key:"_privateRegisterEditor",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return{}};if(this.contentTransformer=n,this.eventDispatcher=t,this.getFeatureFlags=r,!this.editorView&&e)this.editorView=e,this.listeners.forEach((function(n){return n(e,t)}));else if(this.editorView!==e)throw new Error("Editor has already been registered! It's not allowed to re-register editor with the new Editor instance.");this.contentTransformer&&(this.contentEncode=this.contentTransformer.encode.bind(this.contentTransformer))}},{key:"_privateUnregisterEditor",value:function(){this.editorView=void 0,this.contentTransformer=void 0,this.contentEncode=void 0,this.eventDispatcher=void 0,this.getFeatureFlags=function(){return{}}}},{key:"_privateSubscribe",value:function(e){this.editorView&&this.eventDispatcher&&e(this.editorView,this.eventDispatcher),this.listeners.push(e)}},{key:"_privateUnsubscribe",value:function(e){this.listeners=this.listeners.filter((function(t){return t!==e}))}},{key:"focus",value:function(){if(!this.editorView||this.editorView.hasFocus())return!1;try{this.editorView.focus()}catch(e){0}return this.editorView.dispatch(this.editorView.state.tr.scrollIntoView()),!0}},{key:"blur",value:function(){return!(!this.editorView||!this.editorView.hasFocus())&&(this.editorView.dom.blur(),!0)}},{key:"clear",value:function(){if(!this.editorView)return!1;var e=this.editorView,t=e.state,n=e.state.tr.setSelection(l.TextSelection.create(t.doc,0,t.doc.nodeSize-2)).deleteSelection();return e.dispatch(n),!0}},{key:"__temporaryFixForConfigPanel",value:(n=(0,o.Z)(w().mark((function e(){var t;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.editorView){e.next=3;break}return e.abrupt("return");case 3:(0,m.V$)(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getValue",value:(t=(0,o.Z)(w().mark((function e(){var t,n,r,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.editorView){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,(0,m.SB)(t);case 5:if(n=e.sent,r=(0,v.au)(n),this.contentEncode){e.next=9;break}return e.abrupt("return",r);case 9:return o=s.Node.fromJSON(this.editorView.state.schema,r),e.abrupt("return",this.contentEncode(o));case 11:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getNodeByLocalId",value:function(e){var t,n,r;if(null!==(t=this.editorView)&&void 0!==t&&t.state)return null===(n=(0,h.MV)(null===(r=this.editorView)||void 0===r?void 0:r.state,e))||void 0===n?void 0:n.node}},{key:"getNodeByFragmentLocalId",value:function(e){var t;if(null!==(t=this.editorView)&&void 0!==t&&t.state){var n,r=(0,b.t)(null===(n=this.editorView)||void 0===n?void 0:n.state,[e]);return r.length>0?r[0].node:void 0}}},{key:"getSelectedNode",value:function(){var e,t;if(null!==(e=this.editorView)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.selection){var n,r=this.editorView.state.selection;return r instanceof l.NodeSelection?r.node:null===(n=(0,d.Kk)((function(e){return Boolean(e.type.spec.selectable)}))(r))||void 0===n?void 0:n.node}}},{key:"isDocumentEmpty",value:function(){return!this.editorView||(0,y.RL)(this.editorView.state.doc)}},{key:"replaceDocument",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return g("EditorActions.replaceDocument",{shouldAddToHistory:!(arguments.length>2&&void 0!==arguments[2])||arguments[2]},[{property:"shouldAddToHistory",description:"[ED-14158] EditorActions.replaceDocument does not use the shouldAddToHistory arg",type:"removed"}]),!(!this.editorView||null==e)&&(this.eventDispatcher&&this.eventDispatcher.emit("resetEditorState",{doc:e,shouldScrollToBottom:t}),!0)}},{key:"replaceSelection",value:function(e,t){if(!this.editorView)return!1;var n=this.editorView.state;if(!e){var r=n.tr.deleteSelection().scrollIntoView();return this.editorView.dispatch(r),!0}var o=n.schema,i=Array.isArray(e)?(0,y.Ps)(o,e):(0,y.wy)(o,e);return!!i&&(this.editorView.dispatch((0,d.Z3)(i,void 0,t)(n.tr).scrollIntoView()),!0)}},{key:"appendText",value:function(e){if(!this.editorView||!e)return!1;var t=this.editorView.state,n=t.doc.lastChild;if(n&&n.type!==t.schema.nodes.paragraph)return!1;var r=t.tr.insertText(e).scrollIntoView();return this.editorView.dispatch(r),!0}}],[{key:"from",value:function(t,n,r){var o=new e;return o._privateRegisterEditor(t,n,r),o}}]),e}()},98749:(e,t,n)=>{"use strict";var r,o;n.d(t,{v:()=>v}),function(e){e.CURSOR="cursor",e.RANGED="ranged",e.TEXT="text",e.NODE="node",e.CELL="cell",e.GAP_CURSOR="gapCursor"}(r||(r={})),function(e){e.START="start",e.MIDDLE="middle",e.END="end",e.LEFT="left",e.RIGHT="right"}(o||(o={}));var i=n(19589),a=n(90430),c=n(41396),s=n(16037);function u(e,t){if(!t.attributes)return t;var n=function(e){var t,n,i,c=e.selection;if("GapCursorSelection"===(null==c||null===(t=c.constructor)||void 0===t?void 0:t.name))n=r.GAP_CURSOR,i=c.side;else if(c instanceof a.X)n=r.CELL;else if(c instanceof s.NodeSelection)n=r.NODE;else if(c.from!==c.to)n=r.RANGED;else{n=r.CURSOR;var u=c.from,l=c.$from;i=u===l.start()?o.START:u===l.end()?o.END:o.MIDDLE}return{type:n,position:i}}(e),u=n.type,l=n.position;t.attributes.selectionType=u,l&&(t.attributes.selectionPosition=l);var d=function(e){var t=e.selection;if(t instanceof s.NodeSelection)return t.node.type.name;if(t instanceof a.X)return e.schema.nodes.table.name;var n=(0,c.Kk)((function(t){return t.type!==e.schema.nodes.paragraph}))(e.selection);return n?n.node.type.name:e.doc.type.name}(e);return t.action===i.om.INSERTED&&t.actionSubject===i.Wt.DOCUMENT&&t.attributes?t.attributes.insertLocation=d:t.attributes.nodeLocation=d,t}var l=n(56666);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=n(91112),h=[i.om.INVOKED,i.om.OPENED],v=function(e){var t=e.payload,n=e.editorState,r=e.tr,o=e.channel;t=function(e){var t=e.action===i.om.INSERTED&&e.actionSubject===i.Wt.DOCUMENT,n=e.action===i.om.FORMATTED&&e.actionSubject===i.Wt.TEXT;return!!e.actionSubjectId&&(t||n)&&(e.attributes=p(p({},e.attributes),{},{actionSubjectId:e.actionSubjectId})),e}(t=u(n,t));var a=r.storedMarks,c=r.mapping.map(n.selection.$from.pos,-1);r.step(new f.R1([{payload:t,channel:o}],h,c)),a&&r.setStoredMarks(a)}},62588:(e,t,n)=>{"use strict";n.d(t,{DS:()=>y,E5:()=>b,Gd:()=>p,L7:()=>w,NP:()=>g,Vx:()=>f,kJ:()=>h,mD:()=>m});var r=n(56666),o=n(75730),i=n(16037),a=n(90430),c=n(79155),s=n(50104),u=n(19589);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=(0,s.wi)({action:u.om.INSERTED,actionSubject:u.Wt.TEXT,actionSubjectId:u.VJ.LINE_BREAK,eventType:u.Ze.TRACK})((function(e,t){var n=e.selection.$from.parent,r=e.schema.nodes.hardBreak;if(r){var a=r.createChecked();if(n&&n.type.validContent(o.Fragment.from(a)))return t&&t(e.tr.replaceSelectionWith(a,!1)),!0}return e.selection instanceof i.TextSelection&&(t&&t(e.tr.insertText("\n")),!0)})),f=function(e,t){return!((0,c._j)(e)||!v(e))&&(m(!1)(e,t),!0)},h=function(e,t){return!((0,c.S4)(e)||!v(e))&&(m(!0)(e,t),!0)};function v(e){var t=e.selection.$from,n=t.node(t.depth),r=!!n&&n.type===e.schema.nodes.codeBlock,o=e.selection instanceof i.NodeSelection;return t.depth>1||o||r}function m(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var r,o=t.schema.nodes.paragraph;if(!o)return!1;if(t.selection instanceof i.TextSelection){if(function(e){var t=e.selection.$from.node(1);return t.isTextblock&&t.type!==e.schema.nodes.codeBlock&&2===t.nodeSize}(t))return!1;r=function(e,t){var n,r=e.selection,o=r.$from,i=r.$to;n=t?i.end(0):o.start(0);return n}(t,e)}else r=function(e,t){var n,r=e.selection,o=r.$from,a=r.$to,c=e.selection instanceof i.NodeSelection&&e.doc.nodeAt(e.selection.$anchor.pos),s=c&&"mediaGroup"===c.type.name;t?(n=a.end(a.depth),n=a.depth>0&&!s?n+1:n):(n=o.start(o.depth),n=o.depth>0&&!s?n-1:n);return n}(t,e);var a=t.tr.insert(r,o.createAndFill());return a.setSelection(i.TextSelection.create(a.doc,r+1)),n&&n(a),!0}}function g(e){var t=e.doc.type.schema.nodes.paragraph,n=e.doc;!n.lastChild||n.lastChild.type===t&&0===n.lastChild.content.size||t&&e.insert(n.content.size,t.createAndFill()),e.setSelection(i.TextSelection.create(e.doc,e.doc.content.size-1)),e.scrollIntoView()}var y=function(e){return function(t,n){var r=t.selection,o=r.from,i=r.to,a=t.tr;return t.doc.nodesBetween(o,i,(function(n,r){n.type===t.schema.nodes.mediaSingle&&a.setNodeMarkup(r,void 0,d(d({},n.attrs),{},{layout:"center"===e?"center":"align-".concat(e)}))})),!(!a.docChanged||!n)&&(n(a.scrollIntoView()),!0)}},b=function(e,t,n){return function(r,o,i,a){var c=!1;return a.doc.nodesBetween(r,o,(function(r,o,s){if(!r.type.isBlock)return!1;if((!n||(Array.isArray(n)?n.indexOf(r.type)>-1:n(a.schema,r,s)))&&s.type.allowsMarkType(e)){var u=r.marks.filter((function(t){return t.type===e})),l=u.length?u[0].attrs:void 0,d=t(l,r);void 0!==d&&(i.setNodeMarkup(o,r.type,r.attrs,r.marks.filter((function(t){return!e.excludes(t.type)})).concat(!1===d?[]:e.create(d))),c=!0)}})),c}},w=function(e,t,n){return function(r,o){var i=!1,c=r.tr,s=b(e,t,n);if(r.selection instanceof a.X)r.selection.forEachCell((function(e,t){i=s(t,t+e.nodeSize,c,r)}));else{var u=r.selection,l=u.from,d=u.to;i=s(l,d,c,r)}return!(!i||!c.docChanged)&&(o&&o(c.scrollIntoView()),!0)}}},40902:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var r=n(86522),o=n(34795),i=n(9249),a=n(87371),c=n(80753),s=n(45754),u=n(11987),l=n(95058),d=n(56666),p=n(2784),f=n(98022),h=n.n(f),v=n(56223),m=n(74427),g=n(9334),y=n(19589),b=n(65109),w=n(49001),k=n(7896),E=n(32958),x=function(e){var t=/Chrome\//.test(e)&&!/OPR\//.test(e);if((t?parseInt((e.match(/Chrome\/(\d+)/)||[])[1],10):0)>=84)return!1;var n=/gecko\/\d/i.test(e);if((n?parseInt((e.match(/Firefox\/(\d+)/)||[])[1],10):0)>=84)return!1;var r=/Edge\/(\d+)/.exec(e);return!((r?+r[1]:0)>=84)&&!((!t&&!n&&/Version\/([0-9\._]+).*Safari/.test(e)?parseInt((e.match(/Version\/([0-9\._]+).*Safari/)||[])[1],10):0)>=12)};function O(){O=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(A([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,c,s){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,r.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=v,o(b,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var A=function(e){(0,s.Z)(r,e);var t,n=T(r);function r(e){var t;return(0,i.Z)(this,r),t=n.call(this,e),(0,d.Z)((0,c.Z)(t),"browserExtensions",void 0),(0,d.Z)((0,c.Z)(t),"state",{error:void 0}),(0,d.Z)((0,c.Z)(t),"sendErrorData",function(){var e=(0,o.Z)(O().mark((function e(n){var r,o,i,a,c,s,u,l,d,p;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProductName();case 2:i=e.sent,a=n.error,c=n.errorInfo,s=n.errorStack,u=h()(),l=(null===(r=window)||void 0===r||null===(o=r.navigator)||void 0===o?void 0:o.userAgent)||"unknown",d={product:i,browserInfo:l,error:a,errorInfo:c,errorId:u,browserExtensions:t.browserExtensions,docStructure:t.featureFlags.errorBoundaryDocStructure&&t.props.editorView?(0,w.m)(t.props.editorView.state.doc,{compact:!0}):void 0,outdatedBrowser:x(l)},t.fireAnalyticsEvent({action:y.om.EDITOR_CRASHED,actionSubject:y.Wt.EDITOR,eventType:y.Ze.OPERATIONAL,attributes:d}),t.fireAnalyticsEvent({action:y.om.EDITOR_CRASHED_ADDITIONAL_INFORMATION,actionSubject:y.Wt.EDITOR,eventType:y.Ze.OPERATIONAL,attributes:{errorId:u},nonPrivacySafeAttributes:{errorStack:s}}),t.featureFlags.ufo&&t.props.editorView&&(null===(p=t.experienceStore)||void 0===p||p.failAll(C(C({},t.getExperienceMetadata(d)),{},{errorStack:s})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,d.Z)((0,c.Z)(t),"getProductName",(0,o.Z)(O().mark((function e(){var n,r;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.props.contextIdentifierProvider)){e.next=7;break}return e.next=4,n;case 4:if(!(r=e.sent).product){e.next=7;break}return e.abrupt("return",r.product);case 7:return e.abrupt("return","atlaskit");case 8:case"end":return e.stop()}}),e)})))),(0,d.Z)((0,c.Z)(t),"fireAnalyticsEvent",(function(e){var n,r;null===(n=(r=t.props).createAnalyticsEvent)||void 0===n||n.call(r,e).fire(b.f)})),(0,d.Z)((0,c.Z)(t),"getExperienceMetadata",(function(e){var t;return{browserInfo:e.browserInfo,error:e.error.toString(),errorInfo:{componentStack:e.errorInfo.componentStack},errorId:e.errorId,browserExtensions:null===(t=e.browserExtensions)||void 0===t?void 0:t.toString(),docStructure:e.docStructure}})),t.featureFlags=e.featureFlags,e.editorView&&(t.experienceStore=v.Xv.getInstance(e.editorView)),t}return(0,a.Z)(r,[{key:"componentDidCatch",value:function(e,t){var n=this;this.sendErrorData({error:e.toString(),errorInfo:t,errorStack:e.stack}),this.setState({error:e},(function(){if(n.props.rethrow)throw e}))}},{key:"componentDidMount",value:(t=(0,o.Z)(O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.I)({extensions:["grammarly"],async:!0,asyncTimeoutMs:2e4});case 2:this.browserExtensions=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return p.createElement(m.G,null,this.props.children)}}]),r}(p.Component);(0,d.Z)(A,"defaultProps",{rethrow:!0});const _=(P=A,function(e){var t=(0,E._)().editorActions;return p.createElement(P,(0,k.Z)({},e,{editorView:null==t?void 0:t._privateGetEditorView()}))});var P},13734:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ie});var r=n(2784),o=n(86522),i=n(9249),a=n(87371),c=n(80753),s=n(45754),u=n(11987),l=n(95058),d=n(56666),p=n(13980),f=n.n(p),h=n(16037),v=n(6565),m=(0,n(63470).vU)({editorAssistiveLabel:{id:"fabric.editor.editorAssistiveLabel",defaultMessage:"Main content area, start typing to enter text.",description:"Text that is read out by screen reader when the main editor is in focus"}}),g=n(91460),y=n(98985),b=n(13956),w=n(61801),k=n(88683),E=n(3493),x=n(56223),O=n(60652),S=n(68982),C=n(19589),T=function(e){var t=e.dispatchAnalyticsEvent,n=e.pluginKey,r=e.analyticsOnly,o=function(){if(t&&t({action:C.om.TRANSACTION_MUTATED_AFTER_DISPATCH,actionSubject:C.Wt.EDITOR,eventType:C.Ze.OPERATIONAL,attributes:{pluginKey:n||"unknown"},nonPrivacySafeAttributes:{stack:(new Error).stack}}),!r)throw new Error("Setting an unsafe property on transaction after dispatch!")};return{get:function(e,t,n){return function(e){return["setSelection"].includes(e.toString())}(t)&&o(),Reflect.get(e,t,n)},set:function(e,t,n){return function(e){return["doc","docs","steps","selection"].includes(e.toString())}(t)&&o(),Reflect.set(e,t,n)}}},A=n(6784),_=n(97816),P=n(30850),D=n(8639),Z=n(79393),I=n(10813),L=n(14935),M=n(68079),R=n(59046),N=n(54801);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var F=function(e){(0,s.Z)(n,e);var t=j(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;(0,i.Z)(this,n);var s=o.transactionTracking,u=void 0===s?{enabled:!1}:s,l=o.uiTracking,d=void 0===l?{enabled:!1}:l,p=o.saferDispatchedTransactions,f=void 0!==p&&p,h=o.saferDispatchedTransactionsAnalyticsOnly,v=void 0!==h&&h,m=o.dispatchAnalyticsEvent;if((u.enabled&&a||f||v)&&e.state){var y=e.state.apply.bind(e.state);e.state.apply=function(e,t,n,o){var i=(0,c.Z)(r),s=f||v?new Proxy(e,T({dispatchAnalyticsEvent:m,pluginKey:i.key,analyticsOnly:v})):e;if(!(null==a?void 0:a.shouldTrackTransaction(u))||!a)return y(s,t,n,o);var l=a.getMeasureHelpers(u),d=l.startMeasure,p=l.stopMeasure,h="🦉".concat(i.key,"::apply");d(h);var g=y(s,t,n,o);return p(h),g}}if(d.enabled&&e.view){var b=e.view.bind(e);e.view=function(e){var t=(0,c.Z)(r),n="🦉".concat(t.key,"::view::update"),o=b(e);if(o.update){var i=o.update;o.update=function(e,t){(0,g.MZ)(n),i(e,t),(0,g.H0)(n,(function(){}))}}return o}}return r=t.call(this,e)}return(0,a.Z)(n,null,[{key:"fromPlugin",value:function(e,t,r){return new n(e.spec,t,r)}}]),n}(n(6131).J);function B(e){var t=e.reduce((function(e,t){return t.pluginsOptions&&Object.keys(t.pluginsOptions).forEach((function(n){e[n]||(e[n]=[]),e[n].push(t.pluginsOptions[n])})),e}),{});return e.reduce((function(e,n){var r,o,i;n.pmPlugins&&(r=e.pmPlugins).push.apply(r,(0,M.Z)(n.pmPlugins(n.name?t[n.name]:void 0)));n.nodes&&(o=e.nodes).push.apply(o,(0,M.Z)(n.nodes()));n.marks&&(i=e.marks).push.apply(i,(0,M.Z)(n.marks()));return n.contentComponent&&e.contentComponents.push(n.contentComponent),n.primaryToolbarComponent&&e.primaryToolbarComponents.push(n.primaryToolbarComponent),n.secondaryToolbarComponent&&e.secondaryToolbarComponents.push(n.secondaryToolbarComponent),n.onEditorViewStateUpdated&&e.onEditorViewStateUpdatedCallbacks.push({pluginName:n.name,callback:n.onEditorViewStateUpdated}),e}),{nodes:[],marks:[],pmPlugins:[],contentComponents:[],primaryToolbarComponents:[],secondaryToolbarComponents:[],onEditorViewStateUpdatedCallbacks:[]})}var z={enabled:!1};function U(e){var t=e.editorConfig,n=e.performanceTracking,r=void 0===n?{}:n,o=e.transactionTracker,i=e.featureFlags,a=e.dispatchAnalyticsEvent,c=r.uiTracking,s=void 0===c?z:c,u=r.transactionTracking,l=void 0===u?z:u,d=i.saferDispatchedTransactions,p=i.saferDispatchedTransactionsAnalyticsOnly;var f=s.enabled||l.enabled||d||p?function(e){return F.fromPlugin(e,{uiTracking:s,transactionTracking:l,saferDispatchedTransactions:d,saferDispatchedTransactionsAnalyticsOnly:p,dispatchAnalyticsEvent:a},o)}:function(e){return e};return t.pmPlugins.sort((0,N.H)("plugins")).map((function(t){return(0,t.plugin)({schema:e.schema,dispatch:e.dispatch,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,errorReporter:e.errorReporter,portalProviderAPI:e.portalProviderAPI,reactContext:e.reactContext,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,featureFlags:e.featureFlags||{},getIntl:e.getIntl})})).filter((function(e){return void 0!==e})).map(f)}var V=n(49001),H=n(53270),W=n(39332),G=n(75730),q=n(32946);function K(e){var t=function(e){var t=Object.keys(e),n=new Set(t.map((function(t){return e[t].group})));return t.forEach((function(t){var r=e[t];r.excludes&&(r.excludes=r.excludes.split(" ").filter((function(e){return n.has(e)})).join(" "))})),e}(e.marks.sort((0,N.H)("marks")).reduce((function(e,t){return e[t.name]=t.mark,e}),{})),n=(0,q.ZY)(e.nodes.sort((0,N.H)("nodes")).reduce((function(e,t){return e[t.name]=t.node,e}),{}),t);return new G.Schema({nodes:n,marks:t})}var $=n(96234),J=function(e,t){var n=e.sort((function(e,t){return e-t})),r=n.length*t,o=Math.floor(r);if(r-o>0)return n[o];var i=n[o-1],a=n[o];return void 0!==i&&void 0!==a?(i+a)/2:void 0},Y=function(e,t){var n=J(e,.25),r=J(e,.75);if(void 0!==n&&void 0!==r)return r+(r-n)*t},X=n(6771),Q=n(25421),ee="🦉 EditorView::state::apply",te="🦉 EditorView::updateState",ne="🦉 EditorView::onEditorViewStateUpdated",re="🦉 ReactEditorView::onChange",oe="🦉 ReactEditorView::dispatchTransaction",ie=function(){},ae=function(){function e(){var t=this;(0,i.Z)(this,e),(0,d.Z)(this,"dispatchCallCounter",0),(0,d.Z)(this,"measureMap",new Map),(0,d.Z)(this,"measureListeners",[]),(0,d.Z)(this,"bumpDispatchCounter",(function(e){var n=e.enabled,r=e.samplingRate,o=void 0===r?100:r;return n&&(t.dispatchCallCounter>=o&&(t.dispatchCallCounter=0),t.dispatchCallCounter++),t.dispatchCallCounter})),(0,d.Z)(this,"getMeasureHelpers",(function(e){var n=e.usePerformanceMarks,r=void 0!==n&&n;return t.shouldTrackTransaction(e)?{startMeasure:r?g.MZ:t.startMeasureSimple,stopMeasure:r?g.H0:t.stopMeasureSimple}:{startMeasure:ie,stopMeasure:ie}})),(0,d.Z)(this,"startMeasureSimple",(function(e){(0,X.D4)()&&t.measureMap.set(e,performance.now())})),(0,d.Z)(this,"stopMeasureSimple",(function(e,n){if((0,X.D4)()){var r=t.measureMap.get(e);if(r){var o=(0,Q.J)(r);t.measureMap.delete(e),n&&n(o,r),t.measureListeners.forEach((function(t){return t({name:e,duration:o,startTime:r})}))}}}))}return(0,a.Z)(e,[{key:"addMeasureListener",value:function(e){this.measureListeners.push(e)}},{key:"removeMeasureListener",value:function(e){var t=this.measureListeners.indexOf(e);t>-1&&this.measureListeners.splice(t,1)}},{key:"shouldTrackTransaction",value:function(e){var t=e.enabled,n=e.samplingRate,r=void 0===n?100:n;return t&&this.dispatchCallCounter===r}}]),e}();function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(){function e(t){var n=this;(0,i.Z)(this,e),(0,d.Z)(this,"count",0),(0,d.Z)(this,"pluginNames",[]),(0,d.Z)(this,"nodes",{}),(0,d.Z)(this,"extensionNodes",{}),(0,d.Z)(this,"nodesDuration",0),(0,d.Z)(this,"plugins",{}),(0,d.Z)(this,"slowPlugins",{}),(0,d.Z)(this,"options",{samplingRate:100,slowThreshold:300,outlierThreshold:30,outlierFactor:3}),(0,d.Z)(this,"isChild",(function(e){return e.startTime>=n.entry.startTime&&e.startTime+e.duration<=n.entry.startTime+n.entry.duration})),this.entry=t}return(0,a.Z)(e,[{key:"getEntryByName",value:function(e,t){return e.getEntriesByName(t).find(this.isChild)}},{key:"getMethodSum",value:function(e){return Object.values(e).reduce((function(e,t){return e+t}),0)}},{key:"greaterEquals",value:function(e,t){return"number"==typeof t&&e>=t}},{key:"hasOutlierMethods",value:function(e,t){return this.greaterEquals(e.stateApply,t.stateApplyOutlier)||this.greaterEquals(e.viewUpdate,t.viewUpdateOutlier)}},{key:"trigger",get:function(){return this.entry.duration>this.options.slowThreshold?"slow":this.hasSlowPlugins&&this.entry.duration>this.options.outlierThreshold?"distribution":this.count>0&&this.count%this.options.samplingRate==0?"sample":"none"}},{key:"hasSlowPlugins",get:function(){return Object.keys(this.slowPlugins).length>0}},{key:"withEntryList",value:function(e){return this.entryList=e,this.stateApplied=this.getEntryByName(e,ee),this.viewUpdated=this.getEntryByName(e,te),this.onChangeCalled=this.getEntryByName(e,re),this.onEditorViewStateUpdatedCalled=this.getEntryByName(e,ne),this.withPlugins(this.pluginNames),this}},{key:"withPlugins",value:function(e){var t=this,n={duration:0};if(this.pluginNames=e,this.plugins=e.reduce((function(e,r){var o=t.entryList&&t.getEntryByName(t.entryList,"🦉".concat(r,"::apply"))||n,i=t.entryList&&t.getEntryByName(t.entryList,"🦉".concat(r,"::view::update"))||n,a=t.entryList&&t.getEntryByName(t.entryList,"🦉".concat(r,"::onEditorViewStateUpdated"))||n;return e[r]={stateApply:o.duration,viewUpdate:i.duration,onEditorViewStateUpdated:a.duration},e}),{}),this.stateApplied&&e.length>0){var r=Object.entries(this.plugins),o=Y(r.map((function(e){return(0,$.Z)(e,2)[1].stateApply})),this.options.outlierFactor),i=Y(r.map((function(e){return(0,$.Z)(e,2)[1].viewUpdate})),this.options.outlierFactor),a=this.options.outlierThreshold/r.length;this.slowPlugins=r.filter((function(e){var n=(0,$.Z)(e,2)[1];return t.getMethodSum(n)>a&&t.hasOutlierMethods(n,{stateApplyOutlier:o,viewUpdateOutlier:i})})).reduce((function(e,t){var n=(0,$.Z)(t,2),r=n[0],o=n[1];return se(se({},e),{},(0,d.Z)({},r,o))}),{})}return this}},{key:"withNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.nodes=e.nodeCount,this.extensionNodes=e.extensionNodeCount,this.nodesDuration=t,this}},{key:"withCount",value:function(e){return this.count=e,this}},{key:"withOptions",value:function(e){return Object.assign(this.options,e),this}},{key:"toJSON",value:function(){return{trigger:this.trigger,duration:this.entry.duration,nodes:this.nodes,extensionNodes:this.extensionNodes,plugins:this.plugins,slowPlugins:this.slowPlugins,stepDurations:{stateApply:this.stateApplied?this.stateApplied.duration:0,viewUpdate:this.viewUpdated?this.viewUpdated.duration:0,onChange:this.onChangeCalled?this.onChangeCalled.duration:0,onEditorViewStateUpdated:this.onEditorViewStateUpdatedCalled?this.onEditorViewStateUpdatedCalled.duration:0,countNodes:this.nodesDuration}}}}],[{key:"fromEntry",value:function(t){return new e(t)}}]),e}(),le=[ee,te,ne,re,oe],de=(0,a.Z)((function e(){var t=this;(0,i.Z)(this,e),(0,d.Z)(this,"currentBatch",[]),(0,d.Z)(this,"pluginNameCache",new Set),(0,d.Z)(this,"setPluginNames",(function(e){t.pluginNameCache=new Set(e)})),(0,d.Z)(this,"setOnObservation",(function(e){t.observationCallback=e})),(0,d.Z)(this,"createPerformanceEntry",(function(e){return{entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration,toJSON:function(){return JSON.stringify({entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration})}}})),(0,d.Z)(this,"convertToEntryList",(function(e){return{getEntries:function(){return e},getEntriesByName:function(t,n){return e.filter((function(e){return e.name===t}))},getEntriesByType:function(t){return e}}})),(0,d.Z)(this,"observed",(function(e){var n=e.name;if(n.startsWith("🦉")){var r,o=(null===(r=n.split(":")[0])||void 0===r?void 0:r.split("🦉")[1])||"",i=t.pluginNameCache.has(o),a=le.includes(n);0,(i||a)&&t.currentBatch.push(t.createPerformanceEntry(e))}if(n===oe){if(t.observationCallback){var c=t.convertToEntryList((0,M.Z)(t.currentBatch));t.observationCallback(c)}t.currentBatch=[]}}))})),pe=function(){function e(t){var n=this;(0,i.Z)(this,e),(0,d.Z)(this,"getNodeCounts",(function(){return[{nodeCount:{},extensionNodeCount:{}},0]})),(0,d.Z)(this,"getPlugins",(function(){return[]})),(0,d.Z)(this,"getOptions",(function(){return{}})),(0,d.Z)(this,"reportCount",0),(0,d.Z)(this,"simpleObserver",new de),(0,d.Z)(this,"onObserveration",(function(e){e.getEntriesByName(oe).map((function(t){var r;return(r=ue.fromEntry(t).withCount(++n.reportCount).withEntryList(e)).withNodes.apply(r,(0,M.Z)(n.getNodeCounts())).withPlugins(n.getPlugins()).withOptions(n.getOptions()).toJSON()})).filter((function(e){return"none"!==e.trigger})).forEach((function(e){return n.callback(e)}))})),this.callback=t,this.observer=window.PerformanceObserver?new PerformanceObserver(this.onObserveration):{observe:function(){},disconnect:function(){},takeRecords:function(){return[]}}}return(0,a.Z)(e,[{key:"isSimpleTracking",get:function(){var e=this.getOptions().usePerformanceMarks;return!(void 0!==e&&e)}},{key:"withNodeCounts",value:function(e){return this.getNodeCounts=function(){var t=performance.now();return[e(),performance.now()-t]},this}},{key:"withPlugins",value:function(e){return this.getPlugins=e,this}},{key:"withOptions",value:function(e){return this.getOptions=e,this}},{key:"withTransactionTracker",value:function(e){return this.getTransactionTracker=e,this}},{key:"observe",value:function(){var e=this;if(this.isSimpleTracking)this.simpleObserver.setPluginNames(this.getPlugins()),this.simpleObserver.setOnObservation((function(t){e.onObserveration(t,e.observer)})),this.getTransactionTracker&&this.getTransactionTracker().addMeasureListener(this.simpleObserver.observed);else try{this.observer.observe({buffered:!1,type:"measure"})}catch(e){this.observer.observe({entryTypes:["measure"]})}}},{key:"disconnect",value:function(){this.isSimpleTracking?this.getTransactionTracker&&this.getTransactionTracker().removeMeasureListener(this.simpleObserver.observed):this.observer.disconnect()}},{key:"takeRecords",value:function(){return this.observer.takeRecords()}}]),e}(),fe=n(9157),he=n(49904),ve=n(44001);const me=n(44854).Z;var ge=n(18149),ye=n.n(ge),be=n(12436);function we(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ee(e){return"function"==typeof e.getSharedState}var xe=n.n(be)()((function(e){var t,n=e.listeners,r=e.updatesToNotifyQueue,o=[],i=we(r.entries());try{var a=function(){var e=(0,$.Z)(t.value,2),r=e[0],i=e[1];(n.get(r)||[]).forEach((function(e){i.forEach((function(t){o.push(e.bind(e,t))}))}))};for(i.s();!(t=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}r.clear(),0!==o.length&&o.reverse().forEach((function(e){e()}))}),0),Oe=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,[{key:"createAPI",value:function(e){return e&&function(e){return"object"===(0,o.Z)(e.actions)}(e)?new Proxy(e.actions||{},{get:function(e,t,n){return Reflect.get(e,t)}}):{}}}]),e}(),Se=function(){function e(t){var n=t.getEditorState;(0,i.Z)(this,e),(0,d.Z)(this,"updatesToNotifyQueue",new Map),this.getEditorState=n,this.listeners=new Map}return(0,a.Z)(e,[{key:"createAPI",value:function(e){var t=this;if(!e)return{currentState:function(){},onChange:function(e){return function(){}}};var n=e.name;return{currentState:function(){if(Ee(e)){var n=t.getEditorState();return e.getSharedState(n)}},onChange:function(e){var r=t.listeners.get(n)||new Set;return r.add(e),t.listeners.set(n,r),function(){return t.cleanupSubscription(n,e)}}}}},{key:"cleanupSubscription",value:function(e,t){(this.listeners.get(e)||new Set).delete(t)}},{key:"notifyListeners",value:function(e){var t=e.newEditorState,n=e.oldEditorState,r=e.plugins,o=this.listeners,i=this.updatesToNotifyQueue,a=function(e){var t=e.listeners,n=e.plugins;return Array.from(t.keys()).map((function(e){return n.get(e)})).filter((function(e){return void 0!==e&&Ee(e)}))}({plugins:r,listeners:o}),c=function(e){var t,n=e.oldEditorState,r=e.newEditorState,o=e.plugins,i=!n&&r,a=new Map,c=we(o);try{for(c.s();!(t=c.n()).done;){var s=t.value;if(s&&Ee(s)){var u=s.getSharedState(r),l=!i&&n?s.getSharedState(n):void 0,d=ye()(l,u);!i&&d||a.set(s.name,{nextSharedState:u,prevSharedState:l})}}}catch(e){c.e(e)}finally{c.f()}return a}({oldEditorState:n,newEditorState:t,plugins:a});if(0!==c.size){var s,u=we(c);try{for(u.s();!(s=u.n()).done;){var l=(0,$.Z)(s.value,2),d=l[0],p=l[1],f=i.get(d)||[];i.set(d,[].concat((0,M.Z)(f),[p]))}}catch(e){u.e(e)}finally{u.f()}xe({updatesToNotifyQueue:i,listeners:o})}}},{key:"destroy",value:function(){this.listeners.clear(),this.updatesToNotifyQueue.clear()}}]),e}(),Ce=function(){function e(t){var n=this,r=t.getEditorState;(0,i.Z)(this,e),(0,d.Z)(this,"onEditorViewUpdated",(function(e){var t=e.newEditorState,r=e.oldEditorState;n.sharedStateAPI.notifyListeners({newEditorState:t,oldEditorState:r,plugins:n.plugins})})),(0,d.Z)(this,"onEditorPluginInitialized",(function(e){n.addPlugin(e)})),(0,d.Z)(this,"addPlugin",(function(e){n.plugins.set(e.name,e)})),(0,d.Z)(this,"getPluginByName",(function(e){return n.plugins.get(e)})),this.sharedStateAPI=new Se({getEditorState:r}),this.plugins=new Map,this.actionsAPI=new Oe}return(0,a.Z)(e,[{key:"api",value:function(){var e=this.sharedStateAPI,t=this.actionsAPI,n=this.getPluginByName;return{dependencies:new Proxy({},{get:function(r,o,i){if("toJSON"===o)return Reflect.get(r,o);var a=n(o);if(a)return{sharedState:e.createAPI(a),actions:t.createAPI(a)};console.error("Plugin: ".concat(o," does not exist"))}})}}}]),e}();function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}function Pe(e){if(!e.hasFocus())return window.setTimeout((function(){e.focus()}),0)}var De=function(e){(0,s.Z)(n,e);var t=_e(n);function n(e,a){var s,u,l;(0,i.Z)(this,n),s=t.call(this,e,a),(0,d.Z)((0,c.Z)(s),"editorRef",r.createRef()),(0,d.Z)((0,c.Z)(s),"canDispatchTransactions",!0),(0,d.Z)((0,c.Z)(s),"onPluginObservation",(function(e,t){s.dispatchAnalyticsEvent({action:C.om.TRANSACTION_DISPATCHED,actionSubject:C.Wt.EDITOR,eventType:C.Ze.OPERATIONAL,attributes:{report:e,participants:(0,fe.J)(t)}})})),(0,d.Z)((0,c.Z)(s),"getEditorState",(function(){var e;return null===(e=s.view)||void 0===e?void 0:e.state})),(0,d.Z)((0,c.Z)(s),"formatFullWidthAppearance",(function(e){return"full-width"===e?P.PP.FULL_WIDTH:P.PP.FIXED_WIDTH})),(0,d.Z)((0,c.Z)(s),"resetEditorState",(function(e){var t,n,r=e.doc,o=e.shouldScrollToBottom;s.view&&(s.blur(),s.featureFlags=(0,I.x)(s.props.editorProps),s.editorState=s.createEditorState({props:s.props,context:s.context,doc:r,resetting:!0,selectionAtStart:!o}),s.view.updateState(s.editorState),null===(t=(n=s.props.editorProps).onChange)||void 0===t||t.call(n,s.view,{source:"local"}))})),(0,d.Z)((0,c.Z)(s),"blur",(function(){if(s.view){s.view.dom instanceof HTMLElement&&s.view.hasFocus()&&s.view.dom.blur();var e=s.view.root.getSelection();e&&e.removeAllRanges()}})),(0,d.Z)((0,c.Z)(s),"handleAnalyticsEvent",(function(e){s.props.allowAnalyticsGASV3&&(0,D.Z)(s.props.createAnalyticsEvent)(e)})),(0,d.Z)((0,c.Z)(s),"editorPlugins",[]),(0,d.Z)((0,c.Z)(s),"createEditorState",(function(e){var t;if(s.view){if(!e.resetting)return console.warn("The editor does not support changing the schema dynamically."),s.editorState;t=s.view.state.schema}else s.config=B(s.getPlugins(e.props.preset)),t=K(s.config);var n,r,o=e.props.editorProps.contentTransformerProvider,i=U({schema:t,dispatch:s.dispatch,errorReporter:s.errorReporter,editorConfig:s.config,eventDispatcher:s.eventDispatcher,providerFactory:e.props.providerFactory,portalProviderAPI:s.props.portalProviderAPI,reactContext:function(){return e.context},dispatchAnalyticsEvent:s.dispatchAnalyticsEvent,performanceTracking:s.props.editorProps.performanceTracking,transactionTracker:s.transactionTracker,featureFlags:s.featureFlags,getIntl:function(){return s.props.intl}});s.contentTransformer=o?o(t):void 0,e.doc&&(n=(0,S.wy)(t,e.doc,e.props.providerFactory,e.props.editorProps.sanitizePrivateContent,s.contentTransformer,s.dispatchAnalyticsEvent)),n&&(r=e.selectionAtStart?h.Selection.atStart(n):h.Selection.atEnd(n));var a=r&&h.Selection.findFrom(r.$head,-1,!0)||void 0;return h.EditorState.create({schema:t,plugins:i,doc:n,selection:a})})),(0,d.Z)((0,c.Z)(s),"onEditorViewStateUpdated",(function(e){var t=e.originalTransaction,n=e.transactions,r=e.oldEditorState,o=e.newEditorState,i=s.transactionTracking.enabled;s.config.onEditorViewStateUpdatedCallbacks.forEach((function(e){i&&(0,g.MZ)("🦉 ".concat(e.pluginName,"::onEditorViewStateUpdated")),e.callback({originalTransaction:t,transactions:n,oldEditorState:r,newEditorState:o}),i&&(0,g.H0)("🦉 ".concat(e.pluginName,"::onEditorViewStateUpdated"))}))})),(0,d.Z)((0,c.Z)(s),"trackValidTransactions",(function(){var e=s.props.editorProps;if(null!=e&&e.trackValidTransactions){s.validTransactionCount++;var t="object"===(0,o.Z)(e.trackValidTransactions)&&e.trackValidTransactions.samplingRate||100;s.validTransactionCount>=t&&(s.dispatchAnalyticsEvent({action:C.om.DISPATCHED_VALID_TRANSACTION,actionSubject:C.Wt.EDITOR,eventType:C.Ze.OPERATIONAL}),s.validTransactionCount=0)}})),(0,d.Z)((0,c.Z)(s),"dispatchTransaction",(function(e){if(s.view){s.transactionTracker.bumpDispatchCounter(s.transactionTracking);var t,n=s.transactionTracker.getMeasureHelpers(s.transactionTracking),r=n.startMeasure,o=n.stopMeasure;if(r(oe),s.transactionTracker.shouldTrackTransaction(s.transactionTracking))null===(t=s.experienceStore)||void 0===t||t.start(x.fO.interaction);var i=(0,_.fO)(e),a=(0,_.eA)(i),c=s.featureFlags.saferDispatchedTransactions||s.featureFlags.saferDispatchedTransactionsAnalyticsOnly?new Proxy(e,T({dispatchAnalyticsEvent:s.dispatchAnalyticsEvent,pluginKey:"unknown-reacteditorview",analyticsOnly:s.featureFlags.saferDispatchedTransactionsAnalyticsOnly})):e;if(a){var u=s.view.state;r(ee);var l=s.view.state.applyTransaction(c),d=l.state,p=l.transactions;if(o(ee,(function(e,t){var n;null===(n=s.experienceStore)||void 0===n||n.mark(x.fO.interaction,"stateApply",t+e)})),s.trackValidTransactions(),d===u)return;if(r(te),s.view.updateState(d),o(te,(function(e,t){var n;null===(n=s.experienceStore)||void 0===n||n.mark(x.fO.interaction,"viewUpdateState",t+e)})),s.pluginInjectionAPI.onEditorViewUpdated({newEditorState:d,oldEditorState:u}),r(ne),s.onEditorViewStateUpdated({originalTransaction:c,transactions:p,oldEditorState:u,newEditorState:d}),o(ne,(function(e,t){var n;null===(n=s.experienceStore)||void 0===n||n.mark(x.fO.interaction,"onEditorViewStateUpdated",t+e)})),s.props.editorProps.onChange&&c.docChanged){var f=c.getMeta("isRemote")?"remote":"local";r(re),s.props.editorProps.onChange(s.view,{source:f}),o(re,(function(e,t){var n,r,o;null===(n=s.experienceStore)||void 0===n||n.mark(x.fO.interaction,"onChange",t+e),!0===(null===(r=s.props.editorProps.performanceTracking)||void 0===r||null===(o=r.onChangeCallbackTracking)||void 0===o?void 0:o.enabled)&&s.dispatchAnalyticsEvent({action:C.om.ON_CHANGE_CALLBACK,actionSubject:C.Wt.EDITOR,eventType:C.Ze.OPERATIONAL,attributes:{duration:e,startTime:t}})}))}s.editorState=d,o(oe,(function(e,t){var n,r;null===(n=s.experienceStore)||void 0===n||n.mark(x.fO.interaction,"dispatchTransaction",t+e),null===(r=s.experienceStore)||void 0===r||r.success(x.fO.interaction)}))}else{var h,v=i.filter((function(e){return!(0,_.ML)(e)})).map((function(e){return(0,V.m)(e,{compact:!0})}));s.dispatchAnalyticsEvent({action:C.om.DISPATCHED_INVALID_TRANSACTION,actionSubject:C.Wt.EDITOR,eventType:C.Ze.OPERATIONAL,attributes:{analyticsEventPayloads:(0,Z.V)(c),invalidNodes:v}}),null===(h=s.experienceStore)||void 0===h||h.fail(x.fO.interaction,{reason:"invalid transaction",invalidNodes:v.toString()})}}})),(0,d.Z)((0,c.Z)(s),"getDirectEditorProps",(function(e){return{state:e||s.editorState,dispatchTransaction:function(e){s.canDispatchTransactions&&s.dispatchTransaction(e)},editable:function(e){return!s.props.editorProps.disabled},attributes:{"data-gramm":"false"}}})),(0,d.Z)((0,c.Z)(s),"createEditorView",(function(e){(0,y.a)(W.Z.PROSEMIRROR_RENDERED,(function(e){var t,n,r,o,i=e.duration,a=e.startTime,c=e.distortedDuration,u=null===(t=s.props.editorProps)||void 0===t||null===(n=t.performanceTracking)||void 0===n?void 0:n.proseMirrorRenderedTracking,l=void 0===u&&(0,b.p)();if(s.proseMirrorRenderedSeverity=l||null!=u&&u.trackSeverity?(0,w.a$)(i,null!==(r=null==u?void 0:u.severityNormalThreshold)&&void 0!==r?r:2e3,null!==(o=null==u?void 0:u.severityDegradedThreshold)&&void 0!==o?o:3e3):void 0,s.view){var d,p,f,h=(0,S.aZ)(s.view.state.doc),v=(0,k.i)();if(s.dispatchAnalyticsEvent({action:C.om.PROSEMIRROR_RENDERED,actionSubject:C.Wt.EDITOR,attributes:{duration:i,startTime:a,nodes:h,ttfb:v,severity:s.proseMirrorRenderedSeverity,objectId:null===(d=(0,ve.ut)(s.editorState))||void 0===d?void 0:d.objectId,distortedDuration:c},eventType:C.Ze.OPERATIONAL}),!c)null===(f=s.experienceStore)||void 0===f||f.mark(x.fO.loadEditor,C.om.PROSEMIRROR_RENDERED,a+i);null===(p=s.experienceStore)||void 0===p||p.addMetadata(x.fO.loadEditor,{nodes:h,ttfb:v})}})),s.view=new v.tk({mount:e},s.getDirectEditorProps()),s.pluginInjectionAPI.onEditorViewUpdated({newEditorState:s.view.state,oldEditorState:void 0})})),(0,d.Z)((0,c.Z)(s),"handleEditorViewRef",(function(e){if(!s.view&&e){s.createEditorView(e);var t=s.view;s.props.onEditorCreated({view:t,config:s.config,eventDispatcher:s.eventDispatcher,transformer:s.contentTransformer}),s.props.editorProps.shouldFocus&&t.props.editable&&t.props.editable(t.state)&&(s.focusTimeoutId=Pe(t)),s.featureFlags.ufo&&(s.experienceStore=x.Xv.getInstance(t),s.experienceStore.start(x.fO.editSession),s.experienceStore.addMetadata(x.fO.editSession,{reliabilityInterval:x.hR}),s.reliabilityInterval=window.setInterval((function(){var e,t;null===(e=s.experienceStore)||void 0===e||null===(t=e.success(x.fO.editSession))||void 0===t||t.finally((function(){var e,t;null===(e=s.experienceStore)||void 0===e||e.start(x.fO.editSession),null===(t=s.experienceStore)||void 0===t||t.addMetadata(x.fO.editSession,{reliabilityInterval:x.hR})}));var n={action:C.om.UFO_SESSION_COMPLETE,actionSubject:C.Wt.EDITOR,attributes:{interval:x.hR},eventType:C.Ze.OPERATIONAL};s.dispatchAnalyticsEvent(n)}),x.hR)),s.forceUpdate()}else if(s.view&&!e){s.props.onEditorDestroyed({view:s.view,config:s.config,eventDispatcher:s.eventDispatcher,transformer:s.contentTransformer});var n=s.eventDispatcher.has(w.DQ,s.handleAnalyticsEvent);n||s.eventDispatcher.on(w.DQ,s.handleAnalyticsEvent),s.view.destroy(),n||s.eventDispatcher.off(w.DQ,s.handleAnalyticsEvent),s.view=void 0}})),(0,d.Z)((0,c.Z)(s),"dispatchAnalyticsEvent",(function(e){s.props.allowAnalyticsGASV3&&s.eventDispatcher&&(0,O.h)(s.eventDispatcher)(w.DQ,{payload:e})})),(0,d.Z)((0,c.Z)(s),"editor",r.createElement("div",{className:Ze(),key:"ProseMirror",ref:s.handleEditorViewRef,"aria-label":s.props.editorProps.assistiveLabel?s.props.editorProps.assistiveLabel:s.props.intl.formatMessage(m.editorAssistiveLabel),role:"textbox"})),s.pluginInjectionAPI=new Ce({getEditorState:s.getEditorState}),s.eventDispatcher=new O.p,s.dispatch=(0,O.h)(s.eventDispatcher),s.errorReporter=(u=e.editorProps.errorReporterHandler,l=new R.Z,u&&(l.handler=u),l),s.transactionTracker=new ae,s.pluginPerformanceObserver=new pe((function(e){return s.onPluginObservation(e,s.editorState)})).withPlugins((function(){return s.getPluginNames()})).withNodeCounts((function(){return s.countNodes()})).withOptions((function(){return s.transactionTracking})).withTransactionTracker((function(){return s.transactionTracker})),s.validTransactionCount=0,s.featureFlags=(0,I.x)(s.props.editorProps);var p=s.featureFlags?(0,L.W)(s.featureFlags):[];return s.props.createAnalyticsEvent&&(s.props.createAnalyticsEvent.__queueAnalytics=s.featureFlags.queueAnalytics),s.eventDispatcher.on(w.DQ,s.handleAnalyticsEvent),s.eventDispatcher.on("resetEditorState",s.resetEditorState),s.editorState=s.createEditorState({props:e,context:a,doc:e.editorProps.defaultValue,selectionAtStart:(0,H.R)(e.editorProps.appearance)}),s.dispatchAnalyticsEvent({action:C.om.STARTED,actionSubject:C.Wt.EDITOR,attributes:{platform:P.VT.WEB,featureFlags:p},eventType:C.Ze.UI}),s}return(0,a.Z)(n,[{key:"transactionTracking",get:function(){var e,t;return null!==(e=null===(t=this.props.editorProps.performanceTracking)||void 0===t?void 0:t.transactionTracking)&&void 0!==e?e:{enabled:!1}}},{key:"getPluginNames",value:function(){return this.editorState.plugins.map((function(e){return e.key}))}},{key:"countNodes",value:function(){return(0,he.u)(this.editorState)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.createAnalyticsEvent&&e.createAnalyticsEvent!==this.props.createAnalyticsEvent){var t=(0,I.x)(e.editorProps);e.createAnalyticsEvent.__queueAnalytics=t.queueAnalytics}this.view&&this.props.editorProps.disabled!==e.editorProps.disabled&&(this.view.setProps({editable:function(t){return!e.editorProps.disabled}}),!e.editorProps.disabled&&e.editorProps.shouldFocus&&(this.focusTimeoutId=Pe(this.view)));var n=this.props.editorProps.appearance,r=e.editorProps.appearance;this.props.preset!==e.preset&&this.reconfigureState(e),r!==n&&("full-width"!==r&&"full-width"!==n||this.dispatchAnalyticsEvent({action:C.om.CHANGED_FULL_WIDTH_MODE,actionSubject:C.Wt.EDITOR,eventType:C.Ze.TRACK,attributes:{previousMode:this.formatFullWidthAppearance(n),newMode:this.formatFullWidthAppearance(r)}})),this.transactionTracking.enabled||this.pluginPerformanceObserver.disconnect()}},{key:"reconfigureState",value:function(e){var t=this;if(this.view){this.blur();var n=this.getPlugins(e.preset);this.config=B(n);var r=this.editorState,o=U({schema:r.schema,dispatch:this.dispatch,errorReporter:this.errorReporter,editorConfig:this.config,eventDispatcher:this.eventDispatcher,providerFactory:e.providerFactory,portalProviderAPI:e.portalProviderAPI,reactContext:function(){return t.context},dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,performanceTracking:e.editorProps.performanceTracking,transactionTracker:this.transactionTracker,featureFlags:(0,I.x)(e.editorProps),getIntl:function(){return t.props.intl}}),i=r.reconfigure({plugins:o});return this.view.updateState(i),this.view.update(Ae(Ae({},this.view.props),{},{state:i}))}}},{key:"componentDidMount",value:function(){this.canDispatchTransactions=!0,this.transactionTracking.enabled&&this.pluginPerformanceObserver.observe()}},{key:"componentWillUnmount",value:function(){if(this.canDispatchTransactions=!1,clearTimeout(this.focusTimeoutId),this.reliabilityInterval&&clearInterval(this.reliabilityInterval),this.pluginPerformanceObserver.disconnect(),this.view){var e=this.view.state;e.plugins.forEach((function(t){var n=t.getState(e);n&&n.destroy&&n.destroy()}))}this.eventDispatcher.destroy()}},{key:"getPlugins",value:function(e){var t=e.build({pluginInjectionAPI:this.pluginInjectionAPI});return this.editorPlugins=t,this.editorPlugins}},{key:"render",value:function(){var e,t,n=null===(e=this.props.editorProps.performanceTracking)||void 0===e||null===(t=e.renderTracking)||void 0===t?void 0:t.reactEditorView,o=null==n?void 0:n.enabled,i=null==n?void 0:n.useShallow;return r.createElement(me.Provider,{value:{editorRef:this.editorRef,editorView:this.view}},o&&r.createElement(A.R,{componentProps:this.props,action:C.om.RE_RENDERED,actionSubject:C.Wt.REACT_EDITOR_VIEW,handleAnalyticsEvent:this.handleAnalyticsEvent,useShallow:i}),this.props.render?this.props.render({editor:this.editor,view:this.view,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,editorRef:this.editorRef}):this.editor)}}]),n}(r.Component);function Ze(){return E.Z.chrome?"ua-chrome":E.Z.ie?"ua-ie":E.Z.gecko?"ua-firefox":E.Z.safari?"ua-safari":""}(0,d.Z)(De,"contextTypes",{getAtlaskitAnalyticsEventHandlers:f().func});const Ie=(0,n(89274).ZP)((function(e){return r.createElement(De,e)}))},21462:(e,t,n)=>{"use strict";n.d(t,{lx:()=>D6});var r={};n.r(r),n.d(r,{DOWN:()=>CQ,HEADING_KEYS:()=>LQ,KEY_0:()=>TQ,KEY_1:()=>AQ,KEY_2:()=>_Q,KEY_3:()=>PQ,KEY_4:()=>DQ,KEY_5:()=>ZQ,KEY_6:()=>IQ,LEFT:()=>xQ,RIGHT:()=>OQ,ToolTipContent:()=>Re.wn,UP:()=>SQ,addAltText:()=>Re.XX,addColumnAfter:()=>Re.e2,addColumnBefore:()=>Re.I_,addInlineComment:()=>Re.KK,addLink:()=>Re.MJ,addRowAfter:()=>Re.dl,addRowBefore:()=>Re.z2,alignLeft:()=>Re.H_,altPaste:()=>Re.Kh,backspace:()=>Re.as,bindKeymapWithCommand:()=>Re.E4,clearFormatting:()=>Re.Kw,copy:()=>Re.JG,ctrlBackSpace:()=>Re.p6,cut:()=>Re.z7,deleteKey:()=>Re.L2,enter:()=>Re.IO,escape:()=>Re.YU,find:()=>Re.sE,findKeyMapForBrowser:()=>Re.xd,findKeymapByDescription:()=>Re.$Z,findShortcutByDescription:()=>Re.VW,findShortcutByKeymap:()=>Re.c1,forwardDelete:()=>Re.Vq,indent:()=>Re.WY,indentList:()=>Re.eE,insertNewLine:()=>Re.zo,insertRule:()=>Re.SG,makeKeyMapWithCommon:()=>Re._l,makeKeymap:()=>Re.Tn,moveDown:()=>Re.vi,moveLeft:()=>Re.hi,moveRight:()=>Re.ql,moveUp:()=>Re.A1,navToEditorToolbar:()=>Re.Xi,navToFloatingToolbar:()=>Re.w1,nextCell:()=>Re.li,openHelp:()=>Re.UF,outdent:()=>Re.Sb,outdentList:()=>Re.Oh,paste:()=>Re.v,pastePlainText:()=>Re.D9,previousCell:()=>Re.AB,redo:()=>Re.KX,setNormalText:()=>Re.rI,shiftBackspace:()=>Re.pT,shiftEnter:()=>Re.xV,shiftTab:()=>Re.Z5,space:()=>Re.Dh,splitCodeBlock:()=>Re.ti,splitListItem:()=>Re.s6,submit:()=>Re.Ps,tab:()=>Re.n2,toggleBlockQuote:()=>Re.by,toggleBold:()=>Re.vv,toggleBulletList:()=>Re._X,toggleCode:()=>Re.Qd,toggleHeading1:()=>Re.HW,toggleHeading2:()=>Re.Jj,toggleHeading3:()=>Re.LH,toggleHeading4:()=>Re.Ix,toggleHeading5:()=>Re.Y$,toggleHeading6:()=>Re.LD,toggleItalic:()=>Re.PU,toggleOrderedList:()=>Re.JL,toggleStrikethrough:()=>Re.JA,toggleSubscript:()=>Re.Id,toggleSuperscript:()=>Re.yq,toggleTable:()=>Re.fV,toggleUnderline:()=>Re.gn,tooltip:()=>Re.Md,undo:()=>Re.Yw});var o=n(56666),i=n(86522),a=n(76402);const c=function(){return{name:"dataConsumerPlugin",marks:function(){return[{name:"dataConsumer",mark:a.h}]}}};var s=n(68079),u=n(6131),l=n(6771),d=n(98985),p=n(19589),f=n(93800),h=n(8639),v=n(79393),m=n(91112),g=n(16037),y=new g.PluginKey("undoRedoPlugin");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){var t=function(e){return e.getMeta(y)||null}(e);return function(e){return t&&["undid","redid"].includes(e.action)?w(w({},e),{},{attributes:w(w({},e.attributes),{},{historyTriggerMethod:t})}):e}};function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=e.payload,n=e.duration,r=e.distortedDuration;return S(S({},t),{},{attributes:S(S({},t.attributes),{},{duration:n,distortedDuration:r}),eventType:p.Ze.OPERATIONAL})}const T=function(e,t){var n,r=(null==t||null===(n=t.dependencies.featureFlags)||void 0===n?void 0:n.sharedState.currentState())||{};return{name:"analytics",pmPlugins:function(){return[{name:"analyticsPlugin",plugin:function(){return function(e,t){if(e&&e.createAnalyticsEvent){var n=(0,l.D4)();return new u.J({key:f.S,state:{init:function(){return S(S({},e),{},{fireAnalytics:(0,h.Z)(e.createAnalyticsEvent)})},apply:function(r,o,i,a){if(o.createAnalyticsEvent!==e.createAnalyticsEvent)return S(S({},o),{},{createAnalyticsEvent:e.createAnalyticsEvent});if(t.catchAllTracking){var c=(0,v.V)(r);if(c.length>0){var s,u=E(c);try{var l=function(){var e=s.value,t=e.payload,i=e.channel;if(n&&r.docChanged&&t.action!==p.om.INSERTED&&t.action!==p.om.DELETED){var a="".concat(t.actionSubject,":").concat(t.action,":").concat(t.actionSubjectId);(0,d.a)(a,(function(e){var n=e.duration,r=e.distortedDuration;(0,h.Z)(o.createAnalyticsEvent)({payload:C({payload:t,duration:n,distortedDuration:r}),channel:i})}))}};for(u.s();!(s=u.n()).done;)l()}catch(e){u.e(e)}finally{u.f()}}}return o}}})}}(e,r)}}]},onEditorViewStateUpdated:function(e){var t=e.originalTransaction,n=e.transactions,r=e.newEditorState,o=f.S.getState(r);if(o&&o.createAnalyticsEvent){var i=n.reduce((function(e,t){var n=t.steps.filter((function(e){return e instanceof m.R1})).map((function(e){return e.analyticsEvents})).reduce((function(e,t){return e.concat(t)}),[]);return e.push.apply(e,(0,s.Z)(n)),e}),[]);if(0!==i.length){var a=o.createAnalyticsEvent,c=k(t);i.forEach((function(e){var t=e.payload,n=e.channel,r=c(t);(0,h.Z)(a)({payload:r,channel:n})}))}}}}};var A=f.S;const _=T;var P=n(9249),D=n(87371),Z=n(2784),I=n(17818),L=n(17743),M=n(672),R=n(99840),N=n(80753),j=n(45754),F=n(11987),B=n(95058),z=n(71171),U=n(28165),V=n(39151),H=n(89274),W=n(41396),G=n(4035),q=n(63895),K=n(12440),$=n(81614),J=["codeBlock","layoutSection","expand"];function Y(e){return-1!==J.indexOf(e.type.name)}function X(e){if(e instanceof g.NodeSelection&&Y(e.node))return{pos:e.from,start:e.from,node:e.node,depth:e.$anchor.depth};var t=(0,W.Kk)(Y)(e);if(t&&0!==t.depth)return{node:t.node,start:t.start,pos:t.pos,depth:t.depth-1}}var Q=n(46779),ee=n(47845);var te,ne=new g.PluginKey("breakoutPlugin"),re=n(84534);function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var ie=(0,U.iv)(te||(te=(0,z.Z)(["\n  && button {\n    background: ",";\n    color: ",";\n    :hover {\n      background: ",";\n      color: "," !important;\n    }\n  }\n"])),"var(--ds-background-neutral, ".concat(V.os,")"),"var(--ds-icon, ".concat(V.hH,")"),"var(--ds-background-neutral-hovered, ".concat(V.M5,")"),"var(--ds-icon, white)"),ae={FULL_WIDTH:"full-width",CENTER:"center",WIDE:"wide"};var ce=function(e){(0,j.Z)(n,e);var t=oe(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"handleClick",(function(t){return function(){var n,r=e.props.editorView,o=r.state,i=r.dispatch;-1!==[ae.WIDE,ae.FULL_WIDTH].indexOf(t)?(n=t,function(e,t){var r=X(e.selection);if(!r)return!1;var o=e.tr.setNodeMarkup(r.pos,r.node.type,r.node.attrs,[e.schema.marks.breakout.create({mode:n})]);return o.setMeta("scrollIntoView",!1),e.selection instanceof g.NodeSelection&&e.selection.$anchor.pos===r.pos&&o.setSelection(g.NodeSelection.create(o.doc,r.pos)),t&&t(o),!0})(o,i):function(e,t){var n=X(e.selection);if(!n)return!1;var r=n.node.marks.filter((function(e){return"breakout"!==e.type.name})),o=e.tr.setNodeMarkup(n.pos,n.node.type,n.node.attrs,r);o.setMeta("scrollIntoView",!1),e.selection instanceof g.NodeSelection&&e.selection.$anchor.pos===n.pos&&o.setSelection(g.NodeSelection.create(o.doc,n.pos)),t&&t(o)}(o,i)}})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.mountPoint,r=e.boundariesElement,o=e.scrollableElement,i=e.editorView,a=e.node,c=i.state;if(!a||!function(e){if(!e.schema.marks.breakout)return!1;var t=X(e.selection);return!!t&&e.selection.$from.node(t.depth).type.allowsMarkType(e.schema.marks.breakout)}(c))return null;var s,u=function(e){var t=X(e.selection);if(t){var n=t.node.marks.find((function(e){return"breakout"===e.type.name}));if(n)return n.attrs.mode}}(i.state),l=function(e){switch(e){case ae.FULL_WIDTH:return Q.ZP.layoutFixedWidth;case ae.WIDE:return Q.ZP.layoutFullWidth;default:return Q.ZP.layoutWide}}(u),d=t(l),p=(s=u)===ae.FULL_WIDTH?ae.CENTER:s===ae.WIDE?ae.FULL_WIDTH:ae.WIDE,f=re.ug.layer()-1,h=function(e){return ne.getState(e)}(c),v=function(e,t,n){return t instanceof g.NodeSelection&&Y(t.node)?(0,W.TM)(t.from,n.domAtPos.bind(n)):(0,W.Yr)(e.breakoutNode.type,n.domAtPos.bind(n))(t)}(h,c.selection,i);if(!v)return null;var m=v.querySelector(".".concat(ee.M.BREAKOUT_MARK_DOM));return m&&m.firstChild&&(v=m.firstChild),(0,U.tZ)(G.Z,{ariaLabel:d,target:v,offset:[5,0],alignY:"start",alignX:"end",mountTo:n,boundariesElement:r,scrollableElement:o,stick:!0,forcePlacement:!0,zIndex:f},(0,U.tZ)("div",{css:ie},(0,U.tZ)($.Z,{title:d,testId:l.id,onClick:this.handleClick(p),iconBefore:u===ae.FULL_WIDTH?(0,U.tZ)(q.Z,{label:d}):(0,U.tZ)(K.Z,{label:d})})))}}]),n}(Z.Component);(0,o.Z)(ce,"displayName","LayoutButton");const se=(0,H.ZP)(ce);var ue=n(8357);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=function(){function e(t,n,r){var i=this;(0,P.Z)(this,e),(0,o.Z)(this,"updateWidth",(function(e){if(0!==e.width){var t="",n="",r=(0,L.mV)(i.mark.attrs.mode,e.width);e.lineLength?(r<e.lineLength&&(r=e.lineLength),t+="\n        transform: none;\n        display: flex;\n        justify-content: center;\n        ",n+="\n        min-width: ".concat(r,"px;\n        transition: min-width 0.5s ").concat(ue.Y3,";\n      ")):t+="width: ".concat(r,"px; transform: translateX(-50%); margin-left: 50%;");var o=i.view.domObserver;o&&i.view.dom&&(o.stop(),setTimeout((function(){o.start()}),0)),void 0!==i.dom.style.cssText?(i.dom.style.cssText=t,i.contentDOM.style.cssText=n):(i.dom.setAttribute("style",t),i.contentDOM.setAttribute("style",n))}}));var a=document.createElement("div");a.className=ee.M.BREAKOUT_MARK_DOM;var c=document.createElement("div");c.className=ee.M.BREAKOUT_MARK,c.setAttribute("data-layout",t.attrs.mode),c.appendChild(a),this.dom=c,this.mark=t,this.view=n,this.contentDOM=a,this.eventDispatcher=r,r.on(R.ux.key,this.updateWidth),this.updateWidth(R.ux.getState(this.view.state))}return(0,D.Z)(e,[{key:"destroy",value:function(){this.eventDispatcher.off(R.ux.key,this.updateWidth)}}]),e}();function fe(e){var t=e.dispatch,n=e.eventDispatcher;return new u.J({state:{init:function(){return{breakoutNode:null}},apply:function(e,n){var r,o,i=X(e.selection),a=i?i.node:null;if(r=a,o=n.breakoutNode,r&&o?!r.eq(o):r||o){var c=de(de({},n),{},{breakoutNode:a});return t(ne,c),c}return n}},key:ne,props:{nodeViews:{breakout:function(e,t){return new pe(e,t,n)}}}})}const he=function(e){return{name:"breakout",pmPlugins:function(){return[{name:"breakout",plugin:fe}]},marks:function(){return[{name:"breakout",mark:I.D}]},contentComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsBoundariesElement,i=t.popupsScrollableElement;return e&&!e.allowBreakoutButton?null:Z.createElement(M.Z,{plugins:{breakoutPluginState:ne,widthPluginState:R.ux},render:function(e){var t,a=e.breakoutPluginState;return Z.createElement(se,{editorView:n,mountPoint:r,boundariesElement:o,scrollableElement:i,node:null!==(t=null==a?void 0:a.breakoutNode)&&void 0!==t?t:null})}})}}};var ve=n(14566),me=n(62588),ge=n(58733),ye=function(e){return function(t,n){var r=t.schema,o=r.nodes,i=o.paragraph,a=o.heading,c=r.marks.alignment;return(0,ge.E3)([(0,me.DS)(e),(0,me.L7)(c,(function(){return e?"start"!==e&&{align:e}:void 0}),[i,a])])(t,n)}},be=n(90430),we=function(e){if(e.selection instanceof be.X){var t=[];return e.selection.forEachCell((function(n){var r=n.firstChild.marks.filter((function(t){return t.type===e.schema.marks.alignment}))[0];t.push(r?r.attrs.align:"start")})),t.every((function(e){return e===t[0]}))?t[0]:"start"}var n=(0,W.Tr)([e.schema.nodes.paragraph,e.schema.nodes.heading])(e.selection),r=n&&n.node.marks.filter((function(t){return t.type===e.schema.marks.alignment}))[0];return r&&r.attrs.align||"start"};function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=new g.PluginKey("alignmentPlugin");function Oe(e,t){return new u.J({key:xe,state:{init:function(e,n){return function(e,t){return{align:we(e)||t.align,isEnabled:!0}}(n,t)},apply:function(t,n,r,o){var i,a=we(o),c=(i=a,function(e,t){var n=e.schema,r=n.nodes,o=r.paragraph,a=r.heading,c=n.marks.alignment;return(0,me.L7)(c,(function(){return i?"start"!==i&&{align:i}:void 0}),[o,a])(e,t)})(o),s=Ee(Ee({},n),{},{align:a,isEnabled:c});return a===n.align&&c===n.isEnabled||e(xe,s),s}}})}var Se=n(55857),Ce=n(39014),Te=n(50263),Ae=n(62991),_e=n(69703),Pe=n(72797),De=n(83112),Ze=n(63470),Ie=(0,Ze.vU)({alignment:{id:"fabric.editor.alignment",defaultMessage:"Text alignment",description:"Opens drop down menu of options to configure text alignment"},alignLeft:{id:"fabric.editor.alignLeft",defaultMessage:"Align left",description:"label stating that text is aligned left"},alignRight:{id:"fabric.editor.alignRight",defaultMessage:"Align Right",description:"label stating that text is aligned right"},alignCenter:{id:"fabric.editor.alignCenter",defaultMessage:"Align Center",description:"label stating that text is aligned center"}}),Le={start:{Component:Ae.Z,label:Ie.alignLeft},end:{Component:_e.Z,label:Ie.alignRight},center:{Component:Pe.Z,label:Ie.alignCenter}},Me=function(e){var t=Le[e.alignment],n=t.Component,r=t.label,o=(0,De.Z)();return Z.createElement(n,{label:o.formatMessage(r)})},Re=n(21561);function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var je=function(e){(0,j.Z)(n,e);var t=Ne(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"onClick",(function(t){var n=e.props,r=n.onClick,o=n.value,i=t instanceof MouseEvent;t.preventDefault(),r(o,i)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.isSelected,r=e.content,o=e.shortcut;return Z.createElement($.Z,{disabled:!1,selected:n,title:Z.createElement(Re.wn,{description:t,keymap:o}),"aria-label":o?(0,Re.Md)(o,t):t,"aria-pressed":n,"aria-keyshortcuts":(0,Re.Tm)(o),onClick:this.onClick,iconBefore:r})}}]),n}(Z.PureComponent);const Fe=je;var Be,ze=n(16827),Ue=(0,U.iv)(Be||(Be=(0,z.Z)(["\n  padding: 0 ","px;\n  display: flex;\n  flex-wrap: wrap;\n  max-width: ","px;\n"])),(0,re.ww)(),96);function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var He=[{title:ze.j.alignLeft,shortcut:Re.H_,value:"start"},{title:ze.j.alignCenter,value:"center"},{title:ze.j.alignRight,value:"end"}],We=function(e){(0,j.Z)(n,e);var t=Ve(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.selectedAlignment,r=e.className,o=e.intl;return(0,U.tZ)("div",{css:Ue,className:r},He.map((function(e){var r=e.value,i=e.title,a=e.shortcut,c=o.formatMessage(i);return(0,U.tZ)(Fe,{content:(0,U.tZ)(Me,{alignment:r}),key:r,value:r,label:c,shortcut:a,onClick:t,isSelected:r===n})})))}}]),n}(Z.PureComponent);const Ge=(0,H.ZP)(We);var qe,Ke,$e,Je=(0,U.iv)(qe||(qe=(0,z.Z)(["\n  display: flex;\n"]))),Ye=(0,U.iv)(Ke||(Ke=(0,z.Z)(["\n  display: flex;\n  align-items: center;\n  div {\n    display: flex;\n  }\n"]))),Xe=(0,U.iv)($e||($e=(0,z.Z)(["\n  margin-left: -8px;\n"]))),Qe=n(65195);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var rt=function(e){(0,j.Z)(n,e);var t=nt(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"toolbarItemRef",Z.createRef()),(0,o.Z)((0,N.Z)(e),"state",{isOpen:!1,isOpenedByKeyboard:!1}),(0,o.Z)((0,N.Z)(e),"changeAlignment",(function(t,n){return n&&e.toggleOpen(),e.props.changeAlignment(t)})),(0,o.Z)((0,N.Z)(e),"toggleOpen",(function(){e.setState({isOpen:!e.state.isOpen,isOpenedByKeyboard:!1})})),(0,o.Z)((0,N.Z)(e),"toggleOpenByKeyboard",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.setState({isOpen:!e.state.isOpen,isOpenedByKeyboard:!0}))})),(0,o.Z)((0,N.Z)(e),"hide",(function(t){var n,r;e.state.isOpen&&(e.setState({isOpen:!1}),(null==t?void 0:t.event)instanceof KeyboardEvent&&"Escape"===t.event.key&&(null===(n=e.toolbarItemRef)||void 0===n||null===(r=n.current)||void 0===r||r.focus()))})),(0,o.Z)((0,N.Z)(e),"hideOnEscape",(function(){var t,n;e.hide(),null===(t=e.toolbarItemRef)||void 0===t||null===(n=t.current)||void 0===n||n.focus()})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isOpen,r=t.isOpenedByKeyboard,o=this.props,i=o.popupsMountPoint,a=o.popupsBoundariesElement,c=o.popupsScrollableElement,s=o.isReducedSpacing,u=o.pluginState,l=o.disabled,d=o.intl.formatMessage(Ie.alignment);return(0,U.tZ)("span",{css:Ye},(0,U.tZ)(Te.Z,{mountTo:i,boundariesElement:a,scrollableElement:c,isOpen:n,shouldFocusFirstItem:function(){return r&&e.setState(tt(tt({},e.state),{},{isOpenedByKeyboard:!1})),r},onOpenChange:function(t){var n=t.isOpen;e.setState({isOpen:n})},handleClickOutside:function(t){t instanceof MouseEvent&&e.hide({isOpen:!1,event:t})},handleEscapeKeydown:this.hideOnEscape,fitWidth:112,fitHeight:80,closeOnTab:!0,trigger:(0,U.tZ)(Ce.Z,{spacing:s?"none":"default",disabled:l,selected:n,title:d,className:"align-btn","aria-label":d,"aria-expanded":n,"aria-haspopup":!0,onClick:this.toggleOpen,onKeyDown:this.toggleOpenByKeyboard,iconBefore:(0,U.tZ)("div",{css:Je},(0,U.tZ)(Me,{alignment:u.align}),(0,U.tZ)("span",{css:Xe},(0,U.tZ)(Se.Z,{label:""}))),ref:this.toolbarItemRef})},(0,U.tZ)(Ge,{onClick:function(t){return e.changeAlignment(t,!1)},selectedAlignment:u.align})),(0,U.tZ)("span",{css:Qe.NA}))}},{key:"componentDidUpdate",value:function(e){var t=this;this.state.isOpen&&this.state.isOpenedByKeyboard&&setTimeout((function(){var e,n=new KeyboardEvent("keydown",{bubbles:!0,key:"ArrowDown"});null===(e=t.toolbarItemRef.current)||void 0===e||e.dispatchEvent(n)}),0)}}]),n}(Z.Component);(0,o.Z)(rt,"displayName","AlignmentToolbar");const ot=(0,H.ZP)(rt);var it=n(77156);var at={align:"start"};const ct=function(){return{name:"alignment",marks:function(){return[{name:"alignment",mark:ve.o}]},pmPlugins:function(){return[{name:"alignmentPlugin",plugin:function(e){return Oe(e.dispatch,at)}},{name:"annotationKeymap",plugin:function(){return function(){var e={};return(0,Re.E4)(Re.H_.common,ye("start"),e),(0,it.h)(e)}()}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=e.popupsScrollableElement,i=e.disabled,a=e.isToolbarReducedSpacing;return Z.createElement(M.Z,{plugins:{align:xe},render:function(e){var c=e.align;return Z.createElement(ot,{pluginState:c,isReducedSpacing:a,changeAlignment:function(e){return ye(e)(t.state,t.dispatch)},disabled:i||!c.isEnabled,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:o})}})}}};var st=n(93490),ut=n(70117),lt=n(63226);const dt=(0,Ze.vU)({white:{id:"fabric.theme.white",defaultMessage:"White",description:"Name of a color"},"light-blue":{id:"fabric.theme.light-blue",defaultMessage:"Light blue",description:"Name of a color"},"light-teal":{id:"fabric.theme.light-teal",defaultMessage:"Light teal",description:"Name of a color"},"light-green":{id:"fabric.theme.light-green",defaultMessage:"Light green",description:"Name of a color"},"light-yellow":{id:"fabric.theme.light-yellow",defaultMessage:"Light yellow",description:"Name of a color"},"light-red":{id:"fabric.theme.light-red",defaultMessage:"Light red",description:"Name of a color"},"light-purple":{id:"fabric.theme.light-purple",defaultMessage:"Light purple",description:"Name of a color"},"light-gray":{id:"fabric.theme.light-gray",defaultMessage:"Light gray",description:"Name of a color"},blue:{id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},teal:{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},green:{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},yellow:{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},red:{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color"},orange:{id:"fabric.theme.orange",defaultMessage:"Orange",description:"Name of a color."},purple:{id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},gray:{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"dark-blue":{id:"fabric.theme.dark-blue",defaultMessage:"Dark blue",description:"Name of a color"},"dark-teal":{id:"fabric.theme.dark-teal",defaultMessage:"Dark teal",description:"Name of a color"},"dark-green":{id:"fabric.theme.dark-green",defaultMessage:"Dark green",description:"Name of a color"},"dark-yellow":{id:"fabric.theme.dark-yellow",defaultMessage:"Dark yellow",description:"Name of a color"},"dark-red":{id:"fabric.theme.dark-red",defaultMessage:"Dark red",description:"Name of a color"},"dark-purple":{id:"fabric.theme.dark-purple",defaultMessage:"Dark purple",description:"Name of a color"},"subtle-gray":{id:"fabric.theme.subtle-gray",defaultMessage:"Subtle gray",description:"Name of a color"},"bold-gray":{id:"fabric.theme.bold-gray",defaultMessage:"Bold gray",description:"Name of a color"}});var pt=[];st.K5.forEach((function(e,t){pt.push(function(e,t){var n=e.toLowerCase().replace(" ","-"),r=(0,lt.Z)(dt,n);return{value:t,label:e,border:ut.B,message:r}}(e,t))}));var ft,ht={color:V.q2.toLowerCase(),label:"Dark gray"},vt=function(e){var t,n=e.selection,r=n.$from,o=n.$to,i=n.$cursor,a=e.schema.marks.textColor,c=[];i?c.push(a.isInSet(e.storedMarks||i.marks())||void 0):e.doc.nodesBetween(r.pos,o.pos,(function(e){if(e.isLeaf){var t=a.isInSet(e.marks)||void 0;return c.push(t),!t}return!0}));var s=(c=c.filter((function(e){return(!e||!t||e.attrs.color!==t.attrs.color)&&(t=e,!0)}))).filter((function(e){return!!e}));return s.length>1||1===s.length&&c.length>1?null:s.length?s[0].attrs.color:ht.color},mt=function(e,t){var n=e.selection,r=e.schema,o=e.tr,i=t.filter(Boolean);if(0!==i.length){var a=!1,c=function(e){return i.indexOf(e.type)>-1};return e.doc.nodesBetween(n.from,n.to,(function(t,n){if(t.type===r.nodes.paragraph&&t.marks.some(c)){a=!0;var i=e.doc.resolve(n),s=t.marks.filter((u=c,function(e){return!u(e)}));o=o.setNodeMarkup(i.pos,void 0,t.attrs,s)}var u})),a?o:void 0}},gt=function(e,t){var n=e.selection,r=n.from,o=n.to,i=[];return e.doc.nodesBetween(r,o,(function(n,a,c){return!n.isText&&(!(!["expand","layoutSection"].includes(n.type.name)||!(a<r||a>o))||void n.marks.forEach((function(r){if(!c.type.allowsMarkType(r.type)||t&&!t.allowsMarkType(r.type)){var o=n.marks.filter((function(e){return e.type!==r.type})),s=a>0?a:0,u=n.marks.filter((function(e){return e.type===r.type}));i.push({node:n,marksRemoved:u}),e.setNodeMarkup(s,void 0,n.attrs,o)}})))})),i},yt=function(e){var t,n,r,o,a,c=e.schema.marks.textColor;if(c){var s=e.selection,u=s.empty,l=s.ranges,d=s.$cursor;return!!(u&&!d||d&&(r=d,o=r.doc.type.schema.marks.link,a=r.pos,o&&r.doc.rangeHasMark(a,Math.min(a+1,r.doc.content.size),o))||!1===function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,c=0===i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(c)return!1;c=e.inlineContent&&e.type.allowsMarkType(n)})),c)return{v:c}},o=0;o<t.length;o++){var a=r(o);if("object"===(0,i.Z)(a))return a.v}return!1}(e.doc,l,c))||(t=c,!(!(n=e.storedMarks||d&&d.marks())||!n.some((function(e){return e.type!==t&&e.type.excludes(t)}))))}return!0};function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.RESET_COLOR=0]="RESET_COLOR",e[e.SET_COLOR=1]="SET_COLOR",e[e.DISABLE=2]="DISABLE"}(ft||(ft={}));var kt=new g.PluginKey("textColorPlugin");function Et(e,t){return new u.J({key:kt,state:{init:function(e,n){return function(e,t){var n=(null==t?void 0:t.defaultColor)||ht,r=[{value:n.color,label:n.label,border:ut.B}].concat((0,s.Z)(pt));return{color:vt(e),disabled:yt(e),palette:r,defaultColor:n.color}}(n,t)},apply:function(t,n,r,o){var i,a=t.getMeta(kt)||{};switch(a.action){case ft.RESET_COLOR:i=wt(wt({},n),{},{color:n.defaultColor});break;case ft.SET_COLOR:i=wt(wt({},n),{},{color:a.color,disabled:!1});break;case ft.DISABLE:i=wt(wt({},n),{},{disabled:!0});break;default:i=wt(wt({},n),{},{color:vt(o),disabled:yt(o)})}return n&&n.color!==i.color||n&&n.disabled!==i.disabled?(e(kt,i),i):n}}})}var xt=n(48510),Ot=n(81278),St=n(10665),Ct=n(2274),Tt=n(87483),At=n(50104),_t=n(31446);var Pt,Dt,Zt,It=function(e){return function(t,n){if(t.schema.marks.textColor){var r=kt.getState(t),o=vt(t),i=function(e,t,n){var r=n.find((function(t){return t.value===e})),o=n.find((function(e){return e.value===t})),i=r?r.label:e,a=o?o.label:t||"";return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.FORMAT_COLOR,eventType:p.Ze.TRACK,attributes:{newColor:i.toLowerCase(),previousColor:a.toLowerCase()}})}(e,o,r.palette);return!r.disabled&&(e===r.defaultColor?(i((function(e,t){var n=e.schema,r=e.selection,o=n.marks.textColor,i=e.tr;if(r instanceof g.TextSelection){var a=r.from,c=r.to,s=r.$cursor;i=s?e.tr.removeStoredMark(o):e.tr.removeMark(a,c,o)}return r instanceof be.X&&r.forEachCell((function(e,t){var n=t,r=t+e.nodeSize;i.doc.nodesBetween(i.mapping.map(n),i.mapping.map(r),(function(e,t){if(!e.isText)return!0;var a=Math.max(t,i.mapping.map(n)),c=Math.min(t+e.nodeSize,i.mapping.map(r));return i.removeMark(a,c,o),!0}))})),t&&t(i.setMeta(kt,{action:ft.RESET_COLOR})),!0}))(t,n),!0):(i(function(e){return function(t,n){var r=t.schema.marks.textColor,o=t.tr;return yt(t)?(n&&n(o.setMeta(kt,{action:ft.DISABLE})),!1):(n&&(t.tr.setMeta(kt,{action:ft.SET_COLOR,color:e}),t.tr.scrollIntoView(),(0,_t.w9)(r,{color:e})(t,n)),!0)}}(e))(t,n),!0))}return!1}},Lt=n(7896),Mt=n(42706),Rt=function(e){return Z.createElement("svg",(0,Lt.Z)({},e,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"}),Z.createElement("path",{d:"M14 12.5h-4l-.874 2.186A.5.5 0 0 1 8.66 15H7.273a.5.5 0 0 1-.456-.705l4.05-9A.5.5 0 0 1 11.323 5h1.354a.5.5 0 0 1 .456.295l4.05 9a.5.5 0 0 1-.456.705h-1.388a.5.5 0 0 1-.465-.314L14 12.5zm-.6-1.5L12 7.5 10.6 11h2.8z",fill:"currentColor",fillRule:"evenodd"}))},Nt=function(){return Z.createElement(Mt.Z,{glyph:Rt,label:""})},jt=function(e){return"\n    linear-gradient(\n      to right,\n      ".concat(e.map((function(t,n){var r=100/e.length,o=n+1;return 0===n?"".concat(t," ").concat(o*r,"%,"):n===e.length-1?"".concat(t," ").concat((o-1)*r,"%"):"\n            ".concat(t," ").concat((o-1)*r,"%,\n            ").concat(t," ").concat(o*r,"%,\n          ")})).join("\n"),"\n    );\n    ")},Ft=jt([V.Wn,V.hv,V.jC,V.$H]),Bt=jt([V.Bn,V.ip,V.YS,V.ip]),zt=(0,U.iv)(Pt||(Pt=(0,z.Z)(["\n  position: relative;\n"]))),Ut=(0,U.iv)(Dt||(Dt=(0,z.Z)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 16px;\n  margin: auto;\n  width: 12px;\n  height: 3px;\n  border-radius: ",";\n  background: ",";\n"])),(0,re.E0)()+"px",Ft),Vt=(0,U.iv)(Zt||(Zt=(0,z.Z)(["\n  background: ",";\n"])),Bt);function Ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var qt=(0,Ze.vU)({textColor:{id:"fabric.editor.textColor",defaultMessage:"Text color",description:""}}),Kt=function(e){(0,j.Z)(n,e);var t=Gt(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{isOpen:!1,isOpenedByKeyboard:!1}),(0,o.Z)((0,N.Z)(e),"toolbarItemRef",Z.createRef()),(0,o.Z)((0,N.Z)(e),"changeColor",(function(t){return It(t)(e.props.editorView.state,e.props.editorView.dispatch)})),(0,o.Z)((0,N.Z)(e),"onOpenChange",(function(t){e.handleOpenChange({isOpen:t.isOpen,logCloseEvent:!0,event:t.event})})),(0,o.Z)((0,N.Z)(e),"changeTextColor",(function(t,n){var r,o;if(!n){var i,a=e.props.pluginState.palette.find((function(e){return e.value===t}));e.dispatchAnalyticsEvent(e.buildAnalyticsSelectColor({color:(a?a.label:t).toLowerCase()})),e.handleOpenChange({isOpen:!1,logCloseEvent:!1}),e.changeColor(t),null===(i=e.props.editorView)||void 0===i||i.focus()}return null===(r=e.toolbarItemRef)||void 0===r||null===(o=r.current)||void 0===o||o.focus(),!1})),(0,o.Z)((0,N.Z)(e),"toggleOpen",(function(){e.handleOpenChange({isOpen:!e.state.isOpen,logCloseEvent:!0})})),(0,o.Z)((0,N.Z)(e),"onKeyDown",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.setState({isOpenedByKeyboard:!0}),e.toggleOpen())})),(0,o.Z)((0,N.Z)(e),"handleOpenChange",(function(t){var n,r,o=t.isOpen,i=t.logCloseEvent,a=t.event;(e.setState({isOpen:o}),o||e.setState({isOpenedByKeyboard:!1}),i&&e.dispatchAnalyticsEvent(e.buildAnalyticsPalette(o?p.om.OPENED:p.om.CLOSED,{noSelect:!1===o})),!o&&a instanceof KeyboardEvent&&"Escape"===(null==a?void 0:a.key))&&(null===(n=e.toolbarItemRef)||void 0===n||null===(r=n.current)||void 0===r||r.focus())})),(0,o.Z)((0,N.Z)(e),"hide",(function(t){var n,r;!0===e.state.isOpen&&(e.dispatchAnalyticsEvent(e.buildAnalyticsPalette(p.om.CLOSED,{noSelect:!0})),e.setState({isOpen:!1}),t instanceof KeyboardEvent&&"Escape"===t.key&&(null===(n=e.toolbarItemRef)||void 0===n||null===(r=n.current)||void 0===r||r.focus()))})),(0,o.Z)((0,N.Z)(e),"hideonEsc",(function(t){var n,r;e.hide(t),null===(n=e.toolbarItemRef)||void 0===n||null===(r=n.current)||void 0===r||r.focus()})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e,t=this,n=this.state,r=n.isOpen,o=n.isOpenedByKeyboard,i=this.props,a=i.popupsMountPoint,c=i.popupsBoundariesElement,s=i.popupsScrollableElement,u=i.isReducedSpacing,l=i.pluginState,d=i.intl.formatMessage,p=i.disabled,f=i.featureFlags,h=d(qt.textColor),v=l.palette,m=f.useSomewhatSemanticTextColorNames;document.body.clientWidth<=740&&(e=242);var g=l.color!==l.defaultColor&&l.color,y=(0,xt.L$)(v,l.color),b=y.selectedRowIndex,w=y.selectedColumnIndex;return(0,U.tZ)("span",{css:Qe.wz},(0,U.tZ)(Te.Z,{mountTo:a,boundariesElement:c,scrollableElement:s,isOpen:r&&!l.disabled,handleClickOutside:this.hide,handleEscapeKeydown:this.hideonEsc,zIndex:ue.nm,fitWidth:e,onOpenChange:this.onOpenChange,closeOnTab:!0,arrowKeyNavigationProviderOptions:{type:Ot.i.COLOR,selectedRowIndex:b,selectedColumnIndex:w,isOpenedByKeyboard:o,isPopupPositioned:!0},trigger:(0,U.tZ)(Ce.Z,{buttonId:Ce.s.TEXT_COLOR,spacing:u?"none":"default",disabled:p||l.disabled,selected:r,"aria-label":h,"aria-expanded":r,"aria-haspopup":!0,title:h,onClick:this.toggleOpen,onKeyDown:this.onKeyDown,ref:this.toolbarItemRef,iconBefore:(0,U.tZ)("div",{css:Qe.SG},(0,U.tZ)("div",{css:zt},(0,U.tZ)(Nt,null),(0,U.tZ)("div",{css:[Ut,g?"background: ".concat(g,";"):l.disabled&&Vt]})),(0,U.tZ)("span",{css:Qe.W$},(0,U.tZ)(Se.Z,{label:""})))})},(0,U.tZ)("div",{"data-testid":"text-color-palette"},(0,U.tZ)(Ct.ZP,{onClick:function(e){return t.changeTextColor(e,l.disabled)},selectedColor:l.color,paletteOptions:{palette:v,hexToPaletteColor:St.E,paletteColorTooltipMessages:Tt.B0,showSomewhatSemanticTooltips:m}}))),(0,U.tZ)("span",{css:Qe.NA}))}},{key:"getCommonAnalyticsAttributes",value:function(){return{experiment:"editor.toolbarTextColor.moreColors",experimentGroup:"control"}}},{key:"buildAnalyticsPalette",value:function(e,t){return{action:e,actionSubject:p.Wt.TOOLBAR,actionSubjectId:p.VJ.FORMAT_COLOR,eventType:p.Ze.TRACK,attributes:Wt(Wt({},this.getCommonAnalyticsAttributes()),t)}}},{key:"buildAnalyticsSelectColor",value:function(e){return{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.FORMAT_COLOR,eventType:p.Ze.TRACK,attributes:Wt(Wt({},this.getCommonAnalyticsAttributes()),e)}}},{key:"dispatchAnalyticsEvent",value:function(e){var t=this.props.dispatchAnalyticsEvent;t&&t(e)}}]),n}(Z.Component);const $t=(0,H.ZP)(Kt);const Jt=function(e,t){var n,r,o=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"textColor",marks:function(){return[{name:"textColor",mark:st.zP}]},pmPlugins:function(){return[{name:"textColor",plugin:function(t){return Et(t.dispatch,function(e){if(e&&"boolean"!=typeof e)return e}(e))}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,i=e.popupsScrollableElement,a=e.isToolbarReducedSpacing,c=e.dispatchAnalyticsEvent,s=e.disabled;return Z.createElement(M.Z,{plugins:{textColor:kt},render:function(e){var u=e.textColor;return Z.createElement($t,{pluginState:u,isReducedSpacing:a,editorView:t,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:i,dispatchAnalyticsEvent:c,disabled:s,featureFlags:o})}})}}};var Yt,Xt=n(50165),Qt=n(5956),en=n(93093),tn=n(6565),nn=n(30709),rn=n(92264),on=n(75730);function an(e){return Boolean(e&&e.type&&["orderedList","bulletList"].includes(e.type.name))}function cn(e){return Boolean(e&&e.type&&"paragraph"===e.type.name)}function sn(e){return Boolean(e&&e.type&&"listItem"===e.type.name)}function un(e){return Boolean(e&&e.type&&"bulletList"===e.type.name)}function ln(e){var t=e.type.schema.nodes.bulletList;if(!t)return!1;var n=on.Fragment.from(t.createAndFill());return!sn(e)&&e.type.validContent(n)}!function(e){e[e.LEFT=1]="LEFT",e[e.RIGHT=-1]="RIGHT"}(Yt||(Yt={}));var dn=function(e){var t=e.tr,n=e.direction,r=e.forceListType,o={orderedList:0,bulletList:0},i=t.doc,a=t.selection,c=a.$from,s=a.$to,u=t.selection,l=c.blockRange(s,ln);if(!l)return o;var d=i.nodeAt(l.start),p=an(d)?l.start:0,f=an(d)?l.end:t.doc.content.size,h=[];if(i.nodesBetween(p,f,(function(e,o,a){var c=i.resolve(o),s=c.nodeBefore,u=c.nodeAfter;if(s&&u&&an(s)&&an(u)){var l=sn(a);if(l||s.type===u.type||r){var d=c.index(),f=c.posAtIndex(d-1),v=c.posAtIndex(d),m=f>=p||s.type===r;if(r&&(m&&t.setNodeMarkup(f,r),t.setNodeMarkup(v,r)),l&&s.type!==u.type){var g=n===Yt.RIGHT?u.type:s.type;t.setNodeMarkup(f,g)}m&&h.push(o)}}})),u.empty&&d&&an(d)){var v=i.resolve(l.start+d.nodeSize),m=v.nodeBefore,g=v.nodeAfter;m&&g&&an(m)&&an(g)&&g.type===m.type&&h.push(v.pos)}for(var y=h.length-1;y>=0;y--){var b=t.doc.nodeAt(h[y]),w=null==b?void 0:b.type.name;if(w&&("orderedList"===w||"bulletList"===w)){var k=o[w]||0;o[w]=k+1}t.join(h[y])}return o},pn=function(e){return"paragraph"===e.parent.type.name},fn=function(e){var t=e.node(-1);return sn(e.parent)||an(e.parent)||sn(t)},hn=function(e,t){var n,r=t.$from,o=t.$to;if(t instanceof rn.WD&&r.nodeAfter){var i=r.nodeAfter.nodeSize||1;n=r.blockRange(r.doc.resolve(r.pos+i))}else n=r.blockRange(o);return!!n&&!!(0,nn.nd)(n,e)},vn=function(e){var t=e.selection.$from.parent,n=e.schema.nodes.listItem;return e.selection instanceof rn.WD?sn(t):(0,W.bw)(n)(e.selection)&&cn(t)},mn=function(e){var t=e.schema.nodes,n=t.tableCell,r=t.tableHeader;return!!(0,W.Tr)([n,r])(e.selection)},gn=function(e){var t=e.selection.$from,n=e.doc.resolve(t.pos-1),r=n?n.nodeBefore:null;return e.selection instanceof rn.WD&&(r=t.nodeBefore),an(r)},yn=function(e){var t=e.selection,n=t.from,r=t.to,o=null;return e.doc.nodesBetween(n,r,(function(e){return an(e)&&(o=e),!o})),o},bn=function(e){for(var t=0,n=e.depth-1;n>0;n--){an(e.node(n))&&(t+=1)}return t},wn=function(e){var t=bn(e)-1,n=(0,W.qv)(e,sn);return{indentLevel:t,itemIndex:e.index(n?n.depth-1:void 0)}},kn=function(e){var t=e.selection;e.doc;if(t.empty)return t;var n=t.$from,r=t.$to;if(t instanceof g.NodeSelection){var o=En(n);return new g.TextSelection(o,o)}var i=En(n),a=xn(r);return new g.TextSelection(a,i)},En=function(e){var t=e.blockRange(e,sn);return t&&0===e.textOffset&&t.end-1===e.pos?g.Selection.near(e.doc.resolve(t.end+1),1).$from:e},xn=function(e){var t=e.blockRange(e,sn);return t&&0===e.textOffset&&t.start+1===e.pos?g.Selection.near(e.doc.resolve(t.start-1),-1).$to:e},On=n(72132),Sn=n(35986),Cn=n(79179),Tn=n(90105),An=n(2300);function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dn=new g.PluginKey("listPlugin"),Zn=Dn,In={bulletListActive:!1,bulletListDisabled:!1,orderedListActive:!1,orderedListDisabled:!1,decorationSet:tn.EH.empty},Ln=function(e,t,n){var r=[],o=[];return e.nodesBetween(0,e.content.size,(function(e,t){if(o.length>0)for(var i=!0;i&&o.length>0;){var a=o[o.length-1];(i=t>=a.startPos+a.node.nodeSize)&&o.pop()}if(an(e)){o.push({node:e,startPos:t});var c=t,s=t+e.nodeSize,u=o.length;if(r.push(tn.p.node(c,s,{"data-indent-level":"".concat(u)})),null!=n&&n.restartNumberedLists){var l,d=(0,An.Px)({itemsCount:null==e?void 0:e.childCount,order:null==e||null===(l=e.attrs)||void 0===l?void 0:l.order});d&&r.push(tn.p.node(c,s,{style:(0,Cn.aP)(d,"string")}))}else e.childCount>=100&&r.push(tn.p.node(c,s,{"data-child-count":"100+"}))}})),tn.EH.empty.add(e,r)},Mn=function(e){return function(t,n,r){var o=Rn(t,n),i=Ln(t.doc,0,e);return Pn(Pn({},o),{},{decorationSet:i})}},Rn=function(e,t){var n=e.doc.type.schema.nodes,r=n.bulletList,o=n.orderedList,i=(0,W.Tr)([r,o])(e.selection),a=!!i&&i.node.type===r,c=!!i&&i.node.type===o,s=!(a||c||hn(r,e.selection)),u=!(a||c||hn(o,e.selection));return a!==t.bulletListActive||c!==t.orderedListActive||s!==t.bulletListDisabled||u!==t.orderedListDisabled?Pn(Pn({},t),{},{bulletListActive:a,orderedListActive:c,bulletListDisabled:s,orderedListDisabled:u}):t},Nn=function(e){return function(t){return Pn(Pn({},In),{},{decorationSet:Ln(t.doc,0,e)})}},jn="￼",Fn="input_rule_plugin_transaction";function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Un,Vn,Hn,Wn,Gn=function(e){var t=e.rules,n=e.pluginKey,r=e.allowInsertTextOnDocument,o=e.onInputEvent,i=e.onBeforeRegexMatch;return function(e){var a=e.view,c=e.from,s=e.to,u=e.text;if(a.composing)return!1;var l=a.state,d=l.doc.resolve(c);if(d.parent.type.spec.code)return!1;if(o&&!o({state:l,from:c,to:s}))return!1;var p=d.parent.textBetween(Math.max(0,d.parentOffset-500),d.parentOffset,void 0,jn)+u,f=function(e){for(var t=e.rules,n=e.textBefore,r=(e.from,e.to),o=e.state,i=0;i<t.length;i++){var a,c=t[i],s=o.selection instanceof rn.WD?null!==(a=n.at(-1))&&void 0!==a?a:"":n,u=c.match.exec(s);if(u){var l=o.selection.$from.start(),d=Math.max(0,o.selection.$from.parentOffset-500),p=Math.max(l+u.index+d,1);if(c.handler(o,u,p,r))return{from:p,to:r,matchedRule:zn(zn({},c),{},{result:u})}}}return null}({rules:t,textBefore:p,from:c,to:s,state:l});if(!f)return!1;var h=r?l.tr.insertText(u,c,s):l.tr;return h.setMeta(Fn,!0),h.setMeta(n,{textInserted:u,from:f.from,to:f.to,matchedRule:f.matchedRule}),i&&i(h),a.dispatch(h),!0}};!function(e){e.BACKWARD="backward",e.FORWARD="forward"}(Un||(Un={})),function(e){e.JOIN_SIBLINGS="joinSiblings",e.JOIN_DESCENDANT_TO_PARENT="joinDescendantToParent",e.JOIN_TO_SIBLING_DESCENDANT="joinToSiblingDescendant",e.JOIN_PARAGRAPH_WITH_LIST="joinParagraphWithList",e.JOIN_PARENT_SIBLING_TO_PARENT_CHILD="joinParentSiblingToParentChild",e.JOIN_LIST_ITEM_WITH_PARAGRAPH="joinListItemWithParagraph"}(Vn||(Vn={})),function(e){e.NO_JOIN="noJoin",e.JOINED_TO_LIST_ABOVE="joinedToListAbove",e.JOINED_TO_LIST_BELOW="joinedToListBelow"}(Hn||(Hn={})),function(e){e.SPLIT_LIST="splitList"}(Wn||(Wn={}));var qn=n(75547);function Kn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jn=function(e){return function(t){return $n($n({},t),{},{onHandlerApply:function(n,r,o){var i="function"==typeof e?e(n,o):e;(0,At.Gs)(n,r,i),t.onHandlerApply&&t.onHandlerApply(n,r,o)}})}},Yn=function(e,t){return{match:e,handler:t,onHandlerApply:function(e,t){(0,qn.SJ)(t)}}},Xn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.isBlockNodeRule,o=void 0!==r&&r,i=n.allowInsertTextOnDocument;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n?void 0:n.onInputEvent,o=null==n?void 0:n.onBeforeRegexMatch,i=Boolean(null==n?void 0:n.allowInsertTextOnDocument),a=new g.PluginKey("inputRulePlugin__".concat(e)),c=Gn({allowInsertTextOnDocument:i,pluginKey:a,rules:t,onInputEvent:r,onBeforeRegexMatch:o}),s=new u.J({key:a,state:{init:function(){return null},apply:function(e,t){return e.getMeta(a)||(e.selectionSet||e.docChanged?null:t)}},appendTransaction:function(e,t,n){var r=e.find((function(e){return e.getMeta(a)})),o=null==r?void 0:r.getMeta(a);if(!o||!r)return null;var i=o.matchedRule,c=o.from,s=o.to,u=i.result,l=r.mapping.map(s),d=i.handler(n,u,c,l);return d?(d.setMeta(Fn,!0),i.onHandlerApply&&i.onHandlerApply(n,d,i.result),d):null},props:{handleTextInput:function(e,t,n,r){return c({view:e,from:t,to:n,text:r})},handleDOMEvents:{compositionend:function(e){return setTimeout((function(){var t=e.state.selection;if(t instanceof g.TextSelection){var n=t.$cursor;n&&c({view:e,from:n.pos,to:n.pos,text:""})}})),!1}}},isInputRules:!0});return s}(e,t,{allowInsertTextOnDocument:void 0===i||i,onInputEvent:function(e){var t=e.state,n=e.from,r=e.to,i=o?["code","link","typeAheadQuery"]:["code"];return!t.selection.$from.parent.type.spec.code&&(t.selection instanceof g.TextSelection||t.selection instanceof rn.WD)&&!tr(t,n,r,i)&&(!o||!nr(t,i))},onBeforeRegexMatch:function(e){(0,qn.SJ)(e)}})},Qn=function(e){var t=e.match,n=e.nodeType,r=e.getAttrs;return Yn(t,(function(e,t,o,i){var a=Math.max(o,1),c=e.doc.resolve(a),s=r instanceof Function?r(t):r,u=c.node(-1);return u&&!u.canReplaceWith(c.index(-1),c.indexAfter(-1),n)?null:e.tr.delete(a,i).setBlockType(a,a,n,s)}))},er=function(e,t){return function(e){var t=e.match,n=e.nodeType,r=e.getAttrs,o=e.joinPredicate;return Yn(t,(function(e,t,i,a){var c=(r instanceof Function?r(t):r)||{},s=e.tr,u=Math.max(i,1);s.delete(u,a);var l=s.doc.resolve(u).blockRange(),d=l&&(0,nn.nd)(l,n,c);if(!d||!l)return null;var p=s.mapping.map(l.start),f=s.doc.nodeAt(p),h=d[d.length-1];if(f&&h){var v=h.type.allowedMarks(f.marks)||[];s.setNodeMarkup(p,f.type,f.attrs,v)}s.wrap(l,d);var m=s.doc.resolve(u-1).nodeBefore;return m&&m.type===n&&(0,nn.Mn)(s.doc,u-1)&&(!o||o(t,m,Hn.JOINED_TO_LIST_ABOVE))&&s.join(u-1),s}))}({nodeType:t,match:e,getAttrs:{},joinPredicate:function(e,n){return n.type===t}})},tr=function(e,t,n,r){var o=e.doc.resolve(t),i=e.doc.resolve(n);return((t===n?o.marks():o.marksAcross(i))||[]).some((function(e){return(r||[]).includes(e.type.name)}))},nr=function(e,t){var n,r,o=e.selection;if(!(o instanceof g.TextSelection))return!1;var i=o.$cursor;return Boolean(null==i||null===(n=i.nodeBefore)||void 0===n||null===(r=n.marks)||void 0===r?void 0:r.some((function(e){return t.includes(e.type.name)})))},rr=function(e){var t=e.match,n=e.nodeType,r=e.getAttrs,o=e.joinPredicate,i=e.featureFlags;return Yn(t,(function(e,t,a,c){var s=(r instanceof Function?r(t):r)||{},u=e.tr,l=Math.max(a,1);u.delete(l,c);var d=u.doc.resolve(l).blockRange(),p=d&&(0,nn.nd)(d,n,s);if(!p||!d)return null;var f=u.mapping.map(d.start),h=u.doc.nodeAt(f),v=p[p.length-1];if(h&&v){var m=v.type.allowedMarks(h.marks)||[];u.setNodeMarkup(f,h.type,h.attrs,m)}if(u.wrap(d,p),null!=i&&i.restartNumberedLists&&n===e.schema.nodes.orderedList){var g=u.doc.resolve(u.mapping.map(c)),y=(0,W.NP)(g,n);if(y){var b=y.pos+y.node.nodeSize,w=u.doc.resolve(b).nodeAfter;w&&w.type===n&&(0,nn.Mn)(u.doc,b)&&(!o||o(t,w,Hn.JOINED_TO_LIST_BELOW))&&u.join(b)}}var k=u.doc.resolve(l-1).nodeBefore;return k&&k.type===n&&(0,nn.Mn)(u.doc,l-1)&&(!o||o(t,k,Hn.JOINED_TO_LIST_ABOVE))&&u.join(l-1),u}))},or=function(e){return Number(e[1])};function ir(e){var t=e.listType,n=e.expression,r=e.featureFlags,o=Hn.NO_JOIN,i="bulletList"===t.name?p.VJ.FORMAT_LIST_BULLET:p.VJ.FORMAT_LIST_NUMBER,a={};null!=r&&r.restartNumberedLists&&(a=function(e){return{order:or(e)}});var c=rr({featureFlags:r,match:n,nodeType:t,getAttrs:a,joinPredicate:function(e,n,r){var i=n.type===t;return i&&(o=r),i}});return Jn((function(e,n){var a={action:p.om.INSERTED,actionSubject:p.Wt.LIST,actionSubjectId:i,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.FORMATTING}};return null!=r&&r.restartNumberedLists&&t===e.schema.nodes.orderedList&&a.attributes&&(a.attributes.listStartNumber=or(n),a.attributes.joinScenario=o,o=Hn.NO_JOIN),a}))(c)}var ar=n(19353),cr=n(68982),sr=n(96234);function ur(e){return e.content}function lr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=[],o=0,i=e.childCount;o<i;o++){var a=e.child(o),c=a.isLeaf?t(a,n,o):t(a.copy(lr(a.content,t,a)),n,o);c&&(c instanceof on.Fragment?r.push.apply(r,(0,s.Z)(ur(c))):Array.isArray(c)?r.push.apply(r,(0,s.Z)(c)):r.push(c))}return on.Fragment.fromArray(r)}function dr(e,t){var n=lr(e.content,t);return new on.Slice(n,e.openStart,e.openEnd)}function pr(e,t){for(var n=[],r=0;r<e.childCount;r++){var o=t(e.child(r),r,e);Array.isArray(o)?n.push.apply(n,(0,s.Z)(o)):n.push(o)}return on.Fragment.fromArray(n)}function fr(e,t){for(var n=[],r=0;r<e.childCount;r++)n.push(t(e.child(r),r,e instanceof on.Fragment?e:e.content));return n}var hr=function(e){for(var t=e.depth,n=e.depth;n>0;n--){var r=e.node(n);if(an(r)&&(t=n),!sn(r)&&!an(r))break}return t-1},vr=function(e){var t,n=e.tr,r=e.maxIndentation,o=bn(n.selection.$from),i=n.selection.$to.pos;do{var a=n.doc.resolve(i);if((t=bn(a))>r)return!1;i++}while(t>=o);return!0};function mr(e,t){var n=e.$from,r=e.$to,o=t.doc.type.schema.nodes.listItem,i=n.blockRange(r,(function(e){return!!e.childCount&&!!e.firstChild&&e.firstChild.type===o}));if(!i||i.depth<2||n.node(i.depth-1).type!==o)return t;var a=i.end,c=r.end(i.depth);return a<c&&(t.step(new nn.FC(a-1,c,a,c,new on.Slice(on.Fragment.from(o.create(void 0,i.parent.copy())),1,0),1,!0)),i=new on.NodeRange(t.doc.resolve(n.pos),t.doc.resolve(c),i.depth)),t.lift(i,(0,nn.k9)(i)).scrollIntoView()}var gr=/^\s*[\*\-\u2022](\s+|\s+$)/,yr=/^\s*\d[\.\)](\s+|$)/,br=function(e,t,n){var r,o=n.nodes,i=o.hardBreak,a=o.bulletList,c=o.orderedList,s=fr(e.content,(function(e){return e})),u=[a,c],l=s.map((function(e,r){var o=function(e,t){if(!e.text)return null;var n=t.nodes,r=n.bulletList,o=n.orderedList;return[{node:r,matcher:gr},{node:o,matcher:yr}].reduce((function(t,n){if(t)return t;var r=e.text.match(n.matcher);return r?[n.node,r[0].length]:t}),null)}(e,n),a=r>0&&s[r-1];if(a&&a.type!==i)return e;if(!o||!e.text)return e;var c=(0,sr.Z)(o,2),u=c[0],l=c[1],d=e.text.substr(l),p=n.nodes.listItem.createAndFill(void 0,n.nodes.paragraph.createChecked(void 0,d.length?n.text(d):void 0));if(!p)return e;var f=u.createChecked(void 0,[p]);return t&&!t.type.validContent(on.Fragment.from(f))?e:f})).filter((function(e,t,n){return e.type!==i?e:t>0&&u.indexOf(n[t-1].type)>-1||t<n.length-1&&u.indexOf(n[t+1].type)>-1?null:e})),d=g.EditorState.create({schema:n});(0,ar._X)((function(e,t){if(!t)return!1;var n=l.some((function(e){return e.type===a||e.type===c}));return!(l.some((function(e){return e.isText}))&&!n)&&(t(e.tr.replaceWith(0,2,l)),!0)}),(function(e,t){return an(e)&&an(t)}))(d,(function(e){r=e}));var p=r?r.doc.content:on.Fragment.from(l),f=n.nodes.paragraph;return f.validContent(p)?on.Fragment.from(f.create(e.attrs,p,e.marks)):p},wr=function(e){var t=e.fragment,n=e.blockMarks,r=void 0===n?[]:n,o=e.schema,i=[],a=[],c=null,u=o.nodes,l=u.hardBreak,d=u.paragraph;return t.forEach((function(e,t){if(o.nodes.paragraph.validContent(on.Fragment.from(e))){if(0===t&&e.type===l)return i.push(d.createChecked(void 0,a,(0,s.Z)(r))),void(c=e);if(c&&c.type===l&&e.type===l)return a.pop(),i.push(d.createChecked(void 0,a,(0,s.Z)(r))),void(a=[]);a.push(e),c=e}else i.push(e)})),a.length&&i.push(d.createChecked(void 0,a,(0,s.Z)(r))),on.Fragment.from(i.length?i:[d.createAndFill(void 0,void 0,(0,s.Z)(r))])};function kr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xr,Or=function(e){var t=e.selection,n=t.$from,r=t.$to,o=wn(n),i=wn(r);return{itemIndexAtSelectionStart:o.itemIndex,itemIndexAtSelectionEnd:i.itemIndex,indentLevelAtSelectionStart:o.indentLevel,indentLevelAtSelectionEnd:i.indentLevel,itemsInSelection:Sr(e)}},Sr=function(e){var t=e.selection,n=t.from,r=t.to;if(n===r)return 1;var o=0,i=e.doc.cut(n,r);return i.content.nodesBetween(0,i.content.size,(function(e,t,n,r){n&&sn(n)&&!an(e)&&0===r&&o++})),o},Cr="restartListsAnalytics",Tr=function(e){var t;return null!==(t=e.getMeta(Cr))&&void 0!==t?t:{}},Ar=function(e,t){var n=Tr(e);e.setMeta(Cr,Er(Er({},n),t))},_r=(xr={},(0,o.Z)(xr,Vn.JOIN_SIBLINGS,(function(e,t,n,r){var o=r.node(-1);if(!o.firstChild)return!1;var i=r.before(-1),a=r.after(-1),c=n.pos-1,s=n.pos,u=r.parent.content,l=o.content.cut(o.firstChild.nodeSize);return(0,_t.xi)(e,(function(e){return e.doc.resolve(c)}),[[u,c],[l,s]],[[i,a]]),t&&t(e),!0})),(0,o.Z)(xr,Vn.JOIN_DESCENDANT_TO_PARENT,(function(e,t,n,r){var o=r.node(-2),i=r.node(-1);if(!i.firstChild||!i.lastChild)return!1;var a=r.before(-2),c=r.before(-1),s=n.after(),u=r.after(-2),l=r.after(-1),d=r.start(-2),p=an(i.lastChild),f=1===o.childCount&&!p,h=n.pos,v=s,m=d,g=r.parent.content,y=p?i.content.cut(i.firstChild.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(i.firstChild.nodeSize),b=i.lastChild.content;return(0,_t.xi)(e,(function(e){return e.doc.resolve(h)}),p?[[g,h],[y,v],[b,m]]:[[g,h],[y,v]],[f?[a,u]:[c,l]]),t&&t(e),!0})),(0,o.Z)(xr,Vn.JOIN_TO_SIBLING_DESCENDANT,(function(e,t,n,r,o){if(!o)return!1;var i=r.node(-1);if(!i.firstChild||!i.lastChild)return!1;var a=r.parent,c=r.before(-1),s=o.after(),u=r.after(-1),l=an(i.lastChild),d=o.pos,p=s,f=n.pos-1,h=a.content,v=l?i.content.cut(i.firstChild.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(i.firstChild.nodeSize),m=i.lastChild.content;return(0,_t.xi)(e,(function(e){return e.doc.resolve(d)}),l?[[h,d],[v,p],[m,f]]:[[h,d],[v,p]],[[c,u]]),t&&t(e),!0})),xr),Pr=function(e,t){var n=e.tr,r=e.selection.$head,o=(0,_t.Ro)(r);if(!(0,_t.Di)(e))return!1;var i=function(e,t,n){var r=e.$pos,o=e.foundNode,i=fn(r),a=pn(t),c=0===t.index(-1),s=fn(t);if(!(o&&i&&a&&c&&s))return!1;if(pn(r))return[Vn.JOIN_DESCENDANT_TO_PARENT,null];var u,l=r.parent.lastChild&&an(r.parent.lastChild),d=cn(r.parent.lastChild),p=n.doc.resolve(r.pos);do{var f=(0,_t.Ro)(p);p=f.$pos,u=f.foundNode}while(u&&!p.parent.isTextblock);var h=pn(p);return u&&l&&h?[Vn.JOIN_TO_SIBLING_DESCENDANT,p]:!!d&&[Vn.JOIN_SIBLINGS,null]}(o,r,n);if(!i)return!1;var a=e.schema.nodes,c=a.bulletList,s=a.orderedList,u=(0,W.Tr)([c,s])(n.selection),l=p.VJ.FORMAT_LIST_BULLET;return u&&u.node.type===s&&(l=p.VJ.FORMAT_LIST_NUMBER),(0,At.Gs)(e,n,{action:p.om.LIST_ITEM_JOINED,actionSubject:p.Wt.LIST,actionSubjectId:l,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.KEYBOARD,direction:Un.BACKWARD,scenario:i[0]}}),_r[i[0]](n,t,o.$pos,r,i[1])},Dr=function(e){var t=e.tr,n=e.$next,r=e.$head;if(r.parent.content.size<1)return(0,_t.xi)(t,(function(e){return e.doc.resolve(r.pos)}),[],[[r.pos-1,r.pos]]),!0;var o=r.pos,i=t.doc.nodeAt(n.pos-1),a=t.doc.nodeAt(n.pos);if(!i||!a)return!1;var c=a.firstChild;if(!c)return!1;var s=a.lastChild,u=c.firstChild,l=Zr(a)&&c.childCount<2&&n.nodeAfter,d=!Zr(a)&&s&&an(s),p=[],f=[];if(Zr(i)&&Zr(a)&&n.nodeAfter&&f.push([t.mapping.map(n.pos-1),t.mapping.map(n.pos+n.nodeAfter.nodeSize+1)]),d){var h=on.Fragment.from(s.content);p.push([h,t.mapping.map(n.pos)])}if(l||d){f.push([t.mapping.map(n.pos),t.mapping.map(n.pos+a.nodeSize-1)]);var v=on.Fragment.from(c.content);return p.push([v,o]),(0,_t.xi)(t,(function(e){return e.doc.resolve(r.pos)}),p,f),!0}if(a.childCount>1)return p.push([on.Fragment.from(c.content),o]),f.push([t.mapping.map(n.pos+1),t.mapping.map(n.pos+c.nodeSize+1)]),(0,_t.xi)(t,(function(e){return e.doc.resolve(r.pos)}),p,f),!0;if(u&&"hardBreak"===u.type.name){var m=u?u.nodeSize:0;f.push([t.mapping.map(n.pos+2),t.mapping.map(n.pos+2+m)])}else{p.push([on.Fragment.from(c.content),o]);var g=c.nodeSize;f.push([t.mapping.map(n.pos),t.mapping.map(n.pos+2+g)])}return(0,_t.xi)(t,(function(e){return e.doc.resolve(r.pos)}),p,f),!0},Zr=function(e){return 1===e.childCount},Ir=function(e){var t=e.tr,n=e.$next,r=e.$head,o=n.parent,i=n.before(),a=n.after(),c=r.pos,s=o.content;return(0,_t.xi)(t,(function(e){return e.doc.resolve(c)}),[[s,c]],[[i,a]]),!0},Lr=function(e){var t=e.tr,n=e.$next,r=e.$head,o=n.parent,i=n.nodeAfter;if(!i||!i.lastChild)return!1;var a=i.firstChild;if(!a)return!1;var c=n.before(),s=n.pos,u=r.after(),l=n.after(),d=t.doc.resolve(n.pos+1).after(),p=an(i.lastChild),f=1===o.childCount&&!p,h=r.pos,v=u,m=n.pos,g=a.content,y=p?i.content.cut(a.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(a.nodeSize),b=i.lastChild.content;return(0,_t.xi)(t,(function(e){return e.doc.resolve(h)}),p?[[g,h],[y,v],[b,m]]:[[g,h],[y,v]],[f?[c,l]:[s,d]]),!0},Mr=function(e){var t=e.tr,n=e.$next,r=e.$head,o=n.parent,i=n.nodeAfter;if(!i)return!1;var a=n.before(),c=n.after(),s=r.end(-1),u=r.pos,l=s,d=i.content,p=o.content.cut(i.nodeSize);return(0,_t.xi)(t,(function(e){return e.doc.resolve(u)}),[[d,u],[p,l]],[[a,c]]),!0},Rr=function(e){var t=e.tr,n=e.$next,r=e.$head,o=n.parent;if(!o.firstChild||!o.lastChild)return!1;var i=n.before(),a=n.before(),c=n.after(),s=an(o.lastChild),u=r.pos,l=r.pos+1,d=a-2,p=o.firstChild.content,f=s?o.content.cut(o.firstChild.nodeSize,o.nodeSize-o.lastChild.nodeSize-2):o.content.cut(o.firstChild.nodeSize),h=o.lastChild.content;return(0,_t.xi)(t,(function(e){return e.doc.resolve(u)}),s?[[p,u],[f,l],[h,d]]:[[p,u],[f,l]],[[i,c]]),!0};function Nr(e){var t=null;if(an(e.doc.nodeAt(e.pos)))t=e.pos;else{var n=(0,W.qv)(e,an);t=n&&n.pos}if(null==t)return null;var r=e.doc.nodeAt(t);return r?{node:r,pos:t}:null}function jr(e){var t=sn(e.doc.nodeAt(e.pos))?e:(0,W.qv)(e,sn);if(!t||null===t.pos)return null;var n=e.doc.nodeAt(t.pos);return n?{node:n,pos:t.pos}:null}function Fr(e){var t=e.doc;if(e.pos+1>t.content.size)return null;if(0===e.depth)return t.resolve(e.pos+1);var n=t.nodeAt(e.pos),r=e.before(),o=t.nodeAt(r);if(an(n)&&!sn(o))return t.resolve(e.pos+1);var i=(0,W.qv)(e,an);return i?Fr(t.resolve(i.pos)):null}var Br=function(e){var t=e.tr,n=e.nextListNodeType,r=t.selection,o=t.selection,i=o.from,a=o.to,c=t.doc.type.schema.nodes.codeBlock,s=[];r instanceof g.TextSelection&&r.$cursor||r instanceof rn.WD?s.push(i):t.doc.nodesBetween(i,a,(function(e,t){if(!e.isLeaf&&(e.type!==c||0!==e.childCount))return!0;s.push(t)})),s.reduce((function(e,n){var r=(0,W.qv)(t.doc.resolve(n),an);return r?(e.find((function(e){return e.pos===r.pos&&e.start===r.start&&e.depth===r.depth}))||e.push(r),e):e}),[]).forEach((function(e){t.setNodeMarkup(e.pos,n)}))},zr=function(e){for(var t=e.tr,n=e.nextListNodeType,r=e.nodeRange,o=r.endIndex-1;o>=r.startIndex;o--){var i=r.$from.posAtIndex(o,r.depth),a=t.doc.resolve(i+1),c=a.blockRange(a);if(!c)return;var s=(0,nn.nd)(c,n);if(!c||!s)return;t.wrap(c,s)}};function Ur(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}for(var r=[],o=0;o<e.mapping.maps.length;o++){for(var i=e.mapping.maps[o],a=0;a<r.length;a++)r[a]=i.map(r[a]);i.forEach((function(e,t,n,o){return r.push(n,o)}))}for(var c=[],s=0;s<r.length;s+=2)for(var u=r[s],l=r[s+1],d=e.doc.resolve(u),p=d.sharedDepth(l),f=d.node(p),h=d.indexAfter(p),v=d.after(p+1);v<=l;++h){var m=f.maybeChild(h);if(!m)break;if(h&&-1===c.indexOf(v)){var g=f.child(h-1);g.type===m.type&&t(g,m)&&c.push(v)}v+=m.nodeSize}c.sort((function(e,t){return e-t}));for(var y=c.length-1;y>=0;y--)(0,nn.Mn)(e.doc,c[y])&&e.join(c[y])}function Vr(e,t){!function(e,t){return function(n){var r,o=n.selection,i=o.$from,a=o.$to;if(n.selection instanceof rn.WD&&i.nodeAfter&&hn(e,n.selection)){var c=i.nodeAfter.nodeSize||1;r=i.blockRange(i.doc.resolve(i.pos+c))}else r=i.blockRange(a);var s=!1,u=r;if(!r)return!1;if(r.depth>=2&&i.node(r.depth-1).type.compatibleContent(e)&&0===r.startIndex){if(0===i.index(r.depth-1))return!1;var l=n.doc.resolve(r.start-2);u=new on.NodeRange(l,l,r.depth),r.endIndex<r.parent.childCount&&(r=new on.NodeRange(i,n.doc.resolve(a.end(r.depth)),r.depth)),s=!0}var d=(0,nn.nd)(u,e,t,r);return!!d&&(n=function(e,t,n,r,o){for(var i=on.Fragment.empty,a=n.length-1;a>=0;a--)i=on.Fragment.from(n[a].type.create(n[a].attrs,i));e.step(new nn.FC(t.start-(r?2:0),t.end,t.start,t.end,new on.Slice(i,0,0),n.length,!0));for(var c=0,s=0;s<n.length;s++)n[s].type===o&&(c=s+1);for(var u=n.length-c,l=t.start+n.length-(r?2:0),d=t.parent,p=t.startIndex,f=t.endIndex,h=!0;p<f;p++,h=!1)!h&&(0,nn.Ax)(e.doc,l,u)&&(e.split(l,u),l+=2*u),l+=d.child(p).nodeSize;return e}(n,r,d,s,e),!0)}}(e)(t),Ur(t,(function(t,n){return t.type===n.type&&t.type===e}))}function Hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gr=function(e,t,n){var r=e.selection,o=kn({selection:e.selection,doc:e.doc}),i=Fr(o.$from);if(i){var a=o.$from.blockRange(i,an);if(a){var c=!1,s=!1,u=o.from,l=o.to;Kr(o).forEach((function(r){var o=e.doc.resolve(e.mapping.map(r.from)),i=e.doc.resolve(e.mapping.map(r.to)),a=o.blockRange(i,an);a&&(sn(o.node(a.depth-1))?$r({tr:e,range:a}):(Jr({tr:e,range:a,state:t,featureFlags:n}),c=c||l>=r.from&&l<r.to,s=s||u>=r.from&&u<r.to))}));var d=a.start!==e.mapping.map(a.start),p=qr({originalSelection:r,normalizedSelection:o,tr:e,hasCommonListMoved:d,hasNormalizedToPositionLiftedOut:c,hasNormalizedFromPositionLiftedOut:s});e.setSelection(p),dn({tr:e,direction:Yt.RIGHT})}}},qr=function(e){var t=e.tr,n=e.originalSelection,r=e.normalizedSelection,o=e.hasCommonListMoved,i=e.hasNormalizedToPositionLiftedOut,a=e.hasNormalizedFromPositionLiftedOut,c=r.$from,s=r.$to,u=r.empty,l=t.mapping.map(c.pos),d=t.mapping.map(s.pos),p=c.sameParent(s);if(a){var f=p?c.pos:l;l=a?c.pos:f,l=o?l-2:l,l=Math.max(l,0)}if(i){var h=p?s.pos:d;d=i?s.pos:h,d=o?d-2:d,d=Math.min(d,t.doc.nodeSize-2)}if(r instanceof rn.WD){var v=t.doc.resolve(l);return new rn.WD(v,r.side)}return n instanceof g.NodeSelection?g.NodeSelection.create(t.doc,l):u?g.TextSelection.between(t.doc.resolve(d),t.doc.resolve(d),-1):g.TextSelection.between(t.doc.resolve(l),t.doc.resolve(d),-1)},Kr=function(e){var t=function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.blockRange(r,an);return o||null}({selection:e});if(!t)return[];var n=e.$from,r=e.$to;if(n.pos===r.pos&&n.sameParent(r))return[{from:t.start,to:t.end,depth:t.depth}];var o=Yr(n);if(!o)return[];for(var i=[],a=n.doc,c=Yr(r);c&&c.pos>=o.pos&&c.pos>=t.start;){var s=a.nodeAt(c.pos);if(!s||!sn(s))return[];var u=0;s&&s.lastChild&&an(s.lastChild)&&(u=s.lastChild.nodeSize);var l=c.pos+1;i.push({from:l,to:a.resolve(l).end()-u,depth:c.depth}),c=Yr(c)}return i},$r=function(e){var t=e.tr,n=e.range,r=n.end,o=n.$to.end(n.depth),i=t.doc.type.schema.nodes.listItem;if(r<o){var a=new on.Slice(on.Fragment.from(i.create(null,n.parent.copy())),1,0),c=new nn.FC(r-1,o,r,o,a,1,!0);t.step(c),n=new on.NodeRange(t.doc.resolve(n.$from.pos),t.doc.resolve(o),n.depth)}var s=(0,nn.k9)(n);s&&t.lift(n,s)},Jr=function(e){for(var t=e.tr,n=e.range,r=(e.state,e.featureFlags),o=n.parent,i=t.doc.resolve(n.start),a=i.start(n.depth),c=i.end(n.depth),s=a===n.start,u=c===n.end,l=s&&u,d=s?on.Fragment.empty:on.Fragment.from(o.copy(on.Fragment.empty)),p=n.startIndex;p<n.endIndex;p++)d=d.append(o.child(p).content);if(s)for(var f=0;f<d.childCount;f++){var h=d.child(f);if(h&&an(h)&&h.type!==o.type){var v=o.type.create(null,h.content);d=d.replaceChild(f,v)}}var m,g=o.copy(on.Fragment.empty);if(null!=r&&r.restartNumberedLists){var y=(0,An.Ah)(o);if("orderedList"===o.type.name)m=n.endIndex-1+y,g.attrs=Wr(Wr({},g.attrs),{},{order:m}),"number"!=typeof Tr(t).splitListStartNumber&&Ar(t,{splitListStartNumber:m})}var b=d.append(on.Fragment.from(g));if(null!=r&&r.restartNumberedLists&&b.forEach((function(e,n,r){var o;if("orderedList"===e.type.name&&(null===(o=e.attrs)||void 0===o?void 0:o.order)===m){var i,a,c=b.child(r-1);if((null==c||null===(i=c.attrs)||void 0===i?void 0:i.order)>=0)Ar(t,{splitListStartNumber:null==c||null===(a=c.attrs)||void 0===a?void 0:a.order})}})),l){var w=new on.Slice(d,0,0),k=new nn.Pu(i.pos-1,n.end+1,w,!1);null!=r&&r.restartNumberedLists&&Ar(t,{outdentScenario:void 0}),t.step(k)}else if(s){var E=new on.Slice(b,0,1),x=new nn.Pu(i.pos-1,n.end,E,!1);t.step(x)}else if(u){var O=new on.Slice(d,1,0),S=new nn.Pu(i.pos,c+1,O,!1);t.step(S)}else{null!=r&&r.restartNumberedLists&&Ar(t,{outdentScenario:Wn.SPLIT_LIST});var C=new on.Slice(b,1,1),T=new nn.FC(i.pos,c,n.end,c,C,C.size,!1);t.step(T)}},Yr=function(e){var t=e.doc,n=an(e.node()),r=e;if(!n){var o=jr(e);return o?t.resolve(o.pos):null}var i=t.resolve(r.pos),a=g.Selection.findFrom(i,-1);if(!a)return null;var c=jr(a.$from);return c?t.resolve(c.pos):null};function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Jq.KEYBOARD,t=arguments.length>1?arguments[1]:void 0;return function(n,r){if(!vn(n))return!1;var o=Nr(n.selection.$from);if(!o)return!0;(0,qn.SJ)(n.tr);var i=un(o.node)?p.VJ.FORMAT_LIST_BULLET:p.VJ.FORMAT_LIST_NUMBER,a=n.tr;if(Gr(a,n,t),!a||!a.docChanged)return!mn(n);var c={};if(null!=t&&t.restartNumberedLists){var s=Tr(a),u=s.outdentScenario,l=s.splitListStartNumber;u===Wn.SPLIT_LIST&&(c.outdentScenario=u,c.splitListStartNumber=l)}return(0,At.Gs)(n,a,{action:p.om.OUTDENTED,actionSubject:p.Wt.LIST,actionSubjectId:i,eventType:p.Ze.TRACK,attributes:Qr(Qr(Qr({},Or(n)),c),{},{inputMethod:e})}),r&&r(a),!0}}function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ro=function(e){return function(t,n){var r,o=t.selection;if(o.empty){var i=o.$from,a=t.schema.nodes,c=a.listItem,s=a.codeBlock,u=i.node(i.depth-1);if(u&&u.type===c){if(!(0,cr.Fp)(u))return eo(p.Jq.KEYBOARD,e)(t,n);if(!(0,W.bw)(s)(o))return(r=c,function(e,t){var n=e.selection,o=n.$from,i=n.$to,a=n.node;if(a&&a.isBlock||o.depth<2||!o.sameParent(i))return!1;var c=o.node(-1);if(c.type!==r)return!1;if(c.content.content.length<=1&&0===o.parent.content.size&&0!==c.content.size){if(2===o.depth||o.node(-3).type!==r||o.index(-2)!==o.node(-2).childCount-1)return!1;if(t){for(var s=on.Fragment.empty,u=o.index(-1)>0,l=o.depth-(u?1:2);l>=o.depth-3;l--)s=on.Fragment.from(o.node(l).copy(s));s=s.append(on.Fragment.from(r.createAndFill()));var d=e.tr.replace(o.before(u?void 0:-1),o.after(-3),new on.Slice(s,u?3:2,2));d.setSelection(e.selection.constructor.near(d.doc.resolve(o.pos+(u?3:2)))),t(d.scrollIntoView())}return!0}var p=i.pos===o.end()?c.contentMatchAt(0).defaultType:void 0,f=e.tr.delete(o.pos,i.pos),h=p&&[void 0,{type:p}];return t&&t(f.split(o.pos,2,h).scrollIntoView()),!0})(t,n)}}return!1}},oo=function(e,t){var n=e.tr,r=e.selection.$head,o=(0,_t.ES)(r);if(!(0,_t.wQ)(e))return!1;var i=function(e,t){var n=e.$pos,r=e.foundNode,o=t.parent,i=t.node(-1),a=fn(t),c=pn(t),s=i&&i.lastChild&&(i.lastChild===o||i.childCount>1&&i.child(i.childCount-2)===o&&an(i.lastChild)),u=fn(n),l=pn(n);if(!a&&c&&u)return[Vn.JOIN_LIST_ITEM_WITH_PARAGRAPH,Dr];if(!(r&&a&&c&&s))return!1;if(!u&&l)return[Vn.JOIN_PARAGRAPH_WITH_LIST,Ir];if(!u)return!1;var d=n.nodeAfter,p=n.node(-1),f=t.node(-2),h=sn(n.parent),v=sn(d),m=d&&v&&cn(d.firstChild);if(!h&&m)return[Vn.JOIN_DESCENDANT_TO_PARENT,Lr];if(!h)return!1;var g=p&&p===f;return!!cn(d)&&(g?[Vn.JOIN_SIBLINGS,Mr]:[Vn.JOIN_PARENT_SIBLING_TO_PARENT_CHILD,Rr])}(o,r);if(!i)return!1;var a=(0,sr.Z)(i,2),c=a[0];if(!(0,a[1])({tr:n,$next:o.$pos,$head:r}))return!1;var s=e.schema.nodes,u=s.bulletList,l=s.orderedList,d=(0,W.Tr)([u,l])(n.selection),f=p.VJ.FORMAT_LIST_BULLET;return d&&d.node.type===l&&(f=p.VJ.FORMAT_LIST_NUMBER),(0,At.Gs)(e,n,{action:p.om.LIST_ITEM_JOINED,actionSubject:p.Wt.LIST,actionSubjectId:f,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.KEYBOARD,direction:Un.FORWARD,scenario:c}}),t&&t(n),!0},io=function(e,t){for(var n,r=t.bulletList,o=t.orderedList,i=t.listItem,a=e.depth-1;a>0;a--){var c=e.node(a);if(c.type!==r&&c.type!==o||(n=a),c.type!==r&&c.type!==o&&c.type!==i)break}return n};function ao(e){var t=e.selection,n=io(t.$to,e.doc.type.schema.nodes);return e=function(e,t,n,r){var o=r.doc.type.schema.nodes.listItem,i=!1;return r.doc.nodesBetween(e,t,(function(t,a){if(!i&&t.type===o&&a>e){i=!0;for(var c=n+3;c>n+2;){var s=r.doc.resolve(r.mapping.map(a));c=s.depth;var u=r.doc.resolve(r.mapping.map(a+t.textContent.length)),l=new g.TextSelection(s,u);r=mr(l,r)}}})),r}(t.$to.pos,t.$to.end(n),n||0,e),t instanceof g.NodeSelection||t instanceof rn.WD?function(e,t){var n=e.from,r=t.doc.type.schema.nodes.listItem,o=t.mapping.map(n),i=t.doc.nodeAt(o),a=t.doc.resolve(o);if((null==a?void 0:a.parent.type)!==r)return t;var c=t.doc.resolve(o+((null==i?void 0:i.nodeSize)||1)),s=a.blockRange(c);if(s){var u=hr(a);t.lift(s,u)}return t}(t,e):function(e,t){var n=e.from,r=e.to,o=t.doc.type.schema.nodes.paragraph,i=[];t.doc.nodesBetween(n,r,(function(e,t){e.type===o&&i.push({node:e,pos:t})}));for(var a=i.length-1;a>=0;a--){var c=i[a],s=t.doc.resolve(t.mapping.map(c.pos));if(s.depth>0){var u=void 0;u=c.node.textContent&&c.node.textContent.length>0?t.doc.resolve(t.mapping.map(c.pos+c.node.textContent.length)):t.doc.resolve(t.mapping.map(c.pos+1));var l=s.blockRange(u);l&&t.lift(l,hr(s))}}return t}(t,e)}function co(e,t){return function(n,r){var o=n.tr,i=yn(o),a=n.schema.nodes[t],c="bulletList"===t?p.VJ.FORMAT_LIST_BULLET:p.VJ.FORMAT_LIST_NUMBER;if(i){var s=n.selection,u=s instanceof rn.WD||s instanceof g.NodeSelection?1:2,l=s.$from.node(s.$from.depth-u),d=s.$to.node(s.$to.depth-u),f="bulletList"===i.type.name?p.VJ.FORMAT_LIST_BULLET:p.VJ.FORMAT_LIST_NUMBER;if((null==l?void 0:l.type.name)===t&&(null==d?void 0:d.type.name)===t){var h=n.tr;return ao(h),(0,At.Gs)(n,h,{action:p.om.CONVERTED,actionSubject:p.Wt.LIST,actionSubjectId:p.VJ.TEXT,eventType:p.Ze.TRACK,attributes:no(no({},Or(n)),{},{transformedFrom:f,inputMethod:e})}),r&&r(h),!0}!function(e){var t,n=e.tr,r=e.nextListNodeType,o=n.doc,i=n.selection,a=i.$from,c=i.$to;if(n.selection instanceof rn.WD){var s,u=(null===(s=a.nodeAfter)||void 0===s?void 0:s.nodeSize)||1;t=a.blockRange(a.doc.resolve(a.pos+u))}else t=a.blockRange(c,an);if(t)return Br({tr:n,nextListNodeType:r});var l=a.blockRange(c);if(l){var d=l.parent,p=l.startIndex,f=l.endIndex,h=l.depth;if(!Nr(a))for(var v=p;v<f;v++){var m=l.$from.posAtIndex(v,h),g=o.resolve(m),y=d.child(v),b=g.blockRange(n.doc.resolve(m+y.nodeSize));if(b&&!an(y)&&!(0,nn.nd)(b,r))return}n.doc.nodesBetween(l.start,l.end,(function(e,t){if(Nr(n.doc.resolve(n.mapping.map(t))))return!1;var o=e;if(!((0,cr.bG)(o)||e.type.isBlock&&"paragraph"!==e.type.name)&&l){var i=new on.NodeRange(n.doc.resolve(n.mapping.map(t)),n.doc.resolve(n.mapping.map(t)+o.nodeSize),l.depth);return zr({tr:n,nextListNodeType:r,nodeRange:i}),!1}})),Br({tr:n,nextListNodeType:r}),n.docChanged&&dn({tr:n,forceListType:r})}}({tr:o,nextListNodeType:a}),(0,At.Gs)(n,o,{action:p.om.CONVERTED,actionSubject:p.Wt.LIST,actionSubjectId:c,eventType:p.Ze.TRACK,attributes:no(no({},Or(n)),{},{transformedFrom:f,inputMethod:e})})}else gt(o,a),Vr(a,o),(0,At.Gs)(n,o,{action:p.om.INSERTED,actionSubject:p.Wt.LIST,actionSubjectId:c,eventType:p.Ze.TRACK,attributes:{inputMethod:e}});return!!o.docChanged&&(r&&r(o),!0)}}var so=function(e,t){var n=e.selection.$from,r=e.schema.nodes.listItem,o=(0,_t.kk)(n);if(!o||!o.nodeBefore||o.nodeBefore.type!==r)return!1;if(1===o.nodeBefore.childCount&&o.nodeBefore.firstChild.nodeSize<=2){var i=e.tr;return t&&t(i.delete(o.pos-o.nodeBefore.nodeSize,n.pos).scrollIntoView()),!0}return!1},uo=function(e,t){var n=e.selection.$from,r=e.schema.nodes,o=r.paragraph,i=r.listItem,a=r.codeBlock,c=r.bulletList,s=r.orderedList,u=e.selection instanceof rn.WD,l=u?e.doc.resolve(n.pos+1):n,d=(0,_t.kk)(l);if(!d)return!1;if(d.nodeBefore&&[c,s].indexOf(d.nodeBefore.type)>-1&&d.nodeAfter&&(d.nodeAfter.type===o||d.nodeAfter.type===a)){for(var p=d.doc.resolve(d.pos-1);p.parent.type!==o;)p=e.doc.resolve(p.pos-1);var f=e.tr;if(u){var h=(0,W.Ez)(f.selection);if("number"!=typeof h)return!1;var v=d.nodeBefore.copy(d.nodeBefore.content.append(on.Fragment.from(i.createChecked({},d.nodeAfter))));f.replaceWith(h,n.pos+d.nodeAfter.nodeSize,v)}else{var m=function(e){var t,n=e.insertPosition,r=e.$target,o=n,i=r.pos+((null===(t=r.nodeAfter)||void 0===t?void 0:t.nodeSize)||0),a=r.posAtIndex(0,r.depth+1),c=r.doc.resolve(a).end();return c-a==0?new nn.Pu(o,i,r.doc.slice(n,r.pos)):new nn.FC(o,i,a,c,r.doc.slice(n,r.pos),0,!0)}({insertPosition:p.pos,$target:d});if(e.tr.maybeStep(m).failed)return!1;f=e.tr.step(m)}var y,b=f.doc.resolve(f.mapping.map(d.pos+d.nodeAfter.nodeSize));if(b.nodeBefore&&b.nodeAfter&&b.nodeBefore.type===b.nodeAfter.type&&[c,s].indexOf(b.nodeBefore.type)>-1&&(f=f.join(b.pos)),t)null!==(y=f.doc.resolve(p.pos).nodeBefore)&&void 0!==y&&y.isBlock&&null!==f.doc.resolve(p.pos).nodeBefore||(f=f.setSelection(g.TextSelection.near(f.doc.resolve(f.mapping.map(d.pos)),-1))),t(f.scrollIntoView());return!0}return!1},lo=function(e){var t=e.selection,n=kn({selection:t,doc:e.doc}),r=n.$from,o=n.$to,i=po({selection:n});if(!i)return!1;var a={from:jr(r),to:jr(o)};if(null===a.from||null===a.to)return null;var c=e.doc.resolve(a.from.pos),s=c.index(),u=c.posAtIndex(s-1),l=e.doc.nodeAt(u);if(!l||!sn(l))return null;if(sn(l)&&0===s)return null;var d=i.parent,p=an(l.lastChild)?l.lastChild:null,f=p?p.type:d.type,h=a.to.node.lastChild,v=h&&an(h)?h.nodeSize:0,m=a.from.pos,g=a.to.pos+a.to.node.nodeSize-v,y=ho({tr:e,listNodeType:f,range:i,from:m,to:g}),b=(0,sr.Z)(y,2),w=b[0],k=b[1],E=Boolean(p),x=m-1;e.replaceRange(E?x-1:x,i.end,w);var O=e.mapping.map(g)-2;0===k.openStart?e.insert(O,k.content):e.replace(O-k.openStart,O-k.openStart,k);var S=fo({originalSelection:t,normalizedSelection:n,tr:e,hasPreviousNestedList:E});e.setSelection(S)},po=function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.blockRange(r,an);return o||null},fo=function(e){var t=e.tr,n=e.normalizedSelection,r=e.originalSelection,o=e.hasPreviousNestedList?2:0,i=n.$from,a=n.$to;if(n instanceof rn.WD){var c=t.doc.resolve(i.pos-o);return new rn.WD(c,n.side)}if(r instanceof g.NodeSelection)return g.NodeSelection.create(t.doc,i.pos-o);var s=g.Selection.near(t.doc.resolve(i.pos-o)).$from,u=g.Selection.near(t.doc.resolve(a.pos-o),-1).$to;return new g.TextSelection(s,u)},ho=function(e){var t=e.tr,n=e.from,r=e.to,o=e.listNodeType,i=e.range,a=t.doc.slice(n,r-2),c=on.Fragment.from(o.create(null,a.content)),s=t.doc.slice(r,i.end-2),u=t.doc.slice(n-1,i.end).openStart;return[new on.Slice(c,u,0),s]},vo=6;function mo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Jq.KEYBOARD;return function(t,n){var r=t.tr,o=t.selection.$from;if(!vn(t))return!1;(0,qn.SJ)(r);var i=wn(o),a=Nr(o);if(!a||i&&0===i.indentLevel&&0===i.itemIndex)return!mn(t);var c=un(a.node)?p.VJ.FORMAT_LIST_BULLET:p.VJ.FORMAT_LIST_NUMBER;return lo(r),!vr({tr:r,maxIndentation:vo})||!r.docChanged||((0,At.Gs)(t,r,{action:p.om.INDENTED,actionSubject:p.Wt.LIST,actionSubjectId:c,eventType:p.Ze.TRACK,attributes:go(go({},Or(t)),{},{inputMethod:e})}),n&&n(r),!0)}}const bo=function(e){var t={};return Re.E4(Re.c1(Re.JL),co(p.Jq.KEYBOARD,"orderedList"),t),Re.E4(Re.c1(Re._X),co(p.Jq.KEYBOARD,"bulletList"),t),Re.E4(Re.eE.common,yo(p.Jq.KEYBOARD),t),Re.E4(Re.Oh.common,eo(p.Jq.KEYBOARD,e),t),Re.E4(Re.IO.common,ro(e),t),Re.E4(Re.as.common,function(e){return function(t,n){return ar.QF(Pr,(0,_t.hX)([_t.Di,_t.Rd,vn],ar.QF(so,eo(p.Jq.KEYBOARD,e))),(0,_t.hX)([_t.Di,gn],uo))(t,n)}}(e),t),Re.E4(Re.L2.common,oo,t),Re.E4(Re.xd(Re.Vq),oo,t),(0,it.h)(t)};var wo=n(18041),ko=n(59740),Eo=n(89028),xo=n.n(Eo),Oo=["level"],So=xo()({loader:function(){return n.e(8561).then(n.bind(n,60992)).then((function(e){return e.default}))},loading:function(){return null}}),Co=xo()({loader:function(){return n.e(6982).then(n.bind(n,70918)).then((function(e){return e.default}))},loading:function(){return null}}),To=xo()({loader:function(){return n.e(9225).then(n.bind(n,96847)).then((function(e){return e.default}))},loading:function(){return null}}),Ao=xo()({loader:function(){return n.e(3597).then(n.bind(n,79035)).then((function(e){return e.default}))},loading:function(){return null}}),_o=xo()({loader:function(){return n.e(8892).then(n.bind(n,84085)).then((function(e){return e.default}))},loading:function(){return null}}),Po=xo()({loader:function(){return n.e(8215).then(n.bind(n,44124)).then((function(e){return e.default}))},loading:function(){return null}}),Do=xo()({loader:function(){return n.e(1278).then(n.bind(n,52716)).then((function(e){return e.default}))},loading:function(){return null}}),Zo=xo()({loader:function(){return n.e(5055).then(n.bind(n,45491)).then((function(e){return e.default}))},loading:function(){return null}}),Io=xo()({loader:function(){return n.e(848).then(n.bind(n,17853)).then((function(e){return e.default}))},loading:function(){return null}}),Lo=xo()({loader:function(){return n.e(9079).then(n.bind(n,87652)).then((function(e){return e.default}))},loading:function(){return null}}),Mo=xo()({loader:function(){return n.e(2952).then(n.bind(n,74450)).then((function(e){return e.default}))},loading:function(){return null}}),Ro=xo()({loader:function(){return n.e(2299).then(n.bind(n,79178)).then((function(e){return e.default}))},loading:function(){return null}}),No=xo()({loader:function(){return n.e(9802).then(n.bind(n,80086)).then((function(e){return e.default}))},loading:function(){return null}}),jo=xo()({loader:function(){return n.e(4327).then(n.bind(n,60275)).then((function(e){return e.default}))},loading:function(){return null}}),Fo=xo()({loader:function(){return n.e(5479).then(n.bind(n,49938)).then((function(e){return e.default}))},loading:function(){return null}}),Bo=xo()({loader:function(){return n.e(3518).then(n.bind(n,16470)).then((function(e){return e.default}))},loading:function(){return null}}),zo=xo()({loader:function(){return n.e(4728).then(n.bind(n,94713)).then((function(e){return e.default}))},loading:function(){return null}}),Uo=xo()({loader:function(){return n.e(8713).then(n.bind(n,45028)).then((function(e){return e.default}))},loading:function(){return null}}),Vo=xo()({loader:function(){return n.e(7322).then(n.bind(n,73992)).then((function(e){return e.default}))},loading:function(){return null}});var Ho=function(e){var t=e.level,r=(0,ko.Z)(e,Oo),o=xo()({loader:function(){return function(e){switch(e){case 1:return n.e(773).then(n.bind(n,17964));case 2:return n.e(4056).then(n.bind(n,91950));case 3:return n.e(4255).then(n.bind(n,12010));case 4:return n.e(5204).then(n.bind(n,38710));case 5:return n.e(4218).then(n.bind(n,3426));default:return n.e(4536).then(n.bind(n,19032))}}(t).then((function(e){return e.default}))},loading:function(){return null}});return Z.createElement(o,r)},Wo=xo()({loader:function(){return n.e(1807).then(n.bind(n,62070)).then((function(e){return e.default}))},loading:function(){return null}}),Go=xo()({loader:function(){return n.e(6166).then(n.bind(n,98293)).then((function(e){return e.default}))},loading:function(){return null}});const qo=function(e,t){var n=(null==t?void 0:t.dependencies.featureFlags.sharedState.currentState())||{};return{name:"list",nodes:function(){return[{name:"bulletList",node:Xt.i},{name:"orderedList",node:null!=e&&e.restartNumberedLists?Qt.AG:Qt.dq},{name:"listItem",node:en.q}]},pmPlugins:function(){return[{name:"list",plugin:function(e){return function(e,t){var n=(0,On.H)(Dn,(function(e){return e}),{onDocChanged:Mn(t),onSelectionChanged:Rn}),r=n.getPluginState,o=n.createPluginState;return new u.J({state:o(e,Nn(t)),key:Dn,props:{decorations:function(e){return r(e).decorationSet},handleClick:function(e,t,n){var r=e.state;if(["LI","UL"].includes((null==n?void 0:n.target).tagName)){var o,i,a,c=r.tr.doc.nodeAt(t),s=e.state.schema.nodes,u=s.listItem,l=s.codeBlock;if((null==c?void 0:c.type)===u&&(null==c||null===(o=c.firstChild)||void 0===o?void 0:o.type)===l)if(Boolean(null===(i=document)||void 0===i||null===(a=i.elementFromPoint(n.clientX+(Cn.cm+50),n.clientY))||void 0===a?void 0:a.closest(".".concat(Tn.zq.CODEBLOCK_CONTAINER))))return(0,Sn.iI)(e,t+1,rn.MF.LEFT),!0}return!1}}})}(e.dispatch,n)}},{name:"listInputRule",plugin:function(e){return function(e,t){var n=e.nodes,r=n.bulletList,o=n.orderedList,i=[];r&&i.push(ir({expression:/^\s*([\*\-\u2022]) $/,listType:r,featureFlags:t}));var a=null!=t&&t.restartNumberedLists?/((^[1-9]{1}[0-9]{0,2})|^(0))[\.\)] $/:/^(1)[\.\)] $/;if(o&&i.push(ir({expression:a,listType:o,featureFlags:t})),0!==i.length)return Xn("lists",i)}(e.schema,e.featureFlags)}},{name:"listKeymap",plugin:function(){return bo(n)}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"unorderedList",title:t(wo.s.unorderedList),description:t(wo.s.unorderedListDescription),keywords:["ul","unordered"],priority:1100,keyshortcut:(0,Re.Md)(Re._X),icon:function(){return Z.createElement(Mo,null)},action:function(e,t){var n=e(t.schema.nodes.bulletList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return(0,At.Gs)(t,n,{action:p.om.INSERTED,actionSubject:p.Wt.LIST,actionSubjectId:p.VJ.FORMAT_LIST_BULLET,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.QUICK_INSERT}})}},{id:"orderedList",title:t(wo.s.orderedList),description:t(wo.s.orderedListDescription),keywords:["ol","ordered"],priority:1200,keyshortcut:(0,Re.Md)(Re.JL),icon:function(){return Z.createElement(Lo,null)},action:function(e,t){var n=e(t.schema.nodes.orderedList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return(0,At.Gs)(t,n,{action:p.om.INSERTED,actionSubject:p.Wt.LIST,actionSubjectId:p.VJ.FORMAT_LIST_NUMBER,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.QUICK_INSERT}})}}]}}}};var Ko,$o=n(21e3),Jo=n(57844);!function(e){e.Before="before",e.After="after"}(Ko||(Ko={}));var Yo=function(e,t){return t.resolve(e.after()).node().lastChild===e.node()},Xo=function(e,t){return t.resolve(e.before()).node().firstChild===e.node()},Qo=function(e){var t=e.doc.type.schema.nodes;return(0,W.bw)([t.orderedList,t.bulletList])(e.selection)},ei=function(e,t,n,r,o){return Xo(r,e.doc)&&t===Ko.Before||Yo(r,e.doc)&&t===Ko.After?e.insert(n[t](),o):e.insert(r[t](),o)},ti=function(e,t){return function(n){var r,o=n.doc.type.schema.nodes,i=[o.rule,o.mediaSingle];if(e instanceof on.Fragment||!i.includes(e.type))return null;if(!n.selection.empty||(0,W.EG)(n.selection))return null;var a,c=n.selection.$from,s=t?n.doc.resolve(t):(0,W.EG)(n.selection)?n.doc.resolve(c.pos+1):c,u=s.end(),l=s.start();(0,cr.bG)(s.parent)?Yo(s,n.doc)?a=Ko.After:Xo(s,n.doc)&&(a=Ko.Before):s.pos===u?a=Ko.After:s.pos===l&&(a=Ko.Before);var d=null===(r=n.selection.$from.node(-1))||void 0===r?void 0:r.type,p=n.selection.$from.parent.type,f=!a&&!oi({parentNodeType:p,grandParentNodeType:d,content:e}),h=e.type===o.rule&&function(e){var t=e.doc.type.schema.nodes,n=(0,W.Tr)([t.orderedList,t.bulletList])(e.selection);return!!n&&sn(e.doc.resolve(n.pos).parent)}(n),v=!(e.type===o.rule)&&Qo(n);if(h||f&&v||f&&!Qo(n))return(0,W.Z3)(e,n.selection.from)(n);var m=n.selection,y=m.from,b=m.to;if(e.type===o.rule&&Qo(n)&&s.pos!==u)return n.replaceRange(y,b,new on.Slice(on.Fragment.from(o.rule.createChecked()),0,0));if(!a)return null;if((0,cr.bG)(s.parent)&&(0,W.om)(n.doc.resolve(s[a]()),e))return ni(n.replaceWith(s.before(),s.after(),e),-1);for(var w,k,E=s;E.depth>0;){var x=n.doc.resolve(E[a]()),O=x.node();if((0,W.om)(E,e))return ni(n.insert(E.pos,e),e.nodeSize);if(w=O.type,[(k=n.doc.type.schema.nodes).bulletList,k.orderedList,k.panel].includes(w)){var S=ni(ei(n,a,x,E,e),e.nodeSize);return[o.orderedList,o.bulletList].includes(O.type)&&S?S.setSelection(g.TextSelection.between(S.selection.$from,S.selection.$from)):S}E=x}return ni(n.insert(E.pos,e),e.nodeSize)}},ni=function(e,t){var n=e.steps[e.steps.length-1];if(!(n instanceof nn.Pu||n instanceof nn.FC))return null;var r=n.to+n.slice.openStart+t;return e.setSelection(new rn.WD(e.doc.resolve(r),rn.MF.RIGHT)).scrollIntoView()},ri=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,o){if(!e)return r;var i,a=e instanceof on.Fragment;try{i=e instanceof on.Node||a?e:"string"==typeof e?n.schema.text(e):on.Node.fromJSON(n.schema,e)}catch(e){return console.error(e),r}if(i.isText)r=r.replaceWith(o,o,i);else if(i.isBlock){var c,s=function(e){var t=e.doc.type.schema.nodes;return(0,W.bw)(t.panel)(e.selection)}(r);if("rule"!==i.type.name||s)r=(0,W.Z3)((0,Sn.vU)(n,i),void 0,!0)(r);else r=null!==(c=ti(i,r.selection.from)(r))&&void 0!==c?c:r}else if(i.isInline||a){var u=a?i:on.Fragment.fromArray([i,n.schema.text(" ")]);r=r.replaceWith(o,o,u),r=t.selectInlineNode?r.setSelection(g.NodeSelection.create(r.doc,o)):r.setSelection(g.Selection.near(r.doc.resolve(o+u.size)))}return r}},oi=function(e){var t=e.parentNodeType,n=e.grandParentNodeType,r=e.content;return!!("doc"===t.name||"paragraph"===t.name&&n.validContent(on.Fragment.from(r)))},ii=function(e,t,n,r,o){if(!e.selection.empty)return null;var i=null,a=e.schema.nodes.rule;return t.newInsertionBehaviour&&(i=e.tr.replaceWith(n,r,on.Fragment.empty),i=ti(a.createChecked(),i.selection.from)(i)),i||(i=e.tr.replaceRange(n,r,new on.Slice(on.Fragment.from(e.schema.nodes.rule.createChecked()),0,0))),(0,At.Gs)(e,i,{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.DIVIDER,attributes:{inputMethod:o},eventType:p.Ze.TRACK})},ai=function(e,t,n,r){var o=e.schema.nodes.listItem;return(0,W.bw)(o)(e.selection)?null:ii(e,t,n,r,p.Jq.FORMATTING)};const ci=function(e,t){var n=[];if(e.nodes.rule&&(n.push(Yn(/^(\-\-\-|\*\*\*)$/,(function(e,n,r,o){return ai(e,t,r,o)}))),n.push(Yn(new RegExp("".concat(jn,"(\\-\\-\\-|\\*\\*\\*)")),(function(e,n,r,o){var i=e.schema.nodes.hardBreak;return e.doc.resolve(r).nodeAfter.type!==i?null:ai(e,t,r,o)})))),0!==n.length)return Xn("rule",n,{isBlockNodeRule:!0})};var si=function(e,t){return function(n,r){var o=ii(n,t,n.selection.from,n.selection.to,e);return!!o&&(r&&r(o),!0)}};const ui=function(e){var t={};return Re.E4(Re.SG.common,si(p.Jq.SHORTCUT,e),t),Re.E4(Re.YU.common,(function(){return!0}),t),(0,it.h)(t)};const li=function(e,t){var n,r,o=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"rule",nodes:function(){return[{name:"rule",node:$o.j}]},pmPlugins:function(){return[{name:"ruleInputRule",plugin:function(e){var t=e.schema;return ci(t,o)}},{name:"ruleKeymap",plugin:function(){return ui(o)}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"rule",title:t(Jo.S.horizontalRule),description:t(Jo.S.horizontalRuleDescription),keywords:["horizontal","rule","line","hr"],priority:1200,keyshortcut:"---",icon:function(){return Z.createElement(_o,null)},action:function(e,t){var n=e(t.schema.nodes.rule.createChecked());return(0,At.Gs)(t,n,{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.DIVIDER,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.TRACK})}}]}}}};var di=n(19757),pi=n(54718),fi=n(14409),hi=n(89293),vi=n(98643);function mi(e){return(0,vi.u)(e,"cell")?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:(0,vi.u)(e,"node")&&"cell"===e.node.type.spec.tableRole?e.$anchor:(0,hi.m9)(e.$head)||(0,hi.Zm)(e.$head)}function gi(e){var t=e.selection,n=mi(t);if(!n)throw new Error("selectedRect: invalid $pos for selection");var r,o=n.node(-1),i=n.start(-1),a=fi.rU.get(o);return(r=t instanceof be.X?a.rectBetween(t.$anchorCell.pos-i,t.$headCell.pos-i):a.findCell(n.pos-i)).tableStart=i,r.map=a,r.table=o,r}var yi,bi=function(e,t){if(!t)return!1;for(var n=e.depth+1;n>0;n--){var r=e.node(n);if(r&&r.eq(t.node))break;if(n>1&&e.before(n)!==e.before(n-1)+1)return!1}return!0},wi=function(e,t){if(!t)return!1;for(var n=e.depth+1;n>0;n--){var r=e.node(n);if(r&&r.eq(t.node))break;if(n>1&&e.after(n)!==e.after(n-1)-1)return!1}return!0},ki=n(8209),Ei=new g.PluginKey("selection");function xi(e,t,n){return function(r,o,i,a,c,s){if(n.useLongPressSelection)return!1;if(s&&-1!==e.indexOf(i.type.name)&&c.target){var u=c.target;if(t(u)){var l=n.getNodeSelectionPos?n.getNodeSelectionPos(r.state,a):a;return(0,_t.UG)(l)(r.state,r.dispatch),!0}}return!1}}!function(e){e[e.Before=-1]="Before",e[e.After=1]="After"}(yi||(yi={}));var Oi=function(e){if(e.selection instanceof g.NodeSelection)return tn.EH.create(e.doc,[tn.p.node(e.selection.from,e.selection.to,{class:ue.ur})]);if(e.selection instanceof g.TextSelection||e.selection instanceof g.AllSelection){var t=_i(e.selection,e.doc).map((function(e){var t=e.node,n=e.pos;return tn.p.node(n,n+t.nodeSize,{class:ue.ur})}));return tn.EH.create(e.doc,t)}return tn.EH.empty};function Si(e){if(e instanceof g.NodeSelection)return{action:p.om.SELECTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.NODE,eventType:p.Ze.TRACK,attributes:{node:e.node.type.name}}}function Ci(e){if(e instanceof g.AllSelection)return{action:p.om.SELECTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.ALL,eventType:p.Ze.TRACK}}function Ti(e){if(e.selection instanceof be.X){var t=gi(e),n=t.map.cellsInRect(t).length,r=t.map.map.length;return{action:p.om.SELECTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.CELL,eventType:p.Ze.TRACK,attributes:{selectedCells:n,totalCells:r}}}}var Ai=["table","panel","expand","layoutSection","decisionList","decisionItem","codeBlock"],_i=function(e,t){var n=[];if(e.from!==e.to){var r=e.from,o=e.to;t.nodesBetween(r,o,(function(e,t){var i=r<=t&&t+e.nodeSize<=o,a=Ai.includes(e.type.name);return e&&i&&a?(n.push({node:e,pos:t}),!1):(e&&i&&!e.isText&&n.push({node:e,pos:t}),!0)}))}return n};function Pi(e,t){if(e instanceof g.TextSelection&&e.from!==e.to){var n=e.from,r=e.to,o=e.anchor,i=e.head,a=[];return t.nodesBetween(n,r,(function(e,t){if(e.isText||t>=n&&t+e.nodeSize<=r)return a.push(e.type.name),!1})),{action:p.om.SELECTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.RANGE,eventType:p.Ze.TRACK,attributes:{from:o,to:i,nodes:a}}}}function Di(e){var t=e.oldEditorState,n=e.newEditorState,r=t.selection,o=n.selection,i=Ei.getState(t),a=Ei.getState(n);if(!i||!a)return!1;if(r.eq(o)){if(r instanceof g.NodeSelection&&o instanceof g.NodeSelection){var c=i.decorationSet.find(),s=a.decorationSet.find();return c.length>0&&s.length>0?!c[0].eq(s[0]):!(0===c.length&&0===s.length)}return!1}return!(r instanceof g.TextSelection&&o instanceof g.TextSelection&&r.from===r.to&&o.from===o.to)}var Zi=function(e){return!(!e||e.isAtom||!g.NodeSelection.isSelectable(e))},Ii=function(e){return!(!e||!(e.isText||(0,cr.bG)(e)||g.NodeSelection.isSelectable(e)))},Li=function(e){var t=!1,n=(0,W.Kk)((function(e){var n=Zi(e);return n||(0,ki.W)(e)||(t=!0),n}))(e);if(!t)return n},Mi=function(e,t){e.parent.inlineContent&&Zi(e.parent)&&(e=t.resolve(e.start()-1));var n=g.Selection.findFrom(e,-1);if(n){for(var r=t.resolve(n.from),o=e.depth+1;o<=r.depth;o++){var i=r.node(o);if(Zi(i))return{node:i,pos:r.start(o)-1};if(o>e.depth+1&&!(0,ki.W)(i))return}if(n instanceof g.NodeSelection&&g.NodeSelection.isSelectable(n.node))return{node:n.node,pos:n.from}}},Ri=function(e,t){var n=g.Selection.findFrom(e,1);if(n)for(var r=t.resolve(n.from),o=e.depth+1;o<=r.depth;o++){var i=r.node(o);if(Zi(i))return{node:i,pos:r.start(o)-1};if(o>e.depth+1&&!(0,ki.W)(i))return}},Ni=function(e,t){return bi(e,Li(t))},ji=function(e,t){return wi(e,Li(t))},Fi=n(28316),Bi=n(95834),zi=n(73254),Ui=n(76147),Vi=n(86779),Hi=n(64586),Wi=["buttonStyles"];function Gi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gi(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ki(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var $i,Ji=function(e){var t=e.label,n=e.allowInteractiveExpand,r=(0,Z.useCallback)((function(t,n){var r=t(n),o=r.buttonStyles,i=(0,ko.Z)(r,Wi);return qi({buttonStyles:qi(qi({},o),{},{height:"100%","& svg":{transform:e.expanded?"transform: rotate(90deg);":"transform: rotate(0deg);",transition:"transform 0.2s ".concat(ue.Y3,";")}})},i)}),[e]);return(0,U.tZ)(Bi.Z,{appearance:"subtle",className:Hi.K.iconContainer,iconBefore:(0,U.tZ)(Ui.Z,{label:t}),shouldFitContainer:!0,theme:r,isDisabled:!n})},Yi=($i=Ji,function(e){(0,j.Z)(n,e);var t=Ki(n);function n(e){return(0,P.Z)(this,n),t.call(this,e)}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props.label;return(0,U.tZ)(Vi.Z,{content:e,position:"top",tag:zi.DJ},(0,U.tZ)($i,this.props))}}]),n}(Z.Component)),Xi=Ji,Qi=function(e){var t=e.expanded,n=e.intl,r=t?zi.sY.collapseNode:zi.sY.expandNode,o=n&&n.formatMessage(r)||r.defaultMessage,i=!(!!window.matchMedia&&window.matchMedia("(any-hover: hover)").matches!==window.matchMedia("(any-hover: none)").matches)||window.matchMedia("(any-hover: hover)").matches;return e.allowInteractiveExpand&&i?(0,U.tZ)(Yi,(0,Lt.Z)({label:o},e)):(0,U.tZ)("div",{css:zi.AS},(0,U.tZ)(Xi,(0,Lt.Z)({label:o},e)))},ea=n(16453),ta=n(79155),na=n(52304),ra=n(30850),oa=function(e,t){var n=e.schema.nodes,r=n.expand,o=n.nestedExpand;return(0,W.a1)([r,o])(t||e.selection)||(0,W.Tr)([r,o])(t||e.selection)};function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ca=new g.PluginKey("expandPlugin"),sa=(0,On.H)(ca,(function(e,t){return"SET_EXPAND_REF"===t.type?aa(aa({},e),{},{expandRef:t.data.ref}):e})),ua=sa.createPluginState,la=sa.createCommand,da=sa.getPluginState;function pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ha,va,ma=function(e,t){return function(n,r){if(!t||isNaN(e))return!1;var o={action:p.om.DELETED,actionSubject:t.type===n.schema.nodes.expand?p.Wt.EXPAND:p.Wt.NESTED_EXPAND,attributes:{inputMethod:p.Jq.TOOLBAR},eventType:p.Ze.TRACK};return t&&r&&r((0,At.Gs)(n,n.tr.delete(e,e+t.nodeSize),o)),!0}},ga=function(){return function(e,t){var n=oa(e);return!!n&&ma(n.pos,n.node)(e,t)}},ya=function(e,t){return function(n,r){var o=n.doc.nodeAt(e);if(o&&o.type===t&&r){var i=n.tr,a=!o.attrs.__expanded;i.setNodeMarkup(e,o.type,fa(fa({},o.attrs),{},{__expanded:a}),o.marks),!1===a&&oa(n)&&i.setSelection(new rn.WD(i.doc.resolve(e+o.nodeSize),rn.MF.RIGHT));var c={action:p.om.TOGGLE_EXPAND,actionSubject:t===n.schema.nodes.expand?p.Wt.EXPAND:p.Wt.NESTED_EXPAND,attributes:{platform:ra.VT.WEB,mode:ra.IK.EDITOR,expanded:a},eventType:p.Ze.TRACK};r((0,At.Gs)(n,i.setMeta("isRemote",!0),c))}return!0}},ba=function(e){var t=e.schema.nodes,n=t.expand,r=t.nestedExpand;return((0,na.AG)(e.selection)?r:n).createAndFill({})},wa=function(e){return function(t,n,r){if(r){var o=r.domAtPos(e).node.parentElement;if(o){ka(t,n,r);var i=o.querySelector("input");if(i)return i.focus(),!0}}return!1}},ka=function(e,t,n){var r=e.tr,o=e.doc,i=e.selection;return n&&!n.hasFocus()&&n.focus(),t&&t(r.setSelection(g.TextSelection.create(o,i.from))),!0},Ea=n(26305);function xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sa(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.Before="Before",e.Start="Start",e.Inside="Inside",e.End="End"}(ha||(ha={})),function(e){e.SET_DECORATIONS="SET_DECORATIONS",e.SET_RELATIVE_SELECTION="SET_RELATIVE_SELECTION"}(va||(va={}));var Ta=(0,On.H)(Ei,(function(e,t){switch(t.type){case va.SET_DECORATIONS:return Oa(Oa({},e),{},{decorationSet:t.decorationSet,selection:t.selection});case va.SET_RELATIVE_SELECTION:return Oa(Oa({},e),{},{selectionRelativeToNode:t.selectionRelativeToNode});default:return e}}),{onDocChanged:function(e,t){try{if(0===t.decorationSet.find().length&&(!e.selectionSet||0===Oi(e).find().length))return t;var n=t.decorationSet.map(e.mapping,e.doc);return Ca(Ca({},t),{},{decorationSet:n})}catch(e){return Ca(Ca({},t),{},{decorationSet:tn.EH.empty})}},onSelectionChanged:function(e,t){return(e.selection instanceof g.NodeSelection&&Zi(e.selection.node)||e.selection instanceof be.X)&&!e.getMeta(Ei)?Ca(Ca({},t),{},{selectionRelativeToNode:void 0}):t}}),Aa=Ta.createCommand,_a=Ta.getPluginState,Pa=Ta.createPluginState,Da=function(e,t){return Aa({type:va.SET_RELATIVE_SELECTION,selectionRelativeToNode:e},(function(e){return t?e.setSelection(t):e}))},Za=function(e,t){var n=e.selection;return n instanceof rn.WD?La(n)(e,t):n instanceof g.NodeSelection?Ra(n)(e,t):n instanceof g.TextSelection&&ja(n)(e,t)},Ia=function(e,t){var n=e.selection;return n instanceof rn.WD?Ma(n)(e,t):n instanceof g.NodeSelection?Na(n)(e,t):n instanceof g.TextSelection&&Fa(n)(e,t)},La=function(e){return function(t,n){var r=e.$from,o=e.$to,i=e.side;if(i===rn.MF.LEFT){var a=Ri(o,t.doc);if(a)return Da(ha.Start,g.NodeSelection.create(t.doc,a.pos))(t,n)}else if(i===rn.MF.RIGHT&&ji(r,e)){var c=Li(e);if(c)return Da(ha.End,g.NodeSelection.create(t.doc,c.pos))(t,n)}return!1}},Ma=function(e){return function(t,n){var r=e.$from,o=e.side,i=_a(t).selectionRelativeToNode;if(o===rn.MF.RIGHT){var a=Mi(r,t.doc);if(a)return Da(ha.End,g.NodeSelection.create(t.doc,a.pos))(t,n)}else if(o===rn.MF.LEFT&&Ni(r,e))if(i===ha.Before){var c=t.doc.resolve(e.$from.before(e.$from.depth));if(c){var s=Mi(c,t.doc);if(s&&(0,ki.W)(s.node))return Da(ha.End,g.NodeSelection.create(t.doc,s.pos))(t,n)}Da()(t,n)}else{var u=Li(e);if(u)return Da(ha.Start,g.NodeSelection.create(t.doc,u.pos))(t,n)}return!1}},Ra=function(e){return function(t,n){var r=e.node,o=e.from,i=e.$to,a=_a(t).selectionRelativeToNode;if(r.isAtom)return!!ji(i,e)&&Ba(ha.End,t.doc.resolve(o+1),yi.After)(t,n);if(a===ha.Start)return za(ha.Inside,r,o)(t,n);if((0,ki.W)(r)&&(!a||a===ha.End)){var c=Ri(i,t.doc);if(c&&(0,ki.W)(c.node))return Da(ha.Start,g.NodeSelection.create(t.doc,c.pos))(t,n)}return!1}},Na=function(e){return function(t,n){var r=e.node,o=e.from,i=e.to,a=e.$from,c=_a(t).selectionRelativeToNode;if(r.isAtom)return!!Ni(a,e)&&Ba(ha.Start,t.doc.resolve(o),yi.Before)(t,n);if(c===ha.End)return Ua(ha.Inside,r,o,i)(t,n);if(!c||c===ha.Inside)return za(ha.Before,r,o)(t,n);if((0,ki.W)(r)&&c===ha.Start){var s=Mi(a,t.doc);if(s&&(0,ki.W)(s.node))return Da(ha.End,g.NodeSelection.create(t.doc,s.pos))(t,n)}return!1}},ja=function(e){return function(t,n){if(ji(e.$to,e)){var r=Li(e);if(r)return Da(ha.End,g.NodeSelection.create(t.doc,r.pos))(t,n)}return!1}},Fa=function(e){return function(t,n){if(_a(t).selectionRelativeToNode===ha.Before){var r=Mi(e.$from,t.doc);if(r&&(0,ki.W)(r.node))return Da(ha.End,g.NodeSelection.create(t.doc,r.pos))(t,n);Da(void 0)(t,n)}else if(Ni(e.$from,e)){var o=Li(e);if(o)return Da(ha.Start,g.NodeSelection.create(t.doc,o.pos))(t,n)}return!1}},Ba=function(e,t,n){return function(r,o){var i=g.Selection.findFrom(t,n,!0);return!!i&&Da(e,i)(r,o)}},za=function(e,t,n){return function(r,o){if((0,cr.bR)(t))return Ba(e,r.doc.resolve(n),yi.After)(r,o);var i=function(e){return(0,W.xH)(e).find((function(e){return Ii(e.node)||!(0,ki.W)(e.node)}))}(t);if(i){var a=i.node,c=i.pos,s=n+c+1;if(a.isText||a.isAtom)return Ba(e,r.doc.resolve(s),yi.Before)(r,o);if((0,cr.bG)(a))return Ba(e,r.doc.resolve(s+1),yi.Before)(r,o);if(!(0,ki.W)(t))return Da(e,new rn.WD(r.doc.resolve(s),rn.MF.LEFT))(r,o);if(Zi(t))return Da(e,g.NodeSelection.create(r.doc,s))(r,o)}return!1}},Ua=function(e,t,n,r){return function(o,i){if((0,cr.bR)(t))return Ba(e,o.doc.resolve(r),yi.Before)(o,i);var a=function(e){var t;if(e.descendants((function(e,n){if(Ii(e)||!(0,ki.W)(e))return t={node:e,pos:n},!1})),t)return t}(t);if(a){var c=a.node,s=a.pos,u=n+s+c.nodeSize;if(c.isText||c.isAtom)return Ba(e,o.doc.resolve(u+1),yi.After)(o,i);if((0,cr.bG)(c))return Ba(e,o.doc.resolve(u),yi.After)(o,i);if(!(0,ki.W)(t))return Da(e,new rn.WD(o.doc.resolve(u+1),rn.MF.RIGHT))(o,i);if(Zi(t))return Da(e,g.NodeSelection.create(o.doc,u))(o,i)}return!1}};var Va=function(){function e(t,n,r,i,a,c){var s=this;(0,P.Z)(this,e),(0,o.Z)(this,"allowInteractiveExpand",!0),(0,o.Z)(this,"isMobile",!1),(0,o.Z)(this,"focusTitle",(function(){if(s.input){var e=s.view,t=e.state,n=e.dispatch;Da(ha.Start)(t,n),ka(t,n,s.view),s.input.focus()}})),(0,o.Z)(this,"handleIconKeyDown",(function(e){switch((0,ea.YG)(e)){case"Tab":e.preventDefault(),s.focusTitle();break;case"Enter":e.preventDefault(),s.handleClick(e)}})),(0,o.Z)(this,"isAllowInteractiveExpandEnabled",(function(){return s.featureFlags&&!!s.featureFlags.interactiveExpand})),(0,o.Z)(this,"handleClick",(function(e){var t=e.target,n=s.view,r=n.state,o=n.dispatch;if((0,Ea.pE)(t,".".concat(Hi.K.icon))){if(!s.isAllowInteractiveExpandEnabled())return;return e.stopPropagation(),s.view.dom instanceof HTMLElement&&s.view.dom.blur(),void ya(s.getPos(),s.node.type)(r,o)}if(t===s.input)return e.stopPropagation(),void s.focusTitle()})),(0,o.Z)(this,"handleInput",(function(e){var t,n,r,o=e.target;if(o===s.input){e.stopPropagation();var i=s.view,a=i.state,c=i.dispatch;(t=o.value,n=s.getPos(),r=s.node.type,function(e,o){var i=e.doc.nodeAt(n);if(i&&i.type===r&&o){var a=e.tr;a.setNodeMarkup(n,i.type,fa(fa({},i.attrs),{},{title:t}),i.marks),o(a)}return!0})(a,c)}})),(0,o.Z)(this,"handleFocus",(function(e){e.stopImmediatePropagation()})),(0,o.Z)(this,"handleTitleKeydown",(function(e){switch((0,ea.YG)(e)){case"Enter":s.toggleExpand();break;case"Tab":case"ArrowDown":s.moveToOutsideOfTitle(e);break;case"ArrowRight":s.handleArrowRightFromTitle(e);break;case"ArrowLeft":s.handleArrowLeftFromTitle(e);break;case"ArrowUp":s.setLeftGapCursor(e);break;case"Backspace":s.deleteExpand(e)}})),(0,o.Z)(this,"deleteExpand",(function(e){if(s.input){var t=s.input,n=t.selectionStart;if(n===t.selectionEnd&&0===n){var r=s.view.state,o=s.node;o&&(0,ta.KI)(r.schema)(o)&&ma(s.getPos(),o)(r,s.view.dispatch)}}})),(0,o.Z)(this,"toggleExpand",(function(){if(s.isAllowInteractiveExpandEnabled()){var e=s.view,t=e.state,n=e.dispatch;ya(s.getPos(),s.node.type)(t,n)}})),(0,o.Z)(this,"moveToOutsideOfTitle",(function(e){e.preventDefault();var t=s.view,n=t.state,r=t.dispatch,o=s.getPos();if("number"==typeof o){var i=o;s.isCollapsed()&&(i=o+s.node.nodeSize);var a=n.doc.resolve(i);if(a){if(s.isCollapsed()&&a.nodeAfter&&["expand","nestedExpand"].indexOf(a.nodeAfter.type.name)>-1)return s.setRightGapCursor(e);var c=g.Selection.findFrom(a,1,!0);c&&(s.view.focus(),r(n.tr.setSelection(c)))}}})),(0,o.Z)(this,"isCollapsed",(function(){return!s.node.attrs.__expanded})),(0,o.Z)(this,"setRightGapCursor",(function(e){if(s.input){var t=s.input,n=t.value,r=t.selectionStart;if(r===t.selectionEnd&&r===n.length){var o=s.view,i=o.state,a=o.dispatch;e.preventDefault(),s.view.focus(),a(i.tr.setSelection(new rn.WD(i.doc.resolve(s.node.nodeSize+s.getPos()),rn.MF.RIGHT)))}}})),(0,o.Z)(this,"setLeftGapCursor",(function(e){if(s.input){var t=s.input,n=t.selectionStart;if(n===t.selectionEnd&&0===n){e.preventDefault();var r=s.view,o=r.state,i=r.dispatch;s.view.focus(),i(o.tr.setSelection(new rn.WD(o.doc.resolve(s.getPos()),rn.MF.LEFT)))}}})),(0,o.Z)(this,"handleArrowRightFromTitle",(function(e){if(s.input){var t=s.input,n=t.value,r=t.selectionStart;if(r===t.selectionEnd&&r===n.length){e.preventDefault();var o=s.view,i=o.state,a=o.dispatch;s.view.focus(),Da(ha.End,g.NodeSelection.create(i.doc,s.getPos()))(i,a)}}})),(0,o.Z)(this,"handleArrowLeftFromTitle",(function(e){if(s.input){var t=s.input,n=t.selectionStart;if(n===t.selectionEnd&&0===n){e.preventDefault();var r=s.view,o=r.state,i=r.dispatch;s.view.focus(),void 0===_a(o).selectionRelativeToNode?Da(void 0,new rn.WD(o.doc.resolve(s.getPos()),rn.MF.LEFT))(o,i):Da(ha.Start,g.NodeSelection.create(o.doc,s.getPos()))(o,i)}}})),this.intl=i();var u=on.DOMSerializer.renderSpec(document,function(e,t){return["div",{class:(n=e.type.name,r=e.attrs.__expanded,"".concat(Hi.K.prefix," ").concat(Hi.K.type(n)," ").concat(r?Hi.K.expanded:"")),"data-node-type":e.type.name,"data-title":e.attrs.title},["div",{class:Hi.K.titleContainer,contenteditable:"false",tabindex:"-1"},["div",{class:Hi.K.icon}],["div",{class:Hi.K.inputContainer},["input",{class:Hi.K.titleInput,value:e.attrs.title,placeholder:t&&t.formatMessage(zi.sY.expandPlaceholderText)||zi.sY.expandPlaceholderText.defaultMessage,type:"text"}]]],["div",{class:Hi.K.content},0]];var n,r}(t,this.intl)),l=u.dom,d=u.contentDOM;this.getPos=r,this.pos=r(),this.view=n,this.node=t,this.dom=l,this.contentDOM=d,this.isMobile=a,this.featureFlags=c,this.icon=this.dom.querySelector(".".concat(Hi.K.icon)),this.input=this.dom.querySelector(".".concat(Hi.K.titleInput)),this.titleContainer=this.dom.querySelector(".".concat(Hi.K.titleContainer)),this.content=this.dom.querySelector(".".concat(Hi.K.content)),this.renderIcon(this.intl),this.initHandlers()}return(0,D.Z)(e,[{key:"initHandlers",value:function(){this.dom&&(this.dom.addEventListener("click",this.handleClick),this.dom.addEventListener("input",this.handleInput)),this.input&&this.input.addEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.addEventListener("focus",this.handleFocus),this.icon&&this.icon.addEventListener("keydown",this.handleIconKeyDown)}},{key:"renderIcon",value:function(e,t){if(this.icon){var n=(t&&t.attrs||this.node.attrs).__expanded;Fi.render(Z.createElement(Qi,{intl:e,allowInteractiveExpand:this.isAllowInteractiveExpandEnabled(),expanded:n}),this.icon)}}},{key:"stopEvent",value:function(e){var t=e.target;return t===this.input||t===this.icon||!!(0,Ea.pE)(t,".".concat(Hi.K.icon))}},{key:"ignoreMutation",value:function(e){return(!this.isMobile||"characterData"!==e.type&&"childList"!==e.type)&&"selection"!==e.type}},{key:"update",value:function(e,t){var n=this;return this.node.type===e.type&&(this.node.attrs.__expanded!==e.attrs.__expanded&&(this.dom&&(this.dom.classList.toggle(Hi.K.expanded),this.renderIcon(this&&this.intl,e)),this.content&&this.content.setAttribute("contenteditable",e.attrs.__expanded)),window.requestAnimationFrame((function(){n.input&&n.node.attrs.title!==n.input.value&&(n.input.value=n.node.attrs.title)})),this.node=e,!0)}},{key:"destroy",value:function(){this.dom&&(this.dom.removeEventListener("click",this.handleClick),this.dom.removeEventListener("input",this.handleInput)),this.input&&this.input.removeEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.removeEventListener("focus",this.handleFocus),this.icon&&(this.icon.removeEventListener("keydown",this.handleIconKeyDown),Fi.unmountComponentAtNode(this.icon)),this.dom=void 0,this.contentDOM=void 0,this.icon=void 0,this.input=void 0,this.titleContainer=void 0,this.content=void 0}}]),e}();function Ha(e){var t=e.getIntl,n=e.isMobile,r=e.featureFlags;return function(e,o,i){return new Va(e,o,i,t,n,r)}}function Wa(e,t){var n;return Boolean(null==e||null===(n=e.classList)||void 0===n?void 0:n.contains(t))}var Ga=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full-page",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,i=ua(e,{}),a="mobile"===n;return new u.J({state:i,key:ca,props:{nodeViews:{expand:Ha({getIntl:t,isMobile:a,featureFlags:o}),nestedExpand:Ha({getIntl:t,isMobile:a,featureFlags:o})},handleKeyDown:function(e,t){return Wa(t.target,Hi.K.titleContainer)},handleKeyPress:function(e,t){return Wa(t.target,Hi.K.titleContainer)},handleScrollToSelection:function(){return Wa(document.activeElement,Hi.K.titleInput)},handleClickOn:xi(["expand","nestedExpand"],(function(e){return e.classList.contains(Hi.K.prefix)}),{useLongPressSelection:r})},filterTransaction:function(e){return!(Wa(document.activeElement,Hi.K.titleInput)&&e.selectionSet&&(!e.steps.length||e.isGeneric))},view:function(e){var t=e.domAtPos.bind(e);return{update:function(e){var n=e.state,r=e.dispatch,o=oa(n);if(o){var i=(0,W.TM)(o.pos,t);da(n).expandRef!==i&&la({type:"SET_EXPAND_REF",data:{ref:i}},(function(e){return e.setMeta("addToHistory",!1)}))(n,r)}}}}})},qa=n(91094),Ka=function(e){return"expand"===(null==e?void 0:e.type.name)||"nestedExpand"===(null==e?void 0:e.type.name)},$a=function(e){return e instanceof g.NodeSelection&&Ka(e.node)};function Ja(){var e={};return Re.E4(Re.ql.common,(function(e,t,n){if(!n)return!1;var r=e.selection,o=_a(e).selectionRelativeToNode;return!(!$a(r)||o!==ha.Start)&&wa(r.from+1)(e,t,n)}),e),Re.E4(Re.hi.common,(function(e,t,n){if(!n)return!1;var r=e.selection,o=_a(e).selectionRelativeToNode;return!(!$a(r)||void 0!==o&&o!==ha.End)&&wa(r.from+1)(e,t,n)}),e),Re.E4(Re.n2.common,(function(e,t,n){if(e.selection instanceof g.NodeSelection&&e.selection.node.type===e.schema.nodes.expand&&n&&n.dom instanceof HTMLElement){var r=e.selection.from,o=n.nodeDOM(r);if(!(o&&o instanceof HTMLElement))return!1;var i=o.querySelector(".".concat(Hi.K.iconContainer));if(i&&i.focus){var a=e.tr,c=e.selection.from;a.setSelection(new g.TextSelection(a.doc.resolve(c))),t&&t(a),n.dom.blur(),i.focus()}return!0}return!1}),e),Re.E4(Re.A1.common,(function(e,t,n){if(!n)return!1;var r=e.selection,o=e.schema,i=r.$from.nodeBefore;if(r instanceof rn.WD&&r.side===rn.MF.RIGHT&&i&&(i.type===o.nodes.expand||i.type===o.nodes.nestedExpand)&&!i.attrs.__expanded){var a=r.$from;return wa(Math.max(a.pos-1,0))(e,t,n)}var c=e.selection.$from;if(n.endOfTextblock("up")){var s=oa(e);if((0,qa.T)(c,o,"before")&&!s)return!1;var u=Math.max(c.pos-c.parentOffset-1,0);if(s&&s.start===u)return wa(s.start)(e,t,n);var l=g.Selection.findFrom(e.doc.resolve(u),-1),d=oa(e,l);if(l&&d)return d.node.attrs.__expanded?(t&&t(e.tr.setSelection(l)),!0):wa(d.start)(e,t,n)}return!1}),e),Re.E4(Re.vi.common,(function(e,t,n){if(!n)return!1;var r=e.schema.nodes,o=r.expand,i=r.nestedExpand,a=e.selection,c=a.$from.nodeAfter;if(a instanceof rn.WD&&a.side===rn.MF.LEFT&&c&&(c.type===o||c.type===i)&&!c.attrs.__expanded){var s=a.$from;return wa(s.pos+1)(e,t,n)}if(n.endOfTextblock("down")){var u=e.selection.$from;if(0===u.depth)return!1;var l=e.doc.resolve(u.after());if(l.nodeAfter&&(l.nodeAfter.type===o||l.nodeAfter.type===i))return wa(l.pos+1)(e,t,n)}return!1}),e),Re.E4(Re.as.common,(function(e,t,n){var r=e.selection,o=r.$from;if(!n||!r.empty)return!1;var i=e.schema.nodes,a=i.expand,c=i.nestedExpand,s=oa(e);if(!s){var u=g.Selection.findFrom(e.doc.resolve(Math.max(r.$from.pos-1,0)),-1),l=oa(e,u);return!(!l||l.node.type!==a&&l.node.type!==c||l.node.attrs.__expanded)&&wa(l.start)(e,t,n)}var d=e.doc.nodeAt(o.before(Math.max(o.depth-1,1)));if(d&&!Ka(d))return!1;var p=g.Selection.findFrom(e.doc.resolve(s.pos),1,!0);return!!(p&&r.$from.pos===p.$from.pos&&(0,ta.KI)(e.schema)(s.node)&&t)&&ga()(e,t)}),e),(0,it.h)(e)}var Ya=n(2546),Xa=n(59022),Qa=function(e,t){var n=t.formatMessage,r=da(e).expandRef;if(r){var o=e.schema.nodes,i=o.nestedExpand,a=o.expand;return{title:"Expand toolbar",getDomRef:function(){return r},nodeType:[i,a],offset:[0,6],items:[{type:"copy-button",items:[{state:e,formatMessage:n,nodeType:[i,a]},{type:"separator"}]},{id:"editor.expand.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:Ya.Z,onClick:ga(),onMouseEnter:(0,Xa.pP)([i,a],!0),onMouseLeave:(0,Xa.pP)([i,a],!1),onFocus:(0,Xa.pP)([i,a],!0),onBlur:(0,Xa.pP)([i,a],!1),title:n(Q.ZP.remove),tabIndex:null}]}}};const ec=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=(null==r||null===(e=r.dependencies)||void 0===e||null===(t=e.featureFlags)||void 0===t?void 0:t.sharedState.currentState())||{};return{name:"expand",nodes:function(){return[{name:"expand",node:di.j},{name:"nestedExpand",node:pi.K}]},pmPlugins:function(){return[{name:"expand",plugin:function(e){var t=e.dispatch,r=e.getIntl;return Ga(t,r,n.appearance,n.useLongPressSelection,o)}},{name:"expandKeymap",plugin:Ja}]},pluginsOptions:{floatingToolbar:Qa,quickInsert:function(e){var t=e.formatMessage;return n&&!0!==n.allowInsertion?[]:[{id:"expand",title:t(Jo.S.expand),description:t(Jo.S.expandDescription),keywords:["accordion","collapse"],priority:600,icon:function(){return Z.createElement(Go,null)},action:function(e,t){var n=ba(t),r=e(n);return(0,At.Gs)(t,r,{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:n.type===t.schema.nodes.nestedExpand?p.VJ.NESTED_EXPAND:p.VJ.EXPAND,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.TRACK})}}]}}}};function tc(e){var t=e.allowExpand;return!(!t||"object"!==(0,i.Z)(t))&&!!t.allowInsertion}var nc=n(72779),rc=n.n(nc),oc=n(66330),ic=n(60652);function ac(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var cc=new g.PluginKey("gridPlugin"),sc=12,uc=function(e){var t=(0,ic.h)(e);return function(e,n){return t(cc,{visible:e,gridType:n,highlight:arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]})}},lc=function(e){return"wrap-left"===e||"wrap-right"===e?"wrapped":"full"},dc=["left","right"],pc=function(e,t,n,r){if(!e.length)return!1;var o=e.reduce((function(e,t){return Math.min(e,t)})),i=e.reduce((function(e,t){return Math.max(e,t)}));return"left"===t?o<0&&o<=-n&&("number"!=typeof r||o>=-(n+r)):i>sc&&i>=sc+n&&("number"!=typeof r||i<=sc+r)},fc=function(e){(0,j.Z)(n,e);var t=ac(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.highlight,n=e.shouldCalcBreakoutGridLines,r=e.theme,i=e.containerElement,a=e.editorWidth,c=e.gridType,u=e.visible,l=r.layoutMaxWidth,d=[].concat((0,s.Z)(function(e){for(var t=[],n=0;n<=sc;n++){var r={paddingLeft:"".concat(8.333333333333334,"%")};t.push(Z.createElement("div",{key:n,className:rc()("gridLine",e.indexOf(n)>-1?"highlight":""),style:n<sc?r:void 0}))}return t}(t)),(0,s.Z)(function(e,t,n,r){var i=[];if(!r)return i;var a=(e*ue.kI-e)/2;return dc.forEach((function(r){i.push(Z.createElement("div",{key:r,className:rc()("gridLine",pc(n,r,0,4)?"highlight":""),style:(0,o.Z)({position:"absolute"},r,"-".concat(a,"px"))})),i.push(Z.createElement("div",{key:r+"-bk",className:rc()("gridLine",n.indexOf("full-width")>-1?"highlight":""),style:(0,o.Z)({position:"absolute"},r,"-".concat((t-e-ue._2)/2,"px"))}))})),i}(l,a,t,n)));return Z.createElement("div",{className:"gridParent"},Z.createElement("div",{className:rc()("gridContainer",c),style:{height:"".concat(i.scrollHeight,"px"),display:u?"block":"none"}},d))}}]),n}(Z.Component),hc=(0,oc.b)(fc);const vc=function(e){return{name:"grid",contentComponent:function(t){var n=t.editorView;return Z.createElement(M.Z,{plugins:{grid:cc,widthState:R.ux},render:function(t){var r=t.grid,o=t.widthState,i=void 0===o?{width:ue.Vt}:o;return r?Z.createElement(hc,(0,Lt.Z)({shouldCalcBreakoutGridLines:e&&e.shouldCalcBreakoutGridLines,editorWidth:i.width,containerElement:n.dom},r)):null}})}}};var mc=n(61332),gc=n(28075),yc=n(69824),bc=n(67777),wc=n(34795),kc=n(59046),Ec=n(3493),xc=n(71696),Oc=n.n(xc),Sc=n(99009),Cc=n(16031),Tc=function(e){return!!e&&(e.indexOf("image/")>-1||e.indexOf("video/")>-1)},Ac=n(85286),_c=n(99335),Pc=function(e){return!(!e||"external"!==e.type||!(0,_c.WD)(e.url))},Dc=function(e){return Uc(e)||jc(e)||Lc(e)||Mc(e)},Zc=function(e){var t=e.selection.node;return t&&t.type!==e.schema.nodes.media&&t.isBlock},Ic=function(e){var t=e.selection.node;return t&&t.type===e.schema.nodes.mediaSingle},Lc=function(e){if((0,Ac.kR)(e))return Fc(e,e.selection.$from)},Mc=function(e){if(e.selection instanceof rn.WD){var t=e.selection.$from,n=e.schema.nodes.mediaGroup;return Rc(t,n)||Nc(t,n)}},Rc=function(e,t){if(e.nodeBefore&&e.nodeBefore.type===t)return e.pos-e.nodeBefore.nodeSize+1},Nc=function(e,t){if(e.nodeAfter&&e.nodeAfter.type===t)return e.pos+1},jc=function(e){if((0,Ac.UU)(e))return zc(e,e.selection.$to)},Fc=function(e,t){var n,r;if(Zc(e)?(n=t.pos,r=t.nodeBefore):(n=(0,Ac.Mv)(t)-1,r=e.doc.resolve(n).nodeBefore),r&&r.type===e.schema.nodes.mediaGroup)return n-r.nodeSize+1},Bc=function(e){return e.selection.$from.parent.type===e.schema.nodes.paragraph&&(0,Ac.kR)(e)&&(0,Ac.UU)(e)},zc=function(e,t){var n,r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(Zc(e)?(n=t.pos,r=t.nodeAfter):(n=(0,Ac.oY)(t),r=e.doc.nodeAt(n)),r&&r.type===e.schema.nodes.mediaGroup)return o?n+1:n+r.nodeSize-1},Uc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.selection.$from;if((t=t||r).parent.type===e.schema.nodes.mediaGroup)return n?(0,Ac.Mv)(t):(0,Ac.oY)(t)-1},Vc=function(e,t,n){var r=t.attrs.id,o=e.state,i=o.tr,a=o.selection,c=o.doc,s=n();i.deleteRange(s,s+t.nodeSize),(0,ta.sb)(r)&&i.setMeta("addToHistory",!1);var u=c.resolve(s),l=u.nodeBefore,d=u.parent,p=u.index()===d.childCount-1;if(a.from===s&&!p&&!(0,Ac.Km)(o)&&l&&"media"===l.type.name){var f=(0,W.Ez)(i.selection);f&&i.setSelection(g.NodeSelection.create(i.doc,f))}e.dispatch(i)},Hc=function(e){return e.length>1&&"_"===e[0]&&"_"===e[1]},Wc=function(e,t){Object.keys(t.attrs).filter(Hc).forEach((function(n){var r=n.substring(2),o=e[r];void 0!==o&&(t.attrs[n]=o)}))},Gc=function(e){return"0"===e.style.opacity||"none"===e.style.display||"hidden"===e.style.visibility},qc=["DIV","TD"];function Kc(e){return!!e&&-1!==qc.indexOf(e.tagName)}var $c=function(e){if(!Ic(e))return null;var t=e.tr,n=t.selection.from+1,r=t.doc.nodeAt(n);return r&&r.type===e.schema.nodes.media?r:null},Jc=n(60160);function Yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qc=function(e,t){return{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.MEDIA,attributes:{inputMethod:e,fileExtension:t,type:p.VJ.MEDIA_SINGLE},eventType:p.Ze.TRACK}};function es(e){return(0,Ac.kR)(e)&&!(0,ta.DL)(e.selection,e.doc,cr.bG)}function ts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var o=n.tr,i=n.schema.nodes.paragraph,a=t.inputMethod,c=t.fileExtension,s=0;return es(n)&&(e.push(i.create()),s=1),o.replaceSelection(new on.Slice(on.Fragment.from(e),0,s)),a&&(0,At.Gs)(n,o,Qc(a,c)),r&&r(o),!0}}var ns=function(e,t,n){return function(r){var o=r.id,i=r.dimensions,a=r.contextId,c=r.scaleFactor,s=void 0===c?1:c,u=i||{height:void 0,width:void 0},l=u.width,d=u.height,p=e.nodes,f=p.media,h=p.mediaSingle,v=f.create({id:o,type:"file",collection:t,contextId:a,width:l&&Math.round(l/s),height:d&&Math.round(d/s)}),m=n?{layout:"align-start"}:{};return Wc(r,v),h.createChecked(m,v)}};var rs=function(e){var t=e.origWidth,n=e.origHeight,r=e.layout,o=e.pctWidth,i=e.containerWidth,a=e.resizedPctWidth,c=i.width,s=i.lineLength,u=os(i,o,t,n),l=os(i,a,t,n);if("wide"===r){if(s){var d=Math.ceil(s*ue.kI);return d>c?s:d}}else{if("full-width"===r)return c-ue._2;if(u)return Sc.T1.indexOf(r)>-1?l?a<50?l:u:Math.min(u,t):l||u;if("center"===r)return l||Math.min(t,s||c);if(r&&-1!==Sc.T1.indexOf(r)){var p=Math.ceil((s||c)/2);return t<=p?t:p}}return t},os=function(e,t,n,r){return t&&n&&r&&Math.ceil((0,Cc.I3)(t/100,e.lineLength||e.width))};var is,as,cs,ss=n(28653),us=n(9091),ls=(0,Ze.vU)({dropPlaceholderLabel:{id:"fabric.editor.dropPlaceholderLabel",defaultMessage:"Document",description:"document label for an media icon"}}),ds=n(81095),ps=n(38850),fs=n(19840),hs=n(64638),vs=n(13870),ms=n(41595),gs=n(62416),ys="media-inline-node",bs="media-single-node",ws=(0,U.iv)(is||(is=(0,z.Z)(["\n  margin: 0;\n"]))),ks=(0,U.iv)(as||(as=(0,z.Z)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n"]))),Es=(0,U.iv)(cs||(cs=(0,z.Z)(["\n  width: 100%;\n  position: relative;\n"]))),xs=function(e){var t=e.dimensions,n=e.children,r=e.selected,o=e.borderWidth,i=void 0===o?0:o,a=e.onContextMenu,c=r&&i>0?i+1:i;return(0,U.tZ)("div",{"data-testid":"media-card-wrapper",style:{borderColor:"var(--custom-palette-color)",borderWidth:"".concat(c,"px"),borderStyle:"solid",borderRadius:"".concat(2*c,"px")}},(0,U.tZ)("div",{css:Es,style:{paddingBottom:"".concat(t.height/t.width*100,"%")},onContextMenuCapture:a},(0,U.tZ)("div",{css:ks},n)))};function Os(){Os=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Ss(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Cs=function(e){(0,j.Z)(r,e);var t,n=Ss(r);function r(e){var t;(0,P.Z)(this,r),t=n.call(this,e),(0,o.Z)((0,N.Z)(t),"state",{}),(0,o.Z)((0,N.Z)(t),"setViewMediaClientConfig",(0,wc.Z)(Os().mark((function e(){var n,r;return Os().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.mediaProvider;case 2:(n=e.sent)&&(r=n.viewMediaClientConfig,t.setState({viewMediaClientConfig:r}));case 4:case"end":return e.stop()}}),e)})))),(0,o.Z)((0,N.Z)(t),"selectMediaSingleFromCard",(function(e){var n=e.event;t.selectMediaSingle(n)})),(0,o.Z)((0,N.Z)(t),"selectMediaSingle",(function(e){e.stopPropagation();var n=t.props.getPos(),r=t.props.view.state;if(e.shiftKey){if(r.selection instanceof be.X)return;(0,ms.B0)(t.props.view,r.selection.from<n?r.selection.from:n-1,r.selection.to>n?r.selection.to:n+2)}else(0,ms.Ui)(t.props.view,n-1)})),(0,o.Z)((0,N.Z)(t),"onFullscreenChange",(function(e){t.mediaPluginState.updateAndDispatch({isFullscreen:e})})),(0,o.Z)((0,N.Z)(t),"handleNewNode",(function(e){var n=e.node;t.mediaPluginState.handleMediaNodeMount(n,(function(){return t.props.getPos()}))}));var i=t.props.view;return t.mediaPluginState=gs.S.getState(i.state),t}return(0,D.Z)(r,[{key:"shouldComponentUpdate",value:function(e,t){var n=!this.state.viewMediaClientConfig&&t.viewMediaClientConfig;return!(this.props.selected===e.selected&&this.props.node.attrs.id===e.node.attrs.id&&this.props.node.attrs.collection===e.node.attrs.collection&&this.props.maxDimensions.height===e.maxDimensions.height&&this.props.maxDimensions.width===e.maxDimensions.width&&this.props.contextIdentifierProvider===e.contextIdentifierProvider&&this.props.isLoading===e.isLoading&&this.props.mediaProvider===e.mediaProvider&&!n)}},{key:"componentDidMount",value:(t=(0,wc.Z)(Os().mark((function e(){var t;return Os().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.handleNewNode(this.props),t=this.props.contextIdentifierProvider,e.t0=this,e.next=5,t;case 5:return e.t1=e.sent,e.t2={contextIdentifierProvider:e.t1},e.t0.setState.call(e.t0,e.t2),e.next=10,this.setViewMediaClientConfig();case 10:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e=this.props.node;this.mediaPluginState.handleMediaNodeUnmount(e)}},{key:"componentDidUpdate",value:function(e){e.node.attrs.id!==this.props.node.attrs.id&&(this.mediaPluginState.handleMediaNodeUnmount(e.node),this.handleNewNode(this.props)),this.mediaPluginState.updateElement(),this.setViewMediaClientConfig()}},{key:"render",value:function(){var e=this.props,t=e.node,n=e.selected,r=e.originalDimensions,i=e.isLoading,a=e.maxDimensions,c=e.mediaOptions,s=t.marks.find((function(e){return"border"===e.type.name})),u=this.state,l=u.viewMediaClientConfig,d=u.contextIdentifierProvider,p=t.attrs,f=p.id,h=p.type,v=p.collection,m=p.url,g=p.alt;if(i||"external"!==h&&!l)return Z.createElement(xs,{dimensions:r},Z.createElement(hs.o,null));var y=d&&d.objectId,b="external"===h?{dataURI:m,name:m,mediaItemType:"external-image"}:{id:f,mediaItemType:"file",collectionName:v},w=l||{authProvider:function(){return{}}};return Z.createElement(xs,{dimensions:r,onContextMenu:this.selectMediaSingle,borderWidth:null==s?void 0:s.attrs.size,selected:n},Z.createElement(ps.Z,{data:(0,o.Z)({},fs.Rs,{border:!!s})},Z.createElement(vs.Z,{mediaClientConfig:w,resizeMode:"stretchy-fit",dimensions:a,originalDimensions:r,identifier:b,selectable:!0,selected:n,disableOverlay:!0,onFullscreenChange:this.onFullscreenChange,onClick:this.selectMediaSingleFromCard,useInlinePlayer:c&&c.allowLazyLoading,isLazy:c&&c.allowLazyLoading,featureFlags:c&&c.featureFlags,contextId:y,alt:g})))}}]),r}(Z.Component);const Ts=(0,ds.H)(Cs);var As,_s,Ps=(0,U.iv)(As||(As=(0,z.Z)(["\n  color: ",";\n  background: ",";\n  border-radius: ","px;\n  margin: 5px 3px 25px;\n  width: ","px;\n  min-height: ","px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),"var(--ds-icon-accent-blue, ".concat((0,us.a7)(V.AX,.4)||V.AX,")"),"var(--ds-background-accent-blue-subtle, ".concat((0,us.a7)(V.M5,.6)||V.M5,")"),(0,re.E0)(),156,125),Ds=(0,U.iv)(_s||(_s=(0,z.Z)(["\n  background: ",";\n  border-radius: ","px;\n  margin: 2px 0;\n  width: 100%;\n  height: 2px;\n"])),"var(--ds-border-focused, ".concat(V.VY,")"),(0,re.E0)()),Zs=(0,H.ZP)((function(e){var t=e.intl,n=ls.dropPlaceholderLabel;return(0,U.tZ)("div",{css:Ps},(0,U.tZ)(ss.default,{label:t.formatMessage(n),size:"medium"}))}));const Is=function(e){var t=e.type;return"single"===(void 0===t?"group":t)?(0,U.tZ)("div",{css:Ds}):(0,U.tZ)(Zs,null)};var Ls=n(97816),Ms=function(e,t){var n="";return 1===e.length?n=e[0].fileMimeType||"unknown":e.length>1&&(n="multiple"),{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.MEDIA,attributes:{type:p.VJ.MEDIA_GROUP,inputMethod:t,fileExtension:n},eventType:p.Ze.TRACK}};var Rs=function(e,t,n,r){var o=e.state,i=e.dispatch,a=o.schema,c=o.tr,s=a.nodes.mediaInline;if(!s||!t||void 0===n)return!1;var u=t.id,l=s.create({id:u,collection:n}),d=o.schema.text(" "),f=o.selection.$to.pos;(0,ta.CS)(o)&&Bc(o)&&(f+=1);var h=on.Fragment.from([l,d]),v=zs(o);return v?c.insert(f,h).deleteRange(v.start,v.end):c.insert(f,h),(0,At.Gs)(o,c,function(e,t){var n=e.fileMimeType||"unknown";return{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.MEDIA,attributes:{type:p.VJ.MEDIA_INLINE,inputMethod:t,fileExtension:n},eventType:p.Ze.TRACK}}(t,r)),i(c),!0},Ns=function(e,t,n,r){var o=e.state,i=e.dispatch,a=o.tr,c=o.schema,s=c.nodes,u=s.media,l=s.paragraph;if(u&&t.length){var d=js(t,n,u),p=Bs(o),f=a.doc.resolve(p).parent,h=a.doc.nodeAt(p),v=!function(e){var t=e.schema,n=e.selection.$anchor.node();return n&&n.type===t.nodes.mediaGroup}(o)&&(0,Ls.MU)(o,on.Fragment.from(o.schema.nodes.mediaGroup.createChecked({},d))),m=function(e,t){var n=e.schema.nodes.media,r=t&&t.type===n;return((0,ta.OL)(e)||(0,ta.CS)(e)||(0,ta.o)(e)||(0,Ac.hX)(e)&&(!Lc(e)||Zc(e)))&&!r}(o,h),g=f.type===c.nodes.mediaGroup?d:[c.nodes.mediaGroup.createChecked({},d)];if(v){g=m?g.concat(l.create()):g;var y=zs(o);return y?p<=y.start?a.deleteRange(y.start,y.end).insert(p,g):a.insert(p,g).deleteRange(y.start,y.end):a.insert(p,g),(0,At.Gs)(o,a,Ms(t,r)),i(a),void Vs(e)}m&&f.type!==c.nodes.mediaGroup&&g.push(l.create()),(0,At.Gs)(o,a,Ms(t,r)),i((0,W.Z3)(on.Fragment.fromArray(g),p)(a))}},js=function(e,t,n){return e.map((function(e){var r=e.id,o=n.create({id:r,type:"file",collection:t});return Wc(e,o),o}))},Fs=function(e){var t=e.schema.nodes,n=t.mediaGroup,r=t.listItem;if((0,W.iV)((function(e){return e.type===r}))(e.selection)){var o=function(e){var t=e.schema.nodes,n=t.bulletList,r=t.orderedList;return(0,cr.yp)((function(e){return e.type===n||e.type===r}))(e.selection.$from)}(e);if(o){var i=o.pos+o.node.nodeSize,a=e.doc.nodeAt(i);return a&&a.type===n?i+1:i}}},Bs=function(e){var t=e.selection,n=t.$from,r=t.$to,o=Fs(e);if(o)return o;var i=Dc(e);return i&&(!Zc(e)||n.pos<i&&r.pos<i)?i:Zc(e)?r.pos:(0,Ac.UU)(e)?r.pos+1:(0,Ac.kR)(e)?n.pos-1:r.pos},zs=function(e){var t=e.selection,n=t.$from,r=t.$to;if(!Uc(e))return!Bc(e)||Dc(e)?Us(n.pos,r.pos):Us((0,Ac.Mv)(n)-1,(0,Ac.oY)(r))},Us=function(e){return{start:e,end:arguments.length>1&&void 0!==arguments[1]?arguments[1]:e}},Vs=function(e){var t=e.state,n=t.doc,r=Dc(t);if(r){var o=n.resolve(r),i=(0,Ac.oY)(o);i+1>=n.nodeSize-1?(0,ms.Ui)(e,r):(0,ms.B0)(e,i+1)}},Hs=n(87598);function Ws(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ws(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ws(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qs(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Ks=function(e){(0,j.Z)(n,e);var t=qs(n);function n(e,r){var o;return(0,P.Z)(this,n),(o=t.call(this)).pos=e,o.attrs=r,o}return(0,D.Z)(n,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return nn.oo.fail("No node at given position");if(t.isText)return nn.oo.fail("Target is a text node. Attributes are not allowed.");var n=Gs(Gs({},t.attrs||{}),this.attrs||{}),r=t.type.create(n,Hs.HY.empty,t.marks),o=new Hs.p2(Hs.HY.from(r),0,t.isLeaf?0:1);return nn.oo.fromReplace(e,this.pos,this.pos+1,o)}},{key:"invert",value:function(e){var t=e.nodeAt(this.pos);return new n(this.pos,t?t.attrs:{})}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deleted?null:new n(t.pos,this.attrs)}},{key:"toJSON",value:function(){return{stepType:"setAttrs",pos:this.pos,attrs:this.attrs}}}],[{key:"fromJSON",value:function(e,t){if("number"!=typeof t.pos||null!==t.attrs&&"object"!==(0,i.Z)(t.attrs))throw new RangeError("Invalid input for SetAttrsStep.fromJSON");return new n(t.pos,t.attrs)}}]),n}(nn.h8);function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}nn.h8.jsonID("setAttrs",Ks);var Js=function(e,t){return e.mediaNodes.reduce((function(e,n){return e||(n.node.attrs.id===t?n:e)}),null)},Ys=function(e,t){var n=t.doc.nodeAt(e);return n&&["media","mediaInline"].includes(n.type.name)},Xs=function(e,t){return function(n,r){var o;o=function(e,t){return e.mediaNodes.filter((function(e){return e.node.attrs.id===t}))}(gs.S.getState(n),e);var i=o.reduce((function(e,t){var r=(0,t.getPos)();return isNaN(r)||"number"==typeof r&&!Ys(r,n)||e.push(r),e}),[]);if(0===i.length)return!1;var a=n.tr;return i.forEach((function(e){return a.step(new Ks(e,t))})),a.setMeta("addToHistory",!1),r&&r(a),!0}},Qs=function(e,t){return function(n,r){var o=t.getPos();if(isNaN(o)||"number"==typeof o&&!Ys(o,n))return!1;var i=n.tr;return i.step(new Ks(o,e)),i.setMeta("addToHistory",!1),r&&r(i),!0}},eu=function(e,t){return function(n,r){var o=gs.S.getState(n),i=Js(o,e);if(!i)return!1;var a=n.tr,c=i.getPos();return!!Ys(c,n)&&(a.step(new Ks(c,t)).setMeta("addToHistory",!1),r&&r(a),!0)}},tu=function(e,t){return function(n,r){var i=n.tr,a=i.doc.nodeAt(e);return!(!a||"media"!==a.type.name)&&(i.step(new Ks(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({type:"file",url:null},t))).setMeta("addToHistory",!1),r&&r(i),!0)}};function nu(){nu=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function ru(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var ou=function(e){(0,j.Z)(i,e);var t,r=ru(i);function i(){var e;(0,P.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,o.Z)((0,N.Z)(e),"state",{Dropzone:i.Dropzone,MediaPickerErrorBoundary:i.MediaPickerErrorBoundary}),e}return(0,D.Z)(i,[{key:"UNSAFE_componentWillMount",value:(t=(0,wc.Z)(nu().mark((function e(){var t,r,o,a,c;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.Dropzone&&this.state.MediaPickerErrorBoundary){e.next=16;break}return e.prev=1,e.next=4,Promise.all([n.e(5446).then(n.bind(n,69200)),Promise.all([n.e(8362),n.e(8719),n.e(8696),n.e(3039),n.e(2065)]).then(n.bind(n,73843)),n.e(287).then(n.bind(n,91683))]);case 4:t=e.sent,r=(0,sr.Z)(t,3),o=r[0],a=r[1],c=r[2],i.Dropzone=o.withMediaClient(a.Dropzone,this.props.featureFlags),i.MediaPickerErrorBoundary=c.default,this.setState({Dropzone:i.Dropzone,MediaPickerErrorBoundary:i.MediaPickerErrorBoundary}),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(1);case 16:case"end":return e.stop()}}),e,this,[[1,14]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.Dropzone,n=e.MediaPickerErrorBoundary;return t&&n?Z.createElement(n,null,Z.createElement(t,this.props)):null}}]),i}(Z.PureComponent);function iu(){iu=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function au(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}(0,o.Z)(ou,"displayName","AsyncDropzone");var cu=function(e){(0,j.Z)(i,e);var t,r=au(i);function i(){var e;(0,P.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,o.Z)((0,N.Z)(e),"state",{Clipboard:i.Clipboard}),e}return(0,D.Z)(i,[{key:"UNSAFE_componentWillMount",value:(t=(0,wc.Z)(iu().mark((function e(){var t,r,o,a;return iu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.Clipboard){e.next=9;break}return e.next=3,Promise.all([n.e(5446).then(n.bind(n,69200)),Promise.all([n.e(8362),n.e(8719),n.e(8696),n.e(3039),n.e(5941)]).then(n.bind(n,20217))]);case 3:t=e.sent,r=(0,sr.Z)(t,2),o=r[0],a=r[1],i.Clipboard=o.withMediaClient(a.Clipboard,this.props.featureFlags),this.setState({Clipboard:i.Clipboard});case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return this.state.Clipboard?Z.createElement(this.state.Clipboard,this.props):null}}]),i}(Z.PureComponent);function su(){su=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function uu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}(0,o.Z)(cu,"displayName","AsyncClipboard");var lu=function(e){(0,j.Z)(i,e);var t,r=uu(i);function i(){var e;(0,P.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,o.Z)((0,N.Z)(e),"mounted",!1),(0,o.Z)((0,N.Z)(e),"state",{Browser:i.Browser}),e}return(0,D.Z)(i,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"UNSAFE_componentWillMount",value:(t=(0,wc.Z)(su().mark((function e(){var t,r,o,a;return su().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.Browser){e.next=9;break}return e.next=3,Promise.all([n.e(5446).then(n.bind(n,69200)),Promise.all([n.e(8362),n.e(8719),n.e(8696),n.e(3039),n.e(9873)]).then(n.bind(n,98377))]);case 3:t=e.sent,r=(0,sr.Z)(t,2),o=r[0],a=r[1],i.Browser=o.withMediaClient(a.Browser,this.props.featureFlags),this.mounted&&this.setState({Browser:i.Browser});case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return this.state.Browser?Z.createElement(this.state.Browser,this.props):null}}]),i}(Z.PureComponent);function du(){du=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}(0,o.Z)(lu,"displayName","AsyncBrowser");var pu=function(){function e(t,n,r,i){var a=this;(0,P.Z)(this,e),(0,o.Z)(this,"onDragListeners",[]),(0,o.Z)(this,"onStartListeners",[]),(0,o.Z)(this,"eventListeners",{}),(0,o.Z)(this,"handleUploadPreviewUpdate",(function(e){var t=e.file,n=e.preview,r=a.erroredFiles.has(t.id),o=function(e){return!!e.dimensions}(n)?n:{dimensions:void 0,scaleFactor:void 0},i=o.dimensions,c=o.scaleFactor,s={id:t.id,fileName:t.name,fileSize:t.size,fileMimeType:t.type,collection:t.collectionName,dimensions:i,scaleFactor:c,status:r?"error":void 0};a.eventListeners[t.id]=[],a.onStartListeners.forEach((function(e){return e(s,(function(e){return a.subscribeStateChanged(t,e)}),a.analyticsName||a.pickerType)}))})),(0,o.Z)(this,"subscribeStateChanged",(function(e,t){var n=a.eventListeners[e.id];n&&n.push(t)})),(0,o.Z)(this,"handleUploadError",(function(e){var t=e.error,n=e.fileId,r=a.eventListeners[n];a.erroredFiles.add(n),r&&(r.forEach((function(e){return e({id:n,status:"error",error:t&&{description:t.description,name:t.name}})})),delete a.eventListeners[n])})),(0,o.Z)(this,"handleMobileUploadEnd",(function(e){var t=e.file,n=a.eventListeners[t.id];n&&n.forEach((function(e){return e({id:t.id,status:"mobile-upload-end",fileMimeType:t.type,collection:t.collectionName,publicId:t.publicId})}))})),(0,o.Z)(this,"handleReady",(function(e){var t=e.file,n=a.eventListeners[t.id];n&&(n.forEach((function(e){return e({id:t.id,status:"ready"})})),delete a.eventListeners[t.id])})),this.config=n,this.pickerConfig=r,this.pickerType=t,this.analyticsName=i,this.erroredFiles=new Set}var t;return(0,D.Z)(e,[{key:"init",value:(t=(0,wc.Z)(du().mark((function e(){var t;return du().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("customMediaPicker"===this.pickerType&&(t=this.picker=this.pickerConfig),t){e.next=3;break}return e.abrupt("return",this);case 3:return t.on("upload-preview-update",this.handleUploadPreviewUpdate),t.on("upload-end",this.handleReady),t.on("upload-error",this.handleUploadError),t.on("mobile-upload-end",this.handleMobileUploadEnd),e.abrupt("return",this);case 8:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"type",get:function(){return this.pickerType}},{key:"mediaPicker",get:function(){return this.picker}},{key:"destroy",value:function(){var e=this.picker;e&&(e.removeAllListeners("upload-preview-update"),e.removeAllListeners("upload-end"),e.removeAllListeners("upload-error"),this.onStartListeners=[],this.onDragListeners=[])}},{key:"setUploadParams",value:function(e){this.picker&&this.picker.setUploadParams(e)}},{key:"onNewMedia",value:function(e){this.onStartListeners.push(e)}},{key:"onDrag",value:function(e){this.onDragListeners.push(e)}}]),e}(),fu=n(68467),hu=n(64729);function vu(){vu=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var mu=(0,D.Z)((function e(){var t=this;(0,P.Z)(this,e),(0,o.Z)(this,"pendingTask",Promise.resolve(null)),(0,o.Z)(this,"taskMap",new Map),(0,o.Z)(this,"cancelPendingTask",(function(e){var n=t.taskMap.get(e);n&&!n.cancelController.signal.aborted&&n.cancelController.abort()})),(0,o.Z)(this,"waitForPendingTasks",function(){var e=(0,wc.Z)(vu().mark((function e(n,r){var o,i,a;return vu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r||t.pendingTask!==r){e.next=2;break}return e.abrupt("return",r);case 2:if(o=t.pendingTask.then((function(){return t.waitForPendingTasks(void 0,t.pendingTask)})),n){e.next=5;break}return e.abrupt("return",o);case 5:return a=new Promise((function(e,t){i=window.setTimeout((function(){return t(new Error("Media operations did not finish in ".concat(n," ms")))}),n)})),e.abrupt("return",Promise.race([a,o.then((function(e){return clearTimeout(i),e}))]));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"resumePendingTask",(function(e){var n=t.taskMap.get(e);n&&n.cancelController.signal.aborted&&t.addPendingTask(n.task,e)})),(0,o.Z)(this,"addPendingTask",(function(e,n){var r=e;if(n){var o=new AbortController,i=o.signal;t.taskMap.set(n,{task:e,cancelController:o}),r=new Promise((function(r){e.then(r,r).finally((function(){t.taskMap.delete(n)})),i.onabort=function(){r(null)}}))}var a=t.pendingTask,c=function(){return a};return t.pendingTask=r.then(c,c),t.pendingTask}))}));function gu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return yu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yu(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function yu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bu(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ku(){ku=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var Eu="media-content-wrap",xu=["ready","error","cancelled"],Ou=function(){function e(t,n,r,i,a){var c=this;(0,P.Z)(this,e),(0,o.Z)(this,"allowsUploads",!1),(0,o.Z)(this,"ignoreLinks",!1),(0,o.Z)(this,"waitForMediaUpload",!0),(0,o.Z)(this,"allUploadsFinished",!0),(0,o.Z)(this,"showDropzone",!1),(0,o.Z)(this,"isFullscreen",!1),(0,o.Z)(this,"layout","center"),(0,o.Z)(this,"mediaNodes",[]),(0,o.Z)(this,"destroyed",!1),(0,o.Z)(this,"removeOnCloseListener",(function(){})),(0,o.Z)(this,"onPopupToggleCallback",(function(){})),(0,o.Z)(this,"nodeCount",new Map),(0,o.Z)(this,"taskManager",new mu),(0,o.Z)(this,"pickers",[]),(0,o.Z)(this,"pickerPromises",[]),(0,o.Z)(this,"onContextIdentifierProvider",function(){var e=(0,wc.Z)(ku().mark((function e(t,n){return ku().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=4;break}return e.next=3,n;case 3:c.contextIdentifierProvider=e.sent;case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"setMediaProvider",function(){var e=(0,wc.Z)(ku().mark((function e(t){var n,r,o,i;return ku().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return c.destroyPickers(),c.allowsUploads=!1,c.destroyed||c.view.dispatch(c.view.state.tr.setMeta(gs.S,{allowsUploads:c.allowsUploads})),e.abrupt("return");case 5:return e.prev=5,e.next=8,t;case 8:c.mediaProvider=e.sent,c.mediaProvider.viewMediaClientConfig||(n=c.mediaProvider.viewMediaClientConfig)&&(c.mediaProvider.viewMediaClientConfig=n),Oc()(c.mediaProvider.viewMediaClientConfig,"MediaProvider promise did not resolve to a valid instance of MediaProvider - ".concat(c.mediaProvider)),e.next=21;break;case 13:return e.prev=13,e.t0=e.catch(5),r=new Error("Media functionality disabled due to rejected provider: ".concat(e.t0 instanceof Error?e.t0.message:String(e.t0))),c.errorReporter.captureException(r),c.destroyPickers(),c.allowsUploads=!1,c.destroyed||c.view.dispatch(c.view.state.tr.setMeta(gs.S,{allowsUploads:c.allowsUploads})),e.abrupt("return");case 21:if(c.mediaClientConfig=c.mediaProvider.viewMediaClientConfig,c.allowsUploads=!!c.mediaProvider.uploadMediaClientConfig,o=c.view,i=c.allowsUploads,!c.destroyed&&o&&o.dom.parentNode&&o.dispatch(o.state.tr.setMeta(gs.S,{allowsUploads:i})),!c.allowsUploads){e.next=35;break}if(c.uploadMediaClientConfig=c.mediaProvider.uploadMediaClientConfig,!c.mediaProvider.uploadParams||!c.uploadMediaClientConfig){e.next=32;break}return e.next=30,c.initPickers(c.mediaProvider.uploadParams,pu);case 30:e.next=33;break;case 32:c.destroyPickers();case 33:e.next=36;break;case 35:c.destroyPickers();case 36:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"getMediaOptions",(function(){return c.options})),(0,o.Z)(this,"isMediaSchemaNode",(function(e){var t,n=e.type,r=c.view.state.schema.nodes,o=r.mediaInline,i=r.mediaSingle,a=r.media;return(0,fu.OC)("mediaInline",null===(t=c.mediaOptions)||void 0===t?void 0:t.featureFlags)?n===i||n===a||n===o:n===i})),(0,o.Z)(this,"insertFile",(function(e,t,n){var r,o,i=c.view.state,a=wu(wu({},e),{},{contextId:c.contextIdentifierProvider?c.contextIdentifierProvider.objectId:void 0}),s=null!==(r=e.collection)&&void 0!==r?r:c.collectionFromProvider();if(void 0!==s){"error"!==e.status&&c.updateAndDispatch({allUploadsFinished:!1}),!function(e,t){return!!e.nodes.mediaSingle&&Tc(t)}(i.schema,a.fileMimeType)?!(0,fu.OC)("mediaInline",null===(o=c.mediaOptions)||void 0===o?void 0:o.featureFlags)||(0,cr.VZ)(i)||Bc(i)&&!(0,ta.CS)(i)||!function(e){var t=e.schema.nodes.mediaInline.create({});return(0,W.om)(e.selection.$to,on.Fragment.from(t))}(i)?Ns(c.view,[a],s,c.getInputMethod(n)):Rs(c.view,a,s,c.getInputMethod(n)):function(e,t,n,r,o,i){var a;if(void 0===r)return!1;var c,s=e.state,u=e.dispatch,l=null===(a=s.selection.$from.node(-1))||void 0===a?void 0:a.type,d=s.selection.$from.parent.type,p=ns(s.schema,r,o)(t);if(t.fileName){var f=t.fileName.lastIndexOf(".");c=f>=0?t.fileName.substring(f+1):void 0}if(oi({parentNodeType:d,grandParentNodeType:l,content:p}))ts([p],{fileExtension:c,inputMethod:n})(s,u);else{var h=null;if(i&&(h=ti(p,s.selection.from)(s.tr)),!h){var v=es(e.state)?on.Fragment.fromArray([p,s.schema.nodes.paragraph.create()]):p;h=(0,W.Z3)(v,void 0,!0)(s.tr)}n&&(h=(0,At.Gs)(s,h,Qc(n,c))),u(h)}}(c.view,a,c.getInputMethod(n),s,c.mediaOptions&&c.mediaOptions.alignLeftOnInsert,c.newInsertionBehaviour),t(c.handleMediaState);var u=function(e){return e.status&&-1!==xu.indexOf(e.status)};if(!u(a)){var l=new Promise((function(e){t((function(t){u(t)&&e(t)}))}));c.taskManager.addPendingTask(l,a.id).then((function(){c.updateAndDispatch({allUploadsFinished:!0})}))}var d=c.view;d.hasFocus()||d.focus()}})),(0,o.Z)(this,"addPendingTask",(function(e){c.taskManager.addPendingTask(e)})),(0,o.Z)(this,"splitMediaGroup",(function(){return function(e){var t=e.state.selection;return t instanceof g.NodeSelection&&t.node.type===e.state.schema.nodes.media&&((0,ar.NE)(e.state,e.dispatch),t.$to.nodeAfter?((0,ar.JA)(e.state,e.dispatch),(0,me.mD)(!1)(e.state,e.dispatch)):(0,me.kJ)(e.state,e.dispatch),!0)}(c.view)})),(0,o.Z)(this,"onPopupPickerClose",(function(){c.onPopupToggleCallback(!1)})),(0,o.Z)(this,"showMediaPicker",(function(){if(c.openMediaPickerBrowser)return c.openMediaPickerBrowser();c.onPopupToggleCallback(!0)})),(0,o.Z)(this,"setBrowseFn",(function(e){c.openMediaPickerBrowser=e})),(0,o.Z)(this,"onPopupToggle",(function(e){c.onPopupToggleCallback=e})),(0,o.Z)(this,"waitForPendingTasks",this.taskManager.waitForPendingTasks),(0,o.Z)(this,"handleMediaNodeRemoval",(function(e,t){var n=e;n||(n=c.view.state.doc.nodeAt(t())),Vc(c.view,n,t)})),(0,o.Z)(this,"trackMediaNodeAddition",(function(e){var t,n=e.attrs.id,r=null!==(t=c.nodeCount.get(n))&&void 0!==t?t:0;0===r&&c.taskManager.resumePendingTask(n),c.nodeCount.set(n,r+1)})),(0,o.Z)(this,"trackMediaNodeRemoval",(function(e){var t,n=e.attrs.id,r=null!==(t=c.nodeCount.get(n))&&void 0!==t?t:0;1===r&&c.taskManager.cancelPendingTask(n),c.nodeCount.set(n,r-1)})),(0,o.Z)(this,"handleMediaNodeMount",(function(e,t){c.trackMediaNodeAddition(e),c.mediaNodes.unshift({node:e,getPos:t})})),(0,o.Z)(this,"handleMediaNodeUnmount",(function(e){c.trackMediaNodeRemoval(e),c.mediaNodes=c.mediaNodes.filter((function(t){var n=t.node;return e!==n}))})),(0,o.Z)(this,"handleMediaGroupUpdate",(function(e,t){var n=t.filter((function(t){return e.every((function(e){return e.attrs.id!==t.attrs.id}))})),r=e.filter((function(e){return t.every((function(t){return t.attrs.id!==e.attrs.id}))}));n.forEach((function(e){c.trackMediaNodeAddition(e)})),r.forEach((function(e){c.trackMediaNodeRemoval(e)}))})),(0,o.Z)(this,"findMediaNode",(function(e){return Js(c,e)})),(0,o.Z)(this,"destroyAllPickers",(function(e){e.forEach((function(e){return e.destroy()})),c.pickers.splice(0,c.pickers.length)})),(0,o.Z)(this,"destroyPickers",(function(){var e=c.pickers,t=c.pickerPromises;t.length===e.length?c.destroyAllPickers(c.pickers):Promise.all(t).then((function(e){return c.destroyAllPickers(e)})),c.customPicker=void 0})),(0,o.Z)(this,"getInputMethod",(function(e){switch(e){case"clipboard":return p.Jq.CLIPBOARD;case"dropzone":return p.Jq.DRAG_AND_DROP}})),(0,o.Z)(this,"updateMediaSingleNodeAttrs",(function(e,t){var n=c.view;if(n)return eu(e,t)(n.state,n.dispatch)})),(0,o.Z)(this,"handleMediaState",(function(e){if("error"===e.status){var t=c.options.uploadErrorHandler;t&&t(e)}})),(0,o.Z)(this,"removeSelectedMediaContainer",(function(){var e=c.view,t=c.selectedMediaContainerNode();if(!t)return!1;var n=e.state.selection.from;return Vc(e,t.firstChild,(function(){return n+1})),!0})),(0,o.Z)(this,"selectedMediaContainerNode",(function(){var e=c.view.state.selection;if(e instanceof g.NodeSelection&&c.isMediaSchemaNode(e.node))return e.node})),(0,o.Z)(this,"handleDrag",(function(e){var t="enter"===e;if(c.showDropzone!==t){c.showDropzone=t;var n=c.view;(0,n.dispatch)(n.state.tr)}})),this.options=n,this.mediaOptions=r,this.newInsertionBehaviour=i,this.dispatch=a,this.waitForMediaUpload=void 0===n.waitForMediaUpload||n.waitForMediaUpload;var s=t.schema.nodes;Oc()(s.media&&(s.mediaGroup||s.mediaSingle),"Editor: unable to init media plugin - media or mediaGroup/mediaSingle node absent in schema"),n.providerFactory.subscribe("mediaProvider",(function(e,t){return c.setMediaProvider(t)})),n.providerFactory.subscribe("contextIdentifierProvider",this.onContextIdentifierProvider),this.errorReporter=n.errorReporter||new kc.Z}var t;return(0,D.Z)(e,[{key:"updateElement",value:function(){var e,t=this.selectedMediaContainerNode();t&&this.isMediaSchemaNode(t)&&(e=this.getDomElement(this.view.domAtPos.bind(this.view))),this.element!==e&&(this.element=e)}},{key:"getDomElement",value:function(e){var t=this.view.state.selection;if(t instanceof g.NodeSelection&&this.isMediaSchemaNode(t.node)){var n=(0,W.TM)(t.from,e);return n?n.childNodes.length?n:n.parentNode:void 0}}},{key:"setView",value:function(e){this.view=e}},{key:"destroy",value:function(){if(!this.destroyed){this.destroyed=!0;var e=this.mediaNodes;e.splice(0,e.length),this.removeOnCloseListener(),this.destroyPickers()}}},{key:"initPickers",value:(t=(0,wc.Z)(ku().mark((function e(t,n){var r,o,i,a,c,s=this;return ku().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed&&this.uploadMediaClientConfig){e.next=2;break}return e.abrupt("return");case 2:if(r=this.errorReporter,o=this.pickers,i=this.pickerPromises,o.length){e.next=14;break}if(a={mediaClientConfig:this.uploadMediaClientConfig,errorReporter:r},!this.options.customMediaPicker){e.next=13;break}return c=new n("customMediaPicker",a,this.options.customMediaPicker).init(),i.push(c),e.t0=o,e.next=11,c;case 11:e.t1=this.customPicker=e.sent,e.t0.push.call(e.t0,e.t1);case 13:o.forEach((function(e){e.onNewMedia(s.insertFile)}));case 14:o.forEach((function(e){return e.setUploadParams(t)}));case 15:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"collectionFromProvider",value:function(){return this.mediaProvider&&this.mediaProvider.uploadParams&&this.mediaProvider.uploadParams.collection}},{key:"updateAndDispatch",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=n,o=e[r];void 0!==o&&(t[r]=o)})),this.dispatch&&this.dispatch(gs.S,wu({},this))}}]),e}(),Su=function(e){return gs.S.getState(e)},Cu=function(e,t,n,r,o,i,a){var c=function(e,t){var n=document.createElement("div"),r=Z.createElement;return t?Fi.render(r(H.zt,{value:e},r(Is,{type:"single"})),n):Fi.render(r(H.zt,{value:e},r(Is)),n),n}(r(),i&&i.allowDropzoneDropLine);return new u.J({state:{init:function(e,n){return new Ou(n,t,i,a,o)},apply:function(e,t){"number"==typeof t.editingMediaSinglePos&&(t.editingMediaSinglePos=e.mapping.map(t.editingMediaSinglePos));var n=e.getMeta(gs.S);if(n){var r=n.allowsUploads;t.updateAndDispatch({allowsUploads:void 0===r?t.allowsUploads:r})}return t}},appendTransaction:function(e,t,n){var r,o=gu(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.selectionSet&&(0,W.EG)(i.selection)&&i.selection.node.type===n.schema.nodes.media&&i.selection.$anchor.parent.type===n.schema.nodes.mediaSingle)return n.tr.setSelection(g.NodeSelection.create(n.doc,i.selection.$from.pos-1))}}catch(e){o.e(e)}finally{o.f()}},key:gs.S,view:function(e){var t=Su(e.state);return t.setView(e),t.updateElement(),{update:function(){t.updateElement()}}},props:{decorations:function(e){if(Su(e).showDropzone){var t=e.schema,n=e.selection.$anchor;if(e.selection instanceof g.NodeSelection){if(e.selection.node.type===t.nodes.mediaSingle){var r=tn.p.node(e.selection.from,e.selection.to,{class:"richMedia-selected"});return tn.EH.create(e.doc,[r])}}else{var o=n.pos;if(n.parent.type!==t.nodes.paragraph&&n.parent.type!==t.nodes.codeBlock&&(o=(0,nn.Yo)(e.doc,o,t.nodes.mediaGroup)),null!=o){var i=[tn.p.widget(o,c,{key:"drop-placeholder"})];return tn.EH.create(e.doc,i)}}}},nodeViews:t.nodeViews,handleTextInput:function(e){return Su(e.state).splitMediaGroup(),!1},handleClick:function(e,t,n){var r,o,i=null===(r=n.target)||void 0===r?void 0:r.closest('[data-id="'.concat(hu.E,'"]'));return!(!Ec.Z.chrome&&!Ec.Z.safari||!i)||!!Ec.Z.ios&&!(null===(o=n.target)||void 0===o||!o.closest('[class="'.concat(Eu,'"]')))}}})};function Tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tu(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _u="history$",Pu=new g.PluginKey("mediaAltTextPlugin"),Du=(0,On.H)(Pu,(function(e,t){switch(t.type){case"updateAltText":return Au({},e);case"openMediaAltTextMenu":return Au(Au({},e),{},{isAltTextEditorOpen:!0});case"closeMediaAltTextMenu":return Au(Au({},e),{},{isAltTextEditorOpen:!1});default:return e}}),{onSelectionChanged:function(e,t){return e.getMeta(_u)?t:{isAltTextEditorOpen:!1}}}),Zu=Du.createPluginState,Iu=Du.createCommand,Lu=Du.getPluginState,Mu=function(e){var t=e.dispatch;e.providerFactory;return new u.J({state:Zu(t,{isAltTextEditorOpen:!1}),key:Pu})};function Ru(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ru(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ju=Iu((function(e){return!!Ic(e)&&{type:"closeMediaAltTextMenu"}})),Fu=function(e,t,n){return(0,At.wi)({action:e,actionSubject:p.Wt.MEDIA,actionSubjectId:p.VJ.ALT_TEXT,eventType:p.Ze.TRACK})(Iu(t,n))}(p.om.OPENED,(function(e){return!!Ic(e)&&{type:"openMediaAltTextMenu"}}),(function(e){return e.setMeta("scrollIntoView",!1)}));function Bu(e,t){var n=e.$from,r=n.index(n.depth-1),o=n.node(n.depth-1);return o?o.maybeChild(r+t):null}function zu(e){return function(t,n){var r=t.selection.$from,o=t.schema.nodes.paragraph,i=Bu(t.selection,-2);if(!i)return!1;var a=Bu(t.selection,-1),c=r.pos-a.nodeSize-i.nodeSize,s=t.tr;if(function(t){var n=!1;try{n=e(t)}catch(e){}return n}(i))s=s.replace(c-1,c+i.nodeSize);else if((0,ta.OH)(t.selection)?s.replace(r.pos,r.pos+r.parent.nodeSize-1):s.replace(r.pos-1,r.pos+r.parent.nodeSize-1),i.type===o){var u=c+i.nodeSize-2;(0,W.Z3)(r.parent.content,u)(s)}else{var l=c+i.nodeSize-1;(0,W.Z3)(r.parent.copy(r.parent.content),l)(s)}return n&&n(s),!0}}var Uu,Vu=function(e){var t=(0,ta.KI)(e);return function(e,n){var r=e.selection,o=e.schema,i=r.$from;if(!function(e){return!!e.empty&&e.$from.parentOffset<=0}(e.selection))return!1;if(!function(e,t){return e.$from.parent.type===t}(e.selection,o.nodes.paragraph))return!1;return!!function(e,t,n){var r=Bu(e,n);return!!r&&r.type===t}(e.selection,o.nodes.mediaSingle,-1)&&("wrap-right"===Bu(e.selection,-1).attrs.layout?zu(t)(e,n):(n&&(0,ar._M)(e,(function(r){t(i.parent)&&!(0,Ac.hX)(e)&&r.replace(i.pos-1,i.pos+i.parent.nodeSize-1),n(r)})),!0))}};function Hu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.showToolbar="MEDIA_SHOW_TOOLBAR",e.hideToolbar="MEDIA_HIDE_TOOLBAR",e.setUrl="MEDIA_SET_LINK_TO",e.unlink="MEDIA_LINKING_UNLINK"}(Uu||(Uu={}));function Gu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gu(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ku=new g.PluginKey("mediaLinking"),$u={visible:!1,editable:!1,mediaPos:null,link:""};var Ju=(0,On.H)(Ku,(function(e,t){switch(t.type){case Uu.showToolbar:return Wu(Wu({},e),{},{visible:!0});case Uu.setUrl:return Wu(Wu({},e),{},{editable:!0,link:t.payload});case Uu.hideToolbar:return Wu(Wu({},e),{},{visible:!1});case Uu.unlink:return Wu(Wu({},e),{},{link:"",visible:!1,editable:!1})}return e}),{mapping:function(e,t){return t&&null!==t.mediaPos?qu(qu({},t),{},{mediaPos:e.mapping.map(t.mediaPos)}):t},onSelectionChanged:function(e){if(!(e.selection instanceof g.NodeSelection))return $u;var t=e.selection.$from.pos+1,n=e.doc.nodeAt(t);if(!n||"media"!==n.type.name)return $u;var r=n.marks.find((function(e){return"link"===e.type.name}));return qu(qu({},$u),{},r?{mediaPos:t,editable:!0,link:r.attrs.href}:{mediaPos:t})}}),Yu=Ju.createCommand,Xu=Ju.getPluginState;var Qu=n(57195),el=/([a-zA-Z]:|\\)([^\/:*?<>"|]+\\)?([^\/:*?<>"| ]+(?=\s?))?/gim,tl=/^(\$|{)/,nl=function(){function e(){(0,P.Z)(this,e)}return(0,D.Z)(e,null,[{key:"create",value:function(){return new(function(){function e(){(0,P.Z)(this,e)}return(0,D.Z)(e,[{key:"exec",value:function(e){var t=e.slice(0,e.length-1).split(" "),n=t[t.length-1],r=n.length>0;if(!e.endsWith(" ")||!r)return null;if(tl.test(n))return null;var o=Qu.N1.match(n);if(!o||0===o.length)return null;var i=o[o.length-1],a=o[o.length-1];return a.input=e.substring(i.index),a.length=a.lastIndex-a.index+1,a.index=e.lastIndexOf(n)+i.index,a}}]),e}())}}]),e}();function rl(e){return e?(0,Qu.w6)(e)?e:(0,Qu.D5)(e):""}function ol(e){return function(t){return dr(t,(function(t,n){var r=!n||n.type!==e.nodes.codeBlock,o=t.type.schema.marks.link;if(void 0===o)throw new Error("Link not in schema - unable to linkify content");if(r&&t.isText&&!o.isInSet(t.marks)){var i=[],a=t.text,c=function(e){var t=[],n=e&&Qu.N1.match(e);n&&n.length>0&&n.forEach((function(e){t.push({start:e.index,end:e.lastIndex,title:e.raw,href:e.url})}));return t}(a),s=0,u=cl(a);return c.forEach((function(e){sl(e.start,u)||(e.start>0&&i.push(t.cut(s,e.start)),i.push(t.cut(e.start,e.end).mark(o.create({href:rl(e.href)}).addToSet(t.marks))),s=e.end)})),s<a.length&&i.push(t.cut(s)),i}return t}))}}function il(e){return e.toLowerCase().replace(/^(.*):\/\//,"").replace(/^(www\.)/,"").replace(/[:\/?#](.*)$/,"")}function al(e){return!(!window||!window.location)&&window.location.hostname===il(e)}var cl=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new RegExp(el),o=[];null!==(t=r.exec(e));){var i=t.index+n,a=r.lastIndex+n;a-i>260&&(a=i+260),o.push({startIndex:i,endIndex:a})}return o},sl=function(e,t){for(var n=0;n<t.length;n++)if(e>=t[n].startIndex&&e<t[n].endIndex)return!0;return!1},ul=function(e){var t=e.doc,n=e.selection,r=e.schema;if(t&&n&&n instanceof g.NodeSelection&&n.node.type===r.nodes.mediaSingle){var o=n.$anchor.pos+1,i=t.nodeAt(o);if(i&&i.type===r.nodes.media)return{node:i,pos:o}}},ll=function(e){var t;return null===(t=ul(e))||void 0===t?void 0:t.node},dl=n(92270);function pl(){pl=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var fl=function(){var e=(0,wc.Z)(pl().mark((function e(t,n){var r;return pl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("external"!==t.attrs.type){e.next=2;break}return e.abrupt("return","external");case 2:if(t.attrs.id){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,dl.y)(n).file.getCurrentState(t.attrs.id,{collectionName:t.attrs.collection});case 7:if(!(r=e.sent)||"error"===r.status){e.next=10;break}return e.abrupt("return",r.mediaType);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}();function hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hl(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ml=Yu((function(e){var t=Xu(e);if(t&&null!==t.mediaPos&&e.doc.nodeAt(t.mediaPos))return{type:Uu.showToolbar};return!1})),gl=function(e,t,n){if(t&&n){var r=ll(e);if(!r)return!1;var o=Su(e).mediaClientConfig;if(!o)return!1;fl(r,o).then((function(e){"external"!==e&&"image"!==e||ll(n.state)!==r||t(n.state.tr.setMeta(Ku,{type:Uu.showToolbar}))}))}return!0},yl=Yu({type:Uu.hideToolbar}),bl=function(e,t,n,r){yl(e,t,n),n&&!r&&n.focus()};function wl(e,t,n){var r=n.forceRemove,o=void 0!==r&&r,i=n.url,a=Xu(t);if(!a||null===a.mediaPos)return e;var c=t.doc.resolve(a.mediaPos),s=t.doc.nodeAt(c.pos);if(!s)return e;var u=t.schema.marks.link,l=t.schema.nodes.media,d=(0,me.E5)(u,(function(e,t){if(t&&t.type===l){if(o)return!1;var n=rl(i);if(!e||e.href!==n)return""!==n.trim()&&vl(vl({},e),{},{href:n})}}),[l]);return d(c.pos,c.pos+s.nodeSize,e,t),e}var kl=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return(0,At.Gs)(t,e,{action:n,eventType:p.Ze.TRACK,actionSubject:p.Wt.MEDIA,actionSubjectId:p.VJ.LINK,attributes:r})},El=Yu({type:Uu.unlink},(function(e,t){var n=wl(e,t,{forceRemove:!0});return kl(n,t,p.om.DELETED)})),xl=function(e,t){var n=function(e){var t=e.schema.marks.link,n=Xu(e);if(n&&null!==n.mediaPos){var r=e.doc.resolve(n.mediaPos),o=e.doc.nodeAt(r.pos);if(o&&t.isInSet(o.marks))return o.marks.find((function(e){return e.type===t})).attrs.href}}(t);return n?e!==n?p.om.EDITED:void 0:p.om.ADDED},Ol=function(e,t){return Yu({type:Uu.setUrl,payload:rl(e)},(function(n,r){var o=xl(e,r);if(!o)return n;try{var i=wl(n,r,{url:e});return kl(n,r,o,o===p.om.ADDED?{inputMethod:t}:void 0),i}catch(e){throw kl(n,r,p.om.ERRORED,{action:o}),e}}))};var Sl=function(e,t){return function(n,r){var o=n.tr;if(1!==t.childCount)return!1;if(r){var i=n.schema,a=t.child(0),c=i.nodes.caption.create();o=n.tr.insert(e+a.nodeSize+1,c),(o=Cl(o,e,a.nodeSize,c.nodeSize)).setMeta("scrollIntoView",!1),(0,At.Gs)(n,o,{action:p.om.ADDED,eventType:p.Ze.TRACK,actionSubject:p.Wt.MEDIA_SINGLE,actionSubjectId:p.VJ.CAPTION}),r(o)}return!0}},Cl=function(e,t,n,r){return(0,W.B0)(t+n+r)(e)};var Tl=function(e){return gs.S.getState(e).ignoreLinks=!0,!1},Al=function(e){return gs.S.getState(e).splitMediaGroup()},_l=function(e,t){var n,r,o=e.selection,i=e.schema;if(o instanceof g.NodeSelection&&o.node.type===i.nodes.mediaSingle&&i.nodes.caption){if(t){var a=o.from,c=o.node;Sl(a,c)(e,t)||(n=a,r=c,function(e,t){if(2!==r.childCount)return!1;if(t){var o=r.child(0),i=r.child(1),a=e.tr;(a=Cl(a,n,o.nodeSize,i.nodeSize)).setMeta("scrollIntoView",!1),t(a)}return!0})(e,t)}return!0}return!1},Pl=function(e){return function(t,n){var r=t.selection;if(e&&r instanceof g.NodeSelection&&"mediaSingle"===r.node.type.name){var o=e.setSelectionRelativeToNode({selectionRelativeToNode:void 0,selection:new rn.WD(t.doc.resolve(r.from),rn.MF.LEFT)})(t);return n&&n(o),!0}return!1}},Dl=function(e){return function(t,n){var r=t.selection;if(e&&r instanceof g.NodeSelection&&"mediaSingle"===r.node.type.name){var o=e.setSelectionRelativeToNode({selectionRelativeToNode:void 0,selection:new rn.WD(t.doc.resolve(r.to),rn.MF.RIGHT)})(t);return n&&n(o),!0}return!1}};const Zl=function(e){var t={},n=(e||{}).featureFlags;return Re.E4(Re.Yw.common,Tl,t),Re.E4(Re.IO.common,Al,t),(0,fu.OC)("captions",n)&&(Re.E4(Re.vi.common,_l,t),Re.E4(Re.n2.common,_l,t),Re.E4(Re.hi.common,Pl(null==e?void 0:e.editorSelectionAPI),t),Re.E4(Re.ql.common,Dl(null==e?void 0:e.editorSelectionAPI),t)),Re.E4(Re.zo.common,Al,t),(0,it.h)(t)};var Il=n(34040),Ll=(0,Ze.vU)({toolbarMediaTitle:{id:"fabric.editor.toolbarMediaTitle",defaultMessage:"Add image, video, or file",description:"a label for an icon that describes files, videos and images"}});const Ml=(0,H.ZP)((function(e){var t=e.editorView,n=e.eventDispatcher,r=e.pluginKey,o=e.isDisabled,i=e.isReducedSpacing,a=e.intl;return Z.createElement(M.Z,{editorView:t,eventDispatcher:n,plugins:{mediaPlugin:r},render:function(e){var t=e.mediaPlugin;if(null==t||!t.allowsUploads)return null;var n,r=Ll.toolbarMediaTitle;return Z.createElement(Ce.Z,{buttonId:Ce.s.MEDIA,onClick:(n=t,function(){return n.showMediaPicker(),!0}),disabled:o,title:a.formatMessage(r),spacing:i?"none":"default",iconBefore:Z.createElement(Il.Z,{label:a.formatMessage(r)})})}})}));var Rl=n(69024),Nl=n(72007),jl=n(67396),Fl=n(57427),Bl=1,zl=new Map;function Ul(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Vl=function(e){(0,j.Z)(n,e);var t=Ul(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{animate:!1,offset:0}),(0,o.Z)((0,N.Z)(e),"handleSize",(function(t){var n=t.offset;return e.setState({offset:n})})),(0,o.Z)((0,N.Z)(e),"handleScroll",(function(t){var n=t.animate,r=t.offset;return e.setState({animate:n,offset:r})})),e}return(0,D.Z)(n,[{key:"renderCards",value:function(){var e=this.props,t=e.items,n=e.mediaClientConfig,r=e.shouldOpenMediaViewer,o=e.featureFlags;return t.map((function(e){var i=function(e){switch(e.mediaItemType){case"external-image":return e.dataURI;case"file":if("string"==typeof e.id)return e.id;var t=zl.get(e.id);if(t)return t;Bl++;var n="".concat(Bl);return zl.set(e.id,n),n}}(e.identifier);if(!n)return Z.createElement(hs.o,{key:i,dimensions:jl.tN});var a=r?t.map((function(e){return e.identifier})):void 0;return Z.createElement(vs.Z,(0,Lt.Z)({key:i,mediaClientConfig:n,dimensions:jl.tN,useInlinePlayer:!1,shouldOpenMediaViewer:r,mediaViewerItems:a,featureFlags:o},e))}))}},{key:"render",value:function(){var e=this.props.testId,t=void 0===e?"media-filmstrip":e,n=this.state,r=n.animate,o=n.offset;return Z.createElement(Fl.sA,{animate:r,offset:o,onSize:this.handleSize,onScroll:this.handleScroll,testId:t},this.renderCards())}}]),n}(Z.Component),Hl=n(65109),Wl=n(76298),Gl=n(13965),ql=function(){function e(t,n,r,i,a,c,s){var u=this,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],d=arguments.length>8?arguments[8]:void 0,p=arguments.length>9&&void 0!==arguments[9]&&arguments[9];(0,P.Z)(this,e),(0,o.Z)(this,"handleRef",(function(e){return u._handleRef(e)})),(0,o.Z)(this,"dispatchAnalyticsEvent",(function(e){u.eventDispatcher&&(0,ic.h)(u.eventDispatcher)(Hl.D,{payload:e})})),this.node=t,this.view=n,this.getPos=r,this.portalProviderAPI=i,this.reactComponentProps=c||{},this.reactComponent=s,this.hasAnalyticsContext=l,this._viewShouldUpdate=d,this.eventDispatcher=a,this.hasIntlContext=p}return(0,D.Z)(e,[{key:"init",value:function(){var e=this;this.domRef=this.createDomRef(),this.setDomAttrs(this.node,this.domRef);var t=this.getContentDOM()||{dom:void 0,contentDOM:void 0},n=t.dom,r=t.contentDOM;this.domRef&&n&&(this.domRef.appendChild(n),this.contentDOM=r||n,this.contentDOMWrapper=n||r),this.domRef.classList.add("".concat(this.node.type.name,"View-content-wrap"));var o=(0,Gl.Rz)(this.view),i=o.samplingRate,a=o.slowThreshold,c=o.trackingEnabled;return c&&(0,Gl.vy)({nodeTypeName:this.node.type.name}),this.renderReactComponent((function(){return e.render(e.reactComponentProps,e.handleRef)})),c&&(0,Gl.qH)({nodeTypeName:this.node.type.name,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,editorState:this.view.state,samplingRate:i,slowThreshold:a}),this}},{key:"renderReactComponent",value:function(e){var t=this;if(this.domRef&&e){this.portalProviderAPI.render((function(){var n,r,o;return Z.createElement(Wl.S,{component:p.Wt.REACT_NODE_VIEW,componentId:null!==(n=null==t||null===(r=t.node)||void 0===r||null===(o=r.type)||void 0===o?void 0:o.name)&&void 0!==n?n:p.VJ.UNKNOWN_NODE,dispatchAnalyticsEvent:t.dispatchAnalyticsEvent},e())}),this.domRef,this.hasAnalyticsContext,this.hasIntlContext)}}},{key:"createDomRef",value:function(){return this.node.isInline?document.createElement("span"):document.createElement("div")}},{key:"getContentDOM",value:function(){}},{key:"_handleRef",value:function(e){var t=this.contentDOMWrapper||this.contentDOM;e&&t&&!e.contains(t)&&e.appendChild(t)}},{key:"render",value:function(e,t){return this.reactComponent?Z.createElement(this.reactComponent,(0,Lt.Z)({view:this.view,getPos:this.getPos,node:this.node,forwardRef:t},e)):null}},{key:"update",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};return!(this.node.type!==e.type||!o(this.node,e))&&(this.domRef&&!this.node.sameMarkup(e)&&this.setDomAttrs(e,this.domRef),this.viewShouldUpdate(e)?(this.node=e,this.renderReactComponent((function(){return r.render(r.reactComponentProps,r.handleRef)})),!0):(this.node=e,!0))}},{key:"viewShouldUpdate",value:function(e){return!this._viewShouldUpdate||this._viewShouldUpdate(e)}},{key:"setDomAttrs",value:function(e,t){Object.keys(e.attrs||{}).forEach((function(n){t.setAttribute(n,e.attrs[n])}))}},{key:"dom",get:function(){return this.domRef}},{key:"destroy",value:function(){this.domRef&&(this.portalProviderAPI.remove(this.domRef),this.domRef=void 0,this.contentDOM=void 0)}}],[{key:"fromComponent",value:function(t,n,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(c,s,u){return new e(c,s,u,n,r,o,t,!1,i,a).init()}}}]),e}(),Kl=n(88188),$l=new g.PluginKey("editorDisabledPlugin");var Jl=(0,On.H)($l,(function(e,t){return t})),Yl=Jl.createPluginState,Xl=Jl.getPluginState;const Ql=function(){return{name:"editorDisabled",getSharedState:function(e){return e?$l.getState(e):{editorDisabled:!1}},pmPlugins:function(){return[{name:"editorDisabled",plugin:function(e){return function(e){return new u.J({key:$l,state:Yl(e,{editorDisabled:!1}),view:function(){return{update:function(e){if(Xl(e.state).editorDisabled!==!e.editable){var t=e.state.tr.setMeta($l,{editorDisabled:!e.editable});t.setMeta("isLocal",!0),e.dispatch(t)}}}}})}(e.dispatch)}}]}}};var ed=n(26426),td=n.n(ed),nd=n(87057);function rd(){rd=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var od=function(){function e(t){var n=this;(0,P.Z)(this,e),(0,o.Z)(this,"updateContextId",(0,wc.Z)(rd().mark((function e(){var t,r,o;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=n.getAttrs())&&"file"===t.type){e.next=3;break}return e.abrupt("return");case 3:return r=t.id,e.next=6,n.getObjectId();case 6:o=e.sent,Xs(r,{__contextId:o})(n.props.view.state,n.props.view.dispatch);case 8:case"end":return e.stop()}}),e)})))),(0,o.Z)(this,"updateNodeContextId",function(){var e=(0,wc.Z)(rd().mark((function e(t){var r,o;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("file"===(null==(r=n.getAttrs())?void 0:r.type)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.getObjectId();case 5:o=e.sent,Qs({__contextId:o},{node:n.props.node,getPos:t})(n.props.view.state,n.props.view.dispatch);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"hasFileAttributesDefined",(function(e){return e&&"file"===e.type&&e.__fileName&&e.__fileMimeType&&e.__fileSize&&e.__contextId})),(0,o.Z)(this,"getNewFileAttrsForNode",(0,wc.Z)(rd().mark((function e(){var t,r,o,i,a,c,s,u,l,d,p,f,h;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.getAttrs(),e.next=3,n.props.mediaProvider;case 3:if((r=e.sent)&&r.uploadParams&&t&&"file"===t.type&&!n.hasFileAttributesDefined(t)){e.next=6;break}return e.abrupt("return");case 6:return o=r.viewMediaClientConfig,i=(0,dl.y)(o),c=t.id,s=t.collection,e.prev=9,e.next=12,i.file.getCurrentState(c,{collectionName:s});case 12:if("error"!==(a=e.sent).status){e.next=15;break}return e.abrupt("return");case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(9),e.abrupt("return");case 20:if(e.t1=n.getNodeContextId(),e.t1){e.next=25;break}return e.next=24,n.getObjectId();case 24:e.t1=e.sent;case 25:if(u=e.t1,d=(l=a).name,p=l.mimeType,f=l.size,id(t,h={__fileName:d,__fileMimeType:p,__fileSize:f,__contextId:u})){e.next=30;break}return e.abrupt("return");case 30:return e.abrupt("return",h);case 31:case"end":return e.stop()}}),e,null,[[9,17]])})))),(0,o.Z)(this,"updateMediaSingleFileAttrs",(0,wc.Z)(rd().mark((function e(){var t,r,o;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getNewFileAttrsForNode();case 2:t=e.sent,r=n.getAttrs(),(o=r.id)&&t&&Xs(o,t)(n.props.view.state,n.props.view.dispatch);case 5:case"end":return e.stop()}}),e)})))),(0,o.Z)(this,"updateNodeAttrs",function(){var e=(0,wc.Z)(rd().mark((function e(t){var r;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getNewFileAttrsForNode();case 2:(r=e.sent)&&Qs(r,{node:n.props.node,getPos:t})(n.props.view.state,n.props.view.dispatch);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"getAttrs",(function(){var e=n.props.node.attrs;if(e)return e})),(0,o.Z)(this,"getObjectId",(0,wc.Z)(rd().mark((function e(){var t;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.contextIdentifierProvider;case 2:return t=e.sent,e.abrupt("return",(null==t?void 0:t.objectId)||null);case 4:case"end":return e.stop()}}),e)})))),(0,o.Z)(this,"uploadExternalMedia",function(){var e=(0,wc.Z)(rd().mark((function e(t){var r,o,i,a,c,s,u,l;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.node,e.next=3,n.props.mediaProvider;case 3:if(o=e.sent,!r||!o){e.next=21;break}if((i=o.uploadMediaClientConfig)&&r.attrs.url){e.next=8;break}return e.abrupt("return");case 8:return a=(0,dl.y)(i),c=o.uploadParams&&o.uploadParams.collection,e.prev=10,e.next=13,a.file.uploadExternal(r.attrs.url,c);case 13:s=e.sent,u=s.uploadableFileUpfrontIds,l=s.dimensions,tu(t()+1,{id:u.id,collection:c,height:l.height,width:l.width,occurrenceKey:u.occurrenceKey})(n.props.view.state,n.props.view.dispatch),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),n.props.dispatchAnalyticsEvent&&n.props.dispatchAnalyticsEvent({action:p.om.UPLOAD_EXTERNAL_FAIL,actionSubject:p.Wt.EDITOR,eventType:p.Ze.OPERATIONAL});case 21:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"getNodeContextId",(function(){var e=n.getAttrs();return e&&"file"===e.type&&e.__contextId||null})),(0,o.Z)(this,"updateDimensions",(function(e){Xs(e.id,{height:e.height,width:e.width})(n.props.view.state,n.props.view.dispatch)})),(0,o.Z)(this,"hasDifferentContextId",(0,wc.Z)(rd().mark((function e(){var t,r;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.getNodeContextId(),e.next=3,n.getObjectId();case 3:if(r=e.sent,!t||!r||t===r){e.next=6;break}return e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})))),(0,o.Z)(this,"isNodeFromDifferentCollection",(0,wc.Z)(rd().mark((function e(){var t,r,o,i,a;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.mediaProvider;case 2:if((t=e.sent)&&t.uploadParams){e.next=5;break}return e.abrupt("return",!1);case 5:if(r=t.uploadParams.collection,(o=n.getAttrs())&&"file"===o.type){e.next=9;break}return e.abrupt("return",!1);case 9:if(i=o.collection,a=o.__contextId,e.t0=a,e.t0){e.next=15;break}return e.next=14,n.getObjectId();case 14:e.t0=e.sent;case 15:if(!e.t0||r===i){e.next=18;break}return e.abrupt("return",!0);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e)})))),(0,o.Z)(this,"copyNodeFromBlobUrl",function(){var e=(0,wc.Z)(rd().mark((function e(t){var r,o,i,a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=n.getAttrs())&&"external"===r.type){e.next=3;break}return e.abrupt("return");case 3:if(o=r.url,i=(0,_c.Ny)(o)){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,n.props.mediaProvider;case 9:if((a=e.sent)&&a.uploadParams){e.next=12;break}return e.abrupt("return");case 12:if(c=a.uploadParams.collection,s=i.contextId,u=i.id,l=i.collection,d=i.height,p=i.width,f=i.mimeType,h=i.name,v=i.size,(m=a.uploadMediaClientConfig)&&m.getAuthFromContext){e.next=17;break}return e.abrupt("return");case 17:return g=(0,dl.y)(m),e.next=20,m.getAuthFromContext(s);case 20:return y=e.sent,b={id:u,collection:l,authProvider:function(){return Promise.resolve(y)}},w={collection:c,authProvider:m.authProvider,occurrenceKey:td()()},e.next=25,g.file.copyFile(b,w);case 25:k=e.sent,tu(t()+1,{id:k.id,collection:c,height:d,width:p,__fileName:h,__fileMimeType:f,__fileSize:v})(n.props.view.state,n.props.view.dispatch);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"copyNodeFromPos",function(){var e=(0,wc.Z)(rd().mark((function e(t,r){var o,i;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("file"===(null==(o=n.getAttrs())?void 0:o.type)){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,n.copyFile(o.id,o.collection,r);case 5:if(i=e.sent){e.next=8;break}return e.abrupt("return");case 8:Qs(i,{node:n.props.node,getPos:t})(n.props.view.state,n.props.view.dispatch);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),(0,o.Z)(this,"copyNode",function(){var e=(0,wc.Z)(rd().mark((function e(t){var r,o,i;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getAttrs(),o=n.props.view,"file"===(null==r?void 0:r.type)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,n.copyFile(r.id,r.collection,t);case 6:if(i=e.sent){e.next=9;break}return e.abrupt("return");case 9:eu(r.id,i)(o.state,o.dispatch);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)(this,"copyFile",function(){var e=(0,wc.Z)(rd().mark((function e(t,r,o){var i,a,c,s,u,l,d,p,f,h;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.mediaProvider;case 2:if(i=e.sent,t&&r&&null!=i&&i.uploadParams){e.next=5;break}return e.abrupt("return");case 5:if(a=n.getNodeContextId(),null!=(c=i.uploadMediaClientConfig)&&c.getAuthFromContext&&a){e.next=9;break}return e.abrupt("return");case 9:return s=(0,dl.y)(c),e.next=12,c.getAuthFromContext(a);case 12:return u=e.sent,e.next=15,n.getObjectId();case 15:return l=e.sent,d={id:t,collection:r,authProvider:function(){return Promise.resolve(u)}},p=i.uploadParams.collection,f={collection:p,authProvider:c.authProvider,occurrenceKey:td()()},e.next=21,s.file.copyFile(d,f,void 0,o);case 21:return h=e.sent,e.abrupt("return",{id:h.id,collection:p,__contextId:l});case 23:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),this.props=t}var t,n;return(0,D.Z)(e,[{key:"isMediaBlobUrl",value:function(){var e=this.getAttrs();return!(!e||"external"!==e.type||!(0,_c.WD)(e.url))}},{key:"getRemoteDimensions",value:(n=(0,wc.Z)(rd().mark((function e(){var t,n,r,o,i,a,c,s,u,l,d;return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.mediaProvider;case 2:if(t=e.sent,n=this.props.mediaOptions,r=this.getAttrs(),t&&r){e.next=7;break}return e.abrupt("return",!1);case 7:if(o=r.height,i=r.width,"external"!==r.type&&r.id){e.next=10;break}return e.abrupt("return",!1);case 10:if(a=r.id,c=r.collection,!o||!i){e.next=13;break}return e.abrupt("return",!1);case 13:if(!n||n.allowRemoteDimensionsFetch){e.next=15;break}return e.abrupt("return",{id:a,height:Sc.rS,width:Sc.vz});case 15:return s=t.viewMediaClientConfig,u=(0,dl.y)(s),e.next=19,u.file.getCurrentState(a,{collectionName:c});case 19:if(l=e.sent,(0,nd.mo)(l)){e.next=22;break}return e.abrupt("return",!1);case 22:return e.next=24,u.getImageMetadata(a,{collection:c});case 24:if((d=e.sent)&&d.original){e.next=27;break}return e.abrupt("return",!1);case 27:return e.abrupt("return",{id:a,height:d.original.height||Sc.rS,width:d.original.width||Sc.vz});case 28:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"handleExternalMedia",value:(t=(0,wc.Z)(rd().mark((function e(t){return rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isMediaBlobUrl()){e.next=12;break}return e.prev=1,e.next=4,this.copyNodeFromBlobUrl(t);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),e.next=10,this.uploadExternalMedia(t);case 10:e.next=14;break;case 12:return e.next=14,this.uploadExternalMedia(t);case 14:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(e){return t.apply(this,arguments)})}]),e}(),id=function(e,t){return e.__fileName!==t.__fileName||e.__fileMimeType!==t.__fileMimeType||e.__fileSize!==t.__fileSize||e.__contextId!==t.__contextId},ad=(0,Ze.vU)({mediaGroupDeleteLabel:{id:"fabric.editor.mediaGroupDeleteLabel",defaultMessage:"delete",description:"a label for an icon that deletes media"}});function cd(){cd=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function sd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ud(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var ld=function(e){return(0,Ls.sp)(e.anchorPos,e.headPos,e.getPos(),e.node.nodeSize)},dd=function(e){(0,j.Z)(n,e);var t=ud(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"state",{viewMediaClientConfig:void 0}),(0,o.Z)((0,N.Z)(r),"updateNodeAttrs",(function(e,t,n){var r=e.view,o=e.mediaProvider,i=e.contextIdentifierProvider;new od({view:r,mediaProvider:o,contextIdentifierProvider:i,node:t,isMediaSingle:!1}).updateNodeAttrs(n)})),(0,o.Z)((0,N.Z)(r),"setMediaItems",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.node,o=r.mediaNodes;r.mediaNodes=[],n.forEach((function(n,o){r.mediaNodes.push(n),t&&r.updateNodeAttrs(e,n,(function(){return e.getPos()+o+1}))})),r.mediaPluginState.handleMediaGroupUpdate(o,r.mediaNodes)})),(0,o.Z)((0,N.Z)(r),"getIdentifier",(function(e){return"external"===e.attrs.type?{mediaItemType:"external-image",dataURI:e.attrs.url}:{id:e.attrs.id,mediaItemType:"file",collectionName:e.attrs.collection}})),(0,o.Z)((0,N.Z)(r),"isNodeSelected",(function(e){var t=ld(r.props);return t===Ls.u7.selectedInRange||t===Ls.u7.selectedInside&&r.props.anchorPos===e})),(0,o.Z)((0,N.Z)(r),"renderChildNodes",(function(){var e=r.state.viewMediaClientConfig,t=r.props,n=t.getPos,i=t.allowLazyLoading,a=t.disabled,c=t.mediaOptions,s=r.mediaNodes.map((function(e,t){var s=function(){return n()+t+1};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sd(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({identifier:r.getIdentifier(e),isLazy:i,selected:r.isNodeSelected(s()),onClick:function(){(0,ms.Ui)(r.props.view,s())}},function(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return{shouldEnableDownloadButton:c.enableDownloadButton,actions:[{handler:a?function(){}:r.mediaPluginState.handleMediaNodeRemoval.bind(null,void 0,s),icon:Z.createElement(Nl.Z,{label:r.props.intl.formatMessage(ad.mediaGroupDeleteLabel)})}]}}((0,fu.OC)("mediaInline",c.featureFlags)))}));return Z.createElement(Vl,{items:s,mediaClientConfig:e,featureFlags:c.featureFlags})})),r.mediaNodes=[],r.mediaPluginState=gs.S.getState(e.view.state),r.setMediaItems(e),r.state={viewMediaClientConfig:void 0},r}return(0,D.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateMediaClientConfig(),this.mediaNodes.forEach(function(){var t=(0,wc.Z)(cd().mark((function t(n){var r,o,i,a,c,s;return cd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("external"!==n.attrs.type){t.next=2;break}return t.abrupt("return");case 2:if(r=e.props,o=r.view,i=r.mediaProvider,a=r.contextIdentifierProvider,c=new od({view:o,mediaProvider:i,contextIdentifierProvider:a,node:n,isMediaSingle:!1}),s=function(){return e.props.getPos()+1},c.getNodeContextId()){t.next=9;break}return t.next=9,c.updateNodeContextId(s);case 9:return t.next=11,c.hasDifferentContextId();case 11:if(!t.sent){t.next=15;break}return t.next=15,c.copyNodeFromPos(s,{traceId:n.attrs.__mediaTraceId});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.mediaPluginState.handleMediaGroupUpdate(this.mediaNodes,[])}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.updateMediaClientConfig(),this.setMediaItems(e,e.isCopyPasteEnabled||void 0===e.isCopyPasteEnabled)}},{key:"shouldComponentUpdate",value:function(e){return t=this.props,n=e,ld(t)!==ld(n)||ld(n)===Ls.u7.selectedInside&&t.anchorPos!==n.anchorPos||this.props.node!==e.node||this.state.viewMediaClientConfig!==this.mediaPluginState.mediaClientConfig;var t,n}},{key:"updateMediaClientConfig",value:function(){var e=this.state.viewMediaClientConfig,t=this.mediaPluginState.mediaClientConfig;!e&&t&&this.setState({viewMediaClientConfig:t})}},{key:"render",value:function(){return this.renderChildNodes()}}]),n}(Z.Component);(0,o.Z)(dd,"displayName","MediaGroup");var pd=(0,H.ZP)(dd);var fd,hd=function(e){(0,j.Z)(n,e);var t=ud(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(e,t){var n=this,r=e.providerFactory,o=e.mediaOptions,i=this.getPos;return Z.createElement(Rl.S,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:r,renderNode:function(e){var r=e.mediaProvider,a=e.contextIdentifierProvider;return Z.createElement(M.Z,{editorView:n.view,plugins:{reactNodeViewState:Kl.SL,editorDisabledPlugin:$l},render:function(e){var c=e.editorDisabledPlugin;return r?Z.createElement(pd,{node:n.node,getPos:i,view:n.view,forwardRef:t,disabled:(c||{}).editorDisabled,allowLazyLoading:o.allowLazyLoading,mediaProvider:r,contextIdentifierProvider:a,isCopyPasteEnabled:o.isCopyPasteEnabled,anchorPos:n.view.state.selection.$anchor.pos,headPos:n.view.state.selection.$head.pos,mediaOptions:o}):null}})}})}}]),n}(ql),vd=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(o,i,a){return new hd(o,i,a,e,t,{providerFactory:n,mediaOptions:r},void 0,void 0,void 0,!0).init()}},md=n(93069),gd=n(8887),yd=n(87706),bd=function(e,t){return 0===t.length?e:t.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}))},wd=["left","right"],kd={left:"start",right:"end"},Ed=n(29875);function xd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Od=function(e,t){return t.length?Math.min(Math.max(e,t[0]),t[t.length-1]):e},Sd=function(e){(0,j.Z)(n,e);var t=xd(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"resizable",Z.createRef()),(0,o.Z)((0,N.Z)(e),"state",{isResizing:!1}),(0,o.Z)((0,N.Z)(e),"handleResizeStart",(function(t){var n=e.props,r=n.innerPadding,o=void 0===r?0:r,i=n.highlights,a=n.displayGrid,c=n.layout,s=n.width,u=n.snapPoints;t.preventDefault(),e.setState({isResizing:!0},(function(){var e=i(s+o,u);a(e.length>0,lc(c),e)}))})),(0,o.Z)((0,N.Z)(e),"handleResize",(function(t,n,r,o){var i=e.props,a=i.highlights,c=i.calcNewSize,s=i.scaleFactor,u=i.snapPoints,l=i.displayGrid,d=i.layout,p=i.updateSize,f=i.innerPadding,h=void 0===f?0:f,v=e.resizable.current,m=e.state.isResizing;if(v&&v.state.original&&m){var g=Od(v.state.original.width+o.width*(s||1),u),y=c(g+h,!1);y.layout!==d&&p(y.width,y.layout);var b=a(g,u);l(b.length>0,lc(y.layout),b),v.updateSize({width:g,height:"auto"}),v.setState({isResizing:!0})}})),(0,o.Z)((0,N.Z)(e),"handleResizeStop",(function(t,n,r,o){var i=e.props,a=i.highlights,c=i.calcNewSize,s=i.snapPoints,u=i.displayGrid,l=i.layout,d=i.updateSize,f=i.dispatchAnalyticsEvent,h=i.nodeType,v=e.resizable.current,m=e.state.isResizing;if(v&&v.state.original&&m){var g=Od(v.state.original.width+o.width,s),y=c(bd(g,s),!0),b=a(g,s);f&&f(function(e,t,n){var r="embed"===e?p.Wt.EMBEDS:p.Wt.MEDIA_SINGLE;return{action:p.om.EDITED,actionSubject:r,actionSubjectId:p.VJ.RESIZED,attributes:{size:t,layout:n},eventType:p.Ze.UI}}(h,y.width,y.layout)),u(b.length>0,lc(y.layout),b),e.setState({isResizing:!1},(function(){d(y.width,y.layout),u(!1,lc(l))}))}})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e={},t={},n={},r=this.props,i=r.innerPadding,a=void 0===i?0:i,c=r.width,s=r.pctWidth,u=r.selected,l=r.layout,d=r.enable,p=r.children,f=r.ratio,h=r.handleComponentFunc,v=this.state.isResizing;wd.forEach((function(r){var i;t[r]="richMedia-resize-handle-".concat(r),e[r]=(i={width:"24px"},(0,o.Z)(i,r,"".concat(-13-a,"px")),(0,o.Z)(i,"zIndex",ue.dA),(0,o.Z)(i,"pointerEvents","auto"),i);var c=h&&h(r);c&&(n[r]=c)}));var m,g=rc()(Ed.I,"image-".concat(l),this.props.className,{"is-resizing":v,"not-resized":!s,"richMedia-selected":u,"rich-media-wrapped":"wrap-left"===l||"wrap-right"===l});return f&&(m={position:"absolute",width:"100%",paddingBottom:"".concat(f,"%"),top:0,pointerEvents:"none"}),Z.createElement(yd.Resizable,{ref:this.resizable,size:{width:c,height:"auto"},className:g,handleClasses:t,handleStyles:e,handleWrapperStyle:m,handleComponent:n,enable:d,onResize:this.handleResize,onResizeStop:this.handleResizeStop,onResizeStart:this.handleResizeStart},p)}}]),n}(Z.Component);function Cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cd(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ad=["center","wide","full-width"],_d=["wrap-left","wrap-right"],Pd=function(e,t){if("number"!=typeof t||isNaN(t)||!e)return!1;var n=e.state.doc.resolve(t),r=e.state.schema.nodes,o=r.expand,i=r.nestedExpand,a=r.layoutColumn;return!!(0,W.NP)(n,[o,i,a])};function Dd(e){for(var t=e.$pos,n=e.akEditorWideLayoutWidth,r=e.allowBreakoutSnapPoints,o=e.containerWidth,i=e.gridSize,a=e.gridWidth,c=e.insideInlineLike,s=e.insideLayout,u=e.isVideoFile,l=e.lineLength,d=e.offsetLeft,p=e.wrappedLayout,f=[],h=0;h<a;h++){var v=(0,Cc.uP)(h,l,a);f.push(s?v:v-d)}f.push(l-d);var m=p||c?1:2,g=(0,Cc.uP)(m,l,i),y=f.filter((function(e){return e>=g}));if(!t)return y;if(y=u?y.filter((function(e){return e>320})):y,"doc"===t.parent.type.name&&r){y.push(n);var b=o-ue._2;b>n&&y.push(b)}return y=y.sort((function(e,t){return e-t}))}function Zd(){Zd=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Id(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Ld=function(e){(0,j.Z)(i,e);var t,n,r=Id(i);function i(){var e;(0,P.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,o.Z)((0,N.Z)(e),"state",{offsetLeft:Md(e.insideInlineLike,e.insideLayout,e.props.view.dom,void 0),isVideoFile:!0}),(0,o.Z)((0,N.Z)(e),"calcNewSize",(function(t,n){var r=e.props,o=r.layout,i=r.view.state,a=100*(0,Cc.nz)(t,e.props.lineLength);e.setState({resizedPctWidth:a});var c=(0,W.bw)(i.schema.nodes.table)(i.selection)?o:e.calcUnwrappedLayout(a,t);return a<=100?(!e.wrappedLayout||n&&100===a||(c=o),{width:a,layout:c}):{width:e.props.pctWidth||null,layout:c}})),(0,o.Z)((0,N.Z)(e),"calcUnwrappedLayout",(function(e,t){return e<=100?"center":t<=ue.uz?"wide":"full-width"})),(0,o.Z)((0,N.Z)(e),"calcColumnLeftOffset",(function(){var t=e.state.offsetLeft;return e.insideInlineLike?(0,Cc.VF)(t,e.props.lineLength,e.props.gridSize):0})),(0,o.Z)((0,N.Z)(e),"calcPxWidth",(function(t){var n=e.props,r=n.width,o=void 0===r?0:r,i=n.height,a=n.layout,c=n.pctWidth,s=n.lineLength,u=n.containerWidth,l=n.fullWidthMode,d=n.getPos,p=n.view.state,f="function"==typeof d?d():void 0;return rs({origWidth:o,origHeight:i,pctWidth:c,state:p,containerWidth:{width:u,lineLength:s},isFullWidthModeEnabled:l,layout:t||a,pos:f})})),(0,o.Z)((0,N.Z)(e),"highlights",(function(t,n){var r=bd(t,n),o=e.props.view.state.schema.nodes,i=o.layoutColumn,a=o.table,c=o.expand,s=o.nestedExpand;if(e.$pos&&(0,W.NP)(e.$pos,[i,a,c,s].filter(Boolean)))return[];if(r>ue.uz)return["full-width"];var u=e.props,l=u.layout,d=u.lineLength,p=u.gridSize,f=(0,Cc.VF)(r,d,p),h=Math.round(f),v=[];return"wrap-left"===l||"align-start"===l?v.push(0,h):"wrap-right"===l||"align-end"===l?v.push(p,p-h):e.insideInlineLike?v.push(Math.round(f+e.calcColumnLeftOffset())):v.push(Math.floor((p-h)/2),Math.ceil((p+h)/2)),v})),(0,o.Z)((0,N.Z)(e),"saveWrapper",(function(t){return e.wrapper=t})),e}return(0,D.Z)(i,[{key:"componentDidUpdate",value:function(){var e=Md(this.insideInlineLike,this.insideLayout,this.props.view.dom,this.wrapper);return e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e}),!0}},{key:"wrappedLayout",get:function(){return Sc.T1.indexOf(this.props.layout)>-1}},{key:"componentDidMount",value:(n=(0,wc.Z)(Zd().mark((function e(){var t;return Zd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.viewMediaClientConfig)){e.next=4;break}return e.next=4,this.checkVideoFile(t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.viewMediaClientConfig!==e.viewMediaClientConfig&&this.checkVideoFile(e.viewMediaClientConfig),this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}},{key:"checkVideoFile",value:(t=(0,wc.Z)(Zd().mark((function e(t){var n,r,o,i;return Zd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=this.$pos)&&t){e.next=3;break}return e.abrupt("return");case 3:if((r=this.props.view.state.doc.nodeAt(n.pos+1))&&r.attrs.id){e.next=6;break}return e.abrupt("return");case 6:return o=(0,dl.y)(t),e.prev=7,e.next=10,o.file.getCurrentState(r.attrs.id,{collectionName:r.attrs.collection});case 10:(i=e.sent)&&"error"!==i.status&&"image"===i.mediaType&&this.setState({isVideoFile:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),this.setState({isVideoFile:!1});case 17:case"end":return e.stop()}}),e,this,[[7,14]])}))),function(e){return t.apply(this,arguments)})},{key:"checkLayout",value:function(e,t){var n=this.state.resizedPctWidth;if(Sc.T1.indexOf(e)>-1&&"center"===t&&n){var r=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,r)}}},{key:"$pos",get:function(){if("function"!=typeof this.props.getPos)return null;var e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}},{key:"gridWidth",get:function(){var e=this.props.gridSize;return this.wrappedLayout||this.insideInlineLike?e:e/2}},{key:"insideInlineLike",get:function(){var e=this.$pos;if(!e)return!1;var t=this.props.view.state.schema.nodes.listItem;return!!(0,W.NP)(e,[t])}},{key:"insideLayout",get:function(){var e=this.$pos;if(!e)return!1;var t=this.props.view.state.schema.nodes.layoutColumn;return!!(0,W.NP)(e,[t])}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.width,o=n.height,i=n.layout,a=n.pctWidth,c=n.containerWidth,s=n.fullWidthMode,u=n.selected,l=n.children,d=this.calcPxWidth();r&&(e=(o/r*100).toFixed(3));var p={};wd.forEach((function(e){var n="left"===e?"right":"left";p[e]=["full-width","wide","center"].concat("wrap-".concat(n)).concat("align-".concat(kd[n])).indexOf(i)>-1,"left"===e&&t.insideInlineLike&&(p[e]=!1)}));var f,h={$pos:this.$pos,akEditorWideLayoutWidth:ue.uz,allowBreakoutSnapPoints:this.props.allowBreakoutSnapPoints,containerWidth:this.props.containerWidth,gridSize:this.props.gridSize,gridWidth:this.gridWidth,insideInlineLike:this.insideInlineLike,insideLayout:this.insideLayout,isVideoFile:this.state.isVideoFile,lineLength:this.props.lineLength,offsetLeft:this.state.offsetLeft,wrappedLayout:this.wrappedLayout};return(0,U.tZ)("div",{ref:this.saveWrapper,css:(f={layout:i,isResized:!!a,containerWidth:c||r,fullWidthMode:s},(0,U.iv)(fd||(fd=(0,z.Z)(["\n  & > div {\n    ",";\n    position: relative;\n    clear: both;\n  }\n"])),(0,gd.b3)(f)))},(0,U.tZ)(Sd,(0,Lt.Z)({},this.props,{ratio:e,width:d,selected:u,enable:p,calcNewSize:this.calcNewSize,snapPoints:Dd(h),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,nodeType:"media",dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent,handleComponentFunc:function(){return(0,U.tZ)("div",{contentEditable:!1})}}),l))}}]),i}(Z.Component);function Md(e,t,n,r){var o=0;r&&e&&!t&&(o=r.getBoundingClientRect().left-n.getBoundingClientRect().left);return o}function Rd(){Rd=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nd(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fd(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Bd=function(e){(0,j.Z)(r,e);var t,n=Fd(r);function r(){var e;(0,P.Z)(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{width:void 0,height:void 0,viewMediaClientConfig:void 0,isCopying:!1}),(0,o.Z)((0,N.Z)(e),"mediaSingleWrapperRef",Z.createRef()),(0,o.Z)((0,N.Z)(e),"captionPlaceHolderRef",Z.createRef()),(0,o.Z)((0,N.Z)(e),"createMediaNodeUpdater",(function(t){var n=e.props.node.firstChild;return new od(jd(jd({},t),{},{isMediaSingle:!0,node:n||e.props.node,dispatchAnalyticsEvent:e.props.dispatchAnalyticsEvent}))})),(0,o.Z)((0,N.Z)(e),"setViewMediaClientConfig",function(){var t=(0,wc.Z)(Rd().mark((function t(n){var r,o;return Rd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.mediaProvider;case 2:(r=t.sent)&&(o=r.viewMediaClientConfig,e.setState({viewMediaClientConfig:o}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),(0,o.Z)((0,N.Z)(e),"updateMediaNodeAttributes",function(){var t=(0,wc.Z)(Rd().mark((function t(n){var r,o,i,a,c,s;return Rd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.createMediaNodeUpdater(n),o=e.props.mediaPluginState.addPendingTask,i=e.props.node.firstChild){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,r.getRemoteDimensions();case 7:if((a=t.sent)&&r.updateDimensions(a),"external"!==i.attrs.type||!i.attrs.__external){t.next=15;break}return c=r.handleExternalMedia(e.props.getPos),o(c),t.next=14,c;case 14:return t.abrupt("return");case 15:if(r.getNodeContextId()){t.next=19;break}return t.next=19,r.updateContextId();case 19:return t.next=21,r.hasDifferentContextId();case 21:if(!t.sent){t.next=34;break}return e.setState({isCopying:!0}),t.prev=24,s=r.copyNode({traceId:i.attrs.__mediaTraceId}),o(s),t.next=29,s;case 29:t.next=34;break;case 31:t.prev=31,t.t0=t.catch(24),e.setState({isCopying:!1});case 34:case"end":return t.stop()}}),t,null,[[24,31]])})));return function(e){return t.apply(this,arguments)}}()),(0,o.Z)((0,N.Z)(e),"selectMediaSingle",(function(t){var n=t.event;n.stopPropagation();var r=e.props.getPos(),o=e.props.view.state;if(n.shiftKey){if(o.selection instanceof be.X)return;(0,ms.B0)(e.props.view,o.selection.from<r?o.selection.from:r,o.selection.to>r?o.selection.to:r+3)}else(0,ms.Ui)(e.props.view,r)})),(0,o.Z)((0,N.Z)(e),"updateSize",(function(t,n){var r=e.props.view,o=r.state,i=r.dispatch,a=e.props.getPos();if(void 0!==a){var c=o.tr.setNodeMarkup(a,void 0,jd(jd({},e.props.node.attrs),{},{layout:n,width:t}));return c.setMeta("scrollIntoView",!1),c.setSelection(g.NodeSelection.create(c.doc,a)),i(c)}})),(0,o.Z)((0,N.Z)(e),"onMediaSingleClicked",(function(t){var n;Ec.Z.ios&&e.mediaSingleWrapperRef.current===t.target&&(null===(n=e.captionPlaceHolderRef.current)||void 0===n||n.click())})),(0,o.Z)((0,N.Z)(e),"clickPlaceholder",(function(){var t=e.props,n=t.view,r=t.getPos,o=t.node;"boolean"!=typeof r&&Sl(r(),o)(n.state,n.dispatch)})),(0,o.Z)((0,N.Z)(e),"getLineLength",(function(e,t){if(Pd(e,t)){var n=e.state.doc.resolve(t),r=e.nodeDOM(n.pos);if(n.nodeAfter&&_d.indexOf(n.nodeAfter.attrs.layout)>-1&&r&&r.parentElement)return r.parentElement.offsetWidth;if(r instanceof HTMLElement)return r.offsetWidth}return null})),e}return(0,D.Z)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mediaProvider!==this.props.mediaProvider&&this.setViewMediaClientConfig(e),!1!==e.isCopyPasteEnabled&&this.createMediaNodeUpdater(e).updateMediaSingleFileAttrs()}},{key:"componentDidMount",value:(t=(0,wc.Z)(Rd().mark((function e(){var t;return Rd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.contextIdentifierProvider,e.next=3,Promise.all([this.setViewMediaClientConfig(this.props),this.updateMediaNodeAttributes(this.props)]);case 3:return e.t0=this,e.next=6,t;case 6:e.t1=e.sent,e.t2={contextIdentifierProvider:e.t1},e.t0.setState.call(e.t0,e.t2);case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.selected,n=e.getPos,r=e.node,o=e.mediaOptions,i=e.fullWidthMode,a=e.view.state,c=e.view,s=r.attrs,u=s.layout,l=s.width,d=r.firstChild.attrs,p=d.width,f=d.height;if("external"===d.type){if(Pc(d)){var h=(0,_c.Ny)(d.url);if(h){var v=h.width,m=h.height;p=p||v,f=f||m}}var y=this.state,b=y.width,w=y.height;null===p&&(p=b||Sc.vz),null===f&&(f=w||Sc.rS)}p&&f||(p=Sc.vz,f=Sc.rS);var k={layout:u,width:p,height:f,containerWidth:this.props.width,lineLength:this.props.lineLength,pctWidth:l,fullWidthMode:i,hasFallbackContainer:!1},E=!!this.props.mediaOptions.allowResizing;if(!this.props.mediaOptions.allowResizingInTables){var x=n();if(x){var O=a.doc.resolve(x),S=a.schema.nodes.table,C=!!(0,W.NP)(O,[S]);E=E&&!C}}var T=this.getLineLength(c,n())||this.props.lineLength,A=t(),_=(0,fu.OC)("captions",o.featureFlags)&&2!==r.childCount&&A&&a.selection instanceof g.NodeSelection,P=(0,U.tZ)("figure",{ref:this.mediaSingleWrapperRef,css:ws,className:bs,onClick:this.onMediaSingleClicked},(0,U.tZ)("div",{ref:this.props.forwardRef}),_&&(0,U.tZ)(hu.Z,{ref:this.captionPlaceHolderRef,onClick:this.clickPlaceholder}));return E?(0,U.tZ)(Ld,(0,Lt.Z)({},k,{lineLength:T,view:this.props.view,getPos:n,updateSize:this.updateSize,displayGrid:uc(this.props.eventDispatcher),gridSize:12,viewMediaClientConfig:this.state.viewMediaClientConfig,allowBreakoutSnapPoints:o&&o.allowBreakoutSnapPoints,selected:A,dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent}),P):(0,U.tZ)(Sc.ZP,k,P)}}]),r}(Z.Component);(0,o.Z)(Bd,"defaultProps",{mediaOptions:{}}),(0,o.Z)(Bd,"displayName","MediaSingleNode");var zd,Ud,Vd,Hd,Wd=function(e){(0,j.Z)(n,e);var t=Fd(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"lastOffsetLeft",0),(0,o.Z)((0,N.Z)(e),"forceViewUpdate",!1),(0,o.Z)((0,N.Z)(e),"selectionType",null),(0,o.Z)((0,N.Z)(e),"checkAndUpdateSelectionType",(function(){var t=e.getPos,n=e.view.state.selection,r=(0,Ls.sp)(n.$anchor.pos,n.$head.pos,t(),e.node.nodeSize);return e.selectionType=r,r})),(0,o.Z)((0,N.Z)(e),"isNodeSelected",(function(){return e.checkAndUpdateSelectionType(),null!==e.selectionType})),e}return(0,D.Z)(n,[{key:"createDomRef",value:function(){var e=document.createElement("div");return this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}},{key:"getContentDOM",value:function(){var e=document.createElement("div");return e.classList.add(Eu),{dom:e}}},{key:"viewShouldUpdate",value:function(e){return this.forceViewUpdate?(this.forceViewUpdate=!1,!0):this.node.attrs!==e.attrs||(this.selectionType!==this.checkAndUpdateSelectionType()||(this.node.childCount!==e.childCount||(0,md.Z)((0,B.Z)(n.prototype),"viewShouldUpdate",this).call(this,e)))}},{key:"getNodeMediaId",value:function(e){if(e.firstChild)return e.firstChild.attrs.id}},{key:"update",value:function(e,t,r,o){var i=this;return o||(o=function(e,t){return i.getNodeMediaId(e)===i.getNodeMediaId(t)}),(0,md.Z)((0,B.Z)(n.prototype),"update",this).call(this,e,t,r,o)}},{key:"render",value:function(e,t){var n=this,r=this.reactComponentProps,o=r.eventDispatcher,i=r.fullWidthMode,a=r.providerFactory,c=r.mediaOptions,s=r.dispatchAnalyticsEvent,u=this.getPos;return(0,U.tZ)(Rl.S,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:a,renderNode:function(e){var r=e.mediaProvider,a=e.contextIdentifierProvider;return(0,U.tZ)(M.Z,{editorView:n.view,plugins:{width:R.ux,mediaPluginState:gs.S},render:function(e){var l=e.width,d=e.mediaPluginState;return(0,U.tZ)(Bd,{width:l.width,lineLength:l.lineLength,node:n.node,getPos:u,mediaProvider:r,contextIdentifierProvider:a,mediaOptions:c,view:n.view,fullWidthMode:i,selected:n.isNodeSelected,eventDispatcher:o,mediaPluginState:d,dispatchAnalyticsEvent:s,forwardRef:t})}})}})}},{key:"ignoreMutation",value:function(){if(this.dom){var e=this.dom.offsetLeft;e!==this.lastOffsetLeft&&(this.lastOffsetLeft=e,this.forceViewUpdate=!0,this.update(this.node,[],[],(function(){return!0})))}return!0}}]),n}(ql),Gd=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(i,a,c){return new Wd(i,a,c,e,t,{eventDispatcher:t,fullWidthMode:o.fullWidthEnabled,providerFactory:n,mediaOptions:o,dispatchAnalyticsEvent:r,isCopyPasteEnabled:o.isCopyPasteEnabled},void 0,void 0,void 0,!0).init()}},qd=n(11966),Kd=n(20708),$d=n(51595),Jd=n(56298),Yd=n(68013),Xd=(0,U.iv)(zd||(zd=(0,z.Z)(["\n  color: ",";\n"])),"var(--ds-text-danger, ".concat($d.$H,")")),Qd=((0,U.iv)(Ud||(Ud=(0,z.Z)(["\n  color: ",";\n"])),"var(--ds-text-success, ".concat($d.ak,")")),function(e){return(0,U.iv)(Vd||(Vd=(0,z.Z)(["\n  "," font-weight: normal;\n  color: ",";\n  margin-top: ","px;\n  display: flex;\n  justify-content: baseline;\n"])),(0,Yd.pB)(e),"var(--ds-text-subtlest, ".concat($d.iw,")"),(0,Jd.ww)()/2)}),ep=(0,U.iv)(Hd||(Hd=(0,z.Z)(["\n  display: flex;\n  margin-right: 4px;\n"]))),tp=function(e){var t=e.children;return(0,U.tZ)("div",{css:function(e){return[Qd(e),Xd]}},(0,U.tZ)("span",{css:ep},(0,U.tZ)(Kd.default,{size:"small",label:"error","aria-label":"error"})),t)},np=n(39281),rp=n(41045),op=n(20183);function ip(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var ap,cp,sp,up,lp,dp,pp,fp,hp,vp=function(e){(0,j.Z)(n,e);var t=ip(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"onMouseDown",(function(){var e=r.props.onMouseDown;e&&e()})),(0,o.Z)((0,N.Z)(r),"onBlur",(function(e){var t=r.props.onBlur;t&&t(e)})),(0,o.Z)((0,N.Z)(r),"handleChange",(function(){var e=r.props.onChange;r.input&&r.setState({value:r.input.value}),e&&r.input&&e(r.input.value)})),(0,o.Z)((0,N.Z)(r),"handleKeydown",(function(e){var t=r.props,n=t.onUndo,o=t.onRedo,i=t.onSubmit,a=t.onCancel;13===e.keyCode&&i?(e.preventDefault(),i(r.input.value)):27===e.keyCode&&a?a(e):"function"==typeof n&&r.isUndoEvent(e)?(e.preventDefault(),n()):"function"==typeof o&&r.isRedoEvent(e)&&(e.preventDefault(),o()),r.props.onKeyDown&&r.props.onKeyDown(e)})),(0,o.Z)((0,N.Z)(r),"handleRef",(function(e){e instanceof HTMLInputElement?(r.input=e,r.props.autoFocus&&(r.focusTimeoutId=window.setTimeout((function(){return r.focus()})))):r.input=void 0})),r.state={value:e.defaultValue||""},r}return(0,D.Z)(n,[{key:"componentDidUpdate",value:function(e){e.defaultValue!==this.props.defaultValue&&this.setState({value:this.props.defaultValue})}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.focusTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.width,r=e.maxLength,o=e.testId,i=e.ariaLabel,a=e.describedById,c=e.ariaActiveDescendant,s=e.ariaControls,u=e.ariaExpanded,l=e.ariaAutoComplete,d=e.role,p=this.state.value;return(0,U.tZ)("input",{css:[op.J,void 0!==n&&(0,op.v)(n)],role:d,"aria-autocomplete":l?"list":void 0,"aria-expanded":u,"aria-controls":s,"aria-activedescendant":c,"aria-describedby":a,"data-testid":o||"",type:"text",placeholder:t,value:p,onChange:this.handleChange,onKeyDown:this.handleKeydown,onMouseDown:this.onMouseDown,onBlur:this.onBlur,ref:this.handleRef,maxLength:r,"aria-label":i})}},{key:"focus",value:function(){var e=this.input;if(e){var t="object"===(0,i.Z)(this.props.autoFocus)?this.props.autoFocus:{};e.focus(t)}}},{key:"isUndoEvent",value:function(e){return 90===e.keyCode&&(Ec.Z.mac&&e.metaKey&&!e.shiftKey||!Ec.Z.mac&&e.ctrlKey)}},{key:"isRedoEvent",value:function(e){return!Ec.Z.mac&&e.ctrlKey&&89===e.keyCode||Ec.Z.mac&&e.metaKey&&e.shiftKey&&90===e.keyCode||e.ctrlKey&&e.shiftKey&&90===e.keyCode}}]),n}(Z.PureComponent),mp=n(70890),gp=n(2846),yp=420,bp=(0,U.iv)(ap||(ap=(0,z.Z)(["\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n"]))),wp=(0,U.iv)(cp||(cp=(0,z.Z)(["\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  padding: 0;\n\n  width: ","px;\n  line-height: initial;\n"])),360),kp=(0,U.iv)(sp||(sp=(0,z.Z)(["\n  width: ","px;\n"])),yp),Ep=n(79131),xp=(0,Ze.vU)({story:{id:"fabric.editor.story",defaultMessage:"Story",description:"Alt text for Story"},epic:{id:"fabric.editor.epic",defaultMessage:"Epic",description:"Alt text for Epic"},task:{id:"fabric.editor.task",defaultMessage:"Task",description:"Alt text for Task"},bug:{id:"fabric.editor.bug",defaultMessage:"Bug",description:"Alt text for Bug"},subTask:{id:"fabric.editor.subTask",defaultMessage:"Sub-task",description:"Alt text for Sub-task"},improvement:{id:"fabric.editor.improvement",defaultMessage:"Improvement",description:"Alt text for Improvement"},defaultAltText:{id:"fabric.editor.defaultAltText",defaultMessage:"List item",description:"Default alt text for ListItem image"}}),Op=function(e,t){var n=t.formatMessage(xp.defaultAltText);return e.includes("story.svg")&&(n=t.formatMessage(xp.story)),e.includes("epic.svg")&&(n=t.formatMessage(xp.epic)),e.includes("avatarId=10318")&&(n=t.formatMessage(xp.task)),e.includes("avatarId=10303")&&(n=t.formatMessage(xp.bug)),e.includes("avatarId=10518")&&(n=t.formatMessage(xp.subTask)),e.includes("avatarId=10310")&&(n=t.formatMessage(xp.improvement)),n},Sp=n(42366),Cp=n(90020),Tp=n(36399),Ap=function(e,t,n){var r="";switch(t){case"updated":r=n.formatMessage(Q.ZP.timeUpdated);break;case"viewed":r=n.formatMessage(Q.ZP.timeViewed)}return(0,Cp.Z)(e,Date.now())<-7?{pageAction:r,dateString:(0,Tp.Z)(e,"MMMM dd, yyyy")}:{pageAction:r,dateString:(0,Sp.Z)(e,Date.now()),timeSince:n.formatMessage(Q.ZP.timeAgo)}},_p=function(e,t,n){return t?Ap(t,"viewed",e):n?Ap(n,"updated",e):void 0};function Pp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Dp=(0,U.iv)(up||(up=(0,z.Z)(["\n  background-color: transparent;\n  padding: 8px 12px;\n  cursor: pointer;\n  display: flex;\n  margin-top: 0;\n"]))),Zp=(0,U.iv)(lp||(lp=(0,z.Z)(["\n  background-color: ",";\n"])),"var(--ds-background-neutral-subtle-hovered, ".concat(V.IR,")")),Ip=(0,U.iv)(dp||(dp=(0,z.Z)(["\n  overflow: hidden;\n"]))),Lp=(0,U.iv)(pp||(pp=(0,z.Z)(["\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  line-height: 20px;\n"])),"var(--ds-text, ".concat(V.q2,")")),Mp=(0,U.iv)(fp||(fp=(0,z.Z)(["\n  color: ",";\n  line-height: 14px;\n  font-size: ",";\n"])),"var(--ds-text-subtlest, ".concat(V.hH,")"),(0,ue.Gh)((0,re._V)())),Rp=(0,U.iv)(hp||(hp=(0,z.Z)(["\n  min-width: 16px;\n  margin-top: 3px;\n  margin-right: 12px;\n\n  img {\n    max-width: 16px;\n  }\n"]))),Np=function(e){(0,j.Z)(n,e);var t=Pp(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"handleSelect",(function(t){t.preventDefault();var n=e.props,r=n.item;(0,n.onSelect)(r.url,r.name)})),(0,o.Z)((0,N.Z)(e),"handleMouseMove",(function(){var t=e.props,n=t.onMouseMove,r=t.item;n&&n(r.objectId)})),(0,o.Z)((0,N.Z)(e),"handleMouseEnter",(function(){var t=e.props,n=t.onMouseEnter,r=t.item;n&&n(r.objectId)})),(0,o.Z)((0,N.Z)(e),"handleMouseLeave",(function(){var t=e.props,n=t.onMouseLeave,r=t.item;n&&n(r.objectId)})),e}return(0,D.Z)(n,[{key:"renderIcon",value:function(){var e=this.props,t=e.item,n=t.icon,r=t.iconUrl,o=e.intl;return n?(0,U.tZ)("span",{css:Rp},n):r?(0,U.tZ)("span",{css:Rp},(0,U.tZ)("img",{src:r,alt:Op(r,o)})):null}},{key:"renderTimeStamp",value:function(){var e=this.props,t=e.item,n=e.intl,r=_p(n,t.lastViewedDate,t.lastUpdatedDate);return r&&(0,U.tZ)(Z.Fragment,null,"  •",(0,U.tZ)("span",{className:"link-search-timestamp","data-test-id":"link-search-timestamp"},"  ",r.pageAction," ",r.dateString," ",r.timeSince||""))}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.selected,r=e.id,o=e.role;return(0,U.tZ)("li",{css:[Dp,n&&Zp],role:o,id:r,"aria-selected":n,"data-testid":"link-search-list-item",onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleSelect},this.renderIcon(),(0,U.tZ)("span",{css:Ip},(0,U.tZ)("div",{css:Lp},t.name),(0,U.tZ)("div",{"data-testid":"link-search-list-item-container",css:Mp},t.container,this.renderTimeStamp())))}}]),n}(Z.PureComponent);const jp=(0,H.ZP)(Np);var Fp,Bp,zp;function Up(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Vp=(0,U.iv)(Fp||(Fp=(0,z.Z)(["\n  padding-top: 0;\n"]))),Hp=(0,U.iv)(Bp||(Bp=(0,z.Z)(["\n  text-align: center;\n  min-height: 80px;\n  margin-top: 30px;\n"]))),Wp=(0,U.iv)(zp||(zp=(0,z.Z)(["\n  padding: 0;\n  list-style: none;\n"]))),Gp=function(e){(0,j.Z)(n,e);var t=Up(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e,t,n=this.props,r=n.onSelect,o=n.onMouseMove,i=n.onMouseEnter,a=n.onMouseLeave,c=n.items,s=n.selectedIndex,u=n.isLoading,l=n.ariaControls,d=n.role,p=n.id;return c&&c.length>0&&(e=(0,U.tZ)("ul",{css:Wp,id:p,role:d,"aria-controls":l},c.map((function(e,t){return(0,U.tZ)(jp,{id:"link-search-list-item-".concat(t),role:d&&"option",item:e,selected:s===t,onMouseMove:o,onMouseEnter:i,onMouseLeave:a,onSelect:r,key:e.objectId})})))),u&&(t=(0,U.tZ)("div",{css:Hp},(0,U.tZ)(Ep.Z,{size:"medium"}))),(0,U.tZ)("div",{css:Vp},e,t)}}]),n}(Z.PureComponent),qp=["providerFactory"];function Kp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}function $p(){$p=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Jp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Yp=function(e,t){return e.slice(0,t)},Xp=function(e){(0,j.Z)(i,e);var t,n,r=Jp(i);function i(e){var t;return(0,P.Z)(this,i),t=r.call(this,e),(0,o.Z)((0,N.Z)(t),"activityProvider",null),(0,o.Z)((0,N.Z)(t),"handleSubmit",(function(){var e=t.state,n=e.items,r=e.url,o=e.selectedIndex,i=t.getCurrentInputMethod();if(i)switch(i){case p.Jq.MANUAL:t.props.onSubmit({url:r,text:r,inputMethod:p.Jq.MANUAL});break;case p.Jq.TYPEAHEAD:var a=n[o];t.setState((function(){return{url:a.url}})),t.props.onSubmit&&t.props.onSubmit({url:a.url,text:a.name,inputMethod:p.Jq.TYPEAHEAD})}})),(0,o.Z)((0,N.Z)(t),"handleSelected",(function(e,n){t.props.onSubmit&&(t.setState((function(){return{url:e}})),t.props.onSubmit({text:n,url:e,inputMethod:p.Jq.TYPEAHEAD}))})),(0,o.Z)((0,N.Z)(t),"handleChange",function(){var e=(0,wc.Z)($p().mark((function e(n){return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setState({url:n}),!t.activityProvider){e.next=24;break}if(0!==n.length){e.next=15;break}return e.t0=t,e.t1=Yp,e.next=7,t.activityProvider.getRecentItems();case 7:e.t2=e.sent,e.t3=t.props.limit,e.t4=(0,e.t1)(e.t2,e.t3),e.t5=-1,e.t6={items:e.t4,selectedIndex:e.t5},e.t0.setState.call(e.t0,e.t6),e.next=24;break;case 15:return e.t7=t,e.t8=Yp,e.next=19,t.activityProvider.searchRecent(n);case 19:e.t9=e.sent,e.t10=t.props.limit,e.t11=(0,e.t8)(e.t9,e.t10),e.t12={items:e.t11,selectedIndex:0},e.t7.setState.call(e.t7,e.t12);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)((0,N.Z)(t),"handleKeyDown",(function(e){var n=t.state,r=n.items,o=n.selectedIndex;r&&r.length&&("ArrowDown"===e.key?(e.preventDefault(),t.setState({selectedIndex:(o+1)%r.length})):"ArrowUp"===e.key&&(e.preventDefault(),t.setState({selectedIndex:o>0?o-1:r.length-1})))})),(0,o.Z)((0,N.Z)(t),"handleMouseMove",(function(e){var n=t.state.items;if(n){var r=n.findIndex((function(t){return t.objectId===e}));t.setState({selectedIndex:r})}})),(0,o.Z)((0,N.Z)(t),"renderRecentList",(function(){var e=t.state,n=e.items,r=e.isLoading,o=e.selectedIndex;return Z.createElement(Gp,{items:n,isLoading:r,selectedIndex:o,onSelect:t.handleSelected,onMouseMove:t.handleMouseMove})})),(0,o.Z)((0,N.Z)(t),"clearValue",(function(){t.setState({url:""})})),t.state={selectedIndex:-1,isLoading:!1,items:[],url:e.defaultUrl||""},t}return(0,D.Z)(i,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.defaultUrl!==e.defaultUrl&&this.setState((function(t){return t.url!==e.defaultUrl?{items:[],selectedIndex:-1,url:e.defaultUrl||""}:null}))}},{key:"componentDidMount",value:(n=(0,wc.Z)($p().mark((function e(){return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.activityProvider){e.next=6;break}return e.next=3,this.props.activityProvider;case 3:return this.activityProvider=e.sent,e.next=6,this.loadRecentItems(this.activityProvider);case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"loadRecentItems",value:(t=(0,wc.Z)($p().mark((function e(t){return $p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.state.url){e.next=11;break}return e.t0=this,e.t1=Yp,e.next=6,t.getRecentItems();case 6:e.t2=e.sent,e.t3=this.props.limit,e.t4=(0,e.t1)(e.t2,e.t3),e.t5={isLoading:!0,items:e.t4},e.t0.setState.call(e.t0,e.t5);case 11:return e.prev=11,this.setState({isLoading:!1}),e.finish(11);case 14:case"end":return e.stop()}}),e,this,[[0,,11,14]])}))),function(e){return t.apply(this,arguments)})},{key:"getCurrentInputMethod",value:function(){var e=this.state,t=e.items,n=e.url,r=e.selectedIndex;return t&&t.length>0&&r>-1?p.Jq.TYPEAHEAD:n&&n.length>0?p.Jq.MANUAL:void 0}},{key:"render",value:function(){var e=this.props.render,t=this.state.url;return e({activityProvider:this.activityProvider,inputProps:{onChange:this.handleChange,onKeyDown:this.handleKeyDown,onSubmit:this.handleSubmit,value:t},clearValue:this.clearValue,currentInputMethod:this.getCurrentInputMethod(),renderRecentList:this.renderRecentList})}}]),i}(Z.Component);(0,o.Z)(Xp,"defaultProps",{limit:5});const Qp=(ef=(0,H.ZP)(Xp),function(e){(0,j.Z)(n,e);var t=Kp(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"renderNode",(function(t){var n=e.props,r=(n.providerFactory,(0,ko.Z)(n,qp)),o=t.activityProvider;return Z.createElement(ef,(0,Lt.Z)({activityProvider:o},r))})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props.providerFactory;return Z.createElement(Rl.S,{providers:["activityProvider"],providerFactory:e,renderNode:this.renderNode})}}]),n}(Z.Component));var ef,tf,nf,rf=(0,Ze.vU)({backLink:{id:"fabric.editor.backLink",defaultMessage:"Go back",description:"Go back from media linking toolbar to main toolbar"}});function of(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var af=(0,U.iv)(tf||(tf=(0,z.Z)(["\n  line-height: 0;\n  padding: 12px 24px 12px 0;\n  margin: 0 4px 0 32px;\n  border-top: 1px solid ",";\n  align-items: start;\n  display: flex;\n  flex-direction: column;\n"])),"var(--ds-border-danger, ".concat(V.$H,")")),cf=(0,U.iv)(nf||(nf=(0,z.Z)(["\n  padding: 4px 8px 4px 0px;\n"]))),sf=function(e){(0,j.Z)(n,e);var t=of(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{validationErrors:[]}),(0,o.Z)((0,N.Z)(e),"handleSubmit",(function(t){var n=t.url,r=t.inputMethod;e.props.onSubmit(n,{inputMethod:r})})),(0,o.Z)((0,N.Z)(e),"handleOnBack",(function(t){var n=t.url,r=t.inputMethod,o=e.props.onBack;o&&o(n,{inputMethod:r})})),(0,o.Z)((0,N.Z)(e),"handleCancel",(function(){var t=e.props.onCancel;t&&t()})),(0,o.Z)((0,N.Z)(e),"handleUnlink",(function(){var t=e.props.onUnlink;t&&t()})),(0,o.Z)((0,N.Z)(e),"handleOnBlur",(function(t){e.props.onBlur(t.url)})),(0,o.Z)((0,N.Z)(e),"renderContainer",(function(t){var n,r=t.activityProvider,o=t.inputProps,i=o.onChange,a=o.onKeyDown,c=o.onSubmit,s=o.value,u=t.currentInputMethod,l=t.renderRecentList,d=e.props,p=d.intl.formatMessage,f=d.displayUrl,h=p(rf.backLink),v=p(Q.F0.unlink),m=e.state.validationErrors.map((function(e,t){return(0,U.tZ)(tp,{key:t},e)}));return(0,U.tZ)("div",{className:"recent-list"},(0,U.tZ)("div",{css:[wp,!!r&&kp]},(0,U.tZ)("div",{css:bp},(0,U.tZ)("span",{css:cf},(0,U.tZ)(mp.Z,{title:h,icon:(0,U.tZ)(np.Z,{label:h}),onClick:function(){return e.handleOnBack({url:s,inputMethod:u})}})),(0,U.tZ)(vp,{testId:"media-link-input",placeholder:(n=!!r,p(n?Q.F0.placeholder:Q.F0.linkPlaceholder)),autoFocus:!0,onCancel:e.handleCancel,defaultValue:s,onSubmit:function(t){var n=e.getValidationErrors(t,u);e.setState({validationErrors:n}),n.length||c()},onChange:function(t){e.setState({validationErrors:[]}),i(t)},onKeyDown:a}),rl(f)&&(0,U.tZ)(Z.Fragment,null,(0,U.tZ)(gp.Z,null),(0,U.tZ)(mp.Z,{title:v,icon:(0,U.tZ)(rp.Z,{label:v}),onClick:e.handleUnlink}))),!!m.length&&(0,U.tZ)("section",{css:af},m),l()))})),e}return(0,D.Z)(n,[{key:"getValidationErrors",value:function(e,t){var n=this.props.intl.formatMessage;return t===p.Jq.TYPEAHEAD?[]:e?rl(e)?[]:[n(Q.F0.invalidLink)]:[n(Q.F0.emptyLink)]}},{key:"render",value:function(){var e=this.props,t=e.providerFactory,n=e.displayUrl;return(0,U.tZ)(Qp,{defaultUrl:rl(n),providerFactory:t,onSubmit:this.handleSubmit,onBlur:this.handleOnBlur,render:this.renderContainer})}}]),n}(Z.PureComponent);const uf=sf;var lf=n(11178);function df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?df(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):df(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ff(e){var t=Xu(e);if(!t||null===t.mediaPos)return!1;var n=e.schema,r=n.nodes.media,o=n.marks.link,i=e.doc.nodeAt(t.mediaPos);if(!i||i.type!==r)return!1;var a=e.doc.resolve(t.mediaPos).parent;return a&&a.type.allowsMarkType(o)}var hf=n(45646),vf=n(19214),mf=n(10421),gf=n(85651),yf=n(29664),bf=n(94935),wf=n(5253),kf=(0,Ze.vU)({wrapLeft:{id:"fabric.editor.wrapLeft",defaultMessage:"Wrap left",description:"Aligns your image to the left and wraps text around it."},wrapRight:{id:"fabric.editor.wrapRight",defaultMessage:"Wrap right",description:"Aligns your image to the right and wraps text around it."}}),Ef=function(e){var t=e.schema.nodes,n=t.table,r=t.tableCell;return(0,W.bw)([n,r])(e.selection)},xf=[{id:"editor.media.alignLeft",value:"align-start",icon:yf.Z},{id:"editor.media.alignCenter",value:"center",icon:wf.Z},{id:"editor.media.alignRight",value:"align-end",icon:bf.Z}],Of=[{id:"editor.media.wrapLeft",value:"wrap-left",icon:hf.Z},{id:"editor.media.wrapRight",value:"wrap-right",icon:vf.Z}],Sf=[{value:"wide",icon:mf.Z},{value:"full-width",icon:gf.Z}],Cf={"wrap-left":kf.wrapLeft,center:Q.ZP.alignImageCenter,"wrap-right":kf.wrapRight,wide:Q.ZP.layoutWide,"full-width":Q.ZP.layoutFullWidth,"align-end":Q.ZP.alignImageRight,"align-start":Q.ZP.alignImageLeft},Tf=function(e,t){return function(n,r){var o=n.selection.node,i=o.attrs.layout,a=n.schema.nodes.mediaSingle;if(!r)return!1;var c=R.ux.getState(n);if(!o||o.type!==t||!c)return!1;var s=function(e,t){var n=t.nodes.embedCard;return e.type===n?e.attrs.originalWidth||ue.In:e.firstChild&&e.firstChild.attrs.width||e.attrs.width}(o,n.schema),u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=t.width,a=t.layout,c=Ad.indexOf(a)>-1,s=Ad.indexOf(e)>-1,u=Sc.T1.indexOf(e)>-1,l=Sc.T1.indexOf(a)>-1;if(c&&(0,Sc.bW)(e,r,o))(!i||i>=100||"center"!==a)&&(i=50);else if(e!==a&&["full-width","wide"].indexOf(a)>-1)i=void 0;else if(i){var d=Math.round(i/100*n),p=d;l&&s?(p=2*Math.floor(p/2),i=void 0):c&&u&&(d<=1?p=2:d>=n&&(p=10)),p!==d&&(i=p/n*100)}return Td(Td({},t),{},{layout:e,width:i})}(e,o.attrs,void 0,s,c.lineLength),l=n.tr.setNodeMarkup(n.selection.from,void 0,u);l.setMeta("scrollIntoView",!1),l.setSelection(g.NodeSelection.create(l.doc,n.selection.from));var d=l.doc.type.schema.nodes.paragraph;return e.startsWith("wrap")&&d&&!l.doc.nodeAt(n.selection.to)&&(Ef(n)||(0,ta.o)(n))&&l.insert(n.selection.to,d.createAndFill()),r((0,At.Gs)(n,l,{eventType:p.Ze.TRACK,action:p.om.SELECTED,actionSubject:p.Wt[o.type===a?"MEDIA_SINGLE":"EMBEDS"],actionSubjectId:p.VJ.RICH_MEDIA_LAYOUT,attributes:{previousLayoutType:i,currentLayoutType:e}})),!0}},Af=function(e,t,n,r){return e.map((function(e){var o=e.id,i=e.value;return{id:o,type:"button",icon:e.icon,title:n.formatMessage(Cf[i]),selected:t===i,onClick:Tf(i,r)}}))},_f=function(e,t){return e&&t?[{type:"separator"}]:[]},Pf=function(e,t,n){return n||!e&&!t?[]:[{type:"separator"}]};const Df=function(e,t,n,r,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=e.selection;if(!(c instanceof g.NodeSelection)||!c.node||!n||function(e,t,n){var r=t.nodes;return(0,W.bw)([r.bodiedExtension,r.listItem,r.expand,r.nestedExpand].concat((0,s.Z)(n?[]:[r.table])).filter(Boolean))(e)}(c,e.schema,o))return[];var u=c.node.attrs.layout,l=a?Af(xf,u,t,n):[],d=i?Af(Of,u,t,n):[],p=r?[]:Af(Sf,u,t,n);return[].concat((0,s.Z)(l),(0,s.Z)(_f(a,i)),(0,s.Z)(d),(0,s.Z)(Pf(a,i,r)),(0,s.Z)(p))};var Zf,If,Lf,Mf,Rf,Nf,jf=(0,Ze.vU)({altText:{id:"fabric.editor.addAltText",defaultMessage:"Alt text",description:"Add an alt text for this image"},editAltText:{id:"fabric.editor.editAltText",defaultMessage:"Edit alt text",description:"Edit an alt text for this image"},back:{id:"fabric.editor.closeAltTextEdit",defaultMessage:"Back",description:"Back to toolbar"},clear:{id:"fabric.editor.clearAltTextEdit",defaultMessage:"Clear alt text",description:"Clear alt text"},placeholder:{id:"fabric.editor.placeholderAltText",defaultMessage:"Describe this image with alt text",description:"Describe this image with alt text"},supportText:{id:"fabric.editor.supportAltText",defaultMessage:"Alt text is useful for people using screen readers because of visual limitations.",description:"Alt text is useful for people using screen readers because of visual limitations."},validationMessage:{id:"fabric.editor.alttext.validation",defaultMessage:"Please remove any special characters in alt text.",description:"Please remove any special characters in alt text. "}}),Ff=n(64932),Bf=n(63741);function zf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Uf=(0,U.iv)(Zf||(Zf=(0,z.Z)(["\n  color: ",";\n  font-size: ",";\n  padding: 12px 40px;\n  line-height: 20px;\n  border-top: 1px solid ",";\n  margin: 0;\n"])),"var(--ds-text-subtlest, ".concat(V.Y8,")"),(0,ue.Gh)(12),"var(--ds-border, ".concat(V.gt,")")),Vf=(0,U.iv)(If||(If=(0,z.Z)(["\n  width: ","px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  line-height: 2;\n"])),420),Hf=(0,U.iv)(Lf||(Lf=(0,z.Z)(["\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n"]))),Wf=(0,U.iv)(Mf||(Mf=(0,z.Z)(["\n  display: flex;\n  line-height: 0;\n  padding: 12px 24px 12px 0;\n  margin: 0 12px 0 40px;\n  border-top: 1px solid ",";\n  align-items: start;\n  flex-direction: column;\n"])),"var(--ds-border-danger, ".concat(V.$H,")")),Gf=(0,U.iv)(Rf||(Rf=(0,z.Z)(["\n  display: flex;\n  padding: 4px 8px;\n"]))),qf=(0,U.iv)(Nf||(Nf=(0,z.Z)(["\n  color: ",";\n"])),"var(--ds-icon-subtle, ".concat(V.Bn,")")),Kf=function(e){(0,j.Z)(n,e);var t=zf(n);function n(e){var r;(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"state",{showClearTextButton:Boolean(r.props.value),validationErrors:r.props.value?r.getValidationErrors(r.props.value):[],lastValue:r.props.value}),(0,o.Z)((0,N.Z)(r),"closeMediaAltTextMenu",(function(){var e=r.props.view;ju(e.state,e.dispatch)})),(0,o.Z)((0,N.Z)(r),"dispatchCancelEvent",(function(e){var t=r.props.view;t.someProp("handleKeyDown",(function(n){return n(t,e)}))})),(0,o.Z)((0,N.Z)(r),"updateAltText",(function(e){var t=r.props.view;!function(e){return Iu((function(e){return!!Ic(e)&&{type:"updateAltText"}}),(function(t,n){var r=$c(n),o=t.selection.from+1;return r&&(t.setMeta("scrollIntoView",!1),t.setNodeMarkup(o,void 0,Nu(Nu({},r.attrs),{},{alt:e}))),t}))}(0===e.length?"":e)(t.state,t.dispatch)})),(0,o.Z)((0,N.Z)(r),"handleOnChange",(function(e){var t=r.getValidationErrors(e);r.setState({showClearTextButton:Boolean(e),validationErrors:t,lastValue:e},(function(){t&&t.length||r.updateAltText(e)}))})),(0,o.Z)((0,N.Z)(r),"handleOnBlur",(function(){var e=r.props.value,t=(r.state.lastValue||e||"").trim();r.handleOnChange(t)})),(0,o.Z)((0,N.Z)(r),"handleClearText",(function(){r.handleOnChange("")}));var i=e.createAnalyticsEvent;return r.fireCustomAnalytics=(0,h.Z)(i),r}return(0,D.Z)(n,[{key:"componentDidMount",value:function(){this.prevValue=this.props.value}},{key:"componentWillUnmount",value:function(){this.fireAnalytics(p.om.CLOSED),!this.prevValue&&this.props.value&&this.fireAnalytics(p.om.ADDED),this.prevValue&&!this.props.value&&this.fireAnalytics(p.om.CLEARED),this.prevValue&&this.prevValue!==this.props.value&&this.fireAnalytics(p.om.EDITED)}},{key:"getValidationErrors",value:function(e){var t=this.props.altTextValidator;return e&&"function"==typeof t&&t(e)||[]}},{key:"render",value:function(){var e=this.props.intl.formatMessage,t=this.state.showClearTextButton,n=e(jf.back),r=(0,U.tZ)(Re.wn,{description:n,keymap:Re.YU,shortcutOverride:"Esc"}),o=(this.state.validationErrors||[]).map((function(e,t){return(0,U.tZ)(tp,{key:t},e)}));return(0,U.tZ)("div",{css:Vf},(0,U.tZ)("section",{css:Hf},(0,U.tZ)("div",{css:Gf},(0,U.tZ)(mp.Z,{title:e(jf.back),icon:(0,U.tZ)(np.Z,{label:e(jf.back)}),tooltipContent:r,onClick:this.closeMediaAltTextMenu})),(0,U.tZ)(vp,{testId:"alt-text-input",ariaLabel:e(jf.placeholder),describedById:"support-text",placeholder:e(jf.placeholder),defaultValue:this.state.lastValue,onCancel:this.dispatchCancelEvent,onChange:this.handleOnChange,onBlur:this.handleOnBlur,onSubmit:this.closeMediaAltTextMenu,maxLength:510,autoFocus:!0}),t&&(0,U.tZ)("div",{css:Gf},(0,U.tZ)(mp.Z,{testId:"alt-text-clear-button",title:e(jf.clear),icon:(0,U.tZ)("span",{css:qf},(0,U.tZ)(Ff.Z,{label:e(jf.clear)})),tooltipContent:e(jf.clear),onClick:this.handleClearText}))),!!o.length&&(0,U.tZ)("section",{css:Wf},o),(0,U.tZ)("p",{css:Uf,id:"support-text"},e(jf.supportText)))}},{key:"fireAnalytics",value:function(e){this.props.createAnalyticsEvent&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:{action:e,actionSubject:p.Wt.MEDIA,actionSubjectId:p.VJ.ALT_TEXT,eventType:p.Ze.TRACK}})}}]),n}(Z.Component);const $f=(0,Bf.Z)()((0,H.ZP)(Kf));var Jf=n(94622),Yf=n(80127);function Xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xf(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eh,th="alt-text-edit-button",nh=(0,Yf.Z)($f),rh=function(e){return{type:"custom",fallback:[],disableArrowNavigation:!0,render:function(t,n){if(!t)return null;var r=$c(t.state);if(!r)return null;return Z.createElement(nh,{view:t,key:n,value:r.attrs.alt,altTextValidator:e&&e.altTextValidator,handleEscapeKeydown:function(e){(0,lf.QP)('[data-testid="'.concat(th,'"]'),t)}})}}},oh=n(84766),ih=n(62906),ah=(0,Ze.vU)({openLink:{id:"fabric.editor.openLink",defaultMessage:"Open link in a new tab",description:"Opens the link in a new tab"}}),ch=(0,U.iv)(eh||(eh=(0,z.Z)(["\n  display: flex;\n  align-items: center;\n  margin-right: 4px;\n"]))),sh=function(e){var t=e.editorState,n=e.mediaLinkingState,r=e.intl,o=e.onAddLink,i=e.onEditLink,a=e.onOpenLink,c=(0,Z.useState)(!0),s=(0,sr.Z)(c,2),u=s[0],l=s[1];if((0,Z.useEffect)((function(){var e,n=ll(t);if(n){var r=null===(e=gs.S.getState(t))||void 0===e?void 0:e.mediaClientConfig;r?fl(n,r).then((function(e){l("external"===e||"image"===e)})):l(!1)}else l(!1)}),[t]),!u)return null;if(n&&n.editable){var d=(0,Qu.w6)(n.link),p=r.formatMessage(Q.F0.editLink),f=r.formatMessage(d?ah.openLink:Q.F0.unableToOpenLink);return(0,U.tZ)(Z.Fragment,null,(0,U.tZ)("div",{css:ch},(0,U.tZ)(mp.Z,{onClick:i,title:p,tooltipContent:(0,U.tZ)(Re.wn,{description:p,keymap:Re.MJ}),testId:"edit-link-button"},p)),(0,U.tZ)("div",{css:ch},(0,U.tZ)(gp.Z,null)),(0,U.tZ)(mp.Z,{target:"_blank",href:d?n.link:void 0,disabled:!d,onClick:a,title:f,icon:(0,U.tZ)(ih.Z,{label:f}),className:"hyperlink-open-link"}),(0,U.tZ)(gp.Z,null))}var h=r.formatMessage(Q.F0.addLink);return(0,U.tZ)(Z.Fragment,null,(0,U.tZ)(mp.Z,{testId:"add-link-button",onClick:o,title:h,tooltipContent:(0,U.tZ)(Re.wn,{description:h,keymap:Re.MJ}),icon:(0,U.tZ)(oh.Z,{label:h})}),(0,U.tZ)(gp.Z,null))},uh=n(82015),lh=(0,Ze.vU)({url:{id:"fabric.editor.url",defaultMessage:"Display URL",description:"Convert the card to become a regular text-based hyperlink."},block:{id:"fabric.editor.displayBlock",defaultMessage:"Display card",description:"Display link as a card with a rich preview similar to in a Facebook feed with page title, description, and potentially an image."},inline:{id:"fabric.editor.displayInline",defaultMessage:"Display inline",description:"Display link with the title only."},embed:{id:"fabric.editor.displayEmbed",defaultMessage:"Display embed",description:"Display link as an embedded object"},link:{id:"fabric.editor.displayLink",defaultMessage:"Display as text",description:"Convert the card to become a regular text-based hyperlink."},card:{id:"fabric.editor.cardFloatingControls",defaultMessage:"Card options",description:"Options to change card type"},blockCardUnavailable:{id:"fabric.editor.blockCardUnavailable",defaultMessage:"The inline link is inside {node} and cannot have its view changed",description:"Warning message to show the user that this node cannot change its view"},displayOptionUnavailableInParentNode:{id:"fabric.editor.displayOptionUnavailableInParentNode",defaultMessage:"This display option isn't available inside {node}",description:"Warning message to show the user that this node option is not available inside a parent node type"},urlTitle:{id:"fabric.editor.urlTitle",defaultMessage:"URL",description:"Title for option to convert the card to become a regular text-based hyperlink."},blockTitle:{id:"fabric.editor.blockTitle",defaultMessage:"Card",description:"Title for option to display link in the card view."},inlineTitle:{id:"fabric.editor.inlineTitle",defaultMessage:"Inline",description:"Title for option to display link in the inline view."},embedTitle:{id:"fabric.editor.embedTitle",defaultMessage:"Embed",description:"Title for option to display link as an embedded object."},urlDescription:{id:"fabric.editor.urlDescription",defaultMessage:"Display link as URL",description:"Description for option to convert the card to become a regular text-based hyperlink."},blockDescription:{id:"fabric.editor.blockDescription",defaultMessage:"Display more information about a link, including a summary and actions",description:"Description for option to display link in the card view."},inlineDescription:{id:"fabric.editor.inlineDescription",defaultMessage:"Display link as inline text",description:"Description for option to display link in the inline view."},embedDescription:{id:"fabric.editor.ecombedDescription",defaultMessage:"Display an interactive preview of a link",description:"Description for option to display link as an embedded object."}}),dh=n(32374),ph=n(15228);function fh(){fh=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var hh=function(e){var t=e.selectedMediaContainerNode();return t&&t.attrs?t.attrs:null},vh=function(){var e=(0,wc.Z)(fh().mark((function e(t){var n,r,o,i,a,c,s;return fh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(n=hh(t))||!t.mediaClientConfig){e.next=10;break}return r=n.id,o=n.collection,i=void 0===o?"":o,a=(0,dl.y)(t.mediaClientConfig),e.next=7,a.file.getCurrentState(r,{collectionName:i});case 7:c=e.sent,s="error"===c.status?void 0:c.name,a.file.downloadBinary(r,s,i);case 10:return e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),mh=function(e){var t=e.schema.nodes.mediaGroup,n=(0,W.Tr)(t)(e.selection),r=e.tr;return r=n&&1===n.node.childCount?(0,W.NQ)(t)(r):(0,W.au)(r)},gh=function(e){var t=e.mediaPluginState,n=e.intl,r=(0,Z.useState)(!1),o=(0,sr.Z)(r,2),i=o[0],a=o[1],c=function(){a(!1)},s=function(){if(i){var e=hh(t);if(e&&t.mediaClientConfig){var n=e.id,r=e.collection,o=void 0===r?"":r,a={id:n,mediaItemType:"file",collectionName:o};return Fi.createPortal(Z.createElement(dh.Z,{collectionName:o,items:[],mediaClientConfig:t.mediaClientConfig,selectedItem:a,onClose:c}),document.body)}}return null}(),u=n.formatMessage(uh.s.preview);return Z.createElement("div",null,Z.createElement(mp.Z,{testId:"file-preview-toolbar-button",key:"editor.media.card.preview",onClick:function(){a(!0)},icon:Z.createElement(ph.Z,{label:"file preview"}),tooltipContent:u}),s)},yh="#091e4224",bh=function(e,t){var n=e.schema.nodes,r=n.media,o=n.mediaInline,i=n.mediaGroup,a=e.selection instanceof g.NodeSelection&&e.selection.node.type===o&&e.selection.node;if(!a)return!1;var c=a.attrs,s=c.id,u=c.type,l=c.collection,d=r.createChecked({id:s,type:u,collection:l}),f=i.createChecked({},d),h=e.tr.doc.resolve(e.selection.from).end(),v=e.tr;return v=(0,W.au)(v),v=(0,W.Z3)(f,h,!0)(v),t&&((0,At.Gs)(e,v,{action:p.om.CHANGED_TYPE,actionSubject:p.Wt.MEDIA,eventType:p.Ze.TRACK,attributes:{newType:p.VJ.MEDIA_GROUP,previousType:p.VJ.MEDIA_INLINE}}),t(v)),!0},wh=function(e,t){var n=e.schema.nodes,r=n.media,o=n.mediaInline,i=n.paragraph,a=e.selection instanceof g.NodeSelection&&e.selection.node;if(!a||!a.type===r)return!1;var c=o.create({id:a.attrs.id,collection:a.attrs.collection}),s=e.schema.text(" "),u=on.Fragment.from([c,s]),l=i.createChecked({},u),d=e.tr.doc.resolve(e.selection.from).start()-1,f=mh(e);return f=(0,W.Z3)(l,d,!0)(f),t&&((0,At.Gs)(e,f,{action:p.om.CHANGED_TYPE,actionSubject:p.Wt.MEDIA,eventType:p.Ze.TRACK,attributes:{newType:p.VJ.MEDIA_INLINE,previousType:p.VJ.MEDIA_GROUP}}),t(f)),!0},kh=function(e,t){return!!(0,W.EG)(e.selection)&&(t&&t((0,W.au)(e.tr)),!0)},Eh={SUBMENU:"".concat("pm-dropdown","-submenu")},xh=function(e){return Z.createElement("svg",(0,Lt.Z)({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Z.createElement("path",{d:"M8.33333 8C8.15267 8 8 8.14933 8 8.33333V15.6667C8.0007 15.7549 8.03604 15.8392 8.0984 15.9016C8.16076 15.964 8.24514 15.9993 8.33333 16H15.6667C15.8473 16 16 15.8507 16 15.6667V8.33333C16 8.15267 15.8507 8 15.6667 8H8.33333Z",fill:"currentColor"}),Z.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7C4 5.34315 5.34315 4 7 4H17C18.6569 4 20 5.34315 20 7V17C20 18.6569 18.6569 20 17 20H7C5.34315 20 4 18.6569 4 17V7ZM7 6C6.44772 6 6 6.44772 6 7V17C6 17.5523 6.44772 18 7 18H17C17.5523 18 18 17.5523 18 17V7C18 6.44772 17.5523 6 17 6H7Z",fill:"currentColor"}))},Oh=function(e){return Z.createElement(Mt.Z,(0,Lt.Z)({glyph:xh},e))},Sh=n(4099),Ch=n(4322),Th=n(75588),Ah=[];Th.Z.forEach((function(e,t){var n=e.toLowerCase().replace(" ","-"),r=(0,lt.Z)(dt,n);Ah.push({value:t,label:e,border:ut.B,message:r})}));const _h=Ah;var Ph,Dh,Zh,Ih,Lh=n(74455),Mh=n(9662),Rh=n(36233),Nh=n(54053),jh=n(9937),Fh=n(18202),Bh=["children"];function zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zh(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Hh,Wh,Gh,qh,Kh,$h,Jh,Yh=(0,U.iv)(Ph||(Ph=(0,z.Z)(["\n  /* tooltip in ToolbarButton is display:block */\n  & > div > div {\n    display: flex;\n  }\n"]))),Xh=(0,U.iv)(Dh||(Dh=(0,z.Z)(["\n  box-shadow: inset 0px 0px 0px 2px ",";\n  outline: none;\n"])),"var(--ds-border-focused, ".concat($d.vP,")")),Qh=(0,Nh.Z)(jh.Z),ev=function(e){(0,j.Z)(n,e);var t=Vh(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{popupPlacement:["bottom","left"],selectionIndex:-1}),(0,o.Z)((0,N.Z)(e),"popupRef",Z.createRef()),(0,o.Z)((0,N.Z)(e),"handleRef",(function(t){e.setState({target:t||void 0})})),(0,o.Z)((0,N.Z)(e),"updatePopupPlacement",(function(t){var n=e.state.popupPlacement;t[0]===n[0]&&t[1]===n[1]||e.setState({popupPlacement:t})})),(0,o.Z)((0,N.Z)(e),"handleCloseAndFocus",(function(){var t,n;null===(t=e.state.target)||void 0===t||null===(n=t.querySelector("button"))||void 0===n||n.focus(),e.handleClose()})),(0,o.Z)((0,N.Z)(e),"handleClose",(function(){e.props.onOpenChange&&e.props.onOpenChange({isOpen:!1})})),e}return(0,D.Z)(n,[{key:"renderDropdownMenu",value:function(){var e=this,t=this.state,n=t.target,r=t.popupPlacement,o=this.props,i=o.items,a=o.mountTo,c=o.boundariesElement,s=o.scrollableElement,u=o.offset,l=o.fitHeight,d=o.fitWidth,p=o.isOpen,f=o.zIndex,h=o.shouldUseDefaultRole,v=o.onItemActivated,m=o.arrowKeyNavigationProviderOptions,g=m.type===Ot.i.COLOR?m:Uh(Uh({},m),{},{onSelection:function(e){var t=[];"function"==typeof v&&(t=i.reduce((function(e,t){return e.concat(t.items)}),t),v({item:t[e],shouldCloseMenu:!1}))}});return(0,U.tZ)(G.Z,{target:p?n:void 0,mountTo:a,boundariesElement:c,scrollableElement:s,onPlacementChanged:this.updatePopupPlacement,fitHeight:l,fitWidth:d,zIndex:f||ue.Zr,offset:u},(0,U.tZ)(Fh.J,(0,Lt.Z)({},g,{handleClose:this.handleCloseAndFocus,closeOnTab:!0}),(0,U.tZ)(Qh,{isOpen:!0,appearance:"tall",position:r.join(" "),shouldFlip:!1,shouldFitContainer:!0,isTriggerNotTabbable:!0,handleClickOutside:this.handleClose,handleEscapeKeydown:this.handleCloseAndFocus,targetRef:this.state.target},(0,U.tZ)("div",{style:{height:0,minWidth:d||0}}),(0,U.tZ)("div",{ref:this.popupRef},i.map((function(t,n){return(0,U.tZ)(Lh.Z,{key:n,role:h?"group":"menu"},t.items.map((function(t){var n;return(0,U.tZ)(nv,{key:null!==(n=t.key)&&void 0!==n?n:String(t.content),item:t,onItemActivated:e.props.onItemActivated,shouldUseDefaultRole:e.props.shouldUseDefaultRole,onMouseEnter:e.props.onMouseEnter,onMouseLeave:e.props.onMouseLeave})})))}))))))}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.isOpen;return(0,U.tZ)("div",{css:Yh},(0,U.tZ)("div",{ref:this.handleRef},t),n?this.renderDropdownMenu():null)}},{key:"componentDidUpdate",value:function(e){var t=this.props.isOpen!==e.isOpen;if(this.props.isOpen&&t&&"function"==typeof this.props.shouldFocusFirstItem&&this.props.shouldFocusFirstItem()){var n,r=new KeyboardEvent("keydown",{key:"ArrowDown",bubbles:!0});null===(n=this.state.target)||void 0===n||n.dispatchEvent(r)}}}]),n}(Z.PureComponent),tv=Z.forwardRef((function(e,t){var n=e.children,r=(0,ko.Z)(e,Bh);return(0,U.tZ)("span",(0,Lt.Z)({ref:t},r),n)}));function nv(e){var t,n=e.item,r=e.onItemActivated,o=e.shouldUseDefaultRole,i=e.onMouseEnter,a=e.onMouseLeave,c=Z.useState(!1),s=(0,sr.Z)(c,2),u=s[0],l=s[1];if(!(n.onClick||n.value&&n.value.name))return(0,U.tZ)("span",{key:String(n.content)},n.content);var d,p=(0,U.tZ)("div",{css:function(e){return function(e,t){return function(n){return e?(0,U.iv)(Zh||(Zh=(0,z.Z)(["\n        > span,\n        > span:hover,\n        > span:active {\n          background: ",";\n          color: ",";\n        }\n        :focus > span[aria-disabled='false'] {\n          ",";\n        }\n        :focus-visible,\n        :focus-visible > span[aria-disabled='false'] {\n          outline: none;\n        }\n      "])),"var(--ds-background-selected, #6c798f)","var(--ds-text, #fff)",Xh):(0,U.iv)(Ih||(Ih=(0,z.Z)(["\n        > span:hover[aria-disabled='false'] {\n          color: ",";\n          background-color: ",";\n        }\n        ","\n        > span[aria-disabled='true'] {\n          color: ",";\n        }\n        :focus > span[aria-disabled='false'] {\n          ",";\n        }\n        :focus-visible,\n        :focus-visible > span[aria-disabled='false'] {\n          outline: none;\n        }\n      "])),(0,Rh.Z)({light:"var(--ds-text, ".concat($d.xA,")"),dark:"var(--ds-text, ".concat($d.ly,")")})(n),(0,Rh.Z)({light:"var(--ds-background-neutral-subtle-hovered, rgb(244, 245, 247))",dark:"var(--ds-background-neutral-subtle-hovered, rgb(59, 71, 92))"})(n),!t&&"\n          > span:active[aria-disabled='false'] {\n            background-color: ".concat((0,Rh.Z)({light:"var(--ds-background-neutral-subtle-pressed, rgb(179, 212, 255))",dark:"var(--ds-background-neutral-subtle-pressed, rgb(179, 212, 255))"})(n),";\n          }"),(0,Rh.Z)({light:"var(--ds-text-disabled, ".concat($d.n2,")"),dark:"var(--ds-text-disabled, ".concat($d.EZ,")")})(n),Xh)}}(n.isActive,u)({theme:e})},tabIndex:-1,"aria-disabled":n.isDisabled?"true":"false",onMouseDown:function(e){l(!!e.target.closest(".".concat(Eh.SUBMENU)))}},(0,U.tZ)(Mh.Z,{item:n,key:null!==(t=n.key)&&void 0!==t?t:String(n.content),testId:"dropdown-item__".concat(String(n.content)),role:o?"button":"menuitem",iconBefore:n.elemBefore,iconAfter:n.elemAfter,isDisabled:n.isDisabled,onClick:function(){return r&&r({item:n})},"aria-label":n["aria-label"]||String(n.content),"aria-pressed":o?n.isActive:void 0,"aria-keyshortcuts":n["aria-keyshortcuts"],onMouseDown:function(e){e.preventDefault()},component:tv,onMouseEnter:function(){return i&&i({item:n})},onMouseLeave:function(){return a&&a({item:n})}},n.content));return n.tooltipDescription?(0,U.tZ)(Vi.Z,{key:null!==(d=n.key)&&void 0!==d?d:String(n.content),content:n.tooltipDescription,position:n.tooltipPosition},p):p}var rv=175,ov=32,iv=(0,re.ww)()/2,av=(0,U.iv)(Hh||(Hh=(0,z.Z)(["\n  display: flex;\n  &::after {\n    content: '›';\n    margin-left: 4px;\n    line-height: 20px;\n    color: ",";\n  }\n"])),"var(--ds-icon, ".concat(V.WA,")")),cv=function(e){return(0,U.iv)(Wh||(Wh=(0,z.Z)(["\n  ","\n  &::before {\n    content: '';\n    display: block;\n    border: 1px solid ",";\n    border-radius: ",";\n    width: 20px;\n    height: 20px;\n    ","\n  }\n"])),av,ut.B,"var(--ds-radius-100, 3px)",e&&"background: ".concat(e))},sv=function(e){return(0,U.iv)(Gh||(Gh=(0,z.Z)(["\n  border-radius: ",";\n  background: ",";\n  box-shadow: ",";\n  display: flex;\n  position: absolute;\n  top: ","px;\n  left: ","px;\n  padding: 8px;\n\n  > div {\n    padding: 0;\n  }\n"])),"var(--ds-radius-100, 3px)","var(--ds-surface-overlay, white)","var(--ds-shadow-overlay, ".concat("0 4px 8px -2px ".concat(V.VG,", 0 0 1px ").concat(V.VG),")"),e*(ov+2*iv),rv)},uv=(0,U.iv)(Kh||(Kh=(0,z.Z)(["\n  border: 1px solid transparent;\n  margin: 1px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:focus-within,\n  &:focus,\n  &:hover {\n    border-color: "," !important;\n  }\n"])),V.uv),lv=function(e,t){return(0,U.iv)($h||($h=(0,z.Z)(["\n  position: relative;\n  &:before {\n    content: '';\n    display: block;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 12px;\n    height: ","px;\n    background-color: ",";\n    border-radius: 90px;\n    transform: translate(-50%, -50%) rotate(135deg);\n  }\n"])),e,t?"var(--ds-icon-inverse, ".concat(V.N0,")"):"var(--ds-icon, #44546F)")},dv=function(e){var t=e.enabled,n=e.isOpen;return(0,U.iv)(Jh||(Jh=(0,z.Z)(["\n  display: flex;\n  .image-border-toolbar-btn {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n    padding: 0;\n    & > span {\n      margin: 0;\n    }\n  }\n  .image-border-toolbar-dropdown {\n    padding: 0;\n    & > span {\n      margin: 0;\n    }\n    width: 16px !important;\n    border-top-left-radius: 0 !important;\n    border-bottom-left-radius: 0 !important;\n    margin-left: 1px;\n  }\n\n  &:hover {\n    .image-border-toolbar-btn {\n      ","\n    }\n\n    .image-border-toolbar-dropdown {\n      ","\n    }\n  }\n"])),!t&&" background: ".concat("var(--ds-background-neutral-subtle-hovered, ".concat(V.kd,")"),";"),!n&&"background: ".concat("var(--ds-background-neutral-subtle-hovered, ".concat(V.kd,")"),";"))},pv=(0,Ze.vU)({borderColor:{id:"fabric.editor.imageBorderColor",defaultMessage:"Color",description:"Change the border color of an image."},borderSize:{id:"fabric.editor.imageBorderSize",defaultMessage:"Size",description:"Change the border size of an image."},addBorder:{id:"fabric.editor.addImageBorder",defaultMessage:"Add border",description:"Add a border to an image."},removeBorder:{id:"fabric.editor.removeImageBorder",defaultMessage:"Remove border",description:"Remove the border of an image."},borderOptions:{id:"fabric.editor.imageBorderOptions",defaultMessage:"Border options",description:"Display options available for customizing the border of an image."},borderSizeSubtle:{id:"fabric.editor.imageBorderSubtle",defaultMessage:"Subtle",description:"Name of a border size."},borderSizeMedium:{id:"fabric.editor.imageBorderMedium",defaultMessage:"Medium",description:"Name of a border size."},borderSizeBold:{id:"fabric.editor.imageBorderBold",defaultMessage:"Bold",description:"Name of a border size."}});const fv=function(e){var t=e.intl.formatMessage,n=e.toggleBorder,r=e.showSomewhatSemanticTooltips,o=e.borderMark,i=e.setBorder,a=(0,Z.useRef)(null),c=!!o,s=null==o?void 0:o.color,u=null==o?void 0:o.size,l=(0,Z.useState)(!1),d=(0,sr.Z)(l,2),p=d[0],f=d[1],h=(0,Z.useState)(!1),v=(0,sr.Z)(h,2),m=v[0],g=v[1],y=(0,Z.useState)(!1),b=(0,sr.Z)(y,2),w=b[0],k=b[1],E=[{name:t(pv.borderSizeSubtle),value:1},{name:t(pv.borderSizeMedium),value:2},{name:t(pv.borderSizeBold),value:3}],x=[{content:t(pv.borderColor),value:{name:"color"},elemAfter:(0,U.tZ)("div",{className:Eh.SUBMENU},(0,U.tZ)("div",{css:cv(s&&(0,Ch.X)(s))}),m&&(0,U.tZ)("div",{css:sv(0)},(0,U.tZ)(Sh.Z,{onClick:function(e){i({color:e}),f(!p)},selectedColor:null!=s?s:null,paletteOptions:{palette:_h,paletteColorTooltipMessages:Tt.wp,hexToPaletteColor:Ch.X,showSomewhatSemanticTooltips:r}})))},{content:t(pv.borderSize),value:{name:"size"},elemAfter:(0,U.tZ)("div",{className:Eh.SUBMENU},(0,U.tZ)("div",{css:av}),w&&(0,U.tZ)("div",{css:sv(1)},E.map((function(e,t){var n,r=e.name,o=e.value;return(0,U.tZ)(Vi.Z,{key:t,content:r},(0,U.tZ)("span",{css:uv},(0,U.tZ)("button",{css:(n=o===u,(0,U.iv)(qh||(qh=(0,z.Z)(["\n  height: 26px;\n  width: 26px;\n  padding: 0;\n  border-radius: 4px;\n  background-color: ",";\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n"])),n?"var(--ds-text, ".concat(V.q2,")"):"var(--ds-background-neutral, ".concat(V.os,")"),ut.B)),"aria-label":r,role:"radio","aria-checked":o===u,onClick:function(){i({size:o}),f(!1)},onMouseDown:function(e){e.preventDefault()}},(0,U.tZ)("div",{css:lv(o,o===u),role:"presentation"}))))}))))}],O=rv,S=x.length*(ov+iv);return(0,U.tZ)("div",null,(0,U.tZ)("div",{css:dv({enabled:c,isOpen:p})},(0,U.tZ)(Ce.Z,{className:"image-border-toolbar-btn",selected:c,onClick:n,spacing:"compact","aria-label":t(c?pv.removeBorder:pv.addBorder),iconBefore:(0,U.tZ)(Oh,{label:""}),title:t(c?pv.removeBorder:pv.addBorder)}),(0,U.tZ)("div",{ref:a},(0,U.tZ)(Ce.Z,{className:"image-border-toolbar-dropdown",selected:p,"aria-label":t(pv.borderOptions),title:t(pv.borderOptions),spacing:"compact",iconBefore:(0,U.tZ)(Se.Z,{label:""}),onClick:function(){f(!p)}}))),(0,U.tZ)(G.Z,{target:a.current?a.current:void 0,fitWidth:O+10,fitHeight:S+10,forcePlacement:!0,stick:!0},(0,U.tZ)("div",{onMouseLeave:function(){g(!1),k(!1)}},(0,U.tZ)(ev,{arrowKeyNavigationProviderOptions:{type:Ot.i.MENU,disableArrowKeyNavigation:!0},items:[{items:x}],isOpen:p,onOpenChange:function(){f(!1),g(!1),k(!1)},onItemActivated:function(e){var t=e.item;"color"===t.value.name&&g(!m),"size"===t.value.name&&k(!w)},onMouseEnter:function(e){var t=e.item;"color"===t.value.name&&g(!0),"size"===t.value.name&&k(!0)},onMouseLeave:function(e){var t=e.item;"color"===t.value.name&&g(!1),"size"===t.value.name&&k(!1)},fitWidth:O+10,fitHeight:S+10}))))};function hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hv(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mv=function(e,t){return t&&t((0,W.au)(e.tr)),!0},gv=function(e,t){var n=mh(e);return t&&t(n),!0},yv=function(e,t,n,r,o,i){var a=e.schema.nodes.mediaSingle,c=n.allowResizing,u=n.allowLinking,l=n.allowAdvancedToolBarOptions,d=n.allowResizingInTables,f=n.allowAltTextOnImages,h=[];(function(e){var t=e.schema.marks.border;if(!t)return!1;var n=ul(e);if(!n)return!1;var r=e.doc.resolve(n.pos).parent;return r&&r.type.allowsMarkType(t)})(e)&&h.push({type:"custom",fallback:[],render:function(e){if(!e)return null;var n=e.dispatch,r=e.state,o=function(e){var t=ll(e);if(t){var n=t.marks.find((function(e){return"border"===e.type.name}));if(n)return n.attrs}}(r);return Z.createElement(fv,{toggleBorder:function(){!function(e,t){var n=ul(e);if(!n)return!1;var r=n.node,o=n.pos,i=r.marks.find((function(e){return"border"===e.type.name})),a=r.marks.filter((function(e){return"border"!==e.type.name})).concat(i?[]:e.schema.marks.border.create({color:yh,size:2})),c=e.tr.setNodeMarkup(o,r.type,r.attrs,a);c.setMeta("scrollIntoView",!1),e.selection instanceof g.NodeSelection&&e.selection.$anchor.pos===e.selection.from&&c.setSelection(g.NodeSelection.create(c.doc,e.selection.from)),t&&(null!=i&&i.attrs?(0,At.Gs)(e,c,{action:p.om.DELETED,actionSubject:p.Wt.MEDIA,actionSubjectId:p.VJ.BORDER,eventType:p.Ze.TRACK,attributes:{previousColor:i.attrs.color,previousSize:i.attrs.size}}):(0,At.Gs)(e,c,{action:p.om.ADDED,actionSubject:p.Wt.MEDIA,actionSubjectId:p.VJ.BORDER,eventType:p.Ze.TRACK,attributes:{color:yh,size:2}}),t(c))}(r,n)},setBorder:function(e){!function(e){return function(t,n){var r,o,i,a,c,s=ul(t);if(!s)return!1;var u=s.node,l=s.pos,d=null===(r=u.marks.find((function(e){return"border"===e.type.name})))||void 0===r?void 0:r.attrs,f=null!==(o=null!==(i=e.color)&&void 0!==i?i:null==d?void 0:d.color)&&void 0!==o?o:yh,h=null!==(a=null!==(c=e.size)&&void 0!==c?c:null==d?void 0:d.size)&&void 0!==a?a:2,v=u.marks.filter((function(e){return"border"!==e.type.name})).concat(t.schema.marks.border.create({color:f,size:h})),m=t.tr.setNodeMarkup(l,u.type,u.attrs,v);return m.setMeta("scrollIntoView",!1),t.selection instanceof g.NodeSelection&&t.selection.$anchor.pos===t.selection.from&&m.setSelection(g.NodeSelection.create(m.doc,t.selection.from)),n&&((0,At.Gs)(t,m,{action:p.om.UPDATED,actionSubject:p.Wt.MEDIA,actionSubjectId:p.VJ.BORDER,eventType:p.Ze.TRACK,attributes:{previousColor:null==d?void 0:d.color,previousSize:null==d?void 0:d.size,newColor:f,newSize:h}}),n(m)),!0}}(e)(r,n)},showSomewhatSemanticTooltips:null==i?void 0:i().useSomewhatSemanticTextColorNames,borderMark:o,intl:t})}}),l&&((h=[].concat((0,s.Z)(h),(0,s.Z)(Df(e,t,e.schema.nodes.mediaSingle,c,d)))).length&&h.push({type:"separator"}),u&&ff(e)&&h.push({type:"custom",fallback:[],render:function(e,n){if(null!=e&&e.state){var r=function(){if(e){var t=e.state,n=e.dispatch;ml(t,n)}};return Z.createElement(sh,{key:n,editorState:e.state,intl:t,mediaLinkingState:o,onAddLink:r,onEditLink:r,onOpenLink:function(){if(e){var t=e.state;return(0,e.dispatch)((0,At.Gs)(t,t.tr,{eventType:p.Ze.TRACK,action:p.om.VISITED,actionSubject:p.Wt.MEDIA,actionSubjectId:p.VJ.LINK})),!0}}})}return null}})),f&&h.push(function(e,t){var n=$c(t),r=n&&n.attrs.alt?jf.editAltText:jf.altText,o=e.formatMessage(r);return{title:o,id:"editor.media.altText",type:"button",onClick:Fu,showTitle:!0,testId:th,tooltipContent:Z.createElement(Re.wn,{description:o,keymap:Re.XX})}}(t,e),{type:"separator"});var v={id:"editor.media.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:Ya.Z,onMouseEnter:(0,Xa.pP)(a,!0),onMouseLeave:(0,Xa.pP)(a,!1),onFocus:(0,Xa.pP)(a,!0),onBlur:(0,Xa.pP)(a,!1),title:t.formatMessage(Q.ZP.remove),onClick:mv,testId:"media-toolbar-remove-button"};return[].concat((0,s.Z)(h),[{type:"copy-button",items:[{state:e,formatMessage:t.formatMessage,nodeType:a},{type:"separator"}]},v])},bv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.schema.nodes,o=r.media,i=r.mediaInline,a=r.mediaSingle,c=r.mediaGroup,s=n.altTextValidator,u=n.allowLinking,l=n.allowAltTextOnImages,d=n.providerFactory,p=n.allowMediaInline,f=n.getEditorFeatureFlags,h=gs.S.getState(e),v=Xu(e);if(h){var m={title:"Media floating controls",nodeType:p?[i,a,o]:[a],getDomRef:function(){return h.element}};if(u&&v&&v.visible&&ff(e)){var y=function(e,t,n,r,o){var i=t.link,a=t.visible,c=t.editable,s=t.mediaPos;if(a&&null!==s&&n.doc.nodeAt(s))return pf(pf({},e),{},{height:360,width:yp,forcePlacement:!0,items:[{type:"custom",fallback:[],disableArrowNavigation:!0,render:function(e,t){return e&&o?Z.createElement(uf,{key:t,displayUrl:i,providerFactory:o,intl:r,editing:c,onUnlink:function(){return El(e.state,e.dispatch,e)},onBack:function(t,n){t.trim()&&n.inputMethod&&Ol(t,n.inputMethod)(e.state,e.dispatch,e),bl(e.state,e.dispatch,e)},onCancel:function(){bl(e.state,e.dispatch,e,!0),(0,lf.QP)('[data-testid="add-link-button"],[data-testid="edit-link-button"]',e)},onSubmit:function(t,n){Ol(t,n.inputMethod)(e.state,e.dispatch,e),bl(e.state,e.dispatch,e)},onBlur:function(){bl(e.state,e.dispatch,e)}}):null}}]})}(m,v,e,t,d);if(y)return y}if(l)if(Lu(e).isAltTextEditorOpen)return function(e,t){return Qf(Qf({},e),{},{width:420,className:Jf.m.FLOATING_TOOLBAR_COMPONENT,items:[rh(t)]})}(m,{altTextValidator:s});var b,w=[],k=(0,W.Tr)(c)(e.selection);if(e.selection instanceof g.NodeSelection&&(b=e.selection.node.type),p&&(null==k?void 0:k.node.type)===c){var E=e.selection.$from.parentOffset+1;m.getDomRef=function(){var e,t,n=(t=E,".".concat(Fl.A4,":nth-child(").concat(t,")"));return null===(e=h.element)||void 0===e?void 0:e.querySelector(n)},w=function(e,t,n){var r=e.schema.nodes.mediaGroup;return[{id:"editor.media.view.switcher",type:"dropdown",title:t.formatMessage(uh.s.changeView),options:[{id:"editor.media.view.switcher.inline",title:t.formatMessage(lh.inline),selected:!1,disabled:!1,onClick:wh,testId:"inline-appearance"},{id:"editor.media.view.switcher.thumbnail",title:t.formatMessage(uh.s.displayThumbnail),selected:!0,disabled:!1,onClick:function(){return!0},testId:"thumbnail-appearance"}]},{type:"separator"},{type:"custom",fallback:[],render:function(){return Z.createElement(gh,{key:"editor.media.card.preview",mediaPluginState:n,intl:t})}},{type:"separator"},{id:"editor.media.card.download",type:"button",icon:qd.Z,onClick:function(){return vh(n),!0},title:t.formatMessage(uh.s.download)},{type:"separator"},{type:"copy-button",items:[{state:e,formatMessage:t.formatMessage,nodeType:r},{type:"separator"}]},{id:"editor.media.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:Ya.Z,onMouseEnter:(0,Xa.pP)(r,!0),onMouseLeave:(0,Xa.pP)(r,!1),onFocus:(0,Xa.pP)(r,!0),onBlur:(0,Xa.pP)(r,!1),title:t.formatMessage(Q.ZP.remove),onClick:gv,testId:"media-toolbar-remove-button"}]}(e,t,h)}else p&&b&&b===i?(m.getDomRef=function(){var e;return(null===(e=h.element)||void 0===e?void 0:e.querySelector(".".concat(ys)))||h.element},w=function(e,t,n){var r=e.schema.nodes.mediaInline;return[{id:"editor.media.view.switcher",type:"dropdown",title:t.formatMessage(uh.s.changeView),options:[{id:"editor.media.view.switcher.inline",title:t.formatMessage(lh.inline),selected:!0,disabled:!1,onClick:function(){return!0},testId:"inline-appearance"},{id:"editor.media.view.switcher.thumbnail",title:t.formatMessage(uh.s.displayThumbnail),selected:!1,disabled:!1,onClick:bh,testId:"thumbnail-appearance"}]},{type:"separator"},{type:"custom",fallback:[],render:function(){return Z.createElement(gh,{key:"editor.media.card.preview",mediaPluginState:n,intl:t})}},{type:"separator"},{id:"editor.media.card.download",type:"button",icon:qd.Z,onClick:function(){return vh(n),!0},title:t.formatMessage(uh.s.download)},{type:"separator"},{type:"copy-button",items:[{state:e,formatMessage:t.formatMessage,nodeType:r},{type:"separator"}]},{id:"editor.media.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:Ya.Z,onMouseEnter:(0,Xa.pP)(r,!0),onMouseLeave:(0,Xa.pP)(r,!1),onFocus:(0,Xa.pP)(r,!0),onBlur:(0,Xa.pP)(r,!1),title:t.formatMessage(Q.ZP.remove),onClick:kh,testId:"media-toolbar-remove-button"}]}(e,t,h)):(m.getDomRef=function(){var e;return(null===(e=h.element)||void 0===e?void 0:e.querySelector(".".concat(bs)))||h.element},w=yv(e,t,n,0,v,f));return vv(vv({},m),{},{items:w,scrollable:!0})}};function wv(){wv=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function kv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Ev={on:function(){},removeAllListeners:function(){},emit:function(){},destroy:function(){},setUploadParams:function(){}},xv=function(e){(0,j.Z)(n,e);var t=kv(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{}),(0,o.Z)((0,N.Z)(e),"handleMediaProvider",function(){var t=(0,wc.Z)(wv().mark((function t(n,r){var o,i,a,c,s,u,l,d;return wv().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.props,i=o.mediaState,a=o.analyticsName,t.next=3,r;case 3:if((c=t.sent)&&c.uploadParams){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,c.uploadMediaClientConfig;case 8:if(t.t0=t.sent,t.t0){t.next=13;break}return t.next=12,c.viewMediaClientConfig;case 12:t.t0=t.sent;case 13:if(s=t.t0){t.next=16;break}return t.abrupt("return");case 16:return u={mediaClientConfig:s,errorReporter:i.options.errorReporter||new kc.Z,featureFlags:i.mediaOptions&&i.mediaOptions.featureFlags},t.next=19,new pu("customMediaPicker",u,Ev,a).init();case 19:(l=t.sent).onNewMedia(i.insertFile),l.setUploadParams(c.uploadParams),d={uploadParams:c.uploadParams},e.setState({pickerFacadeInstance:l,config:d,mediaClientConfig:s});case 24:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),e}return(0,D.Z)(n,[{key:"componentDidMount",value:function(){this.props.mediaState.options.providerFactory.subscribe("mediaProvider",this.handleMediaProvider)}},{key:"componentWillUnmount",value:function(){this.props.mediaState.options.providerFactory.unsubscribe("mediaProvider",this.handleMediaProvider)}},{key:"render",value:function(){var e=this.state,t=e.mediaClientConfig,n=e.config,r=e.pickerFacadeInstance;return t&&n&&r?this.props.children({mediaClientConfig:t,config:n,pickerFacadeInstance:r}):null}}]),n}(Z.Component),Ov=function(e){var t=e.mediaState,n=e.featureFlags;return Z.createElement(xv,{mediaState:t,analyticsName:"clipboard"},(function(e){var t=e.mediaClientConfig,r=e.config,o=e.pickerFacadeInstance;return Z.createElement(cu,{mediaClientConfig:t,config:r,onError:o.handleUploadError,onPreviewUpdate:o.handleUploadPreviewUpdate,onEnd:o.handleReady,featureFlags:n})}))},Sv=n(70256);function Cv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cv(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Av=function(e){var t=e.mediaState,n=e.isActive,r=e.featureFlags,o=e.editorDomElement,i=e.appearance;return Z.createElement(xv,{mediaState:t,analyticsName:"dropzone"},(function(e){var a=e.mediaClientConfig,c=e.config,s=e.pickerFacadeInstance,u=t.options.customDropzoneContainer,l=t.handleDrag,d=o,p="full-page"===i&&(0,Sv.uo)(d),f=u||p||d,h=Tv(Tv({},c),{},{container:f});return n?Z.createElement(ou,{mediaClientConfig:a,config:h,onError:s.handleUploadError,onPreviewUpdate:s.handleUploadPreviewUpdate,onEnd:s.handleReady,onDragEnter:function(){return l("enter")},onDragLeave:function(){return l("leave")},featureFlags:r}):null}))};function _v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_v(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dv=function(e){var t=e.mediaState,n=e.isOpen,r=e.onBrowseFn,o=e.featureFlags;return Z.createElement(xv,{mediaState:t,analyticsName:"browser"},(function(e){var t=e.mediaClientConfig,i=e.config,a=e.pickerFacadeInstance,c=Pv(Pv({},i),{},{multiple:!0});return Z.createElement(lu,{onBrowseFn:r,isOpen:n,config:c,mediaClientConfig:t,onEnd:a.handleReady,onError:a.handleUploadError,onPreviewUpdate:a.handleUploadPreviewUpdate,featureFlags:o})}))},Zv=n(65872);function Iv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Lv=function(e){(0,j.Z)(n,e);var t=Iv(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{isPopupOpened:!1}),(0,o.Z)((0,N.Z)(e),"onBrowseFn",(function(t){var n=e.props.mediaState;n&&n.setBrowseFn(t)})),e}return(0,D.Z)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.mediaState.onPopupToggle((function(t){e.setState({isPopupOpened:t})}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.mediaState,r=t.editorDomElement,o=t.appearance,i=this.state.isPopupOpened,a=n.mediaOptions&&n.mediaOptions.featureFlags;return Z.createElement(M.Z,{plugins:{focus:Zv.R},render:function(t){var c=t.focus?Z.createElement(Ov,{mediaState:n,featureFlags:a}):null;return Z.createElement(Z.Fragment,null,c,Z.createElement(Av,{mediaState:n,isActive:!i,featureFlags:a,editorDomElement:r,appearance:o}),Z.createElement(Dv,{onBrowseFn:e.onBrowseFn,mediaState:n,featureFlags:a}))}})}}]),n}(Z.Component);function Mv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}(0,o.Z)(Lv,"displayName","MediaPickerComponents");var Rv=function(e){(0,j.Z)(n,e);var t=Mv(n);function n(e,r,i,a,c,s,u){var l,d=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8?arguments[8]:void 0,f=arguments.length>9&&void 0!==arguments[9]&&arguments[9];return(0,P.Z)(this,n),l=t.call(this,e,r,i,a,c,s,u,d,p,f),(0,o.Z)((0,N.Z)(l),"isNodeInsideSelection",(function(e,t,n,r){var o=l.getPositionsWithDefault(n,r);return n=o.pos,r=o.posEnd,"number"==typeof n&&"number"==typeof r&&(e<=n&&t>=r)})),(0,o.Z)((0,N.Z)(l),"isSelectionInsideNode",(function(e,t,n,r){var o=l.getPositionsWithDefault(n,r);return n=o.pos,r=o.posEnd,"number"==typeof n&&"number"==typeof r&&(n<e&&t<r)})),(0,o.Z)((0,N.Z)(l),"isSelectedNode",(function(e){if(e instanceof g.NodeSelection){var t=l.view.state.selection,n=t.from,r=t.to;return e.node===l.node||l.pos===n&&l.posEnd===r&&e.node.eq(l.node)}return!1})),(0,o.Z)((0,N.Z)(l),"insideSelection",(function(){var e=l.view.state.selection,t=e.from,n=e.to;return l.isSelectedNode(l.view.state.selection)||l.isSelectionInsideNode(t,n)})),(0,o.Z)((0,N.Z)(l),"nodeInsideSelection",(function(){var e=l.view.state.selection,t=e.from,n=e.to;return l.isSelectedNode(e)||l.isNodeInsideSelection(t,n)})),(0,o.Z)((0,N.Z)(l),"onSelectionChange",(function(){l.update(l.node,[])})),l.updatePos(),l.oldSelection=r.state.selection,l.selectionChangeState=Kl.SL.getState(l.view.state),l.selectionChangeState.subscribe(l.onSelectionChange),l}return(0,D.Z)(n,[{key:"updatePos",value:function(){"boolean"!=typeof this.getPos&&(this.pos=this.getPos(),this.posEnd=this.pos+this.node.nodeSize)}},{key:"getPositionsWithDefault",value:function(e,t){return{pos:"number"!=typeof e?this.pos:e,posEnd:"number"!=typeof t?this.posEnd:t}}},{key:"viewShouldUpdate",value:function(e){var t=this.view.state.selection,n=this.oldSelection;this.oldSelection=t;var r=this.pos,o=this.posEnd;this.updatePos();var i=t.from,a=t.to,c=n.from,s=n.to;if(this.node.type.spec.selectable){var u=t instanceof g.NodeSelection&&t.from===this.pos,l=n instanceof g.NodeSelection&&n.from===this.pos;if(u&&!l||l&&!u)return!0}var d=this.isNodeInsideSelection(i,a)&&!this.isNodeInsideSelection(c,s),p=!this.isNodeInsideSelection(i,a)&&this.isNodeInsideSelection(c,s),f=this.isNodeInsideSelection(i,a,r,o)&&!this.isNodeInsideSelection(i,a);return!!(d||p||f)}},{key:"destroy",value:function(){this.selectionChangeState.unsubscribe(this.onSelectionChange),(0,md.Z)((0,B.Z)(n.prototype),"destroy",this).call(this)}}]),n}(ql);function Nv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var jv=function(e){(0,j.Z)(n,e);var t=Nv(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"renderMediaNodeWithState",(function(t,n){return function(r){var o=r.width,i=e.getPos,a=e.reactComponentProps.mediaOptions,c=e.view.state.selection,s=e.getAttrs(),u="external"===s.type?s.url:"",l=s.width,d=s.height;if(e.isMediaBlobUrl()){var p=(0,_c.Ny)(u);if(p){var f=p.width,h=p.height;l=l||f,d=d||h}}l=l||Sc.vz,d=d||Sc.rS;var v={width:"".concat(o.width,"px"),height:"".concat(d/l*o.width,"px")},m={width:l,height:d};return Z.createElement(Ts,{view:e.view,node:e.node,getPos:i,selected:e.isNodeInsideSelection(c.from,c.to)||c instanceof g.NodeSelection&&c.from===i(),originalDimensions:m,maxDimensions:v,url:u,mediaProvider:t,contextIdentifierProvider:n,mediaOptions:a})}})),(0,o.Z)((0,N.Z)(e),"renderMediaNodeWithProviders",(function(t){var n=t.mediaProvider,r=t.contextIdentifierProvider;return Z.createElement(M.Z,{editorView:e.view,plugins:{width:R.ux},render:e.renderMediaNodeWithState(n,r)})})),e}return(0,D.Z)(n,[{key:"createDomRef",value:function(){var e=document.createElement("div");return this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}},{key:"viewShouldUpdate",value:function(e){return this.node.attrs!==e.attrs||(0,md.Z)((0,B.Z)(n.prototype),"viewShouldUpdate",this).call(this,e)}},{key:"stopEvent",value:function(e){if(-1!==["mousedown","contextmenu"].indexOf(e.type)&&2===e.button)return!0;return!1}},{key:"getAttrs",value:function(){return this.node.attrs}},{key:"isMediaBlobUrl",value:function(){var e=this.getAttrs();return Pc(e)}},{key:"render",value:function(){var e=this.reactComponentProps.providerFactory;return Z.createElement(Rl.S,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:e,renderNode:this.renderMediaNodeWithProviders})}}]),n}(Rv),Fv=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(o,i,a){return new jv(o,i,a,e,t,{eventDispatcher:t,providerFactory:n,mediaOptions:r},void 0,void 0,void 0,!0).init()}},Bv=n(62513),zv=n(56177);function Uv(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}function Vv(){Vv=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hv(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gv=function(e){var t=e.node;return new od(Wv(Wv({},e),{},{isMediaSingle:!0,node:t||e.node,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,contextIdentifierProvider:e.contextIdentifierProvider}))},qv=function(){var e=(0,wc.Z)(Vv().mark((function e(t){var n,r,o,i;return Vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Gv(t),r=t.mediaPluginState.addPendingTask,o=t.node){e.next=5;break}return e.abrupt("return");case 5:if(n.getNodeContextId()){e.next=9;break}return e.next=9,n.updateContextId();case 9:return e.next=11,n.hasDifferentContextId();case 11:if(!e.sent){e.next=23;break}return e.prev=13,i=n.copyNode({traceId:o.attrs.__mediaTraceId}),r(i),e.next=18,i;case 18:e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(13),e.abrupt("return");case 23:return e.next=25,n.updateMediaSingleFileAttrs();case 25:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(t){return e.apply(this,arguments)}}(),Kv=function(e){var t=(0,Z.useState)(),n=(0,sr.Z)(t,2),r=n[0],o=n[1];(0,Z.useEffect)((function(){return function(e){var t=e.node,n=e.mediaPluginState,r=e.getPos;n.handleMediaNodeMount(t,(function(){return r()}))}(e),qv(e),i(e),function(){e.mediaPluginState.handleMediaNodeUnmount(e.node)}}),[e]);var i=function(){var e=(0,wc.Z)(Vv().mark((function e(t){var n,r;return Vv().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.mediaProvider;case 2:(n=e.sent)&&(r=n.viewMediaClientConfig,o(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a=e.node.attrs,c={id:a.id,mediaItemType:"file",collectionName:a.collection};return r?Z.createElement(Bv.Z,{isSelected:e.isSelected,identifier:c,mediaClientConfig:r}):Z.createElement(zv.y,{message:"",isSelected:!1})},$v=function(e){(0,j.Z)(n,e);var t=Uv(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"createDomRef",value:function(){var e=document.createElement("span");return e.contentEditable="false",e}},{key:"getContentDOM",value:function(){var e=document.createElement("span");return e.classList.add(ys),{dom:e}}},{key:"ignoreMutation",value:function(){return!0}},{key:"viewShouldUpdate",value:function(e){return this.node.attrs!==e.attrs||(0,md.Z)((0,B.Z)(n.prototype),"viewShouldUpdate",this).call(this,e)}},{key:"render",value:function(e){var t=this,n=e.providerFactory,r=this.getPos;return Z.createElement(Rl.S,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:n,renderNode:function(e){var n=e.mediaProvider,o=e.contextIdentifierProvider;return n?Z.createElement(M.Z,{editorView:t.view,plugins:{mediaPluginState:gs.S},render:function(e){var i=e.mediaPluginState;return i?Z.createElement(Kv,{identifier:t.node.attrs.id,mediaProvider:n,mediaPluginState:i,node:t.node,isSelected:t.nodeInsideSelection(),view:t.view,getPos:r,contextIdentifierProvider:o}):null}}):null}})}}]),n}(Rv),Jv=function(e,t,n,r){return function(o,i,a){return new $v(o,i,a,e,t,{providerFactory:n,dispatchAnalyticsEvent:r}).init()}};const Yv=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=(null==r||null===(e=r.dependencies)||void 0===e||null===(t=e.featureFlags)||void 0===t?void 0:t.sharedState.currentState())||{};return{name:"media",nodes:function(){var e=n||{},t=e.allowMediaGroup,r=void 0===t||t,o=e.allowMediaSingle,i=void 0!==o&&o,a=e.featureFlags,c=(0,fu.OC)("captions",a),s=(0,fu.OC)("mediaInline",a),u=c?mc.t2:mc.yC;return[{name:"mediaGroup",node:gc._},{name:"mediaSingle",node:u},{name:"media",node:yc.BC},{name:"mediaInline",node:bc.j}].filter((function(e){return"mediaGroup"===e.name?r:"mediaSingle"===e.name?i:"mediaInline"!==e.name||s}))},pmPlugins:function(){var e=[{name:"media",plugin:function(e){e.schema;var t=e.dispatch,r=e.getIntl,i=e.eventDispatcher,a=e.providerFactory,c=e.errorReporter,s=e.portalProviderAPI,u=(e.reactContext,e.dispatchAnalyticsEvent);return Cu(0,{providerFactory:a,nodeViews:{mediaGroup:vd(s,i,a,n),mediaSingle:Gd(s,i,a,u,n),media:Fv(s,i,a,n),mediaInline:Jv(s,i,a)},errorReporter:c,uploadErrorHandler:n&&n.uploadErrorHandler,waitForMediaUpload:n&&n.waitForMediaUpload,customDropzoneContainer:n&&n.customDropzoneContainer,customMediaPicker:n&&n.customMediaPicker,allowResizing:!(!n||!n.allowResizing)},0,r,t,n,o.newInsertionBehaviour)}},{name:"mediaKeymap",plugin:function(){return Zl(n)}}];return n&&n.allowMediaSingle&&e.push({name:"mediaSingleKeymap",plugin:function(e){return function(e){var t={},n=Vu(e);return Re.E4(Re.as.common,n,t),(0,it.h)(t)}(e.schema)}}),n&&n.allowAltTextOnImages&&(e.push({name:"mediaAltText",plugin:Mu}),e.push({name:"mediaAltTextKeymap",plugin:function(e){e.schema;return function(e){var t={};return Re.E4(Re.XX.common,Fu,t),Re.E4(Re.YU.common,ju,t),(0,it.h)(t)}()}})),n&&n.allowLinking&&(e.push({name:"mediaLinking",plugin:function(e){return function(e){return new u.J({key:Ku,state:Ju.createPluginState(e,$u)})}(e.dispatch)}}),e.push({name:"mediaLinkingKeymap",plugin:function(e){e.schema;return function(e){var t={};return Re.E4(Re.MJ.common,gl,t),(0,it.h)(t)}()}})),e.push({name:"mediaSelectionHandler",plugin:function(){var e=new u.J({key:new g.PluginKey("mediaSelectionHandlerPlugin"),props:{handleScrollToSelection:function(e){var t=e.state.selection;if(!(t instanceof g.NodeSelection)||"media"!==t.node.type.name)return!1;var n=e.domAtPos(t.from),r=n.node;return n.offset===r.childNodes.length}}});return e}}),e},contentComponent:function(e){var t=e.editorView,n=e.appearance;return Z.createElement(Z.Fragment,null,Z.createElement(M.Z,{editorView:t,plugins:{mediaState:gs.S},render:function(e){var r=e.mediaState;return Z.createElement(Lv,{editorDomElement:t.dom,mediaState:r,appearance:n})}}))},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.eventDispatcher,r=e.disabled;return Z.createElement(Ml,{editorView:t,eventDispatcher:n,pluginKey:gs.S,isDisabled:r,isReducedSpacing:!0})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"media",title:t(Jo.S.mediaFiles),description:t(Jo.S.mediaFilesDescription),priority:400,keywords:["attachment","gif","media","picture","image","video"],icon:function(){return Z.createElement(Do,null)},action:function(e,t){return gs.S.getState(t).showMediaPicker(),(0,At.Gs)(t,e(""),{action:p.om.OPENED,actionSubject:p.Wt.PICKER,actionSubjectId:p.VJ.PICKER_CLOUD,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.UI})}}]},floatingToolbar:function(e,t,r){return bv(e,t,{providerFactory:r,allowMediaInline:n&&(0,fu.OC)("mediaInline",n.featureFlags),allowResizing:n&&n.allowResizing,allowResizingInTables:n&&n.allowResizingInTables,allowLinking:n&&n.allowLinking,allowAdvancedToolBarOptions:n&&n.allowAdvancedToolBarOptions,allowAltTextOnImages:n&&n.allowAltTextOnImages,altTextValidator:n&&n.altTextValidator})}}}};var Xv=n(18365),Qv=new g.PluginKey("caption"),em=n(12651);function tm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var nm=function(e){(0,j.Z)(n,e);var t=tm(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"selected",e.insideSelection()),e}return(0,D.Z)(n,[{key:"createDomRef",value:function(){var e=document.createElement("figcaption");return e.setAttribute("data-caption","true"),e}},{key:"getContentDOM",value:function(){var e=document.createElement("div");return e.className="caption-wrapper",{dom:e}}},{key:"render",value:function(e,t){return Z.createElement(em.Z,{selected:this.insideSelection(),hasContent:this.node.content.childCount>0},Z.createElement("div",{ref:t}))}},{key:"viewShouldUpdate",value:function(e){if(this.node.childCount!==e.childCount)return!0;var t=this.insideSelection(),n=this.selected!==t;return this.selected=t,n}}]),n}(Rv);function rm(e,t){return function(n,r,o){return new nm(n,r,o,e,t,{},void 0,void 0,void 0,!0).init()}}var om=function(e,t,n){(0,At.Gs)(e,t,{action:n,eventType:p.Ze.TRACK,actionSubject:p.Wt.MEDIA_SINGLE,actionSubjectId:p.VJ.CAPTION})};function im(){var e={};return Re.E4(Re.vi.common,am,e),Re.E4(Re.IO.common,am,e),Re.E4(Re.vi.common,cm,e),Re.E4(Re.IO.common,cm,e),Re.E4(Re.A1.common,sm,e),Re.E4(Re.Z5.common,sm,e),Re.E4(Re.n2.common,cm,e),Re.E4(Re.hi.common,um,e),(0,it.h)(e)}var am=function(e,t){return!!(0,W.Tr)(e.schema.nodes.caption)(e.selection)&&(0,me.kJ)(e,t)},cm=function(e,t){var n=(0,W.Tr)(e.schema.nodes.caption)(e.selection);if(n){if(t)t(e.tr.setSelection(g.Selection.near(e.tr.doc.resolve(n.pos+n.node.nodeSize))));return!0}return!1},sm=function(e,t){if((0,W.Tr)(e.schema.nodes.caption)(e.selection)){var n=(0,W.Tr)(e.schema.nodes.mediaSingle)(e.selection);if(n){if(t)t(e.tr.setSelection(g.Selection.near(e.tr.doc.resolve(n.pos))));return!0}}return!1},um=function(e,t){if((0,W.Tr)(e.schema.nodes.caption)(e.selection)){var n=(0,W.Tr)(e.schema.nodes.mediaSingle)(e.selection);if(n&&e.selection.empty&&0===e.tr.doc.resolve(e.selection.from).parentOffset){var r=rn.WD.findFrom(e.tr.doc.resolve(n.pos),0,!1);if(r){if(t)t(e.tr.setSelection(r));return!0}}}return!1};const lm=function(){return{name:"caption",nodes:function(){return[{name:"caption",node:Xv.V}]},pmPlugins:function(){return[{name:"caption",plugin:function(e){var t=e.portalProviderAPI,n=(e.providerFactory,e.eventDispatcher);e.dispatch;return function(e,t,n,r){return new u.J({appendTransaction:function(e,t,n){if(e.find((function(e){return e.selectionSet}))){var r=!n.selection.eq(t.selection),o=(0,W.Tr)(t.schema.nodes.caption)(t.selection),i=n.tr;if(r&&o){if(0===o.node.childCount)return i.delete(o.start-1,o.start),i.setMeta("scrollIntoView",!1),om(n,i,p.om.DELETED),i;om(n,i,p.om.EDITED)}}},key:Qv,props:{nodeViews:{caption:rm(e,t)}}})}(t,n)}},{name:"captionKeymap",plugin:im}]}}};var dm,pm=n(98022),fm=n.n(pm),hm="fabric-elements",vm=n(63053),mm=n(72315),gm=n(93740);!function(e){e.OPEN_TYPEAHEAD_AT_CURSOR="OPEN_TYPEAHEAD_AT_CURSOR",e.CLOSE_TYPE_AHEAD="CLOSE_TYPE_AHEAD",e.CHANGE_QUERY="CHANGE_QUERY",e.INSERT_ITEM="INSERT_ITEM",e.INSERT_RAW_QUERY="INSERT_RAW_QUERY",e.UPDATE_LIST_ITEMS="UPDATE_LIST_ITEMS",e.UPDATE_SELECTED_INDEX="UPDATE_SELECTED_INDEX"}(dm||(dm={}));var ym=function(e){return function(t,n){if(gm.u.getState(t).selectedIndex===e)return!1;var r=t.tr;return r.setMeta(gm.u,{action:dm.UPDATE_SELECTED_INDEX,params:{selectedIndex:e}}),n&&n(r),!0}},bm=(0,D.Z)((function e(){var t=this;(0,P.Z)(this,e),(0,o.Z)(this,"startedAt",0),(0,o.Z)(this,"endedAt",0),(0,o.Z)(this,"keyCount",{arrowUp:0,arrowDown:0}),(0,o.Z)(this,"increaseArrowUp",(function(){t.keyCount.arrowUp+=1})),(0,o.Z)(this,"increaseArrowDown",(function(){t.keyCount.arrowDown+=1})),(0,o.Z)(this,"serialize",(function(){var e,n;return{startedAt:t.startedAt,endedAt:performance.now(),keyCount:{arrowUp:(null===(e=t.keyCount)||void 0===e?void 0:e.arrowUp)||0,arrowDown:(null===(n=t.keyCount)||void 0===n?void 0:n.arrowDown)||0}}})),this.startedAt=performance.now(),this.keyCount={arrowUp:0,arrowDown:0}})),wm=n(1313),km=function(e){var t,n;return(null===gm.u||void 0===gm.u||null===(t=gm.u.getState(e))||void 0===t||null===(n=t.decorationSet)||void 0===n?void 0:n.find().length)>0},Em=function(e){return gm.u.getState(e)},xm=function(e){return gm.u.getState(e).triggerHandler},Om=function(e){return gm.u.getState(e).query},Sm=function(e){return!km(e)},Cm=function(e,t){var n=gm.u.getState(t);return n&&n.typeAheadHandlers&&0!==n.typeAheadHandlers.length&&n.typeAheadHandlers.find((function(t){return t.id===e}))||null},Tm=function(e){var t=e.editorView,n=e.direction,r=e.useBetterTypeaheadNavigation;return function(){var e=Em(t.state);if(e){var o,i=e.selectedIndex,a=e.items,c=e.stats instanceof bm?e.stats:new bm;"next"===n?(c.increaseArrowDown(),o=r&&-1===i&&a.length>1?1:i>=a.length-1?0:i+1):(c.increaseArrowUp(),o=i<=0?a.length-1:i-1),ym(o)(t.state,t.dispatch)}}},Am=function(e,t,n){var r,o,i,a,c;switch(e){case"@":return{popupAriaLabel:t.formatMessage(wm.s.mentionPopupLabel),listItemAriaLabel:t.formatMessage(wm.s.metionListItemLabel,{name:(null==n||null===(r=n.mention)||void 0===r?void 0:r.name)||"",shortName:(null==n||null===(o=n.mention)||void 0===o?void 0:o.mentionName)||""})};case"/":return{popupAriaLabel:t.formatMessage(wm.s.quickInsertPopupLabel),listItemAriaLabel:t.formatMessage(wm.s.emojiListItemLabel,{name:(null==n?void 0:n.title)||"",shortcut:(null==n||null===(i=n.emoji)||void 0===i?void 0:i.shortName)||""})};case":":return{popupAriaLabel:t.formatMessage(wm.s.emojiPopupLabel),listItemAriaLabel:t.formatMessage(wm.s.emojiListItemLabel,{name:(null==n||null===(a=n.emoji)||void 0===a?void 0:a.name)||"",shortcut:(null==n||null===(c=n.emoji)||void 0===c?void 0:c.shortName)||""})};default:return{popupAriaLabel:t.formatMessage(wm.s.typeAheadPopupLabel)}}},_m=n(12913),Pm=function(e){return function(t){var n=e.triggerHandler,r=e.inputMethod,o=e.query;t.setMeta(gm.u,{action:dm.OPEN_TYPEAHEAD_AT_CURSOR,params:{triggerHandler:n,inputMethod:r,query:o}})}},Dm=function(e){var t=e.triggerHandler,n=e.inputMethod,r=e.query;return function(e){Pm({triggerHandler:t,inputMethod:n,query:r})(e);var o=e.selection;if(!(o instanceof g.TextSelection||o instanceof rn.WD))return e;if(o instanceof rn.WD)e.insertText(" "),e.delete(e.selection.from-1,e.selection.from);else{var i,a,c,s;if(!o.$cursor)return e.deleteSelection(),e;var u=o.$cursor.pos,l=e.doc.nodeAt(u),d=l&&"placeholder"===l.type.name;l&&d&&e.delete(u,u+l.nodeSize),Ec.Z.chrome&&Ec.Z.android&&u>2&&null!=o&&null!==(i=o.$head)&&void 0!==i&&null!==(a=i.parent)&&void 0!==a&&a.textContent&&null!==(c=(s=o.$head.parent.textContent).endsWith)&&void 0!==c&&c.call(s,"@")&&e.delete(u-1,u)}return e}},Zm=function(e){return e.setMeta(gm.u,{action:dm.CLOSE_TYPE_AHEAD})},Im=function(e){return function(t,n){if(gm.u.getState(t).query===e)return!1;var r=t.tr;return r.setMeta(gm.u,{action:dm.CHANGE_QUERY,params:{query:e}}),n&&n(r),!0}};function Lm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Mm=function(e){return e.DELETING_RAW_QUERY="DELETING_RAW_QUERY",e.INSERTING_ITEM="INSERTING_ITEM",e}({}),Rm=function(e){(0,j.Z)(n,e);var t=Lm(n);function n(e){var r,o=e.stage,i=e.query,a=e.trigger,c=e.selectedIndex,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,P.Z)(this,n),(r=t.call(this)).isInvertStep=s,r.stage=o,r.query=i,r.trigger=a,r.selectedIndex=c,r}return(0,D.Z)(n,[{key:"invert",value:function(){return new n({stage:this.stage,query:this.query,trigger:this.trigger,selectedIndex:this.selectedIndex},!this.isInvertStep)}},{key:"apply",value:function(e){return nn.oo.ok(e)}},{key:"merge",value:function(){return null}},{key:"isInsertionStep",value:function(){return!this.isInvertStep}},{key:"isUndoingStep",value:function(){return this.isInvertStep}},{key:"map",value:function(e){return new n({stage:this.stage,query:this.query,trigger:this.trigger,selectedIndex:this.selectedIndex},this.isInvertStep)}},{key:"getMap",value:function(){return new nn.KS([0,0,0])}},{key:"toJSON",value:function(){return{stepType:"replace",from:0,to:0}}}],[{key:"fromJSON",value:function(){return new nn.Pu(0,0,Hs.p2.empty)}}]),n}(nn.h8);nn.h8.jsonID("atlaskit-insert-type-ahead",Rm);var Nm=function(e){var t=e.node,n=e.tr,r=e.position,o=r.start,i=r.end;if(t.isText)return n.replaceWith(o,i,t);if(t.isBlock){n.delete(o,i);var a=n.mapping.map(o),c=(0,Sn.vU)(n,t);if(ti(c,a)(n))return n;var s=on.Slice.maxOpen(on.Fragment.from(c)),u=function(e,t,n){for(var r=e.resolve(t),o=function(e,t){return{from:e,to:t||e}},i=r.depth;i>=0;i--){var a=r.node(i),c=Math.max(i-1,0),s=r.node(c),u="paragraph"===a.type.name&&0===a.content.size,l=r.index(c),d=s.canReplaceWith(l,l,n.type);if(u&&d){var p=r.posAtIndex(l,c);return o(p,p+a.nodeSize)}var f=r.indexAfter(c);if(s.canReplaceWith(f,f,n.type))return o(r.posAtIndex(f,c))}return o(0)}(n.doc,a,c),l=u.from,d=u.to;n.replaceWith(l,d,t);var p=Math.min(l+(t.isAtom?t.nodeSize:s.openStart),n.doc.content.size),f=g.TextSelection.findFrom(n.doc.resolve(p),1,!0);if(f)return n.setSelection(f)}return n},jm=function(e){var t=e.editorState,n=e.handler,r=e.query,o=e.wasInsertedBySpace,i=e.selectedIndex,a=e.textStartPosition,c=e.textInserted;return function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=t.tr,l={start:a,end:a+(o?c.length:0)},d=function(e){var t=e.schema,n=e.maybeNode;if(!n)return null;if(n instanceof on.Node||n instanceof on.Fragment)return n;if("string"==typeof n)return t.text(n);try{return on.Node.fromJSON(t,n)}catch(e){return console.error(e),null}}({schema:t.schema,maybeNode:e});if(!d)return Zm(u),u.delete(l.start,l.end),u;if(d instanceof on.Node&&d.isBlock?Nm({node:d,tr:u,position:l}):function(e){var t=e.maybeFragment,n=e.tr,r=e.position,o=e.selectInlineNode,i=r.start,a=r.end,c=t instanceof on.Node?on.Fragment.from(t):t;n.replaceWith(i,a,c),o?n.setSelection(g.NodeSelection.create(n.doc,i)):n.setSelection(g.TextSelection.near(n.doc.resolve(i+c.size)))}({maybeFragment:d,tr:u,position:l,selectInlineNode:Boolean(s.selectInlineNode)}),(0,qn.SJ)(u),o)return u;var p={stage:Mm.INSERTING_ITEM,query:r,selectedIndex:i,trigger:n.trigger};return u.step(new Rm(p)),u}},Fm=function(e){var t=e.trigger,n=e.selectedIndex,r=e.position,o=e.query,i=e.wasInsertedBySpace,a=e.insertItem;return function(e){var c=e.tr;if((0,qn.SJ)(c),!i){c.delete(r.start,r.end);var s={stage:Mm.DELETING_RAW_QUERY,selectedIndex:n,query:o,trigger:t};c.step(new Rm(s))}return c.setMeta(gm.u,{action:dm.INSERT_ITEM,params:a}),c}},Bm=function(e){return function(t){var n=t.item,r=t.handler,o=t.mode,i=t.query,a=t.sourceListItem,c=Em(e.state);if(c){var u=(c.stats||new bm).serialize(),l={mode:o,query:i,stats:u,sourceListItem:a},d=e.state.tr,p=r.trigger,f="".concat(p).concat(i);o===mm.P.SPACE&&(f=f.trim().concat(" "));var h=o===mm.P.SPACE,v=d.selection.from,m={start:d.selection.from,end:d.selection.from+f.length};d.setMeta(gm.u,{action:dm.INSERT_RAW_QUERY,params:Fm({wasInsertedBySpace:h,selectedIndex:-1,insertItem:function(e){var t=jm({editorState:e,query:i,mode:o,handler:r,wasInsertedBySpace:h,selectedIndex:-1,textInserted:f,textStartPosition:v}),a=!1,c=new Proxy(t,{apply:function(e,t,n){return a=!0,e.apply(void 0,(0,s.Z)(n))}}),u=r.selectItem(e,n,c,l);return!a&&u&&((0,qn.SJ)(u),u.getMeta(gm.u)||Zm(u)),u},position:m,query:i,trigger:p})}),d.insertText(f),(0,qn.SJ)(d),e.dispatch(d),e.focus()}}},zm=function(e){var t=e.editorView;return function(e){return function(n){var r=t.state,o=Cm(e,r);if(!o)return!1;var i=r.tr;return Dm({triggerHandler:o,inputMethod:n})(i),t.dispatch(i),!0}}},Um={insertCurrentQueryAsRawText:!1},Vm=function(e){var t=e.editorView;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Um,n=t.state,r=Om(t.state),o=n.tr;if(e.attachCommand){e.attachCommand(n,(function(e){o=e}))}if(Zm(o),e.insertCurrentQueryAsRawText&&r&&r.length>0){var i=xm(n).trigger.concat(r);o.replaceSelectionWith(n.schema.text(i))}return t.dispatch(o),t.hasFocus()||t.focus(),!0}},Hm=function(e){var t=e.editorView;return function(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t.state,o=Cm(e,r);if(!o)throw new Error("Handler not found, did you load the ".concat(e," plugin properly"));zm({editorView:t})(e)(p.Jq.KEYBOARD),Im(n)(t.state,t.dispatch);var i={current:n},a={last:o.getItems({query:n,editorState:r}).then((function(e){if(!o.forceSelect)return e;var i=o.forceSelect({items:e,query:n,editorState:r});if(!i)return e;Bm(t)({handler:o,item:i,query:n,mode:mm.P.SELECTED,sourceListItem:e})}))};return{type:function(e){if(e){i.current+=e,Im(i.current)(t.state,t.dispatch);var n=o.getItems({query:i.current,editorState:r});return a.last=n,n}},result:function(){return a.last},close:Vm({editorView:t}),insert:function(e){var r=e.index,i=e.mode;return a.last.then((function(e){var a=e?e[r]:null;e&&a&&Bm(t)({handler:o,item:a,query:n,mode:i||mm.P.SELECTED,sourceListItem:e})}))}}}}},Wm=function(e){var t=e.editorView;return function(e){return function(n){var r=n.contentItem,o=n.query,i=n.sourceListItem,a=t.state,c=Cm(e,a);return!!c&&(Bm(t)({handler:c,item:r,mode:mm.P.SELECTED,query:o,sourceListItem:i}),!0)}}},Gm=function(e){var t=e.editorView;return function(){if(!km(t.state))return!1;var e=xm(t.state);return e||!1}},qm=function(e){var t=e.editorView;return function(){return Om(t.state)}},Km=function(e){var t=e.editorView;return function(e){var n=function(e){var t=e.trigger,n=e.editorState,r=gm.u.getState(n);return r&&r.typeAheadHandlers&&0!==r.typeAheadHandlers.length&&r.typeAheadHandlers.find((function(e){return e.trigger===t}))||null}({trigger:e,editorState:t.state});return n||null}},$m=function(e){var t={editorView:e};return{isOpen:Gm(t),currentQuery:qm(t),close:Vm(t),openMention:zm(t)(mm.o.MENTION),searchMention:Hm(t)(mm.o.MENTION),openQuickInsert:zm(t)(mm.o.QUICK_INSERT),searchQuickInsert:Hm(t)(mm.o.QUICK_INSERT),openEmoji:zm(t)(mm.o.EMOJI),searchEmoji:Hm(t)(mm.o.EMOJI),insertItemMention:Wm(t)(mm.o.MENTION),insertItemEmoji:Wm(t)(mm.o.EMOJI),insertItemQuickInsert:Wm(t)(mm.o.QUICK_INSERT)}},Jm=(0,Ze.vU)({inviteItemTitle:{id:"fabric.editor.inviteItem.title",defaultMessage:"{userRole, select, admin {Invite} trusted {Invite} other {Add}} teammate to {productName}",description:"Title of the invite teammate item in typeahead plugin"},mentionsAddLabel:{id:"fabric.editor.mentionsAddLabel",defaultMessage:"add-icon",description:"icon label to describe adding a new mention"},mentionsIconLabel:{id:"fabric.editor.mentionsIconLabel",defaultMessage:"Mention",description:"icon label to describe the mention icon"},mentionsNodeLabel:{id:"fabric.editor.mentionNode.label",defaultMessage:"Tagged user",description:'Label to indicate mention node to Screen reader users, that preceeds with user name ex: "Tagged user @XXX'}});function Ym(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Xm=function(e){(0,j.Z)(n,e);var t=Ym(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"handleInsertMention",(function(){return!!e.props.editorView&&($m(e.props.editorView).openMention(p.Jq.INSERT_MENU),!0)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props.intl.formatMessage(Jm.mentionsIconLabel);return Z.createElement(Ce.Z,{testId:this.props.testId,buttonId:Ce.s.MENTION,spacing:"none",onClick:this.handleInsertMention,disabled:this.props.isDisabled,title:e+"@",iconBefore:Z.createElement(_m.Z,{label:e})})}}]),n}(Z.PureComponent);const Qm=(0,H.ZP)(Xm);var eg=n(13278),tg=n(61632),ng=n(95158),rg=n(19532),og=(0,Z.memo)((function(e){var t=e.children,n=e.testId,r=e.isBold,o=void 0!==r&&r,i=e.appearance,a=void 0===i?"default":i,c=e.maxWidth,s=void 0===c?200:c,u=e.style,l=o?"bold":"subtle",d=a in lg[l]?a:"default",p="string"==typeof s?s:"".concat(s,"px"),f="string"==typeof s&&/%$/.test(s);return Z.createElement(ng.Z,{as:"span",display:"inlineFlex",backgroundColor:lg[l][d],borderRadius:"normal",paddingInline:"space.050",position:"static",testId:n,overflow:"hidden",UNSAFE_style:{backgroundColor:null==u?void 0:u.backgroundColor,maxWidth:f?s:"100%"}},Z.createElement(rg.Z,{fontSize:"size.050",fontWeight:"bold",lineHeight:"lineHeight.100",textTransform:"uppercase",color:dg[l][d],shouldTruncate:!0,UNSAFE_style:{color:null==u?void 0:u.color,maxWidth:f?"100%":"calc(".concat(p," - ","var(--ds-space-100, 8px)",")")},testId:n&&"".concat(n,"--text")},t))}));og.displayName="Lozenge";const ig=og;var ag,cg,sg,ug,lg={bold:{default:"neutral.bold",inprogress:"information.bold",moved:"warning.bold",new:"discovery.bold",removed:"danger.bold",success:"success.bold"},subtle:{default:"neutral",inprogress:"information",moved:"warning",new:"discovery",removed:"danger",success:"success"}},dg={bold:{default:"inverse",inprogress:"inverse",moved:"warning.inverse",new:"inverse",removed:"inverse",success:"inverse"},subtle:{default:"subtle",inprogress:"information",moved:"warning",new:"discovery",removed:"danger",success:"success"}};function pg(e){return!!e&&e===cg[cg.NONE]}function fg(e){return!!e.userType&&e.userType===sg[sg.SPECIAL]}!function(e){e[e.SELF=0]="SELF",e[e.RESTRICTED=1]="RESTRICTED",e[e.DEFAULT=2]="DEFAULT"}(ag||(ag={})),function(e){e[e.NONE=0]="NONE",e[e.SITE=1]="SITE",e[e.APPLICATION=2]="APPLICATION",e[e.CONTAINER=3]="CONTAINER"}(cg||(cg={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SPECIAL=1]="SPECIAL",e[e.APP=2]="APP",e[e.TEAM=3]="TEAM",e[e.SYSTEM=4]="SYSTEM"}(sg||(sg={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SERVICE_ERROR=1]="SERVICE_ERROR",e[e.OK=2]="OK"}(ug||(ug={}));var hg=function(e){return!(!e||!e.then)},vg=n(91687);const mg=Z.lazy((function(){return Promise.all([n.e(5551),n.e(662)]).then(n.bind(n,79905)).then((function(e){return{default:e.NoAccessTooltip}}))}));const gg=(0,Z.lazy)((function(){return n.e(7342).then(n.bind(n,14781)).then((function(e){return{default:e.default}}))}));var yg,bg,wg,kg,Eg,xg,Og,Sg,Cg,Tg=n(11971),Ag=Tg.Z.div(yg||(yg=(0,z.Z)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  overflow: hidden;\n  padding: 6px 14px;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n"]))),_g=Tg.Z.span(bg||(bg=(0,z.Z)(["\n  position: relative;\n  flex: initial;\n  opacity: ",";\n"])),(function(e){return e.restricted?"0.5":"inherit"})),Pg=Tg.Z.div(wg||(wg=(0,z.Z)(["\n  flex: 1;\n  min-width: 0;\n  margin-left: 14px;\n  opacity: ",";\n"])),(function(e){return e.restricted?"0.5":"inherit"})),Dg=Tg.Z.span(kg||(kg=(0,z.Z)(["\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: ",";\n"])),"var(--ds-text, ".concat(V.xA,")")),Zg=Tg.Z.div(Eg||(Eg=(0,z.Z)(["\n  display: flex;\n  flex-direction: column;\n  text-align: right;\n  opacity: ",";\n\n  & {\n    /* Lozenge */\n    & > span {\n      margin-bottom: 2px;\n    }\n  }\n"])),(function(e){return e.restricted?"0.5":"inherit"})),Ig=Tg.Z.div(xg||(xg=(0,z.Z)(["\n  margin-left: 20px;\n  flex: none;\n  color: ",";\n  font-size: 12px;\n"])),"var(--ds-text-subtlest, ".concat(V.Y8,")")),Lg=Tg.Z.div(Og||(Og=(0,z.Z)(["\n  background-color: ",";\n  display: block;\n  overflow: hidden;\n  list-style-type: none;\n  height: ","px;\n  line-height: 1.2;\n  cursor: pointer;\n"])),(function(e){return e.selected?"var(--ds-background-selected, ".concat(V.gt,")"):"transparent"}),48),Mg=Tg.Z.div(Sg||(Sg=(0,z.Z)(["\n  padding-left: 5px;\n  color: ",";\n"])),"var(--ds-text-subtle, ".concat(V.Mx,")"));function Rg(e,t,n,r){if(!t)return null;var o=[],i=r||"",a=0;if(n){for(var c=0;c<n.length;c++){var s=n[c],u=s.start,l=s.end;u>a&&o.push({value:t.substring(a,u),matches:!1}),o.push({value:t.substring(u,l+1),matches:!0}),a=l+1}a<t.length&&o.push({value:t.substring(a,t.length),matches:!1})}else o.push({value:t,matches:!1});return Z.createElement(e,null,i,o.map((function(e,t){return e.matches?Z.createElement("b",{key:t},e.value):e.value})))}var Ng=Tg.Z.span(Cg||(Cg=(0,z.Z)(["\n  color: ",";\n  font-size: 12px;\n\n  margin-top: 2px;\n\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"])),"var(--ds-text-subtlest, ".concat(V.Y8,")"));function jg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Fg=function(e){(0,j.Z)(n,e);var t=jg(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props.mention,t=e.highlight,n=e.name,r=e.nickname,o=t&&t.nickname;return n===r?null:Rg(Ng,r,o,"@")}}]),n}(Z.PureComponent),Bg=n(42670),zg=n(69557);function Ug(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Vg=function(e){(0,j.Z)(n,e);var t=Ug(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"renderByline",(function(t,n){return n?t>50?e.getBylineComponent(Z.createElement(Bg.Z,zg.s.plus50MembersWithYou)):e.getBylineComponent(Z.createElement(Bg.Z,(0,Lt.Z)({},zg.s.memberCountWithYou,{values:{0:t}}))):t>50?e.getBylineComponent(Z.createElement(Bg.Z,zg.s.plus50MembersWithoutYou)):e.getBylineComponent(Z.createElement(Bg.Z,(0,Lt.Z)({},zg.s.memberCountWithoutYou,{values:{0:t}})))})),(0,o.Z)((0,N.Z)(e),"getBylineComponent",(function(e){return Z.createElement(Ng,null,e)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props.mention.context;if(!e)return null;var t=e.includesYou,n=e.memberCount;return this.renderByline(n,t)}}]),n}(Z.PureComponent);function Hg(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Wg=function(e){(0,j.Z)(n,e);var t=Hg(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){return this.props.mention.userType===sg[sg.TEAM]?Z.createElement(Vg,{mention:this.props.mention}):Z.createElement(Fg,{mention:this.props.mention})}}]),n}(Z.PureComponent),Gg=n(14605),qg={};const Kg=function(e){var t=e.children,n=(0,De.Z)(),r=function(e){var t=Z.useState(qg),n=(0,sr.Z)(t,2),r=n[0],o=n[1];return Z.useEffect((function(){var t=!1;return o(qg),(0,vg.fW)(e).then((function(e){t||o(e)})).catch((function(e){console.error(e)})),function(){t=!0}}),[e]),r}(n.locale);return Z.createElement(Gg.Z,(0,Lt.Z)({},n,{messages:r}),t)};function $g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Jg,Yg,Xg,Qg,ey,ty,ny=function(e){(0,j.Z)(n,e);var t=$g(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"onMentionSelected",(function(t){(function(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)})(t)&&e.props.onSelection&&(t.preventDefault(),e.props.onSelection(e.props.mention,t))})),(0,o.Z)((0,N.Z)(e),"onMentionMenuItemMouseMove",(function(t){e.props.onMouseMove&&e.props.onMouseMove(e.props.mention,t)})),(0,o.Z)((0,N.Z)(e),"onMentionMenuItemMouseEnter",(function(t){e.props.onMouseEnter&&e.props.onMouseEnter(e.props.mention,t)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.mention,n=e.selected,r=t.id,o=t.highlight,a=t.avatarUrl,c=t.presence,s=t.name,u=t.mentionName,l=t.lozenge,d=t.accessLevel,p=c||{},f=p.status,h=p.time,v=pg(d),m=o&&o.name,g=n?"var(--ds-border, ".concat(V.gt,")"):void 0;return Z.createElement(Kg,null,Z.createElement(Lg,{selected:n,onMouseDown:this.onMentionSelected,onMouseMove:this.onMentionMenuItemMouseMove,onMouseEnter:this.onMentionMenuItemMouseEnter,"data-mention-id":r,"data-mention-name":u},Z.createElement(Ag,null,Z.createElement(_g,{restricted:v},Z.createElement(tg.Z,{src:a,size:"medium",presence:f,borderColor:g})),Z.createElement(Pg,{restricted:v},Rg(Dg,s,m),Z.createElement(Wg,{mention:t})),Z.createElement(Zg,{restricted:v},function(e){if("string"==typeof e)return Z.createElement(ig,null,e);if("object"===(0,i.Z)(e)){var t=e.appearance,n=e.text;return Z.createElement(ig,{appearance:t},n)}return null}(l),function(e){return e?Z.createElement(Ig,null,e):null}(h)),v?Z.createElement(Z.Suspense,{fallback:null},Z.createElement(mg,{name:s},Z.createElement(Mg,null,Z.createElement(vg.CT,null,(function(e){return Z.createElement(gg,{label:e})}))))):null)))}}]),n}(Z.PureComponent),ry=n(23818),oy=n(15574),iy=n(10977),ay=(0,U.iv)(Jg||(Jg=(0,z.Z)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  overflow: hidden;\n  padding: 6px ","px;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n"])),14),cy=(0,U.iv)(Yg||(Yg=(0,z.Z)(["\n  position: relative;\n  flex: initial;\n  opacity: inherit;\n  width: 36px;\n  height: ","px;\n\n  > span {\n    width: 24px;\n    height: 24px;\n    padding: 6px;\n  }\n"])),36),sy=(0,U.iv)(Xg||(Xg=(0,z.Z)(["\n  flex: 1;\n  min-width: 0;\n  margin-left: 14px;\n  color: ",";\n  opacity: inherit;\n"])),"var(--ds-text-subtle, ".concat(V.hH,")")),uy=(0,U.iv)(Qg||(Qg=(0,z.Z)(["\n  background-color: transparent;\n  display: block;\n  overflow: hidden;\n  list-style-type: none;\n  cursor: pointer;\n"]))),ly=(0,U.iv)(ey||(ey=(0,z.Z)(["\n  background-color: ",";\n"])),"var(--ds-background-neutral-subtle-hovered, ".concat(V.gt,")")),dy=(0,U.iv)(ty||(ty=(0,z.Z)(["\n  text-transform: capitalize;\n"]))),py={id:"invite-teammate"};const fy=(0,H.ZP)((function(e){var t=e.productName,n=e.onMount,r=e.onMouseEnter,o=e.onSelection,i=e.selected,a=e.userRole,c=e.intl,s=(0,Z.useCallback)((function(e){(function(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)})(e)&&o&&(e.preventDefault(),o(py,e))}),[o]),u=(0,Z.useCallback)((function(e){r&&r(py,e)}),[r]);return(0,Z.useEffect)((function(){n&&n()}),[n]),(0,U.tZ)("div",{css:[uy,i&&ly],onMouseDown:s,onMouseEnter:u,"data-id":py.id},(0,U.tZ)("div",{css:ay},(0,U.tZ)("span",{css:cy},(0,U.tZ)(iy.Z,{label:c.formatMessage(Jm.mentionsAddLabel),primaryColor:"var(--ds-icon-subtle, ".concat(V.hH,")")})),(0,U.tZ)("div",{css:sy,"data-testid":"name-section"},(0,U.tZ)(Bg.Z,(0,Lt.Z)({},Jm.inviteItemTitle,{values:{userRole:a||"basic",productName:(0,U.tZ)("span",{css:dy,"data-testid":"capitalized-message"},t)}})))))}));var hy=function(e){return"TEAM"===e},vy=function(e){return e&&e.id===py.id};function my(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?my(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):my(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yy="mention",by=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];return{action:t,actionSubject:e,eventType:n,attributes:gy({packageName:oy.u2,packageVersion:oy.i8,componentName:yy,sessionId:r},o),tags:i}},wy={queryLength:0,spaceInQuery:!1},ky=function(e){return e?{queryLength:e.length,spaceInQuery:-1!==e.indexOf(" ")}:wy},Ey=function(e,t){if(e){var n=e.findIndex((function(e){return e.id===t.id}));return-1===n?void 0:n}},xy=function(e){return"selected"===e},Oy=new g.PluginKey("mentionPlugin");function Sy(e){return Oy.getState(e)}function Cy(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ty(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ty(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function Ty(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ay(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ay(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ay(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Py=function(e){var t=e.mentionProvider,n=e.firstQueryWithoutResults,r=e.currentQuery,o=e.onInviteItemMount;return function(e){var i=function(e){var t=e.mentionProvider,n=e.onInviteItemMount;return{title:py.id,render:function(e){var r=e.isSelected,o=e.onClick,i=e.onHover;return Z.createElement(fy,{productName:t?t.productName:void 0,selected:r,onMount:n,onMouseEnter:i,onSelection:o,userRole:t.userRole})},mention:py}}({mentionProvider:t,onInviteItemMount:o}),a=function(e,t){if(!t)return!0;var n=t.length-1,r=e.slice(n);return" "===e[n-1]&&(r=" "+r),!/\s[^\s]+\s/.test(r)}(r,n);return 0===e.length?a?[i]:[]:[].concat((0,s.Z)(e),[i])}};var Dy,Zy,Iy=(Dy=function(e){return{title:e.id,render:function(t){var n=t.isSelected,r=t.onClick,o=t.onHover;return Z.createElement(ny,{mention:e,selected:n,onMouseEnter:o,onSelection:r})},getCustomComponentHeight:function(){return 48},mention:e}},{call:function(e){var t=Zy.get(e.id);if(t)return t;var n=Dy(e);return Zy.set(e.id,n),n},clear:(Zy=new Map).clear.bind(Zy)}),Ly=function(e){return function(t){var n,r=t.query,o=t.mentions,i=t.stats,a=0,c=null,s=null;!(n=i)||isNaN(n.teamMentionDuration)?(a=i&&i.duration,s=null,c=o.map((function(e){return e.id}))):(a=i&&i.teamMentionDuration,c=null,s=o.map((function(e){return hy(e.userType)?{teamId:e.id,includesYou:e.context.includesYou,memberCount:e.context.memberCount}:null})).filter((function(e){return!!e})));var u=function(e,t,n,r){var o=ky(n),i=o.queryLength,a=o.spaceInQuery;return{action:"rendered",actionSubject:t?"mentionTypeahead":"teamMentionTypeahead",eventType:ry.Ru,attributes:{packageName:oy.u2,packageVersion:oy.i8,componentName:yy,duration:e,userIds:t,teams:r,queryLength:i,spaceInQuery:a}}}(a,c,r,s);e(u)}},My=function(e){var t=e.sanitizePrivateContent,n=e.mentionInsertDisplayName,r=e.fireEvent,o=e.HighlightComponent,i=fm()(),a=null,c=new Set,s={id:mm.o.MENTION,trigger:"@",customRegex:"\\(?(@)",getHighlight:function(e){var t=o;return t?Z.createElement(t,null):null},getItems:function(e){var t=e.query,n=Sy(e.editorState);if(null==n||!n.mentionProvider)return Promise.resolve([]);var o=n.mentionProvider,s=n.contextIdentifierProvider;return new Promise((function(e){var n="loadingMentionsForTypeAhead_".concat(fm()());c.add(n),o.subscribe(n,(function(u){var l=arguments.length>2?arguments[2]:void 0;if(t===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")){o.unsubscribe(n),c.delete(n);var d=u.map((function(e){return Iy.call(e)}));if(Ly(r)({query:t,mentions:u,stats:l}),0===u.length&&null===a&&(a=t),d.length<=2){var p=o.inviteExperimentCohort,f=o.userRole;r(function(e,t,n,r){var o=t||{},i=o.containerId,a=o.objectId,c=o.childObjectId;return by("feature","exposed",ry.Ru,e,{flagKey:"confluence.frontend.invite.from.mention",value:n||"not-enrolled",containerId:i,objectId:a,childObjectId:c,userRole:r},["measurement","hasCustomAttributes"])}(i,s,p,f))}if(!o.shouldEnableInvite||d.length>2)e(d);else{var h=Py({mentionProvider:o,firstQueryWithoutResults:a||"",currentQuery:t,onInviteItemMount:function(){r(function(e,t,n){var r=t||{},o=r.containerId,i=r.objectId,a=r.childObjectId;return by("inviteItem","rendered",ry._d,e,{containerId:o,objectId:i,childObjectId:a,userRole:n})}(i,s,o.userRole))}})(d);e(h)}}})),o.filter(t||"",_y(_y({},s),{},{sessionId:i}))}))},onOpen:function(){a=null},selectItem:function(e,o,a,c){var s=c.mode,u=c.stats,l=c.query,d=c.sourceListItem,p=e.schema,f=Sy(e),h=f.mentionProvider,v=o.mention,m=v.id,g=v.name,y=v.nickname,b=v.accessLevel,w=v.userType,k=y&&y.startsWith("@")?y.slice(1):y,E=n||!k?g:k,x=_y(_y({},f.contextIdentifierProvider),{},{sessionId:i});h&&!vy(o.mention)&&h.recordMentionSelection(o.mention,x);var O=u.startedAt?Date.now()-u.startedAt:0;if(h&&h.shouldEnableInvite&&vy(o.mention))return"space"!==s&&(r(function(e,t,n,r,o,i,a,c){var s=ky(i),u=s.queryLength,l=s.spaceInQuery,d=a||{},p=d.containerId,f=d.objectId,h=d.childObjectId;return by("inviteItem",xy(o)?"clicked":"pressed",ry._d,r,{duration:e,queryLength:u,spaceInQuery:l,upKeyCount:t,downKeyCount:n,containerId:p,objectId:f,childObjectId:h,userRole:c})}(O,u.keyCount.arrowUp,u.keyCount.arrowDown,i,s,l,f.contextIdentifierProvider,h.userRole)),h.onInviteItemClick&&h.onInviteItemClick("mention")),e.tr;if(r(function(e,t,n,r,o,i,a,c,s){var u=ky(c),l=u.queryLength,d=u.spaceInQuery,p=by("mentionTypeahead",xy(o)?"clicked":"pressed",ry._d,r,{duration:e,position:Ey(a,i),keyboardKey:xy(o)?void 0:o,source:i.source,queryLength:l,spaceInQuery:d,isSpecial:fg(i),accessLevel:i.accessLevel||"",userType:i.userType,userId:i.id,upKeyCount:t,downKeyCount:n,memberCount:hy(i.userType)&&i.context?i.context.memberCount:null,includesYou:hy(i.userType)&&i.context?i.context.includesYou:null});return s&&(p.containerId=s.containerId||void 0,p.objectId=s.objectId||void 0,p.childObjectId=s.childObjectId||void 0),p}(O,u.keyCount.arrowUp,u.keyCount.arrowDown,i,s,o.mention,d.map((function(e){return e.mention})),l,f.contextIdentifierProvider)),i=fm()(),h&&hy(w))return a(function(e,t,n,r){var o=e.nodes,i=e.marks,a=t.name,c=t.id,s=t.accessLevel,u=t.context,l="".concat(window.location.origin,"/people/team/").concat(c),d=u&&u.teamLink?u.teamLink:l,p=e.text(a,[i.link.create({href:d})]),f=e.text("("),h=e.text(")"),v=e.text(" "),m=[p,v,f],g=u&&u.members?u.members:[];return g.forEach((function(e,t){var i=e.name,a=e.id,c="@".concat(i),u=r?"":c;r&&(0,eg.bj)(n)&&n.cacheMentionName(a,i);var l=o.mention.createChecked({text:u,id:e.id,accessLevel:s,userType:"DEFAULT"});m.push(l),t!==g.length-1&&m.push(v)})),m.push(h),on.Fragment.fromArray(m)}(p,o.mention,h,t));var S=t?"":"@".concat(E);t&&(0,eg.bj)(h)&&h.cacheMentionName(m,E);var C=p.nodes.mention.createChecked({text:S,id:m,accessLevel:b,userType:"DEFAULT"===w?null:w}),T=p.text(" ");return a(on.Fragment.from([C,T]))},dismiss:function(e){var t=e.editorState,n=e.query,o=e.stats,s=e.wasItemInserted;a=null;var u=o.startedAt?Date.now()-o.startedAt:0;s||r(function(e,t,n,r,o){var i=ky(o),a=i.queryLength,c=i.spaceInQuery;return by("mentionTypeahead","cancelled",ry._d,r,{duration:e,downKeyCount:n,upKeyCount:t,queryLength:a,spaceInQuery:c})}(u,o.keyCount.arrowUp,o.keyCount.arrowDown,i,n||""));var l=Sy(t);if(null!=l&&l.mentionProvider){var d,p=l.mentionProvider,f=Cy(c);try{for(f.s();!(d=f.n()).done;){var h=d.value;p.unsubscribe(h)}}catch(e){f.e(e)}finally{f.f()}}c.clear(),i=fm()()}};return s};const Ry=JSON.parse('{"u2":"@atlaskit/mention","i8":"22.0.1"}');function Ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ny(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ny(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fy,By,zy;!function(e){e.SEARCH="searchUser",e.SEARCH_TEAM="searchTeam",e.INITIAL_STATE="initialState",e.SELECT="select",e.SELECT_TEAM="selectTeam"}(Fy||(Fy={})),function(e){e.TYPEAHEAD="mentionTypeahead",e.MENTION="mention"}(By||(By={})),function(e){e.VIEWED="viewed",e.CLICKED="clicked",e.CLOSED="closed",e.SUCCEEDED="succeeded",e.FAILED="failed"}(zy||(zy={}));var Uy,Vy,Hy=function(e){return function(t,n,r,o,i){var a,c={action:n,actionSubject:t,eventType:ry._d,attributes:{packageName:Ry.u2,packageVersion:Ry.i8,componentName:By.MENTION,accessLevel:i,isSpecial:(a=r,a&&("@all"===a||"@here"===a)),userId:o}},s=e(c);return s.fire(hm),s}},Wy=function(e,t,n){return{action:t,actionSubject:e,eventType:ry.Ru,attributes:jy({packageName:Ry.u2,packageVersion:Ry.i8,componentName:By.MENTION},n)}},Gy=n(84348),qy=n(98273),Ky=n(56734),$y=n(42571),Jy=["mentionType"],Yy=(Uy={},(0,o.Z)(Uy,ag.SELF,{background:(0,Ky.Z)({light:"var(--ds-background-brand-bold, ".concat(V.AX,")"),dark:"var(--ds-background-brand-bold, ".concat(V.VY,")")}),borderColor:"transparent",text:(0,Ky.Z)({light:"var(--ds-text-inverse, ".concat(V.IR,")"),dark:"var(--ds-text-inverse, ".concat(V.Dw,")")}),hoveredBackground:(0,Ky.Z)({light:"var(--ds-background-brand-bold-hovered, ".concat(V.AX,")"),dark:"var(--ds-background-brand-bold-hovered, ".concat(V.VY,")")}),pressedBackground:(0,Ky.Z)({light:"var(--ds-background-brand-bold-pressed, ".concat(V.AX,")"),dark:"var(--ds-background-brand-bold-pressed, ".concat(V.VY,")")})}),(0,o.Z)(Uy,ag.RESTRICTED,{background:"transparent",borderColor:(0,Ky.Z)({light:"var(--ds-border-bold, ".concat(V.Mx,")"),dark:"var(--ds-border-bold, ".concat(V.EZ,")")}),text:(0,Ky.Z)({light:"var(--ds-text, ".concat(V.Mx,")"),dark:"var(--ds-text, ".concat(V.Sk,")")}),hoveredBackground:"transparent",pressedBackground:"transparent"}),(0,o.Z)(Uy,ag.DEFAULT,{background:(0,Ky.Z)({light:"var(--ds-background-neutral, ".concat(V.kd,")"),dark:"var(--ds-background-neutral, ".concat(V.EZ,")")}),borderColor:"transparent",text:(0,Ky.Z)({light:"var(--ds-text-subtle, ".concat(V.Mx,")"),dark:"var(--ds-text-subtle, ".concat(V.vs,")")}),hoveredBackground:(0,Ky.Z)({light:"var(--ds-background-neutral-hovered, ".concat(V.kd,")"),dark:"var(--ds-background-neutral-hovered, ".concat(V.EZ,")")}),pressedBackground:(0,Ky.Z)({light:"var(--ds-background-neutral-pressed, ".concat(V.kd,")"),dark:"var(--ds-background-neutral-pressed, ".concat(V.EZ,")")})}),Uy),Xy=function(e,t){var n=e.mentionType,r=e.theme,o=Yy[n][t];return"string"==typeof o?o:o({theme:r})};const Qy=(0,Z.forwardRef)((function(e,t){var n=e.mentionType,r=(0,ko.Z)(e,Jy),o=(0,$y.m)();return(0,U.tZ)("span",(0,Lt.Z)({ref:t,css:(0,U.iv)(Vy||(Vy=(0,z.Z)(["\n          display: inline;\n          border: 1px solid ",";\n          background: ",";\n          color: ",";\n          border-radius: 20px;\n          cursor: pointer;\n          padding: 0 0.3em 2px 0.23em;\n          line-height: 1.714;\n          font-size: 1em;\n          font-weight: normal;\n          word-break: break-word;\n          &:hover {\n            background: ",";\n          }\n          &:active {\n            background: ",";\n          }\n        "])),Xy({theme:o,mentionType:n},"borderColor"),Xy({theme:o,mentionType:n},"background"),Xy({theme:o,mentionType:n},"text"),Xy({theme:o,mentionType:n},"hoveredBackground"),Xy({theme:o,mentionType:n},"pressedBackground"))},r))}));var eb=n(37556),tb=n(67336),nb=n(25548);function rb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var ob=new tb.I("mention-rendered",{platform:{component:"mention"},type:nb.Z.Load,performanceType:nb.R.PageSegmentLoad}),ib=function(e){(0,j.Z)(n,e);var t=rb(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"componentDidCatch",value:function(){ob.getInstance(this.props.id).failure()}},{key:"render",value:function(){return this.props.children}}]),n}(Z.Component);function ab(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var cb="_|unknown|_",sb=function(e){(0,j.Z)(n,e);var t=ab(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"handleOnClick",(function(e){var t=r.props,n=t.id,o=t.text,i=t.onClick;i&&i(n,o,e)})),(0,o.Z)((0,N.Z)(r),"handleOnMouseEnter",(function(e){var t=r.props,n=t.id,o=t.text,i=t.onMouseEnter,a=t.onHover;i&&i(n,o,e),r.hoverTimeout=window.setTimeout((function(){a&&a(),r.hoverTimeout=void 0}),1e3)})),(0,o.Z)((0,N.Z)(r),"handleOnMouseLeave",(function(e){var t=r.props,n=t.id,o=t.text,i=t.onMouseLeave;i&&i(n,o,e),r.hoverTimeout&&clearTimeout(r.hoverTimeout)})),(0,o.Z)((0,N.Z)(r),"getMentionType",(function(){var e=r.props,t=e.accessLevel;return e.isHighlighted?ag.SELF:pg(t)?ag.RESTRICTED:ag.DEFAULT})),ob.getInstance(e.id).start(),r}return(0,D.Z)(n,[{key:"componentDidMount",value:function(){ob.getInstance(this.props.id).success()}},{key:"componentWillUnmount",value:function(){this.hoverTimeout&&clearTimeout(this.hoverTimeout);var e=ob.getInstance(this.props.id);[eb.h.STARTED,eb.h.IN_PROGRESS].includes(e.state)&&e.abort()}},{key:"renderUnknownUserError",value:function(e){return Z.createElement(vg.eA,{values:{userId:e.slice(-5)}},(function(e){return Z.createElement(Z.Fragment,null,"@".concat(e))}))}},{key:"render",value:function(){var e=this.handleOnClick,t=this.handleOnMouseEnter,n=this.handleOnMouseLeave,r=this.props,o=r.text,i=r.id,a=r.accessLevel,c=this.getMentionType(),s=o==="@".concat(cb),u=Z.createElement(qy.Z,null,Z.createElement(Qy,{mentionType:c,onClick:e,onMouseEnter:t,onMouseLeave:n,spellCheck:!1},s?this.renderUnknownUserError(i):o||"@..."));return Z.createElement(ib,{id:i},Z.createElement("span",{"data-mention-id":i,"data-access-level":a,spellCheck:!1},Z.createElement(Kg,null,c===ag.RESTRICTED?Z.createElement(Z.Suspense,{fallback:u},Z.createElement(mg,{name:o},u)):u)))}}]),n}(Z.PureComponent);const ub=(0,Bf.Z)({onClick:function(e,t){var n=t.id,r=t.text,o=t.accessLevel;return Hy(e)("mention","selected",r,n,o)},onHover:function(e,t){var n=t.id,r=t.text,o=t.accessLevel;return Hy(e)("mention","hovered",r,n,o)}})(sb);var lb=!1;function db(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var pb=function(e){(0,j.Z)(n,e);var t=db(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"handleMentionProvider",(function(e){var t=e.id,n=e.mentionProvider,o=e.text;n?n.then((function(e){var n={isHighlighted:e.shouldHighlightMention({id:t})};if(!o&&(0,eg.bj)(e)){var i=e.resolveMentionName(t);hg(i)?i.then((function(e){r.setStateSafely({resolvedMentionName:r.processName(e)})})):n.resolvedMentionName=r.processName(i)}r.setStateSafely(n)})).catch((function(){r.setStateSafely({isHighlighted:!1})})):r.setStateSafely({isHighlighted:!1})})),r._isMounted=!1,r.state={isHighlighted:!1},r}return(0,D.Z)(n,[{key:"componentDidMount",value:function(){this.handleMentionProvider(this.props),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;t.id===e.id&&t.mentionProvider===e.mentionProvider||this.handleMentionProvider(e)}},{key:"setStateSafely",value:function(e){this._isMounted?this.setState(e):function(e){if(lb){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).log.apply(t,[e].concat(r))}}("[ResourcedMention]: cannot setState when component is unmounted.")}},{key:"processName",value:function(e){var t;switch(e.status){case ug.OK:t=e.name||"";break;case ug.SERVICE_ERROR:case ug.UNKNOWN:default:t=cb}return"@".concat(t)}},{key:"render",value:function(){var e=this.props,t=this.state;return Z.createElement(ub,{id:e.id,text:e.text||t.resolvedMentionName||"",isHighlighted:t.isHighlighted,accessLevel:e.accessLevel,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave})}}]),n}(Z.PureComponent),fb=n(27467),hb=new g.PluginKey("codeBlockPlugin"),vb=function(){var e=window.getSelection();if(e){var t=e&&1===e.rangeCount&&e.getRangeAt(0).cloneRange();t&&(e.removeAllRanges(),e.addRange(t))}};const mb=function(e,t){var n;Ec.Z.gecko&&e.docChanged&&"number"==typeof(null===(n=hb.getState(t))||void 0===n?void 0:n.pos)&&vb()};function gb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var yb=function(e){(0,j.Z)(n,e);var t=gb(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"renderWithProvider",(function(e){var t=r.props,n=t.accessLevel,o=t.eventHandlers,i=t.id,a=t.text,c=e.mentionProvider,s={};return["onClick","onMouseEnter","onMouseLeave"].forEach((function(e){s[e]=o&&o[e]||function(){}})),Z.createElement(pb,(0,Lt.Z)({id:i,text:a,accessLevel:n,mentionProvider:c},s))})),r.providerFactory=e.providers||new fb.Z,r}return(0,D.Z)(n,[{key:"componentDidMount",value:function(){Ec.Z.safari&&setTimeout(vb,0)}},{key:"componentWillUnmount",value:function(){this.props.providers||this.providerFactory.destroy()}},{key:"render",value:function(){return Z.createElement(Rl.S,{providers:["mentionProvider","profilecardProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),n}(Z.PureComponent);function bb(){bb=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}(0,o.Z)(yb,"displayName","Mention");var wb=function(e){var t=e.id,n=e.text,r=e.providers,o=e.accessLevel,i=e.mentionProvider,a=(0,Z.useState)(n),c=(0,sr.Z)(a,2),s=c[0],u=c[1],l=(0,De.Z)(),d=function(e){return e.status===ug.OK?"@".concat(e.name||""):"@".concat("_|unknown|_")};return(0,Z.useEffect)((function(){i&&i.then(function(){var e=(0,wc.Z)(bb().mark((function e(r){var o;return bb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n||!(0,eg.bj)(r)){e.next=13;break}if(o=r.resolveMentionName(t),!hg(o)){e.next=10;break}return e.t0=d,e.next=6,o;case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:return e.abrupt("return",d(o));case 11:e.next=14;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){u(e)}))}),[t,n,i]),Z.createElement(Z.Fragment,null,Z.createElement("span",{className:"assistive"},"".concat(l.formatMessage(Jm.mentionsNodeLabel)," ").concat(s)),Z.createElement("span",{"aria-hidden":"true"},Z.createElement(yb,{id:t,text:s,accessLevel:o,providers:r})))},kb=function(e){var t=e.providerFactory,n=e.node.attrs,r=n.id,o=n.text,i=n.accessLevel;return Z.createElement(Rl.S,{providers:["mentionProvider","profilecardProvider"],providerFactory:t,renderNode:function(e){var n=e.mentionProvider;return Z.createElement(wb,{mentionProvider:n,id:r,text:o,providers:t,accessLevel:i})}})};function Eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eb(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ob="SET_PROVIDER",Sb="SET_CONTEXT",Cb=function(e){return function(t,n){return n&&n(t.tr.setMeta(Oy,{action:Ob,params:{provider:e}})),!0}},Tb=function(e){return function(t,n){return n&&n(t.tr.setMeta(Oy,{action:Sb,params:{context:e}})),!0}};const Ab=function(e){var t=fm()(),n=function(n){if(null!=e&&e.createAnalyticsEvent){var r=e.createAnalyticsEvent;n.attributes&&!n.attributes.sessionId&&(n.attributes.sessionId=t),r(n).fire(hm)}},r=My({sanitizePrivateContent:null==e?void 0:e.sanitizePrivateContent,mentionInsertDisplayName:null==e?void 0:e.insertDisplayName,HighlightComponent:null==e?void 0:e.HighlightComponent,fireEvent:n});return{name:"mention",nodes:function(){return[{name:"mention",node:vm.Pl}]},pmPlugins:function(){return[{name:"mention",plugin:function(t){return function(e,t,n){var r,o=function(e,n,r,o){"sli"!==e&&"smart"!==e||t(Wy(n,r,o))};return new u.J({key:Oy,state:{init:function(){return{}},apply:function(t,n){var r=t.getMeta(Oy)||{action:null,params:null},o=r.action,i=r.params,a=n;switch(o){case Ob:return a=xb(xb({},n),{},{mentionProvider:i.provider}),e.dispatch(Oy,a),a;case Sb:return a=xb(xb({},n),{},{contextIdentifierProvider:i.context}),e.dispatch(Oy,a),a}return a}},props:{nodeViews:{mention:(0,Gy.J)({pmPluginFactoryParams:e,Component:kb,extraComponentProps:{providerFactory:e.providerFactory,options:n}})}},view:function(t){var n=function(e,n){switch(e){case"mentionProvider":if(!n)return Cb(void 0)(t.state,t.dispatch);n.then((function(e){r&&r.unsubscribe("mentionPlugin"),r=e,Cb(e)(t.state,t.dispatch),e.subscribe("mentionPlugin",void 0,void 0,void 0,void 0,o)})).catch((function(){return Cb(void 0)(t.state,t.dispatch)}));break;case"contextIdentifierProvider":if(!n)return Tb(void 0)(t.state,t.dispatch);n.then((function(e){Tb(e)(t.state,t.dispatch)}))}};return e.providerFactory.subscribe("mentionProvider",n),e.providerFactory.subscribe("contextIdentifierProvider",n),{destroy:function(){e.providerFactory&&(e.providerFactory.unsubscribe("mentionProvider",n),e.providerFactory.unsubscribe("contextIdentifierProvider",n)),r&&r.unsubscribe("mentionPlugin")}}}})}(t,n,e)}}]},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.disabled;return Z.createElement(M.Z,{editorView:t,plugins:{mentionState:Oy},render:function(e){var r=e.mentionState;return(void 0===r?{}:r).mentionProvider?Z.createElement(Qm,{editorView:t,isDisabled:n||Sm(t.state)}):null}})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"mention",title:t(Jo.S.mention),description:t(Jo.S.mentionDescription),keywords:["team","user"],priority:400,keyshortcut:"@",icon:function(){return Z.createElement(Ro,null)},action:function(e,t){var n=e(void 0);return Dm({triggerHandler:r,inputMethod:p.Jq.QUICK_INSERT})(n),(0,At.Gs)(t,n,{action:p.om.INVOKED,actionSubject:p.Wt.TYPEAHEAD,actionSubjectId:p.VJ.TYPEAHEAD_MENTION,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.UI})}}]},typeAhead:r}}};var _b=n(89726),Pb=n(25834),Db=n(76751),Zb=n(81187),Ib=n(72838),Lb=n(17295),Mb=((0,U.iv)({background:"var(--ds-surface-overlay, white)",border:"1px solid ".concat(Lb.sD),borderRadius:Lb.Kq,boxShadow:Lb.Hb,color:"var(--ds-text-subtle, #333)",width:Lb.rN}),(0,U.iv)({display:"none"}),(0,U.iv)({backgroundColor:Lb.EL})),Rb=(0,U.iv)({cursor:"pointer",display:"block",listStyleType:"none",overflow:"hidden",width:Lb.rN}),Nb=(0,U.iv)({display:"flex",flexDirection:"row",flexWrap:"wrap",verticalAlign:"middle"});(0,U.iv)({position:"relative",height:"".concat(Lb.kE,"px"),paddingTop:"".concat(((Lb.kE-30)/2).toFixed(),"px"),boxSizing:"border-box"}),(0,U.iv)({textAlign:"center"});function jb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Fb,Bb=function(e){(0,j.Z)(n,e);var t=jb(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"onEmojiSelected",(function(t){var n=e.props,r=n.emoji,o=n.onSelection;(0,Db.du)(t)&&o&&(t.preventDefault(),o((0,Pb.Vo)(r),r,t))})),(0,o.Z)((0,N.Z)(e),"onEmojiMenuItemMouseMove",(function(t){var n=e.props,r=n.emoji,o=n.onMouseMove;o&&o((0,Pb.Vo)(r),r,t)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.emoji,r=e.emojiProvider,o=[Rb,t&&Mb];return(0,U.tZ)(Ib.E,{emojiProvider:r},(0,U.tZ)("div",{className:"ak-emoji-typeahead-item ".concat(t?"emoji-typeahead-selected":""),css:o,onMouseDown:this.onEmojiSelected,onMouseMove:this.onEmojiMenuItemMouseMove,"data-emoji-id":n.shortName},(0,U.tZ)("div",{css:Nb},n&&(0,U.tZ)(Zb.w,{emoji:n}))))}}]),n}(Z.PureComponent),zb=n(99604),Ub=n(1527);function Vb(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}function Hb(e,t,n){if(e.nodes.emoji&&t){!function(e){var t=function(e,t){t&&t.then((function(e){e.getAsciiMap().then((function(t){Fb=new Jb(e,t)}))}))};e.subscribe("emojiProvider",t)}(t);var r=Yn($b.REGEX,Wb);return Xn("emoji",[r])}}function Wb(e,t,n,r){if(!Fb)return null;var o=Fb.match(t);return o?new Yb(e,o,n,r).create():null}var Gb=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e[1]+(t?e[2]:"")},qb=function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e[2]:"")+e[3].trim()},Kb=function(e){return e[4]||""},$b=function(){function e(t){(0,P.Z)(this,e),this.asciiToEmojiMap=t}return(0,D.Z)(e,[{key:"match",value:function(e){return this.getAsciiEmojiMatch(function(e){return Gb(e,!1)}(e),function(e){return qb(e,!0)}(e),Kb(e))||this.getAsciiEmojiMatch(Gb(e),qb(e),Kb(e))}},{key:"getAsciiEmojiMatch",value:function(e,t,n){var r=this.asciiToEmojiMap.get(t);return r?{emoji:r,leadingString:e,trailingString:n}:void 0}}]),e}();(0,o.Z)($b,"REGEX",new RegExp("((?:^|[\\s".concat(jn,"])(?:\\(*?))(\\(?)([^:\\s").concat(jn,"\\(]\\S{1,3}|:\\S{1,3}( ))$")));var Jb=function(e){(0,j.Z)(n,e);var t=Vb(n);function n(e,r){var o;return(0,P.Z)(this,n),(o=t.call(this,r)).emojiProvider=e,o}return(0,D.Z)(n,[{key:"match",value:function(e){var t=(0,md.Z)((0,B.Z)(n.prototype),"match",this).call(this,e);return t&&this.emojiProvider.recordSelection&&this.emojiProvider.recordSelection(t.emoji),t}}]),n}($b),Yb=function(){function e(t,n,r,o){(0,P.Z)(this,e),this.state=t,this.match=n,this.start=r,this.end=o}return(0,D.Z)(e,[{key:"create",value:function(){var e=this.state.tr.replaceWith(this.from,this.to,this.createNodes());return(0,At.Gs)(this.state,e,{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.EMOJI,attributes:{inputMethod:p.Jq.ASCII},eventType:p.Ze.TRACK})}},{key:"from",get:function(){return this.start+this.match.leadingString.length}},{key:"to",get:function(){return this.end}},{key:"createNodes",value:function(){var e=[this.createEmojiNode()];return this.trailingTextNodeRequired()&&e.push(this.createTrailingTextNode()),e}},{key:"createEmojiNode",value:function(){return this.state.schema.nodes.emoji.create(this.getEmojiNodeAttrs())}},{key:"getEmojiNodeAttrs",value:function(){var e=this.match.emoji;return{id:e.id,shortName:e.shortName,text:e.fallback||e.shortName}}},{key:"trailingTextNodeRequired",value:function(){return this.match.trailingString.length>0}},{key:"createTrailingTextNode",value:function(){return this.state.schema.text(this.match.trailingString)}}]),e}();new g.PluginKey("asciiEmojiPlugin");var Xb=n(55504);function Qb(e){return(0,U.tZ)("span",{css:Qe.cR},(0,U.tZ)(Xb.Z,e))}var ew=(0,Ze.vU)({emojiNodeLabel:{id:"fabric.emoji.label",defaultMessage:"Emoji",description:"Label to indicate emoji node to Screen reader users"}}),tw=Z.memo((function(e){var t=e.emojiShortName,n=(0,De.Z)();return Z.createElement("span",{className:"assistive"},"".concat(n.formatMessage(ew.emojiNodeLabel)," ").concat(t))}));function nw(e){var t=e.node.attrs,n=t.shortName,r=t.id,o=t.text;return Z.createElement(Z.Fragment,null,Z.createElement(tw,{emojiShortName:n}),Z.createElement("span",{"aria-hidden":"true"},Z.createElement(Qb,{providers:e.providerFactory,id:r,shortName:n,fallback:o})))}function rw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ow(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rw(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var iw=function(e){var t=new Map;return{call:function(n,r){var o=t.get(n.id||n.shortName);if(o)return o;var i=e(n,r);return t.set(n.id||n.shortName,i),i},clear:t.clear.bind(t)}}((function(e,t){return{title:e.shortName||"",key:e.id||e.shortName,render:function(n){var r=n.isSelected,o=n.onClick,i=n.onHover;return Z.createElement(Bb,{emoji:e,selected:r,onMouseMove:i,onSelection:o,emojiProvider:t})},emoji:e}}));const aw=function(e){var t={id:mm.o.EMOJI,trigger:":",customRegex:"\\(?(:)",headless:e?e.headless:void 0,getItems:function(e){var t,n=e.query,r=e.editorState,o=(t=r,lw.getState(t)||{}).emojiProvider;return o?new Promise((function(e){var t={result:function(n){if(n&&n.emojis){var r=n.emojis.map((function(e){return iw.call(e,o)}));e(r)}else e([]);o.unsubscribe(t)}};o.subscribe(t),o.filter(":".concat(n),{limit:50,skinTone:o.getSelectedTone(),sort:n.length?zb.Gr.Default:zb.Gr.UsageFrequency})})):Promise.resolve([])},forceSelect:function(e){var t=e.query,n=e.items,r=e.editorState,o=lw.getState(r).asciiMap,i=":".concat(t);if(o&&i.length>=3&&i.endsWith(" ")&&o.has(i.trim())){var a=o.get(i.trim());return{title:a.name,emoji:a}}var c=function(e){return e&&e.length>1&&":"===e.charAt(0)&&":"===e.charAt(e.length-1)}(i)?n.find((function(e){return e.title.toLowerCase()===i})):void 0;return c},selectItem:function(t,n,r,o){o.mode;var i=n.emoji,a=i.id,c=void 0===a?"":a,s=i.fallback,u=i.shortName,l=s||u,d=lw.getState(t);d.emojiProvider&&d.emojiProvider.recordSelection&&n.emoji&&d.emojiProvider.recordSelection(n.emoji).then((0,Ub.G_)(e)).catch((0,Ub.PW)(e));var f=t.schema.nodes.emoji.createChecked({shortName:u,id:c,text:l}),h=t.schema.text(" ");return(0,At.Gs)(t,r(on.Fragment.from([f,h])),{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.EMOJI,attributes:{inputMethod:p.Jq.TYPEAHEAD},eventType:p.Ze.TRACK})}};return{name:"emoji",nodes:function(){return[{name:"emoji",node:_b.r}]},pmPlugins:function(){return[{name:"emoji",plugin:function(e){return function(e){return new u.J({key:lw,state:{init:function(){return{}},apply:function(t,n){var r=t.getMeta(lw)||{action:null,params:null},o=r.action,i=r.params,a=n;switch(o){case cw.SET_PROVIDER:return a=ow(ow({},n),{},{emojiProvider:i.provider}),e.dispatch(lw,a),a;case cw.SET_ASCII_MAP:return a=ow(ow({},n),{},{asciiMap:i.asciiMap}),e.dispatch(lw,a),a}return a}},props:{nodeViews:{emoji:(0,Gy.J)({pmPluginFactoryParams:e,Component:nw,extraComponentProps:{providerFactory:e.providerFactory}})}},view:function(t){var n=function(e,n){if("emojiProvider"===e){if(!n)return uw(void 0)(t.state,t.dispatch);n.then((function(e){uw(e)(t.state,t.dispatch),e.getAsciiMap().then((function(e){sw(e)(t.state,t.dispatch)}))})).catch((function(){return uw(void 0)(t.state,t.dispatch)}))}};return e.providerFactory.subscribe("emojiProvider",n),{destroy:function(){e.providerFactory&&e.providerFactory.unsubscribe("emojiProvider",n)}}}})}(e)}},{name:"emojiAsciiInputRule",plugin:function(e){var t=e.schema,n=e.providerFactory;e.featureFlags;return Hb(t,n)}}]},pluginsOptions:{quickInsert:function(e){var n=e.formatMessage;return[{id:"emoji",title:n(Jo.S.emoji),description:n(Jo.S.emojiDescription),priority:500,keyshortcut:":",icon:function(){return Z.createElement(Po,null)},action:function(e,n){var r=e(void 0);return Dm({triggerHandler:t,inputMethod:p.Jq.QUICK_INSERT})(r),(0,At.Gs)(n,r,{action:p.om.INVOKED,actionSubject:p.Wt.TYPEAHEAD,actionSubjectId:p.VJ.TYPEAHEAD_EMOJI,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.UI})}}]},typeAhead:t}}};var cw={SET_PROVIDER:"SET_PROVIDER",SET_RESULTS:"SET_RESULTS",SET_ASCII_MAP:"SET_ASCII_MAP"},sw=function(e){return function(t,n){return n&&n(t.tr.setMeta(lw,{action:cw.SET_ASCII_MAP,params:{asciiMap:e}})),!0}},uw=function(e){return function(t,n){return n&&n(t.tr.setMeta(lw,{action:cw.SET_PROVIDER,params:{provider:e}})),!0}},lw=new g.PluginKey("emojiPlugin");var dw,pw,fw,hw,vw=n(70778),mw=n(34321),gw=n(99462),yw=n(23677),bw=n(21025);!function(e){e.EDIT="edit",e.NEW="new"}(dw||(dw={})),function(e){e.RESOLVED="resolved",e.UNRESOLVED="unresolved"}(pw||(pw={})),function(e){e.TEXT="text",e.INLINE_CARD="inlineCard",e.BLOCK_CARD="blockCard",e.EMBED="embed"}(fw||(fw={})),function(e){e.JIRA="jiraIssue",e.CONFLUENCE="confluencePage",e.BITBUCKET_PR="bitbucketPR",e.BITBUCKET_REPO="bitbucketRepo",e.TRELLO_CARD="trelloCard",e.TRELLO_BOARD="trelloBoard",e.STATUS_PAGE="statusPage",e.BOX="boxFile",e.DROPBOX="dropboxFile",e.OFFICE="office",e.DRIVE="drive",e.YOUTUBE="youtubeVideo",e.TWITTER="twitterTweet",e.OTHER="other"}(hw||(hw={}));var ww=new g.PluginKey("tasksAndDecisionsPlugin"),kw=function(e,t){var n=t.nodes,r=n.decisionList,o=n.decisionItem,i=n.taskList,a=n.taskItem;return"taskList"===e?{list:i,item:a}:{list:r,item:o}},Ew=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.Jq.TOOLBAR,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=e.schema,c=null!=r?r:function(t){var n=t.tr,r=t.list,o=t.item,i=t.listLocalId,c=t.itemLocalId;return Cw(n,r,o,a,e,i,c)},s=Ow(e,t,n,c,(function(e){var t=e.state,n=e.tr,r=e.item,o=e.itemLocalId,i=t.selection.$to,a=i.end(i.depth),c=a+2;return n.split(a,1,[{type:r,attrs:{localId:o}}]).setSelection(new g.TextSelection(n.doc.resolve(c)))}),o,i);return s?(Ur(s,["taskList","decisionList"]),s):e.tr},xw=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Jq.TOOLBAR,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return function(i,a){var c=Ew(i,e,t,n,r,o);return a&&a(c),!0}},Ow=function(e,t,n,r,o,i,a){var c,s,u,l=e.schema,d=kw(t,l),f=d.list,h=d.item,v=e.tr,m=e.selection.$to,g=(0,W.Tr)(f)(e.selection),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.objectId;return{objectId:t,containerId:e.containerId,userContext:t?dw.EDIT:dw.NEW}}(ww.getState(e).contextIdentifierProvider);if(g){if(m.node().textContent.length>=0){u=g.node.childCount+1,i=i||g.node.attrs.localId;var b=(0,W.Tr)(h)(e.selection);s=b?e.doc.resolve(b.pos).index()+1:0,c=o||r}}else s=0,u=1,c=r;if(i=i||bw.V.generate(),a=a||bw.V.generate(),c){var w=c({state:e,tr:v,list:f,item:h,listLocalId:i,itemLocalId:a});return w&&(w=(0,At.Gs)(e,w,function(e,t,n,r,o,i,a){var c,s,u;return t&&(c=t.containerId,s=t.objectId,u=t.userContext),{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:"taskList"===e?p.VJ.ACTION:p.VJ.DECISION,eventType:p.Ze.TRACK,attributes:{inputMethod:n,containerAri:c,objectAri:s,userContext:u,localId:r,listLocalId:o,position:i,listSize:a}}}(t,y,n,a,i,s||0,u||0))),w}return null},Sw=function(e,t){return t.depth-e.depth},Cw=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bw.V.generate(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:bw.V.generate(),c=o.selection,s=c.$from,u=c.$to;if(s.parent!==u.parent)return null;var l=r.nodes,d=l.paragraph,p=l.blockquote,f=l.decisionList,h=l.taskList,v=l.decisionItem,m=l.taskItem,y=l.mediaGroup;if(s.parent.type===y)return null;var b=t.create({localId:i},[n.create({localId:a})]);if(c instanceof rn.WD)return(0,W.Z3)(b)(e);if(function(e,t){var n=e.nodes,r=n.paragraph,o=n.blockquote,i=n.decisionList,a=n.taskList;return(0,W.bw)([o,r,i,a])(t)}(r,c)){var w=c.$from.node(),k=w.type,E=w.childCount,x=t.create({localId:bw.V.generate()},[n.create({localId:bw.V.generate()},s.node(s.depth).content)]),O=(0,W.Tr)(p)(c);if(O){var S=s.depth-1,C=new on.NodeRange(s,u,S);e.lift(C,(0,nn.k9)(C))}var T=(0,W.Tr)(h)(c)||(0,W.Tr)(f)(c),A=(0,W.Tr)(m)(c)||(0,W.Tr)(v)(c);if(T&&A){var _,P,D=c.from;return T.node.firstChild===A.node?(_=T.start-1,P=A.start+A.node.nodeSize,1===T.node.childCount&&(P=T.start+T.node.nodeSize-1)):(_=A.start-1,P=A.start+A.node.nodeSize,D+=2),e.replaceWith(_,P,x),e=(0,W.B0)(D)(e)}var Z=[p];(k===d&&E>0||O)&&Z.push(d);var I;I=(0,W.BX)(Z,x)(e);var L=Sw(u,I.selection.$to);if(I!==(e=e.setSelection(new g.TextSelection(e.doc.resolve(u.pos+L)))))return e}return(0,W.Z3)(b)(e)},Tw=function(e,t){return Yn(e,(function(e,n,r,o){var i=e.schema.nodes.paragraph,a=kw(t,e.schema).list,c=e.doc.resolve(o),s=e.doc.resolve(c.after());return c.parent.type===i&&(0,W.om)(s,a.createAndFill())?Ew(e,t,p.Jq.FORMATTING,Aw(r,o)):null}))},Aw=function(e,t){return function(n){var r=n.tr,o=n.state,i=n.list,a=n.item,c=n.listLocalId,s=n.itemLocalId,u=o.selection.$from,l=o.schema.nodes.hardBreak,d=u.node(u.depth).content,p=!1;if(d.forEach((function(t,n){t.type===l&&n<e&&(p=!0)})),p){var f=Sw(u,r.selection.$from);r.split(u.pos).setSelection(new g.NodeSelection(r.doc.resolve(u.pos+1))).replaceSelectionWith(i.create({localId:c},[a.create({localId:s},r.doc.nodeAt(u.pos+1).content)])).setSelection(new g.TextSelection(r.doc.resolve(u.pos+f))).delete(e,t+1)}else r.replaceRangeWith(u.before(),u.after(),i.create({localId:c},[a.create({localId:s},d)])).delete(e+1,t+1).setSelection(new g.TextSelection(r.doc.resolve(e+1)));return r}};const _w=function(e,t){var n=[],r=e.nodes,o=r.decisionList,i=r.decisionItem,a=r.taskList,c=r.taskItem;return o&&i&&n.push(Tw(new RegExp("(^|".concat(jn,")\\<\\>\\s$")),"decisionList")),a&&c&&n.push(Tw(new RegExp("(^|".concat(jn,")\\[\\]\\s$")),"taskList")),Xn("tasks-and-decisions",n,{isBlockNodeRule:!0})};var Pw,Dw;!function(e){e.INDENT="indent",e.OUTDENT="outdent"}(Pw||(Pw={})),function(e){e.PARAGRAPH="paragraph",e.LIST="list",e.HEADING="heading",e.CODE_BLOCK="codeBlock",e.TASK_LIST="taskList"}(Dw||(Dw={}));var Zw=function(e){var t=e.schema.nodes,n=t.decisionItem,r=t.taskItem;return(0,W.bw)([n,r])(e.selection)},Iw=function(e){var t=e.type.schema.nodes;return[t.taskList,t.decisionList].indexOf(e.type)>-1},Lw=function(e){var t=e.type.schema.nodes;return[t.taskItem,t.decisionItem].indexOf(e.type)>-1},Mw=function(e){var t=e.schema.nodes.taskItem;return(0,W.bw)([t])(e.selection)},Rw=function(e,t){var n=e.doc.type.schema.nodes.taskList,r=t.end(),o=t.doc.resolve(r+1),i=o.nodeAfter;return i&&i.type===n&&o.depth===t.depth-1&&(r+=i.nodeSize),e.blockRange(t.doc.resolve(r))},Nw=function(e){var t=e.$from,n=t.doc.type.schema.nodes.taskList,r=(0,cr.yp)((function(e){return e.type===n}))(t);return r?t.depth-r.depth:null},jw=function(e){var t=e.selection.$from,n=(0,W.qv)(t,(function(e){return"taskList"===(null==e?void 0:e.type.name)}));return t.index(n?n.depth:void 0)},Fw=function(e){for(var t=e;t.pos<t.doc.nodeSize-2&&t.parentOffset>0;)t=t.doc.resolve(t.pos+1);return t},Bw=function(e,t,n){var r=Rw(t,n);if(!r)return null;var o=(0,nn.k9)(r);return"number"!=typeof o?null:e.lift(r,o).scrollIntoView()},zw=function(e,t){var n=e.selection,r=n.$from,o=n.$to,i=Bw(e.tr,r,o);return t&&i&&t(i),!!i},Uw=function(e,t){var n=e.selection,r=n.$from,o=n.$to,i=Rw(r,o);if(!i)return!0;var a=(0,nn.nd)(i,e.schema.nodes.taskList);return!a||(t&&t(e.tr.wrap(i,a).scrollIntoView()),!0)},Vw=function(e){return function(t,n){var r=(0,_t.kk)(e);if(!r)return!1;var o=r.doc.type.schema.nodes.paragraph;if(r.nodeBefore&&Iw(r.nodeBefore)&&r.nodeAfter&&r.nodeAfter.type===o){for(var i=r.doc.resolve(r.pos-1);!Lw(i.parent);)i=t.doc.resolve(i.pos-1);var a=t.tr.doc.slice(i.pos,r.pos),c=t.tr.step(new nn.FC(i.pos,r.pos+r.nodeAfter.nodeSize,r.pos+1,r.pos+r.nodeAfter.nodeSize-1,a,0,!0));return n&&n(c),!0}return!1}};function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ww=function(e,t,n){return{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.FORMAT_INDENT,eventType:p.Ze.TRACK,attributes:{inputMethod:n,previousIndentationLevel:e,newIndentLevel:t===Pw.OUTDENT?e-1:e+1,direction:t,indentType:Dw.TASK_LIST}}},Gw=function(e){var t=function(e){return e.doc.resolve(e.end()).nodeAfter}(e);return!t||Lw(t)},qw=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Jq.KEYBOARD;return(0,_t.hX)(Mw,(function(t,n){var r=Nw(t.selection);return!(!r||1===r)&&(0,At.wi)(Ww(r,Pw.OUTDENT,e))((0,ar._X)(zw,["taskList"]))(t,n)}))},Kw=function(e){var t=Nw(e.selection),n=jw(e),r=e.schema.nodes,o=r.tableCell,i=r.tableHeader,a=(0,W.Tr)([o,i])(e.selection);return!(!(1===t&&0===n||function(e){var t=e.schema.nodes.decisionItem;return(0,W.bw)([t])(e.selection)}(e))||!a)},$w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Jq.KEYBOARD;return(0,_t.hX)(Mw,(function(t,n){var r=Nw(t.selection);if(!r||r>=6)return!0;var o=t.schema.nodes,i=o.taskList,a=o.taskItem,c=t.selection,s=function(e,t,n){var r=(0,cr.yp)((function(e){return n.indexOf(e.type)>-1}))(e);if(!r)return-1;var o=e.depth-r.depth,i=Rw(e,t);if(!i)return-1;var a=e.depth;return e.doc.nodesBetween(i.start,i.end,(function(t,r,o){if(a=Math.max(e.doc.resolve(r).depth,a),n.indexOf(t.type)>-1)return!0})),o+(a-e.depth)}(c.$from,c.$to,[i,a]);return s>=6||(0,At.wi)(Ww(r,Pw.INDENT,e))((0,ar._X)(Uw,["taskList"]))(t,n)}))},Jw=(0,_t.hX)(_t.Di,(0,ar._X)((0,ar.QF)((function(e,t){return Vw(e.selection.$from)(e,t)}),(0,_t.hX)(Zw,(function(e,t){return(n=e.selection.$from,function(e,t){var r=n.doc.resolve(n.before());if(r.nodeBefore&&Lw(r.nodeBefore)&&2===r.nodeBefore.nodeSize)return!1;var o=e.schema.nodes,i=o.taskList,a=o.paragraph;if(n.node(n.depth-2).type===i)return qw()(e,t);if(Gw(n)){if(t){var c=e.doc.slice(n.start(),n.end()).content,s=c.size?a.createChecked(void 0,c):a.createChecked();t(Xw(e.tr,s,n,!0))}return!0}return!1})(e,t);var n}))),["taskList","decisionList"])),Yw=(0,ar._X)((0,ar.QF)((0,_t.sp)(Iw),(function(e,t){if(!(0,_t.wQ)(e)||!Zw(e)||!t)return!1;var n=Fw(e.selection.$from),r=e.schema.nodes,o=r.taskList,i=r.taskItem,a=r.decisionList,c=r.decisionItem,s=r.paragraph,u=r.bulletList,l=r.orderedList,d=r.listItem;if(!(0,W.NP)(n,[o,i,a,c])){if(n.parent.type===s)return Vw(n.doc.resolve(n.pos))(e,t);if((n.parent.type===u||n.parent.type===l)&&n.parent.firstChild&&n.parent.firstChild.type===d){var p=e.doc.resolve(n.pos+1),f=Bw(e.tr,p,p);return(0,ar._X)((function(e,t){return!!f&&(t&&t(f),!0)}),["bulletList","orderedList"])(e,t)}}return!1}),(function(e,t){var n=e.selection.$from,r=e.schema.nodes,o=r.taskList,i=r.doc,a=r.paragraph,c=e.tr;if(!(0,_t.wQ)(e)||!t)return!1;var s=Fw(n);if(!s.parent||s.parent.type===i)return!1;if(s.node(s.depth-2).type===o||s.node(s.depth-1).type===o&&s.parent.type===o)return Bw(c,s,s),t(c),!0;if(!function(e){if(!e)return!1;var t=e.type.schema.nodes;return[t.table,t.tableHeader,t.tableCell,t.tableRow].includes(e.type)}(s.nodeAfter)&&Lw(n.parent)&&Gw(n)&&s.node().type.name===n.node().type.name){var u=e.doc.slice(s.start(),s.end()).content,l=u.size?a.createChecked(void 0,u):[];return t(Xw(c,l,s,!1)),!0}return!1})),["taskList","decisionList"]),Xw=function(e,t,n,r){var o=e.doc,i=n.node(n.depth-2),a=n.index(n.depth-1),c=!(!Iw(i)&&0===a);c&&(e=e.split(n.pos,1,[{type:n.parent.type,attrs:{localId:bw.V.generate()}}]));var s=on.Fragment.from(t);e=e.replace(e.mapping.map(n.start()-2),e.mapping.map(n.end()+2),s.size?new on.Slice(s,0,0):on.Slice.empty),r&&(e=e.setSelection(new g.TextSelection(e.doc.resolve(n.pos+1-(c?0:2)))));var u=o.resolve(n.after());if(u.depth===n.depth-1&&u.nodeAfter&&Iw(u.nodeAfter)){var l=e.mapping.map(u.pos+2),d=e.doc.resolve(l),p=Rw(d,e.doc.resolve(d.after(d.depth-1)-1));p&&(e=e.lift(p,p.depth-1).scrollIntoView()),e=e.deleteRange(l-3,l-1)}return e},Qw=(0,_t.hX)(Zw,(0,ar.QF)((0,_t.hX)((function(e){var t=e.selection,n=e.schema,r=t.$from,o=r.node(r.depth);return o&&(o.type===n.nodes.taskItem||o.type===n.nodes.decisionItem)&&0===o.content.size}),(0,ar.QF)(qw(),(function(e,t){var n=e.tr,r=e.selection.$from,o=e.schema.nodes.paragraph;return!!Gw(r)&&(t&&t(Xw(n,o.createChecked(),r,!0)),!0)}))),(function(e,t){var n=e.selection,r=e.schema.nodes.taskItem,o=n.$from,i=n.$to,a=o.node(o.depth),c=a&&a.type,s=Ow(e,c===r?"taskList":"decisionList",p.Jq.KEYBOARD,(function(e){var t=e.tr,n=e.itemLocalId;if(o.pos===i.pos&&0===o.parentOffset){var r=c.createAndFill({localId:n});if(r)return t.insert(o.pos-1,r)}return t.split(o.pos,1,[{type:c,attrs:{localId:n}}])}));return s&&t&&(s.scrollIntoView(),t(s)),!0})));const ek=function(e,t,n){var r={"Shift-Tab":(0,_t.hX)([Zw,function(e){return!Kw(e)}],(function(e,t){return qw(p.Jq.KEYBOARD)(e,t)||!!n})),Tab:(0,_t.hX)([Zw,function(e){return!Kw(e)}],(function(e,t){return $w(p.Jq.KEYBOARD)(e,t)||!!n}))},i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hw(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({Backspace:Jw,Delete:Yw,"Ctrl-d":Yw,Enter:Qw},t?r:n?{"Shift-Tab":Zw,Tab:Zw}:{});return(0,it.h)(i)};var tk=n(73603);function nk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var rk=(0,Ze.vU)({placeholder:{id:"fabric.editor.decisionPlaceholder",defaultMessage:"Add a decision…",description:"Placeholder description for an empty decision in the editor"}}),ok=function(e){(0,j.Z)(n,e);var t=nk(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.contentRef,n=e.showPlaceholder,r=(0,e.intl.formatMessage)(rk.placeholder);return Z.createElement(tk.Z,{contentRef:t,placeholder:r,showPlaceholder:n})}}]),n}(Z.Component);(0,o.Z)(ok,"displayName","Decision");const ik=(0,H.ZP)(ok);function ak(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var ck=function(e){(0,j.Z)(n,e);var t=ak(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"isContentEmpty",value:function(e){return 0===e.content.childCount}},{key:"createDomRef",value:function(){var e=document.createElement("li");return e.style["list-style-type"]="none",e}},{key:"getContentDOM",value:function(){var e=document.createElement("div");return e.className="decision-item",{dom:e}}},{key:"render",value:function(e,t){return Z.createElement(ik,{contentRef:t,showPlaceholder:this.isContentEmpty(this.node)&&!km(this.view.state)})}},{key:"viewShouldUpdate",value:function(e){return this.isContentEmpty(this.node)&&!!e.content.childCount}},{key:"update",value:function(e,t){var r=this;return(0,md.Z)((0,B.Z)(n.prototype),"update",this).call(this,e,t,void 0,(function(e,t){return!r.isContentEmpty(t)}))}}]),n}(ql),sk=function(e,t){return function(n,r,o){return new ck(n,r,o,e,t,{},void 0,void 0,void 0,!0).init()}},uk=n(13980),lk=n.n(uk),dk=n(46674);function pk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var fk={getAtlaskitAnalyticsEventHandlers:lk().func,getAtlaskitAnalyticsContext:lk().func},hk=function(){return[]},vk=function(e){(0,j.Z)(n,e);var t=pk(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"getChildContext",(function(){return{getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers,getAtlaskitAnalyticsContext:r.getAtlaskitAnalyticsContext}})),(0,o.Z)((0,N.Z)(r),"getAnalyticsEventHandlers",(function(){var e=r.props,t=e.channel,n=e.onEvent,o=r.context.getAtlaskitAnalyticsEventHandlers,i=void 0===o?hk:o;return[function(e,r){"*"!==t&&t!==r||n(e,r)}].concat((0,s.Z)(i()))})),(0,o.Z)((0,N.Z)(r),"getAtlaskitAnalyticsContext",(function(){var e=r.context.getAtlaskitAnalyticsContext;return(void 0===e?hk:e)()})),r.contextValue={getAtlaskitAnalyticsContext:r.getAtlaskitAnalyticsContext,getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers},r}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props.children;return Z.createElement(dk.Z.Provider,{value:this.contextValue},e)}}]),n}(Z.Component);(0,o.Z)(vk,"contextTypes",fk),(0,o.Z)(vk,"childContextTypes",fk);const mk=vk;var gk=n(43875),yk=n(73549);const bk=function(e){var t=e.children,n=e.channel,r=e.onEvent,o=(0,gk.O)(),i=(0,yk.V)(r),a=(0,yk.V)(n),c=(0,Z.useCallback)((function(){return[].concat((0,s.Z)(o.getAtlaskitAnalyticsEventHandlers()),[function(e,t){"*"!==a.current&&a.current!==t||i.current(e,t)}])}),[o,a,i]),u=(0,Z.useMemo)((function(){return{getAtlaskitAnalyticsEventHandlers:c,getAtlaskitAnalyticsContext:o.getAtlaskitAnalyticsContext}}),[o,c]);return Z.createElement(dk.Z.Provider,{value:u},t)};var wk,kk=n(34406);const Ek=null!=kk&&null!==(wk=kk.env)&&void 0!==wk&&wk.ANALYTICS_NEXT_MODERN_CONTEXT?bk:mk;var xk=n(19222),Ok=["contextIdentifierProvider"];function Sk(){Sk=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function Ck(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Tk=function(e){(0,j.Z)(r,e);var t,n=Ck(r);function r(){var e;(0,P.Z)(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{resolvedContextProvider:void 0}),(0,o.Z)((0,N.Z)(e),"mounted",!1),e}return(0,D.Z)(r,[{key:"UNSAFE_componentWillMount",value:function(){this.mounted=!0,this.updateContextIdentifierProvider(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.contextIdentifierProvider!==this.props.contextIdentifierProvider&&this.updateContextIdentifierProvider(e)}},{key:"updateContextIdentifierProvider",value:(t=(0,wc.Z)(Sk().mark((function e(t){var n;return Sk().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.contextIdentifierProvider){e.next=13;break}return e.prev=1,e.next=4,t.contextIdentifierProvider;case 4:n=e.sent,this.mounted&&this.setState({resolvedContextProvider:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.mounted&&this.setState({resolvedContextProvider:void 0});case 11:e.next=14;break;case 13:this.setState({resolvedContextProvider:void 0});case 14:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=(e.contextIdentifierProvider,(0,ko.Z)(e,Ok)),n=(this.state.resolvedContextProvider||{}).objectId,r=n?"edit":"new";return Z.createElement(fs.Wc,{data:{userContext:r}},Z.createElement(xk.Z,(0,Lt.Z)({},t,{objectAri:n})))}}]),r}(Z.Component);(0,o.Z)(Tk,"displayName","TaskItemWithProviders");var Ak=["providers","intl"];function _k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Pk=(0,Ze.vU)({placeholder:{id:"fabric.editor.taskPlaceholder",defaultMessage:"Type your action, use '@' to assign to someone.",description:"Placeholder description for an empty action/task in the editor"}}),Dk=function(e){(0,j.Z)(n,e);var t=_k(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"renderWithProvider",(function(e){var t=r.props,n=(t.providers,t.intl.formatMessage),o=(0,ko.Z)(t,Ak),i=e.taskDecisionProvider,a=e.contextIdentifierProvider,c=n(Pk.placeholder);return Z.createElement(Tk,(0,Lt.Z)({},o,{placeholder:c,taskDecisionProvider:i,contextIdentifierProvider:a}))})),r.providerFactory=e.providers||new fb.Z,r}return(0,D.Z)(n,[{key:"componentWillUnmount",value:function(){this.props.providers||this.providerFactory.destroy()}},{key:"render",value:function(){return Z.createElement(Rl.S,{providers:["taskDecisionProvider","contextIdentifierProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),n}(Z.PureComponent);(0,o.Z)(Dk,"displayName","TaskItem");const Zk=(0,H.ZP)(Dk);function Ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ik(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ik(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Rk=function(e){(0,j.Z)(n,e);var t=Mk(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"handleOnChange",(function(t,n){var r=e.view.state.tr,o=e.getPos();r.step(new Ks(o,{state:n?"DONE":"TODO",localId:t})),r.setMeta("scrollIntoView",!1),e.view.dispatch(r)})),(0,o.Z)((0,N.Z)(e),"addListAnalyticsData",(function(t){try{var n=e.view.state.doc.resolve(e.getPos()),r=n.index(),o=n.parent.childCount,i=n.parent.attrs.localId;t.update((function(e){var t=e.attributes,n=void 0===t?{}:t;return"action"!==e.actionSubject?e:Lk(Lk({},e),{},{attributes:Lk(Lk({},n),{},{position:r,listSize:o,listLocalId:i})})}))}catch(e){}})),e}return(0,D.Z)(n,[{key:"isContentEmpty",value:function(e){return 0===e.content.childCount}},{key:"createDomRef",value:function(){var e=document.createElement("div");return e.style["list-style-type"]="none",e}},{key:"getContentDOM",value:function(){var e=document.createElement("div");return e.className="task-item",{dom:e}}},{key:"render",value:function(e,t){var n=this,r=this.node.attrs,o=r.localId,i=r.state;return Z.createElement(Ek,{channel:"fabric-elements",onEvent:this.addListAnalyticsData},Z.createElement(M.Z,{plugins:{taskDecisionPlugin:ww},render:function(){return Z.createElement(Zk,{taskId:o,contentRef:t,isDone:"DONE"===i,onChange:n.handleOnChange,showPlaceholder:n.isContentEmpty(n.node)&&!km(n.view.state),providers:e.providerFactory})}}))}},{key:"viewShouldUpdate",value:function(e){return this.isContentEmpty(this.node)&&!!e.content.childCount}},{key:"update",value:function(e,t){var r=this;return(0,md.Z)((0,B.Z)(n.prototype),"update",this).call(this,e,t,void 0,(function(e,t){return!(r.isContentEmpty(t)||e.attrs.state!==t.attrs.state)}))}}]),n}(ql);function Nk(e,t,n){return function(r,o,i){return new Rk(r,o,i,e,t,{providerFactory:n},void 0,void 0,void 0,!0).init()}}var jk,Fk=["localId"];function Bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bk(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e[e.SET_CONTEXT_PROVIDER=0]="SET_CONTEXT_PROVIDER"}(jk||(jk={}));var Uk=function(e){return function(t,n){return n&&n(t.tr.setMeta(ww,{action:jk.SET_CONTEXT_PROVIDER,data:e})),!0}};var Vk=n(8375);function Hk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Wk=function(e){(0,j.Z)(n,e);var t=Hk(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{disabled:!1}),(0,o.Z)((0,N.Z)(e),"handleInsertDecision",(function(){var t=e.props.editorView;return!!t&&(xw("decisionList")(t.state,t.dispatch),!0)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.state.disabled,t=this.props,n=t.isDisabled,r=t.isReducedSpacing,o=(0,t.intl.formatMessage)(Jo.S.decision);return Z.createElement(Ce.Z,{buttonId:Ce.s.DECISION_LIST,onClick:this.handleInsertDecision,disabled:e||n,spacing:r?"none":"default",title:"".concat(o," <>"),"aria-keyshortcuts":"Shift+, Shift+. space",iconBefore:Z.createElement(Vk.Z,{label:o})})}}]),n}(Z.PureComponent);const Gk=(0,H.ZP)(Wk);var qk=n(8333);function Kk(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var $k=function(e){(0,j.Z)(n,e);var t=Kk(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{disabled:!1}),(0,o.Z)((0,N.Z)(e),"handleInsertTask",(function(){var t=e.props.editorView;return!!t&&(xw("taskList")(t.state,t.dispatch),!0)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.state.disabled,t=this.props,n=t.isDisabled,r=t.isReducedSpacing,o=(0,t.intl.formatMessage)(Jo.S.action);return Z.createElement(Ce.Z,{buttonId:Ce.s.TASK_LIST,onClick:this.handleInsertTask,disabled:e||n,spacing:r?"none":"default",title:"".concat(o," []"),iconBefore:Z.createElement(qk.Z,{label:o})})}}]),n}(Z.PureComponent);const Jk=(0,H.ZP)($k);var Yk,Xk=(0,U.iv)(Yk||(Yk=(0,z.Z)(["\n  display: flex;\n"]))),Qk=function(e,t,n){return function(r){var o=r.listLocalId,i=r.itemLocalId,a=kw(t,n),c=a.list,s=a.item;return e(c.createChecked({localId:o},s.createChecked({localId:i})))}};const eE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowNestedTasks,n=e.consumeTabs,r=e.useLongPressSelection;return{name:"taskDecision",nodes:function(){return[{name:"decisionList",node:vw.w},{name:"decisionItem",node:mw.O},{name:"taskList",node:gw.o},{name:"taskItem",node:yw.p}]},pmPlugins:function(){return[{name:"tasksAndDecisions",plugin:function(e){var t=e.portalProviderAPI,n=e.providerFactory;return function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new u.J({props:{nodeViews:{taskItem:Nk(e,t,n),decisionItem:sk(e,t)},handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch,a=o.tr;return o.selection instanceof g.NodeSelection&&o.selection.node.type===e.state.schema.nodes.decisionItem&&(o.selection.replace(a),a.insertText(r),i&&i(a),!0)},handleClickOn:xi(["decisionItem"],(function(e){return e.hasAttribute("data-decision-wrapper")||"Decision"===e.getAttribute("aria-label")}),{useLongPressSelection:o})},state:{init:function(){return{insideTaskDecisionItem:!1}},apply:function(e,t){var n=e.getMeta(ww)||{action:null,data:null},o=n.action,i=n.data,a=t;return o===jk.SET_CONTEXT_PROVIDER&&(a=zk(zk({},t),{},{contextIdentifierProvider:i})),r(ww,a),a}},view:function(e){return n.subscribe("contextIdentifierProvider",(function(t,n){"contextIdentifierProvider"===t&&(n?n.then((function(t){Uk(t)(e.state,e.dispatch)})):Uk(void 0)(e.state,e.dispatch))})),{}},key:ww,appendTransaction:function(e,t,n){var r=n.tr,o=!1;if(e.forEach((function(e){e.docChanged&&(0,cr.wt)(e,(function(e,t){var i=n.schema.nodes,a=i.decisionList,c=i.decisionItem,s=i.taskList,u=i.taskItem;if(e.type&&(e.type===a||e.type===c||e.type===s||e.type===u)){var l=e.attrs,d=l.localId,p=(0,ko.Z)(l,Fk);null!=d&&""!==d||(r.step(new Ks(t,zk({localId:bw.V.generate()},p))),o=!0)}}))})),o)return r.setMeta("addToHistory",!1)}})}(t,e.eventDispatcher,n,e.dispatch,r)}},{name:"tasksAndDecisionsInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return _w(t,n)}},{name:"tasksAndDecisionsKeyMap",plugin:function(e){var r=e.schema;return ek(r,t,n)}}]},secondaryToolbarComponent:function(e){var t=e.editorView,n=e.disabled;return(0,U.tZ)("div",{css:Xk},(0,U.tZ)(Gk,{editorView:t,isDisabled:n,isReducedSpacing:!0}),(0,U.tZ)(Jk,{editorView:t,isDisabled:n,isReducedSpacing:!0}))},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"action",title:t(Jo.S.action),description:t(Jo.S.actionDescription),priority:100,keywords:["checkbox","task","todo"],keyshortcut:"[]",icon:function(){return(0,U.tZ)(So,null)},action:function(e,t){return Ew(t,"taskList",p.Jq.QUICK_INSERT,Qk(e,"taskList",t.schema))}},{id:"decision",title:t(Jo.S.decision),description:t(Jo.S.decisionDescription),priority:900,keyshortcut:"<>",icon:function(){return(0,U.tZ)(Ao,null)},action:function(e,t){return Ew(t,"decisionList",p.Jq.QUICK_INSERT,Qk(e,"decisionList",t.schema))}}]}}}};const tE=function(e,t){var n,r="",o="",i=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var a in i){var c=i[a];if(c.r.test(e)){r=c.s;break}}switch(/Windows/.test(r)&&(o=(n=/Windows (.*)/.exec(r))&&n[1],r="Windows"),r){case"Mac OS X":o=(n=/Mac OS X (10[\.\_\d]+)/.exec(e))&&n[1];break;case"Android":o=(n=/Android ([\.\_\d]+)/.exec(e))&&n[1];break;case"iOS":o=(n=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))&&n[1]+"."+n[2]+"."+(n[3]||0)}return"".concat(r," ").concat(o)};const nE=function(e){var t,n,r,o,i;return-1!==(o=e.indexOf("OPR/"))?(t="Opera",n=e.substring(o+4)):-1!==(o=e.indexOf("Opera"))?(t="Opera",n=-1!==(o=e.indexOf("Version"))?e.substring(o+8):e.substring(o+6)):-1!==(o=e.indexOf("MSIE"))?(t="Microsoft Internet Explorer",n=e.substring(o+5)):-1!==(o=e.indexOf("Chrome"))?(t="Chrome",n=e.substring(o+7)):-1!==(o=e.indexOf("Safari"))?(t="Safari",n=-1!==(o=e.indexOf("Version"))?e.substring(o+8):e.substring(o+7)):-1!==(o=e.indexOf("Firefox"))?(t="Firefox",n=e.substring(o+8)):(r=e.lastIndexOf(" ")+1)<(o=e.lastIndexOf("/"))?(t=e.substring(r,o),n=e.substring(o+1),t.toLowerCase()===t.toUpperCase()&&(t=navigator.appName)):(t=navigator.appName,n=""+parseFloat(navigator.appVersion)),-1!==(i=n.indexOf(";"))&&(n=n.substring(0,i)),-1!==(i=n.indexOf(" "))&&(n=n.substring(0,i)),"".concat(t," ").concat(n)};function rE(){rE=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}const oE=function(e,t,n,r,o,i,a){return new Promise(function(){var c=(0,wc.Z)(rE().mark((function c(s,u){return rE().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:window.jQuery?(window.ATL_JQ_PAGE_PROPS={triggerFunction:function(e){"function"==typeof e?s(e):u("Failed to initialize showCollectorDialog")},fieldValues:{description:"Please describe the problem you're having or feature you'd like to see:\n\n\n",customfield_11711:e||[],customfield_11712:"version: ".concat(t,"@").concat(r," (").concat(n,")\n              Browser: ").concat(nE(navigator.userAgent),"\n              OS: ").concat(tE(navigator.userAgent,navigator.appVersion))},environment:{"Editor Package":t,"Editor Version":r,"Editor Core Version":n,sessionId:o,contentId:i,tabId:a},priority:"1",components:"15306"},window.jQuery.ajax({url:"https://product-fabric.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-w0bwo4/b/14/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=98644b9c",type:"get",cache:!0,dataType:"script"})):u("jQuery is not defined");case 1:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}())};function iE(){iE=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function aE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aE(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sE,uE,lE,dE=function(e){var t=e.product,n=e.packageName,r=e.packageVersion,o=e.labels;return[t,n,r].concat((0,s.Z)(o||[])).join("|")},pE=function(){var e=(0,wc.Z)(iE().mark((function e(t){return iE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=(0,wc.Z)(iE().mark((function e(n,r){var o,i,a;return iE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=cE(cE(cE({},{product:"n/a",labels:[],packageName:"",packageVersion:"",sessionId:"",contentId:"",tabId:""}),lE),t),i=dE(o),sE&&uE===i){e.next=13;break}return e.prev=3,e.next=6,oE([o.product].concat((0,s.Z)(o.labels)),o.packageName,oy.i8,o.packageVersion,o.sessionId,o.contentId,o.tabId);case 6:sE=e.sent,uE=i,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),r(e.t0);case 13:a=window.setTimeout(sE,0),n(a);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();const fE=function(e){return lE=e,{name:"feedbackDialog",pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"feedbackdialog",title:n(Jo.S.feedbackDialog),description:n(Jo.S.feedbackDialogDescription),priority:400,keywords:["bug"],icon:function(){return Z.createElement(Wo,null)},action:function(t,n){var r=t("");return pE(e),(0,At.Gs)(n,r,{action:p.om.OPENED,actionSubject:p.Wt.FEEDBACK_DIALOG,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.UI})}}]}}}};var hE=xo()({loader:function(){return n.e(214).then(n.bind(n,23787)).then((function(e){return e.default}))},loading:function(){return null}}),vE=new g.PluginKey("quickInsertPluginKey"),mE=n(93250),gE=n(85029),yE=n(87789);function bE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bE(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var kE=function(){var e={};return Re.E4(Re.UF.common,(function(e,t){var n=e.tr;return n.getMeta(yE.u)||(n=(0,At.Gs)(e,n,{action:p.om.CLICKED,actionSubject:p.Wt.BUTTON,actionSubjectId:p.VJ.BUTTON_HELP,attributes:{inputMethod:p.Jq.SHORTCUT},eventType:p.Ze.UI}),(0,gE.K)(n,t)),!0}),e),(0,it.h)(e)};const EE=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{name:"helpDialog",pmPlugins:function(){return[{name:"helpDialog",plugin:function(t){return function(e,t){return new u.J({key:yE.u,state:{init:function(){return{isVisible:!1,imageEnabled:t}},apply:function(t,n,r){var o=t.getMeta(yE.u),i=yE.u.getState(r);if(void 0!==o&&o!==i.isVisible){var a=wE(wE({},i),{},{isVisible:o});return e(yE.u,a),a}return i}}})}(t.dispatch,e)}},{name:"helpDialogKeymap",plugin:function(){return kE()}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"helpdialog",title:t(Jo.S.help),description:t(Jo.S.helpDescription),keywords:["?"],priority:4e3,keyshortcut:(0,Re.Md)(Re.UF),icon:function(){return Z.createElement(mE.Z,{label:""})},action:function(e,t){var n=e("");return(0,gE.K)(n),(0,At.Gs)(t,n,{action:p.om.HELP_OPENED,actionSubject:p.Wt.HELP,actionSubjectId:p.VJ.HELP_QUICK_INSERT,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.UI})}}]}},contentComponent:function(e){var t=e.editorView;return Z.createElement(M.Z,{plugins:{helpDialog:yE.u,quickInsert:vE},render:function(e){var n=e.helpDialog,r=void 0===n?{}:n,o=e.quickInsert;return Z.createElement(hE,{editorView:t,isVisible:r.isVisible,quickInsertEnabled:!!o,imageEnabled:r.imageEnabled})}})}}};function xE(e,t){if(t)return(0,it.h)({Enter:function(n,r,o){return!!function(e){var t=e.state.selection,n=t.$cursor,r=e.state.schema.nodes,o=r.decisionItem,i=r.paragraph,a=r.taskItem;return!n||n.parent.type===i&&1===n.depth||n.parent.type===o&&!OE(n)||n.parent.type===a&&!OE(n)}(o)&&(e(Hl.D,SE(n)),t(o),!0)}})}function OE(e){var t=e.parent.content;return!(t&&t.size)}var SE=function(e){return{payload:{action:p.om.STOPPED,actionSubject:p.Wt.EDITOR,actionSubjectId:p.VJ.SAVE,attributes:{inputMethod:p.Jq.SHORTCUT,documentSize:e.doc.nodeSize},eventType:p.Ze.UI}}};const CE=function(e){return{name:"saveOnEnter",pmPlugins:function(){return[{name:"saveOnEnter",plugin:function(t){return xE(t.dispatch,e)}}]}}};var TE=n(21905);function AE(){AE=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function _E(e){var t,n,r,o=e.clipboardData;return!!o&&(t=o.types,n="Files",!(r=t).indexOf&&r.contains?t.contains(n):t.indexOf(n)>-1)}var PE=function(){return!!navigator.clipboard&&"function"==typeof navigator.clipboard.writeText},DE=function(){var e=(0,wc.Z)(AE().mark((function e(t){return AE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!PE()){e.next=11;break}return e.prev=1,e.next=4,navigator.clipboard.writeText(t);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("Clipboard api is not supported");case 9:case 20:e.next=23;break;case 11:if(!window.clipboardData||"function"!=typeof window.clipboardData.setData){e.next=22;break}return e.prev=12,e.next=15,window.clipboardData.setData("text",t);case 15:e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(12),new Error("IE clipboard api is not supported");case 22:throw new Error("Clipboard api is not supported");case 23:case"end":return e.stop()}}),e,null,[[1,6],[12,17]])})));return function(t){return e.apply(this,arguments)}}(),ZE=function(){var e=(0,wc.Z)(AE().mark((function e(t,n){var r,o,i;return AE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!PE()||"undefined"==typeof ClipboardItem){e.next=12;break}return e.prev=1,r=new ClipboardItem({"text/plain":new Blob([n||t.innerText],{type:"text/plain"}),"text/html":new Blob([t.innerHTML],{type:"text/html"})}),e.next=5,navigator.clipboard.write([r]);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("Clipboard api is not supported");case 10:e.next=17;break;case 12:(i=new(o=TE).DT).setData("text/plain",n||t.innerText),i.setData("text/html",t.innerHTML),o.write(i);case 17:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();function IE(e){var t=e;return!!t.dataTransfer&&-1!==Array.prototype.slice.call(t.dataTransfer.types).indexOf("Files")}var LE=function(e){var t=e.schema.nodes.mediaSingle,n=e.selection.$to;if(t)for(var r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,t))return!0}return!1},ME=function(e,t){var n=t.nodes,r=n.media,o=n.mediaSingle;if(!r||!o)return null;var i=r.createChecked({type:"external",url:e});return o.createChecked({},i)},RE=new g.PluginKey("imageUploadPlugin"),NE=function(e){return function(t){return function(e,t){return e.setMeta(RE,t)}(t,{name:"START_UPLOAD",event:e})}},jE=function(e){return function(t,n){return!!RE.getState(t).enabled&&(n&&n(NE(e)(t.tr)),!0)}};function FE(){FE=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function BE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BE(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var UE=function(e){var t=e.clipboardData;if(!t||1!==t.files.length)return!1;var n=!!t.getData("text/plain"),r=t.getData("text/html").includes("urn:schemas-microsoft-com:office:office"),o=t.files[0];return"image/png"===o.type&&"image.png"===o.name&&n&&r},VE=function(e,t){return function(t,n){if(!e(n))return!1;var r=!UE(n);return r&&(n.preventDefault(),n.stopPropagation(),jE(n)(t.state,t.dispatch)),r}},HE=function(e){var t,n=e.dispatch,r=e.providerFactory;return new u.J({state:{init:function(e,t){return{active:!1,enabled:LE(t),hidden:!t.schema.nodes.media||!t.schema.nodes.mediaSingle}},apply:function(e,t,r,o){var i=function(e){var t=e.schema.nodes.media;return e.selection instanceof g.NodeSelection&&e.selection.node.type===t}(o),a=LE(o),c=function(e,t){var n=e.getMeta(RE);return n&&"START_UPLOAD"===n.name?{event:n.event}:t.activeUpload}(e,t);if(i!==t.active||a!==t.enabled||c!==t.activeUpload){var s=zE(zE({},t),{},{active:i,enabled:a,activeUpload:c});return n(RE,s),s}return t}},key:RE,view:function(){var e=function(){var e=(0,wc.Z)(FE().mark((function e(n,r){return FE().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("imageUploadProvider"===n&&r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,r;case 5:t=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t=void 0;case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,n){return e.apply(this,arguments)}}();return r.subscribe("imageUploadProvider",e),{update:function(e,n){var r=e.state,o=RE.getState(r),i=RE.getState(n);if(o.activeUpload!==i.activeUpload&&o.activeUpload&&t){var a=o.activeUpload.event;a&&UE(a)||t(a,(function(t){return function(e){return function(t,n){if(!RE.getState(t).enabled||!e.src)return!1;var r=ME(e.src,t.schema);return!!r&&(n&&n((0,W.Z3)(r,t.selection.$to.pos)(t.tr).scrollIntoView()),!0)}}(t)(e.state,e.dispatch)}))}},destroy:function(){r.unsubscribe("imageUploadProvider",e)}}},props:{handleDOMEvents:{drop:VE(IE),paste:VE(_E)}}})};const WE=function(e,t){if(e.nodes.media&&e.nodes.mediaSingle){var n=Yn(/!\[(.*)\]\((\S+)\)$/,(function(e,t,n,r){var o=e.schema,i={src:t[2],alt:t[1]},a=ME(i.src,o);return a?e.tr.replaceWith(n,r,a):null}));return Xn("image-upload",[n])}};const GE=function(){return{name:"imageUpload",pmPlugins:function(){return[{name:"imageUpload",plugin:HE},{name:"imageUploadInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return WE(t,n)}}]}}};var qE=(0,D.Z)((function e(t,n,r){(0,P.Z)(this,e),this.step=t,this.inverted=n,this.origin=r}));var KE=(0,D.Z)((function e(t,n){(0,P.Z)(this,e),this.version=t,this.unconfirmed=n}));var $E=new g.PluginKey("collab");function JE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={version:e.version||0,clientID:null==e.clientID?Math.floor(4294967295*Math.random()):e.clientID};return new g.Plugin({key:$E,state:{init:function(){return new KE(t.version,[])},apply:function(e,t){var n=e.getMeta($E);return n||(e.docChanged?new KE(t.version,t.unconfirmed.concat(function(e){for(var t=[],n=0;n<e.steps.length;n++)t.push(new qE(e.steps[n],e.steps[n].invert(e.docs[n]),e));return t}(e))):t)}},config:t,historyPreserveItems:!0})}function YE(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=$E.getState(e),i=o.version+t.length,a=$E.get(e).spec.config.clientID,c=0;c<n.length&&n[c]==a;)++c;var s=o.unconfirmed.slice(c);if(!(t=c?t.slice(c):t).length)return e.tr.setMeta($E,new KE(i,s));var u=s.length,l=e.tr;if(u)s=function(e,t,n){for(var r=e.length-1;r>=0;r--)n.step(e[r].inverted);for(var o=0;o<t.length;o++)n.step(t[o]);for(var i=[],a=0,c=e.length;a<e.length;a++){var s=e[a].step.map(n.mapping.slice(c));c--,s&&!n.maybeStep(s).failed&&(n.mapping.setMirror(c,n.steps.length-1),i.push(new qE(s,s.invert(n.docs[n.docs.length-1]),e[a].origin)))}return i}(s,t,l);else{for(var d=0;d<t.length;d++)l.step(t[d]);s=[]}var p=new KE(i,s);return r&&r.mapSelectionBackward&&e.selection instanceof g.TextSelection&&(l.setSelection(g.TextSelection.between(l.doc.resolve(l.mapping.map(e.selection.anchor,-1)),l.doc.resolve(l.mapping.map(e.selection.head,-1)),-1)),l.updated&=-2),l.setMeta("rebased",u).setMeta("addToHistory",!1).setMeta($E,p)}var XE=n(12813),QE=n(33089),ex=function(e,t,n,r){if(e&&e.length){var o,i=t.state,a=t.state.schema,c=e.map((function(e){return nn.h8.fromJSON(a,e)}));if(r&&r.useNativePlugin&&n?o=YE(i,c,n):(o=i.tr,c.forEach((function(e){return o.step(e)}))),o){o.setMeta("addToHistory",!1),o.setMeta("isRemote",!0);var s=i.selection,u=s.from,l=s.to,d=(0,sr.Z)(e,1)[0];i.tr.storedMarks&&o.setStoredMarks(i.tr.storedMarks),u===d.from&&l===d.to&&o.setSelection(i.selection.map(o.doc,o.mapping)),t.dispatch(o)}}};function tx(e){return e instanceof g.AllSelection}function nx(e){return e instanceof g.NodeSelection}var rx=n(49001),ox=n(9334),ix=function(e,t,n){return function(r){var o=(0,ox.I)({extensions:["grammarly"]}),i={action:p.om.SYNCHRONY_ERROR,actionSubject:p.Wt.EDITOR,eventType:p.Ze.OPERATIONAL,attributes:{error:r,browserExtensions:o}};return n.synchronyErrorDocStructure&&(i.attributes.docStructure=(0,rx.m)(e.doc,{compact:!0})),(0,At.Gs)(e,t,i)}},ax=function(e,t){return function(n){return(0,At.Gs)(e,t,{action:"error"===n?p.om.SYNCHRONY_ENTITY_ERROR:p.om.SYNCHRONY_DISCONNECTED,actionSubject:p.Wt.EDITOR,eventType:p.Ze.OPERATIONAL,attributes:{onLine:navigator.onLine,visibilityState:document.visibilityState}})}},cx=function(e,t){var n,r;return function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return r&&t(n,i)||(r=e.apply(void 0,i),n=i),r}}((function(e,t,n,r,o){var i,a=function(){ax(e.state,e.state.tr)("disconnected")},c=function(){ax(e.state,e.state.tr)("error")},s=function(){i&&(i.off("disconnected",a),i.off("error",c))},u=function(t){e.dispatch(e.state.tr.setMeta("collabInitialised",!0)),function(e,t,n){var r=e.doc,o=e.json,i=e.version,a=e.reserveCursor;if(r){var c=t.state,s=(0,QE.xE)(r,c,i,n,a);s.setMeta("isRemote",!0),t.dispatch(s)}else o&&ex(o,t)}(t,e,n)},l=function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("sessionId",e))}(t,e)},d=function(t){return function(e,t,n){var r=e.json,o=e.userIds;r&&ex(r,t,void 0===o?[]:o,n)}(t,e,n)},p=function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("presence",e))}(t,e)},f=function(t){return function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("telepointer",e))}(t,e)},h=function(t){var n=t.steps,r=e.state.tr;n.forEach((function(e){return r.step(e)})),e.dispatch(r)},v=function(t){ix(e.state,e.state.tr,r)(t)},m=function(e){var t=e.entity;s(),n.EXPERIMENTAL_allowInternalErrorAnalytics&&(t.on("disconnected",a),t.on("error",c),i=t)};return t.on("init",u).on("connected",l).on("data",d).on("presence",p).on("telepointer",f).on("local-steps",h).on("error",v).on("entity",m),function(){s(),t.off("init",u).off("connected",l).off("data",d).off("presence",p).off("telepointer",f).off("local-steps",h).off("error",v).off("entity",m)}}),(function(e,t){return t&&t.every((function(t,n){return t===e[n]}))})),sx=n(91801),ux=(0,XE.Z)((function(e,t){e.initialize&&e.initialize((function(){return t.state}),(function(e){return nn.h8.fromJSON(t.state.schema,e)}))})),lx=n(51846),dx=function(e,t,n,r,o){var i=(0,h.Z)(null==r?void 0:r.createAnalyticsEvent);return new u.J({key:sx.u,state:{init:function(e){return lx.BV.init(e)},apply:function(t,n,r,o){var i=n.apply(t);return e(sx.u,i),i}},props:{decorations:function(e){return this.getState(e).decorations}},filterTransaction:function(e,t){var n=sx.u.getState(t);return!!e.getMeta("collabInitialised")||!(!n.isReady&&e.docChanged)},view:function(e){var a=ix(e.state,e.state.tr,o);r.onSyncUpError=function(e){i({payload:{action:p.om.NEW_COLLAB_SYNC_UP_ERROR_NO_STEPS,actionSubject:p.Wt.EDITOR,eventType:p.Ze.OPERATIONAL,attributes:e}})};var c=n(function(e){var t=e.options,n=e.providerFactory,r=e.view,o=e.featureFlags;return function(e){var i;return sx.u.getState(r.state).isReady&&i&&i(),i=cx(r,e,t,o,n),t.useNativePlugin?function(e,t,n){e.setup({getState:function(){return t.state},onSyncUpError:n})}(e,r,t.onSyncUpError):ux(e,r),i}}({view:e,options:r,providerFactory:t,featureFlags:o}),a);return{destroy:function(){t.unsubscribeAll("collabEditProvider"),c&&c.then((function(e){e&&e()}))}}}})},px=function(e){var t=e.originalTransaction,n=e.transactions,r=e.oldEditorState,o=e.newEditorState,i=e.useNativePlugin;return function(e){var a=n.find((function(e){return e.docChanged})),c=sx.u.getState(o);if(c.isReady){var s=!t.getMeta("isRemote")&&!t.getMeta("scaleTable")&&a;(i||s)&&e.send(a,r,o);var u=sx.u.getState(r).activeParticipants,l=c.activeParticipants,d=c.sessionId,p=!r.selection.eq(o.selection),f=!u.eq(l);if(d&&p&&!a||d&&f){var h={type:"telepointer",selection:function(e){return{type:"textSelection",anchor:e.anchor,head:tx(e)||nx(e)?e.head-1:e.head}}(o.selection),sessionId:d};e.sendMessage(h)}}}},fx=n(90118);function hx(){hx=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}const vx=function(e,t){var n,r,o=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{},i=function(){},a=new Promise((function(e){i=e})),c=function(e){return function(){var t=(0,wc.Z)(hx().mark((function t(n,r){var o;return hx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:if(!(o=t.sent)){t.next=6;break}return t.abrupt("return",n(o));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r?r(t.t0):console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}()}(a);return{name:"collabEdit",pmPlugins:function(){var t=e||{},n=t.useNativePlugin,r=void 0!==n&&n,u=t.userId,l=void 0===u?null:u;return[].concat((0,s.Z)(r?[{name:"pmCollab",plugin:function(){return JE({clientID:l})}},{name:"nativeCollabProviderPlugin",plugin:function(){return(0,fx.H)({providerPromise:a})}}]:[]),[{name:"collab",plugin:function(t){var n=t.dispatch,r=t.providerFactory;return r&&r.subscribe("collabEditProvider",(function(e,t){t&&t.then((function(e){return i(e)}))})),dx(n,r,c,e,o)}}])},onEditorViewStateUpdated:function(t){var n=ix(t.newEditorState,t.newEditorState.tr,o);c(px({originalTransaction:t.originalTransaction,transactions:t.transactions,oldEditorState:t.oldEditorState,newEditorState:t.newEditorState,useNativePlugin:e&&e.useNativePlugin}),n)}}};var mx,gx,yx,bx=n(16336),wx=n(68032),kx=n(39082),Ex=(0,U.iv)(mx||(mx=(0,z.Z)(["\n  align-items: center;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: ",";\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 4px;\n  user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  .ProseMirror-selectednode & {\n    background: ",";\n    outline: none;\n  }\n"])),"var(--ds-background-neutral, ".concat(V.gt,")"),"var(--ds-border, ".concat(V.uv,")"),(0,re.E0)(),(0,ue.Gh)(13),"var(--ds-background-selected, ".concat(V.uv,")")),xx=(0,U.iv)(gx||(gx=(0,z.Z)(["\n  display: inline-block;\n  color: ",";\n  line-height: 24px;\n  vertical-align: top;\n\n  &::before {\n    color: ",";\n    content: 'JIRA | ';\n  }\n"])),"var(--ds-text-subtlest, #707070)","var(--ds-text, black)"),Ox=(0,U.iv)(yx||(yx=(0,z.Z)(["\n  display: inline-block;\n  height: 24px;\n  vertical-align: top;\n  width: 24px;\n\n  & > div {\n    height: 24px;\n    width: 24px;\n  }\n"])));function Sx(e){var t=e.node.attrs.issueKey;return(0,U.tZ)("span",{css:Ex,"data-testid":"jira-issue-node"},(0,U.tZ)("span",{css:Ox},(0,U.tZ)(kx.JiraIcon,{size:"small"})),(0,U.tZ)("span",{css:xx},t))}var Cx=new g.PluginKey("jiraIssuePlugin"),Tx=function(e){var t=e.portalProviderAPI,n=e.eventDispatcher;return new u.J({key:Cx,props:{nodeViews:{confluenceJiraIssue:ql.fromComponent(Sx,t,n)}}})};const Ax=function(){return{name:"confluenceJiraIssue",nodes:function(){return[{name:"confluenceJiraIssue",node:wx.G}]},pmPlugins:function(){return[{name:"jiraIssue",plugin:Tx}]}}};var _x=n(33874),Px=n(63869),Dx=n(94715),Zx=n(14413);function Ix(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ix(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ix(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mx=function(e,t){var n=e.schema.nodes.panel;return(0,W.a1)(n)(t||e.selection)||(0,W.Tr)(n)(t||e.selection)},Rx=n(87136),Nx=n(46989),jx=n(28487),Fx=n(68434),Bx=n(60551),zx={info:Rx.F,success:Nx.E,note:jx.m,tip:Dx.Z,warning:Fx.z,error:Bx.K,custom:Rx.F},Ux=function(e){var t=e.allowCustomPanel,n=e.providerFactory,r=e.panelAttributes,o=r.panelType,i=r.panelIcon,a=r.panelIconId,c=r.panelIconText;if(t&&i&&o===_x.w.CUSTOM)return Z.createElement(Xb.Z,{providers:n,shortName:i,id:a,fallback:c,showTooltip:!1,allowTextFallback:!1,fitToHeight:ue.qv});var s=zx[o];return Z.createElement(s,{label:"Panel ".concat(o)})},Vx=function(){function e(t,n,r,o,i){(0,P.Z)(this,e),this.providerFactory=i,this.pluginOptions=o,this.view=n,this.node=t;var a=on.DOMSerializer.renderSpec(document,function(e,t){var n=e.panelColor,r=e.panelType,o=e.panelIcon,i=e.panelIconId,a=e.panelIconText,c=r===_x.w.CUSTOM&&t,s=!c||!!o||!!i,u=n&&(0,Zx.ES)(n),l=["".concat(n&&c?"background-color: ".concat(u||n,";"):""),"".concat(s?"":"padding-left: 12px;")].join(""),d={class:Px.sp.prefix,"data-panel-type":r||_x.w.INFO,style:l};n&&c&&(d=Lx(Lx({},d),{},{"data-panel-color":n,"data-panel-icon-id":i,"data-panel-icon-text":a}));var p=["div",{class:Px.sp.icon}],f=["div",{class:Px.sp.content},0];return s?["div",d,p,f]:["div",d,f]}(t.attrs,o.allowCustomPanel||!1)),c=a.dom,s=a.contentDOM;this.getPos=r,this.dom=c,this.contentDOM=s,this.icon=this.dom.querySelector(".".concat(Px.sp.icon)),this.icon&&(this.icon.contentEditable="false",Fi.render(Z.createElement(Ux,{allowCustomPanel:o.allowCustomPanel,panelAttributes:t.attrs,providerFactory:this.providerFactory}),this.icon))}return(0,D.Z)(e,[{key:"ignoreMutation",value:function(e){var t=e.target===this.icon||e.target.parentNode===this.icon,n=this.icon.contains(e.target);return t||n}}]),e}(),Hx=function(e,t){return function(n,r,o){return new Vx(n,r,o,e,t)}},Wx=new g.PluginKey("panelPlugin"),Gx=n(80419),qx=n(45428),Kx=n(37060),$x=n(46211),Jx=n(29285),Yx=n(96176);function Xx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Qx=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,i){var a=r.schema.nodes,c=r.tr,s=Mx(r);if(void 0===s)return!1;var u,l=e,d=s.node.attrs.panelType;if(n){var f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xx(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({color:"custom"===s.node.attrs.panelType?s.node.attrs.panelColor||"none":(0,Px.dy)(d),emoji:s.node.attrs.panelIcon,emojiId:s.node.attrs.panelIconId,emojiText:s.node.attrs.panelIconText},t);u=c.setNodeMarkup(s.pos,a.panel,{panelIcon:f.emoji,panelIconId:f.emojiId,panelIconText:f.emojiText,panelColor:f.color,panelType:e})}else u=c.setNodeMarkup(s.pos,a.panel,{panelType:e});var h={action:p.om.CHANGED_TYPE,actionSubject:p.Wt.PANEL,attributes:{newType:l,previousType:d},eventType:p.Ze.TRACK},v=r.selection instanceof g.NodeSelection&&"panel"===r.selection.node.type.name?u.setSelection(new g.NodeSelection(c.doc.resolve(s.pos))):u,m=(0,At.Gs)(r,v,h);return m.setMeta("scrollIntoView",!1),i&&i(m),!0}};function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nO,rO=[{label:"White",value:$d.N0},{label:"Light blue",value:$d.BA},{label:"Light teal",value:$d.u7},{label:"Light green",value:$d.ER},{label:"Light yellow",value:$d.S_},{label:"Light red",value:$d.r6},{label:"Light purple",value:$d.jJ},{label:"Light gray",value:$d.IR},{label:"Blue",value:$d.tE},{label:"Teal",value:$d.Xl},{label:"Green",value:$d.RY},{label:"Yellow",value:$d.a8},{label:"Red",value:$d.Xd},{label:"Purple",value:$d.kJ},{label:"Gray",value:$d.ip},{label:"Dark blue",value:$d.vP},{label:"Dark teal",value:$d.N_},{label:"Dark green",value:$d.T5},{label:"Dark yellow",value:$d.cS},{label:"Dark red",value:$d.S5},{label:"Dark purple",value:$d.Vi}].map((function(e){return tO(tO({},e),{},{border:"var(--ds-border, ".concat(ut.B,")")})})),oO=([{label:"Dark gray",value:Px.LQ.DarkGray},{label:"Dark blue",value:Px.LQ.B1200S},{label:"Dark teal",value:Px.LQ.T1200S},{label:"Dark green",value:Px.LQ.G1200S},{label:"Dark yellow",value:Px.LQ.Y1200S},{label:"Dark red",value:Px.LQ.R1200S},{label:"Dark purple",value:Px.LQ.P1200S},{label:"Gray",value:Px.LQ.Gray},{label:"blue",value:Px.LQ.B900},{label:"teal",value:Px.LQ.T900},{label:"green",value:Px.LQ.G900},{label:"yellow",value:Px.LQ.Y900},{label:"red",value:Px.LQ.R900},{label:"purple",value:Px.LQ.P900},{label:"Light gray",value:Px.LQ.LightGray},{label:"Light blue",value:Px.LQ.B800S},{label:"Light teal",value:Px.LQ.T900S},{label:"Light green",value:Px.LQ.G900S},{label:"Light yellow",value:Px.LQ.Y800S},{label:"Light red",value:Px.LQ.R800S},{label:"Light purple",value:Px.LQ.P800S}].map((function(e){return tO(tO({},e),{},{border:ut.B})})),(0,Ze.vU)({info:{id:"fabric.editor.info",defaultMessage:"Info",description:"Panels provide a way to highlight text. The info panel has a blue background."},note:{id:"fabric.editor.note",defaultMessage:"Note",description:"Panels provide a way to highlight text. The note panel has a purple background."},success:{id:"fabric.editor.success",defaultMessage:"Success",description:"Panels provide a way to highlight text. The success panel has a green background."},warning:{id:"fabric.editor.warning",defaultMessage:"Warning",description:"Panels provide a way to highlight text. The warning panel has a yellow background."},error:{id:"fabric.editor.error",defaultMessage:"Error",description:"Panels provide a way to highlight text. The error panel has a red background."},emoji:{id:"fabric.editor.panel.emoji",defaultMessage:"Add emoji",description:"Select the panel icon"},backgroundColor:{id:"fabric.editor.panel.backgroundColor",defaultMessage:"Background color",description:"Select the panel background color."}}));function iO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iO(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cO=(nO={},(0,o.Z)(nO,_x.w.INFO,{shortName:":info:",id:"atlassian-info"}),(0,o.Z)(nO,_x.w.NOTE,{shortName:":note:",id:"atlassian-note"}),(0,o.Z)(nO,_x.w.WARNING,{shortName:":warning:",id:"atlassian-warning"}),(0,o.Z)(nO,_x.w.ERROR,{shortName:":cross_mark:",id:"atlassian-cross_mark"}),(0,o.Z)(nO,_x.w.SUCCESS,{shortName:":check_mark:",id:"atlassian-check_mark"}),(0,o.Z)(nO,_x.w.TIP,{shortName:":tip:",id:"atlassian-tip"}),nO),sO=function(e,t,n,r,o,i,a,c,s){var u=[{id:"editor.panel.info",type:"button",icon:qx.Z,onClick:Qx(_x.w.INFO),selected:i===_x.w.INFO,title:e(oO.info),tabIndex:null},{id:"editor.panel.note",type:"button",icon:Kx.Z,onClick:Qx(_x.w.NOTE),selected:i===_x.w.NOTE,title:e(oO.note),tabIndex:null},{id:"editor.panel.success",type:"button",icon:Gx.Z,onClick:Qx(_x.w.SUCCESS),selected:i===_x.w.SUCCESS,title:e(oO.success),tabIndex:null},{id:"editor.panel.warning",type:"button",icon:$x.Z,onClick:Qx(_x.w.WARNING),selected:i===_x.w.WARNING,title:e(oO.warning),tabIndex:null},{id:"editor.panel.error",type:"button",icon:Jx.Z,onClick:Qx(_x.w.ERROR),selected:i===_x.w.ERROR,title:e(oO.error),tabIndex:null}];if(n){var l=i===_x.w.CUSTOM?a||(0,Px.dy)(_x.w.INFO):(0,Px.dy)(i),d=rO.find((function(e){return e.value===l}))||{label:"Custom",value:l,border:ut.B};if(r){var f={id:"editor.panel.colorPicker",title:e(oO.backgroundColor),type:"select",selectType:"color",defaultValue:d,options:rO,onChange:function(e){return t=e.value,function(e,r){var o=Mx(e);if(void 0===o)return!1;var i="custom"===o.node.attrs.panelType?o.node.attrs.panelColor||"none":(0,Px.dy)(o.node.attrs.panelType),a=o.node.attrs.panelType,c=cO[a],s=c?{emoji:c.shortName,emojiId:c.id}:{};if(i===t)return Qx(_x.w.CUSTOM,aO({color:t},s),n)(e,r),!1;var u={action:p.om.CHANGED_BACKGROUND_COLOR,actionSubject:p.Wt.PANEL,actionSubjectId:p.VJ.PANEL,attributes:{newColor:t,previousColor:i},eventType:p.Ze.TRACK};return(0,At.wi)(u)(Qx(_x.w.CUSTOM,aO({color:t},s),n))(e,r),!1};var t}},h={id:"editor.panel.emojiPicker",title:e(oO.emoji),type:"select",selectType:"emoji",options:[],selected:i===_x.w.CUSTOM&&!!c,onChange:function(e){return function(e){return function(t,n){var r=Mx(t);if(void 0===r)return!1;var o=r.node.attrs.panelIcon||"";if(o===e.shortName)return Qx(_x.w.CUSTOM,{emoji:e.shortName,emojiId:e.id,emojiText:e.fallback},!0)(t,n),!1;var i={action:p.om.CHANGED_ICON,actionSubject:p.Wt.PANEL,actionSubjectId:p.VJ.PANEL,attributes:{newIcon:e.shortName,previousIcon:o},eventType:p.Ze.TRACK};return(0,At.wi)(i)(Qx(_x.w.CUSTOM,{emoji:e.shortName,emojiId:e.id,emojiText:e.fallback},!0))(t,n),!1}}(e)}},v={id:"editor.panel.removeEmoji",type:"button",icon:Yx.Z,onClick:function(e,t){var r=Mx(e);if(i===_x.w.CUSTOM&&!c)return!1;if(void 0===r)return!1;var o={action:p.om.REMOVE_ICON,actionSubject:p.Wt.PANEL,actionSubjectId:p.VJ.PANEL,attributes:{icon:r.node.attrs.panelIcon},eventType:p.Ze.TRACK};return(0,At.wi)(o)(Qx(_x.w.CUSTOM,{emoji:void 0,emojiId:void 0,emojiText:void 0},n))(e,t),!1},title:e(Q.ZP.removeEmoji),disabled:!c};u.push(h,v,{type:"separator"},f)}}return s&&u.push({type:"copy-button",items:[{type:"separator"},{state:s,formatMessage:e,nodeType:t}]}),u.push({type:"separator"},{id:"editor.panel.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:Ya.Z,onClick:function(e,t){var n=e.schema.nodes,r=e.tr,o={action:p.om.DELETED,actionSubject:p.Wt.PANEL,attributes:{inputMethod:p.Jq.TOOLBAR},eventType:p.Ze.TRACK},i=r;return(0,W.a1)(n.panel)(r.selection)?i=(0,W.au)(r):(0,W.Tr)(n.panel)(r.selection)&&(i=(0,W.NQ)(n.panel)(r)),!!i&&(t&&t((0,At.Gs)(e,i,o)),!0)},onMouseEnter:(0,Xa.pP)(t,!0),onMouseLeave:(0,Xa.pP)(t,!1),onFocus:(0,Xa.pP)(t,!0),onBlur:(0,Xa.pP)(t,!1),title:e(Q.ZP.remove),tabIndex:null}),u};function uO(e,t,n){var r=function(e,t){var n=(0,W.Tr)(t)(e);return n?n.node:null}(e,t);return r&&(0,ta.KI)(n)(r)}const lO=function(){var e={Backspace:function(e,t){var n=e.selection,r=e.schema.nodes,o=e.tr,i=r.panel,a=r.blockquote,c=n.$from,s=n.$to;if(c.pos!==s.pos)return!1;if(0!==c.parentOffset)return!1;var u=o.doc.resolve(Math.max(0,c.before(c.depth)-1)),l=u.pos>0&&u.parent&&u.parent.type,d=c.parent.type;if(l===i&&!(d===i)||uO(n,i,e.schema)||(0,W.bw)(a)(n)){var p=c.node(c.depth).content,f=u.pos;return function(e,t){return t.delete(e.before(e.depth)-1,e.end(e.depth)+1)}(c,o).insert(f,p),t&&t((0,W.B0)(f)(o).scrollIntoView()),!0}return c.node().type===i}};return(0,it.h)(e)};var dO=n(16933);function pO(){return Z.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",focusable:"false","aria-hidden":!0},Z.createElement("rect",{width:"40",height:"40",fill:"white"}),Z.createElement("path",{d:"M8 13C8 12.4477 8.44772 12 9 12H40V28H9C8.44772 28 8 27.5523 8 27V13Z",fill:"#E6FCFF"}),Z.createElement("g",{clipPath:"url(#clip0)"},Z.createElement("path",{d:"M19.9999 16.2222C15.5817 16.2222 12.2222 19.5818 12.2222 24H16.0093C16.0093 21.7962 17.7964 20.0093 19.9999 20.0093V16.2222Z",fill:"#8767AC"}),Z.createElement("path",{d:"M12 23.9998H12.676C12.676 19.9578 15.9502 16.6809 19.9909 16.676V16C15.5767 16.0051 12 19.5847 12 23.9998Z",fill:"#EB2027"}),Z.createElement("path",{d:"M12.6851 24H13.3517C13.3517 20.3262 16.3273 17.3478 19.9999 17.3429V16.6762C15.9593 16.6811 12.6851 19.958 12.6851 24Z",fill:"#F19020"}),Z.createElement("path",{d:"M13.3518 24H14.0185C14.0185 20.6945 16.6956 18.0145 20 18.0096V17.3429C16.3274 17.3478 13.3518 20.3262 13.3518 24Z",fill:"#FFCB4C"}),Z.createElement("path",{d:"M14.0184 24H14.6851C14.6851 21.0629 17.064 18.6811 20 18.6762V18.0096C16.6955 18.0144 14.0184 20.6944 14.0184 24Z",fill:"#5C903F"}),Z.createElement("path",{d:"M14.6851 24H15.3517C15.3517 21.4311 17.4322 19.348 19.9999 19.3431V18.6762C17.0639 18.6811 14.6851 21.0629 14.6851 24Z",fill:"#226798"})),Z.createElement("defs",null,Z.createElement("clipPath",{id:"clip0"},Z.createElement("rect",{width:"8",height:"8",fill:"white",transform:"translate(12 16)"}))))}var fO=function(e,t,n){var r=n(hO(e,t));return r&&(0,At.Gs)(t,r,{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.PANEL,attributes:{inputMethod:p.Jq.QUICK_INSERT,panelType:e.panelType},eventType:p.Ze.TRACK}),r},hO=function(e,t){return t.schema.nodes.panel.createChecked(e,t.schema.nodes.paragraph.createChecked())};const vO=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"panel",nodes:function(){return[{name:"panel",node:(0,_x.B)(!!e.allowCustomPanel)}]},pmPlugins:function(){return[{name:"panel",plugin:function(t){var n=t.providerFactory;t.dispatch;return function(e,t,n){var r=n.useLongPressSelection,o=void 0!==r&&r;return new u.J({key:Wx,props:{nodeViews:{panel:Hx(n,t)},handleClickOn:xi(["panel"],(function(e){return!!e.closest(".".concat(Px.sp.prefix))}),{useLongPressSelection:o})}})}(0,n,e)}},{name:"panelKeyMap",plugin:function(){return lO()}}]},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage,r=[{id:"infopanel",title:n(dO.s.infoPanel),keywords:["panel"],description:n(dO.s.infoPanelDescription),priority:800,icon:function(){return Z.createElement(zo,null)},action:function(e,t){return fO({panelType:_x.w.INFO},t,e)}},{id:"notepanel",title:n(dO.s.notePanel),description:n(dO.s.notePanelDescription),priority:1e3,icon:function(){return Z.createElement(jo,null)},action:function(e,t){return fO({panelType:_x.w.NOTE},t,e)}},{id:"successpanel",title:n(dO.s.successPanel),description:n(dO.s.successPanelDescription),keywords:["tip"],priority:1e3,icon:function(){return Z.createElement(Fo,null)},action:function(e,t){return fO({panelType:_x.w.SUCCESS},t,e)}},{id:"warningpanel",title:n(dO.s.warningPanel),description:n(dO.s.warningPanelDescription),priority:1e3,icon:function(){return Z.createElement(Bo,null)},action:function(e,t){return fO({panelType:_x.w.WARNING},t,e)}},{id:"errorpanel",title:n(dO.s.errorPanel),description:n(dO.s.errorPanelDescription),priority:1e3,icon:function(){return Z.createElement(No,null)},action:function(e,t){return fO({panelType:_x.w.ERROR},t,e)}}];return e.allowCustomPanel&&e.allowCustomPanelEdit&&r.push({id:"custompanel",title:n(dO.s.customPanel),description:n(dO.s.customPanelDescription),priority:1e3,icon:function(){return Z.createElement(pO,null)},action:function(e,t){return fO({panelType:_x.w.CUSTOM,panelIcon:":rainbow:",panelIconId:"1f308",panelIconText:"🌈",panelColor:V.u7},t,e)}}),r},floatingToolbar:function(t,n,r){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.formatMessage,o=Mx(e);if(o){var i=e.schema.nodes.panel,a=o.node.attrs,c=a.panelType,s=a.panelColor,u=a.panelIcon,l=sO(r,i,n.allowCustomPanel||!1,n.allowCustomPanel&&n.allowCustomPanelEdit||!1,0,c,n.allowCustomPanel?s:void 0,n.allowCustomPanel?u||function(e){return e!==_x.w.CUSTOM?e:void 0}(c):void 0,e);return{title:"Panel floating controls",getDomRef:function(e){var t=e.domAtPos.bind(e);return(0,W.TM)(o.pos,t)},nodeType:i,items:l,scrollable:!0}}}(t,n,e,r)}}}};var mO,gO,yO,bO,wO,kO,EO,xO,OO,SO=n(78297),CO=n(84336),TO=n(43193),AO=n(60135),_O=n(60894),PO=n(77048),DO=function(e){return(0,U.iv)(mO||(mO=(0,z.Z)(["\n  background: ",";\n  border-radius: ","px;\n  color: ",";\n  position: relative;\n  vertical-align: middle;\n\n  .ProseMirror-selectednode > span > & > .extension-overlay {\n    box-shadow: inset 0px 0px 0px 2px ",";\n    opacity: 1;\n  }\n\n  &.with-overlay {\n    .extension-overlay {\n      background: ",";\n      color: transparent;\n    }\n\n    &:hover .extension-overlay {\n      opacity: 1;\n    }\n  }\n"])),(0,Ky.Z)({light:"var(--ds-background-neutral, ".concat(V.IR,")"),dark:"var(--ds-background-neutral, ".concat(V.H8,")")})(e),(0,re.E0)(),(0,Ky.Z)({dark:"var(--ds-text, ".concat(V.ap,")")})(e),"var(--ds-border-selected, ".concat(V.VY,")"),"var(--ds-background-neutral-hovered, ".concat(V.os,")"))},ZO=(0,U.iv)(gO||(gO=(0,z.Z)(["\n  border-radius: ","px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.3s;\n"])),(0,re.E0)()),IO=(0,U.iv)(yO||(yO=(0,z.Z)(["\n  display: inline-flex;\n  align-items: center;\n\n  & > img {\n    margin: 0 4px;\n  }\n  /* TODO: fix in develop: https://atlassian.slack.com/archives/CFG3PSQ9E/p1647395052443259?thread_ts=1647394572.556029&cid=CFG3PSQ9E */\n  /* stylelint-disable-next-line */\n  label: placeholder-fallback;\n"]))),LO=(0,U.iv)(bO||(bO=(0,z.Z)(["\n  display: inline-block;\n  max-width: 200px;\n  margin-left: 5px;\n  color: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])),"var(--ds-text-subtlest, ".concat(V.n2,")")),MO=(0,U.iv)(wO||(wO=(0,z.Z)(["\n  max-height: 16px;\n  max-width: 16px;\n  /* TODO: fix in develop: https://atlassian.slack.com/archives/CFG3PSQ9E/p1647395052443259?thread_ts=1647394572.556029&cid=CFG3PSQ9E */\n  /* stylelint-disable-next-line */\n  label: lozenge-image;\n"]))),RO=(0,Jd.ww)(),NO=2*RO,jO=function(e){return(0,U.iv)(kO||(kO=(0,z.Z)(["\n  ","\n\n  &.without-frame {\n    background: transparent;\n  }\n  cursor: pointer;\n  width: 100%;\n\n  .extension-overflow-wrapper:not(.with-body) {\n    overflow-x: auto;\n  }\n"])),DO(e))},FO=(0,U.iv)(EO||(EO=(0,z.Z)(["\n  padding: ","px ","px 0px;\n  vertical-align: middle;\n\n  &.with-children:not(.without-frame) {\n    padding: 4px 8px 8px;\n  }\n  &.without-frame {\n    padding: 0;\n  }\n"])),RO/2,RO/2),BO=function(e){return(0,U.iv)(xO||(xO=(0,z.Z)(["\n  padding: ","px;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n  cursor: initial;\n  width: 100%;\n"])),RO,(0,Ky.Z)({light:"var(--ds-surface, white)",dark:"var(--ds-surface, ".concat(V.Dw,")")})(e),(0,Ky.Z)({dark:"var(--ds-text, ".concat(V.fR,")")})(e),"var(--ds-border, ".concat(V.gt,")"),(0,re.E0)())},zO=(0,U.iv)(OO||(OO=(0,z.Z)(["\n  padding: 0 ","px ","px;\n  display: flex;\n  justify-content: center;\n"])),RO,RO),UO=n(25256),VO=function(e){var t=e.node,n=e.type;if(t.attrs.parameters){var r,o=t.attrs.parameters.macroMetadata;if(o&&o.placeholder)return o.placeholder.forEach((function(e){e.type===n&&e.data&&e.data.url&&(r=e.data)})),r}},HO=["url"];function WO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GO(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var qO=function(e){(0,j.Z)(n,e);var t=GO(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props.node,t=VO({node:e,type:"image"});if(t&&"extension"!==e.type.name)return this.renderImage(t);var n=VO({node:e,type:"icon"});return this.renderFallback(n)}},{key:"renderImage",value:function(e){var t=this.props.node.attrs.extensionKey,n=e.url,r=(0,ko.Z)(e,HO);return(0,U.tZ)("img",(0,Lt.Z)({css:MO,src:n},r,{alt:t}))}},{key:"renderFallback",value:function(e){var t,n=this.props.node.attrs,r=n.parameters,i=n.extensionKey,a=this.props.node.type.name,c=r&&r.macroParams,s=r&&r.extensionTitle||r&&r.macroMetadata&&r.macroMetadata.title||i,u="extension"===a;return(0,U.tZ)("div",{"data-testid":"lozenge-fallback",css:IO},e&&!u?this.renderImage(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WO(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({height:24,width:24},e)):(0,U.tZ)(UO.Z,{label:s}),(0,U.tZ)("span",{className:"extension-title"},(t=s).charAt(0).toUpperCase()+t.slice(1)),c&&!u&&(0,U.tZ)("span",{css:LO},Object.keys(c).map((function(e){return e&&" | ".concat(e," = ").concat(c[e].value)}))))}}]),n}(Z.Component),KO=["type"];function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$O(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function YO(e){var t=e.node,n=e.handleContentDOMRef,r=e.children,i=e.widthState,a=void 0===i?{width:0}:i,c=e.handleRef,s=e.shadowClassNames,u=e.hideFrame,l=e.editorAppearance,d="bodiedExtension"===t.type.name,p=!!r,f=u&&!("mobile"===l)&&!d||!1,h=e.getPos&&!isNaN(e.getPos())&&0===e.view.state.doc.resolve(e.getPos()).depth,v=["full-width","wide"].includes(t.attrs.layout)&&h&&"full-width"!==l,m=rc()("extension-container","block",s,(0,o.Z)({"with-overlay":!d,"without-frame":f},"wider-layout",v)),g=rc()({"with-children":p,"without-frame":f}),y={width:"100%"},b={};if(v){var w=(0,L.wV)({mode:t.attrs.layout,widthStateWidth:a.width,widthStateLineLength:a.lineLength}),k=(w.type,(0,ko.Z)(w,KO));b=JO({},k),y=k}return b=JO(JO({},b),zO),(0,U.tZ)("div",{ref:c,"data-layout":t.attrs.layout,className:m,css:jO,style:y},(0,U.tZ)("div",{className:"extension-overflow-wrapper ".concat(d?"with-body":"")},(0,U.tZ)("div",{css:ZO,className:"extension-overlay"}),(0,U.tZ)("div",{css:FO,contentEditable:!1,className:g},!f&&(0,U.tZ)(qO,{node:t}),r),d&&(0,U.tZ)("div",{css:b},(0,U.tZ)("div",{css:BO,ref:n,className:"extension-content block"}))))}const XO=(0,PO.Z)((function(e){return(0,U.tZ)(M.Z,{editorView:e.view,plugins:{widthState:R.ux},render:function(t){var n=t.widthState;return(0,U.tZ)(YO,(0,Lt.Z)({widthState:n},e))}})}),{overflowSelector:".extension-overflow-wrapper"});var QO,eS=function(e){return(0,U.iv)(QO||(QO=(0,z.Z)(["\n  ","\n\n  cursor: pointer;\n  display: inline-flex;\n  margin: 1px 1px 4px;\n\n  > img {\n    border-radius: ","px;\n  }\n\n  &::after,\n  &::before {\n    vertical-align: text-top;\n    display: inline-block;\n    width: 1px;\n    content: '';\n  }\n\n  &.with-children {\n    padding: 0;\n    background: ",";\n  }\n"])),DO(e),(0,re.E0)(),"var(--ds-background-neutral-subtle, white)")};function tS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var nS=function(e){(0,j.Z)(n,e);var t=tS(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.node,n=e.children,r=!!n?"with-overlay with-children":"with-overlay";return(0,U.tZ)("div",{css:eS,className:"extension-container inline ".concat(r)},(0,U.tZ)("div",{css:ZO,className:"extension-overlay"}),n||(0,U.tZ)(qO,{node:t}))}}]),n}(Z.Component);function rS(){rS=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function oS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var iS=function(e){(0,j.Z)(n,e);var t=oS(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"privatePropsParsed",!1),(0,o.Z)((0,N.Z)(e),"state",{}),(0,o.Z)((0,N.Z)(e),"mounted",!1),(0,o.Z)((0,N.Z)(e),"getNodeRenderer",(0,XE.Z)(AO.ZY)),(0,o.Z)((0,N.Z)(e),"getExtensionModuleNodePrivateProps",(0,XE.Z)(AO.tV)),(0,o.Z)((0,N.Z)(e),"setStateFromPromise",(function(t,n){n&&n.then((function(n){e.mounted&&e.setState((0,o.Z)({},t,n))}))})),(0,o.Z)((0,N.Z)(e),"parsePrivateNodePropsIfNeeded",(0,wc.Z)(rS().mark((function t(){var n,r,o,i;return rS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.privatePropsParsed&&e.state.extensionProvider){t.next=2;break}return t.abrupt("return");case 2:return e.privatePropsParsed=!0,n=e.props.node.attrs,r=n.extensionType,o=n.extensionKey,t.prev=4,t.next=7,e.getExtensionModuleNodePrivateProps(e.state.extensionProvider,r,o);case 7:i=t.sent,e.setState({_privateProps:i}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("Provided extension handler has thrown an error\n",t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,11]])})))),(0,o.Z)((0,N.Z)(e),"handleExtension",(function(t){var n,r,o,i=e.props,a=i.extensionHandlers,c=i.editorView,s=t.attrs,u=s.extensionType,l=s.extensionKey,d=s.parameters,p=s.text;if(!("bodiedExtension"===t.type.name)){var f,h=null==t||null===(n=t.marks)||void 0===n||null===(r=n.find((function(e){return"fragment"===e.type.name})))||void 0===r||null===(o=r.attrs)||void 0===o?void 0:o.localId,v={type:t.type.name,extensionType:u,extensionKey:l,parameters:d,content:p,localId:t.attrs.localId,fragmentLocalId:h};if(a&&a[u])f=(0,_O.c)(a[u])(v,c.state.doc);if(!f){var m=e.state.extensionProvider&&e.getNodeRenderer(e.state.extensionProvider,u,l);if(m){var g=m;return Z.createElement(g,{node:v,references:e.props.references})}}return f}})),e}return(0,D.Z)(n,[{key:"UNSAFE_componentWillMount",value:function(){this.mounted=!0}},{key:"componentDidMount",value:function(){var e=this.props.extensionProvider;e&&this.setStateFromPromise("extensionProvider",e)}},{key:"componentDidUpdate",value:function(){this.parsePrivateNodePropsIfNeeded()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.extensionProvider;t&&this.props.extensionProvider!==t&&this.setStateFromPromise("extensionProvider",t)}},{key:"render",value:function(){var e,t=this.props,n=t.node,r=t.handleContentDOMRef,o=t.editorView,i=t.references,a=t.editorAppearance,c=this.tryExtensionHandler();switch(n.type.name){case"extension":case"bodiedExtension":return Z.createElement(XO,{node:n,getPos:this.props.getPos,references:i,extensionProvider:this.state.extensionProvider,handleContentDOMRef:r,view:o,editorAppearance:a,hideFrame:null===(e=this.state._privateProps)||void 0===e?void 0:e.__hideFrame},c);case"inlineExtension":return Z.createElement(nS,{node:n},c);default:return null}}},{key:"tryExtensionHandler",value:function(){var e=this.props.node;try{var t=this.handleExtension(e);if(t&&Z.isValidElement(t))return t}catch(e){console.error("Provided extension handler has thrown an error\n",e)}return null}}]),n}(Z.Component);function aS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var cS=function(e){(0,j.Z)(n,e);var t=aS(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"renderWithProvider",(function(e){var t=e.extensionProvider,n=r.props,o=n.node,i=n.getPos,a=n.editorView,c=n.handleContentDOMRef,s=n.extensionHandlers,u=n.references,l=n.editorAppearance;return Z.createElement(iS,{editorView:a,node:o,getPos:i,references:u,extensionProvider:t,handleContentDOMRef:c,extensionHandlers:s,editorAppearance:l})})),r.providerFactory=e.providerFactory||new fb.Z,r}return(0,D.Z)(n,[{key:"componentWillUnmount",value:function(){this.props.providerFactory||this.providerFactory.destroy()}},{key:"render",value:function(){return Z.createElement(Rl.S,{providers:["extensionProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),n}(Z.Component);(0,o.Z)(cS,"displayName","Extension");var sS=n(35345);const uS=function(e){var t=e.children,n=e.nodeType;return Z.createElement("span",null,t,"inlineExtension"===n&&sS.$)};function lS(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var dS=function(e){(0,j.Z)(n,e);var t=lS(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"ignoreMutation",value:function(e){return this.node.type.isAtom||"selection"!==e.type&&"data-layout"!==e.attributeName}},{key:"getContentDOM",value:function(){if(!this.node.isInline){var e=document.createElement("div");return e.className="".concat(this.node.type.name,"-content-dom-wrapper"),{dom:e}}}},{key:"render",value:function(e,t){var n;return Z.createElement(uS,{nodeType:this.node.type.name},Z.createElement(cS,{editorView:this.view,node:this.node,getPos:this.getPos,providerFactory:e.providerFactory,handleContentDOMRef:t,extensionHandlers:e.extensionHandlers,editorAppearance:null===(n=e.extensionNodeViewOptions)||void 0===n?void 0:n.appearance}))}}]),n}(ql);function pS(e,t,n,r,o){return function(i,a,c){return new dS(i,a,c,e,t,{providerFactory:n,extensionHandlers:r,extensionNodeViewOptions:o},void 0,void 0,void 0,!0).init()}}var fS=n(25356),hS=n(89247),vS=n(80006),mS=n(62800);function gS(){gS=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var yS=function(){var e=(0,wc.Z)(gS().mark((function e(t,n){var r,o,i,a,c,s;return gS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,hS.Mm)(t.state,!0)){e.next=3;break}throw new Error("There is no selection");case 3:return o=r.node.attrs,i=o.extensionType,a=o.extensionKey,e.next=6,(0,AO._3)(n,i,a);case 6:if(c=e.sent,!(s=(0,hS.Mm)(t.state,!0))||s.node.attrs.extensionType!==i||s.node.attrs.extensionKey!==a||s.pos!==r.pos||!c){e.next=10;break}return e.abrupt("return",c.update);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bS=function(){var e=(0,wc.Z)(gS().mark((function e(t,n){var r;return gS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yS(t,n);case 3:return r=e.sent,(0,fS.xq)({showEditButton:!!r,updateExtension:r&&Promise.resolve(r)||void 0})(t.state,t.dispatch),e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}();function wS(){wS=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var kS=function(){var e=(0,wc.Z)(wS().mark((function e(t,n,r){var o;return wS().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||"object"!==(0,i.Z)(n)){e.next=4;break}return e.abrupt("return",n.update);case 4:if(!r){e.next=10;break}return e.next=7,bS(t,r);case 7:if(!(o=e.sent)){e.next=10;break}return e.abrupt("return",o);case 10:throw new Error("No update method available");case 11:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),ES=function(e){var t=e.view,n=e.prevState,r=e.domAtPos,o=e.extensionHandlers,a=t.state,c=t.dispatch,s=(0,vS.Lk)(a),u=s.element,l=s.localId,d=s.extensionProvider,p=s.showContextPanel,f=s.showEditButton,h=(0,hS.Mm)(a,!0);if(h){var v=h.node,m=(0,hS.fM)(a.schema,r,h),g=!f&&d&&u===m&&!(0,hS.Mm)(n,!0);if((v.attrs.localId?l!==v.attrs.localId:u!==m)||g){if(p)return void(0,fS.AR)(a,c);var y=o[v.attrs.extensionType],b=function(e,t){var n=!e&&!t||"function"==typeof e,r="object"===(0,i.Z)(e)&&"function"==typeof e.update;return!(!n&&!r)}(y,d),w=kS(t,y,d).catch((function(){}));(0,fS.xq)({localId:v.attrs.localId,showContextPanel:!1,element:m,showEditButton:b,updateExtension:w})(a,c)}else u!==m&&(0,fS.xq)({element:m})(a,c);return!0}p&&(0,fS.AR)(a,c)},xS=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=(0,vS.Ln)(e,{showEditButton:!1,showContextPanel:!1}),s={appearance:a.appearance};return new u.J({state:c,view:function(e){var r=e.domAtPos.bind(e),o=function(e){return function(){var t=(0,wc.Z)(wS().mark((function t(n,r){var o;return wS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("extensionProvider"!==n||!r){t.next=13;break}return t.prev=1,t.next=4,r;case 4:return o=t.sent,(0,fS.xq)({extensionProvider:o})(e.state,e.dispatch),t.next=8,bS(e,o);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),(0,fS.xq)({extensionProvider:void 0})(e.state,e.dispatch);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}()}(e),i=function(e){return function(){var t=(0,wc.Z)(wS().mark((function t(n,r){var o;return wS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("contextIdentifierProvider"!==n||!r){t.next=11;break}return t.prev=1,t.next=4,r;case 4:o=t.sent,(0,fS.xq)({contextIdentifierProvider:o})(e.state,e.dispatch),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),(0,fS.xq)({contextIdentifierProvider:void 0})(e.state,e.dispatch);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()}(e);return t.subscribe("extensionProvider",o),t.subscribe("contextIdentificationProvider",i),{update:function(e,t){ES({view:e,prevState:t,domAtPos:r,extensionHandlers:n})},destroy:function(){t.unsubscribe("extensionProvider",o),t.unsubscribe("contextIdentificationProvider",i)}}},key:mS.u,props:{nodeViews:{extension:pS(r,o,t,n,s),bodiedExtension:pS(r,o,t,n,s),inlineExtension:pS(r,o,t,n,s)},handleClickOn:xi(["extension","bodiedExtension"],(function(e){return!e.closest(".extension-content")}),{useLongPressSelection:i})}})};function OS(){var e={};return Re.E4(Re.YU.common,(function(e,t){return!!(0,vS.Lk)(e).showContextPanel&&(0,fS.AR)(e,t)}),e),(0,it.h)(e)}function SS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SS(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var TS=new g.PluginKey("extensionUniqueIdPlugin"),AS=n(46947),_S=n(65264),PS=n(74183),DS=n(78735);function ZS(){ZS=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function IS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IS(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var MS=function(e,t,n,r,o){switch(e){case"extension":return t.nodes.extension.createChecked(n,r,o);case"inlineExtension":return t.nodes.inlineExtension.createChecked(n,r,o);case"bodiedExtension":return t.nodes.bodiedExtension.create(n,r,o)}},RS=function(e,t,n,r,o){return function(i,a,c){if(!c)throw Error("EditorView is required to perform node update!");var s=c.state,u=c.dispatch,l=MS(e,s.schema,t,n,r);if(!l)return!1;var d=s.selection,f=s.schema.nodes,h=f.extension,v=f.inlineExtension,m=f.bodiedExtension,y=!!(0,W.a1)([m])(d),b=(0,vS.Lk)(s),w=PS.F.CURRENT_SELECTION,k=p.om.UPDATED,E=s.tr;if(l.type!==m||y){if((0,W.a1)([h,m,v])(d))(E=(0,W.Ig)(l)(E)).setSelection(g.NodeSelection.create(E.doc,E.mapping.map(s.selection.anchor)));else if(b.element){var x=c.posAtDOM(b.element,-1);x>-1?((E=E.replaceWith(x,x+(n.size||0)+1,l)).setSelection(g.Selection.near(E.doc.resolve(x))),w=PS.F.HTML_ELEMENT):k=p.om.ERRORED}}else(E=(0,W.BX)(s.schema.nodes.bodiedExtension,l)(E)).setSelection(g.TextSelection.create(E.doc,s.selection.anchor));if(u&&E.docChanged){var O=l.attrs,S=O.extensionType,C=O.extensionKey,T=O.layout,A=O.localId;(0,At.Gs)(s,E,{action:k,actionSubject:p.Wt.EXTENSION,actionSubjectId:l.type.name,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.CONFIG_PANEL,extensionType:S,extensionKey:C,layout:T,localId:A,selection:E.selection.toJSON(),targetSelectionSource:w}}),u(o?E.scrollIntoView():E)}return!0}},NS=function(e,t){return function(n,r,o){if(!o)return!1;var i=(0,vS.Lk)(n).localId,a=(0,hS.aN)(n,i);if(!a)return!1;var c=(0,DS.y)({view:o,macroProvider:e||void 0});if(t)t.then((function(t){if(t&&o){var i=(0,DS.P)({editorView:o,editInLegacyMacroBrowser:c});(function(e,t,n){return function(){var r=(0,wc.Z)(ZS().mark((function r(o,i,a){var c,s,u,l,d,p,f,h;return ZS().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=t.node,s=c.attrs,u=c.type,l=c.content,d=c.marks,o.schema.nodes[u.name]){r.next=3;break}return r.abrupt("return",!1);case 3:return p=s.parameters,r.prev=4,r.next=7,e(p,n);case 7:if(!(f=r.sent)){r.next=11;break}return h=LS(LS({},s),{},{parameters:LS(LS({},p),f)}),r.abrupt("return",RS(u.name,h,l,d,!0)(o,i,a));case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(4);case 15:return r.abrupt("return",!0);case 16:case"end":return r.stop()}}),r,null,[[4,13]])})));return function(e,t,n){return r.apply(this,arguments)}}()})(t,a,i)(n,r,o)}else t||!e||c()}));else{if(!e)return!1;c()}return!0}},jS=n(83149),FS=n(65599),BS=(0,Ze.vU)({edit:{id:"fabric.editor.edit",defaultMessage:"Edit",description:"Edit the properties for this extension."},deleteElementTitle:{id:"fabric.editor.extension.deleteElementTitle",defaultMessage:"Delete element",description:"Title text for confirm modal when deleting an extension linked to a data consumer."},unnamedSource:{id:"fabric.editor.extension.sourceNoTitledName",defaultMessage:"this element",description:"The current element without preset name been selected"},confirmDeleteLinkedModalOKButton:{id:"fabric.editor.extension.confirmDeleteLinkedModalOKButton",defaultMessage:"Delete",description:"Action button label for confirm modal when deleting an extension linked to a data consumer."},confirmDeleteLinkedModalMessage:{id:"fabric.editor.extension.confirmDeleteLinkedModalMessage",defaultMessage:"Deleting {nodeName} will break anything connected to it.",description:"Message for confirm modal when deleting a extension linked to an data consumer."},confirmModalCheckboxLabel:{id:"fabric.editor.floatingToolbar.confirmModalCheckboxLabel",defaultMessage:"Also delete connected elements",description:"checkbox label text"}}),zS=function(e,t,n,r){var o=(0,hS.Mm)(e,!0);if(o&&r&&function(e,t){var n=e.schema.nodes,r=n.bodiedExtension,o=n.extension,i=n.layoutSection,a=n.table,c=n.expand,s=e.selection;return!!t&&!(t.node.type!==r&&(t.node.type!==o||(0,W.bw)([r,a,c].filter(Boolean))(s))||(0,W.bw)([i])(s))}(e,o)){var i=o.node.attrs.layout;return[{type:"button",icon:_S.Z,onClick:(0,fS.CO)("default"),selected:"default"===i,title:t(Q.ZP.layoutFixedWidth),tabIndex:null},{type:"button",icon:mf.Z,onClick:(0,fS.CO)("wide"),selected:"wide"===i,title:t(Q.ZP.layoutWide),tabIndex:null},{type:"button",icon:gf.Z,onClick:(0,fS.CO)("full-width"),selected:"full-width"===i,title:t(Q.ZP.layoutFullWidth),tabIndex:null}]}return[]},US=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var r=n.formatMessage,o=(0,vS.Lk)(t);if(o&&!o.showContextPanel&&o.element){var i,a=[t.schema.nodes.extension,t.schema.nodes.inlineExtension,t.schema.nodes.bodiedExtension],c=function(e,t){return t.showEditButton?[{id:"editor.extension.edit",type:"button",icon:AS.Z,testId:"extension-toolbar-edit-button",onClick:function(e,t,n){var r=jS.u.getState(e),o=(0,vS.Lk)(e).updateExtension;return NS(r&&r.macroProvider,o)(e,t,n),!0},title:e(BS.edit),tabIndex:null,focusEditoronEnter:!0}]:[]}(r,o),u=zS(t,r,0,e),l=(0,hS.Mm)(t,!0);return(0,FS.f6)(t,null==l?void 0:l.node)&&(i=function(){var e=r(BS.unnamedSource);return{title:r(BS.deleteElementTitle),okButtonLabel:r(BS.confirmDeleteLinkedModalOKButton),message:r(BS.confirmDeleteLinkedModalMessage,{nodeName:(0,FS.wk)(t,null==l?void 0:l.node)||e}),isReferentialityDialog:!0,getChildrenInfo:function(){return(0,FS.CJ)(t,null==l?void 0:l.node)},checkboxLabel:r(BS.confirmModalCheckboxLabel),onConfirm:function(){return VS(arguments.length>0&&void 0!==arguments[0]&&arguments[0],null==l?void 0:l.node)}}}),{title:"Extension floating controls",getDomRef:function(){return o.element.parentElement||void 0},nodeType:a,items:[].concat((0,s.Z)(c),(0,s.Z)(u),[{type:"separator",hidden:0===c.length&&0===u.length},{type:"extensions-placeholder",separator:"end"},{type:"copy-button",items:[{state:t,formatMessage:n.formatMessage,nodeType:a},{type:"separator"}]},{id:"editor.extension.delete",type:"button",icon:Ya.Z,appearance:"danger",onClick:(0,fS.yZ)(),onMouseEnter:(0,Xa.pP)(a,!0),onMouseLeave:(0,Xa.pP)(a,!1),onFocus:(0,Xa.pP)(a,!0),onBlur:(0,Xa.pP)(a,!1),focusEditoronEnter:!0,title:r(Q.ZP.remove),tabIndex:null,confirmDialog:i}]),scrollable:!0}}}},VS=function(e,t){return function(n,r){return!!t&&(e?(0,fS.FC)(t)(n,r):(0,fS.yZ)()(n,r),!0)}},HS=n(96767),WS=n(4852),GS=n(59222);const qS=xo()({loader:function(){return Promise.all([n.e(3507),n.e(7428),n.e(8641),n.e(3146),n.e(7703),n.e(2268),n.e(2308),n.e(42),n.e(681)]).then(n.bind(n,45232)).then((function(e){return e.default}))},loading:GS.Z});var KS,$S,JS,YS=n(33068),XS=(0,Ze.vU)({saveIndicator:{id:"fabric.editor.extensions.config-panel.save-indicator",defaultMessage:"All changes are always autosaved",description:"Message shown to the user to notify to them that we save the changes automatically."}}),QS=function(){},eC=(0,U.iv)(KS||(KS=(0,z.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),tC=(0,U.iv)($S||($S=(0,z.Z)(["\n  position: fixed;\n  width: 256px;\n  bottom: 20px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 6px 12px;\n\n  background: ",";\n\n  /* E300 */\n  box-shadow: ",";\n  border-radius: 16px;\n"])),"var(--ds-surface-overlay, ".concat(V.N0,")"),"var(--ds-shadow-overlay, ".concat("0px 8px 12px rgba(9, 30, 66, 0.15), 0px 0px 1px rgba(9, 30, 66, 0.31)",")")),nC=(0,U.iv)(JS||(JS=(0,z.Z)(["\n  padding-left: 6px;\n"]))),rC=function(e){var t=e.children,n=e.duration,r=e.visible,o=void 0===r||r,i=(0,Z.useState)(!1),a=(0,sr.Z)(i,2),c=a[0],s=a[1],u=(0,Z.useRef)(!1),l=(0,Z.useCallback)((function(){u.current||(s(!0),u.current=!0)}),[]);return(0,Z.useEffect)((function(){if(c){var e=setTimeout((function(){s(!1)}),n);return function(){return clearTimeout(e)}}}),[c,n]),(0,U.tZ)(Z.Fragment,null,(0,U.tZ)("div",null,t({onSaveStarted:l,onSaveEnded:QS})),o&&c&&(0,U.tZ)("div",{css:eC},(0,U.tZ)("div",{css:tC,"data-testid":"save-indicator-content"},(0,U.tZ)(YS.Z,{label:"Saving",primaryColor:"var(--ds-icon-success, ".concat(V.eE,")"),size:"small"}),(0,U.tZ)("span",{css:nC},(0,U.tZ)(Bg.Z,XS.saveIndicator)))))};function oC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oC(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aC(){aC=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var cC=function(e,t){if("object"===(0,i.Z)(e)&&"object"===(0,i.Z)(t)&&null!==e&&null!==t){var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every((function(n){return e[n]===t[n]}))}return e===t},sC=function(e,t){return function(n){var r=(0,hS.Mm)(n,!0);if(r){var o=(0,vS.Lk)(n),i=o.autoSaveResolve,a=o.autoSaveReject,c=o.showContextPanel,s=o.extensionProvider,u=o.processParametersBefore,l=o.processParametersAfter;if(o&&c&&s&&l){var d=r.node.attrs,p=d.extensionType,f=d.extensionKey,h=d.parameters,v=(0,HS.tz)(f,p),m=(0,sr.Z)(v,2),g=m[0],y=m[1],b=u?u(h||{}):h;return Z.createElement(rC,{duration:5e3,visible:e},(function(n){var o=n.onSaveStarted,c=n.onSaveEnded;return Z.createElement(WS.Z,{render:function(n){var u=n._privateGetEditorView();return u?Z.createElement(qS,{showHeader:!0,closeOnEsc:!0,extensionType:p,extensionKey:g,nodeKey:y,extensionParameters:h,parameters:b,extensionProvider:s,autoSave:e,autoSaveTrigger:i,autoSaveReject:a,onChange:function(){var t=(0,wc.Z)(aC().mark((function t(n){return aC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,uC(u,n,h,r,o);case 2:c(),i&&i(),e||(0,fS.AR)(u.state,u.dispatch);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onCancel:(0,wc.Z)(aC().mark((function t(){return aC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=9;break}return t.prev=1,t.next=4,new Promise((function(e,t){(0,fS.PT)(e,t)(u.state,u.dispatch)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error("Autosave failed with error",t.t0);case 9:(0,fS.AR)(u.state,u.dispatch);case 10:case"end":return t.stop()}}),t,null,[[1,6]])}))),featureFlags:t}):null}})}))}}}};function uC(e){return lC.apply(this,arguments)}function lC(){return lC=(0,wc.Z)(aC().mark((function e(t){var n,r,i,a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O=arguments;return aC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=O.length>1&&void 0!==O[1]?O[1]:{},r=O.length>2&&void 0!==O[2]?O[2]:{},i=O.length>3?O[3]:void 0,a=O.length>4?O[4]:void 0,c=(0,vS.Lk)(t.state),s=c.processParametersAfter,u=c.processParametersBefore,s){e.next=7;break}return e.abrupt("return");case 7:if(l=u?u(r):r,!cC(l,n)){e.next=10;break}return e.abrupt("return");case 10:return a&&a(),d=Date.now(),p=(0,vS.Lk)(t.state),f=p.positions,e.next=15,(0,fS.xq)({positions:iC(iC({},f),{},(0,o.Z)({},d,i.pos))})(t.state,t.dispatch);case 15:return e.next=17,s(n);case 17:if(h=e.sent,v=(0,vS.Lk)(t.state),m=v.positions){e.next=21;break}return e.abrupt("return");case 21:if(d in m){e.next=23;break}return e.abrupt("return");case 23:if(g=i.node,y=MS(i.node.toJSON().type,t.state.schema,iC(iC({},g.attrs),{},{parameters:iC(iC({},r),h)}),g.content,g.marks)){e.next=27;break}return e.abrupt("return");case 27:return b=m[d],w=t.state.tr.replaceWith(b,b+y.nodeSize,y),(k=t.state.selection).eq(w.selection)||(E=(0,Sn.tx)(k,w.doc))&&w.setSelection(E),delete(x=iC({},(0,vS.Lk)(t.state).positions))[d],e.next=35,(0,fS.xq)({positions:x})(t.state,t.dispatch);case 35:t.dispatch(w);case 36:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}const dC=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=(null==r||null===(e=r.dependencies)||void 0===e||null===(t=e.featureFlags)||void 0===t?void 0:t.sharedState.currentState())||{};return{name:"extension",nodes:function(){return[{name:"extension",node:SO.A},{name:"bodiedExtension",node:CO.H},{name:"inlineExtension",node:TO.m}]},pmPlugins:function(){return[{name:"extension",plugin:function(e){var t=e.dispatch,r=e.providerFactory,o=e.portalProviderAPI,i=e.eventDispatcher,a=n.extensionHandlers||{};return xS(t,r,a,o,i,n.useLongPressSelection,{appearance:n.appearance})}},{name:"extensionKeymap",plugin:OS},{name:"extensionUniqueId",plugin:function(){return new u.J({appendTransaction:function(e,t,n){var r=n.tr,o=r.selection.getBookmark(),i=!1,a=n.schema.nodes,c=a.extension,s=a.bodiedExtension,u=a.inlineExtension,l=new Set([c,s,u]),d=new Set;if(e.forEach((function(e){e.docChanged&&e.steps.some((function(e){return(0,ms.v1)(e,l)}))&&n.doc.descendants((function(e,t){var n=e.attrs.localId;return!e.type||!l.has(e.type)||(n&&!d.has(n)?d.add(n):n&&!d.has(n)||(i=!0,r.setNodeMarkup(t,void 0,CS(CS({},e.attrs),{},{localId:bw.V.generate()}))),e.type===s)}))})),i)return r.setSelection(o.resolve(r.doc))},key:TS})}}]},pluginsOptions:{floatingToolbar:US(n.breakoutEnabled),contextPanel:sC(n.allowAutoSave,o)}}};var pC=n(13838);function fC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fC(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const vC=function(){return{name:"macro",pmPlugins:function(){return[{name:"macro",plugin:function(e){return function(e,t){return new u.J({state:{init:function(){return{macroProvider:null}},apply:function(t,n){var r=t.getMeta(jS.u);if(r){var o=hC(hC({},n),r);return e(jS.u,o),o}return n}},key:jS.u,view:function(e){var n=function(t,n){return n&&(0,pC.ZI)(n)(e)};return e.dom.parentNode&&t.subscribe("macroProvider",n),{destroy:function(){t.unsubscribe("macroProvider",n)}}}})}(e.dispatch,e.providerFactory)}}]}}};var mC,gC=n(30491),yC=n(1101);!function(e){e.COMPONENT="component",e.CONSUMER="consumer",e.ORPHANED="orphaned"}(mC||(mC={}));var bC=n(1282);function wC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var kC=function(e){(0,j.Z)(n,e);var t=wC(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"createDomRef",value:function(){return document.createElement("span")}},{key:"getContentDOM",value:function(){var e=document.createElement("span");return e.className="ak-editor-annotation",{dom:e}}},{key:"render",value:function(e,t){return Z.createElement("span",{"data-mark-type":"annotation",ref:t})}}]),n}(ql),EC=function(e,t){if(e)return t?bC.qH.focus:bC.qH.blur},xC=n(28391),OC=n(76123);function SC(){SC=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var CC=function(){var e=(0,wc.Z)(SC().mark((function e(t,n){var r,o;return SC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getState(n);case 2:return r=e.sent,o={},r.forEach((function(e){e.annotationType===gC.j9.INLINE_COMMENT&&(o[e.id]=e.state.resolved)})),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),TC=function(){var e=(0,wc.Z)(SC().mark((function e(t,n,r){var o;return SC().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,CC(t,n);case 4:o=e.sent,r.dispatch&&(0,yC.uH)(o)(r.state,r.dispatch);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),AC=function(){return{annotations:{},selectedAnnotations:[],mouseData:{isSelecting:!1},disallowOnWhitespace:arguments.length>0&&void 0!==arguments[0]&&arguments[0],isVisible:!0}},_C=function(e){var t=e.provider,n=e.portalProviderAPI,r=e.eventDispatcher;return new u.J({key:xC.JC,state:(0,OC.L)(e.dispatch,AC(t.disallowOnWhitespace)),view:function(e){TC(t,(0,xC.wC)(e.state.doc),e);var n=function(t){return(n=e.state,r=e.dispatch,function(e){(0,yC.uH)((0,o.Z)({},e,!0),mC.CONSUMER)(n,r)})(t);var n,r},r=function(t){return(n=e.state,r=e.dispatch,function(e){(0,yC.uH)((0,o.Z)({},e,!1))(n,r)})(t);var n,r},i=function(t){return(n=e.state,r=e.dispatch,function(e){(0,xC.Lk)(n).mouseData.isSelecting&&(0,yC.J$)({isSelecting:!1})(n,r)})(t);var n,r},a=function(t){return function(e){return function(t){var n=e.state,r=e.dispatch;(0,yC.y9)(t)(n,r),t&&e.focus()}}(e)(t)},c=t.updateSubscriber;return c&&c.on("resolve",n).on("delete",n).on("unresolve",r).on("create",r).on("setvisibility",a),e.root.addEventListener("mouseup",i),{update:function(e,n){(0,xC.Lk)(e.state).dirtyAnnotations&&((0,yC.A8)()(e.state,e.dispatch),TC(t,(0,xC.wC)(e.state.doc),e))},destroy:function(){e.root.removeEventListener("mouseup",i),c&&c.off("resolve",n).off("delete",n).off("unresolve",r).off("create",r).off("setvisibility",a)}}},props:{nodeViews:{annotation:function(e,t,o){return new kC(e,t,o,n,r).init()}},handleDOMEvents:{mousedown:function(e){var t,n;return(0,xC.Lk)(e.state).mouseData.isSelecting||(t=e.state,n=e.dispatch,function(){(0,yC.J$)({isSelecting:!0})(t,n)})(),!1}},decorations:function(e){var t=(0,xC.Lk)(e),n=t.draftDecorationSet,r=t.annotations,o=t.selectedAnnotations,i=t.isVisible,a=null!=n?n:tn.EH.empty,c=[];return e.doc.descendants((function(t,n){t.marks.filter((function(t){return t.type===e.schema.marks.annotation})).forEach((function(e){var a=o.some((function(t){return t.id===e.attrs.id})),s=!1===r[e.attrs.id];i&&c.push(tn.p.inline(n,n+t.nodeSize,{class:"".concat(EC(s,a)," ").concat(s),nodeName:"span"}))}))})),a=a.add(e.doc,c),a}}})},PC=n(35368);function DC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var ZC=function(e){(0,j.Z)(n,e);var t=DC(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props.onViewed;e&&e()}},{key:"render",value:function(){return this.props.children}}]),n}(Z.PureComponent),IC=n(94317);function LC(e){var t,n=e.providers,r=e.editorView,i=e.dispatchAnalyticsEvent,a=n.inlineComment,c=r.state,s=r.dispatch,u=a.createComponent,l=a.viewComponent,d=(0,xC.Lk)(c),f=d.bookmark,h=d.selectedAnnotations,v=d.annotations,m=(0,xC.A8)(c,d),g=function(e){var t=e.$from,n=e.from,r=t.index();return!(r<t.parent.childCount&&t.parent.child(r))&&t.nodeBefore&&t.nodeBefore.isText&&t.nodeBefore.marks.find((function(e){return"annotation"===e.type.name}))?n-1:n}(m);try{t=(0,W.TM)(g,r.domAtPos.bind(r))}catch(e){if(console.warn(e),i){var y={action:p.om.ERRORED,actionSubject:p.Wt.CONTENT_COMPONENT,eventType:p.Ze.OPERATIONAL,attributes:{component:p.nI.INLINE_COMMENT,selection:m.toJSON(),position:g,docSize:r.state.doc.nodeSize,error:e.toString()},nonPrivacySafeAttributes:{errorStack:e.stack||void 0}};i(y)}}if(!t)return null;if(f){if(!u)return null;var b=c.doc.textBetween(m.from,m.to);return Z.createElement("div",{"data-testid":IC.a.floatingComponent,"data-editor-popup":"true"},Z.createElement(u,{dom:t,textSelection:b,onCreate:function(e){(0,yC.Bh)(e)(r.state,r.dispatch),!r.hasFocus()&&r.focus()},onClose:function(){(0,yC.u1)(!1)(r.state,r.dispatch),!r.hasFocus()&&r.focus()}}))}var w=h.filter((function(e){return!1===v[e.id]}));if(!l||0===w.length)return null;return h?Z.createElement(ZC,{"data-editor-popup":"true","data-testid":IC.a.floatingComponent,key:(0,xC.Sh)(w),onViewed:function(){if(i){var e={action:p.om.VIEWED,actionSubject:p.Wt.ANNOTATION,actionSubjectId:p.VJ.INLINE_COMMENT,eventType:p.Ze.TRACK,attributes:{overlap:w.length?w.length-1:0}};i(e)}}},Z.createElement(l,{annotations:w,dom:t,onDelete:function(e){return(0,yC.gZ)(e)(c,s)},onResolve:function(e){return(0,yC.uH)((0,o.Z)({},e,!0),mC.COMPONENT)(r.state,r.dispatch)},onClose:function(){(0,yC.C6)()(r.state,r.dispatch)}})):null}const MC=function(e){return{name:"annotation",marks:function(){return[{name:"annotation",mark:gC.dQ}]},pmPlugins:function(){return[{name:"annotation",plugin:function(t){var n=t.dispatch,r=t.portalProviderAPI,o=t.eventDispatcher;if(e)return _C({dispatch:n,portalProviderAPI:r,eventDispatcher:o,provider:e.inlineComment})}},{name:"annotationKeymap",plugin:function(){if(e)return function(){var e={};return(0,Re.E4)(Re.KK.common,(0,yC.u1)(!0,p.Jq.SHORTCUT),e),(0,it.h)(e)}()}}]},pluginsOptions:{floatingToolbar:function(t,n){if(e){var r=(0,xC.Lk)(t);if(r&&r.isVisible&&!r.bookmark&&!r.mouseData.isSelecting){var o=e.inlineComment.isToolbarAbove;return(0,PC.E)(t,n,o)}}}},contentComponent:function(t){var n=t.editorView,r=t.dispatchAnalyticsEvent;return e?Z.createElement(M.Z,{plugins:{selectionState:Kl.SL,inlineCommentState:xC.JC},render:function(t){var o=t.inlineCommentState;return o&&!o.isVisible?null:Z.createElement("div",{"data-editor-popup":"true"},Z.createElement(LC,{providers:e,editorView:n,dispatchAnalyticsEvent:r}))}}):null}}};var RC=n(48312),NC=n(59045),jC=new g.PluginKey("datePlugin"),FC=n(27502),BC=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(o,i){var a,c=o.schema;a=e?Date.UTC(e.year,e.month-1,e.day).toString():(0,NC.oS)();var s=o.tr;t&&(0,At.Gs)(o,s,{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.DATE,eventType:p.Ze.TRACK,attributes:{inputMethod:t}}),n&&(0,At.Gs)(o,s,{eventType:p.Ze.TRACK,action:p.om.COMMITTED,actionSubject:p.Wt.DATE,attributes:{commitMethod:n,isValid:void 0!==e,isToday:(0,FC.zk)(e)}});var u=jC.getState(o).showDatePickerAt;if(!u){var l=c.nodes.date.createChecked({timestamp:a}),d=o.schema.text(" "),f=on.Fragment.fromArray([l,d]),h=o.selection,v=h.from,m=h.to;if((0,W.om)(s.selection.$from,f))s.replaceWith(v,m,f).setSelection(g.NodeSelection.create(s.doc,v));else{var y=g.NodeSelection.create(s.doc,s.selection.from-s.selection.$anchor.parentOffset-1);s.insert(y.to,f).setSelection(g.NodeSelection.create(s.doc,y.to+1))}return i&&i(s.scrollIntoView().setMeta(jC,{isNew:!0})),!0}return!!o.doc.nodeAt(u)&&(r&&(s=s.setSelection(g.Selection.near(s.doc.resolve(u+2)))),s=s.setNodeMarkup(u,c.nodes.date,{timestamp:a}).setMeta(jC,{isNew:!1}).scrollIntoView(),r||(s=s.setSelection(g.NodeSelection.create(s.doc,u))),i&&i(s),!0)}},zC=function(){return function(e,t){var n=jC.getState(e).showDatePickerAt;return!!t&&(t(n?e.tr.setMeta(jC,{showDatePickerAt:null,isNew:!1}).setSelection(g.Selection.near(e.tr.doc.resolve(n+2))):e.tr.setMeta(jC,{isNew:!1})),!1)}},UC=n(30467),VC=n(37008),HC=n(95927),WC=n(70631),GC=n(95036),qC=function(e){var t=(0,VC.m)(),n=(0,HC.Z)(function(e){switch(e){case"red":var t=["var(--ds-background-accent-red-subtlest, ".concat(GC.r6,")"),"var(--ds-text-accent-red, ".concat(GC.gR,")"),"var(--ds-background-accent-red-subtler, ".concat(GC.Xd,")")];return{light:t,dark:t};case"yellow":var n=["var(--ds-background-accent-yellow-subtlest, ".concat(GC.S_,")"),"var(--ds-text-accent-yellow, ".concat(GC.zx,")"),"var(--ds-background-accent-yellow-subtler, ".concat(GC.a8,")")];return{light:n,dark:n};case"blue":var r=["var(--ds-background-accent-blue-subtlest, ".concat(GC.BA,")"),"var(--ds-text-accent-blue, ".concat(GC.YC,")"),"var(--ds-background-accent-blue-subtler, ".concat(GC.tE,")")];return{light:r,dark:r};case"green":var o=["var(--ds-background-accent-green-subtlest, ".concat(GC.ER,")"),"var(--ds-text-accent-green, ".concat(GC.VB,")"),"var(--ds-background-accent-green-subtler, ".concat(GC.RY,")")];return{light:o,dark:o};case"purple":var i=["var(--ds-background-accent-purple-subtlest, ".concat(GC.jJ,")"),"var(--ds-text-accent-purple, ".concat(GC.J1,")"),"var(--ds-background-accent-purple-subtler, ".concat(GC.kJ,")")];return{light:i,dark:i};default:return{light:["var(--ds-background-neutral, ".concat(GC.kd,")"),"var(--ds-text, ".concat(GC.q2,")"),"var(--ds-background-neutral-hovered, ".concat(GC.YS,")")],dark:["var(--ds-background-neutral, ".concat(GC.nA,")"),"var(--ds-text, ".concat(GC.vs,")"),"var(--ds-background-neutral-hovered, ".concat(GC.mn,")")]}}}(e.color))({theme:t});""===n&&(n=["","",""]);var r=n,o=(0,sr.Z)(r,3),i=o[0],a=o[1],c=o[2];return(0,U.tZ)("span",{css:{borderRadius:(0,WC.E0)(),padding:"2px 4px",margin:"0 1px",position:"relative",transition:"background 0.3s",whiteSpace:"nowrap",cursor:e.onClick?"pointer":"unset",background:i,color:a,"&:hover":{background:c}}},e.children)};function KC(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var $C=function(e){return!!e.onClick},JC=function(e){(0,j.Z)(n,e);var t=KC(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"handleOnClick",(function(t){$C(e.props)&&e.props.onClick(e.props.value,t)})),(0,o.Z)((0,N.Z)(e),"renderContent",(function(){return e.props.children?"function"==typeof e.props.children?e.props.children(e.props):e.props.children:(0,Tp.Z)(e.props.value,e.props.format||"")})),e}return(0,D.Z)(n,[{key:"render",value:function(){return Z.createElement(qC,{className:this.props.className,onClick:$C(this.props)?this.handleOnClick:void 0,color:this.props.color},this.renderContent())}}]),n}(Z.Component);function YC(e){var t=e.node.attrs.timestamp,n=e.view.state,r=n.doc,o=n.schema,i=n.selection,a=e.getPos,c=(0,De.Z)(),s=("function"==typeof a?r.resolve(a()):i.$from).parent,u=s.type===o.nodes.taskItem&&"DONE"!==s.attrs.state,l=u&&(0,NC.Cb)(t)?"red":void 0;return Z.createElement("span",{className:UC.r.DATE_WRAPPER,onClick:function(t){t.nativeEvent.stopImmediatePropagation();var n=e.view,r=n.state,o=n.dispatch;(i=r.selection.from,function(e,t){return t(e.tr.setMeta(jC,{showDatePickerAt:i})),!0})(r,o);var i}},Z.createElement(JC,{color:l,value:t},u?(0,NC.S8)(t,c):(0,NC.jV)(t,c)))}function XC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XC(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,o.Z)(JC,"displayName","Date"),(0,o.Z)(JC,"defaultProps",{format:"dd/MM/yyyy",color:"grey"});var eT=function(e){return e instanceof g.NodeSelection&&"date"===e.node.type.name},tT=(0,On.H)(jC,(function(e,t){if(t.showDatePickerAt===e.showDatePickerAt)return QC(QC({},e),{},{showDatePickerAt:null});var n=e.showDatePickerAt,r=e.isNew,o=t.showDatePickerAt;return n&&o&&n!==o&&r?QC(QC(QC({},e),t),{},{isNew:!1}):QC(QC({},e),t)}),{mapping:function(e,t){return t.showDatePickerAt?{showDatePickerAt:e.mapping.mapResult(t.showDatePickerAt).pos,isNew:t.isNew,isDateEmpty:t.isDateEmpty,focusDateInput:t.focusDateInput}:t},onSelectionChanged:function(e,t){return e.docChanged&&eT(e.selection)?QC(QC({},t),{},{isQuickInsertAction:!1,showDatePickerAt:e.selection.from}):eT(e.selection)||t.isQuickInsertAction?t:t.showDatePickerAt?{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}:t}}),nT=tT.createPluginState,rT=tT.getPluginState;const oT=function(e){return new u.J({state:nT(e.dispatch,{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}),key:jC,props:{nodeViews:{date:(0,Gy.J)({pmPluginFactoryParams:e,Component:YC})}}})};const iT=function(){var e={};return Re.E4(Re.IO.common,(function(e,t){var n=rT(e);return e.selection instanceof g.NodeSelection&&e.selection.node.type===e.schema.nodes.date&&(n.showDatePickerAt?(zC()(e,t),!0):(function(e,t){var n=e.selection.$from,r=e.doc.nodeAt(n.pos);if(r&&r.type.name===e.schema.nodes.date.name){var o=n.pos;t&&t(e.tr.setMeta(jC,{showDatePickerAt:o}).setSelection(g.NodeSelection.create(e.doc,o)))}}(e,t),!0))}),e),Re.E4(Re.n2.common,(function(e,t){var n=rT(e);return!!(e.selection instanceof g.NodeSelection&&e.selection.node.type===e.schema.nodes.date)&&(!!n.showDatePickerAt&&(function(e,t){null!==jC.getState(e).showDatePickerAt&&!!t&&t(e.tr.setMeta(jC,{focusDateInput:!0}))}(e,t),!0))}),e),(0,it.h)(e)};function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aT(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sT(e,t){var n,r,i,a,c,s,u,l=(0,Z.useMemo)((function(){return t.reduce((function(t,n){return cT(cT({},t),{},(0,o.Z)({},"".concat(n,"State"),null==e?void 0:e.dependencies[n]))}),{})}),[null==e?void 0:e.dependencies,t]);return n=l,r=(0,Z.useState)((s=n,u=function(e){return null==e?void 0:e.sharedState.currentState()},Object.entries(s).reduce((function(e,t){var n=(0,sr.Z)(t,2),r=n[0],i=n[1];return cT(cT({},e),{},(0,o.Z)({},r,u(i)))}),{}))),i=(0,sr.Z)(r,2),a=i[0],c=i[1],(0,Z.useEffect)((function(){var e=Object.entries(n).map((function(e){var t=(0,sr.Z)(e,2),n=t[0],r=t[1];return null==r?void 0:r.sharedState.onChange((function(e){var t=e.nextSharedState;e.prevSharedState!==t&&c((function(e){return cT(cT({},e),{},(0,o.Z)({},n,t))}))}))}));return function(){e.forEach((function(e){return null==e?void 0:e()}))}}),[n]),a}var uT=xo()({loader:function(){return Promise.all([n.e(7428),n.e(8641),n.e(1817)]).then(n.bind(n,54755)).then((function(e){return e.default}))},loading:function(){return null}});function lT(e){var t=e.editorView,n=e.dispatchAnalyticsEvent,r=e.popupsMountPoint,o=e.popupsBoundariesElement,i=e.popupsScrollableElement,a=e.dependencyApi,c=t.dispatch,s=t.domAtPos.bind(t),u=sT(a,["date","editorDisabled"]),l=u.editorDisabledState,d=u.dateState;if(null==d||!d.showDatePickerAt||null!=l&&l.editorDisabled)return null;var f=d.showDatePickerAt,h=d.isNew,v=d.focusDateInput,m=(0,W.TM)(f,s);return Z.createElement(uT,{mountTo:r,boundariesElement:o,scrollableElement:i,key:f,element:m,isNew:h,autoFocus:v,onDelete:function(){!function(e,t){var n=jC.getState(e).showDatePickerAt;if(null===n)return!1;var r=e.tr.delete(n,n+1).setMeta(jC,{showDatePickerAt:null,isNew:!1});t&&t(r)}(t.state,c),t.focus()},onSelect:function(e,n){null!=e&&(BC(e,void 0,n)(t.state,c),t.focus())},onTextChanged:function(e){BC(e,void 0,void 0,!1)(t.state,c)},closeDatePicker:function(){zC()(t.state,c),t.focus()},closeDatePickerWithAnalytics:function(e){!function(e){var t=e.date;return(0,At.wi)({eventType:p.Ze.TRACK,action:p.om.COMMITTED,actionSubject:p.Wt.DATE,attributes:{commitMethod:p.Jq.BLUR,isValid:void 0!==t,isToday:(0,FC.zk)(t)}})(zC())}({date:e.date})(t.state,c),t.focus()},dispatchAnalyticsEvent:n})}const dT=function(e,t){return{name:"date",getSharedState:function(e){if(!e)return{showDatePickerAt:null,isNew:!1,focusDateInput:!1};var t=jC.getState(e);return{showDatePickerAt:t.showDatePickerAt,isNew:t.isNew,focusDateInput:t.focusDateInput}},nodes:function(){return[{name:"date",node:RC.h}]},pmPlugins:function(){return[{name:"date",plugin:function(e){return uT.preload(),oT(e)}},{name:"dateKeymap",plugin:function(){return uT.preload(),iT()}}]},contentComponent:function(e){var n=e.editorView,r=e.dispatchAnalyticsEvent,o=e.popupsMountPoint,i=e.popupsBoundariesElement,a=e.popupsScrollableElement;return Z.createElement(lT,{dependencyApi:t,editorView:n,dispatchAnalyticsEvent:r,popupsMountPoint:o,popupsBoundariesElement:i,popupsScrollableElement:a})},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"date",title:t(Jo.S.date),description:t(Jo.S.dateDescription),priority:800,keywords:["calendar","day","time","today","/"],keyshortcut:"//",icon:function(){return Z.createElement(To,null)},action:function(e,t){var n,r=(n=!0,function(e,t){var r=t.schema.nodes.date.createChecked({timestamp:(0,NC.oS)()}),o=t.schema.text(" "),i=e(on.Fragment.from([r,o]),{selectInlineNode:!0}),a={isQuickInsertAction:n,showDatePickerAt:i.selection.from,isNew:!0,isDateEmpty:!1,focusDateInput:!1};return i.setMeta(jC,a)})(e,t);return(0,At.Gs)(t,r,{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.DATE,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.QUICK_INSERT}}),r}}]}}}};var pT=n(4950),fT=n(63021);function hT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var vT=function(){function e(t){(0,P.Z)(this,e),(0,o.Z)(this,"pos",void 0),(0,o.Z)(this,"visible",!1),this.pos=t}return(0,D.Z)(e,[{key:"map",value:function(t){return new e(t.map(this.pos))}},{key:"resolve",value:function(e){var t=e.resolve(this.pos);return g.Selection.near(t)}}]),e}(),mT=function(e){(0,j.Z)(n,e);var t=hT(n);function n(e){return(0,P.Z)(this,n),t.call(this,e,e)}return(0,D.Z)(n,[{key:"map",value:function(e,t){return new n(e.resolve(t.map(this.$head.pos)))}},{key:"eq",value:function(e){return e instanceof n&&e.head===this.head}},{key:"toJSON",value:function(){return{type:"Cursor",pos:this.head}}},{key:"getBookmark",value:function(){return new vT(this.anchor)}}],[{key:"content",value:function(){return on.Slice.empty}},{key:"fromJSON",value:function(e,t){return new n(e.resolve(t.pos))}}]),n}(g.Selection);g.Selection.jsonID("fake-text-cursor",mT);var gT,yT,bT=function(e){if(!(e.selection instanceof mT))return null;var t=document.createElement("div");return t.className="ProseMirror-fake-text-cursor",tn.EH.create(e.doc,[tn.p.widget(e.selection.head,t,{key:"Cursor"})])},wT=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},kT=function(e,t,n){return function(r){if(!e)return r;var o=function(e){return parseFloat(window.getComputedStyle(e,void 0).lineHeight||"")}(wT(t)),i=function(e,t,n){var r=t.getBoundingClientRect(),o=r.left,i=r.top,a=r.height;return{left:e.left-o,right:e.right-o,top:e.top-(i-n)+t.scrollTop,bottom:a-(e.top-(i-n)-t.scrollTop)}}(n(),e,o);return{left:r.left?i.left:void 0,right:r.right?i.right:void 0,top:r.top?i.top:void 0,bottom:r.bottom?i.bottom:void 0}}};function ET(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var xT=function(e){(0,j.Z)(n,e);var t=ET(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.target,o=t.offset,i=t.fitWidth,a=t.fitHeight,c=void 0===a?40:a,s=t.onPositionCalculated,u=t.popupsMountPoint,l=t.popupsBoundariesElement,d=t.className,p=t.alignX,f=t.alignY,h=t.zIndex;return r?(0,U.tZ)(G.Z,{alignX:p,alignY:f,target:r,zIndex:h,mountTo:u,boundariesElement:l,offset:o,fitWidth:i,fitHeight:c,onPositionCalculated:s},(0,U.tZ)("div",{css:(e=c,(0,U.iv)(gT||(gT=(0,z.Z)(["\n  border-radius: ","px;\n  box-shadow: ",";\n  display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 4px 8px;\n  background-color: ",";\n  ",";\n"])),(0,re.E0)(),"var(--ds-shadow-overlay, ".concat("0 12px 24px -6px ".concat(V.Nx,", 0 0 1px ").concat(V.VG),")"),"var(--ds-background-input, ".concat(V.N0,")"),e?(0,U.iv)(yT||(yT=(0,z.Z)(["\n        height: ","px;\n      "])),e):"")),"data-testid":"popup-container",className:d},n)):null}}]),n}(Z.PureComponent);function OT(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var ST=(0,Ze.vU)({placeholderTextPlaceholder:{id:"fabric.editor.placeholderTextPlaceholder",defaultMessage:"Add placeholder text",description:""}}),CT=function(e){(0,j.Z)(n,e);var t=OT(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"handleSubmit",(function(t){t?(e.props.insertPlaceholder(t),e.props.setFocusInEditor()):e.props.hidePlaceholderFloatingToolbar()})),(0,o.Z)((0,N.Z)(e),"handleBlur",(function(){e.props.hidePlaceholderFloatingToolbar()})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.getNodeFromPos,n=e.showInsertPanelAt,r=e.editorViewDOM,o=e.popupsMountPoint,i=e.getFixedCoordinatesFromPos,a=e.popupsBoundariesElement,c=e.intl.formatMessage,s=t(n),u=function(e,t){return t?t.offsetParent:e.offsetParent}(r,o),l=kT(u,s,(function(){return i(n)}));return Z.createElement(xT,{target:wT(s),onPositionCalculated:l,popupsMountPoint:o,popupsBoundariesElement:a,fitHeight:32,offset:[0,12]},Z.createElement(vp,{placeholder:c(ST.placeholderTextPlaceholder),onSubmit:this.handleSubmit,onBlur:this.handleBlur,autoFocus:!0,width:300}))}}]),n}(Z.Component);const TT=(0,H.ZP)(CT);var AT=new g.PluginKey("placeholderTextPlugin"),_T=function(){function e(t,n,r){(0,P.Z)(this,e),this.node=t,this.view=n,this.getPos=r,this.dom=function(e){var t=document.createElement("span");t.classList.add("pm-placeholder"),t.classList.add("placeholderView-content-wrap"),Ec.Z.gecko&&t.setAttribute("contenteditable","true"),t.innerText=sS.$;var n=document.createElement("span");return n.classList.add("pm-placeholder__text"),n.dataset.placeholder=e.attrs.text,n.setAttribute("contenteditable","false"),t.appendChild(n),Ec.Z.safari?t.appendChild(document.createTextNode(sS.$)):t.appendChild(document.createElement("wbr")),t}(this.node),this.getPos=r}return(0,D.Z)(e,[{key:"stopEvent",value:function(e){if("mousedown"===e.type&&"function"==typeof this.getPos){e.preventDefault();var t=this.view,n=this.getPos(),r=t.state.tr;return r.setSelection(g.Selection.near(r.doc.resolve(n))),t.dispatch(r),!0}return!1}},{key:"ignoreMutation",value:function(e){if("function"!=typeof this.getPos||"selection"!==e.type)return!0;var t=this.view,n=this.node,r=this.getPos(),o=this.getPos()+n.nodeSize,i=t.state.selection;if(i.from===o)return!1;var a=i.from===r,c=i.from>o;if(a||c){var s=t.state.tr;return s.setSelection(g.Selection.near(s.doc.resolve(o))),t.dispatch(s),!0}return!0}}]),e}(),PT=function(e,t){var n={findTypeAheadHandler:Km({editorView:e}),openTypeAheadHandler:Pm},r=n.findTypeAheadHandler(t);return r&&r.id?n.openTypeAheadHandler({triggerHandler:r,inputMethod:p.Jq.KEYBOARD}):null};function DT(e,t){var n=!!t.allowInserting;return new u.J({key:AT,state:{init:function(){return{showInsertPanelAt:null,allowInserting:n}},apply:function(t,r){var o=t.getMeta(AT);if(o&&void 0!==o.showInsertPanelAt){var i={showInsertPanelAt:o.showInsertPanelAt,allowInserting:n};return e(AT,i),i}if(r.showInsertPanelAt){var a={showInsertPanelAt:t.mapping.map(r.showInsertPanelAt),allowInserting:n};return e(AT,a),a}return r}},appendTransaction:function(e,t,n){if(e.some((function(e){return e.docChanged}))){var r=t.selection.$head.nodeAfter===n.selection.$head.nodeAfter,o=n.selection.$head.nodeAfter,i=n.selection.$head.pos,a=n.schema.nodes.placeholder;if(o&&o.type===a&&r){var c,s=n.selection.$head,u=t.selection.$head.pos<s.pos,l=!(0,cr.bR)(s.nodeBefore),d=null===(c=s.nodeBefore)||void 0===c?void 0:c.type.isInline;if(u&&(l||d)){var p=g.NodeSelection.create(n.doc,i),f=p.$from,h=p.$to;return n.tr.deleteRange(f.pos,h.pos)}}}return!AT.getState(t).showInsertPanelAt&&AT.getState(n).showInsertPanelAt?n.tr.setSelection(new mT(n.selection.$from)):AT.getState(t).showInsertPanelAt&&!AT.getState(n).showInsertPanelAt&&n.selection instanceof mT?n.tr.setSelection(new g.TextSelection(n.selection.$from)):void 0},props:{handleDOMEvents:{beforeinput:function(e,t){var n=e.state;if(t instanceof InputEvent&&!t.isComposing&&"insertText"===t.inputType&&function(e){if(!(e instanceof g.TextSelection&&e.$cursor))return!1;var t=e.$cursor.doc.nodeAt(e.$cursor.pos);return"placeholder"===(null==t?void 0:t.type.name)}(e.state.selection)){t.stopPropagation(),t.preventDefault();var r=n.selection.from,o=t.data||"",i=e.state.tr;i.delete(r,r+1);var a=PT(e,o);return a?a(i):i.insertText(o),e.dispatch(i),!0}return!1}},nodeViews:{placeholder:function(e,t,n){return new _T(e,t,n)}}}})}var ZT=function(e){return{name:"placeholderText",nodes:function(){return[{name:"placeholder",node:pT.W}]},pmPlugins:function(){return[{name:"placeholderText",plugin:function(t){return DT(t.dispatch,e)}}]},contentComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=function(e){return function(e){return function(t,n){return n(t.tr.replaceSelectionWith(t.schema.nodes.placeholder.createChecked({text:e})).setMeta(AT,{showInsertPanelAt:null}).scrollIntoView()),!0}}(e)(t.state,t.dispatch)},i=function(){return e=t.state,(0,t.dispatch)(e.tr.setMeta(AT,{showInsertPanelAt:null})),!0;var e},a=function(e){return t.domAtPos(e).node},c=function(e){return t.coordsAtPos(e)},s=function(){return t.focus()};return Z.createElement(M.Z,{plugins:{placeholderTextState:AT},render:function(e){var u=e.placeholderTextState,l=void 0===u?{}:u;return l.showInsertPanelAt?Z.createElement(TT,{editorViewDOM:t.dom,popupsMountPoint:n,popupsBoundariesElement:r,getFixedCoordinatesFromPos:c,getNodeFromPos:a,hidePlaceholderFloatingToolbar:i,showInsertPanelAt:l.showInsertPanelAt,insertPlaceholder:o,setFocusInEditor:s}):null}})}}};const IT=function(e,t){return function(e,t){return t.allowInserting?(e.pluginsOptions={quickInsert:function(e){var t=e.formatMessage;return[{id:"placeholderText",title:t(Jo.S.placeholderText),description:t(Jo.S.placeholderTextDescription),priority:1400,keywords:["placeholder"],icon:function(){return Z.createElement(fT.Z,{label:""})},action:function(e,t){var n=t.tr;return n.setMeta(AT,{showInsertPanelAt:n.selection.anchor}),(0,At.Gs)(t,n,{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.PLACEHOLDER_TEXT,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.TRACK})}}]}},e):e}(ZT(e),e)};var LT,MT,RT=n(70177),NT=n(51775);!function(e){e.SINGLE_COL="singleColumn",e.TWO_COLS_EQUAL="twoColumnsEqual",e.THREE_COLS_EQUAL="threeColumnsEqual",e.LEFT_SIDEBAR="twoColumnsLeftSidebar",e.RIGHT_SIDEBAR="twoColumnsRightSidebar",e.THREE_WITH_SIDEBARS="threeColumnsWithSidebars "}(LT||(LT={})),function(e){e.INLINE_CARD="inline",e.BLOCK_CARD="block",e.URL="url"}(MT||(MT={}));var jT=new g.PluginKey("layout");function FT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FT(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FT(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zT=["single"],UT=["two_equal","two_left_sidebar","two_right_sidebar"],VT=["three_equal","three_with_sidebars"],HT=function(e){switch(e){case"single":return[100];case"two_equal":return[50,50];case"three_equal":return[33.33,33.33,33.33];case"two_left_sidebar":return[33.33,66.66];case"two_right_sidebar":return[66.66,33.33];case"three_with_sidebars":return[25,50,25]}},WT=function(e){switch(fr(e,(function(e){return e.attrs.width})).join(",")){case"100":return"single";case"33.33,33.33,33.33":return"three_equal";case"25,50,25":return"three_with_sidebars";case"50,50":return"two_equal";case"33.33,66.66":return"two_left_sidebar";case"66.66,33.33":return"two_right_sidebar"}},GT=function(e,t){return e&&WT(e)&&WT(e)||t},qT=function(e){var t=e.schema.nodes,n=t.layoutSection,r=t.layoutColumn,o=on.Fragment.fromArray([r.createAndFill({width:50}),r.createAndFill({width:50})]);return n.createAndFill(void 0,o)},KT=function(e,t){return t&&t((0,W.Z3)(qT(e))(e.tr)),!0};function $T(e,t){return function(n){n.replaceWith(n.mapping.map(t),n.mapping.map(t),e.nodes.layoutColumn.createAndFill())}}function JT(e,t,n){return function(r){(0,cr.RL)(e)?r.replaceRange(r.mapping.map(t-1),r.mapping.map(n),on.Slice.empty):r.replaceRange(r.mapping.map(t-1),r.mapping.map(t+1),on.Slice.empty)}}var YT=$T,XT=$T,QT=JT,eA=JT,tA=function(e,t){return function(n){$T(e,t)(n),$T(e,t)(n)}},nA=function(e,t,n){var r=e.content.child(2);eA(r,n-r.nodeSize,n)(t);var o=e.content.child(1);QT(o,n-r.nodeSize-o.nodeSize,n)(t)};function rA(e,t,n){var r=t.nodes.layoutColumn,o=n.map((function(e){return Number(e.toFixed(2))}));return pr(e.content,(function(e,t){return e.type===r?r.create(BT(BT({},e.attrs),{},{width:o[t]}),e.content,e.marks):e}))}function oA(e,t,n,r){var o=function(e,t,n,r){var o=e.tr,i=n+t.nodeSize-1,a=t.childCount;if(UT.indexOf(r)>=0&&3===a){var c=t.content.child(2),s=i-c.nodeSize;eA(c,s,i)(o)}else if(VT.indexOf(r)>=0&&2===a)YT(e.schema,i)(o);else if(zT.indexOf(r)>=0&&2===a){var u=t.content.child(1),l=i-u.nodeSize;QT(u,l,i)(o)}else zT.indexOf(r)>=0&&3===a?nA(t,o,i):UT.indexOf(r)>=0&&1===a?XT(e.schema,i)(o):VT.indexOf(r)>=0&&1===a&&tA(e.schema,i)(o);return o}(e,t,n,r),i=o.selection;o=function(e,t,n,r){var o=t.doc.nodeAt(n);return o?t.replaceWith(n+1,n+o.nodeSize-1,rA(o,e.schema,HT(r))):t}(e,o,n,r);var a=o.doc.resolve(i.$from.pos);return o.setSelection(e.selection instanceof g.NodeSelection?new g.NodeSelection(a):new g.TextSelection(a))}var iA=function(e){return function(t,n){var r=jT.getState(t),o=r.pos,i=r.selectedLayout;if(i===e||null===o)return!1;var a=t.doc.nodeAt(o);if(!a)return!1;var c=oA(t,a,o,e);return!!c&&((c=(0,At.Gs)(t,c,{action:p.om.CHANGED_LAYOUT,actionSubject:p.Wt.LAYOUT,attributes:{previousLayout:uA(i),newLayout:uA(e)},eventType:p.Ze.TRACK})).setMeta("scrollIntoView",!1),n&&n(c),!0)}};function aA(e){return!WT(e)}function cA(e,t,n){if(e.type===n.nodes.layoutSection){if(!aA(e))return;var r=2===e.childCount?"two_equal":3===e.childCount?"three_equal":"single",o=rA(e,n,HT(r));return{from:t+1,to:t+e.nodeSize-1,slice:new on.Slice(o,0,0)}}}var sA=function(e,t){var n=jT.getState(e),r=n.pos,o=n.selectedLayout;if(null!==r){var i=e.doc.nodeAt(r);if(t){var a=e.tr.delete(r,r+i.nodeSize);t(a=(0,At.Gs)(e,a,{action:p.om.DELETED,actionSubject:p.Wt.LAYOUT,attributes:{layout:uA(o)},eventType:p.Ze.TRACK}))}return!0}return!1},uA=function(e){switch(e){case"single":return LT.SINGLE_COL;case"two_equal":return LT.TWO_COLS_EQUAL;case"three_equal":return LT.THREE_COLS_EQUAL;case"two_left_sidebar":return LT.LEFT_SIDEBAR;case"two_right_sidebar":return LT.RIGHT_SIDEBAR;case"three_with_sidebars":return LT.THREE_WITH_SIDEBARS}};function lA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lA(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pA=function(e){var t=(0,W.Tr)(e.schema.nodes.layoutColumn)(e.selection);return!!t&&e.selection.from<t.pos+t.node.nodeSize},fA=function(e,t){var n=e.selection,r=e.schema.nodes,o=r.layoutColumn,i=r.layoutSection,a=(0,W.Tr)(i)(n),c=(0,W.Tr)(o)(n);if(c.node!==a.node.lastChild){var s=e.doc.resolve(c.pos+c.node.nodeSize),u=g.TextSelection.findFrom(s,1);t&&t(e.tr.setSelection(u))}return!0};const hA=function(e){return new u.J({key:jT,state:{init:function(t,n){return function(e,t){var n=(0,W.Tr)(t.schema.nodes.layoutSection)(t.selection),r=e.allowBreakout||!1,o=e.UNSAFE_addSidebarLayouts||!1,i=e.UNSAFE_allowSingleColumnLayout||!1;return{pos:n?n.pos:null,allowBreakout:r,addSidebarLayouts:o,selectedLayout:GT(n&&n.node,"two_equal"),allowSingleColumnLayout:i}}(e,n)},apply:function(e,t,n,r){if(e.docChanged||e.selectionSet){var o=r.schema.nodes.layoutSection,i=r.selection,a=(0,W.Tr)(o)(i)||(0,W.a1)([o])(i);return dA(dA({},t),{},{pos:a?a.pos:null,selectedLayout:GT(a&&a.node,t.selectedLayout)})}return t}},props:{decorations:function(e){var t,n,r=jT.getState(e);if(null!==r.pos)return tn.EH.create(e.doc,(t=r.pos,n=e.doc.nodeAt(r.pos),[tn.p.node(t,t+n.nodeSize,{class:"selected"})]))},handleKeyDown:(0,it.$)({Tab:(0,_t.hX)(pA,fA)}),handleClickOn:xi(["layoutColumn"],(function(e){return e.hasAttribute("data-layout-section")||e.hasAttribute("data-layout-column")}),{useLongPressSelection:e.useLongPressSelection||!1,getNodeSelectionPos:function(e,t){return e.doc.resolve(t).before()}})},appendTransaction:function(e,t,n){var r=[];if(e.forEach((function(e){if(r.forEach((function(t){return{from:e.mapping.map(t.from),to:e.mapping.map(t.to),slice:t.slice}})),e.docChanged){var t=function(e,t){var n,r=t.schema.nodes.layoutSection,o=(0,cr.O3)(e);if(o){e.doc.nodesBetween(o.from,o.to,(function(e,o){return e.type!==r||(aA(e)&&(n=cA(e,o,t.schema)),!1)}));var i=e.doc.resolve(o.to);if(i.depth>0){var a=i.after(),c=e.doc.nodeAt(a);c&&c.type===r&&aA(c)&&(n=cA(c,a,t.schema))}return n}}(e,n);t&&r.push(t)}})),r.length){var o=n.tr,i=n.selection.toJSON();if(r.forEach((function(e){o.replaceRange(e.from,e.to,e.slice)})),(o=function(e){var t=jT.getState(e),n=t.pos,r=t.selectedLayout;if(null!==n&&r){var o=e.doc.nodeAt(n);if(o&&o.childCount!==HT(r).length)return oA(e,o,n,r)}}(n)||o).docChanged)return o.setSelection(g.Selection.fromJSON(o.doc,i)),o.setMeta("addToHistory",!1),o}}})};var vA=n(12230),mA=n(13990),gA=n(3906),yA=n(92760),bA=n(81161),wA=n(36688),kA=(0,Ze.vU)({singleColumn:{id:"fabric.editor.single",defaultMessage:"Single column",description:"Layout with one single column"},twoColumns:{id:"fabric.editor.twoColumns",defaultMessage:"Two columns",description:"Layout with two columns of equal width"},threeColumns:{id:"fabric.editor.threeColumns",defaultMessage:"Three columns",description:"Layout with three columns of equal width"},rightSidebar:{id:"fabric.editor.rightSidebar",defaultMessage:"Right sidebar",description:"Layout with two columns, left column is 2/3 and right is 1/3 of page"},leftSidebar:{id:"fabric.editor.leftSidebar",defaultMessage:"Left sidebar",description:"Layout with two columns, left column is 1/3 and right is 2/3 of page"},threeColumnsWithSidebars:{id:"fabric.editor.threeColumnsWithSidebars",defaultMessage:"Three columns with sidebars",description:"Layout with 3 columns laid out as 25% - 50% - 25%"}}),EA=[{id:"editor.layout.twoEquals",type:"two_equal",title:kA.twoColumns,icon:mA.Z},{id:"editor.layout.threeEquals",type:"three_equal",title:kA.threeColumns,icon:gA.Z}],xA=[{id:"editor.layout.singeLayout",type:"single",title:kA.singleColumn,icon:vA.Z}].concat(EA),OA=[{id:"editor.layout.twoRightSidebar",type:"two_right_sidebar",title:kA.rightSidebar,icon:bA.Z},{id:"editor.layout.twoLeftSidebar",type:"two_left_sidebar",title:kA.leftSidebar,icon:yA.Z},{id:"editor.layout.threeWithSidebars",type:"three_with_sidebars",title:kA.threeColumnsWithSidebars,icon:wA.Z}],SA=function(e,t,n){return{id:t.id,type:"button",icon:t.icon,testId:t.title.id,title:e.formatMessage(t.title),onClick:iA(t.type),selected:!!n&&n===t.type,tabIndex:null}};const CA=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"layout",nodes:function(){return[{name:"layoutSection",node:RT.I},{name:"layoutColumn",node:NT.H}]},pmPlugins:function(){return[{name:"layout",plugin:function(){return hA(e)}}]},pluginsOptions:{floatingToolbar:function(e,t){var n=jT.getState(e),r=n.pos,o=(n.allowBreakout,n.addSidebarLayouts),i=n.allowSingleColumnLayout;if(null!==r)return function(e,t,n,r,o,i){var a=e.doc.nodeAt(n);if(a){var c=WT(a),u={type:"separator"},l=e.schema.nodes.layoutSection,d={id:"editor.layout.delete",type:"button",appearance:"danger",focusEditoronEnter:!0,icon:Ya.Z,testId:Q.ZP.remove.id,title:t.formatMessage(Q.ZP.remove),onClick:sA,onMouseEnter:(0,Xa.pP)(l,!0),onMouseLeave:(0,Xa.pP)(l,!1),onFocus:(0,Xa.pP)(l,!0),onBlur:(0,Xa.pP)(l,!1),tabIndex:null},p=i?xA:EA;return{title:"Layout floating controls",getDomRef:function(e){return(0,W.TM)(n,e.domAtPos.bind(e))},nodeType:l,items:[].concat((0,s.Z)(p.map((function(e){return SA(t,e,c)}))),(0,s.Z)(o?OA.map((function(e){return SA(t,e,c)})):[]),[{type:"copy-button",items:[u,{state:e,formatMessage:t.formatMessage,nodeType:l}]},u,d]),scrollable:!0}}}(e,t,r,0,o,i)},quickInsert:function(e){var t=e.formatMessage;return[{id:"layout",title:t(Jo.S.columns),description:t(Jo.S.columnsDescription),keywords:["column","section"],priority:1100,icon:function(){return Z.createElement(Zo,null)},action:function(e,t){var n=e(qT(t));return(0,At.Gs)(t,n,{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.LAYOUT,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.TRACK})}}]}}}};var TA=n(39915),AA=n(91228),_A=n(70164),PA=n(26947),DA=n(73523),ZA=n(15497),IA=new g.PluginKey("cardPlugin"),LA=function(e){return"inlineCard"===e.name?"inline":"blockCard"===e.name?"block":"embedCard"===e.name?"embed":void 0},MA=function(e){var t=e.attrs;return{url:t.url||t.data&&t.data.url,title:t.data&&t.data.title}},RA=function(e,t){return function(e,t){return{title:t&&t.title||e.title,url:t&&t.url||e.url}}(MA(e),t)},NA=function(e){return IA.getState(e).cards.find((function(t){return t.pos===e.selection.from}))},jA=function(e,t,n){return n&&(0,Ls.MU)(e,t)},FA=["sourceEvent"];function BA(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var zA=function(e){(0,j.Z)(n,e);var t=BA(n);function n(e,r){var o,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,P.Z)(this,n),(o=t.call(this)).pos=e,o.metadata=r,o.isInverted=i,o}return(0,D.Z)(n,[{key:"getMetadata",value:function(){return this.metadata}},{key:"invert",value:function(){var e=this.metadata,t=(e.sourceEvent,(0,ko.Z)(e,FA));return new n(this.pos,t,!0)}},{key:"apply",value:function(e){return nn.oo.ok(e)}},{key:"map",value:function(e){var t=this.pos;return"number"==typeof t&&(t=e.map(t)),new n(t,this.metadata,this.isInverted)}},{key:"getMap",value:function(){return new nn.KS([this.pos||0,0,0])}},{key:"merge",value:function(){return null}},{key:"toJSON",value:function(){return{stepType:"replace",from:0,to:0}}}],[{key:"fromJSON",value:function(e,t){return new nn.Pu(0,0,Hs.p2.empty)}}]),n}(nn.h8);function UA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UA(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HA(e,t,n){var r=t.storedMarks,o=t.mapping.map(e.$from.pos);return t.step(new zA(o,n)),r&&t.setStoredMarks(r),t}nn.h8.jsonID("editor-linking-meta",zA);var WA=function(e,t){return function(n,r,o){return e(n,r?function(e){HA(n.selection,e,t),r(e)}:r,o)}};function GA(e,t){return{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.LINK,attributes:{inputMethod:e,fromCurrentDomain:al(t)},eventType:p.Ze.TRACK,nonPrivacySafeAttributes:{linkDomain:il(t)}}}var qA=function(e){return{action:p.om.CLICKED,actionSubject:e===p.VJ.HYPERLINK?p.Wt.HYPERLINK:p.Wt.SMART_LINK,actionSubjectId:p.VJ.EDIT_LINK,attributes:e!==p.VJ.HYPERLINK?{display:e}:{},eventType:p.Ze.UI}},KA=function(e){switch(e){case p.VJ.CARD_INLINE:return"inline";case p.VJ.CARD_BLOCK:return"block";case p.VJ.EMBEDS:return"embed";default:return"url"}},$A=function(e){return e===p.VJ.HYPERLINK?{action:p.om.VISITED,actionSubject:p.Wt.HYPERLINK,actionSubjectId:void 0,attributes:{inputMethod:p.Jq.TOOLBAR},eventType:p.Ze.TRACK}:{action:p.om.VISITED,actionSubject:p.Wt.SMART_LINK,actionSubjectId:e,attributes:{inputMethod:p.Jq.TOOLBAR},eventType:p.Ze.TRACK}},JA=function(e){return{action:p.om.CLICKED,actionSubject:p.Wt.BUTTON,actionSubjectId:p.VJ.GOTO_SMART_LINK_SETTINGS,attributes:{inputMethod:p.Jq.TOOLBAR,display:KA(e)},eventType:p.Ze.UI}},YA=function(e){return{action:p.om.UNLINK,actionSubject:e===p.VJ.HYPERLINK?p.Wt.HYPERLINK:p.Wt.SMART_LINK,actionSubjectId:e===p.VJ.HYPERLINK?void 0:e,attributes:{inputMethod:p.Jq.TOOLBAR},eventType:p.Ze.TRACK}},XA=function(e,t){return e.setMeta(IA,t)},QA=function(e){return function(t){return XA(t,{type:"RESOLVE",url:e})}},e_=function(e){return function(t){return XA(t,{type:"QUEUE",requests:e})}},t_=function(e){return function(t){return XA(t,{type:"REGISTER",info:e})}},n_=function(e){return XA(e,{type:"HIDE_LINK_TOOLBAR"})},r_=n(13054),o_=n.n(r_),i_=n(10251),a_=n.n(i_),c_=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},s_=function(e){return/^<\/a\s*>/i.test(e)},u_=function(e){for(var t,n=e.tokens,r=new(a_()),o=0,i=n.length;o<i;o++)if("inline"===n[o].type&&r.pretest(n[o].content))for(var a=n[o].children,c=0,s=a.length-1;s>=0;s--){var u=a[s];if("link_close"!==u.type){if("html_inline"===u.type&&(t=u.content,/^<a[>\s]/i.test(t)&&c>0&&c--,s_(u.content)&&c++),!(c>0)&&"text"===u.type&&r.test(u.content)){var l=u.content,d=(0,Qu.Z7)(l);d.length||(d=r.match(l)||[]);for(var p=[],f=u.level,h=0,v=cl(l),m=0;m<d.length;m++)if(!sl(d[m].index,v)){var g=d[m].url,y=e.md.normalizeLink(g);if(e.md.validateLink(y)){var b=d[m].text;b=d[m].schema?"mailto:"!==d[m].schema||/^mailto:/i.test(b)?e.md.normalizeLinkText(b):e.md.normalizeLinkText("mailto:"+b).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+b).replace(/^http:\/\//,"");var w=d[m].index;if(w>h){var k=new e.Token("text","",0);k.content=l.slice(h,w),k.level=f,p.push(k)}var E=new e.Token("link_open","a",1);E.attrs=[["href",y]],E.level=f++,E.markup="linkify",E.info="auto",p.push(E),(E=new e.Token("text","",0)).content=b,E.level=f,p.push(E),(E=new e.Token("link_close","a",-1)).level=--f,E.markup="linkify",E.info="auto",p.push(E),h=d[m].lastIndex}}if(h<l.length){var x=new e.Token("text","",0);x.content=l.slice(h),x.level=f,p.push(x)}n[o].children=a=c_(a,s,p)}}else for(s--;a[s].level!==u.level&&"link_open"!==a[s].type;)s--}};var l_=function(e,t){var n,r=e.pos;return 10===e.src.charCodeAt(r)&&(n=e.pending.length-1,t||(n>=0&&32===e.pending.charCodeAt(n)?n>=1&&32===e.pending.charCodeAt(n-1)?e.push("hardbreak","br",0):(e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0)):e.push("softbreak","br",0)),r++,e.pos=r,!0)};var d_=function(e,t){var n,r,o,i,a,c,s=t+1,u=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(c=e.parentType,e.parentType="paragraph";s<l&&!e.isEmpty(s);s++)if(!(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)){for(r=!1,o=0,i=u.length;o<i;o++)if(u[o](e,s,l,!0)){r=!0;break}if(r)break}return n=e.getLines(t,s,e.blkIndent,!1),e.line=s,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=c,!0};var p_=o_()("zero",{html:!1});function f_(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=e.marks.find((function(e){return"link"===e.type.name}));if(!r)return!1;var o=(0,Qu.D5)(p_.normalizeLinkText(r.attrs.href)),i=(0,Qu.D5)(p_.normalizeLinkText(e.text||""));if(t&&o!==i)return!1;if(n&&(0,Qu.D5)(p_.normalizeLinkText(n))!==o)return!1;return!0}function h_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h_(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}p_.enable(["entity","escape","newline"]),p_.use((function(e){return e.block.ruler.at("paragraph",d_)})),p_.use((function(e){return e.core.ruler.push("custom-linkify",u_)})),p_.use((function(e){return e.inline.ruler.at("newline",l_)}));var m_=function(e,t,n){return function(r,o){var i=IA.getState(r);if(!i)return!1;var a=i.requests.filter((function(t){return t.url===e})),c=r.schema,s=(0,cr.wy)(c,t),u=r.tr;if(s){var l=a.map((function(e){return function(e,t,n,r){var o=n.nodes.inlineCard,i=r.url;if((0,Qu.w6)(i)){var a=e.mapping.map(r.pos),c=e.doc.resolve(a),s=e.doc.nodeAt(a);if(s&&s.type.isText&&(r.shouldReplaceLink||f_(s,r.compareLinkText,i))){var u=[t];return t.type===o&&u.push(n.text(" ")),e.replaceWith(a,a+(s.text||i).length,u),c.node(c.depth-1).type.name}}}(u,s,c,e)})).filter((function(e){return!!e}));if(l.length){var d=l.every((function(e){return e===l[0]}))?l[0]:"mixed",f=e.split("/"),h=(0,sr.Z)(f,3)[2];i.smartLinkEvents&&i.smartLinkEvents.insertSmartLink(h,"inline",i.createAnalyticsEvent);var v=a[0].source,m=a[0].sourceEvent;(0,At.Gs)(r,u,{action:n||p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.SMART_LINK,eventType:p.Ze.TRACK,attributes:{inputMethod:v,nodeType:"inlineCard",nodeContext:d,fromCurrentDomain:al(e)},nonPrivacySafeAttributes:{domainName:h}}),HA(r.selection,u,{action:n,inputMethod:v,cardAction:"RESOLVE",sourceEvent:m})}}return o&&o(QA(e)((0,qn.SJ)(u))),!0}},g_=function(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=e.schema.marks.link,c=[];return(0,cr.wt)(t,(function(e,t){if(!e.isText)return!0;var s=e.marks.find((function(e){return e.type===a}));if(s){if(!f_(e,o))return!1;c.push({url:s.attrs.href,pos:t,appearance:"inline",compareLinkText:o,source:n,analyticsAction:r,sourceEvent:i})}return!1})),HA(e.selection,t,{action:r}),e_(c)(t)},y_=function(e,t,n,r,o){return function(i,a){var c;c=r&&o?k_(i,e,t,r,o):w_(i,e,t);var s=i.selection instanceof g.NodeSelection&&i.selection.node;return n&&s&&(0,At.Gs)(i,c,{action:p.om.CHANGED_TYPE,actionSubject:p.Wt.SMART_LINK,eventType:p.Ze.TRACK,attributes:{newType:MT.URL,previousType:LA(s.type)}}),a&&a(c.scrollIntoView()),!0}},b_=function(e,t){return function(n,r){if(!(n.selection instanceof g.NodeSelection&&n.selection.node))return!1;var o=function(e){if(e.selection instanceof g.NodeSelection)return LA(e.selection.node.type)}(n),i=w_(n,e,e);return function(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,c=e.schema.marks.link,s=[];(0,cr.wt)(t,(function(e,t){if(!e.isText)return!0;var u=e.marks.find((function(e){return e.type===c}));if(u){if(!f_(e,o))return!1;s.push({url:u.attrs.href,pos:t,appearance:"inline",previousAppearance:a,compareLinkText:o,source:n,analyticsAction:r,sourceEvent:i})}return!1})),HA(e.selection,t,{action:r}),e_(s)(t)}(n,i,p.Jq.MANUAL,p.om.UPDATED,void 0,t,o),r&&r(i.scrollIntoView()),!0}};function w_(e,t,n){var r=e.selection instanceof g.NodeSelection&&e.selection.node;if(!r)return e.tr;var o=e.schema.marks.link,i=r.attrs.url||r.attrs.data.url;return e.tr.replaceSelectionWith(e.schema.text(t||i,[o.create({href:n||i})]),!1)}function k_(e,t,n,r,o){var i=e.schema.marks.link,a=r.attrs.url||r.attrs.data.url;return e.tr.replaceWith(o,o+r.nodeSize,e.schema.text(t||a,[i.create({href:n||a})]))}var E_=function(e){return function(t,n){var r,o=t.selection instanceof g.NodeSelection&&t.selection.node;if(!o){var i=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.schema.marks.link,i=[];return e.tr.doc.nodesBetween(e.selection.from,e.selection.to,(function(e,a){var c=e.marks.find((function(e){return e.type===o}));c&&i.push({url:c.attrs.href,pos:a,appearance:n,previousAppearance:"url",compareLinkText:r,source:t,analyticsAction:p.om.CHANGED_TYPE,shouldReplaceLink:!0})})),HA(e.selection,e.tr,{action:p.om.CHANGED_TYPE}),e_(i)(e.tr)}(t,p.Jq.FLOATING_TB,e);return n&&(HA(t.selection,i,{action:p.om.CHANGED_TYPE}),n(i.scrollIntoView())),!1}if(LA(o.type)===e)return!1;var a="embed"===e?v_(v_({},o.attrs),{},{layout:"center"}):o.attrs,c=t.selection,s=c.from,u=c.to,l=x_(e,t.schema.nodes),d=t.tr.setNodeMarkup(s,l,a,o.marks);d.doc.nodeSize-2===u&&d.insertText(" ",u),d.setSelection(g.TextSelection.create(d.doc,u+1));var f=s-1>0?s-1:0,h=d.doc.nodeAt(f);return"paragraph"===(null==h||null===(r=h.type)||void 0===r?void 0:r.name)&&d.delete(f,s),(0,At.Gs)(t,d,{action:p.om.CHANGED_TYPE,actionSubject:p.Wt.SMART_LINK,eventType:p.Ze.TRACK,attributes:{newType:e,previousType:LA(o.type)}}),HA(t.selection,d,{action:p.om.CHANGED_TYPE}),n&&n(d.scrollIntoView()),!0}},x_=function(e,t){switch(e){case"inline":return t.inlineCard;case"block":return t.blockCard;case"embed":return t.embedCard}};function O_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O_(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C_=function(e){return IA.getState(e)},T_=function(e,t){return e.url===t.url&&e.pos===t.pos},A_=n(61801);function __(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}function P_(e,t){var n;return n=function(n){(0,j.Z)(i,n);var r=__(i);function i(){var e;(0,P.Z)(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,o.Z)((0,N.Z)(e),"state",{isError:!1}),e}return(0,D.Z)(i,[{key:"render",value:function(){var n,r=MA(this.props.node).url;if(r&&!(0,Qu.w6)(r))return Z.createElement(t,null);if(this.state.isError)return r?Z.createElement("a",{href:r,onClick:function(e){e.preventDefault()}},r):Z.createElement(t,null);var o=this.context.contextAdapter?this.context.contextAdapter.card:void 0,i=null===(n=C_(this.props.view.state))||void 0===n?void 0:n.editorAppearance,a=(0,A_.a9)(i);return Z.createElement(ps.Z,{data:{attributes:{location:a},location:a}},Z.createElement(e,(0,Lt.Z)({key:r,cardContext:o},this.props)))}},{key:"componentDidCatch",value:function(e){var t=e;if(t.kind&&"fatal"===t.kind){this.setState({isError:!0});var n=this.props,r=n.view,o=n.node,i=n.getPos,a=MA(o).url;if(!i||"boolean"==typeof i)return;return function(e,t,n,r,o){return function(i,a){var c;return c=r&&o?k_(i,e,t,r,o):w_(i,e,t),n&&(0,At.Gs)(i,c,{action:p.om.ERRORED,actionSubject:p.Wt.SMART_LINK,eventType:p.Ze.OPERATIONAL,attributes:{error:"Smart card falling back to link."}}),a&&a(c.scrollIntoView()),!0}}(void 0,a,!0,o,i())(r.state,r.dispatch),null}this.setState({isError:!0})}}]),i}(Z.Component),(0,o.Z)(n,"contextTypes",{contextAdapter:lk().object}),n}function D_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Z_=function(e){(0,j.Z)(n,e);var t=D_(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"onClick",(function(){})),(0,o.Z)((0,N.Z)(e),"onResolve",(function(t){var n=e.props,r=n.getPos,o=n.view;if(r&&"boolean"!=typeof r){var i=t.title,a=t.url;(0,PA.Z)((function(){return o.dispatch(t_({title:i,url:a,pos:r()})(o.state.tr))}))()}})),(0,o.Z)((0,N.Z)(e),"gapCursorSpan",(function(){if(!(Ec.Z.ie&&Ec.Z.ie_version<79))return Z.createElement("span",{contentEditable:!0})})),e}return(0,D.Z)(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.view,t=(0,Sv.uo)(e.dom);this.scrollContainer=t||void 0}},{key:"render",value:function(){var e=this.props,t=e.node,n=e.cardContext,r=e.platform,o=e.showServerActions,i=t.attrs,a=i.url,c=i.data,s=Z.createElement(Z.Fragment,null,Z.createElement(DA.Z,{key:a,url:a,data:c,container:this.scrollContainer,appearance:"block",onClick:this.onClick,onResolve:this.onResolve,showActions:"web"===r,platform:r,showServerActions:o}),this.gapCursorSpan());return Z.createElement("div",null,n&&n.value?Z.createElement(n.Provider,{value:n.value},s):c?s:null)}}]),n}(Z.PureComponent);(0,o.Z)(Z_,"contextTypes",{contextAdapter:lk().object});var I_,L_=P_(Z_,ZA.Z),M_=function(e){(0,j.Z)(n,e);var t=D_(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"createDomRef",value:function(){var e=document.createElement("div");return"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}},{key:"render",value:function(){var e=this.reactComponentProps,t=e.platform,n=e.showServerActions;return Z.createElement(L_,{node:this.node,view:this.view,getPos:this.getPos,platform:t,showServerActions:n})}}]),n}(ql),R_=n(67106),N_=n(32803),j_=n(70115);function F_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F_(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var U_=function(e){(0,j.Z)(n,e);var t=z_(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{offsetLeft:e.calcOffsetLeft()}),(0,o.Z)((0,N.Z)(e),"calcNewSize",(function(t,n){var r=e.props,o=r.layout,i=r.view.state,a=100*(0,Cc.nz)(t,e.props.lineLength);e.setState({resizedPctWidth:a});var c=(0,W.bw)(i.schema.nodes.table)(i.selection)?o:e.calcUnwrappedLayout(a,t);return a<=100?(!e.wrappedLayout||n&&100===a||(c=o),{width:a,layout:c}):{width:e.props.pctWidth||null,layout:c}})),(0,o.Z)((0,N.Z)(e),"calcUnwrappedLayout",(function(t,n){return t<=100?"center":n<=e.wideLayoutWidth?"wide":"full-width"})),(0,o.Z)((0,N.Z)(e),"calcColumnLeftOffset",(function(){var t=e.state.offsetLeft;return e.insideInlineLike?(0,Cc.VF)(t,e.props.lineLength,e.props.gridSize):0})),(0,o.Z)((0,N.Z)(e),"calcPxWidth",(function(t){var n=e.props,r=n.layout,o=n.pctWidth,i=n.lineLength,a=n.containerWidth,c=n.fullWidthMode,s=n.getPos,u=n.view.state,l=e.state.resizedPctWidth,d="function"==typeof s?s():void 0;return rs({origWidth:ue.In,origHeight:ue._J,pctWidth:o,state:u,containerWidth:{width:a,lineLength:i},isFullWidthModeEnabled:c,layout:t||r,pos:d,resizedPctWidth:l})})),(0,o.Z)((0,N.Z)(e),"highlights",(function(t,n){var r=bd(t,n),o=e.props.view.state.schema.nodes,i=o.layoutColumn,a=o.table,c=o.expand,s=o.nestedExpand;if(e.$pos&&(0,W.NP)(e.$pos,[i,a,c,s].filter(Boolean)))return[];if(r>e.wideLayoutWidth)return["full-width"];var u=e.props,l=u.layout,d=u.lineLength,p=u.gridSize,f=(0,Cc.VF)(r,d,p),h=Math.round(f),v=[];return"wrap-left"===l||"align-start"===l?v.push(0,h):"wrap-right"===l||"align-end"===l?v.push(p,p-h):e.insideInlineLike?v.push(Math.round(f+e.calcColumnLeftOffset())):v.push(Math.floor((p-h)/2),Math.ceil((p+h)/2)),v})),e}return(0,D.Z)(n,[{key:"componentDidUpdate",value:function(){var e=this.calcOffsetLeft();e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e})}},{key:"wrappedLayout",get:function(){return Sc.T1.indexOf(this.props.layout)>-1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}},{key:"checkLayout",value:function(e,t){var n=this.state.resizedPctWidth;if(Sc.T1.indexOf(e)>-1&&"center"===t&&n){var r=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,r)}}},{key:"$pos",get:function(){if("function"!=typeof this.props.getPos)return null;var e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}},{key:"gridWidth",get:function(){var e=this.props.gridSize;return this.wrappedLayout||this.insideInlineLike?e:e/2}},{key:"calcOffsetLeft",value:function(){var e=0;if(this.wrapper&&this.insideInlineLike){var t=this.wrapper.getBoundingClientRect(),n=this.props.view.dom.getBoundingClientRect();e=t.left-n.left}return e}},{key:"wideLayoutWidth",get:function(){var e=this.props.lineLength;return e?Math.ceil(e*ue.kI):ue.uz}},{key:"calcSnapPoints",value:function(){for(var e=this.state.offsetLeft,t=this.props,n=t.containerWidth,r=t.lineLength,o=[],i=0;i<this.gridWidth;i++)o.push((0,Cc.uP)(i,r,this.gridWidth)-e);o.push(r-e);var a=(0,Cc.uP)(this.wrappedLayout||this.insideInlineLike?1:2,r,this.props.gridSize),c=o.filter((function(e){return e>=a})),s=this.$pos;if(!s)return c;if("doc"===s.parent.type.name){c.push(this.wideLayoutWidth);var u=n-ue._2;u>this.wideLayoutWidth&&c.push(u)}return c}},{key:"insideInlineLike",get:function(){var e=this.$pos;if(!e)return!1;var t=this.props.view.state.schema.nodes.listItem;return!!(0,W.NP)(e,[t])}},{key:"getHeightDefiningComponent",value:function(){var e,t=this.props,n=t.height,r=t.aspectRatio;return e=n?{height:"".concat(n,"px")}:{paddingBottom:"calc(".concat((1/r*100).toFixed(3),"% + ").concat(N_.ZF,"px)")},(0,U.tZ)("span",{"data-testid":"resizable-embed-card-height-definer",style:B_({display:"block",fontSize:0,lineHeight:0},e)})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.layout,o=n.pctWidth,i=n.containerWidth,a=n.fullWidthMode,c=n.children,s=this.calcPxWidth()-ue.D$,u={};return wd.forEach((function(e){var n="left"===e?"right":"left";u[e]=["full-width","wide","center"].concat("wrap-".concat(n)).concat("align-".concat(kd[n])).indexOf(r)>-1,"left"===e&&t.insideInlineLike&&(u[e]=!1)})),(0,U.tZ)("div",{css:j_.m,"data-testid":"resizable-embed-card-spacing"},(0,U.tZ)("div",{css:(e={layout:r,isResized:!!o,containerWidth:i||ue.In,fullWidthMode:a},(0,U.iv)(I_||(I_=(0,z.Z)(["\n  & > div {\n    ",";\n    position: relative;\n    clear: both;\n\n    > div {\n      position: absolute;\n      height: 100%;\n      width: 100%;\n    }\n  }\n"])),(0,gd.b3)(e)))},(0,U.tZ)(Sd,(0,Lt.Z)({},this.props,{width:s,enable:u,calcNewSize:this.calcNewSize,snapPoints:this.calcSnapPoints(),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,innerPadding:ue.D$,nodeType:"embed"}),c,this.getHeightDefiningComponent())))}}]),n}(Z.Component);function V_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V_(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}(0,o.Z)(U_,"defaultProps",{aspectRatio:ue.In/ue._J});var G_=function(e){(0,j.Z)(n,e);var t=W_(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"embedIframeRef",Z.createRef()),(0,o.Z)((0,N.Z)(e),"onClick",(function(){})),(0,o.Z)((0,N.Z)(e),"state",{hasPreview:!0}),(0,o.Z)((0,N.Z)(e),"getPosSafely",(function(){var t=e.props.getPos;if(t&&"boolean"!=typeof t)try{return t()}catch(e){}})),(0,o.Z)((0,N.Z)(e),"onResolve",(function(t){var n=e.props.view,r=t.title,o=t.url,i=t.aspectRatio,a=e.props.node.attrs,c=a.originalHeight,s=a.originalWidth;!i||c||s||(e.setState({initialAspectRatio:i}),e.saveOriginalDimensionsAttributes(ue._J,ue._J*i)),(0,PA.Z)((function(){var t=e.getPosSafely();if(void 0!==t)return n.dispatch(t_({title:r,url:o,pos:t})(n.state.tr))}))();try{var u=e.context.contextAdapter?e.context.contextAdapter.card:void 0;u&&u.value.extractors.getPreview(o,e.props.platform)||e.setState({hasPreview:!1})}catch(e){}})),(0,o.Z)((0,N.Z)(e),"updateSize",(function(t,n){var r=e.props.view,o=r.state,i=r.dispatch,a=e.getPosSafely();if(void 0!==a){var c=o.tr.setNodeMarkup(a,void 0,H_(H_({},e.props.node.attrs),{},{width:t,layout:n}));return c.setMeta("scrollIntoView",!1),i(c),!0}})),(0,o.Z)((0,N.Z)(e),"getLineLength",(function(e,t,n){if("number"==typeof t&&Pd(e,t)){var r=e.state.doc.resolve(t),o=e.nodeDOM(r.pos);if(r.nodeAfter&&_d.indexOf(r.nodeAfter.attrs.layout)>-1&&o&&o.parentElement)return o.parentElement.offsetWidth;if(o instanceof HTMLElement)return o.offsetWidth}return n})),(0,o.Z)((0,N.Z)(e),"saveOriginalDimensionsAttributes",(function(t,n){var r=e.props.view,o=r.state.tableFlexiColumnResizing$;null!=o&&o.dragging||(0,PA.Z)((function(){var o=e.getPosSafely();void 0!==o&&r.dispatch(r.state.tr.step(new Ks(o,{originalHeight:t,originalWidth:n})).setMeta("addToHistory",!1))}))()})),(0,o.Z)((0,N.Z)(e),"onHeightUpdate",(function(t){e.setState({liveHeight:t}),e.saveOriginalDimensionsAttributes(t,void 0)})),e}return(0,D.Z)(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.view,t=(0,Sv.uo)(e.dom);this.scrollContainer=t||void 0}},{key:"render",value:function(){var e=this,t=this.props,n=t.node,r=t.cardContext,o=t.platform,i=t.allowResizing,a=t.fullWidthMode,c=t.view,s=t.dispatchAnalyticsEvent,u=t.getPos,l=n.attrs,d=l.url,p=l.width,f=l.layout,h=l.originalHeight,v=l.originalWidth,m=this.state,g=m.hasPreview,y=m.liveHeight,b=m.initialAspectRatio,w=null!=y?y:!v&&h||void 0,k=!w&&(b||h&&v&&v/h)||void 0,E={layout:f,pctWidth:p,fullWidthMode:a},x=Z.createElement(R_.s,{embedIframeRef:this.embedIframeRef,onHeightUpdate:this.onHeightUpdate},Z.createElement(M.Z,{editorView:c,plugins:{widthState:R.ux},render:function(t){var n=t.widthState,r=(null==n?void 0:n.lineLength)||0,a=(null==n?void 0:n.width)||0,l=e.getPosSafely();if(void 0===l)return null;var p=e.getLineLength(c,l,r),f=Pd(c,l)?p:a,h=Z.createElement(DA.Z,{key:d,url:d,appearance:"embed",onClick:e.onClick,onResolve:e.onResolve,showActions:"web"===o,isFrameVisible:!0,inheritDimensions:!0,platform:o,container:e.scrollContainer,embedIframeRef:e.embedIframeRef});if(!i||!g){var v=ue.In/ue._J,m=1,y=k||v;return w&&(m=w,y=void 0),Z.createElement(Sc.ZP,(0,Lt.Z)({},E,{height:m,width:y,nodeType:"embedCard",hasFallbackContainer:g,lineLength:p,containerWidth:f}),h)}return Z.createElement(U_,(0,Lt.Z)({},E,{height:w,aspectRatio:k,view:e.props.view,getPos:u,lineLength:p,gridSize:12,containerWidth:f,displayGrid:uc(e.props.eventDispatcher),updateSize:e.updateSize,dispatchAnalyticsEvent:s}),h)}}));return Z.createElement(Z.Fragment,null,r&&r.value?Z.createElement(r.Provider,{value:r.value},x):null)}}]),n}(Z.PureComponent);(0,o.Z)(G_,"contextTypes",{contextAdapter:lk().object});var q_=P_(G_,ZA.Z),K_=function(e){(0,j.Z)(n,e);var t=W_(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"viewShouldUpdate",value:function(e){return this.node.attrs!==e.attrs||(0,md.Z)((0,B.Z)(n.prototype),"viewShouldUpdate",this).call(this,e)}},{key:"createDomRef",value:function(){var e=document.createElement("div");return"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}},{key:"render",value:function(){var e=this.reactComponentProps,t=e.eventDispatcher,n=e.allowResizing,r=e.platform,o=e.fullWidthMode,i=e.dispatchAnalyticsEvent;return Z.createElement(q_,{node:this.node,view:this.view,eventDispatcher:t,getPos:this.getPos,allowResizing:n,platform:r,fullWidthMode:o,dispatchAnalyticsEvent:i})}}]),n}(Rv),$_=n(30084);function J_(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Y_=function(e){(0,j.Z)(n,e);var t=J_(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"onClick",(function(){})),(0,o.Z)((0,N.Z)(e),"onResolve",(function(t){var n=e.props,r=n.getPos,o=n.view;if(r&&"boolean"!=typeof r){var i=t.title,a=t.url;(0,PA.Z)((function(){return o.dispatch(t_({title:i,url:a,pos:r()})(o.state.tr))}))()}})),(0,o.Z)((0,N.Z)(e),"onError",(function(t){var n=t.url;e.onResolve({url:n})})),e}return(0,D.Z)(n,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.view,t=(0,Sv.uo)(e.dom);this.scrollContainer=t||void 0}},{key:"render",value:function(){var e=this.props,t=e.node,n=e.cardContext,r=e.showServerActions,o=e.useAlternativePreloader,i=t.attrs,a=i.url,c=i.data,s=Z.createElement("span",{className:"card"},Z.createElement(DA.Z,{key:a,url:a,data:c,appearance:"inline",onClick:this.onClick,container:this.scrollContainer,onResolve:this.onResolve,onError:this.onError,inlinePreloaderStyle:o?"on-right-without-skeleton":void 0,showServerActions:r}));return n&&n.value?Z.createElement(n.Provider,{value:n.value},s):c?s:null}}]),n}(Z.PureComponent);(0,o.Z)(Y_,"contextTypes",{contextAdapter:lk().object});var X_=P_(Y_,$_.Z);function Q_(e){var t=e.useAlternativePreloader,n=e.node,r=e.view,o=e.getPos,i=e.showServerActions;return Z.createElement(X_,{node:n,view:r,getPos:o,showServerActions:i,useAlternativePreloader:t})}function eP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eP(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const nP=function(e,t){switch(t.type){case"QUEUE":return function(e,t){return tP(tP({},e),{},{requests:e.requests.concat(t.requests)})}(e,t);case"SET_PROVIDER":return function(e,t){return tP(tP({},e),{},{provider:t.provider})}(e,t);case"RESOLVE":return function(e,t){var n=e.requests.reduce((function(e,n){return n.url!==t.url&&e.push(n),e}),[]);return tP(tP({},e),{},{requests:n})}(e,t);case"REGISTER":return function(e,t){return tP(tP({},e),{},{cards:e.cards.filter((function(e){return e.pos!==t.info.pos})).concat(t.info)})}(e,t);case"REGISTER_EVENTS":return function(e,t){return tP(tP({},e),{},{smartLinkEvents:t.smartLinkEvents})}(e,t);case"REGISTER_EVENTS_NEXT":return function(e,t){return tP(tP({},e),{},{smartLinkEventsNext:t.smartLinkEvents})}(e,t);case"SHOW_LINK_TOOLBAR":case"HIDE_LINK_TOOLBAR":return function(e,t){return tP(tP({},e),{},{showLinkingToolbar:"SHOW_LINK_TOOLBAR"===t.type})}(e,t)}};var rP=function(e,t,n){return function(r){return function(e,t){("blockCard"===(null==e?void 0:e.type)&&!t.allowBlockCards||"embedCard"===(null==e?void 0:e.type)&&!t.allowEmbeds)&&("embedCard"===e.type&&delete e.attrs.layout,e.type="inlineCard")}(r,n),m_(t.url,r,t.analyticsAction)(e.state,e.dispatch),r}},oP=function(e,t){return function(){!function(e){return function(t,n){if(!IA.getState(t))return!1;var r=t.tr;return e.source!==p.Jq.FLOATING_TB&&(0,At.Gs)(t,r,GA(e.source,e.url)),HA(t.selection,r,{action:e.analyticsAction,inputMethod:e.source}),n&&n(QA(e.url)(r)),!0}}(t)(e.state,e.dispatch)}},iP=function(e,t,n){t&&t.then((function(e){var t=n.state;(0,n.dispatch)(function(e){return function(t){return XA(t,{type:"SET_PROVIDER",provider:e})}}(e)(t.tr))}))};function aP(e){return!!LA(e.type)}function cP(e){if("node"===e.type){var t=LA(e.node.type);if(t)return t}return"url"}var sP=function(e,t){return!!aP(t)||function(e,t){if(t.marks)for(var n=0;n<t.marks.length;n++){var r=t.marks[n];if((0,Ls.T7)(r,e))return!0}return!1}(e,t)};function uP(e){var t,n;return"node"===e.type?null===(n=e.node.attrs)||void 0===n?void 0:n.url:null===(t=e.mark.attrs)||void 0===t?void 0:t.href}var lP=function(e,t,n){if(aP(t))return{type:"node",pos:n,node:t};if(t.marks)for(var r=0;r<t.marks.length;r++){var o=t.marks[r];if((0,Ls.T7)(o,e))return{type:"mark",pos:n,mark:o}}};function dP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dP(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fP=function(e,t,n,r){var o=[];return e.nodesBetween(n,r,(function(e,i){if(sP(t,e)&&(i>=n&&i+e.nodeSize<=r)){var a=lP(t,e,i);a&&o.push(a)}})),o},hP=function(e,t){for(var n=e.doc.type.schema,r=[],o=[],i=[],a=yP(e),c=bP(e),u=e.getMeta(_u),l=wP(u)&&!1===u.redo,d=wP(u)&&!0===u.redo,p=mP(e,l||d),f=function(t){var i=e.steps[t],u=i.getMap(),l=[],d=[];if(i instanceof nn.WJ){var p=i;(0,Ls.T7)(p.mark,n)&&d.push({type:"mark",pos:p.from,mark:p.mark})}if(i instanceof nn.xu){var f=i;(0,Ls.T7)(f.mark,n)&&l.push({type:"mark",pos:f.from,mark:f.mark})}u.forEach((function(r,o,i,a){var c,u=e.docs[t],p=null!==(c=e.docs[t+1])&&void 0!==c?c:e.doc,f=[],h=[];f.push.apply(f,(0,s.Z)(fP(u,n,r,o))),h.push.apply(h,(0,s.Z)(fP(p,n,i,a))),l.push.apply(l,f),d.push.apply(d,h)}));c||r.push.apply(r,l),o.push.apply(o,(0,s.Z)(function(t){if(!a)return t;var n=kP(e);return t.filter((function(e){return!n.includes(e.pos)}))}(d)))},h=0;h<e.steps.length;h++)f(h);if(0===o.length&&c){var v=EP(e,t);o.push.apply(o,(0,s.Z)(function(e,t){for(var n=e.doc.type.schema,r=[],o=0;o<t.length;o++){var i=t[o],a=e.doc.nodeAt(i);if(a){var c=lP(n,a,i);c&&r.push(c)}}return r}(e,v)))}if(!p)return{removed:r,inserted:o,updated:i};for(var m=0;m<o.length;m++)if(c){var g=o[m],y=e.mapping.map(g.pos,-1),b=xP(t,y);i.push({inserted:o[m],previous:{display:b}})}else o.length===r.length&&i.push({removed:r[m],inserted:o[m]});return{inserted:[],removed:[],updated:i}},vP=[p.om.CHANGED_TYPE,p.om.UPDATED],mP=function(e,t){return!!e.steps.find((function(e){if(!(e instanceof zA))return!1;var n=e.getMetadata(),r=n.action;return!("RESOLVE"!==n.cardAction||!t)||!!r&&vP.includes(r)}))},gP=function(e){return"object"===(0,i.Z)(e)&&null!==e&&"type"in e},yP=function(e){var t=e.getMeta(IA);return gP(t)&&"QUEUE"===t.type},bP=function(e){var t=e.getMeta(IA);return gP(t)&&"RESOLVE"===t.type},wP=function(e){return"object"===(0,i.Z)(e)&&null!==e&&"redo"in e},kP=function(e){var t=e.getMeta(IA);return yP(e)?t.requests.map((function(e){return e.pos})):[]},EP=function(e,t){var n=C_(t);if(!n)return[];var r=e.getMeta(IA);return bP(e)?n.requests.filter((function(e){return e.url===r.url})).map((function(e){return e.pos})):[]},xP=function(e,t){var n,r=C_(e);if(r)return null===(n=r.requests.find((function(e){return e.pos===t})))||void 0===n?void 0:n.previousAppearance};function OP(e,t){var n=[];try{var r=e.getMeta("isRemote"),o=e.getMeta("replaceDocument");if(r||o)return n;var i=e.getMeta(_u),a=wP(i)&&!1===i.redo,c=wP(i)&&!0===i.redo,s=function(e){return e.steps.reduce((function(e,t){return t instanceof zA?VA(VA({},e),t.getMetadata()):e}),{})}(e),u={action:s.action,inputMethod:s.inputMethod,sourceEvent:s.sourceEvent,isUndo:a,isRedo:c},l=hP(e,t),d=l.removed,p=l.inserted,f=l.updated;if([d,p,f].some((function(e){return e.length>10})))return[];for(var h=0;h<f.length;h++){var v,m=f[h],g=m.inserted,y=uP(g),b=cP(g),w="removed"in m?cP(m.removed):null!==(v=m.previous.display)&&void 0!==v?v:"unknown";y&&n.push({type:"updated",data:pP(pP({},u),{},{url:y,display:b,previousDisplay:w})})}var k=function(e,t){for(var r=0;r<e.length;r++){var o=e[r],i=uP(o),a=cP(o);i&&n.push({type:t,data:pP(pP({},u),{},{url:i,display:a})})}};return k(d,"deleted"),k(p,"created"),n}catch(e){return n}}var SP,CP,TP=function(e){return function(t){var n=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=[],n={current:null};return{push:function(){var r=n.current;e&&r&&t.push.apply(t,arguments)},flush:function(){var r=n.current;if(e&&r)for(;t.length;){var o=t.pop();o&&r[o.type](o.data)}},setCallbacks:function(e){n.current=e},getSize:function(){return t.length}}}(!!t.featureFlags.lpAnalyticsEventsNext),r=e.editorAppearance,o=e.platform,i=e.allowResizing,a=e.useAlternativePreloader,c=e.fullWidthMode,l=e.createAnalyticsEvent,d=e.showServerActions;return new u.J({state:{init:function(){return{requests:[],provider:null,cards:[],showLinkingToolbar:!1,smartLinkEvents:void 0,smartLinkEventsNext:void 0,createAnalyticsEvent:l,editorAppearance:r}},apply:function(e,t,r){var o=function(e,t){return S_(S_({},e),{},{requests:e.requests.map((function(e){return S_(S_({},e),{},{pos:t.mapping.map(e.pos)})})),cards:e.cards.map((function(e){return S_(S_({},e),{},{pos:t.mapping.map(e.pos)})}))})}(t,e),i=e.getMeta(IA),a=OP(e,r);if(n.push.apply(n,(0,s.Z)(a)),i){var c=nP(o,i);return!t.smartLinkEventsNext&&c.smartLinkEventsNext&&n.setCallbacks(c.smartLinkEventsNext),c}return o}},view:function(r){var o=function(e,t){return iP(0,t,r)},i=[];return t.providerFactory.subscribe("cardProvider",o),{update:function(t,r){var o=C_(t.state),a=C_(r);if(o&&o.provider){var c=function(e,t){return e?t.requests.filter((function(t){return!e.requests.find((function(e){return T_(e,t)}))})):t.requests}(a,o),s=o.provider;c.forEach((function(n){var r=(0,PA.Z)((function(){return function(e,t,n,r){var o=!!n.shouldReplaceLink;return t.resolve(n.url,n.appearance,o).then(rP(e,n,r),oP(e,n))}(t,s,n,e)}));i.push(r.cancel),r()}))}n.flush()},destroy:function(){i.forEach((function(e){return e()})),t.providerFactory.unsubscribe("cardProvider",o)}}},props:{nodeViews:{inlineCard:(0,Gy.J)({pmPluginFactoryParams:t,Component:Q_,extraComponentProps:{useAlternativePreloader:a,showServerActions:d}}),blockCard:function(e,n,r){var i=t.portalProviderAPI,a=t.eventDispatcher;return new M_(e,n,r,i,a,{platform:o,showServerActions:d},void 0,!0,void 0,!0).init()},embedCard:function(e,n,r){var a=t.portalProviderAPI,s=t.eventDispatcher,u=t.dispatchAnalyticsEvent;return new K_(e,n,r,a,s,{eventDispatcher:s,allowResizing:i,platform:o,fullWidthMode:c,dispatchAnalyticsEvent:u},void 0,!0,void 0,!0).init()}}},key:IA})}},AP=n(84342),_P=n(73172),PP=n(82933),DP=n(14269),ZP=n(54073),IP=n.n(ZP),LP=n(67263),MP=n.n(LP),RP=n(26623),NP=n(53431),jP=n(88876),FP=n(60741),BP=n(41630),zP=(0,Ze.vU)({hyperlinkIconIssueLabel:{id:"fabric.editor.headingLink.hyperlinkIconIssueLabel",defaultMessage:"Issue",description:"icon label for a jira issue"},hyperlinkIconBugLabel:{id:"fabric.editor.headingLink.hyperlinkIconBugLabel",defaultMessage:"Bug",description:"icon label for a jira bug"},hyperlinkIconStoryLabel:{id:"fabric.editor.headingLink.hyperlinkIconStoryLabel",defaultMessage:"Story",description:"icon label for a jira story"},hyperlinkIconTaskLabel:{id:"fabric.editor.headingLink.hyperlinkIconTaskLabel",defaultMessage:"Task",description:"icon label for a jira task"},hyperlinkIconPageLabel:{id:"fabric.editor.headingLink.hyperlinkIconPageLabel",defaultMessage:"Page",description:"icon label for a confluence page"},hyperlinkIconBlogLabel:{id:"fabric.editor.headingLink.hyperlinkIconBlogLabel",defaultMessage:"Blog",description:"icon label for a confluence blog"}}),UP=(0,H.ZP)((function(e){var t=e.intl;return Z.createElement(RP.default,{label:t.formatMessage(zP.hyperlinkIconIssueLabel)})})),VP=(0,H.ZP)((function(e){var t=e.intl;return Z.createElement(NP.default,{label:t.formatMessage(zP.hyperlinkIconBugLabel)})})),HP=(0,H.ZP)((function(e){var t=e.intl;return Z.createElement(jP.default,{label:t.formatMessage(zP.hyperlinkIconStoryLabel)})})),WP=(0,H.ZP)((function(e){var t=e.intl;return Z.createElement(FP.default,{label:t.formatMessage(zP.hyperlinkIconTaskLabel)})})),GP=(0,H.ZP)((function(e){var t=e.intl;return Z.createElement(PP.Z,{label:t.formatMessage(zP.hyperlinkIconPageLabel)})})),qP=(0,H.ZP)((function(e){var t=e.intl;return Z.createElement(BP.Z,{label:t.formatMessage(zP.hyperlinkIconBlogLabel)})})),KP={"jira.issue":Z.createElement(UP,null),"jira.issue.bug":Z.createElement(VP,null),"jira.issue.story":Z.createElement(HP,null),"jira.issue.task":Z.createElement(WP,null),"confluence.page":Z.createElement(GP,null),"confluence.blogpost":Z.createElement(qP,null)},$P=function(e){return MP().createHash().update(e).digest("hex")},JP=function(e){return e.split(" ").length};function YP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YP(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SHOW_INSERT_TOOLBAR="SHOW_INSERT_TOOLBAR",e.HIDE_TOOLBAR="HIDE_TOOLBAR",e.SELECTION_CHANGE="SELECTION_CHANGE",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED_TOOLBAR"}(SP||(SP={})),function(e){e.EDIT_LINK_TOOLBAR="EDIT",e.INSERT_LINK_TOOLBAR="INSERT",e.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED"}(CP||(CP={}));var QP=function(e,t){return function(n){if(!n.doc.rangeHasMark(e,t,n.schema.marks.link)){var r=n.doc.resolve(e),o=n.doc.resolve(t),i=n.schema.marks.link;if(r.parent===o.parent&&r.parent.isTextblock&&r.parent.type.allowsMarkType(i)){var a=!0;return n.doc.nodesBetween(e,t,(function(e){return a=a&&!e.marks.some((function(e){return e.type.excludes(i)}))})),a}}return!1}},eD=function(e,t){if(e){if(e.type===CP.EDIT_LINK_TOOLBAR||e.type===CP.EDIT_INSERTED_TOOLBAR){var n=t.mapping.mapResult(e.pos,1),r=n.pos,o=n.deleted,i=t.doc.nodeAt(r);return!o&&i.type.schema.marks.link.isInSet(i.marks)?i===e.node&&r===e.pos?e:XP(XP({},e),{},{pos:r,node:i}):void 0}return e.type===CP.INSERT_LINK_TOOLBAR?XP(XP({},e),{},{from:t.mapping.map(e.from),to:t.mapping.map(e.to)}):void 0}},tD=function(e,t,n){if(!e)switch(t){case SP.SHOW_INSERT_TOOLBAR:var r=n.selection,o=r.from,i=r.to;return QP(o,i)(n)?{type:CP.INSERT_LINK_TOOLBAR,from:o,to:i}:void 0;case SP.SELECTION_CHANGE:var a=nD(n);return a?XP(XP({},a),{},{type:CP.EDIT_LINK_TOOLBAR}):void 0;default:return}if(e.type===CP.EDIT_LINK_TOOLBAR)switch(t){case SP.EDIT_INSERTED_TOOLBAR:var c=nD(n);return c?c.pos===e.pos&&c.node===e.node?XP(XP({},e),{},{type:CP.EDIT_INSERTED_TOOLBAR}):XP(XP({},c),{},{type:CP.EDIT_INSERTED_TOOLBAR}):void 0;case SP.SELECTION_CHANGE:var s=nD(n);return s?s.pos===e.pos&&s.node===e.node?e:XP(XP({},s),{},{type:CP.EDIT_LINK_TOOLBAR}):void 0;case SP.HIDE_TOOLBAR:return;default:return e}if(e.type===CP.INSERT_LINK_TOOLBAR)switch(t){case SP.SELECTION_CHANGE:case SP.HIDE_TOOLBAR:return;default:return e}},nD=function(e){var t=e.selection.$from;if(function(e){return!!e.doc.type.schema.marks.link.isInSet(e.selection.$from.marks())}(e)||function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.nodeAfter;return!!o&&0===n.textOffset&&r.pos-n.pos===o.nodeSize&&!!e.doc.type.schema.marks.link.isInSet(o.marks)}(e)){var n=t.pos-t.textOffset,r=e.doc.nodeAt(n);return r&&r.isText?{node:r,pos:n}:void 0}},rD=function(e){var t=e.content();if(0!==t.size)return 1===t.content.childCount&&t.content.firstChild&&e instanceof g.TextSelection?t.content.firstChild.textContent:void 0},oD=new g.PluginKey("hyperlinkPlugin");function iD(e){return(null==e?void 0:e.target)instanceof HTMLElement&&"A"===e.target.tagName}function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aD(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sD(e){return function(t){var n=t.doc.nodeAt(e);return!!n&&n.isText}}function uD(e,t,n,r,o,i,a){return function(c,s){var u=c.schema.marks.link,l=c.tr;if(n.trim()){var d=rl(n),f=oD.getState(c).activeText,h=t,v=o||r||n;return o&&o===f||(l.insertText(v,e,t),h=sD(e)(c)?e+v.length:e+v.length+1),l.addMark(e,h,u.create({href:d})),l.setSelection(g.Selection.near(l.doc.resolve(h))),o&&o!==n||g_(c,l,i,p.om.INSERTED,!1,a),l.setMeta(oD,{type:SP.HIDE_TOOLBAR}),s&&s(l),!0}return l.setMeta(oD,{type:SP.HIDE_TOOLBAR}),s&&s(l),!1}}function lD(e){return WA(function(e,t,n,r){return(0,_t.hX)(sD(t),(function(o,i){var a=o.doc.resolve(t),c=o.doc.nodeAt(t),s=o.schema.marks.link,u=s.isInSet(c.marks),l=rl(e);if(u&&u.attrs.href===l)return!1;var d=n&&t!==n?n:t-a.textOffset+c.nodeSize,f=o.tr.removeMark(t,d,s);return e.trim()?f.addMark(t,d,s.create(cD(cD({},u&&u.attrs||{}),{},{href:l}))):(0,At.Gs)(o,f,YA(p.VJ.HYPERLINK)),r||f.setMeta(oD,{type:SP.HIDE_TOOLBAR}),i&&i(f),!0}))}("",e),{action:p.om.UNLINK})}function dD(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Jq.TOOLBAR;return function(t,n){if(n){var r=t.tr.setMeta(oD,{type:SP.SHOW_INSERT_TOOLBAR,inputMethod:e});n(r=(0,At.Gs)(t,r,{action:p.om.INVOKED,actionSubject:p.Wt.TYPEAHEAD,actionSubjectId:p.VJ.TYPEAHEAD_LINK,attributes:{inputMethod:e},eventType:p.Ze.UI}))}return!0}}function pD(){return function(e,t){return t&&t(e.tr.setMeta(oD,{type:SP.HIDE_TOOLBAR})),!0}}var fD,hD,vD,mD=n(59285),gD=n(51062);function yD(){yD=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function bD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var wD=5,kD=(0,U.iv)(fD||(fD=(0,z.Z)(["\n  cursor: pointer;\n  padding: 0;\n  margin-right: 8px;\n  color: ",";\n  background: transparent;\n  border: none;\n"])),"var(--ds-icon-subtle, ".concat(V.WA,")")),ED=(0,U.iv)(hD||(hD=(0,z.Z)(["\n  ",";\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),bp,"var(--ds-border, ".concat(V.gt,")"),"var(--ds-border, ".concat(V.gt,")")),xD=(0,U.iv)(vD||(vD=(0,z.Z)(["\n  color: ",";\n  padding: 4px 8px;\n  width: 18px;\n"])),"var(--ds-icon-subtle, ".concat(V.Bn,")")),OD=(0,Ze.vU)({displayText:{id:"fabric.editor.displayText",defaultMessage:"Text to display",description:"Text to display"},clearText:{id:"fabric.editor.clearLinkText",defaultMessage:"Clear text",description:"Clears text on the link toolbar"},clearLink:{id:"fabric.editor.clearLink",defaultMessage:"Clear link",description:"Clears link in the link toolbar"},searchLinkAriaDescription:{id:"fabric.editor.hyperlink.searchLinkAriaDescription",defaultMessage:"Suggestions will appear below as you type into the field",description:"Describes what the search field does for screen reader users."},searchLinkResults:{id:"fabric.editor.hyperlink.searchLinkResults",defaultMessage:"{count, plural, =0 {no results} one {# result} other {# results}} found",description:"Announce search results for screen-reader users."},linkAriaLabel:{id:"fabric.editor.hyperlink.linkAriaLabel",defaultMessage:"Link label",description:"aria label for a link"}}),SD=(0,U.tZ)(PP.Z,{label:"page"}),CD=function(e){var t=e.name,n=e.container,r=e.iconUrl,o=e.objectId,i=e.url,a=e.viewedTimestamp;return{objectId:o,name:t,container:n,iconUrl:r,url:i,lastViewedDate:a?new Date(a):void 0,prefetch:!0}},TD=function(e){var t=e.objectId,n=e.container,r=e.title,o=e.contentType,i=e.url,a=e.updatedTimestamp;return{objectId:t,container:n,name:r,url:i,lastUpdatedDate:a?new Date(a):void 0,icon:o&&KP[o]||SD,prefetch:!1}},AD=function(e){(0,j.Z)(a,e);var t,n,r,i=bD(a);function a(e){var t;return(0,P.Z)(this,a),t=i.call(this,e),(0,o.Z)((0,N.Z)(t),"submitted",!1),(0,o.Z)((0,N.Z)(t),"urlInputContainer",null),(0,o.Z)((0,N.Z)(t),"displayTextInputContainer",null),(0,o.Z)((0,N.Z)(t),"wrapperRef",Z.createRef()),(0,o.Z)((0,N.Z)(t),"quickSearchQueryVersion",0),(0,o.Z)((0,N.Z)(t),"analyticSource","createLinkInlineDialog"),(0,o.Z)((0,N.Z)(t),"quickSearch",function(){var e=(0,wc.Z)(yD().mark((function e(n,r,o){var i,a,c,u,l,d,f,h,v,m,g,y,b,w;return yD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.state,c=a.searchProvider,u=a.displayUrl,l=t.props.pluginState,c){e.next=4;break}return e.abrupt("return");case 4:return d=++t.quickSearchQueryVersion,t.fireAnalytics({action:p.om.ENTERED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.LINK_SEARCH_INPUT,attributes:{queryLength:n.length,queryVersion:d,queryHash:$P(n),searchSessionId:null!==(i=l.searchSessionId)&&void 0!==i?i:"",wordCount:JP(n),source:t.analyticSource},nonPrivacySafeAttributes:{query:n},eventType:p.Ze.UI}),f=performance.now(),e.prev=7,e.next=10,c.quickSearch(n,o);case 10:v=e.sent,m=PD((0,DP.z)([].concat((0,s.Z)(r),(0,s.Z)(v.map(TD))),(function(e,t){return e.objectId===t.objectId}))),u===n&&d===t.quickSearchQueryVersion&&t.setState({items:m,isLoading:!1}),g=performance.now(),y=g-f,t.fireAnalytics({action:p.om.INVOKED,actionSubject:p.Wt.SEARCH_RESULT,actionSubjectId:p.VJ.QUICK_SEARCH,attributes:{duration:y,count:v.length},eventType:p.Ze.OPERATIONAL}),t.fireAnalytics({action:p.om.SHOWN,actionSubject:p.Wt.SEARCH_RESULT,actionSubjectId:p.VJ.POST_QUERY_SEARCH_RESULTS,attributes:{source:t.analyticSource,postQueryRequestDurationMs:y,searchSessionId:null!==(h=l.searchSessionId)&&void 0!==h?h:"",resultCount:v.length,results:v.map((function(e){return{resultContentId:e.objectId,resultType:e.contentType}}))},eventType:p.Ze.UI}),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(7),b=performance.now(),w=b-f,t.fireAnalytics({action:p.om.INVOKED,actionSubject:p.Wt.SEARCH_RESULT,actionSubjectId:p.VJ.QUICK_SEARCH,attributes:{duration:w,count:-1,errorCode:e.t0.status},nonPrivacySafeAttributes:{error:e.t0.message},eventType:p.Ze.OPERATIONAL});case 24:case"end":return e.stop()}}),e,null,[[7,19]])})));return function(t,n,r){return e.apply(this,arguments)}}()),(0,o.Z)((0,N.Z)(t),"updateInput",function(){var e=(0,wc.Z)(yD().mark((function e(n){var r,o,i,a,c;return yD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.state,o=r.activityProvider,i=r.searchProvider,t.setState({displayUrl:n}),!o){e.next=23;break}if(0!==n.length){e.next=13;break}return e.t0=t,e.next=7,t.getRecentItems(o);case 7:e.t1=e.sent,e.t2=-1,e.t3={items:e.t1,selectedIndex:e.t2},e.t0.setState.call(e.t0,e.t3),e.next=23;break;case 13:if(!(0,Qu.w6)(n)){e.next=17;break}t.setState({items:[],selectedIndex:-1,isLoading:!1}),e.next=23;break;case 17:return e.next=19,t.getRecentItems(o,n);case 19:a=e.sent,c=a.length<wD&&!!i,t.setState({items:a,isLoading:c}),c&&t.debouncedQuickSearch(n,a,wD);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,o.Z)((0,N.Z)(t),"createClearHandler",(function(e){return(0,wc.Z)(yD().mark((function n(){var r,i;return yD().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=t.state.activityProvider,n.t0=e,n.next="displayUrl"===n.t0?4:"displayText"===n.t0?24:26;break;case 4:if(n.t1=t,i={},(0,o.Z)(i,e,""),n.t2=o.Z,n.t3=i,!r){n.next=17;break}return n.t5=PD,n.next=13,r.getRecentItems();case 13:n.t6=n.sent,n.t4=(0,n.t5)(n.t6),n.next=18;break;case 17:n.t4=[];case 18:return n.t7=n.t4,(0,n.t2)(n.t3,"items",n.t7),n.t8=i,n.t1.setState.call(n.t1,n.t8),t.urlInputContainer&&t.urlInputContainer.focus(),n.abrupt("break",26);case 24:t.setState((0,o.Z)({},e,"")),t.displayTextInputContainer&&t.displayTextInputContainer.focus();case 26:case"end":return n.stop()}}),n)})))})),(0,o.Z)((0,N.Z)(t),"handleClickOutside",(function(e){if(e.target instanceof Element&&t.wrapperRef.current&&!t.wrapperRef.current.contains(e.target)){var n=t.props.view;pD()(n.state,n.dispatch)}})),(0,o.Z)((0,N.Z)(t),"getScreenReaderText",(function(){var e=t.props.intl,n=t.state,r=n.items,o=n.selectedIndex;if(r.length&&o>-1){var i=r[o],a=i.name,c=i.container,s=i.lastUpdatedDate,u=i.lastViewedDate,l=_p(e,u,s);return"".concat(a,", ").concat(c,", ").concat(null==l?void 0:l.pageAction," ").concat(null==l?void 0:l.dateString," ").concat((null==l?void 0:l.timeSince)||"")}})),(0,o.Z)((0,N.Z)(t),"isUrlPopulatedWithSelectedItem",(function(){var e=t.state,n=e.items,r=e.selectedIndex,o=e.displayUrl,i=n[r];return!(!i||i.url!==o)})),(0,o.Z)((0,N.Z)(t),"handleSelected",(function(e,n){t.handleInsert(e,n,p.Jq.TYPEAHEAD,"click")})),(0,o.Z)((0,N.Z)(t),"handleInsert",(function(e,n,r,o){var i=t.props,a=i.pluginState,c=i.onSubmit,s=t.state,u=s.items,l=s.selectedIndex,d=s.displayText;if(c&&(t.submitted=!0,c(e,n,d,r)),"click"===o||t.isUrlPopulatedWithSelectedItem()){var f,h,v=u[l];t.fireAnalytics({action:p.om.SELECTED,actionSubject:p.Wt.SEARCH_RESULT,attributes:{source:t.analyticSource,searchSessionId:null!==(f=a.searchSessionId)&&void 0!==f?f:"",trigger:o,resultCount:u.length,selectedResultId:v.objectId,selectedRelativePosition:l,prefetch:null!==(h=v.prefetch)&&void 0!==h&&h},eventType:p.Ze.UI})}})),(0,o.Z)((0,N.Z)(t),"handleMouseEnterResultItem",(function(e){var n=_D(t.state.items,(function(t){return t.objectId===e}));t.setState({selectedIndex:n})})),(0,o.Z)((0,N.Z)(t),"handleMouseLeaveResultItem",(function(e){var n=t.state,r=n.items;n.selectedIndex===_D(r,(function(t){return t.objectId===e}))&&t.setState({selectedIndex:-1})})),(0,o.Z)((0,N.Z)(t),"handleSubmit",(function(){var e=t.state,n=e.displayUrl,r=e.selectedIndex,o=e.items[r];if(t.isUrlPopulatedWithSelectedItem())t.handleInsert(rl(o.url),o.name,p.Jq.TYPEAHEAD,"keyboard");else if(n&&n.length>0){var i=rl(n);i&&t.handleInsert(i,n,p.Jq.MANUAL,"notselected")}})),(0,o.Z)((0,N.Z)(t),"handleClearTextKeyDown",(function(e){if(9!==e.keyCode);else{if(!t.submitted){var n=t.state,r=n.displayUrl,o=n.displayText,i=rl(r);t.handleInsert(i,o||r,p.Jq.MANUAL,"notselected")}e.preventDefault()}})),(0,o.Z)((0,N.Z)(t),"handleKeyDown",(function(e){var n=t.state,r=n.items,o=n.selectedIndex,i=t.props,a=i.pluginState,c=i.view,s=e.keyCode,u=40,l=38;if(27===s)return e.preventDefault(),pD()(c.state,c.dispatch),void c.dispatch(n_(c.state.tr));if(r&&r.length){var d,f=o;if(s===u?(e.preventDefault(),f=(o+1)%r.length):s===l&&(e.preventDefault(),f=o>0?o-1:r.length-1),[u,l].includes(s)&&r[f])t.setState({selectedIndex:f,displayUrl:r[f].url}),t.fireAnalytics({action:p.om.HIGHLIGHTED,actionSubject:p.Wt.SEARCH_RESULT,attributes:{source:t.analyticSource,searchSessionId:null!==(d=a.searchSessionId)&&void 0!==d?d:"",selectedResultId:r[f].objectId,selectedRelativePosition:f},eventType:p.Ze.UI})}})),(0,o.Z)((0,N.Z)(t),"updateTextInput",(function(e){t.setState({displayText:e})})),(0,o.Z)((0,N.Z)(t),"handleCancel",(function(e){var n=t.props.view;e.preventDefault(),pD()(n.state,n.dispatch)})),t.state={selectedIndex:-1,isLoading:!1,displayUrl:rl(e.displayUrl),displayText:e.displayText,items:[]},t.handleClearText=t.createClearHandler("displayUrl"),t.handleClearDisplayText=t.createClearHandler("displayText"),t.debouncedQuickSearch=IP()(t.quickSearch,400),t.fireCustomAnalytics=(0,h.Z)(e.createAnalyticsEvent),t}return(0,D.Z)(a,[{key:"componentDidMount",value:(r=(0,wc.Z)(yD().mark((function e(){var t,n,r,o,i,a,c;return yD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.pluginState,document.addEventListener("mousedown",this.handleClickOutside),this.fireAnalytics({action:p.om.VIEWED,actionSubject:p.Wt.CREATE_LINK_INLINE_DIALOG,attributes:{timesViewed:r.timesViewed,searchSessionId:null!==(t=r.searchSessionId)&&void 0!==t?t:"",trigger:null!==(n=r.inputMethod)&&void 0!==n?n:""},eventType:p.Ze.SCREEN}),e.next=5,Promise.all([this.props.activityProvider,this.props.searchProvider]);case 5:return o=e.sent,i=(0,sr.Z)(o,2),a=i[0],c=i[1],this.setState({activityProvider:a,searchProvider:c}),e.next=12,this.loadInitialLinkSearchResult();case 12:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e,t=this.props.pluginState;(document.removeEventListener("mousedown",this.handleClickOutside),this.submitted)||this.fireAnalytics({action:p.om.DISMISSED,actionSubject:p.Wt.CREATE_LINK_INLINE_DIALOG,attributes:{source:this.analyticSource,searchSessionId:null!==(e=t.searchSessionId)&&void 0!==e?e:"",trigger:"blur"},eventType:p.Ze.UI})}},{key:"getRecentItems",value:(n=(0,wc.Z)(yD().mark((function e(t,n){var r,o,i,a,c,s,u,l,d;return yD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.props.pluginState,o=performance.now(),e.prev=2,e.t0=PD,!n){e.next=10;break}return e.next=7,t.searchRecent(n);case 7:e.t1=e.sent,e.next=13;break;case 10:return e.next=12,t.getRecentItems();case 12:e.t1=e.sent;case 13:return e.t2=e.t1,a=(0,e.t0)(e.t2),c=a.map(CD),s=performance.now(),u=s-o,this.fireAnalytics({action:p.om.INVOKED,actionSubject:p.Wt.SEARCH_RESULT,actionSubjectId:p.VJ.RECENT_ACTIVITIES,attributes:{duration:u,count:c.length},eventType:p.Ze.OPERATIONAL}),this.fireAnalytics({action:p.om.SHOWN,actionSubject:p.Wt.SEARCH_RESULT,actionSubjectId:p.VJ.PRE_QUERY_SEARCH_RESULTS,attributes:{source:this.analyticSource,preQueryRequestDurationMs:u,searchSessionId:null!==(i=r.searchSessionId)&&void 0!==i?i:"",resultCount:c.length,results:a.map((function(e){var t;return{resultContentId:e.objectId,resultType:null!==(t=e.type)&&void 0!==t?t:""}}))},eventType:p.Ze.UI}),e.abrupt("return",c);case 23:return e.prev=23,e.t3=e.catch(2),l=performance.now(),d=l-o,this.fireAnalytics({action:p.om.INVOKED,actionSubject:p.Wt.SEARCH_RESULT,actionSubjectId:p.VJ.RECENT_ACTIVITIES,attributes:{duration:d,count:-1,errorCode:e.t3.status},nonPrivacySafeAttributes:{error:e.t3.message},eventType:p.Ze.OPERATIONAL}),e.abrupt("return",[]);case 29:case"end":return e.stop()}}),e,this,[[2,23]])}))),function(e,t){return n.apply(this,arguments)})},{key:"fireAnalytics",value:function(e){this.props.createAnalyticsEvent&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:e})}},{key:"loadInitialLinkSearchResult",value:(t=(0,wc.Z)(yD().mark((function e(){var t,n,r,o;return yD().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,n=t.displayUrl,r=t.activityProvider,e.prev=1,n||!r){e.next=8;break}return this.setState({isLoading:!0}),e.next=6,this.getRecentItems(r);case 6:o=e.sent,this.setState({items:o});case 8:return e.prev=8,this.setState({isLoading:!1}),e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[1,,8,11]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this,t=this.state,n=t.items,r=t.isLoading,o=t.selectedIndex,i=t.displayUrl,a=t.displayText,c=this.props,s=c.intl.formatMessage,u=c.activityProvider,l=s(u?Q.F0.placeholder:Q.F0.linkPlaceholder),d=s(Q.F0.linkAddress),p=s(OD.clearLink),f=s(OD.displayText),h="search-recent-links-field-description",v="hyperlink-search-list",m=o>-1?"link-search-list-item-".concat(o):"",g=Ec.Z.safari&&this.getScreenReaderText();return(0,U.tZ)("div",{className:"recent-list"},(0,U.tZ)("div",{css:[wp,!!u&&kp],ref:this.wrapperRef},(0,U.tZ)("div",{css:bp},(0,U.tZ)("span",{css:xD},(0,U.tZ)(Vi.Z,{content:d},(0,U.tZ)(_P.default,{label:d}))),g&&(0,U.tZ)(gD.Z,{ariaLive:"assertive",text:g,ariaRelevant:"additions",delay:250}),(0,U.tZ)("div",{css:mD.J,"aria-hidden":"true",id:h},s(OD.searchLinkAriaDescription)),(0,U.tZ)(vp,{role:"combobox",ariaExpanded:!0,ariaActiveDescendant:m,ariaControls:v,ariaAutoComplete:!0,describedById:h,ref:function(t){return e.urlInputContainer=t},placeholder:l,testId:"link-url",onSubmit:this.handleSubmit,onChange:this.updateInput,autoFocus:{preventScroll:!0},onCancel:this.handleCancel,defaultValue:i,onKeyDown:this.handleKeyDown}),i&&(0,U.tZ)(Vi.Z,{content:p},(0,U.tZ)("button",{type:"button",css:kD,onClick:this.handleClearText},(0,U.tZ)(Ff.Z,{label:p})))),(0,U.tZ)("div",{css:ED},(0,U.tZ)("span",{css:xD},(0,U.tZ)(Vi.Z,{content:f},(0,U.tZ)(Ae.Z,{label:f}))),(0,U.tZ)(vp,{ref:function(t){return e.displayTextInputContainer=t},placeholder:f,ariaLabel:s(OD.linkAriaLabel),testId:"link-label",onChange:this.updateTextInput,onCancel:this.handleCancel,defaultValue:a,onSubmit:this.handleSubmit,onKeyDown:this.handleKeyDown}),a&&(0,U.tZ)(Vi.Z,{content:s(OD.clearText)},(0,U.tZ)("button",{type:"button",css:kD,onClick:this.handleClearDisplayText,onKeyDown:this.handleClearTextKeyDown},(0,U.tZ)(Ff.Z,{label:s(OD.clearText)})))),(0,U.tZ)("div",{css:mD.J,"aria-live":"polite","aria-atomic":"true",id:"fabric.editor.hyperlink.suggested.results"},i&&s(OD.searchLinkResults,{count:n.length})),(0,U.tZ)(Gp,{ariaControls:"fabric.editor.hyperlink.suggested.results",id:v,role:"listbox",items:n,isLoading:r,selectedIndex:o,onSelect:this.handleSelected,onMouseEnter:this.handleMouseEnterResultItem,onMouseLeave:this.handleMouseLeaveResultItem})))}}]),a}(Z.PureComponent);function _D(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function PD(e){return e.slice(0,wD)}var DD=(0,H.ZP)(AD);const ZD=(0,Bf.Z)()(DD);function ID(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var LD={getAtlaskitAnalyticsContext:lk().func,getAtlaskitAnalyticsEventHandlers:lk().func},MD=function(){return[]},RD=function(e){(0,j.Z)(n,e);var t=ID(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:r.getAnalyticsContext}})),(0,o.Z)((0,N.Z)(r),"getAnalyticsContext",(function(){var e=r.props.data,t=r.context.getAtlaskitAnalyticsContext,n=void 0===t?MD:t;return[].concat((0,s.Z)(n()),[e])})),(0,o.Z)((0,N.Z)(r),"getAnalyticsEventHandlers",(function(){var e=r.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?MD:e)()})),r.contextValue={getAtlaskitAnalyticsContext:r.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers},r}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props.children;return Z.createElement(dk.Z.Provider,{value:this.contextValue},e)}}]),n}(Z.Component);(0,o.Z)(RD,"contextTypes",LD),(0,o.Z)(RD,"childContextTypes",LD);const ND=RD;var jD=n(42479),FD=n(2670);const BD=function(e){var t=e.data,n=e.children,r=(0,FD.V)(t),o=(0,jD.O)(),i=(0,Z.useCallback)((function(){return[].concat((0,s.Z)(o.getAtlaskitAnalyticsContext()),[r.current])}),[o,r]),a=(0,Z.useMemo)((function(){return{getAtlaskitAnalyticsContext:i,getAtlaskitAnalyticsEventHandlers:o.getAtlaskitAnalyticsEventHandlers}}),[o,i]);return Z.createElement(dk.Z.Provider,{value:a},n)};var zD,UD=n(34406);const VD=null!=UD&&null!==(zD=UD.env)&&void 0!==zD&&zD.ANALYTICS_NEXT_MODERN_CONTEXT?BD:ND;var HD=n(95167),WD=n(38600);const GD=JSON.parse('{"u2":"@atlaskit/link-picker","i8":"1.18.4"}');var qD=n(54953);function KD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KD(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const JD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=(0,Z.forwardRef)((function(n,r){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=(0,qD._)().createAnalyticsEvent,r=(0,Z.useRef)({}),a=(0,Z.useMemo)((function(){var a=r.current;return Object.keys(a).filter((function(t){return!(t in e)})).forEach((function(e){return delete a[e]})),Object.keys(e).reduce((function(r,c){var s=e[c];if(!["object","function"].includes((0,i.Z)(s)))return r;var u=t[c];if(c in a&&a[c].eventCreator===s&&a[c].propValue===u)return $D($D({},r),{},(0,o.Z)({},c,a[c].wrappedCallback));var l=function(){var e="function"==typeof s?s(n,t):n(s);if(u&&"function"==typeof u){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];u.apply(void 0,o.concat([e]))}};return a[c]={eventCreator:s,wrappedCallback:l,propValue:u},$D($D({},r),{},(0,o.Z)({},c,l))}),{})}),[e,t,n,r]);return{patchedEventProps:a}}(e,n),c=a.patchedEventProps,s=(0,qD._)().createAnalyticsEvent;return Z.createElement(t,(0,Lt.Z)({},n,c,{createAnalyticsEvent:s,ref:r}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}};var YD=n(51383),XD=n(88956),QD=n(58872),eZ=n(27940),tZ=n(91243),nZ=n(61799),rZ=(0,Ze.vU)({heading:{defaultMessage:"Something went wrong!",description:"Heading displayed when an unhandled error occurs.",id:"fabric.linkPicker.unhandledError.heading"},description:{defaultMessage:"Try reloading the page.",description:"Body message shown underneath the heading when an unhandled error occurs.",id:"fabric.linkPicker.unhandledError.description"}}),oZ=function(){var e=(0,De.Z)(),t=e.formatMessage(rZ.heading),n=e.formatMessage(rZ.description);return(0,U.tZ)("div",{css:nZ.$I,"data-testid":"link-picker-root-error-boundary-ui"},(0,U.tZ)(eZ.Z,{header:t,renderImage:function(){return(0,U.tZ)(tZ.Z,null)},description:n}))};function iZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var aZ=function(e){(0,j.Z)(n,e);var t=iZ(n);function n(e){var r;return(0,P.Z)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return(0,D.Z)(n,[{key:"componentDidCatch",value:function(e,t){var n=this.props.onError;n&&n(e,t),this.setState({hasError:!0})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.ErrorComponent;return this.state.hasError&&n?Z.createElement(n,null):t}}]),n}(Z.Component);const cZ=JD()((function(e){var t=e.children,n=e.createAnalyticsEvent,r=(0,QD.mM)(),o=(0,Z.useCallback)((function(e,t){var o,i,a;n((0,YD.Z)("ui.linkPicker.unhandledErrorCaught",{browserInfo:(null===(o=window)||void 0===o||null===(i=o.navigator)||void 0===i?void 0:i.userAgent)||"unknown",error:e.toString(),componentStack:null!==(a=null==t?void 0:t.componentStack)&&void 0!==a?a:""})).fire(WD.D),(0,XD.jR)(XD.Hz.mounted,r)}),[n,r]);return Z.createElement(aZ,{onError:o,ErrorComponent:oZ},t)}));var sZ=function(e){var t=e.hideDisplayText;return(0,U.tZ)("div",{css:t?nZ.gc:nZ.HJ,"data-testid":"link-picker-root-loader-boundary-ui"},(0,U.tZ)(Ep.Z,{testId:"link-picker.component-loading-indicator",size:"medium"}))},uZ={packageName:GD.u2,packageVersion:GD.i8,componentName:WD.l,source:WD.l},lZ=(0,HD.Ai)((function(){return Promise.all([n.e(3146),n.e(6337)]).then(n.bind(n,13632))})),dZ=(0,Z.memo)((function(e){return Z.createElement(VD,{data:uZ},Z.createElement(QD.ix,null,Z.createElement(cZ,null,Z.createElement(HD.BY,{fallback:Z.createElement(sZ,{hideDisplayText:e.hideDisplayText})},Z.createElement(lZ,e)))))}));var pZ=["view","onCancel","invokeMethod","editorAppearance"],fZ=function(e){var t=e.view,n=e.onCancel,r=e.invokeMethod,o=void 0===r?"_unknown":r,i=e.editorAppearance,a=(0,ko.Z)(e,pZ),c=(0,Z.useCallback)((function(){pD()(t.state,t.dispatch),t.dispatch(n_(t.state.tr)),null==n||n()}),[t,n]),s=function(e,t){var n=(0,Z.useRef)(null);return(0,Z.useEffect)((function(){var r=function(e){var r=n.current;e.target instanceof Element&&r&&!r.contains(e.target)&&t()},o=function(t){"Escape"===t.key&&(t.preventDefault(),e())};return document.addEventListener("mousedown",r),document.addEventListener("keydown",o),function(){document.removeEventListener("mousedown",r),document.removeEventListener("keydown",o)}}),[t,e]),n}(c,(0,Z.useCallback)((function(){pD()(t.state,t.dispatch),null==n||n()}),[t,n])),u=(0,A_.a9)(i),l=(0,Z.useMemo)((function(){return{attributes:{invokeMethod:o,location:u},location:u}}),[o,u]);return Z.createElement("div",{ref:s},Z.createElement(ps.Z,{data:l},Z.createElement(dZ,(0,Lt.Z)({},a,{onCancel:c}))))};function hZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var vZ=function(e){return function(t,n){var r=t.url,o=t.title,i=t.displayText,a=t.rawUrl,c=t.meta;e(r,null!=o?o:a,i||void 0,"manual"===c.inputMethod?p.Jq.MANUAL:p.Jq.TYPEAHEAD,n)}},mZ=function(e){(0,j.Z)(n,e);var t=hZ(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.linkPickerOptions,n=void 0===t?{}:t,r=e.onSubmit,o=e.displayText,i=e.displayUrl,a=e.providerFactory,c=e.view,s=e.onCancel,u=e.invokeMethod,l=e.featureFlags;return Z.createElement(Rl.S,{providers:["activityProvider","searchProvider"],providerFactory:a,renderNode:function(e){var t=e.activityProvider,a=e.searchProvider;return Z.createElement(M.Z,{editorView:c,plugins:{hyperlinkPluginState:oD},render:function(e){var d=e.hyperlinkPluginState;return l.lpLinkPicker?Z.createElement(fZ,(0,Lt.Z)({view:c,invokeMethod:null!=u?u:null==d?void 0:d.inputMethod,editorAppearance:null==d?void 0:d.editorAppearance},n,{url:i,displayText:o,onSubmit:vZ(r),onCancel:s})):Z.createElement(ZD,{activityProvider:t,searchProvider:a,onSubmit:r,displayText:o,displayUrl:i,pluginState:d,view:c})}})}})}}]),n}(Z.PureComponent);function gZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var yZ,bZ,wZ,kZ,EZ=(0,Yf.Z)(mZ),xZ=function(e){(0,j.Z)(n,e);var t=gZ(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"handleEsc",(function(t){(0,lf.QP)('[aria-label="'.concat(Q.F0.editLink.defaultMessage,'"]'),e.props.view)})),e}return(0,D.Z)(n,[{key:"componentDidUpdate",value:function(e){e.node!==this.props.node&&this.hideLinkToolbar()}},{key:"componentWillUnmount",value:function(){this.hideLinkToolbar()}},{key:"hideLinkToolbar",value:function(){var e=this.props.view;e.dispatch(n_(e.state.tr))}},{key:"render",value:function(){var e=this,t=this.props,n=t.linkPickerOptions,r=t.providerFactory,o=t.url,i=t.text,a=t.view,c=t.featureFlags,s=t.onSubmit;return Z.createElement(EZ,{view:a,linkPickerOptions:n,providerFactory:r,displayUrl:o,displayText:i,handleEscapeKeydown:this.handleEsc,invokeMethod:p.Jq.FLOATING_TB,featureFlags:c,onSubmit:function(t,n,r,o,i){e.hideLinkToolbar(),s&&s(t,r||n,i)}})}}]),n}(Z.Component),OZ=function(e,t){var n,r="hyperlink";return e.selection instanceof g.NodeSelection&&(r=e.selection.node.type.name),!!t&&(t((0,At.Gs)(e,(n=e.tr,XA(n,{type:"SHOW_LINK_TOOLBAR"})),qA(r))),!0)},SZ=function(e){var t=e.providerFactory,n=e.node,r=e.linkPicker,o=e.featureFlags;return{type:"custom",disableArrowNavigation:!0,fallback:[],render:function(e,i){if(!e||!t)return null;var a=RA(n,NA(e.state));return Z.createElement(xZ,{key:i,view:e,linkPickerOptions:r,providerFactory:t,url:a.url,text:a.title||"",node:n,featureFlags:o,onSubmit:function(t,n,r){var o=t!==a.url;return n!==a.title?WA(y_(n,t),{action:p.om.UPDATED,sourceEvent:r})(e.state,e.dispatch):o?b_(t,r)(e.state,e.dispatch):void 0}})}}},CZ=function(e){return Z.createElement("svg",(0,Lt.Z)({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Z.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 9c-1.10457 0-2 .89543-2 2v10c0 1.1046.89543 2 2 2h16c1.1046 0 2-.8954 2-2V11c0-1.10457-.8954-2-2-2H8Zm0 3c0-.5523.44772-1 1-1h2c.5523 0 1 .4477 1 1v2c0 .5523-.4477 1-1 1H9c-.55228 0-1-.4477-1-1v-2Zm5 1c0-.2761.2239-.5.5-.5h10c.2761 0 .5.2239.5.5s-.2239.5-.5.5h-10c-.2761 0-.5-.2239-.5-.5Zm-4 3c-.55228 0-1 .4477-1 1s.44772 1 1 1h14c.5523 0 1-.4477 1-1s-.4477-1-1-1H9Zm-1 4c0-.5523.44772-1 1-1h6c.5523 0 1 .4477 1 1s-.4477 1-1 1H9c-.55228 0-1-.4477-1-1Z",fill:"currentColor"}))},TZ=function(e){return Z.createElement("svg",(0,Lt.Z)({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Z.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 6c-1.10457 0-2 .89543-2 2v16c0 1.1046.89543 2 2 2h16c1.1046 0 2-.8954 2-2V8c0-1.10457-.8954-2-2-2H8Zm1 2c-.55228 0-1 .44772-1 1v2c0 .5523.44772 1 1 1h2c.5523 0 1-.4477 1-1V9c0-.55228-.4477-1-1-1H9Zm4.5 1.5c-.2761 0-.5.22386-.5.5 0 .2761.2239.5.5.5h10c.2761 0 .5-.2239.5-.5 0-.27614-.2239-.5-.5-.5h-10ZM9 14c-.55228 0-1 .4477-1 1v8c0 .5523.44772 1 1 1h14c.5523 0 1-.4477 1-1v-8c0-.5523-.4477-1-1-1H9Zm6 2.5c0 .8284-.6716 1.5-1.5 1.5s-1.5-.6716-1.5-1.5.6716-1.5 1.5-1.5 1.5.6716 1.5 1.5Zm0 5.5-1-1-2 2h8v-1.8L18 19l-3 3Z",fill:"currentColor"}))},AZ=function(e){return Z.createElement("svg",(0,Lt.Z)({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Z.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 12c-1.10457 0-2 .8954-2 2v4c0 1.1046.89543 2 2 2h16c1.1046 0 2-.8954 2-2v-4c0-1.1046-.8954-2-2-2H8Zm0 3c0-.5523.44772-1 1-1h2c.5523 0 1 .4477 1 1v2c0 .5523-.4477 1-1 1H9c-.55228 0-1-.4477-1-1v-2Zm5 1c0-.2761.2239-.5.5-.5h10c.2761 0 .5.2239.5.5s-.2239.5-.5.5h-10c-.2761 0-.5-.2239-.5-.5Z",fill:"currentColor"}))},_Z=function(e){return Z.createElement("svg",(0,Lt.Z)({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Z.createElement("rect",{x:"6",y:"15",width:"20",height:"2",rx:"1",fill:"currentColor"}))},PZ={url:{title:lh.urlTitle,icon:function(e){return Z.createElement(Mt.Z,(0,Lt.Z)({glyph:_Z},e))}},inline:{title:lh.inlineTitle,icon:function(e){return Z.createElement(Mt.Z,(0,Lt.Z)({glyph:AZ},e))}},block:{title:lh.blockTitle,icon:function(e){return Z.createElement(Mt.Z,(0,Lt.Z)({glyph:CZ},e))}},embed:{title:lh.embedTitle,icon:function(e){return Z.createElement(Mt.Z,(0,Lt.Z)({glyph:TZ},e))}}},DZ=n(56925),ZZ=["disabled"],IZ=(0,U.iv)(yZ||(yZ=(0,z.Z)(["\n  pointer-events: auto;\n"]))),LZ=(0,U.iv)(bZ||(bZ=(0,z.Z)(["\n  pointer-events: none;\n"]))),MZ=function(e){e.disabled;var t=(0,ko.Z)(e,ZZ);return(0,U.tZ)("div",t)},RZ=(0,U.iv)(wZ||(wZ=(0,z.Z)(["\n  cursor: pointer;\n"]))),NZ=(0,U.iv)(kZ||(kZ=(0,z.Z)(["\n  cursor: not-allowed;\n"]))),jZ=function(e){var t=e.options;return(0,U.tZ)(DZ.Z,null,t.map((function(e){var t=e.onClick,n=e.selected,r=e.disabled,o=e.testId,i=e.tooltipContent,a=e.title,c=e.icon;return(0,U.tZ)(MZ,{css:r?NZ:RZ,key:o,disabled:r},(0,U.tZ)(mp.Z,{css:r?LZ:IZ,title:a,icon:(0,U.tZ)(c,{size:"medium",label:a}),selected:n,onClick:t,testId:o,disabled:r,tooltipContent:i}))})))};function FZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FZ(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zZ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var UZ=function(e){(0,j.Z)(n,e);var t=zZ(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"renderDropdown",(function(t,n){var r=e.props,o=r.url,i=r.intl,a=r.currentAppearance,c=r.editorState,s=r.allowEmbeds,u=r.allowBlockCards,l=void 0===u||u,d=r.platform,f=s&&n&&o&&n.extractors.getPreview(o,d);if(o){var h,v,m=null==n||null===(h=n.store)||void 0===h?void 0:h.getState()[o];if("fatal"===(null==m||null===(v=m.error)||void 0===v?void 0:v.kind))return null}var g=!!l&&(0,Ls.MU)(c,on.Fragment.from(c.schema.nodes.blockCard.createChecked({})),a),y=!!s&&(0,Ls.MU)(c,on.Fragment.from(c.schema.nodes.embedCard.createChecked({})),a),b=s&&f&&{appearance:"embed",title:i.formatMessage(lh.embed),onClick:E_("embed"),selected:"embed"===a,hidden:!1,testId:"embed-appearance",disabled:!y,tooltip:y?void 0:VZ(c,i)},w=l&&{appearance:"block",title:i.formatMessage(lh.block),onClick:E_("block"),selected:"block"===a,testId:"block-appearance",disabled:!g,tooltip:g?void 0:VZ(c,i)},k=[{title:i.formatMessage(lh.url),onClick:WA(y_(o,o,!0),{action:p.om.CHANGED_TYPE}),selected:!a,testId:"url-appearance"},{appearance:"inline",title:i.formatMessage(lh.inline),onClick:E_("inline"),selected:"inline"===a,testId:"inline-appearance"}],E=function(e){e&&e(c,t&&t.dispatch),t&&!t.hasFocus()&&t.focus()};return w&&k.push(w),b&&k.push(b),Z.createElement(jZ,{key:"link-toolbar-button-group",options:k.map((function(e){return function(e,t,n){var r=n.disabled,o=n.onClick,i=n.selected,a=n.appearance,c=n.testId,s=n.tooltip,u=PZ[null!=a?a:"url"],l=u.title,d=u.icon;return{title:e.formatMessage(l),icon:d,onClick:function(){return t(o)},disabled:Boolean(r),tooltipContent:s||null,testId:c,selected:i}}(i,E,BZ(BZ({},e),{},{onClick:WA(e.onClick,{inputMethod:p.Jq.FLOATING_TB})}))}))})})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.context.contextAdapter?this.context.contextAdapter.card:void 0,t=this.props.editorView;return this.renderDropdown(t,e&&e.value)}}]),n}(Z.Component);(0,o.Z)(UZ,"contextTypes",{contextAdapter:lk().object});var VZ=function(e,t){try{var n=e.selection.$from.node(1),r=t.formatMessage(Q.ZP[n.type.name]);return t.formatMessage(lh.displayOptionUnavailableInParentNode,{node:r})}catch(e){return t.formatMessage(lh.displayOptionUnavailableInParentNode,{node:t.formatMessage(Q.ZP.defaultBlockNode)})}},HZ=n(62403);function WZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WZ(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WZ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qZ=WA((function(e,t){if(!(e.selection instanceof g.NodeSelection))return!1;var n=e.selection.node.type.name,r={action:p.om.DELETED,actionSubject:p.Wt.SMART_LINK,actionSubjectId:n,attributes:{inputMethod:p.Jq.TOOLBAR,displayMode:n},eventType:p.Ze.TRACK};return t&&t((0,At.Gs)(e,(0,W.au)(e.tr),r)),!0}),{action:p.om.DELETED}),KZ=function(e,t){if(!(e.selection instanceof g.NodeSelection))return!1;var n=e.selection.node.type,r=MA(e.selection.node).url;return window.open(r),t&&t((0,At.Gs)(e,e.tr,$A(n.name))),!0},$Z=function(e,t){if(!(e.selection instanceof g.NodeSelection))return!1;if(window.open("https://id.atlassian.com/manage-profile/link-preferences"),t){var n=e.selection.node.type;t((0,At.Gs)(e,e.tr,JA(n.name)))}return!0},JZ=function(e,t,n,r){return function(o,i,a){var c=o.schema.nodes,s=[c.inlineCard,c.blockCard,c.embedCard],u=IA.getState(o);if(o.selection instanceof g.NodeSelection){var l=o.selection.node;if(l){var d="embed"===LA(l.type),p=d?{offset:[0,24]}:{},f=u.showLinkingToolbar?HZ.I:void 0,h=t.lpLinkPicker,v=t.lpLinkPickerFocusTrap,m=t.preventPopupOverflow,y=h&&v,b=!!h;return GZ(GZ({title:i.formatMessage(lh.card),className:f,nodeType:s,preventPopupOverflow:m},p),{},{getDomRef:function(e){var t=(0,W.TM)(e.state.selection.from,e.domAtPos.bind(e));if(t)return d?t.querySelector(".".concat(Ed.I)):t},items:QZ(o,t,i,a,e,n,r),scrollable:!u.showLinkingToolbar,focusTrap:y&&u.showLinkingToolbar},function(e,t){return e?{height:t?570:360,width:yp,forcePlacement:!0}:{}}(u.showLinkingToolbar,b))}}}},YZ=function(e,t){var n=RA(e,NA(t)),r=n.title||n.url;return r?WA(function(e){return function(t,n){if(!(t.selection instanceof g.NodeSelection&&t.selection.node))return!1;var r=t.tr.replaceSelectionWith(t.schema.text(e),!1);return n&&(HA(t.selection,r,{action:p.om.UNLINK}),(0,At.Gs)(t,r.scrollIntoView(),YA(p.VJ.CARD_INLINE)),n(r)),!0}}(r),{action:p.om.UNLINK}):function(){return!1}},XZ=function(e){return WA(e,{inputMethod:p.Jq.FLOATING_TB})},QZ=function(e,t,n,r,o,i,a){return function(c){var u=MA(c).url,l={};if(u&&!(0,Qu.w6)(u))return[];var d=RA(c,NA(e)).title;l={url:u,title:d};var p=IA.getState(e),f=LA(c.type);if(p.showLinkingToolbar&&"mobile"!==i)return[SZ({providerFactory:r,linkPicker:a,node:c,featureFlags:t})];var h=e.schema.nodes.inlineCard,v=[{id:"editor.link.edit",type:"button",selected:!1,metadata:l,title:n.formatMessage(Q.F0.editLink),showTitle:!0,testId:"link-toolbar-edit-link-button",onClick:OZ},{type:"separator"},{id:"editor.link.openLink",type:"button",icon:ih.Z,metadata:l,className:"hyperlink-open-link",title:n.formatMessage(ah.openLink),onClick:KZ},{type:"separator"}].concat((0,s.Z)(eI(e,n,c,h)),[{type:"copy-button",items:[{state:e,formatMessage:n.formatMessage,nodeType:c.type},{type:"separator"}]}],(0,s.Z)(tI(e,t,n)),[{id:"editor.link.delete",focusEditoronEnter:!0,type:"button",appearance:"danger",icon:Ya.Z,onMouseEnter:(0,Xa.pP)(c.type,!0),onMouseLeave:(0,Xa.pP)(c.type,!1),onFocus:(0,Xa.pP)(c.type,!0),onBlur:(0,Xa.pP)(c.type,!1),title:n.formatMessage(Q.ZP.remove),onClick:XZ(qZ)}]);if("embed"===f){var m=function(e,t,n){return Df(e,t,e.schema.nodes.embedCard,!0,!0,null==n?void 0:n.allowWrapping,null==n?void 0:n.allowAlignment)}(e,n,o);m.length&&m.push({type:"separator"}),v.unshift.apply(v,(0,s.Z)(m))}var g=o.allowBlockCards,y=o.allowEmbeds;return f&&v.unshift({type:"custom",fallback:[],render:function(t){return Z.createElement(UZ,{key:"link-appearance",url:u,intl:n,currentAppearance:f,editorView:t,editorState:e,allowEmbeds:y,allowBlockCards:g,platform:i})}},{type:"separator"}),v}},eI=function(e,t,n,r){return n.type===r?[{id:"editor.link.unlink",focusEditoronEnter:!0,type:"button",title:t.formatMessage(Q.F0.unlink),icon:rp.Z,onClick:XZ(YZ(n,e))},{type:"separator"}]:[]},tI=function(e,t,n){return"true"===t.floatingToolbarLinkSettingsButton?[{id:"editor.link.settings",type:"button",icon:AP.Z,title:n.formatMessage(Q.F0.settingsLink),onClick:$Z},{type:"separator"}]:[]},nI=n(1725);var rI=function(e){var t=e.editorView,n=(0,Z.useMemo)((function(){return new nI.Er}),[]);return(0,Z.useEffect)((function(){var e;n&&t.dispatch((e=n,function(t){return XA(t,{type:"REGISTER_EVENTS",smartLinkEvents:e})})(t.state.tr))}),[n,t]),null},oI=function(e){return function(t,n,r){if(!r||!n)return!1;var o=function(e,t,n){var r,o=e.selection,i=o.$from.parent,a=e.schema.nodes.inlineCard;if(!(0,W.xH)(i,!1).some((function(e){return e.node.type===a})))return null;var c=t.coordsAtPos(o.$anchor.pos),s=null===(r=t.posAtCoords({left:c.left,top:"up"===n?c.top-10:c.bottom+10}))||void 0===r?void 0:r.pos;if(s){var u=e.doc.nodeAt(s);if(u)return u.type!==a||0===(0,W.N2)(i,(function(e){return e===u}),!1).length||u===o.node?null:s}return null}(t,r,e);return!!o&&(n(t.tr.setSelection(new g.NodeSelection(t.doc.resolve(o)))),!0)}};var iI=n(31118);function aI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aI(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sI=function(){function e(t){var n=this;(0,P.Z)(this,e),(0,o.Z)(this,"_isAnalyticsEvent",!0),(0,o.Z)(this,"clone",(function(){return new e({payload:cI({},n.payload)})})),this.payload=t.payload}return(0,D.Z)(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===(0,i.Z)(e)&&(this.payload=cI(cI({},this.payload),e)),this}}]),e}();function uI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var lI=function(e){(0,j.Z)(n,e);var t=uI(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"_isUIAnalyticsEvent",!0),(0,o.Z)((0,N.Z)(r),"clone",(function(){return r.hasFired?null:new n({context:(0,s.Z)(r.context),handlers:(0,s.Z)(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),(0,o.Z)((0,N.Z)(r),"fire",(function(e){r.hasFired||(r.handlers.forEach((function(t){return t((0,N.Z)(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return(0,D.Z)(n,[{key:"update",value:function(e){return this.hasFired?this:(0,md.Z)((0,B.Z)(n.prototype),"update",this).call(this,e)}}]),n}(sI);function dI(){var e=(0,Z.useContext)(dk.Z);return{createAnalyticsEvent:(0,iI.vl)((function(t){return new lI({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}const pI=function(e){return function(t){return function(n){var r=n(t),o=r.clone();return o&&o.fire(e),r}}};var fI=n(55975),hI=n(40478),vI=n(47377),mI=n(54573),gI=function(e){return window.requestIdleCallback?window.requestIdleCallback(e,{timeout:5e3}):window.requestAnimationFrame(e)};function yI(){yI=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var bI=n(9695),wI=["url","display"],kI=["url","display","previousDisplay"],EI=["url","display"];function xI(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var OI=function(e){return function(t){var n=t.isUndo,r=t.isRedo;return n?"undo":r?"redo":e(t)}},SI=OI((function(e){var t=e.inputMethod;if(!e.sourceEvent)switch(t){case p.Jq.CLIPBOARD:return"editor_paste";case p.Jq.FLOATING_TB:return"editor_floatingToolbar";case p.Jq.AUTO_DETECT:return"editor_type";default:return"unknown"}})),CI=OI((function(e){var t=e.action;if(!e.sourceEvent)switch(t){case p.om.CHANGED_TYPE:return"display_update";case p.om.UPDATED:return"link_update";default:return"unknown"}})),TI=OI((function(e){return e.action===p.om.UNLINK?"unlink":"delete"})),AI=function(e){return e.sourceEvent instanceof bI.Z?e.sourceEvent:null},_I=function(e){if("url"===e)return"link"},PI=function(e){var t,r,o,i,a,c=e.editorView,s=(t=dI().createAnalyticsEvent,r=(0,fI.ap)(),o=r.store,i=r.connections.client,a=!!(0,hI.y)("enableResolveMetadataForLinkAnalytics"),(0,Z.useMemo)((function(){var e=function(e){return function(){for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];try{gI((function(){pI(vI.D)((0,mI.Z)("operational.fireAnalyticEvent.commenced",{action:e}))(t)})),gI((0,wc.Z)(yI().mark((function r(){return yI().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.e(6580).then(n.bind(n,4252));case 2:(0,r.sent.default)(e,t,i,o,{enableResolveMetadataForLinkAnalytics:a}).apply(void 0,c);case 5:case"end":return r.stop()}}),r)}))))}catch(n){pI(vI.D)((0,mI.Z)("operational.fireAnalyticEvent.failed",{error:n instanceof Error?n.toString():"",action:e}))(t)}}};return{linkCreated:e("created"),linkUpdated:e("updated"),linkDeleted:e("deleted")}}),[i,o,t,a])),u=s.linkCreated,l=s.linkUpdated,d=s.linkDeleted,p=(0,Z.useMemo)((function(){return{created:function(e){var t=e.url,n=e.display,r=(0,ko.Z)(e,wI);u({url:t,displayCategory:_I(n)},AI(r),{display:n,creationMethod:SI(r)})},updated:function(e){var t=e.url,n=e.display,r=e.previousDisplay,o=(0,ko.Z)(e,kI);l({url:t,displayCategory:_I(n)},AI(o),{display:n,previousDisplay:r,updateMethod:SI(o),updateType:CI(o)})},deleted:function(e){var t=e.url,n=e.display,r=(0,ko.Z)(e,EI);d({url:t,displayCategory:_I(n)},AI(r),{display:n,deleteMethod:SI(r),deleteType:TI(r)})}}}),[u,l,d]);return(0,Z.useEffect)((function(){var e;c.dispatch((e=p,function(t){return XA(t,{type:"REGISTER_EVENTS_NEXT",smartLinkEvents:e})})(c.state.tr))}),[p,c]),null},DI=function(e){(0,j.Z)(n,e);var t=xI(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.context.contextAdapter.card;return e?Z.createElement(e.Provider,{value:e.value},Z.createElement(PI,this.props)):null}}]),n}(Z.PureComponent);function ZI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function II(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZI(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}(0,o.Z)(DI,"contextTypes",{contextAdapter:lk().object});const LI=function(e,t){var n,r,o=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"card",nodes:function(){var t=[{name:"inlineCard",node:TA.D},{name:"blockCard",node:AA._}];return e.allowEmbeds&&t.push({name:"embedCard",node:_A._}),t},pmPlugins:function(){var t,n,r,o,i,a=null===(t=e.allowBlockCards)||void 0===t||t,c=null===(n=e.allowResizing)||void 0===n||n,s=null===(r=e.useAlternativePreloader)||void 0===r||r,u=null===(o=e.allowWrapping)||void 0===o||o,l=null===(i=e.allowAlignment)||void 0===i||i,d=[{name:"card",plugin:TP(II(II({},e),{},{allowBlockCards:a,allowResizing:c,useAlternativePreloader:s,allowWrapping:u,allowAlignment:l}))}];return d.push({name:"cardKeymap",plugin:function(e){return function(e){var t={};return Ec.Z.chrome&&Ec.Z.chrome_version>90&&e.chromeCursorHandlerFixedVersion&&Ec.Z.chrome_version<e.chromeCursorHandlerFixedVersion&&(Re.E4(Re.A1.common,oI("up"),t),Re.E4(Re.vi.common,oI("down"),t)),(0,it.h)(t)}(e.featureFlags)}}),d},contentComponent:function(e){var t=e.editorView,n=o.lpAnalyticsEventsNext;return Z.createElement(Z.Fragment,null,Z.createElement(rI,{editorView:t}),n&&Z.createElement(DI,{editorView:t}))},pluginsOptions:{floatingToolbar:JZ(e,o,e.platform,e.linkPicker)}}};function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function RI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MI(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const NI=function(e,t){switch(t.action){case"matched":return function(e,t){return RI(RI({},e),{},{resolving:[].concat((0,s.Z)(e.resolving),[{start:t.start,end:t.end,match:t.match}])})}(e,t);case"resolved":return function(e,t){return RI(RI({},e),{},{matches:[].concat((0,s.Z)(e.matches),[{replacement:t.replacement,matchString:t.matchString}])})}(e,t);case"finish":return function(e,t){return RI(RI({},e),{},{resolving:e.resolving.filter((function(e){return e.match[0]!==t.matchString})),matches:e.matches.filter((function(e){return e.matchString!==t.matchString}))})}(e,t);default:return e}};var jI=function(e,t,n,r,o){var i=e.state.doc.resolve(n);if(i.parent.type.spec.code)return!1;for(var a=i.parent.textBetween(Math.max(0,i.parentOffset-500),i.parentOffset,void 0,"￼")+o,c=0;c<t.length;c++){var s=void 0;if(s=o.length?t[c].matchTyping.exec(a):t[c].matchEnter.exec(a)){var u=n-(s[0].length-o.length);return t[c].handler(e,s,u,r),!0}}return!1},FI=new g.PluginKey("customAutoformatPlugin"),BI=function(e,t){return e.setMeta(FI,t)};function zI(){zI=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function UI(){UI=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function VI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VI(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var WI=function(e){var t=e.providerFactory,n=[];return new u.J({state:{init:function(){return{resolving:[],matches:[]}},apply:function(e,t){if(!t)return t;var n=HI(HI({},t),{},{resolving:t.resolving.map((function(t){return HI(HI({},t),{},{start:e.mapping.map(t.start),end:e.mapping.map(t.end,-1)})}))}),r=e.getMeta(FI);return r?NI(n,r):n}},props:{handleTextInput:function(e,t,r,o){return jI(e,n,t,r,o),!1},handleKeyDown:(0,it.$)({Enter:function(e,t,r){return jI(r,n,r.state.selection.from,r.state.selection.to,""),!1}})},view:function(){var e=function(e,t){"autoformattingProvider"===e&&t&&t.then(function(){var e=(0,wc.Z)(UI().mark((function e(t){var r;return UI().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRules();case 2:r=e.sent,Object.keys(r).forEach((function(e){var t,o={matchTyping:new RegExp("(\\s+|^)"+e+"(\\s|,|\\.)$"),matchEnter:new RegExp("(\\s+|^)"+e+"()$"),handler:(t=r[e],function(){var e=(0,wc.Z)(zI().mark((function e(n,r,o,i){var a,c,s;return zI().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t(r.slice(1,r.length-1)),n.dispatch(BI(n.state.tr,{action:"matched",match:r,start:o,end:i})),e.next=4,a;case 4:return c=e.sent,s=(0,cr.wy)(n.state.schema,c),n.dispatch(BI(n.state.tr,{action:"resolved",matchString:r[0],replacement:s})),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}())};n.push(o)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return t.subscribe("autoformattingProvider",e),{update:function(e){var t,n=(t=e.state,FI.getState(t));n&&n.matches&&function(e,t){var n=e.state.schema.nodes.inlineCard;t.matches.forEach((function(r){var o=t.resolving.filter((function(e){return e.match[0]===r.matchString})),i=e.state.tr;o.forEach((function(t){var o=t.match,a=t.start,c=t.end,s=r.replacement,u=o[1],l=c+o[o.length-1].length;s&&(s.type===n||s.isText)&&e.state.doc.textBetween(a,l,"#","|")===o[0]&&(i=i.replaceWith(i.mapping.map(a+u.length),i.mapping.map(c,-1),s))})),i=BI(i,{action:"finish",matchString:r.matchString}),e.dispatch((0,qn.SJ)(i))}))}(e,n)},destroy:function(){t.unsubscribe("autoformattingProvider",e)}}},key:FI})};const GI=function(){return{name:"customAutoformat",pmPlugins:function(){return[{name:"customAutoformat",plugin:WI}]}}};var qI=n(63935),KI=new g.PluginKey("statusPlugin");function $I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$I(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var YI={text:"",color:"neutral"},XI=function(e){return function(t,n){var r=t.schema,o=e?Object.assign(e,{text:e.text.trim(),localId:e.localId||bw.V.generate()}):e,i=JI(JI({},YI),o),a=t.tr,c=KI.getState(t).showStatusPickerAt;if(!c){var s=r.nodes.status.createChecked(i),u=on.Fragment.fromArray([s,t.schema.text(" ")]);if((0,W.om)(a.selection.$from,u))a.insert(a.selection.from,u).setSelection(g.NodeSelection.create(a.doc,a.selection.from-u.size));else{var l=g.NodeSelection.create(a.doc,a.selection.from-a.selection.$anchor.parentOffset-1);a.insert(l.to,u).setSelection(g.NodeSelection.create(a.doc,l.to+1))}return a.setMeta(KI,{showStatusPickerAt:a.selection.from,isNew:!0}).scrollIntoView(),n&&n(a),!0}return!!t.doc.nodeAt(c)&&(a.setNodeMarkup(c,r.nodes.status,i).setSelection(g.NodeSelection.create(a.doc,c)).setMeta(KI,{showStatusPickerAt:c}).scrollIntoView(),n&&n(a),!0)}},QI=function(){return function(e){var t=e.state,n=e.dispatch,r=KI.getState(t).showStatusPickerAt;if(r){var o=t.tr.doc.nodeAt(r);if(o){var i=t.tr;i=i.setMeta(KI,{showStatusPickerAt:null,isNew:!1}),o.attrs.text?i.selection.from===r&&(i=i.setSelection(g.Selection.near(t.tr.doc.resolve(r+2)))):i=i.delete(r,r+1),n(i),e.focus()}}}},eL=function(e){if(e&&e instanceof g.NodeSelection&&"status"===e.node.type.name)return e.node.attrs||null;return null};function tL(){var e={};return Re.E4(Re.IO.common,nL,e),Re.E4(Re.n2.common,nL,e),(0,it.h)(e)}var nL=function(e,t){return!!eL(e.tr.selection)};var rL,oL,iL=n(50838),aL=(0,Ze.vU)({placeholder:{id:"fabric.editor.statusPlaceholder",defaultMessage:"Set a status",description:"Placeholder description for an empty (new) status item in the editor"},editText:{id:"fabric.editor.editStatusText",defaultMessage:"Edit Status",description:"Title for the input that changes the status text"},editColor:{id:"fabric.editor.editStatusColor",defaultMessage:"Edit Status Color",description:"Title for the color picker that changes the status color"}}),cL=(0,U.iv)(rL||(rL=(0,z.Z)(["\n  opacity: 1;\n"]))),sL=(0,U.iv)(oL||(oL=(0,z.Z)(["\n  opacity: 0.5;\n"]))),uL=(0,H.ZP)((function(e){var t=e.text,n=e.color,r=e.localId,o=e.style,i=e.intl.formatMessage,a=t||i(aL.placeholder);return(0,U.tZ)("span",{css:t?cL:sL},(0,U.tZ)(iL.q,{text:a,color:n,localId:r,style:o,onClick:function(e){e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}}))})),lL=function(e){var t=e.view,n=e.node.attrs,r=n.text,o=n.color,i=n.localId,a=n.style;return(0,U.tZ)(uL,{view:t,text:r,color:o,style:a,localId:i})};function dL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dL(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const fL=function(e,t){return new u.J({state:{init:function(){return{isNew:!1,showStatusPickerAt:null}},apply:function(t,n,r){var o=t.getMeta(KI);if(o){var i=pL(pL({},n),o);return e.dispatch(KI,i),i}if(t.docChanged&&n.showStatusPickerAt){var a=t.mapping.mapResult(n.showStatusPickerAt),c=a.pos,s=a.deleted?null:c,u=pL(pL({},n),{},{showStatusPickerAt:s});if(u.showStatusPickerAt!==n.showStatusPickerAt)return e.dispatch(KI,u),u}if(t.selectionSet){var l=t.selection.from,d=t.doc.nodeAt(l),p=null;if(d&&d.type===r.schema.nodes.status&&t.selection instanceof g.NodeSelection&&(p=l),p!==n.showStatusPickerAt){var f=pL(pL({},n),{},{isNew:!1,showStatusPickerAt:p});return e.dispatch(KI,f),f}}return n}},filterTransaction:function(e,t){if(e.selectionSet&&!e.steps.length&&e.isGeneric&&e.selection instanceof g.TextSelection&&t.selection instanceof g.NodeSelection){var n=KI.getState(t),r=n.isNew,o=n.showStatusPickerAt,i=e.doc.nodeAt(e.selection.from);if(r&&o&&i&&i.type===t.schema.nodes.status)return!1}return!0},appendTransaction:function(e,t,n){var r,o=!1,i=n.tr;if(e.find((function(e){return e.selectionSet}))){var a=eL(t.selection),c=eL(n.selection);if(a&&(c&&a.localId!==c.localId||!c)&&(r=a)&&(r.text&&0===r.text.trim().length||""===r.text)){var s=t.selection.from;i.delete(i.mapping.map(s),i.mapping.map(s+1)),o=!0}}return o?i:void 0},key:KI,props:{nodeViews:{status:(0,Gy.J)({pmPluginFactoryParams:e,Component:lL,extraComponentProps:{options:t}})}}})};var hL=n(21532),vL="__ATLASKIT_THEME__",mL="light",gL=["light","dark"];function yL(e){if(e&&e.theme){if(vL in e.theme)return e.theme[vL];if("mode"in e.theme&&gL.includes(e.theme.mode))return e.theme}return{mode:mL}}function bL(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=yL(e);if(e&&e[n]&&r){var o=r[e[n]];if(o&&o[t.mode]){var i=o[t.mode];if(i)return i}}return""};var n,r,o=e;return function(e){var t=yL(e);if(t.mode in o){var n=o[t.mode];if(n)return n}return""}}var wL,kL,EL="#FF5630",xL="#DE350B",OL="#FFAB00",SL="#FF991F",CL="#36B37E",TL="#00875A",AL="#DEEBFF",_L="#4C9AFF",PL="#2684FF",DL="#0052CC",ZL="#5243AA",IL="#FFFFFF",LL="#6B778C",ML="#505F79",RL="#172B4D",NL="#091E42",jL="#B8C7E0",FL="#8C9CB8",BL="#283447",zL=(bL({light:"var(--ds-surface, ".concat(IL,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),bL({light:"var(--ds-background-selected, ".concat(AL,")"),dark:"var(--ds-background-selected, ".concat("#B3D4FF",")")}),bL({light:"var(--ds-background-neutral-hovered, ".concat("#EBECF0",")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),bL({light:"var(--ds-surface-overlay, ".concat(IL,")"),dark:"var(--ds-surface-overlay, ".concat(BL,")")}),bL({light:"var(--ds-text, ".concat(NL,")"),dark:"var(--ds-text, ".concat(jL,")")}),bL({light:"var(--ds-text, ".concat(RL,")"),dark:"var(--ds-text, ".concat(jL,")")}),bL({light:"var(--ds-text-selected, ".concat(DL,")"),dark:"var(--ds-text-selected, ".concat(DL,")")}),bL({light:"var(--ds-text-subtlest, ".concat(LL,")"),dark:"var(--ds-text-subtlest, ".concat(FL,")")}),bL({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),bL({light:"var(--ds-text, ".concat(RL,")"),dark:"var(--ds-text, ".concat(jL,")")}),bL({light:"var(--ds-text-subtlest, ".concat(LL,")"),dark:"var(--ds-text-subtlest, ".concat(FL,")")}),bL({light:"#F4F5F7",dark:BL}),bL({light:"var(--ds-link, ".concat(DL,")"),dark:"var(--ds-link, ".concat(_L,")")}),bL({light:"var(--ds-link-pressed, ".concat("#0065FF",")"),dark:"var(--ds-link-pressed, ".concat(PL,")")}),bL({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(_L,")")}),bL({light:"var(--ds-border-focused, ".concat(_L,")"),dark:"var(--ds-border-focused, ".concat(PL,")")}),bL({light:"var(--ds-background-brand-bold, ".concat(DL,")"),dark:"var(--ds-background-brand-bold, ".concat(_L,")")}),bL({light:DL,dark:_L}),bL({light:"#00B8D9",dark:"#00C7E6"}),bL({light:"#6554C0",dark:"#998DD9"}),bL({light:EL,dark:EL}),bL({light:OL,dark:OL}),bL({light:CL,dark:CL}),n(31458)),UL=n(50438),VL=(0,Ze.vU)({neutralColor:{id:"fabric.status.color.grey",defaultMessage:"Grey",description:"Tooltip for the grey color in color palette"},purpleColor:{id:"fabric.status.color.purple",defaultMessage:"Purple",description:"Tooltip for the purple color in color palette"},blueColor:{id:"fabric.status.color.blue",defaultMessage:"Blue",description:"Tooltip for the blue color in color palette"},redColor:{id:"fabric.status.color.red",defaultMessage:"Red",description:"Tooltip for the red color in color palette"},yellowColor:{id:"fabric.status.color.yellow",defaultMessage:"Yellow",description:"Tooltip for the yellow color in color palette"},greenColor:{id:"fabric.status.color.green",defaultMessage:"Green",description:"Tooltip for the green color in color palette"},statusInputLabel:{id:"fabric.status.input.label",defaultMessage:"Set a status",description:"Aria label text for the status input field"}});function HL(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var WL,GL=(0,U.iv)(wL||(wL=(0,z.Z)(["\n  height: 24px;\n  width: 24px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n  box-sizing: border-box;\n  overflow: hidden;\n"])),"var(--ds-background-neutral, ".concat(NL,")"),"var(--ds-border, ".concat(IL,")")),qL=(0,U.iv)(kL||(kL=(0,z.Z)(["\n  border: 1px solid transparent;\n  margin: 0 2px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border: 1px solid ",";\n  }\n"])),"var(--ds-border, ".concat("#C1C7D0",")")),KL=function(e){(0,j.Z)(n,e);var t=HL(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"hoverStartTime",0),(0,o.Z)((0,N.Z)(e),"onMouseEnter",(function(){e.hoverStartTime=Date.now()})),(0,o.Z)((0,N.Z)(e),"onMouseLeave",(function(){var t=e.props.onHover;Date.now()-e.hoverStartTime>=UL.G&&t&&t(e.props.value),e.hoverStartTime=0})),(0,o.Z)((0,N.Z)(e),"onMouseDown",(function(e){e.preventDefault()})),(0,o.Z)((0,N.Z)(e),"onClick",(function(t){var n=e.props,r=n.onClick,o=n.value;t.preventDefault(),r(o)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.tabIndex,r=t.backgroundColor,o=t.isSelected,i=t.borderColor,a=t.iconColor,c=t.value,s=t.setRef;return(0,U.tZ)("span",{css:qL},(0,U.tZ)(Bg.Z,VL["".concat(c,"Color")],(function(t){return(0,U.tZ)("button",{css:GL,onClick:e.onClick,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,tabIndex:n,className:"".concat(o?"selected":""),title:t[0],"aria-pressed":o,style:{backgroundColor:r||"transparent",borderColor:i},ref:s},o&&(0,U.tZ)(zL.Z,{primaryColor:a,label:t[0]}))})))}},{key:"componentWillUnmount",value:function(){this.hoverStartTime=0}}]),n}(Z.PureComponent),$L=[["neutral","var(--ds-background-neutral, ".concat("#DFE1E6",")"),"var(--ds-border-bold, ".concat(ML,")"),"var(--ds-icon, ".concat(ML,")")],["purple","var(--ds-background-discovery, ".concat("#EAE6FF",")"),"var(--ds-border-discovery, ".concat(ZL,")"),"var(--ds-icon-discovery, ".concat(ZL,")")],["blue","var(--ds-background-information, ".concat(AL,")"),"var(--ds-border-information, ".concat(DL,")"),"var(--ds-icon-information, ".concat(DL,")")],["red","var(--ds-background-danger, ".concat("#FFEBE6",")"),"var(--ds-border-danger, ".concat(xL,")"),"var(--ds-icon-danger, ".concat(xL,")")],["yellow","var(--ds-background-warning, ".concat("#FFFAE6",")"),"var(--ds-border-warning, ".concat(SL,")"),"var(--ds-icon-warning, ".concat(SL,")")],["green","var(--ds-background-success, ".concat("#E3FCEF",")"),"var(--ds-border-success, ".concat(TL,")"),"var(--ds-icon-success, ".concat(TL,")")]],JL=(0,U.iv)(WL||(WL=(0,z.Z)(["\n  margin: ","px ","px 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n  flex-wrap: wrap;\n"])),8,8,8);const YL=function(e){var t=e.cols,n=void 0===t?7:t,r=e.onClick,o=e.selectedColor,i=e.className,a=e.onHover,c=(0,Z.useRef)([]);(0,Z.useEffect)((function(){c.current=c.current.slice(0,$L.length)}),[]);var s=(0,Z.useCallback)((function(e){var t=$L.findIndex((function(e){return(0,sr.Z)(e,1)[0]===o})),n=null,i=function(){return t+1>$L.length-1?0:t+1},a=function(){return t-1<0?$L.length-1:t-1};switch(e.keyCode){case 39:case 40:e.preventDefault(),n=i();break;case 37:case 38:e.preventDefault(),n=a();break;case 9:e.preventDefault(),n=e.shiftKey?a():i()}if(null!==n){var s=$L[n][0],u=c.current[n];null==u||u.focus(),r(s)}}),[o,r,c]);return(0,U.tZ)("div",{css:JL,className:i,role:"radiogroup",style:{maxWidth:32*n},onKeyDown:s},$L.map((function(e,t){var n=(0,sr.Z)(e,4),i=n[0],s=n[1],u=n[2],l=n[3];return(0,U.tZ)(KL,{key:i,value:i,backgroundColor:s,borderColor:u,iconColor:l,onClick:r,onHover:a,isSelected:i===o,tabIndex:i===o?0:-1,setRef:function(e){return c.current[t]=e}})})))};var XL;function QL(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var eM=(0,U.iv)(XL||(XL=(0,z.Z)(["\n  margin: 0 ","px;\n"])),8),tM=function(e){(0,j.Z)(n,e);var t=QL(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"fieldTextWrapperKey",Math.random().toString()),(0,o.Z)((0,N.Z)(e),"colorPaletteKey",Math.random().toString()),(0,o.Z)((0,N.Z)(e),"onChange",(function(t){e.props.onTextChanged(t.target.value)})),(0,o.Z)((0,N.Z)(e),"onKeyPress",(function(t){"Enter"===t.key&&e.props.onEnter()})),(0,o.Z)((0,N.Z)(e),"handleInputRef",(function(t){t&&e.props.autoFocus&&setTimeout((function(){t.focus()}),50)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.selectedColor,r=e.onColorClick,o=e.onColorHover,i=e.intl;return(0,U.tZ)(Z.Fragment,null,(0,U.tZ)("div",{css:eM,key:this.fieldTextWrapperKey},(0,U.tZ)(hL.Z,{value:t,isCompact:!0,ref:this.handleInputRef,onChange:this.onChange,onKeyPress:this.onKeyPress,spellCheck:!1,autoComplete:"off","aria-label":i.formatMessage(VL.statusInputLabel)})),(0,U.tZ)(YL,{key:this.colorPaletteKey,onClick:r,onHover:o,selectedColor:n}))}}]),n}(Z.PureComponent);(0,o.Z)(tM,"defaultProps",{autoFocus:!0});var nM=(0,H.ZP)(tM),rM=n(28796);function oM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function iM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oM(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var aM,cM=function(e){return e?"new":"update"};function sM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var uM,lM=(0,rM.Z)(G.Z);!function(e){e.blur="blur",e.escKey="escKey",e.enterKey="enterKey"}(uM||(uM={}));var dM=(0,U.iv)(aM||(aM=(0,z.Z)(["\n  background: ",";\n  padding: ","px 0;\n  border-radius: ","px;\n  box-shadow: ",";\n  input {\n    text-transform: uppercase;\n  }\n"])),"var(--ds-surface-overlay, ".concat(V.N0,")"),(0,re.ww)(),(0,re.E0)(),"var(--ds-shadow-overlay, 0 0 1px rgba(9, 30, 66, 0.31), 0 4px 8px -2px rgba(9, 30, 66, 0.25))"),pM=function(e){(0,j.Z)(n,e);var t=sM(n);function n(e){var r,i;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"handleClickOutside",(function(e){e.preventDefault(),r.inputMethod=uM.blur,window.getSelection()||r.props.closeStatusPicker()})),(0,o.Z)((0,N.Z)(r),"handleEscapeKeydown",(function(e){e.preventDefault(),r.inputMethod=uM.escKey,r.props.onEnter(r.state)})),(0,o.Z)((0,N.Z)(r),"onColorHover",(function(e){r.createStatusAnalyticsAndFireFunc({action:"hovered",actionSubject:"statusColorPicker",attributes:{color:e,localId:r.state.localId,state:cM(r.props.isNew)}})})),(0,o.Z)((0,N.Z)(r),"onColorClick",(function(e){var t=r.state,n=t.text,o=t.localId;e===r.state.color?(r.createStatusAnalyticsAndFireFunc({action:"clicked",actionSubject:"statusColorPicker",attributes:{color:e,localId:o,state:cM(r.props.isNew)}}),r.onEnter()):(r.setState({color:e}),r.props.onSelect({text:n,color:e,localId:o}))})),(0,o.Z)((0,N.Z)(r),"onTextChanged",(function(e){var t=r.state,n=t.color,o=t.localId;r.setState({text:e}),r.props.onTextChanged({text:e,color:n,localId:o},!!r.props.isNew)})),(0,o.Z)((0,N.Z)(r),"onEnter",(function(){r.inputMethod=uM.enterKey,r.props.onEnter(r.state)})),(0,o.Z)((0,N.Z)(r),"handlePopupClick",(function(e){return e.nativeEvent.stopImmediatePropagation()})),r.state=r.extractStateFromProps(e),r.createStatusAnalyticsAndFireFunc=(i=e.createAnalyticsEvent,function(e){if(i&&e){var t=iM(iM({},e),{},{eventType:"ui"});t.attributes||(t.attributes={}),t.attributes.packageName=oy.u2,t.attributes.packageVersion=oy.i8,t.attributes.componentName="status",i(t).fire("fabric-elements")}}),r}return(0,D.Z)(n,[{key:"fireStatusPopupOpenedAnalytics",value:function(e){var t=e.color,n=e.text,r=e.localId,o=e.isNew;this.startTime=Date.now(),this.createStatusAnalyticsAndFireFunc({action:"opened",actionSubject:"statusPopup",attributes:{textLength:n?n.length:0,selectedColor:t,localId:r,state:cM(o)}})}},{key:"fireStatusPopupClosedAnalytics",value:function(e){var t=e.color,n=e.text,r=e.localId,o=e.isNew;this.createStatusAnalyticsAndFireFunc({action:"closed",actionSubject:"statusPopup",attributes:{inputMethod:this.inputMethod,duration:Date.now()-this.startTime,textLength:n?n.length:0,selectedColor:t,localId:r,state:cM(o)}})}},{key:"reset",value:function(){this.startTime=Date.now(),this.inputMethod=uM.blur}},{key:"componentDidMount",value:function(){this.reset(),this.fireStatusPopupOpenedAnalytics(this.state)}},{key:"componentWillUnmount",value:function(){this.fireStatusPopupClosedAnalytics(this.state),this.startTime=0}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.target;if(e.target!==r){var o=this.extractStateFromProps(this.props);this.setState(o),this.fireStatusPopupClosedAnalytics(t),this.reset(),this.fireStatusPopupOpenedAnalytics(o)}}},{key:"extractStateFromProps",value:function(e){var t=e.defaultColor,n=e.defaultText,r=e.defaultLocalId,o=e.isNew;return{color:t||YI.color,text:n||YI.text,localId:r,isNew:o}}},{key:"render",value:function(){var e=this.props,t=e.isNew,n=e.target,r=e.mountTo,o=e.boundariesElement,i=e.scrollableElement,a=this.state,c=a.color,s=a.text;return n&&(0,U.tZ)(lM,{target:n,offset:[0,8],handleClickOutside:this.handleClickOutside,handleEscapeKeydown:this.handleEscapeKeydown,zIndex:ue.k2,fitHeight:40,mountTo:r,boundariesElement:o,scrollableElement:i},(0,U.tZ)("div",{css:dM,onClick:this.handlePopupClick},(0,U.tZ)(nM,{autoFocus:t,selectedColor:c,text:s,onColorClick:this.onColorClick,onColorHover:this.onColorHover,onTextChanged:this.onTextChanged,onEnter:this.onEnter})))}}]),n}(Z.Component);const fM=(0,Bf.Z)()(pM);var hM=function(e,t){return!0===t.menuDisabled||(e.pluginsOptions={quickInsert:function(e){var t=e.formatMessage;return[{id:"status",title:t(Jo.S.status),description:t(Jo.S.statusDescription),priority:700,keywords:["lozenge"],icon:function(){return Z.createElement(Vo,null)},action:function(e,t){return(0,At.Gs)(t,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t,n){var r=n.schema.nodes.status.createChecked(JI(JI({},YI),{},{localId:bw.V.generate()})),o=n.schema.text(" "),i=t(on.Fragment.from([r,o]),{selectInlineNode:!0}),a=i.selection.from+e;return i.setSelection(g.NodeSelection.create(i.doc,a)).setMeta(KI,{showStatusPickerAt:a,isNew:!0})}}()(e,t),{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.STATUS,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.TRACK})}}]}}),e};const vM=function(e,t){return hM(function(e){return{name:"status",nodes:function(){return[{name:"status",node:qI.i}]},pmPlugins:function(){return[{name:"status",plugin:function(t){return fL(t,e)}},{name:"statusKeymap",plugin:tL}]},contentComponent:function(e){var t=e.editorView,n=e.popupsMountPoint,r=e.popupsBoundariesElement,o=e.popupsScrollableElement,i=t.domAtPos.bind(t);return Z.createElement(M.Z,{plugins:{statusState:KI},render:function(e){var a=e.statusState,c=void 0===a?{}:a,s=c.showStatusPickerAt;if("number"!=typeof s)return null;var u=(0,W.TM)(s,i),l=t.state.doc.nodeAt(s);if(!l||"status"!==l.type.name)return null;var d=l.attrs,p=d.text,f=d.color,h=d.localId;return Z.createElement(fM,{isNew:c.isNew,target:u,defaultText:p,defaultColor:f,defaultLocalId:h,mountTo:n,boundariesElement:r,scrollableElement:o,onSelect:function(e){XI(e)(t.state,t.dispatch)},onTextChanged:function(e){XI(e)(t.state,t.dispatch)},closeStatusPicker:function(){QI()(t)},onEnter:function(){QI()(t)}})}})}}}(e),e)};var mM=n(88306),gM={paragraph:Dw.PARAGRAPH,heading:Dw.HEADING};function yM(e,t){return void 0===t?bM(e):!1===t?0:t.level}function bM(e){return void 0===e?0:e.level}var wM=function(e,t){var n=e.nodes,r=n.paragraph,o=n.heading,i=e.marks.alignment;return[r,o].indexOf(t.type)>-1&&(!i||!t.marks.filter((function(e){return e.type===i}))[0])};function kM(e){var t=e.getNewIndentationAttrs,n=e.direction,r=e.inputMethod,o=function(e,t){var n=[];return{getAttrs:function(r,o){var i=e(r,o);return n.push({node:o,prevAttrs:r,newAttrs:i,options:t}),i},getAndResetAttrsChanges:function(){var e=n;return n=[],e}}}(t,{direction:n}),i=o.getAttrs,a=o.getAndResetAttrsChanges,c=function(e){return function(t,n){var r=t.schema.marks.indentation;return(0,me.L7)(r,e,wM)(t,n)}}(i);return function(e,t){return c(e,function(e){var t=e.getAttrsChanges,n=e.inputMethod,r=e.state,o=e.dispatch;return function(e){var i=e;t().forEach((function(e){var t=e.node,o=e.prevAttrs,a=e.newAttrs,c=e.options.direction,s=gM[t.type.name];s&&(i=(0,At.Gs)(r,i,{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.FORMAT_INDENT,eventType:p.Ze.TRACK,attributes:{inputMethod:n,previousIndentationLevel:bM(o),newIndentLevel:yM(o,a),direction:c,indentType:s}}))})),o&&o(e)}}({getAttrsChanges:a,inputMethod:r,state:e,dispatch:t}))}}var EM=function(e){if(!e)return{level:1};var t=e.level;return t>=6?void 0:{level:t+1}},xM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Jq.KEYBOARD;return kM({getNewIndentationAttrs:EM,direction:Pw.INDENT,inputMethod:e})},OM=function(e){if(e){var t=e.level;return!(t<=1)&&{level:t-1}}},SM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Jq.KEYBOARD;return kM({getNewIndentationAttrs:OM,direction:Pw.OUTDENT,inputMethod:e})};function CM(){var e={};return Re.E4(Re.c1(Re.WY),xM(p.Jq.KEYBOARD),e),Re.E4(Re.c1(Re.Sb),SM(p.Jq.KEYBOARD),e),Re.E4(Re.c1(Re.as),(function(e,t){var n=e.selection;return!(!(0,ms.hT)(n)||!n.$cursor||0!==n.$cursor.parentOffset)&&(!!t&&SM(p.Jq.KEYBOARD)(e,t))}),e),(0,it.h)(e)}const TM=function(){return{name:"indentation",marks:function(){return[{name:"indentation",mark:mM.N}]},pmPlugins:function(){return[{name:"indentationKeymap",plugin:function(){return CM()}}]}}};var AM=n(14508),_M=new g.PluginKey("scrollIntoViewPlugin");const PM=function(){return{name:"scrollIntoView",pmPlugins:function(){return[{name:"scrollIntoView",plugin:function(){return new u.J({key:_M,appendTransaction:function(e,t,n){if(e.length){var r=e[0];return!r.docChanged&&!r.storedMarksSet||r.scrolledIntoView||!1===r.getMeta("scrollIntoView")||!1===r.getMeta("addToHistory")||r.getMeta("isRemote")||r.getMeta(Fn)?void 0:n.tr.scrollIntoView()}}})}}]}}};var DM;!function(e){e.UPDATE="UPDATE"}(DM||(DM={}));const ZM=function(e,t){return t.type===DM.UPDATE?{canUndo:t.canUndo,canRedo:t.canRedo}:e};var IM=function(e){var t=function(e){return e.plugins.find((function(e){return e.key===_u}))}(e);if(t)return t.getState(e)},LM=new g.PluginKey("historyPlugin"),MM=function(){return{canUndo:!1,canRedo:!1}},RM=(0,On.H)(LM,ZM),NM=RM.createPluginState,jM=RM.getPluginState;const FM=function(){return{name:"history",pmPlugins:function(){return[{name:"history",plugin:function(e){return function(e){return new u.J({state:NM(e,MM),key:LM,appendTransaction:function(e,t,n){if(e.find((function(e){return e.docChanged&&!1!==e.getMeta("addToHistory")}))){var r=IM(n);if(!r)return;var o=r.done.eventCount>0,i=r.undone.eventCount>0,a=jM(n),c=a.canUndo,s=a.canRedo;if(o!==c||i!==s){var u={type:DM.UPDATE,canUndo:o,canRedo:i};return n.tr.setMeta(LM,u)}}}})}(e.dispatch)}}]}}};var BM=n(86447),zM=n(49253),UM=function(){return{keyboardHeight:-1,mobilePaddingTop:0,windowHeight:window.innerHeight,isExpanded:!1}},VM=function(e){var t;return new u.J({state:(0,zM.Ln)(e,UM),key:zM.DW,props:{scrollThreshold:{top:12,left:0,right:0,bottom:12},scrollMargin:{top:12,bottom:12,left:0,right:0}},view:function(e){var n=function(){t&&window.cancelAnimationFrame(t);var n=window.innerHeight,r=0;t=requestAnimationFrame((function o(){var i;window.innerHeight===n&&++r>=5?(t=void 0,(i=window.innerHeight,(0,zM.fA)({type:BM.o.SET_WINDOW_HEIGHT,windowHeight:i}))(e.state,e.dispatch)):t=requestAnimationFrame(o),n=window.innerHeight}))};return window.addEventListener("resize",n),{destroy:function(){window.removeEventListener("resize",n),t&&window.cancelAnimationFrame(t)}}}})};const HM=function(){return{name:"mobileDimensions",pmPlugins:function(){return[{name:"mobileDimensions",plugin:function(e){var t=e.dispatch;return VM(t)}}]}}};var WM=new g.PluginKey("mobile-selection"),GM=function(e){return new u.J({view:function(t){var n=t.domAtPos.bind(t);return{update:function(t,r){var o=t.state,i=t.state,a=i.selection,c=i.doc;if(!r.doc.eq(c)||!r.selection.eq(a)){var s=(0,W.TM)(a.$anchor.pos,n).getBoundingClientRect(),u=s.top,l=s.left,d=function(e){var t=e.selection,n=e.doc,r=new Array,o=new Array;return n.nodesBetween(t.from,t.to,(function(e){return r.push(e.type.name),e.marks.forEach((function(e){return o.push(e.type.name)})),!0})),{nodeTypes:Array.from(r),markTypes:Array.from(o)}}(o),p=d.nodeTypes,f=d.markTypes;e(WM,{rect:{top:Math.round(u),left:Math.round(l)},selection:o.selection.toJSON(),nodeTypes:p,markTypes:f})}}}}})},qM=function(){return{name:"mobileSelection",pmPlugins:function(){return[{name:"mobileSelection",plugin:function(e){var t=e.dispatch;return GM(t)}}]}}},KM=new g.PluginKey("indentationButtonsPlugin");function $M(e,t){var n=e.selection,r=n.$from.node();if(vn(e)){var o=wn(n.$head),i=o.indentLevel;return{indentDisabled:0===o.itemIndex||i>=5,outdentDisabled:!1,node:"list"}}if(Mw(e)){var a=Nw(n)||0;return{indentDisabled:0===jw(e)||a>=6,outdentDisabled:a<=1,node:"taskList"}}var c=1===n.$from.depth,s=(0,W.bw)(e.schema.nodes.layoutColumn)(n)&&3===n.$from.depth;if(t&&wM(e.schema,r)&&(c||s)){var u=r.marks.find((function(t){return t.type===e.schema.marks.indentation}));return u?{indentDisabled:u.attrs.level>=6,outdentDisabled:!1,node:"paragraph_heading"}:{outdentDisabled:!0,indentDisabled:!1,node:"paragraph_heading"}}return{indentDisabled:!0,outdentDisabled:!0,node:null}}function JM(e){var t=e.buttonName,n=e.editorView,r=e.featureFlags;switch(t){case"bullet_list":!function(e){co(arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Jq.TOOLBAR,"bulletList")(e.state,e.dispatch)}(n,p.Jq.TOOLBAR);break;case"ordered_list":!function(e){co(arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Jq.TOOLBAR,"orderedList")(e.state,e.dispatch)}(n,p.Jq.TOOLBAR);break;case"indent":var o=KM.getState(n.state).node;"paragraph_heading"===o&&xM(p.Jq.TOOLBAR)(n.state,n.dispatch),"list"===o&&yo(p.Jq.TOOLBAR)(n.state,n.dispatch),"taskList"===o&&$w(p.Jq.TOOLBAR)(n.state,n.dispatch);break;case"outdent":var i=KM.getState(n.state).node;"paragraph_heading"===i&&SM(p.Jq.TOOLBAR)(n.state,n.dispatch),"list"===i&&eo(p.Jq.TOOLBAR,r)(n.state,n.dispatch),"taskList"===i&&qw(p.Jq.TOOLBAR)(n.state,n.dispatch)}}var YM=n(62694),XM=n(10762);function QM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QM(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const tR=Z.memo((function(e){var t=(0,Lt.Z)({},e),n=(0,Z.useContext)(XM.Z);return Z.createElement(ev,(0,Lt.Z)({arrowKeyNavigationProviderOptions:eR(eR({},t.arrowKeyNavigationProviderOptions),{},{keyDownHandlerContext:n})},t))}));var nR=n(35747),rR=(0,Ze.vU)({indent:{id:"fabric.editor.indent",defaultMessage:"Indent",description:"Indent a list item, paragraph or heading"},outdent:{id:"fabric.editor.outdent",defaultMessage:"Outdent",description:"Outdent a list item, paragraph or heading"}});function oR(e){var t=(0,De.Z)().formatMessage,n=e.disabled,r=e.isReducedSpacing,o=e.bulletListActive,i=e.orderedListActive,a=e.popupsMountPoint,c=e.popupsBoundariesElement,s=e.popupsScrollableElement,u=e.onItemActivated,l=Z.useState(!1),d=(0,sr.Z)(l,2),p=d[0],f=d[1],h=Z.useState(!1),v=(0,sr.Z)(h,2),m=v[0],g=v[1],y=t(wo.s.lists),b=function(e){f(e.isDropdownOpen)},w=function(e){var t=(0,De.Z)().formatMessage,n=t(wo.s.unorderedList),r=t(wo.s.orderedList),o=[{key:"unorderedList",content:n,value:{name:"bullet_list"},isDisabled:e.bulletListDisabled,isActive:Boolean(e.bulletListActive),elemAfter:(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(Re._X))},{key:"orderedList",content:r,value:{name:"ordered_list"},isDisabled:e.orderedListDisabled,isActive:Boolean(e.orderedListActive),elemAfter:(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(Re.JL))}];if(e.showIndentationButtons){var i=t(rR.indent),a=t(rR.outdent);o.push({key:"outdent",content:a,value:{name:"outdent"},isDisabled:e.outdentDisabled,isActive:!1,elemAfter:(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(Re.Sb))},{key:"indent",content:i,value:{name:"indent"},isDisabled:e.indentDisabled,isActive:!1,elemAfter:(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(Re.WY))})}return[{items:o}]}(e);return(0,U.tZ)("span",{css:Qe.wz},(0,U.tZ)(tR,{items:w,onItemActivated:function(t){var n=t.item,r=t.shouldCloseMenu;return f(!(void 0===r||r)),u({editorView:e.editorView,buttonName:n.value.name,featureFlags:e.featureFlags})},mountTo:a,boundariesElement:c,scrollableElement:s,isOpen:p,onOpenChange:b,fitHeight:188,fitWidth:175,shouldUseDefaultRole:!0,shouldFocusFirstItem:function(){return m&&g(!1),m}},(0,U.tZ)($.Z,{spacing:r?"none":"default",selected:o||i,"aria-expanded":p,"aria-haspopup":!0,"aria-label":y,disabled:n,onClick:function(){b({isDropdownOpen:!p})},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),f(!p),g(!0))},title:y,iconBefore:(0,U.tZ)("span",{css:Qe.wz},(0,U.tZ)(YM.Z,{label:y}),(0,U.tZ)("span",{css:Qe.W$},(0,U.tZ)(Se.Z,{label:""})))})),(0,U.tZ)("span",{css:Qe.NA}))}var iR=n(95871),aR=n(83188),cR=n(1762),sR=n(18886);function uR(e){var t=(0,De.Z)().formatMessage,n=(0,Z.useRef)(null),r=(0,Z.useRef)(null),o=e.disabled,i=e.isReducedSpacing,a=e.bulletListActive,c=e.bulletListDisabled,s=e.orderedListActive,u=e.orderedListDisabled,l=e.showIndentationButtons,d=e.indentDisabled,p=e.outdentDisabled,f=e.onItemActivated,h=t(wo.s.unorderedList),v=t(wo.s.orderedList),m=t(rR.indent),g=t(rR.outdent),y=document.activeElement===n.current,b=document.activeElement===r.current,w=function(t){return function(n){return f({editorView:e.editorView,buttonName:t,featureFlags:e.featureFlags})}};return(0,Z.useEffect)((function(){y&&d&&r.current&&r.current.focus()}),[n,d,y]),(0,Z.useEffect)((function(){b&&p&&n.current&&n.current.focus()}),[r,p,b]),(0,U.tZ)("span",{css:Qe.Vm},(0,U.tZ)($.Z,{buttonId:sR.s.BULLET_LIST,testId:h,spacing:i?"none":"default",onClick:w("bullet_list"),selected:a,"aria-pressed":a,"aria-label":(0,Re.Md)(Re._X,h),"aria-keyshortcuts":(0,Re.Tm)(Re._X),disabled:c||o,title:(0,U.tZ)(Re.wn,{description:h,keymap:Re._X}),iconBefore:(0,U.tZ)(YM.Z,{label:""})}),(0,U.tZ)($.Z,{buttonId:sR.s.ORDERED_LIST,testId:v,spacing:i?"none":"default",onClick:w("ordered_list"),selected:s,"aria-pressed":s,"aria-label":(0,Re.Md)(Re.JL,v),"aria-keyshortcuts":(0,Re.Tm)(Re.JL),disabled:u||o,title:(0,U.tZ)(Re.wn,{description:v,keymap:Re.JL}),iconBefore:(0,U.tZ)(iR.Z,{label:""})}),l&&(0,U.tZ)($.Z,{buttonId:sR.s.OUTDENT,testId:sR.s.OUTDENT,ref:r,spacing:i?"none":"default",onClick:w("outdent"),iconBefore:(0,U.tZ)(cR.Z,{label:""}),disabled:p||o,"aria-label":(0,Re.Md)(Re.Sb,g),"aria-keyshortcuts":(0,Re.Tm)(Re.Sb),title:(0,U.tZ)(Re.wn,{description:g,keymap:Re.Sb})}),l&&(0,U.tZ)($.Z,{buttonId:sR.s.INDENT,testId:sR.s.INDENT,ref:n,spacing:i?"none":"default",onClick:w("indent"),iconBefore:(0,U.tZ)(aR.Z,{label:""}),disabled:d||o,"aria-label":(0,Re.Md)(Re.WY,m),"aria-keyshortcuts":(0,Re.Tm)(Re.WY),title:(0,U.tZ)(Re.wn,{description:m,keymap:Re.WY})}),(0,U.tZ)("span",{css:Qe.NA}))}function lR(e){var t=e.disabled,n=e.isSmall,r=e.isReducedSpacing,o=e.bulletListActive,i=e.bulletListDisabled,a=e.orderedListActive,c=e.orderedListDisabled,s=e.showIndentationButtons,u=e.popupsMountPoint,l=e.popupsBoundariesElement,d=e.popupsScrollableElement,p=e.indentDisabled,f=e.outdentDisabled,h=e.featureFlags;return n?(0,U.tZ)(oR,{editorView:e.editorView,isReducedSpacing:r,popupsMountPoint:u,popupsBoundariesElement:l,popupsScrollableElement:d,bulletListActive:o,bulletListDisabled:i,showIndentationButtons:s,orderedListActive:a,orderedListDisabled:c,indentDisabled:p,outdentDisabled:f,disabled:t,onItemActivated:JM,featureFlags:h}):(0,U.tZ)(uR,{editorView:e.editorView,isReducedSpacing:r,bulletListActive:o,bulletListDisabled:i,showIndentationButtons:s,orderedListActive:a,orderedListDisabled:c,indentDisabled:p,outdentDisabled:f,disabled:t,onItemActivated:JM,featureFlags:h})}var dR=n(77108);const pR=function(e,t){var n=e.showIndentationButtons,r=e.allowHeadingAndParagraphIndentation,o=(null==t?void 0:t.dependencies.featureFlags.sharedState.currentState())||{};return{name:"toolbarListsIndentation",pmPlugins:function(){return[{name:"indentationButtons",plugin:function(e){return function(e){var t=e.dispatch,n=e.showIndentationButtons,r=e.allowHeadingAndParagraphIndentation;return new u.J({state:{init:function(e,t){return n?$M(t,r):{indentDisabled:!0,outdentDisabled:!0,node:null}},apply:function(e,o,i,a){if(n){var c=$M(a,r);if(!(0,ta.wU)(o,c))return t(KM,c),c}return o}},key:KM})}({dispatch:e.dispatch,showIndentationButtons:n,allowHeadingAndParagraphIndentation:r})}}]},primaryToolbarComponent:function(e){var t=e.editorView,r=e.popupsMountPoint,i=e.popupsBoundariesElement,a=e.popupsScrollableElement,c=e.toolbarSize,s=e.disabled,u=e.isToolbarReducedSpacing,l=c<dR.Mi.L;return Z.createElement(M.Z,{plugins:{listState:Zn,indentationState:KM},render:function(e){var c=e.listState,d=e.indentationState;return c?Z.createElement(lR,{featureFlags:o,isSmall:l,isReducedSpacing:u,disabled:s,editorView:t,popupsMountPoint:r,popupsBoundariesElement:i,popupsScrollableElement:a,bulletListActive:c.bulletListActive,bulletListDisabled:c.bulletListDisabled,orderedListActive:c.orderedListActive,orderedListDisabled:c.orderedListDisabled,showIndentationButtons:!!n,indentDisabled:d.indentDisabled,outdentDisabled:d.outdentDisabled}):null}})}}};var fR={name:"normal",title:dO.s.normal,nodeName:"paragraph",tagName:"p"},hR={name:"heading1",title:dO.s.heading1,nodeName:"heading",tagName:"h1",level:1},vR={name:"heading2",title:dO.s.heading2,nodeName:"heading",tagName:"h2",level:2},mR={name:"heading3",title:dO.s.heading3,nodeName:"heading",tagName:"h3",level:3},gR={name:"heading4",title:dO.s.heading4,nodeName:"heading",tagName:"h4",level:4},yR={name:"heading5",title:dO.s.heading5,nodeName:"heading",tagName:"h5",level:5},bR={name:"heading6",title:dO.s.heading6,nodeName:"heading",tagName:"h6",level:6},wR={name:"blockquote",title:dO.s.blockquote,nodeName:"blockquote"},kR={name:"codeblock",title:dO.s.codeblock,nodeName:"codeBlock"},ER={name:"panel",title:dO.s.infoPanel,nodeName:"panel"},xR={name:"other",title:dO.s.other,nodeName:""},OR=[fR,hR,vR,mR,gR,yR,bR],SR=[wR,kR,ER],CR=(OR.concat(SR),OR.reduce((function(e,t){return t.level&&"heading"===t.nodeName&&(e[t.level]=t),e}),{})),TR=OR.reduce((function(e,t){return t.level&&"heading"===t.nodeName&&(e[t.name]=t),e}),{});function AR(e,t,n){var r=e.selection.$from,o=e.selection.empty?r.end():e.selection.$to.pos,i=r.start(),a=0===r.depth?0:r.before(),c=e.doc.slice(r.pos,o),s=dr(c,(function(t,n,r){if(t.type===e.schema.nodes.hardBreak)return e.schema.text("\n");if(t.isText)return t.mark([]);if(t.isInline)return t.attrs.timestamp?e.schema.text((0,NC.jV)(t.attrs.timestamp,null)):t.attrs.url?e.schema.text(t.attrs.url):t.attrs.text?e.schema.text(t.attrs.text):null;if(c.content.childCount-1===r)return t.content;var o=n&&c.content.childCount-1===r;return t.content.childCount&&t.type===e.schema.nodes.paragraph&&!o?t.content.append(on.Fragment.from(e.schema.text("\n\n"))):t.content.childCount?t.content:null})),u=e.tr,l=i===t?a:t,d=e.schema.nodes.codeBlock.createChecked(n,s.content);u.replaceWith(l,Math.min(o,u.doc.content.size),d);var p=u.doc.resolve(u.mapping.map(l)+1),f=g.TextSelection.findFrom(p,1,!0);return f?u.setSelection(f):u.setSelection(g.TextSelection.create(u.doc,Math.min(t+r.node().nodeSize-1,u.doc.content.size)))}function _R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return PR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PR(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function PR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function DR(){return function(e,t){var n=e.selection,r=e.schema,o=e.tr;return(n instanceof be.X?n.ranges:[n]).forEach((function(e){var t=e.$from,n=e.$to;o.setBlockType(t.pos,n.pos,r.nodes.paragraph)})),t&&t(o),!0}}function ZR(e){return function(t,n,r){var o,i,a=t.schema.nodes,c=a.heading,s=a.paragraph,u=(0,ta.uM)(t.doc,t.selection.from,t.selection.to,(function(e){return e.type===c||e.type===s})),l=_R(u);try{for(l.s();!(i=l.n()).done;){var d=i.value,p=d.node.type===c?d.node.attrs.level:0;if(o){if(p!==o){o=void 0;break}}else o=p}}catch(e){l.e(e)}finally{l.f()}return e(o)(t,n,r)}}function IR(e){return ZR((function(t){return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_HEADING,attributes:{inputMethod:e,newHeadingLevel:0,previousHeadingLevel:t}})(DR())}))}function LR(e){return function(t,n){var r=t.selection,o=t.schema,i=t.tr;return(r instanceof be.X?r.ranges:[r]).forEach((function(t){var n=t.$from,r=t.$to;i.setBlockType(n.pos,r.pos,o.nodes.heading,{level:e})})),n&&n(i),!0}}var MR=function(e,t){return ZR((function(n){return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_HEADING,attributes:{inputMethod:t,newHeadingLevel:e,previousHeadingLevel:n}})(LR(e))}))};function RR(e){return function(t,n){var r=t.schema.nodes;switch(e){case wR.name:if(r.paragraph&&r.blockquote)return jR(r.blockquote)(t,n);break;case kR.name:if(r.codeBlock)return function(e,t){var n,r=e.tr,o=e.selection.from,i=e.schema.nodes.codeBlock,a=null===(n=e.selection.$from.node(-1))||void 0===n?void 0:n.type,c=e.selection.$from.parent.type,s=oi({parentNodeType:c,grandParentNodeType:a,content:i.createAndFill()})&&function(e){var t=e.selection,n=t.$from,r=t.$to,o=!0;return e.doc.nodesBetween(n.pos,r.pos,(function(t){return!!o&&(o=t.type===e.schema.nodes.listItem||t.type===e.schema.nodes.bulletList||t.type===e.schema.nodes.orderedList||t.type===e.schema.nodes.paragraph||t.isInline||t.isText)})),o}(e);return s?r=AR(e,o):(0,W.Z3)(i.createAndFill())(r).scrollIntoView(),t&&t(r),!0}(t,n);break;case ER.name:if(r.panel&&r.paragraph)return jR(r.panel)(t,n)}return!1}}var NR=function(e,t){switch(e){case wR.name:return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:t}})(RR(e));case kR.name:return(0,At.wi)({action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.CODE_BLOCK,attributes:{inputMethod:t},eventType:p.Ze.TRACK})(RR(e));case ER.name:return(0,At.wi)({action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.PANEL,attributes:{inputMethod:t,panelType:_x.w.INFO},eventType:p.Ze.TRACK})(RR(e));default:return RR(e)}};function jR(e){return function(t,n){var r=t.tr,o=t.selection,i=o.$from,a=o.$to,c=t.schema.marks,s=c.alignment,u=c.indentation;r=mt(t,[s,u])||r;var l=i.blockRange(a),d=l&&(0,nn.nd)(l,e);return l&&d?r.wrap(l,d).scrollIntoView():(0,W.Z3)(e.createAndFill())(r).scrollIntoView(),n&&n(r),!0}}var FR=[48,49,50,51,52,53,54];function BR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BR(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var UR=function(e,t){switch(e){case fR:return!!t.schema.nodes.paragraph;case hR:case vR:case mR:case gR:case yR:case bR:return!!t.schema.nodes.heading;case wR:return!!t.schema.nodes.blockquote;case kR:return!!t.schema.nodes.codeBlock;case ER:return!!t.schema.nodes.panel}},VR=function(e,t){if(!t.selection)return fR;var n,r=t.selection,o=r.$from,i=r.$to;return t.doc.nodesBetween(o.pos,i.pos,(function(r){var o=e.filter((function(e){return e===function(e,t){if(e.type===t.nodes.heading){var n=CR[e.attrs.level];if(n)return n}else if(e.type===t.nodes.paragraph)return fR;return xR}(r,t.schema)}));o.length>0&&(n?n!==xR&&n!==o[0]&&(n=xR):n=o[0])})),n||xR},HR=function(e,t){return 0===e?IR(p.Jq.FORMATTING)(t.state,t.dispatch):MR(e,p.Jq.FORMATTING)(t.state,t.dispatch),!0},WR=new g.PluginKey("blockTypePlugin"),GR=n(33991),qR=function(){return function(e,t){return t&&t(e.tr.setMeta(vE,{isElementBrowserModalOpen:!1})),!0}},KR=function(e){return function(t,n){var r=e.action((function(e){return ri(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})(t,t.tr,t.selection.head)}),t);return r&&n&&n(r),!0}};function $R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$R(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var YR=n(30733),XR=n.n(YR),QR=["macro-browser","slash-onboarding"],eN=function(e){return"string"==typeof e.content&&e.content.includes("macro")},tN=n(32282),nN=n(45076),rN=n(4715),oN=n(46270),iN=n(39152),aN=n(19720),cN=n(85304),sN=n(27856),uN=n(59921),lN=n(66929),dN=function(e,t){var n=(0,sr.Z)(e,1)[0],r=(0,sr.Z)(t,1)[0],o=n,i=r;return!Object.keys(o).some((function(e){var t=e;return o[t]!==i[t]}))},pN=function(e){return{content:e.content,tooltipDescription:e.tooltipDescription,value:{name:e.name},elemBefore:(0,U.tZ)(e.Icon,{label:e.content}),elemAfter:e.shortcut?(0,U.tZ)("div",{css:nR.d},e.shortcut):void 0,"aria-label":e.shortcut?e.content+" "+e.shortcut:e.content,"aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":e["aria-keyshortcuts"],shortcut:e.shortcut,isDisabled:e.disabled}},fN=function(e){return(0,XE.Z)(e,dN)},hN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"action",shortcut:"[]",Icon:qk.Z,"aria-keyshortcuts":"[ ] Space"})})),vN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"link",shortcut:(0,Re.Md)(Re.MJ),Icon:oh.Z,"aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":(0,Re.Tm)(Re.MJ)})})),mN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"media",Icon:nN.Z})})),gN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"image upload",Icon:nN.Z})})),yN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"mention",Icon:_m.Z,shortcut:"@","aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":"Shift+2 Space"})})),bN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"emoji",Icon:oN.Z,shortcut:":","aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":"Shift+;"})})),wN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"table",Icon:tN.Z,shortcut:(0,Re.Md)(Re.fV),"aria-keyshortcuts":(0,Re.Tm)(Re.fV)})})),kN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"layout",Icon:mA.Z})})),EN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"codeblock",Icon:uN.Z,shortcut:e.shortcut,"aria-keyshortcuts":(0,Re.Tm)(e.shortcut)})})),xN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"panel",Icon:qx.Z,shortcut:e.shortcut,"aria-keyshortcuts":(0,Re.Tm)(e.shortcut)})})),ON=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"blockquote",Icon:lN.Z,shortcut:e.shortcut,"aria-keyshortcuts":"Shift+. Space"})})),SN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"decision",Icon:Vk.Z,shortcut:"<>","aria-keyshortcuts":"Shift+, Shift+. Space"})})),CN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"horizontalrule",Icon:sN.Z,shortcut:"---","aria-keyshortcuts":"- - -"})})),TN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"expand",Icon:cN.Z})})),AN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"date",Icon:iN.Z,shortcut:"//","aria-keyshortcuts":"/ / Enter"})})),_N=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"placeholder text",Icon:function(){return(0,U.tZ)(fT.Z,{label:""})}})})),PN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"status",Icon:aN.Z})})),DN=fN((function(e){return pN({content:e.content,tooltipDescription:e.tooltipDescription,disabled:e.disabled,name:"macro",Icon:function(){return(0,U.tZ)(rN.Z,{label:""})}})}));function ZN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZN(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LN=XR()((function(e){return IN(IN({},e),{},{title:Z.createElement(Re.wn,{description:e.content,shortcutOverride:e.shortcut})})})),MN=(0,XE.Z)((function(e){return XR()((function(t){return IN(IN({},t),{},{title:Z.createElement(Re.wn,{description:e,shortcutOverride:"/"})})}))})),RN=(0,XE.Z)((function(e){var t=e.isTypeAheadAllowed,n=e.tableSupported,r=e.mediaUploadsEnabled,o=e.mediaSupported,i=e.imageUploadSupported,a=e.imageUploadEnabled,c=e.mentionsSupported,u=e.availableWrapperBlockTypes,l=e.actionSupported,d=e.decisionSupported,p=e.showElementBrowserLink,f=e.linkSupported,h=e.linkDisabled,v=e.emojiDisabled,m=e.emojiProvider,g=e.nativeStatusSupported,y=e.insertMenuItems,b=e.dateEnabled,w=e.placeholderTextEnabled,k=e.horizontalRuleEnabled,E=e.layoutSectionEnabled,x=e.expandEnabled,O=e.numberOfButtons,S=e.schema,C=e.formatMessage,T=e.isNewMenuEnabled,A=[];if(l&&A.push(hN({content:C(Jo.S.action),tooltipDescription:C(Jo.S.actionDescription),disabled:!1})),f&&A.push(vN({content:C(Jo.S.link),tooltipDescription:C(Jo.S.linkDescription),disabled:!!h,"aria-haspopup":"dialog"})),o&&r&&A.push(mN({content:C(Jo.S.addMediaFiles),tooltipDescription:C(Jo.S.mediaFilesDescription),disabled:!1})),i&&A.push(gN({content:C(Jo.S.image),disabled:!a})),c&&A.push(yN({content:C(Jo.S.mention),tooltipDescription:C(Jo.S.mentionDescription),disabled:!t,"aria-haspopup":"listbox"})),m&&A.push(bN({content:C(Jo.S.emoji),tooltipDescription:C(Jo.S.emojiDescription),disabled:v||!t,"aria-haspopup":"dialog"})),n&&A.push(wN({content:C(Jo.S.table),tooltipDescription:C(Jo.S.tableDescription),disabled:!1})),E){var _=C(Jo.S.columns);A.push(kN({content:_,tooltipDescription:C(Jo.S.columnsDescription),disabled:!1}))}var P=u||[],D=P.find((function(e){return"codeblock"===e.name})),Z=P.find((function(e){return"panel"===e.name})),I=P.find((function(e){return"blockquote"===e.name}));if(D&&A.push(EN({content:C(D.title),tooltipDescription:C(dO.s.codeblockDescription),disabled:!1,shortcut:"```"})),Z&&A.push(xN({content:C(Z.title),tooltipDescription:C(dO.s.infoPanelDescription),disabled:!1})),I&&A.push(ON({content:C(I.title),tooltipDescription:C(dO.s.blockquoteDescription),disabled:!1,shortcut:">"})),d&&A.push(SN({content:C(Jo.S.decision),tooltipDescription:C(Jo.S.decisionDescription),disabled:!1})),k&&S.nodes.rule&&A.push(CN({content:C(Jo.S.horizontalRule),tooltipDescription:C(Jo.S.horizontalRuleDescription),disabled:!1})),x&&S.nodes.expand&&A.push(TN({content:C(Jo.S.expand),tooltipDescription:C(Jo.S.expandDescription),disabled:!1})),b){var L=C(Jo.S.date);A.push(AN({content:L,tooltipDescription:C(Jo.S.dateDescription),disabled:!1}))}if(w&&A.push(_N({content:C(Jo.S.placeholderText),disabled:!1})),g){var M=C(Jo.S.status);A.push(PN({content:M,tooltipDescription:C(Jo.S.statusDescription),disabled:!1}))}y&&A.push.apply(A,(0,s.Z)(y)),p&&A.push(DN({content:C(Jo.S.viewMore),disabled:!1}));var R=A.slice(0,O).map(LN),N=A.slice(O),j=(T?N:function(e){return e.sort((function(e,t){return QR.includes(e.value.name)&&QR.includes(t.value.name)?QR.indexOf(e.value.name)-QR.indexOf(t.value.name):QR.includes(t.value.name)?-1:QR.includes(e.value.name)||eN(e)&&!eN(t)?1:eN(t)&&!eN(e)||e.content<t.content?-1:1}))}(N)).map(MN(C(Jo.S.insertMenu)));return[R,j]}),dN),NN=n(48130),jN=n(17131);function FN(e){return Array.isArray?Array.isArray(e):"[object Array]"===KN(e)}const BN=1/0;function zN(e){return null==e?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-BN?"-0":t}(e)}function UN(e){return"string"==typeof e}function VN(e){return"number"==typeof e}function HN(e){return!0===e||!1===e||function(e){return WN(e)&&null!==e}(e)&&"[object Boolean]"==KN(e)}function WN(e){return"object"==typeof e}function GN(e){return null!=e}function qN(e){return!e.trim().length}function KN(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const $N=e=>`Missing ${e} property in key`,JN=e=>`Property 'weight' in key '${e}' must be a positive integer`,YN=Object.prototype.hasOwnProperty;class XN{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach((e=>{let n=QN(e);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight})),this._keys.forEach((e=>{e.weight/=t}))}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function QN(e){let t=null,n=null,r=null,o=1,i=null;if(UN(e)||FN(e))r=e,t=ej(e),n=tj(e);else{if(!YN.call(e,"name"))throw new Error($N("name"));const a=e.name;if(r=a,YN.call(e,"weight")&&(o=e.weight,o<=0))throw new Error(JN(a));t=ej(a),n=tj(a),i=e.getFn}return{path:t,id:n,weight:o,src:r,getFn:i}}function ej(e){return FN(e)?e:e.split(".")}function tj(e){return FN(e)?e.join("."):e}const nj={useExtendedSearch:!1,getFn:function(e,t){let n=[],r=!1;const o=(e,t,i)=>{if(GN(e))if(t[i]){const a=e[t[i]];if(!GN(a))return;if(i===t.length-1&&(UN(a)||VN(a)||HN(a)))n.push(zN(a));else if(FN(a)){r=!0;for(let e=0,n=a.length;e<n;e+=1)o(a[e],t,i+1)}else t.length&&o(a,t,i+1)}else n.push(e)};return o(e,UN(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var rj={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,...nj};const oj=/[^ ]+/g;class ij{constructor({getFn:e=rj.getFn,fieldNormWeight:t=rj.fieldNormWeight}={}){this.norm=function(e=1,t=3){const n=new Map,r=Math.pow(10,t);return{get(t){const o=t.match(oj).length;if(n.has(o))return n.get(o);const i=1/Math.pow(o,.5*e),a=parseFloat(Math.round(i*r)/r);return n.set(o,a),a},clear(){n.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach(((e,t)=>{this._keysMap[e.id]=t}))}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,UN(this.docs[0])?this.docs.forEach(((e,t)=>{this._addString(e,t)})):this.docs.forEach(((e,t)=>{this._addObject(e,t)})),this.norm.clear())}add(e){const t=this.size();UN(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!GN(e)||qN(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach(((t,r)=>{let o=t.getFn?t.getFn(e):this.getFn(e,t.path);if(GN(o))if(FN(o)){let e=[];const t=[{nestedArrIndex:-1,value:o}];for(;t.length;){const{nestedArrIndex:n,value:r}=t.pop();if(GN(r))if(UN(r)&&!qN(r)){let t={v:r,i:n,n:this.norm.get(r)};e.push(t)}else FN(r)&&r.forEach(((e,n)=>{t.push({nestedArrIndex:n,value:e})}))}n.$[r]=e}else if(UN(o)&&!qN(o)){let e={v:o,n:this.norm.get(o)};n.$[r]=e}})),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function aj(e,t,{getFn:n=rj.getFn,fieldNormWeight:r=rj.fieldNormWeight}={}){const o=new ij({getFn:n,fieldNormWeight:r});return o.setKeys(e.map(QN)),o.setSources(t),o.create(),o}function cj(e,{errors:t=0,currentLocation:n=0,expectedLocation:r=0,distance:o=rj.distance,ignoreLocation:i=rj.ignoreLocation}={}){const a=t/e.length;if(i)return a;const c=Math.abs(r-n);return o?a+c/o:c?1:a}const sj=32;function uj(e,t,n,{location:r=rj.location,distance:o=rj.distance,threshold:i=rj.threshold,findAllMatches:a=rj.findAllMatches,minMatchCharLength:c=rj.minMatchCharLength,includeMatches:s=rj.includeMatches,ignoreLocation:u=rj.ignoreLocation}={}){if(t.length>sj)throw new Error(`Pattern length exceeds max of ${sj}.`);const l=t.length,d=e.length,p=Math.max(0,Math.min(r,d));let f=i,h=p;const v=c>1||s,m=v?Array(d):[];let g;for(;(g=e.indexOf(t,h))>-1;){let e=cj(t,{currentLocation:g,expectedLocation:p,distance:o,ignoreLocation:u});if(f=Math.min(e,f),h=g+l,v){let e=0;for(;e<l;)m[g+e]=1,e+=1}}h=-1;let y=[],b=1,w=l+d;const k=1<<l-1;for(let r=0;r<l;r+=1){let i=0,c=w;for(;i<c;){cj(t,{errors:r,currentLocation:p+c,expectedLocation:p,distance:o,ignoreLocation:u})<=f?i=c:w=c,c=Math.floor((w-i)/2+i)}w=c;let s=Math.max(1,p-c+1),g=a?d:Math.min(p+c,d)+l,E=Array(g+2);E[g+1]=(1<<r)-1;for(let i=g;i>=s;i-=1){let a=i-1,c=n[e.charAt(a)];if(v&&(m[a]=+!!c),E[i]=(E[i+1]<<1|1)&c,r&&(E[i]|=(y[i+1]|y[i])<<1|1|y[i+1]),E[i]&k&&(b=cj(t,{errors:r,currentLocation:a,expectedLocation:p,distance:o,ignoreLocation:u}),b<=f)){if(f=b,h=a,h<=p)break;s=Math.max(1,2*p-h)}}if(cj(t,{errors:r+1,currentLocation:p,expectedLocation:p,distance:o,ignoreLocation:u})>f)break;y=E}const E={isMatch:h>=0,score:Math.max(.001,b)};if(v){const e=function(e=[],t=rj.minMatchCharLength){let n=[],r=-1,o=-1,i=0;for(let a=e.length;i<a;i+=1){let a=e[i];a&&-1===r?r=i:a||-1===r||(o=i-1,o-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}(m,c);e.length?s&&(E.indices=e):E.isMatch=!1}return E}function lj(e){let t={};for(let n=0,r=e.length;n<r;n+=1){const o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}class dj{constructor(e,{location:t=rj.location,threshold:n=rj.threshold,distance:r=rj.distance,includeMatches:o=rj.includeMatches,findAllMatches:i=rj.findAllMatches,minMatchCharLength:a=rj.minMatchCharLength,isCaseSensitive:c=rj.isCaseSensitive,ignoreLocation:s=rj.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:s},this.pattern=c?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(e,t)=>{this.chunks.push({pattern:e,alphabet:lj(e),startIndex:t})},l=this.pattern.length;if(l>sj){let e=0;const t=l%sj,n=l-t;for(;e<n;)u(this.pattern.substr(e,sj),e),e+=sj;if(t){const e=l-sj;u(this.pattern.substr(e),e)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return n&&(t.indices=[[0,e.length-1]]),t}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:c,ignoreLocation:s}=this.options;let u=[],l=0,d=!1;this.chunks.forEach((({pattern:t,alphabet:p,startIndex:f})=>{const{isMatch:h,score:v,indices:m}=uj(e,t,p,{location:r+f,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:c,includeMatches:n,ignoreLocation:s});h&&(d=!0),l+=v,h&&m&&(u=[...u,...m])}));let p={isMatch:d,score:d?l/this.chunks.length:1};return d&&n&&(p.indices=u),p}}class pj{constructor(e){this.pattern=e}static isMultiMatch(e){return fj(e,this.multiRegex)}static isSingleMatch(e){return fj(e,this.singleRegex)}search(){}}function fj(e,t){const n=e.match(t);return n?n[1]:null}class hj extends pj{constructor(e,{location:t=rj.location,threshold:n=rj.threshold,distance:r=rj.distance,includeMatches:o=rj.includeMatches,findAllMatches:i=rj.findAllMatches,minMatchCharLength:a=rj.minMatchCharLength,isCaseSensitive:c=rj.isCaseSensitive,ignoreLocation:s=rj.ignoreLocation}={}){super(e),this._bitapSearch=new dj(e,{location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:c,ignoreLocation:s})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class vj extends pj{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,n=0;const r=[],o=this.pattern.length;for(;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const mj=[class extends pj{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},vj,class extends pj{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends pj{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends pj{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends pj{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends pj{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},hj],gj=mj.length,yj=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;const bj=new Set([hj.type,vj.type]);class wj{constructor(e,{isCaseSensitive:t=rj.isCaseSensitive,includeMatches:n=rj.includeMatches,minMatchCharLength:r=rj.minMatchCharLength,ignoreLocation:o=rj.ignoreLocation,findAllMatches:i=rj.findAllMatches,location:a=rj.location,threshold:c=rj.threshold,distance:s=rj.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:c,distance:s},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map((e=>{let n=e.trim().split(yj).filter((e=>e&&!!e.trim())),r=[];for(let e=0,o=n.length;e<o;e+=1){const o=n[e];let i=!1,a=-1;for(;!i&&++a<gj;){const e=mj[a];let n=e.isMultiMatch(o);n&&(r.push(new e(n,t)),i=!0)}if(!i)for(a=-1;++a<gj;){const e=mj[a];let n=e.isSingleMatch(o);if(n){r.push(new e(n,t));break}}}return r}))}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,i=[],a=0;for(let r=0,c=t.length;r<c;r+=1){const c=t[r];i.length=0,o=0;for(let t=0,r=c.length;t<r;t+=1){const r=c[t],{isMatch:s,indices:u,score:l}=r.search(e);if(!s){a=0,o=0,i.length=0;break}if(o+=1,a+=l,n){const e=r.constructor.type;bj.has(e)?i=[...i,...u]:i.push(u)}}if(o){let e={isMatch:!0,score:a/o};return n&&(e.indices=i),e}}return{isMatch:!1,score:1}}}const kj=[];function Ej(e,t){for(let n=0,r=kj.length;n<r;n+=1){let r=kj[n];if(r.condition(e,t))return new r(e,t)}return new dj(e,t)}const xj="$and",Oj="$or",Sj="$path",Cj="$val",Tj=e=>!(!e[xj]&&!e[Oj]),Aj=e=>({[xj]:Object.keys(e).map((t=>({[t]:e[t]})))});function _j(e,t,{auto:n=!0}={}){const r=e=>{let o=Object.keys(e);const i=(e=>!!e[Sj])(e);if(!i&&o.length>1&&!Tj(e))return r(Aj(e));if((e=>!FN(e)&&WN(e)&&!Tj(e))(e)){const r=i?e[Sj]:o[0],a=i?e[Cj]:e[r];if(!UN(a))throw new Error((e=>`Invalid value for key ${e}`)(r));const c={keyId:tj(r),pattern:a};return n&&(c.searcher=Ej(a,t)),c}let a={children:[],operator:o[0]};return o.forEach((t=>{const n=e[t];FN(n)&&n.forEach((e=>{a.children.push(r(e))}))})),a};return Tj(e)||(e=Aj(e)),r(e)}function Pj(e,t){const n=e.matches;t.matches=[],GN(n)&&n.forEach((e=>{if(!GN(e.indices)||!e.indices.length)return;const{indices:n,value:r}=e;let o={indices:n,value:r};e.key&&(o.key=e.key.src),e.idx>-1&&(o.refIndex=e.idx),t.matches.push(o)}))}function Dj(e,t){t.score=e.score}class Zj{constructor(e,t={},n){this.options={...rj,...t},this.options.useExtendedSearch,this._keyStore=new XN(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof ij))throw new Error("Incorrect 'index' type");this._myIndex=t||aj(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){GN(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let c=UN(e)?UN(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=rj.ignoreFieldNorm}){e.forEach((e=>{let n=1;e.matches.forEach((({key:e,norm:r,score:o})=>{const i=e?e.weight:null;n*=Math.pow(0===o&&i?Number.EPSILON:o,(i||1)*(t?1:r))})),e.score=n}))}(c,{ignoreFieldNorm:a}),o&&c.sort(i),VN(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:n=rj.includeMatches,includeScore:r=rj.includeScore}={}){const o=[];return n&&o.push(Pj),r&&o.push(Dj),e.map((e=>{const{idx:n}=e,r={item:t[n],refIndex:n};return o.length&&o.forEach((t=>{t(e,r)})),r}))}(c,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=Ej(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach((({v:e,i:n,n:o})=>{if(!GN(e))return;const{isMatch:i,score:a,indices:c}=t.searchIn(e);i&&r.push({item:e,idx:n,matches:[{score:a,value:e,norm:o,indices:c}]})})),r}_searchLogical(e){const t=_j(e,this.options),n=(e,t,r)=>{if(!e.children){const{keyId:n,searcher:o}=e,i=this._findMatches({key:this._keyStore.get(n),value:this._myIndex.getValueForItemAtKeyId(t,n),searcher:o});return i&&i.length?[{idx:r,item:t,matches:i}]:[]}const o=[];for(let i=0,a=e.children.length;i<a;i+=1){const a=e.children[i],c=n(a,t,r);if(c.length)o.push(...c);else if(e.operator===xj)return[]}return o},r=this._myIndex.records,o={},i=[];return r.forEach((({$:e,i:r})=>{if(GN(e)){let a=n(t,e,r);a.length&&(o[r]||(o[r]={idx:r,item:e,matches:[]},i.push(o[r])),a.forEach((({matches:e})=>{o[r].matches.push(...e)})))}})),i}_searchObjectList(e){const t=Ej(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach((({$:e,i:r})=>{if(!GN(e))return;let i=[];n.forEach(((n,r)=>{i.push(...this._findMatches({key:n,value:e[r],searcher:t}))})),i.length&&o.push({idx:r,item:e,matches:i})})),o}_findMatches({key:e,value:t,searcher:n}){if(!GN(t))return[];let r=[];if(FN(t))t.forEach((({v:t,i:o,n:i})=>{if(!GN(t))return;const{isMatch:a,score:c,indices:s}=n.searchIn(t);a&&r.push({score:c,key:e,value:t,idx:o,norm:i,indices:s})}));else{const{v:o,n:i}=t,{isMatch:a,score:c,indices:s}=n.searchIn(o);a&&r.push({score:c,key:e,value:o,norm:i,indices:s})}return r}}Zj.version="6.6.2",Zj.createIndex=aj,Zj.parseIndex=function(e,{getFn:t=rj.getFn,fieldNormWeight:n=rj.fieldNormWeight}={}){const{keys:r,records:o}=e,i=new ij({getFn:t,fieldNormWeight:n});return i.setKeys(r),i.setIndexRecords(o),i},Zj.config=rj,Zj.parseQuery=_j,function(...e){kj.push(...e)}(wj);var Ij={threshold:.3,keys:[{name:"title",weight:.57},{name:"priority",weight:.3},{name:"keywords",weight:.08},{name:"description",weight:.04},{name:"keyshortcut",weight:.01}]};function Lj(e,t){var n=new Zj(t,Ij);return""===e?t.slice(0).sort((function(e,t){return(e.priority||Number.POSITIVE_INFINITY)-(t.priority||Number.POSITIVE_INFINITY)})):n.search(e).map((function(e){return e.item}))}var Mj,Rj=function(e,t){return function(n,r){var o=t&&t.disableDefaultItems?[]:e.lazyDefaultItems(),i=e.providedItems,a=i?(0,ta.D8)([].concat((0,s.Z)(o),(0,s.Z)(i)),(function(e){return e.title})):o;return Lj(n||"","all"!==r&&r?a.filter((function(e){return e.categories&&e.categories.includes(r)})):a)}},Nj=(0,U.iv)(Mj||(Mj=(0,z.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n"])));const jj=xo()({loader:function(){return n.e(3609).then(n.bind(n,87164)).then((function(e){return e.default}))},loading:function(){return(0,U.tZ)("div",{css:Nj},(0,U.tZ)(Ep.Z,{size:"medium"}))}});var Fj,Bj,zj,Uj,Vj=n(18895),Hj=["children"],Wj=function(e){var t=e.item;return(0,U.tZ)(NN.Z,{hasSeparator:!0},(0,U.tZ)(jN.Z,{onClick:t.action,iconBefore:(0,U.tZ)("div",{css:Kj},t.icon()),"aria-describedby":t.title,"data-testid":"view-more-elements-item",css:(0,U.iv)(Fj||(Fj=(0,z.Z)(["\n          padding: 0px 12px;\n        "])))},t.title))},Gj=function(e){var t=e.name,n={codeblock:Co,panel:zo,blockquote:Uo,decision:Ao,horizontalrule:_o,expand:Go,date:To,status:Vo}[t];return n?(0,U.tZ)(n,{label:""}):void 0},qj=function(e,t){return(0,U.iv)(Bj||(Bj=(0,z.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  height: ","px;\n  background-color: ",";\n  border-radius: ","px;\n  box-shadow: ",";\n"])),function(e){var t=e.itemCount;return t>0&&t<6?t*Vj.Ti+112:560}({itemCount:t}),(0,Ky.Z)({light:"var(--ds-surface-overlay, ".concat(V.N0,")"),dark:"var(--ds-surface-overlay, ".concat(V.H8,")")})(e),(0,re.E0)(),"var(--ds-shadow-overlay, ".concat("0 0 0 1px ".concat(V.kd,",\n    0 2px 1px ").concat(V.kd,",\n    0 0 20px -6px ").concat(V.VG),")"))},Kj=(0,U.iv)(zj||(zj=(0,z.Z)(["\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: ","px;\n"])),(0,re.ww)()/2),$j=(0,U.iv)(Uj||(Uj=(0,z.Z)(["\n  display: flex;\n  flex: 1;\n  box-sizing: border-box;\n  overflow: hidden;\n"]))),Jj=(0,rM.Z)((function(e){var t=e.children,n=(0,ko.Z)(e,Hj);return(0,U.tZ)("div",(0,Lt.Z)({css:$j},n),t)}));const Yj=function(e){var t=e.editorView,n=e.dropdownItems,r=e.showElementBrowserLink,o=e.onInsert,i=e.toggleVisiblity,a=(0,Z.useState)(0),c=(0,sr.Z)(a,2),u=c[0],l=c[1],d=(0,Z.useCallback)((function(e){return{title:e.content,description:e.tooltipDescription,keyshortcut:e.shortcut,icon:function(){return Gj({name:e.value.name})||e.elemBefore},action:function(){return o({item:e})},onClick:e.onClick,value:e.value}}),[o]),p=n.map(d),f=r&&p.pop(),h=(0,Z.useCallback)((function(e){i(),t.hasFocus()||t.focus(),KR(e)(t.state,t.dispatch)}),[t,i]),v=(0,Z.useCallback)((function(e){return function(t,n){var r;return r=t?Rj(e,{})(t,n):p.concat(function(e,t){var n=e.providedItems,r=e.lazyDefaultItems;return function(){var e=t&&t.disableDefaultItems?[]:r();return(n?(0,ta.D8)([].concat((0,s.Z)(e),(0,s.Z)(n)),(function(e){return e.title})):e).filter((function(e){return e.featured}))}}(e,{})()),l(r.length),r}}),[p]),m=(0,Z.useCallback)((function(e){var t=e.quickInsertState;return(0,U.tZ)(Jj,{handleClickOutside:i,handleEscapeKeydown:i},(0,U.tZ)(jj,{mode:"inline",getItems:v(t),emptyStateHandler:null==t?void 0:t.emptyStateHandler,onInsertItem:h,showSearch:!0,showCategories:!1,key:p.length}))}),[v,h,p.length,i]);return(0,U.tZ)("div",{css:function(e){return qj(e,u)}},(0,U.tZ)(M.Z,{plugins:{quickInsertState:vE},render:m}),u>0&&f&&(0,U.tZ)(Wj,{item:f}))};var Xj,Qj=n(67009),eF=(0,U.iv)(Xj||(Xj=(0,z.Z)(["\n  width: 42px;\n\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n"]))),tF=Z.memo((function(e){return(0,U.tZ)("span",{css:eF},(0,U.tZ)(Qj.Z,{label:e.label}),(0,U.tZ)("span",{css:Qe.W$},(0,U.tZ)(Se.Z,{label:""})))})),nF=Z.memo((function(e){return(0,U.tZ)(Ce.Z,{ref:e.handleRef,selected:e.selected,disabled:e.disabled,onClick:e.onClick,onKeyDown:e.onKeyDown,spacing:e.spacing,"aria-expanded":e["aria-expanded"],"aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":e["aria-keyshortcuts"],"aria-label":"".concat(e.label," /"),iconBefore:(0,U.tZ)(tF,{label:""}),title:(0,U.tZ)(Re.wn,{description:e.label,shortcutOverride:"/"})})})),rF=function(e){return Z.createElement(Z.Fragment,null,e.open&&Z.createElement(G.Z,{target:e.plusButtonRef,fitHeight:500,fitWidth:350,offset:[0,3],mountTo:e.popupsMountPoint,boundariesElement:e.popupsBoundariesElement,scrollableElement:e.popupsScrollableElement,preventOverflow:!0,alignX:"right"},Z.createElement(Yj,{editorView:e.editorView,dropdownItems:e.items,onInsert:e.onInsert,toggleVisiblity:e.togglePlusMenuVisibility,showElementBrowserLink:e.showElementBrowserLink})),Z.createElement(nF,{"aria-expanded":e.open,"aria-haspopup":!0,handleRef:e.onRef,selected:e.open,disabled:e.disabled,onClick:e.onClick,onKeyDown:e.onKeyDown,spacing:e.spacing,label:e.label,"aria-keyshortcuts":"/"}))},oF=function(e){var t=e.items,n=Z.useMemo((function(){return[{items:t}]}),[t]);return Z.createElement(tR,{items:n,onItemActivated:e.onItemActivated,onOpenChange:e.onOpenChange,mountTo:e.popupsMountPoint,boundariesElement:e.popupsBoundariesElement,scrollableElement:e.popupsScrollableElement,isOpen:e.open,fitHeight:188,fitWidth:175,zIndex:ue.nm},Z.createElement(nF,{"aria-expanded":e.open,"aria-haspopup":!0,handleRef:e.onRef,selected:e.open,disabled:e.disabled,onClick:e.onClick,onKeyDown:e.onKeyDown,spacing:e.spacing,label:e.label,"aria-keyshortcuts":"/"}))},iF=function(e){return 0===e.items.length?null:e.disabled?Z.createElement("div",null,Z.createElement(nF,{"aria-expanded":e.open,"aria-haspopup":!0,handleRef:e.onRef,selected:e.open,disabled:e.disabled,onClick:e.onClick,onKeyDown:e.onKeyDown,spacing:e.spacing,label:e.label,"aria-keyshortcuts":"/"})):e.replacePlusMenuWithElementBrowser?Z.createElement(rF,{disabled:e.disabled,editorView:e.editorView,items:e.items,label:e.label,onClick:e.onClick,onKeyDown:e.onKeyDown,onInsert:e.onInsert,onRef:e.onPlusButtonRef,open:e.open,plusButtonRef:e.plusButtonRef,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,spacing:e.spacing,togglePlusMenuVisibility:e.togglePlusMenuVisibility,showElementBrowserLink:e.showElementBrowserLink}):Z.createElement(oF,{disabled:e.disabled,items:e.items,label:e.label,onClick:e.onClick,onKeyDown:e.onKeyDown,onItemActivated:e.onItemActivated,onOpenChange:e.onOpenChange,onRef:e.onRef,open:e.open,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,spacing:e.spacing})};function aF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aF(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sF(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var uF=function(){},lF=(0,rM.Z)(GR.Z),dF=function(e){(0,j.Z)(n,e);var t=sF(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{isPlusMenuOpen:!1,emojiPickerOpen:!1,isOpenedByKeyboard:!1,buttons:[],dropdownItems:[]}),(0,o.Z)((0,N.Z)(e),"onOpenChange",(function(t){var n={isPlusMenuOpen:t.isPlusMenuOpen,emojiPickerOpen:e.state.emojiPickerOpen};e.state.emojiPickerOpen&&!t.open&&(n.emojiPickerOpen=!1),e.setState(n,(function(){var t=e.props.dispatchAnalyticsEvent;if(t)return t(e.state.isPlusMenuOpen?{action:p.om.OPENED,actionSubject:p.Wt.PLUS_MENU,eventType:p.Ze.UI}:{action:p.om.CLOSED,actionSubject:p.Wt.PLUS_MENU,eventType:p.Ze.UI})}))})),(0,o.Z)((0,N.Z)(e),"togglePlusMenuVisibility",(function(t){var n,r=e.state.isPlusMenuOpen;(e.onOpenChange({isPlusMenuOpen:!r}),"Escape"===(null==t?void 0:t.key))&&(null===(n=e.plusButtonRef||e.dropdownButtonRef)||void 0===n||n.focus())})),(0,o.Z)((0,N.Z)(e),"toggleEmojiPicker",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.Jq.TOOLBAR;e.setState((function(e){return{emojiPickerOpen:!e.emojiPickerOpen}}),(function(){if(e.state.emojiPickerOpen){var n=e.props.dispatchAnalyticsEvent;n&&n({action:p.om.OPENED,actionSubject:p.Wt.PICKER,actionSubjectId:p.VJ.PICKER_EMOJI,attributes:{inputMethod:t},eventType:p.Ze.UI})}}))})),(0,o.Z)((0,N.Z)(e),"handleEmojiPressEscape",(function(){var t;e.toggleEmojiPicker(p.Jq.KEYBOARD),null===(t=e.emojiButtonRef)||void 0===t||t.focus()})),(0,o.Z)((0,N.Z)(e),"handleEmojiClickOutside",(function(t){var n;t.target&&(n=t.target,document.body.contains(n))&&e.toggleEmojiPicker(p.Jq.TOOLBAR)})),(0,o.Z)((0,N.Z)(e),"handleEmojiButtonRef",(function(t){var n=Fi.findDOMNode(t);n&&(e.emojiButtonRef=n)})),(0,o.Z)((0,N.Z)(e),"handlePlusButtonRef",(function(t){var n=Fi.findDOMNode(t);n&&(e.plusButtonRef=n)})),(0,o.Z)((0,N.Z)(e),"handleDropDownButtonRef",(function(t){var n=Fi.findDOMNode(t);n&&(e.dropdownButtonRef=n)})),(0,o.Z)((0,N.Z)(e),"handleClick",(function(){e.togglePlusMenuVisibility()})),(0,o.Z)((0,N.Z)(e),"handleOpenByKeyboard",(function(t){"Enter"!==t.key&&" "!==t.key||(e.setState(cF(cF({},e.state),{},{isOpenedByKeyboard:!0})),t.preventDefault(),e.togglePlusMenuVisibility())})),(0,o.Z)((0,N.Z)(e),"toggleLinkPanel",(function(t){var n=e.props.editorView;return dD(t)(n.state,n.dispatch),!0})),(0,o.Z)((0,N.Z)(e),"insertMention",(function(t){var n=e.props.editorView;return!n||($m(n).openMention(t),!0)})),(0,o.Z)((0,N.Z)(e),"insertTable",(function(t){var n=e.props.insertNodeAPI;return!!n&&n.insert({node:"table",options:{selectNodeInserted:!1,analyticsPayload:{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.TABLE,attributes:{inputMethod:t},eventType:p.Ze.TRACK}}})})),(0,o.Z)((0,N.Z)(e),"createDate",(function(t){var n=e.props.editorView;return BC(void 0,t)(n.state,n.dispatch),!0})),(0,o.Z)((0,N.Z)(e),"createPlaceholderText",(function(){var t,n,r,o=e.props.editorView;return t=o.state,n=o.dispatch,r=t.tr,t.selection.empty||r.deleteSelection(),r.setMeta(AT,{showInsertPanelAt:r.selection.anchor}),r.scrollIntoView(),n(r),!0})),(0,o.Z)((0,N.Z)(e),"insertLayoutColumns",(function(t){var n=e.props.editorView;return function(e){return(0,At.wi)({action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.LAYOUT,attributes:{inputMethod:e},eventType:p.Ze.TRACK})(KT)}(t)(n.state,n.dispatch),!0})),(0,o.Z)((0,N.Z)(e),"createStatus",(function(t){var n=e.props.editorView;return function(e,t){return(0,At.wi)({action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.STATUS,attributes:{inputMethod:e},eventType:p.Ze.TRACK})(XI(t))}(t)(n.state,n.dispatch),!0})),(0,o.Z)((0,N.Z)(e),"openMediaPicker",(function(t){var n=e.props,r=n.onShowMediaPicker,o=n.dispatchAnalyticsEvent;return r&&(r(),o&&o({action:p.om.OPENED,actionSubject:p.Wt.PICKER,actionSubjectId:p.VJ.PICKER_CLOUD,attributes:{inputMethod:t},eventType:p.Ze.UI})),!0})),(0,o.Z)((0,N.Z)(e),"insertTaskDecision",(function(t,n){return function(){var r=e.props.editorView,o=r.state,i=r.dispatch;return xw("action"===t?"taskList":"decisionList",n)(o,i)}})),(0,o.Z)((0,N.Z)(e),"insertHorizontalRule",(function(t){var n=e.props,r=n.editorView,o=r.state,i=r.dispatch,a=n.featureFlags;return si(t,a)(o,i)})),(0,o.Z)((0,N.Z)(e),"insertExpand",(function(){var t=e.props.editorView;return function(e,t){var n=ba(e),r={action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:n.type===e.schema.nodes.expand?p.VJ.EXPAND:p.VJ.NESTED_EXPAND,attributes:{inputMethod:p.Jq.INSERT_MENU},eventType:p.Ze.TRACK};return t&&t((0,At.Gs)(e,(0,W.Z3)(n)(e.tr).scrollIntoView(),r)),!0}(t.state,t.dispatch)})),(0,o.Z)((0,N.Z)(e),"insertBlockType",(function(t){return function(){var n=e.props,r=n.editorView,o=n.onInsertBlockType,i=r.state,a=r.dispatch;return o(t)(i,a),!0}})),(0,o.Z)((0,N.Z)(e),"handleSelectedEmoji",(function(t){return e.props.editorView.focus(),function(e,t){return function(n,r){var o=n.schema.nodes.emoji;if(o&&e){var i=o.createChecked(JR(JR({},e),{},{text:e.fallback||e.shortName})),a=n.schema.text(" ");if(r){var c=on.Fragment.fromArray([i,a]),s=(0,W.Z3)(c)(n.tr);t&&(0,At.Gs)(n,s,{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.EMOJI,attributes:{inputMethod:t},eventType:p.Ze.TRACK}),r(s.setSelection(g.Selection.near(s.doc.resolve(n.selection.$from.pos+c.size))))}return!0}return!1}}(t,p.Jq.PICKER)(e.props.editorView.state,e.props.editorView.dispatch),e.toggleEmojiPicker(),!0})),(0,o.Z)((0,N.Z)(e),"openElementBrowser",(function(){var t,n;t=e.props.editorView.state,(n=e.props.editorView.dispatch)&&n(t.tr.setMeta(vE,{isElementBrowserModalOpen:!0}))})),(0,o.Z)((0,N.Z)(e),"onItemActivated",(function(t){var n=t.item,r=t.inputMethod,o=e.props,i=o.editorView,a=o.editorActions,c=o.handleImageUpload,s=o.expandEnabled;switch(i.hasFocus()||i.focus(),n.value.name){case"link":e.toggleLinkPanel(r);break;case"table":e.insertTable(r);break;case"image upload":if(c){var u=i.state,l=i.dispatch;c()(u,l)}break;case"media":e.openMediaPicker(r);break;case"mention":e.insertMention(r);break;case"emoji":e.toggleEmojiPicker(r);break;case"codeblock":case"blockquote":case"panel":e.insertBlockType(n.value.name)();break;case"action":case"decision":e.insertTaskDecision(n.value.name,r)();break;case"horizontalrule":e.insertHorizontalRule(r);break;case"macro":e.openElementBrowser();break;case"date":e.createDate(r);break;case"placeholder text":e.createPlaceholderText();break;case"layout":e.insertLayoutColumns(r);break;case"status":e.createStatus(r);break;case"expand":if(s){e.insertExpand();break}default:if(n&&n.onClick){n.onClick(a);break}}e.setState({isPlusMenuOpen:!1})})),(0,o.Z)((0,N.Z)(e),"insertToolbarMenuItem",(function(t){return e.onItemActivated({item:t,inputMethod:p.Jq.TOOLBAR})})),(0,o.Z)((0,N.Z)(e),"insertInsertMenuItem",(function(t){var n=t.item;return e.onItemActivated({item:n,inputMethod:p.Jq.INSERT_MENU})})),e}return(0,D.Z)(n,[{key:"componentDidUpdate",value:function(e){if(e.buttons!==this.props.buttons&&this.setState({emojiPickerOpen:!1}),this.state.isOpenedByKeyboard){var t,n=new KeyboardEvent("keydown",{bubbles:!0,key:"ArrowDown"});null===(t=this.dropdownButtonRef)||void 0===t||t.dispatchEvent(n),this.setState(cF(cF({},this.state),{},{isOpenedByKeyboard:!1}))}}},{key:"renderPopup",value:function(){var e=this.state.emojiPickerOpen,t=this.props,n=t.popupsMountPoint,r=t.popupsBoundariesElement,o=t.popupsScrollableElement,i=t.emojiProvider,a=t.replacePlusMenuWithElementBrowser,c=this.state.dropdownItems.some((function(e){return"emoji"===e.value.name})),s=a?this.plusButtonRef:this.dropdownButtonRef,u=c?s:this.emojiButtonRef;return e&&u&&i?(0,U.tZ)(G.Z,{target:u,fitHeight:350,fitWidth:350,offset:[0,3],mountTo:n,boundariesElement:r,scrollableElement:o,focusTrap:!0},(0,U.tZ)(lF,{emojiProvider:i,onSelection:this.handleSelectedEmoji,handleClickOutside:this.handleEmojiClickOutside,handleEscapeKeydown:this.handleEmojiPressEscape})):null}},{key:"render",value:function(){var e,t,n=this,r=this.state,o=r.buttons,i=r.dropdownItems,a=r.emojiPickerOpen,c=this.props,s=c.isDisabled,u=c.isReducedSpacing;return 0===o.length&&0===i.length?null:(0,U.tZ)("span",{css:Qe.Vm},o.map((function(e){return(0,U.tZ)(Ce.Z,{item:e,testId:String(e.content),ref:"emoji"===e.value.name?n.handleEmojiButtonRef:uF,key:e.value.name,spacing:u?"none":"default",disabled:s||e.isDisabled,iconBefore:e.elemBefore,selected:"emoji"===e.value.name&&a||e.isActive,title:e.title,"aria-label":e["aria-label"],"aria-haspopup":e["aria-haspopup"],"aria-keyshortcuts":e["aria-keyshortcuts"],onItemClick:n.insertToolbarMenuItem})})),(0,U.tZ)("span",{css:Qe.wz},this.renderPopup(),(0,U.tZ)(iF,{popupsMountPoint:this.props.popupsMountPoint,popupsBoundariesElement:this.props.popupsBoundariesElement,popupsScrollableElement:this.props.popupsScrollableElement,disabled:null!==(e=this.props.isDisabled)&&void 0!==e&&e,editorView:this.props.editorView,spacing:this.props.isReducedSpacing?"none":"default",label:this.props.intl.formatMessage(Jo.S.insertMenu),open:this.state.isPlusMenuOpen,plusButtonRef:this.plusButtonRef,items:this.state.dropdownItems,onRef:this.handleDropDownButtonRef,onPlusButtonRef:this.handlePlusButtonRef,onClick:this.handleClick,onKeyDown:this.handleOpenByKeyboard,onItemActivated:this.insertInsertMenuItem,onInsert:this.insertInsertMenuItem,onOpenChange:this.onOpenChange,togglePlusMenuVisibility:this.togglePlusMenuVisibility,replacePlusMenuWithElementBrowser:null!==(t=this.props.replacePlusMenuWithElementBrowser)&&void 0!==t&&t,showElementBrowserLink:this.props.showElementBrowserLink||!1})),this.props.showSeparator&&(0,U.tZ)("span",{css:Qe.NA}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=RN({isTypeAheadAllowed:e.isTypeAheadAllowed,tableSupported:e.tableSupported,mediaUploadsEnabled:e.mediaUploadsEnabled,mediaSupported:e.mediaSupported,imageUploadSupported:e.imageUploadSupported,imageUploadEnabled:e.imageUploadEnabled,mentionsSupported:e.mentionsSupported,actionSupported:e.actionSupported,decisionSupported:e.decisionSupported,linkSupported:e.linkSupported,linkDisabled:e.linkDisabled,emojiDisabled:e.emojiDisabled,nativeStatusSupported:e.nativeStatusSupported,dateEnabled:e.dateEnabled,placeholderTextEnabled:e.placeholderTextEnabled,horizontalRuleEnabled:e.horizontalRuleEnabled,layoutSectionEnabled:e.layoutSectionEnabled,expandEnabled:e.expandEnabled,macroProvider:e.macroProvider,showElementBrowserLink:e.showElementBrowserLink,emojiProvider:e.emojiProvider,availableWrapperBlockTypes:e.availableWrapperBlockTypes,insertMenuItems:e.insertMenuItems,schema:e.editorView.state.schema,numberOfButtons:e.buttons,formatMessage:e.intl.formatMessage,isNewMenuEnabled:e.replacePlusMenuWithElementBrowser}),r=(0,sr.Z)(n,2),o=r[0],i=r[1];return cF(cF({},t),{},{buttons:o,dropdownItems:i})}}]),n}(Z.PureComponent);const pF=(0,H.ZP)(dF);function fF(e){return NR(e,p.Jq.TOOLBAR)}const hF=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=(null==r||null===(e=r.dependencies)||void 0===e||null===(t=e.featureFlags)||void 0===t?void 0:t.sharedState.currentState())||{};return{name:"insertBlock",primaryToolbarComponent:function(e){var t=e.editorView,r=e.editorActions,i=e.dispatchAnalyticsEvent,a=e.providerFactory,c=e.popupsMountPoint,s=e.popupsBoundariesElement,u=e.popupsScrollableElement,l=e.toolbarSize,d=e.disabled,p=e.isToolbarReducedSpacing,f=e.isLastItem,h=function(e){switch(e){case dR.Mi.XXL:case dR.Mi.XL:case dR.Mi.L:case dR.Mi.M:return 7;case dR.Mi.S:return 2;default:return 0}}(l);return Z.createElement(Rl.S,{providerFactory:a,providers:["emojiProvider"],renderNode:function(e){return Z.createElement(M.Z,{plugins:{typeAheadState:gm.u,blockTypeState:WR,mediaState:gs.S,mentionState:Oy,macroState:jS.u,hyperlinkState:oD,emojiState:lw,dateState:jC,imageUpload:RE,placeholderTextState:AT,layoutState:jT},render:function(a){var v=a.mentionState,m=a.blockTypeState,g=a.mediaState,y=a.macroState,b=void 0===y?{}:y,w=a.hyperlinkState,k=a.emojiState,E=a.dateState,x=a.imageUpload,O=a.placeholderTextState,S=a.layoutState;return Z.createElement(pF,{insertNodeAPI:n.insertNodeAPI,buttons:h,isReducedSpacing:p,isDisabled:d,isTypeAheadAllowed:Sm(t.state),editorView:t,tableSupported:!!t.state.schema.nodes.table,actionSupported:!!t.state.schema.nodes.taskItem,mentionsSupported:!(!v||!v.mentionProvider),decisionSupported:!!t.state.schema.nodes.decisionItem,dateEnabled:!!E,placeholderTextEnabled:O&&O.allowInserting,layoutSectionEnabled:!!S,expandEnabled:!!n.allowExpand,mediaUploadsEnabled:g&&g.allowsUploads,onShowMediaPicker:g&&g.showMediaPicker,mediaSupported:!!g,imageUploadSupported:!!x,imageUploadEnabled:x&&x.enabled,handleImageUpload:jE,availableWrapperBlockTypes:m&&m.availableWrapperBlockTypes,linkSupported:!!w,linkDisabled:!w||!w.canInsertLink||!!w.activeLinkMark,emojiDisabled:!k||!k.emojiProvider,emojiProvider:e.emojiProvider,nativeStatusSupported:n.nativeStatusSupported,horizontalRuleEnabled:n.horizontalRuleEnabled,onInsertBlockType:fF,onInsertMacroFromMacroBrowser:pC.Hg,macroProvider:b.macroProvider,popupsMountPoint:c,popupsBoundariesElement:s,popupsScrollableElement:u,insertMenuItems:n.insertMenuItems,editorActions:r,dispatchAnalyticsEvent:i,replacePlusMenuWithElementBrowser:n.replacePlusMenuWithElementBrowser,showElementBrowserLink:n.showElementBrowserLink,showSeparator:!f&&l<=dR.Mi.S,featureFlags:o})}})}})}}};var vF=n(20998);const mF=function(e){return{name:"beforePrimaryToolbar",primaryToolbarComponent:function(){return Z.createElement(vF.C,{beforePrimaryToolbarComponents:e.beforePrimaryToolbarComponents})}}};var gF,yF,bF=n(42606),wF=(0,Ze.vU)({editors:{id:"fabric.editor.editors",defaultMessage:"Editors",description:"classifying the people that are currently editing the document"}}),kF=(0,U.iv)(gF||(gF=(0,z.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  flex-grow: 0;\n  align-items: center;\n  & > div {\n    margin-right: 0;\n  }\n"]))),EF=(0,U.iv)(yF||(yF=(0,z.Z)(["\n  ","\n  flex-grow: 1;\n"])),kF);const xF=function(e){var t=e.dispatchAnalyticsEvent,n=e.featureFlags,r=(0,De.Z)();return(0,Z.useEffect)((function(){t&&t({action:p.om.VIEWED,actionSubject:p.Wt.BUTTON,actionSubjectId:p.VJ.AVATAR_GROUP_PLUGIN,eventType:p.Ze.UI})}),[t]),(0,U.tZ)("div",{"aria-label":r.formatMessage(wF.editors),"data-testid":"avatar-group-in-plugin",css:e.takeFullWidth?EF:kF},(0,U.tZ)(bF.Z,{editorView:e.editorView,eventDispatcher:e.eventDispatcher,inviteToEditComponent:e.collabEdit&&e.collabEdit.inviteToEditComponent,inviteToEditHandler:e.collabEdit&&e.collabEdit.inviteToEditHandler,isInviteToEditButtonSelected:e.collabEdit&&e.collabEdit.isInviteToEditButtonSelected,featureFlags:n}))};const OF=function(e,t){var n,r,o=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"avatarGroup",primaryToolbarComponent:function(t){var n=t.editorView,r=(t.popupsMountPoint,t.popupsBoundariesElement,t.popupsScrollableElement,t.disabled,t.isToolbarReducedSpacing,t.eventDispatcher),i=t.dispatchAnalyticsEvent;return Z.createElement(xF,{dispatchAnalyticsEvent:i,editorView:n,eventDispatcher:r,collabEdit:e.collabEdit,takeFullWidth:e.takeFullWidth,featureFlags:o})}}};var SF=n(6537),CF=n(22051);const TF=function(){var e={};return(0,Re.E4)(Re.sE.common,(function(e,t){return(0,CF.iu)({triggerMethod:p.ID.SHORTCUT})(e,t),!0}),e),(0,it.h)(e)};var AF=n(34037);const _F=function(e,t){var n,r,o=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"findReplace",pmPlugins:function(){return[{name:"findReplace",plugin:function(e){var t=e.dispatch;return(0,SF.rx)(t)}},{name:"findReplaceKeymap",plugin:function(){return TF()}}]},primaryToolbarComponent:function(t){var n=t.popupsBoundariesElement,r=t.popupsMountPoint,i=t.popupsScrollableElement,a=t.isToolbarReducedSpacing,c=t.editorView,s=t.containerElement,u=t.dispatchAnalyticsEvent;return e.twoLineEditorToolbar?null:Z.createElement(AF.Z,{popupsBoundariesElement:n,popupsMountPoint:r,popupsScrollableElement:i,isToolbarReducedSpacing:a,editorView:c,containerElement:s,dispatchAnalyticsEvent:u,takeFullWidth:e.takeFullWidth,featureFlags:o})}}};const PF=function(){return{name:"border",marks:function(){return[{name:"border",mark:Th.C}]}}};var DF=n(59629),ZF=new g.PluginKey("fragmentMarkConsistencyPlugin"),IF=function(e){var t=e.nodes;return[t.table,t.extension,t.bodiedExtension,t.inlineExtension]},LF=function(e){return new u.J({key:ZF,appendTransaction:function(e,t,n){var r=!1,o=n.tr;if(e.forEach((function(e){var t=new Set;if(e.docChanged&&"cut"!==e.getMeta("uiEvent")){var i=function(e,t){var n=IF(e);return t.steps.some((function(e){return n.some((function(t){return(0,ms.v1)(e,new Set([t]))}))}))}(n.schema,e);if(i){var a=function(e){var t=e.transaction,n=e.schema,r=e.doc,o=e.shouldRegenerateLocalId,i=n.marks.fragment,a=IF(n),c=!1;return r.descendants((function(e,n){if(!a.some((function(t){return e.type===t})))return!0;var r=e.marks.find((function(e){return e.type===i}));return!r||(o(r.attrs.localId)&&(c=!0,t.setNodeMarkup(n,void 0,e.attrs,e.marks.map((function(e){return e.type===i&&(e.attrs.localId=bw.V.generate(),e.attrs.name=null),e})))),!0)})),{transactionChanged:c}}({doc:n.doc,schema:n.schema,transaction:o,shouldRegenerateLocalId:function(e){return!!t.has(e)||(t.add(e),!1)}});a.transactionChanged&&(r=!0)}}})),r)return o}})};const MF=function(){return{name:"fragmentPlugin",marks:function(){return[{name:"fragment",mark:DF.D}]},pmPlugins:function(){return[{name:"fragmentMarkConsistency",plugin:function(e){e.dispatch;return LF()}}]}}};var RF=new WeakMap,NF=(0,D.Z)((function e(){var t=this;(0,P.Z)(this,e),(0,o.Z)(this,"update",(function(e){t.subscriptions.forEach((function(t){return t(e)}))})),(0,o.Z)(this,"add",(function(e){t.subscriptions.push(e)})),(0,o.Z)(this,"remove",(function(e){t.subscriptions=t.subscriptions.filter((function(t){return t!==e}))})),this.subscriptions=[]})),jF=new g.PluginKey("viewUpdateSubscriptionKey");const FF=function(){var e,t={current:null,initial:null,transactions:[],queued:!1};return{name:"viewUpdateSubscription",pmPlugins:function(){return[{name:"viewUpdateSubscription",plugin:function(){return new u.J({key:jF,view:function(t){return(e=RF.get(t))||(e=new NF,RF.set(t,e)),{}}})}}]},onEditorViewStateUpdated:function(n){var r;t.current=n,(r=t.transactions).push.apply(r,(0,s.Z)(n.transactions)),t.queued||(t.initial=n,t.queued=!0,queueMicrotask((function(){if(t.current&&t.initial){var n;if(e)e.update({newEditorState:t.current.newEditorState,oldEditorState:null===(n=t.initial)||void 0===n?void 0:n.oldEditorState,transactions:t.transactions});t.queued=!1,t.current=null,t.transactions=[]}})))}}};var BF=n(71695),zF=new g.PluginKey("codeBidiWarningPlugin"),UF=n(46388),VF=n(31363);function HF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HF(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GF=(0,On.H)(zF,(function(e,t){return e}),{onDocChanged:function(e,t){if(!e.steps.find(ms.Ws))return t;var n=$F({doc:e.doc,codeBidiWarningLabel:t.codeBidiWarningLabel,tooltipEnabled:t.tooltipEnabled});return WF(WF({},t),{},{decorationSet:n})}}),qF=GF.createPluginState,KF=GF.getPluginState;function $F(e){var t=e.doc,n=e.codeBidiWarningLabel,r=e.tooltipEnabled,o=[];if(t.descendants((function(e,t){if("text"===e.type.name&&e.marks&&e.marks.some((function(e){return"code"===e.type.name})))return(0,VF.Z)(e.textContent,(function(e){var n=e.bidiCharacter,r=e.index;o.push({position:t+r,bidiCharacter:n})})),!1;"codeBlock"===e.type.name&&(0,VF.Z)(e.textContent,(function(e){var n=e.bidiCharacter,r=e.index;o.push({position:t+r+1,bidiCharacter:n})}))})),0===o.length)return tn.EH.empty;var i=tn.EH.create(t,o.map((function(e){var t=e.position,o=e.bidiCharacter;return tn.p.widget(t,(function(){return function(e){var t=e.bidiCharacter,n=e.codeBidiWarningLabel,r=e.tooltipEnabled,o=document.createElement("span");return Fi.render(Z.createElement(UF.Z,{bidiCharacter:t,skipChildren:!0,label:n,tooltipEnabled:r}),o),o}({bidiCharacter:o,codeBidiWarningLabel:n,tooltipEnabled:r})}))})));return i}var JF=function(e,t){var n=e.dispatch,r=e.getIntl,o=t.appearance,i=r().formatMessage(BF.i.label);return new u.J({key:zF,state:qF(n,(function(e){var t="mobile"!==o;return{decorationSet:$F({doc:e.doc,codeBidiWarningLabel:i,tooltipEnabled:t}),codeBidiWarningLabel:i,tooltipEnabled:t}})),props:{decorations:function(e){return KF(e).decorationSet}}})};const YF=function(e){var t=e.appearance;return{name:"codeBidiWarning",pmPlugins:function(){return[{name:"codeBidiWarning",plugin:function(e){return JF(e,{appearance:t})}}]}}};var XF=new g.PluginKey("copyButtonPlugin");function QF(e){var t=e.markType,n=e.transaction,r=n.selection.$head,o=n.selection.$head.index(),i=r.parent.maybeChild(o),a=0;r.parent.forEach((function(e,t,n){n===o&&(a=t)}));var c=r.start(r.depth)+a;return{start:c,end:c+i.text.length,markType:t}}const eB=function(){return new u.J({key:XF,state:{init:function(){return{copied:!1,markSelection:void 0}},apply:function(e,t){var n=e.getMeta(XF);return void 0!==(null==n?void 0:n.copied)?{copied:n.copied,markSelection:void 0}:null!=n&&n.showSelection?{copied:t.copied,markSelection:QF({markType:n.markType,transaction:e})}:null!=n&&n.removeSelection?{copied:t.copied,markSelection:void 0}:t.markSelection?{copied:t.copied,markSelection:QF({markType:t.markSelection.markType,transaction:e})}:t}},props:{decorations:function(e){return tn.EH.empty}}})};const tB=function(){return{name:"copyButton",pmPlugins:function(){return[{name:"copyButton",plugin:function(){return eB()}}]}}};var nB=n(95539);function rB(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t={},e.cached.tableNodeTypes=t,e.nodes){var r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}return t}var oB=n(60553),iB=n(83294);function aB(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:"row"===e?t.map.width:1,bottom:"column"===e?t.map.height:1}),o=0;o<r.length;o++){var i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function cB(e){return function(t,n){if(!(0,oB.L)(t))return!1;if(n){var r,o=rB(t.schema),i=gi(t),a=t.tr,c=aB("row",i,o),s=aB("column",i,o),u=("column"===e?c:"row"===e&&s)?1:0,l="column"===e?new fi.UL(0,u,1,i.map.height):"row"===e?new fi.UL(u,0,i.map.width,1):i;r="column"===e?s?o.cell:o.header_cell:"row"===e?c?o.cell:o.header_cell:o.cell,i.map.cellsInRect(l).forEach((function(e){var t=e+i.tableStart,n=a.doc.nodeAt(t);n&&a.setNodeMarkup(t,r,n.attrs)})),n(a)}return!0}}function sB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sB(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lB(e){if(!e.size)return null;var t=e.content,n=e.openStart,r=e.openEnd;if(!t.firstChild)throw new Error("pastedCells: no firstChild defined for content");for(;1===t.childCount&&(n>0&&r>0||"table"===t.firstChild.type.spec.tableRole);)if(n--,r--,!(t=t.firstChild.content).firstChild)throw new Error("pastedCells: no firstChild defined for content");var o=t.firstChild,i=o.type.spec.tableRole,a=o.type.schema,c=[];if("row"===i)for(var s=0;s<t.childCount;s++){var u=t.child(s).content,l=s?0:Math.max(0,n-1),d=s<t.childCount-1?0:Math.max(0,r-1);(l||d)&&(u=dB(rB(a).row,new nB.p2(u,l,d)).content),c.push(u)}else{if("cell"!==i&&"header_cell"!==i)return null;c.push(n||r?dB(rB(a).row,new nB.p2(t,n,r)).content:t)}var p=c.map((function(e){return function(e,t){var n=[];return t.forEach((function(t){var r,o=rB(e).cell,i=t.type===o?t:null!==(r=o.createAndFill(t.attrs,t.content,t.marks))&&void 0!==r?r:t;n.push(i)})),nB.HY.from(n)}(a,e)}));return function(e,t){for(var n=t,r=[],o=0;o<n.length;o++)for(var i=n[o],a=i.childCount-1;a>=0;a--)for(var c=i.child(a).attrs,s=c.rowspan,u=c.colspan,l=o;l<o+s;l++)r[l]=(r[l]||0)+u;for(var d=0,p=0;p<r.length;p++)d=Math.max(d,r[p]);for(var f=0;f<r.length;f++)if(f>=n.length&&n.push(nB.HY.empty),r[f]<d){for(var h=rB(e).cell.createAndFill(),v=[],m=r[f];m<d;m++)v.push(h);n[f]=n[f].append(nB.HY.from(v))}return{height:n.length,width:d,rows:n}}(a,p)}function dB(e,t){var n=e.createAndFill();if(!n)throw new Error("fitSlice: unable to create node");return new nn.wx(n).replace(0,n.content.size,t).doc}function pB(e,t,n,r,o,i,a,c){if(0===a||a===t.height)return!1;for(var s=!1,u=o;u<i;u++){var l=a*t.width+u,d=t.map[l];if(t.map[l-t.width]===d){s=!0;var p=n.nodeAt(d);if(!p)throw new Error("isolateHorizontal: no cell found at pos ".concat(d));var f=t.findCell(d),h=f.top,v=f.left;e.setNodeMarkup(e.mapping.slice(c).map(d+r),void 0,uB(uB({},p.attrs),{},{rowspan:a-h}));var m=p.type.createAndFill(uB(uB({},p.attrs),{},{rowspan:h+p.attrs.rowspan-a}));if(!m)throw new Error("isolateHorizontal: failed to create cell");e.insert(e.mapping.slice(c).map(t.positionAt(a,v,n)),m),u+=p.attrs.colspan-1}}return s}function fB(e,t,n,r,o,i,a,c){if(0===a||a===t.width)return!1;for(var s=!1,u=o;u<i;u++){var l=u*t.width+a,d=t.map[l];if(t.map[l-1]===d){s=!0;var p=n.nodeAt(d);if(!p)throw new Error("isolateVertical: could not find cell at pos ".concat(d));var f=t.colCount(d),h=e.mapping.slice(c).map(d+r);e.setNodeMarkup(h,void 0,(0,iB.H6)(p.attrs,a-f,p.attrs.colspan-(a-f)));var v=p.type.createAndFill((0,iB.H6)(p.attrs,0,a-f));if(!v)throw new Error("isolateVertical: failed to create cell");e.insert(h+p.nodeSize,v),u+=p.attrs.rowspan-1}}return s}function hB(e,t,n,r,o){var i=e.doc,a=gi(e),c=rB(e.schema),s=aB("row",a,c),u=aB("column",a,c);if(n&&!(i=e.doc.nodeAt(n-1)))throw new Error("insertCells: could not find table at pos ".concat(n-1));var l=fi.rU.get(i),d=r.top,p=r.left,f=p+o.width,h=d+o.height,v=e.tr,m=0;function g(){i=n?v.doc.nodeAt(n-1):v.doc,l=fi.rU.get(i),m=v.mapping.maps.length}(function(e,t,n,r,o,i,a){var c,s,u=rB(e.doc.type.schema);if(o>t.width)for(var l=0,d=0;l<t.height;l++){var p=n.child(l);d+=p.nodeSize;var f=[],h=void 0;h=null==p.lastChild||p.lastChild.type===u.cell?c||(c=u.cell.createAndFill()):s||(s=u.header_cell.createAndFill());for(var v=t.width;v<o;v++)f.push(h);e.insert(e.mapping.slice(a).map(d-1+r),f)}if(i>t.height){for(var m=[],g=0,y=(t.height-1)*t.width;g<Math.max(t.width,o);g++){var b=void 0;if(g>=t.width)b=!1;else{var w=t.map[y+g],k=n.nodeAt(w);if(!k)throw new Error("growTable: no node found at pos ".concat(w));b=k.type===u.header_cell}m.push(b?s||(s=u.header_cell.createAndFill()):c||(c=u.cell.createAndFill()))}for(var E=u.row.create(null,nB.HY.from(m)),x=[],O=t.height;O<i;O++)x.push(E);e.insert(e.mapping.slice(a).map(r+n.nodeSize-2),x)}return!(!c&&!s)})(v,l,i,n,f,h,m)&&g(),pB(v,l,i,n,p,f,d,m)&&g(),pB(v,l,i,n,p,f,h,m)&&g(),fB(v,l,i,n,d,h,p,m)&&g(),fB(v,l,i,n,d,h,f,m)&&g();for(var y=d;y<h;y++){var b=l.positionAt(y,p,i),w=l.positionAt(y,f,i);v.replace(v.mapping.slice(m).map(b+n),v.mapping.slice(m).map(w+n),new nB.p2(o.rows[y-d],0,0))}g(),function(e,t,n,r,o,i,a){var c=n.schema,s=function(e,n,i,a){var s=r+t.positionAt(n,i,o),u=e.doc.nodeAt(s),l=a?c.nodes.tableHeader:c.nodes.tableCell,d=l!==(null==u?void 0:u.type),p=[c.nodes.tableCell,c.nodes.tableHeader].includes(null==u?void 0:u.type);d&&p&&e.setNodeMarkup(s,l,null==u?void 0:u.attrs,null==u?void 0:u.marks)};s(e,0,0,a||i);for(var u=1;u<t.width;u++)s(e,0,u,i);for(var l=1;l<t.height;l++)s(e,l,0,a)}(v,l,e,n,i,s,u),v.setSelection(new be.X(v.doc.resolve(n+l.positionAt(d,p,i)),v.doc.resolve(n+l.positionAt(h-1,f-1,i)))),t(v)}function vB(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return mB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mB(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function mB(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gB(e,t,n){if(!(0,oB.L)(e.state))return!1;var r=lB(n),o=e.state.selection;if(o instanceof be.X){r||(r={width:1,height:1,rows:[nB.HY.from(dB(rB(e.state.schema).cell,n))]});var i=o.$anchorCell.node(-1),a=o.$anchorCell.start(-1),c=fi.rU.get(i),s=c.rectBetween(o.$anchorCell.pos-a,o.$headCell.pos-a);return r=function(e,t,n){var r=e.width,o=e.height,i=e.rows,a=r,c=o;if(a!==t){for(var s=[],u=[],l=0;l<i.length;l++){for(var d=i[l],p=[],f=s[l]||0,h=0;f<t;h++){var v=d.child(h%d.childCount);f+v.attrs.colspan>t&&(v=v.type.create((0,iB.H6)(v.attrs,v.attrs.colspan,f+v.attrs.colspan-t),v.content)),p.push(v),f+=v.attrs.colspan;for(var m=1;m<v.attrs.rowspan;m++)s[l+m]=(s[l+m]||0)+v.attrs.colspan}u.push(nB.HY.from(p))}i=u,a=t}if(c!==n){for(var g=[],y=0,b=0;y<n;y++,b++){for(var w=[],k=i[b%c],E=0;E<k.childCount;E++){var x=k.child(E);y+x.attrs.rowspan>n&&(x=x.type.create(uB(uB({},x.attrs),{},{rowspan:Math.max(1,n-x.attrs.rowspan)}),x.content)),w.push(x)}g.push(nB.HY.from(w))}i=g,c=n}return{width:a,height:c,rows:i}}(r,s.right-s.left,s.bottom-s.top),hB(e.state,e.dispatch,a,s,yB(r,s,c)),!0}if(r){var u=mi(o);if(!u)throw new Error("handlePaste: no cell found");var l=u.start(-1),d=fi.rU.get(u.node(-1)).findCell(u.pos-l),p=fi.rU.get(u.node(-1));return hB(e.state,e.dispatch,l,d,yB(r,d,p)),!0}return!1}var yB=function(e,t,n){var r,o=[],i=vB(e.rows);try{for(i.s();!(r=i.n()).done;)for(var a=r.value,c=t.left,s=0;s<a.childCount;s++){var u=a.child(s);if(!(c+u.attrs.colspan<=n.width))break;o.push(u),c+=u.attrs.colspan}}catch(e){i.e(e)}finally{i.f()}for(var l=0,d=o;l<d.length;l++){d[l].attrs.colwidth=null}return e},bB={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var wB=/Edge\/(\d+)/.exec(navigator.userAgent),kB=/MSIE \d/.test(navigator.userAgent),EB=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),xB=bB.ie=!!(kB||EB||wB);bB.ie_version=kB?document.documentMode||6:EB?+EB[1]:wB?+wB[1]:null,bB.gecko=!xB&&/gecko\/(\d+)/i.test(navigator.userAgent),bB.gecko_version=bB.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var OB=!xB&&/Chrome\/(\d+)/.exec(navigator.userAgent);bB.chrome=!!OB,bB.chrome_version=OB&&+OB[1],bB.safari=!xB&&/Apple Computer/.test(navigator.vendor),bB.ios=bB.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),bB.mac=bB.ios||/Mac/.test(navigator.platform),bB.android=/Android \d/.test(navigator.userAgent),bB.webkit="webkitFontSmoothing"in document.documentElement.style,bB.webkit_version=bB.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var SB=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},CB=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},TB=null,AB=function(e,t,n){var r=TB||(TB=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},_B=function(e,t,n,r){return n&&(DB(e,t,n,r,-1)||DB(e,t,n,r,1))},PB=/^(img|br|input|textarea|hr)$/i;function DB(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:ZB(e))){var i=e.parentNode;if(!i||1!=i.nodeType||IB(e)||PB.test(e.nodeName)||"false"==e.contentEditable)return!1;t=SB(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?ZB(e):0}}}function ZB(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function IB(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var LB=function(e){var t=e.isCollapsed;return t&&bB.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function MB(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function RB(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function NB(e,t){return"number"==typeof e?e:e[t]}function jB(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function FB(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=CB(a))if(1==a.nodeType){var c=a==i.body||1!=a.nodeType,s=c?RB(i):jB(a),u=0,l=0;if(t.top<s.top+NB(r,"top")?l=-(s.top-t.top+NB(o,"top")):t.bottom>s.bottom-NB(r,"bottom")&&(l=t.bottom-s.bottom+NB(o,"bottom")),t.left<s.left+NB(r,"left")?u=-(s.left-t.left+NB(o,"left")):t.right>s.right-NB(r,"right")&&(u=t.right-s.right+NB(o,"right")),u||l)if(c)i.defaultView.scrollBy(u,l);else{var d=a.scrollLeft,p=a.scrollTop;l&&(a.scrollTop+=l),u&&(a.scrollLeft+=u);var f=a.scrollLeft-d,h=a.scrollTop-p;t={left:t.left-f,top:t.top-h,right:t.right-f,bottom:t.bottom-h}}if(c)break}}function BB(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=CB(e));return t}function zB(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}var UB=null;function VB(e,t){for(var n,r,o=2e8,i=0,a=t.top,c=t.top,s=e.firstChild,u=0;s;s=s.nextSibling,u++){var l=void 0;if(1==s.nodeType)l=s.getClientRects();else{if(3!=s.nodeType)continue;l=AB(s).getClientRects()}for(var d=0;d<l.length;d++){var p=l[d];if(p.top<=a&&p.bottom>=c){a=Math.max(p.bottom,a),c=Math.min(p.top,c);var f=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(f<o){n=s,o=f,r=f&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==s.nodeType&&f&&(i=u+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=u+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=qB(r,1);if(i.top!=i.bottom&&HB(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:VB(n,r)}function HB(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function WB(e,t,n){var r=e.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var a=e.childNodes[i];if(1==a.nodeType)for(var c=a.getClientRects(),s=0;s<c.length;s++){var u=c[s];if(HB(t,u))return WB(a,t,u)}if((i=(i+1)%r)==o)break}return e}function GB(e,t){var n,r,o,i,a=e.dom.ownerDocument;if(a.caretPositionFromPoint)try{var c=a.caretPositionFromPoint(t.left,t.top);c&&(o=(n=c).offsetNode,i=n.offset)}catch(e){}if(!o&&a.caretRangeFromPoint){var s=a.caretRangeFromPoint(t.left,t.top);s&&(o=(r=s).startContainer,i=r.startOffset)}var u,l=(e.root.elementFromPoint?e.root:a).elementFromPoint(t.left,t.top+1);if(!l||!e.dom.contains(1!=l.nodeType?l.parentNode:l)){var d=e.dom.getBoundingClientRect();if(!HB(t,d))return null;if(!(l=WB(e.dom,t,d)))return null}if(bB.safari)for(var p=l;o&&p;p=CB(p))p.draggable&&(o=i=null);if(l=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(l,t),o){if(bB.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var f,h=o.childNodes[i];"IMG"==h.nodeName&&(f=h.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}o==e.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&t.top>o.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(u=function(e,t,n,r){for(var o=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var c=a.dom.getBoundingClientRect();if(c.left>r.left||c.top>r.top)o=a.posBefore;else{if(!(c.right<r.left||c.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n)}(e,o,i,t))}null==u&&(u=function(e,t,n){var r=VB(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var c=o.getBoundingClientRect();a=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,l,t));var v=e.docView.nearestDesc(l,!0);return{pos:u,inside:v?v.posAtStart-v.border:-1}}function qB(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var KB=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function $B(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),o=r.node,i=r.offset,a=bB.webkit||bB.gecko;if(3==o.nodeType){if(!a||!KB.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var c=i,s=i,u=n<0?1:-1;return n<0&&!i?(s++,u=-1):n>=0&&i==o.nodeValue.length?(c--,u=1):n<0?c--:s++,JB(qB(AB(o,c,s),u),u<0)}var l=qB(AB(o,i,i),n);if(bB.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var d=qB(AB(o,i-1,i-1),-1);if(d.top==l.top){var p=qB(AB(o,i,i+1),-1);if(p.top!=l.top)return JB(p,p.left<d.left)}}return l}if(!e.state.doc.resolve(t).parent.inlineContent){if(i&&(n<0||i==ZB(o))){var f=o.childNodes[i-1];if(1==f.nodeType)return YB(f.getBoundingClientRect(),!1)}if(i<ZB(o)){var h=o.childNodes[i];if(1==h.nodeType)return YB(h.getBoundingClientRect(),!0)}return YB(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==ZB(o))){var v=o.childNodes[i-1],m=3==v.nodeType?AB(v,ZB(v)-(a?0:1)):1!=v.nodeType||"BR"==v.nodeName&&v.nextSibling?null:v;if(m)return JB(qB(m,1),!1)}if(i<ZB(o)){for(var g=o.childNodes[i];g.pmViewDesc&&g.pmViewDesc.ignoreForCoords;)g=g.nextSibling;var y=g?3==g.nodeType?AB(g,0,a?0:1):1==g.nodeType?g:null:null;if(y)return JB(qB(y,-1),!0)}return JB(qB(3==o.nodeType?AB(o):o,-n),n>=0)}function JB(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function YB(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function XB(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}var QB=/[\u0590-\u08ac]/;var ez=null,tz=null,nz=!1;function rz(e,t,n){return ez==t&&tz==n?nz:(ez=t,tz=n,nz="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$from:r.$to;return XB(e,t,(function(){for(var t=e.docView.domFromPos(o.pos,"up"==n?-1:1).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.dom;break}t=r.dom.parentNode}for(var i=$B(e,o.pos,1),a=t.firstChild;a;a=a.nextSibling){var c=void 0;if(1==a.nodeType)c=a.getClientRects();else{if(3!=a.nodeType)continue;c=AB(a,0,a.nodeValue.length).getClientRects()}for(var s=0;s<c.length;s++){var u=c[s];if(u.bottom>u.top+1&&("up"==n?i.top-u.top>2*(u.bottom-i.top):u.bottom-i.bottom>2*(i.bottom-u.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,c=e.root.getSelection();return QB.test(r.parent.textContent)&&c.modify?XB(e,t,(function(){var t=c.getRangeAt(0),o=c.focusNode,i=c.focusOffset,a=c.caretBidiLevel;c.modify("move",n,"character");var s=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==c.focusNode.nodeType?c.focusNode:c.focusNode.parentNode)||o==c.focusNode&&i==c.focusOffset;return c.removeAllRanges(),c.addRange(t),null!=a&&(c.caretBidiLevel=a),s})):"left"==n||"backward"==n?i:a}(e,t,n))}var oz=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},iz={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};oz.prototype.matchesWidget=function(){return!1},oz.prototype.matchesMark=function(){return!1},oz.prototype.matchesNode=function(){return!1},oz.prototype.matchesHack=function(e){return!1},oz.prototype.parseRule=function(){return null},oz.prototype.stopEvent=function(){return!1},iz.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},iz.border.get=function(){return 0},oz.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},oz.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size}},iz.posBefore.get=function(){return this.parent.posBeforeChild(this)},iz.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},iz.posAfter.get=function(){return this.posBefore+this.size},iz.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},oz.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var c;if(e==this.dom&&this.contentDOM)c=t>SB(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))c=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var s=e;;s=s.parentNode){if(s==this.dom){c=!1;break}if(s.parentNode.firstChild!=s)break}if(null==c&&t==e.childNodes.length)for(var u=e;;u=u.parentNode){if(u==this.dom){c=!0;break}if(u.parentNode.lastChild!=u)break}}return(null==c?n>0:c)?this.posAtEnd:this.posAtStart},oz.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==e.nodeType?e:e.parentNode):o.nodeDOM==e))return o;n=!1}}},oz.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},oz.prototype.posFromDOM=function(e,t,n){for(var r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1},oz.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}},oz.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,o=0;n<this.children.length;n++){var i=this.children[n],a=o+i.size;if(a>e||i instanceof fz){r=e-o;break}o=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(var c=void 0;n&&!(c=this.children[n-1]).size&&c instanceof cz&&c.widget.type.side>=0;n--);if(t<=0){for(var s,u=!0;(s=n?this.children[n-1]:null)&&s.dom.parentNode!=this.contentDOM;n--,u=!1);return s&&t&&u&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?SB(s.dom)+1:0}}for(var l,d=!0;(l=n<this.children.length?this.children[n]:null)&&l.dom.parentNode!=this.contentDOM;n++,d=!1);return l&&d&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?SB(l.dom):this.contentDOM.childNodes.length}},oz.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var c=this.children[a],s=i+c.size;if(-1==r&&e<=s){var u=i+c.border;if(e>=u&&t<=s-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,u);e=i;for(var l=a;l>0;l--){var d=this.children[l-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=SB(d.dom)+1;break}e-=d.size}-1==r&&(r=0)}if(r>-1&&(s>t||a==this.children.length-1)){t=s;for(var p=a+1;p<this.children.length;p++){var f=this.children[p];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=SB(f.dom);break}t+=f.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=s}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}},oz.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},oz.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},oz.prototype.setSelection=function(e,t,n,r){for(var o=Math.min(e,t),i=Math.max(e,t),a=0,c=0;a<this.children.length;a++){var s=this.children[a],u=c+s.size;if(o>c&&i<u)return s.setSelection(e-c-s.border,t-c-s.border,n,r);c=u}var l=this.domFromPos(e,e?-1:1),d=t==e?l:this.domFromPos(t,t?-1:1),p=n.getSelection(),f=!1;if((bB.gecko||bB.safari)&&e==t){var h=l.node,v=l.offset;if(3==h.nodeType){if((f=v&&"\n"==h.nodeValue[v-1])&&v==h.nodeValue.length)for(var m=h,g=void 0;m;m=m.parentNode){if(g=m.nextSibling){"BR"==g.nodeName&&(l=d={node:g.parentNode,offset:SB(g)+1});break}var y=m.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{var b=h.childNodes[v-1];f=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(bB.gecko&&p.focusNode&&p.focusNode!=d.node&&1==p.focusNode.nodeType){var w=p.focusNode.childNodes[p.focusOffset];w&&"false"==w.contentEditable&&(r=!0)}if(r||f&&bB.safari||!_B(l.node,l.offset,p.anchorNode,p.anchorOffset)||!_B(d.node,d.offset,p.focusNode,p.focusOffset)){var k=!1;if((p.extend||e==t)&&!f){p.collapse(l.node,l.offset);try{e!=t&&p.extend(d.node,d.offset),k=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!k){if(e>t){var E=l;l=d,d=E}var x=document.createRange();x.setEnd(d.node,d.offset),x.setStart(l.node,l.offset),p.removeAllRanges(),p.addRange(x)}}},oz.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},iz.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},oz.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,c=i-o.border;if(e>=a&&t<=c)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=c||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?3:2}n=i}this.dirty=2},oz.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},iz.domAtom.get=function(){return!1},iz.ignoreForCoords.get=function(){return!1},Object.defineProperties(oz.prototype,iz);var az=[],cz=function(e){function t(t,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,az,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},t.prototype.destroy=function(){this.widget.type.destroy(this.dom),e.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(oz),sz=function(e){function t(t,n,r,o){e.call(this,t,az,n,null),this.textDOM=r,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(oz),uz=function(e){function t(t,n,r,o){e.call(this,t,[],r,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,r,o){var i=o.nodeViews[n.type.name],a=i&&i(n,o,r);return a&&a.dom||(a=nB.PW.renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,a.dom,a.contentDOM||a.dom)},t.prototype.parseRule=function(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,r){var o=t.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=Cz(i,n,a,r)),e>0&&(i=Cz(i,0,e,r));for(var c=0;c<i.length;c++)i[c].parent=o;return o.children=i,o},t}(oz),lz=function(e){function t(t,n,r,o,i,a,c,s,u){e.call(this,t,n.isLeaf?az:[],i,a),this.nodeDOM=c,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(s,u)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,n,r,o,i,a){var c,s,u=i.nodeViews[n.type.name],l=u&&u(n,i,(function(){return s?s.parent?s.parent.posBeforeChild(s):void 0:a}),r,o),d=l&&l.dom,p=l&&l.contentDOM;if(n.isText)if(d){if(3!=d.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else d=document.createTextNode(n.text);else d||(d=(c=nB.PW.renderSpec(document,n.type.spec.toDOM(n))).dom,p=c.contentDOM);p||n.isText||"BR"==d.nodeName||(d.hasAttribute("contenteditable")||(d.contentEditable=!1),n.type.spec.draggable&&(d.draggable=!0));var f=d;return d=kz(d,r,n),l?s=new hz(e,n,r,o,d,p,f,l,i,a+1):n.isText?new pz(e,n,r,o,d,f,i):new t(e,n,r,o,d,p,f,i,a+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return"pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?nB.HY.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Ez(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,r=this.node.inlineContent,o=t,i=e.composing&&this.localCompositionInfo(e,t),a=i&&i.pos>-1?i:null,c=i&&i.pos<0,s=new Oz(this,a&&a.node);!function(e,t,n,r){var o=t.locals(e),i=0;if(0==o.length){for(var a=0;a<e.childCount;a++){var c=e.child(a);r(c,o,t.forChild(i,c),a),i+=c.nodeSize}return}for(var s=0,u=[],l=null,d=0;;){if(s<o.length&&o[s].to==i){for(var p=o[s++],f=void 0;s<o.length&&o[s].to==i;)(f||(f=[p])).push(o[s++]);if(f){f.sort(Sz);for(var h=0;h<f.length;h++)n(f[h],d,!!l)}else n(p,d,!!l)}var v=void 0,m=void 0;if(l)m=-1,v=l,l=null;else{if(!(d<e.childCount))break;m=d,v=e.child(d++)}for(var g=0;g<u.length;g++)u[g].to<=i&&u.splice(g--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)u.push(o[s++]);var y=i+v.nodeSize;if(v.isText){var b=y;s<o.length&&o[s].from<b&&(b=o[s].from);for(var w=0;w<u.length;w++)u[w].to<b&&(b=u[w].to);b<y&&(l=v.cut(b-i),v=v.cut(0,b-i),y=b,m=-1)}r(v,u.length?v.isInline&&!v.isLeaf?u.filter((function(e){return!e.inline})):u.slice():az,t.forChild(i,v),m),i=y}}(this.node,this.innerDeco,(function(t,i,a){t.spec.marks?s.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!a&&s.syncToMarks(i==n.node.childCount?nB.vc.none:n.node.child(i).marks,r,e),s.placeWidget(t,e,o)}),(function(t,n,a,u){var l;s.syncToMarks(t.marks,r,e),s.findNodeMatch(t,n,a,u)||c&&e.state.selection.from>o&&e.state.selection.to<o+t.nodeSize&&(l=s.findIndexWithChild(i.node))>-1&&s.updateNodeAt(t,n,a,l,e)||s.updateNextNode(t,n,a,e,u)||s.addNode(t,n,a,e,o),o+=t.nodeSize})),s.syncToMarks(az,r,e),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),vz(this.contentDOM,this.children,e),bB.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionInfo=function(e,t){var n=e.state.selection,r=n.from,o=n.to;if(!(!(e.state.selection instanceof g.TextSelection)||r<t||o>t+this.node.content.size)){var i=e.root.getSelection(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=ZB(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(i.focusNode,i.focusOffset);if(a&&this.dom.contains(a.parentNode)){if(this.node.inlineContent){var c=a.nodeValue,s=function(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var a=e.child(o++),c=i;if(i+=a.nodeSize,a.isText){for(var s=a.text;o<e.childCount;){var u=e.child(o++);if(i+=u.nodeSize,!u.isText)break;s+=u.text}if(i>=n&&c<r){var l=s.lastIndexOf(t,r-c-1);if(l>=0&&l+t.length+c>=n)return c+l}}}return-1}(this.node.content,c,r-t,o-t);return s<0?null:{node:a,pos:s,text:c}}return{node:a,pos:-1}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new sz(this,i,n,o);e.compositionNodes.push(a),this.children=Cz(this.children,r,r+o.length,e,a)}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!Ez(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=bz(this.dom,this.nodeDOM,yz(this.outerDeco,this.node,t),yz(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}(oz);function dz(e,t,n,r,o){return kz(r,t,e),new lz(null,e,t,n,r,r,r,o,0)}var pz=function(e){function t(t,n,r,o,i,a,c){e.call(this,t,n,r,o,i,null,a,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,r){var o=this.node.cut(e,n),i=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},t.prototype.markDirty=function(t,n){e.prototype.markDirty.call(this,t,n),this.dom==this.nodeDOM||0!=t&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,n),t}(lz),fz=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(e){return 0==this.dirty&&this.dom.nodeName==e},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(t.prototype,n),t}(oz),hz=function(e){function t(t,n,r,o,i,a,c,s,u,l){e.call(this,t,n,r,o,i,a,c,u,l),this.spec=s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,o),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(lz);function vz(e,t,n){for(var r=e.firstChild,o=!1,i=0;i<t.length;i++){var a=t[i],c=a.dom;if(c.parentNode==e){for(;c!=r;)r=xz(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(c,r);if(a instanceof uz){var s=r?r.previousSibling:e.lastChild;vz(a.contentDOM,a.children,n),r=s?s.nextSibling:e.firstChild}}for(;r;)r=xz(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}function mz(e){e&&(this.nodeName=e)}mz.prototype=Object.create(null);var gz=[new mz];function yz(e,t,n){if(0==e.length)return gz;for(var r=n?gz[0]:new mz,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs;if(a)for(var c in a.nodeName&&o.push(r=new mz(a.nodeName)),a){var s=a[c];null!=s&&(n&&1==o.length&&o.push(r=new mz(t.isInline?"span":"div")),"class"==c?r.class=(r.class?r.class+" ":"")+s:"style"==c?r.style=(r.style?r.style+";":"")+s:"nodeName"!=c&&(r[c]=s))}}return o}function bz(e,t,n,r){if(n==gz&&r==gz)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],c=n[i];if(i){var s=void 0;c&&c.nodeName==a.nodeName&&o!=e&&(s=o.parentNode)&&s.tagName.toLowerCase()==a.nodeName||((s=document.createElement(a.nodeName)).pmIsDeco=!0,s.appendChild(o),c=gz[0]),o=s}wz(o,c||gz[0],a)}return o}function wz(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" ").filter(Boolean):az,a=n.class?n.class.split(" ").filter(Boolean):az,c=0;c<i.length;c++)-1==a.indexOf(i[c])&&e.classList.remove(i[c]);for(var s=0;s<a.length;s++)-1==i.indexOf(a[s])&&e.classList.add(a[s]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var u,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;u=l.exec(t.style);)e.style.removeProperty(u[1]);n.style&&(e.style.cssText+=n.style)}}function kz(e,t,n){return bz(e,e,gz,yz(t,n,1!=e.nodeType))}function Ez(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function xz(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var Oz=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(e,t){var n=t,r=n.children.length,o=e.childCount,i=new Map,a=[];e:for(;o>0;){for(var c=void 0;;)if(r){var s=n.children[r-1];if(!(s instanceof uz)){c=s,r--;break}n=s,r=s.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}var u=c.node;if(u){if(u!=e.child(o-1))break;--o,i.set(c,o),a.push(c)}}return{index:o,matched:i,matches:a.reverse()}}(e.node.content,e)};function Sz(e,t){return e.type.side-t.type.side}function Cz(e,t,n,r,o){for(var i=[],a=0,c=0;a<e.length;a++){var s=e[a],u=c,l=c+=s.size;u>=n||l<=t?i.push(s):(u<t&&i.push(s.slice(0,t-u,r)),o&&(i.push(o),o=null),l>n&&i.push(s.slice(n-u,s.size,r)))}return i}function Tz(e,t){var n=e.root.getSelection(),r=e.state.doc;if(!n.focusNode)return null;var o=e.docView.nearestDesc(n.focusNode),i=o&&0==o.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var c,s,u=r.resolve(a);if(LB(n)){for(c=u;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&g.NodeSelection.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(e,t,n){for(var r=0==t,o=t==ZB(e);r||o;){if(e==n)return!0;var i=SB(e);if(!(e=e.parentNode))return!1;r=r&&0==i,o=o&&i==ZB(e)}}(n.focusNode,n.focusOffset,o.dom))){var l=o.posBefore;s=new g.NodeSelection(a==l?u:r.resolve(l))}}else{var d=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(d<0)return null;c=r.resolve(d)}s||(s=Rz(e,c,u,"pointer"==t||e.state.selection.head<u.pos&&!i?1:-1));return s}function Az(e){return e.editable?e.hasFocus():Nz(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function _z(e,t){var n=e.state.selection;if(Lz(e,n),Az(e)){if(!t&&e.mouseDown&&e.mouseDown.allowDefault&&bB.chrome){var r=e.root.getSelection(),o=e.domObserver.currentSelection;if(r.anchorNode&&_B(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset))return e.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,SB(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&bB.ie&&bB.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var i,a,c=n.anchor,s=n.head;!Pz||n instanceof g.TextSelection||(n.$from.parent.inlineContent||(i=Dz(e,n.from)),n.empty||n.$from.parent.inlineContent||(a=Dz(e,n.to))),e.docView.setSelection(c,s,e.root,t),Pz&&(i&&Iz(i),a&&Iz(a)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout((function(){Az(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}Oz.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},Oz.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Oz.prototype.syncToMarks=function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,c=this.index;c<Math.min(this.index+3,this.top.children.length);c++)if(this.top.children[c].matchesMark(e[o])){a=c;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var s=uz.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,s),this.top=s,this.changed=!0}this.index=0,o++}},Oz.prototype.findNodeMatch=function(e,t,n,r){var o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(var a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){var s=this.top.children[a];if(s.matchesNode(e,t,n)&&!this.preMatch.matched.has(s)){i=a;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},Oz.prototype.updateNodeAt=function(e,t,n,r,o){return!!this.top.children[r].update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)},Oz.prototype.findIndexWithChild=function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}e=t}},Oz.prototype.updateNextNode=function(e,t,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof lz){var c=this.preMatch.matched.get(a);if(null!=c&&c!=o)return!1;var s=a.dom;if(!(this.lock&&(s==this.lock||1==s.nodeType&&s.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&Ez(t,a.outerDeco)))&&a.update(e,t,n,r))return this.destroyBetween(this.index,i),a.dom!=s&&(this.changed=!0),this.index++,!0;break}}return!1},Oz.prototype.addNode=function(e,t,n,r,o){this.top.children.splice(this.index++,0,lz.create(this.top,e,t,n,r,o)),this.changed=!0},Oz.prototype.placeWidget=function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new cz(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},Oz.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof uz;)e=e.children[e.children.length-1];e&&e instanceof pz&&!/\n$/.test(e.node.text)||((bB.safari||bB.chrome)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},Oz.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var t=document.createElement(e);"IMG"==e&&(t.className="ProseMirror-separator"),"BR"==e&&(t.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new fz(this.top,az,t,null)),this.changed=!0}};var Pz=bB.safari||bB.chrome&&bB.chrome_version<63;function Dz(e,t){var n=e.docView.domFromPos(t,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,a=o?r.childNodes[o-1]:null;if(bB.safari&&i&&"false"==i.contentEditable)return Zz(i);if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return Zz(i);if(a)return Zz(a)}}function Zz(e){return e.contentEditable="true",bB.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Iz(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Lz(e,t){if(t instanceof g.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Mz(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Mz(e)}function Mz(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function Rz(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||g.TextSelection.between(t,n,r)}function Nz(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function jz(e,t){var n=e.selection,r=n.$anchor,o=n.$head,i=t>0?r.max(o):r.min(o),a=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return a&&g.Selection.findFrom(a,t)}function Fz(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Bz(e,t,n){var r=e.state.selection;if(!(r instanceof g.TextSelection)){if(r instanceof g.NodeSelection&&r.node.isInline)return Fz(e,new g.TextSelection(t>0?r.$to:r.$from));var o=jz(e.state,t);return!!o&&Fz(e,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var i=jz(e.state,t);return!!(i&&i instanceof g.NodeSelection)&&Fz(e,i)}if(!(bB.mac&&n.indexOf("m")>-1)){var a,c=r.$head,s=c.textOffset?null:t<0?c.nodeBefore:c.nodeAfter;if(!s||s.isText)return!1;var u=t<0?c.pos-s.nodeSize:c.pos;return!!(s.isAtom||(a=e.docView.descAt(u))&&!a.contentDOM)&&(g.NodeSelection.isSelectable(s)?Fz(e,new g.NodeSelection(t<0?e.state.doc.resolve(c.pos-s.nodeSize):c)):!!bB.webkit&&Fz(e,new g.TextSelection(e.state.doc.resolve(t<0?u:u+s.nodeSize))))}}function zz(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Uz(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Vz(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,a=!1;for(bB.gecko&&1==n.nodeType&&r<zz(n)&&Uz(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;var c=n.childNodes[r-1];if(Uz(c))o=n,i=--r;else{if(3!=c.nodeType)break;r=(n=c).nodeValue.length}}else{if(Wz(n))break;for(var s=n.previousSibling;s&&Uz(s);)o=n.parentNode,i=SB(s),s=s.previousSibling;if(s)r=zz(n=s);else{if((n=n.parentNode)==e.dom)break;r=0}}a?Gz(e,t,n,r):o&&Gz(e,t,o,i)}}function Hz(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=zz(n);;)if(r<a){if(1!=n.nodeType)break;if(!Uz(n.childNodes[r]))break;o=n,i=++r}else{if(Wz(n))break;for(var c=n.nextSibling;c&&Uz(c);)o=c.parentNode,i=SB(c)+1,c=c.nextSibling;if(c)r=0,a=zz(n=c);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&Gz(e,t,o,i)}}function Wz(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Gz(e,t,n,r){if(LB(t)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();var i=e.state;setTimeout((function(){e.state==i&&_z(e)}),50)}function qz(e,t,n){var r=e.state.selection;if(r instanceof g.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;if(bB.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var a=jz(e.state,t);if(a&&a instanceof g.NodeSelection)return Fz(e,a)}if(!o.parent.inlineContent){var c=t<0?o:i,s=r instanceof g.AllSelection?g.Selection.near(c,t):g.Selection.findFrom(c,t);return!!s&&Fz(e,s)}return!1}function Kz(e,t){if(!(e.state.selection instanceof g.TextSelection))return!0;var n=e.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var c=e.state.tr;return t<0?c.delete(r.pos-a.nodeSize,r.pos):c.delete(r.pos,r.pos+a.nodeSize),e.dispatch(c),!0}return!1}function $z(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Jz(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||bB.mac&&72==n&&"c"==r?Kz(e,-1)||Vz(e):46==n||bB.mac&&68==n&&"c"==r?Kz(e,1)||Hz(e):13==n||27==n||(37==n?Bz(e,-1,r)||Vz(e):39==n?Bz(e,1,r)||Hz(e):38==n?qz(e,-1,r)||Vz(e):40==n?function(e){if(bB.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;$z(e,o,!0),setTimeout((function(){return $z(e,o,!1)}),20)}}}(e)||qz(e,1,r)||Hz(e):r==(bB.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Yz(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(bB.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||bB.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function Xz(e,t,n,r,o){if(t<0){var i=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,a=Tz(e,i);if(a&&!e.state.selection.eq(a)){var c=e.state.tr.setSelection(a);"pointer"==i?c.setMeta("pointer",!0):"key"==i&&c.scrollIntoView(),e.dispatch(c)}}else{var s=e.state.doc.resolve(t),u=s.sharedDepth(n);t=s.before(u+1),n=e.state.doc.resolve(n).after(u+1);var l=e.state.selection,d=function(e,t,n){var r=e.docView.parseRange(t,n),o=r.node,i=r.fromOffset,a=r.toOffset,c=r.from,s=r.to,u=e.root.getSelection(),l=null,d=u.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(l=[{node:d,offset:u.anchorOffset}],LB(u)||l.push({node:u.focusNode,offset:u.focusOffset})),bB.chrome&&8===e.lastKeyCode)for(var p=a;p>i;p--){var f=o.childNodes[p-1],h=f.pmViewDesc;if("BR"==f.nodeName&&!h){a=p;break}if(!h||h.size)break}var v=e.state.doc,m=e.someProp("domParser")||nB.aw.fromSchema(e.state.schema),g=v.resolve(c),y=null,b=m.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:a,preserveWhitespace:"pre"!=g.parent.type.whitespace||"full",editableContent:!0,findPositions:l,ruleFromNode:Yz,context:g});if(l&&null!=l[0].pos){var w=l[0].pos,k=l[1]&&l[1].pos;null==k&&(k=w),y={anchor:w+c,head:k+c}}return{doc:b,sel:y,from:c,to:s}}(e,t,n);if(bB.chrome&&e.cursorWrapper&&d.sel&&d.sel.anchor==e.cursorWrapper.deco.from){var p=e.cursorWrapper.deco.type.toDOM.nextSibling,f=p&&p.nodeValue?p.nodeValue.length:1;d.sel={anchor:d.sel.anchor+f,head:d.sel.anchor+f}}var h,v,m=e.state.doc,y=m.slice(d.from,d.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(h=e.state.selection.to,v="end"):(h=e.state.selection.from,v="start"),e.lastKeyCode=null;var b=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),c=a.a,s=a.b;if("end"==o){r-=c+Math.max(0,i-Math.min(c,s))-i}if(c<i&&e.size<t.size){s=(i-=r<=i&&r>=c?i-r:0)+(s-c),c=i}else if(s<i){c=(i-=r<=i&&r>=s?i-r:0)+(c-s),s=i}return{start:i,endA:c,endB:s}}(y.content,d.doc.content,d.from,h,v);if(!b){if(!(r&&l instanceof g.TextSelection&&!l.empty&&l.$head.sameParent(l.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if((bB.ios&&e.lastIOSEnter>Date.now()-225||bB.android)&&o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName}))&&e.someProp("handleKeyDown",(function(t){return t(e,MB(13,"Enter"))})))return void(e.lastIOSEnter=0);if(d.sel){var w=Qz(e,e.state.doc,d.sel);w&&!w.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(w))}return}b={start:l.from,endA:l.to,endB:l.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof g.TextSelection&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),bB.ie&&bB.ie_version<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&"  "==d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)&&(b.start--,b.endA--,b.endB--);var k,E=d.doc.resolveNoCache(b.start-d.from),x=d.doc.resolveNoCache(b.endB-d.from),O=E.sameParent(x)&&E.parent.inlineContent;if((bB.ios&&e.lastIOSEnter>Date.now()-225&&(!O||o.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!O&&E.pos<d.doc.content.size&&(k=g.Selection.findFrom(d.doc.resolve(E.pos+1),1,!0))&&k.head==x.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,MB(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>b.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||eU(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(eU(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||eU(a,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(m,b.start,b.endA,E,x)&&e.someProp("handleKeyDown",(function(t){return t(e,MB(8,"Backspace"))})))bB.android&&bB.chrome&&e.domObserver.suppressSelectionUpdates();else{bB.chrome&&bB.android&&b.toB==b.from&&(e.lastAndroidDelete=Date.now()),bB.android&&!O&&E.start()!=x.start()&&0==x.parentOffset&&E.depth==x.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,x=d.doc.resolveNoCache(b.endB-d.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,MB(13,"Enter"))}))}),20));var S,C,T,A,_=b.start,P=b.endA;if(O)if(E.pos==x.pos)bB.ie&&bB.ie_version<=11&&0==E.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return _z(e)}),20)),S=e.state.tr.delete(_,P),C=m.resolve(b.start).marksAcross(m.resolve(b.endA));else if(b.endA==b.endB&&(A=m.resolve(b.start))&&(T=function(e,t){for(var n,r,o,i=e.firstChild.marks,a=t.firstChild.marks,c=i,s=a,u=0;u<a.length;u++)c=a[u].removeFromSet(c);for(var l=0;l<i.length;l++)s=i[l].removeFromSet(s);if(1==c.length&&0==s.length)r=c[0],n="add",o=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=c.length||1!=s.length)return null;r=s[0],n="remove",o=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var d=[],p=0;p<t.childCount;p++)d.push(o(t.child(p)));if(nB.HY.from(d).eq(e))return{mark:r,type:n}}(E.parent.content.cut(E.parentOffset,x.parentOffset),A.parent.content.cut(A.parentOffset,b.endA-A.start()))))S=e.state.tr,"add"==T.type?S.addMark(_,P,T.mark):S.removeMark(_,P,T.mark);else if(E.parent.child(E.index()).isText&&E.index()==x.index()-(x.textOffset?0:1)){var D=E.parent.textBetween(E.parentOffset,x.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,_,P,D)})))return;S=e.state.tr.insertText(D,_,P)}if(S||(S=e.state.tr.replace(_,P,d.doc.slice(b.start-d.from,b.endB-d.from))),d.sel){var Z=Qz(e,S.doc,d.sel);Z&&!(bB.chrome&&bB.android&&e.composing&&Z.empty&&(b.start!=b.endB||e.lastAndroidDelete<Date.now()-100)&&(Z.head==_||Z.head==S.mapping.map(P)-1)||bB.ie&&Z.empty&&Z.head==_)&&S.setSelection(Z)}C&&S.ensureMarks(C),e.dispatch(S.scrollIntoView())}}}function Qz(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Rz(e,t.resolve(n.anchor),t.resolve(n.head))}function eU(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function tU(e,t){for(var n=[],r=t.content,o=t.openStart,i=t.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var a=r.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),r=a.content}var c=e.someProp("clipboardSerializer")||nB.PW.fromSchema(e.state.schema),s=dU(),u=s.createElement("div");u.appendChild(c.serializeFragment(r,{document:s}));for(var l,d=u.firstChild;d&&1==d.nodeType&&(l=uU[d.nodeName.toLowerCase()]);){for(var p=l.length-1;p>=0;p--){for(var f=s.createElement(l[p]);u.firstChild;)f.appendChild(u.firstChild);u.appendChild(f),"tbody"!=l[p]&&(o++,i++)}d=u.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n)),{dom:u,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function nU(e,t,n,r,o){var i,a,c=o.parent.type.spec.code;if(!n&&!t)return null;var s=t&&(r||c||!n);if(s){if(e.someProp("transformPastedText",(function(e){t=e(t,c||r)})),c)return t?new nB.p2(nB.HY.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):nB.p2.empty;var u=e.someProp("clipboardTextParser",(function(e){return e(t,o,r)}));if(u)a=u;else{var l=o.marks(),d=e.state.schema,p=nB.PW.fromSchema(d);i=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((function(e){var t=i.appendChild(document.createElement("p"));e&&t.appendChild(p.serializeNode(d.text(e,l)))}))}}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),i=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=dU().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&uU[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(r.innerHTML=e,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),bB.webkit&&function(e){for(var t=e.querySelectorAll(bB.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(i);var f=i&&i.querySelector("[data-pm-slice]"),h=f&&/^(\d+) (\d+) (.*)/.exec(f.getAttribute("data-pm-slice"));if(!a){var v=e.someProp("clipboardParser")||e.someProp("domParser")||nB.aw.fromSchema(e.state.schema);a=v.parseSlice(i,{preserveWhitespace:!(!s&&!h),context:o,ruleFromNode:function(e){if("BR"==e.nodeName&&!e.nextSibling&&e.parentNode&&!rU.test(e.parentNode.nodeName))return{ignore:!0}}})}if(h)a=function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var o=e.content,i=e.openStart,a=e.openEnd,c=n.length-2;c>=0;c-=2){var s=r.nodes[n[c]];if(!s||s.hasRequiredAttrs())break;o=nB.HY.from(s.create(n[c+1],o)),i++,a++}return new nB.p2(o,i,a)}(sU(a,+h[1],+h[2]),h[3]);else if(a=nB.p2.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var r=t.node(n).contentMatchAt(t.index(n)),o=void 0,i=[];if(e.forEach((function(e){if(i){var t,n=r.findWrapping(e.type);if(!n)return i=null;if(t=i.length&&o.length&&iU(n,o,e,i[i.length-1],0))i[i.length-1]=t;else{i.length&&(i[i.length-1]=aU(i[i.length-1],o.length));var a=oU(e,n);i.push(a),r=r.matchType(a.type,a.attrs),o=n}}})),i)return{v:nB.HY.from(i)}},r=t.depth;r>=0;r--){var o=n(r);if(o)return o.v}return e}(a.content,o),!0),a.openStart||a.openEnd){for(var m=0,g=0,y=a.content.firstChild;m<a.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(var b=a.content.lastChild;g<a.openEnd&&!b.type.spec.isolating;g++,b=b.lastChild);a=sU(a,m,g)}return e.someProp("transformPasted",(function(e){a=e(a)})),a}var rU=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function oU(e,t,n){void 0===n&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,nB.HY.from(e));return e}function iU(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){var i=iU(e,t,n,r.lastChild,o+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(nB.HY.from(oU(n,e,o+1))))}}function aU(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,aU(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(nB.HY.empty,!0);return e.copy(n.append(r))}function cU(e,t,n,r,o,i){var a=t<0?e.firstChild:e.lastChild,c=a.content;return o<r-1&&(c=cU(c,t,n,r,o+1,i)),o>=n&&(c=t<0?a.contentMatchAt(0).fillBefore(c,e.childCount>1||i<=o).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(nB.HY.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(c))}function sU(e,t,n){return t<e.openStart&&(e=new nB.p2(cU(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new nB.p2(cU(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var uU={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},lU=null;function dU(){return lU||(lU=document.implementation.createHTMLDocument("title"))}var pU={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},fU=bB.ie&&bB.ie_version<=11,hU=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};hU.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},hU.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var vU=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);bB.ie&&bB.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new hU,fU&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};vU.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},vU.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},vU.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,pU),fU&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},vU.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}fU&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},vU.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},vU.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},vU.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},vU.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&Nz(e)){var e;if(this.suppressingSelectionUpdates)return _z(this.view);if(bB.ie&&bB.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&_B(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},vU.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},vU.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},vU.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Nz(this.view)&&!this.ignoreSelectionChange(t),r=-1,o=-1,i=!1,a=[];if(this.view.editable)for(var c=0;c<e.length;c++){var s=this.registerMutation(e[c],a);s&&(r=r<0?s.from:Math.min(s.from,r),o=o<0?s.to:Math.max(s.to,o),s.typeOver&&(i=!0))}if(bB.gecko&&a.length>1){var u=a.filter((function(e){return"BR"==e.nodeName}));if(2==u.length){var l=u[0],d=u[1];l.parentNode&&l.parentNode.parentNode==d.parentNode?d.remove():l.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(e){if(mU)return;mU=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,a),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||_z(this.view),this.currentSelection.set(t))}},vU.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var r=0;r<e.addedNodes.length;r++)t.push(e.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var o=e.previousSibling,i=e.nextSibling;if(bB.ie&&bB.ie_version<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var c=e.addedNodes[a],s=c.previousSibling,u=c.nextSibling;(!s||Array.prototype.indexOf.call(e.addedNodes,s)<0)&&(o=s),(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(i=u)}var l=o&&o.parentNode==e.target?SB(o)+1:0,d=n.localPosFromDOM(e.target,l,-1),p=i&&i.parentNode==e.target?SB(i):e.target.childNodes.length;return{from:d,to:n.localPosFromDOM(e.target,p,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var mU=!1;var gU={},yU={};function bU(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function wU(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return kU(e,t)})}))}function kU(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function EU(e){return{left:e.clientX,top:e.clientY}}function xU(e,t,n,r,o){if(-1==r)return!1;for(var i=e.state.doc.resolve(r),a=function(r){if(e.someProp(t,(function(t){return r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},c=i.depth+1;c>0;c--){var s=a(c);if(s)return s.v}return!1}function OU(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function SU(e,t,n,r,o){return xU(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(o?function(e,t){if(-1==t)return!1;var n,r,o=e.state.selection;o instanceof g.NodeSelection&&(n=o.node);for(var i=e.state.doc.resolve(t),a=i.depth+1;a>0;a--){var c=a>i.depth?i.nodeAfter:i.node(a);if(g.NodeSelection.isSelectable(c)){r=n&&o.$from.depth>0&&a>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(a);break}}return null!=r&&(OU(e,g.NodeSelection.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&g.NodeSelection.isSelectable(r))&&(OU(e,new g.NodeSelection(n),"pointer"),!0)}(e,n))}function CU(e,t,n,r){return xU(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function TU(e,t,n,r){return xU(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t,n){if(0!=n.button)return!1;var r=e.state.doc;if(-1==t)return!!r.inlineContent&&(OU(e,g.TextSelection.create(r,0,r.content.size),"pointer"),!0);for(var o=r.resolve(t),i=o.depth+1;i>0;i--){var a=i>o.depth?o.nodeAfter:o.node(i),c=o.before(i);if(a.inlineContent)OU(e,g.TextSelection.create(r,c+1,c+1+a.content.size),"pointer");else{if(!g.NodeSelection.isSelectable(a))continue;OU(e,g.NodeSelection.create(r,c),"pointer")}return!0}}(e,n,r)}function AU(e){return MU(e)}yU.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!DU(e,t)&&(e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!bB.android||!bB.chrome||13!=t.keyCode))if(229!=t.keyCode&&e.domObserver.forceFlush(),!bB.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||Jz(e,t)?t.preventDefault():bU(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,MB(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},yU.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},yU.keypress=function(e,t){if(!(DU(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||bB.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof g.TextSelection&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,r)}))||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};var _U=bB.mac?"metaKey":"ctrlKey";gU.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=AU(e),r=Date.now(),o="singleClick";r-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.lastClick)&&!t[_U]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(EU(t));i&&("singleClick"==o?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new PU(e,i,t,n)):("doubleClick"==o?CU:TU)(e,i.pos,i.inside,t)?t.preventDefault():bU(e,"pointer"))};var PU=function(e,t,n,r){var o,i,a=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=r,this.selectNode=n[_U],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,t.inside>-1)o=e.state.doc.nodeAt(t.inside),i=t.inside;else{var c=e.state.doc.resolve(t.pos);o=c.parent,i=c.depth?c.before():0}this.mightDrag=null;var s=r?null:n.target,u=s?e.docView.nearestDesc(s,!0):null;this.target=u?u.dom:null;var l=e.state.selection;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof g.NodeSelection&&l.from<=i&&l.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&bB.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){a.view.mouseDown==a&&a.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),bU(e,"pointer")};function DU(e,t){return!!e.composing||!!(bB.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}PU.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return _z(e.view)})),this.view.mouseDown=null},PU.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(EU(e))),this.allowDefault||!t?bU(this.view,"pointer"):SU(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||bB.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||bB.chrome&&!(this.view.state.selection instanceof g.TextSelection)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(OU(this.view,g.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):bU(this.view,"pointer")}},PU.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),bU(this.view,"pointer"),0==e.buttons&&this.done()},gU.touchdown=function(e){AU(e),bU(e,"pointer")},gU.contextmenu=function(e){return AU(e)};var ZU=bB.android?5e3:-1;function IU(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return MU(e)}),t))}function LU(e){var t;for(e.composing&&(e.composing=!1,e.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function MU(e,t){if(!(bB.android&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),LU(e),t||e.docView&&e.docView.dirty){var n=Tz(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}}yU.compositionstart=yU.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),MU(e,!0),e.markCursor=null;else if(MU(e),bB.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var a=i<0?o.lastChild:o.childNodes[i-1];if(!a)break;if(3==a.nodeType){r.collapse(a,a.nodeValue.length);break}o=a,i=-1}e.composing=!0}IU(e,ZU)},yU.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,IU(e,20))};var RU=bB.ie&&bB.ie_version<15||bB.ios&&bB.webkit_version<604;function NU(e,t,n,r){var o=nU(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,r,o||nB.p2.empty)})))return!0;if(!o)return!1;var i=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(o),a=i?e.state.tr.replaceSelectionWith(i,e.shiftKey):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}gU.copy=yU.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=RU?null:t.clipboardData,i=tU(e,n.content()),a=i.dom,c=i.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",c)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},yU.paste=function(e,t){if(!e.composing||bB.android){var n=RU?null:t.clipboardData;n&&NU(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?NU(e,r.value,null,t):NU(e,r.textContent,r.innerHTML,t)}),50)}}(e,t)}};var jU=function(e,t){this.slice=e,this.move=t},FU=bB.mac?"altKey":"ctrlKey";for(var BU in gU.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.state.selection,o=r.empty?null:e.posAtCoords(EU(t));if(o&&o.pos>=r.from&&o.pos<=(r instanceof g.NodeSelection?r.to-1:r.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(g.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var i=e.docView.nearestDesc(t.target,!0);i&&i.node.type.spec.draggable&&i!=e.docView&&e.dispatch(e.state.tr.setSelection(g.NodeSelection.create(e.state.doc,i.posBefore)))}var a=e.state.selection.content(),c=tU(e,a),s=c.dom,u=c.text;t.dataTransfer.clearData(),t.dataTransfer.setData(RU?"Text":"text/html",s.innerHTML),t.dataTransfer.effectAllowed="copyMove",RU||t.dataTransfer.setData("text/plain",u),e.dragging=new jU(a,!t[FU])}},gU.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},yU.dragover=yU.dragenter=function(e,t){return t.preventDefault()},yU.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var r=e.posAtCoords(EU(t));if(r){var o=e.state.doc.resolve(r.pos);if(o){var i=n&&n.slice;i?e.someProp("transformPasted",(function(e){i=e(i)})):i=nU(e,t.dataTransfer.getData(RU?"Text":"text/plain"),RU?null:t.dataTransfer.getData("text/html"),!1,o);var a=n&&!t[FU];if(e.someProp("handleDrop",(function(n){return n(e,t,i||nB.p2.empty,a)})))t.preventDefault();else if(i){t.preventDefault();var c=i?(0,nn.nj)(e.state.doc,o.pos,i):o.pos;null==c&&(c=o.pos);var s=e.state.tr;a&&s.deleteSelection();var u=s.mapping.map(c),l=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,d=s.doc;if(l?s.replaceRangeWith(u,u,i.content.firstChild):s.replaceRange(u,u,i),!s.doc.eq(d)){var p=s.doc.resolve(u);if(l&&g.NodeSelection.isSelectable(i.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(i.content.firstChild))s.setSelection(new g.NodeSelection(p));else{var f=s.mapping.map(c);s.mapping.maps[s.mapping.maps.length-1].forEach((function(e,t,n,r){return f=r})),s.setSelection(Rz(e,p,s.doc.resolve(f)))}e.focus(),e.dispatch(s.setMeta("uiEvent","drop"))}}}}}},gU.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&_z(e)}),20))},gU.blur=function(e,t){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.set({}),e.focused=!1)},gU.beforeinput=function(e,t){if(bB.chrome&&bB.android&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,MB(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},yU)gU[BU]=yU[BU];function zU(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var UU=function(e,t){this.spec=t||KU,this.side=this.spec.side||0,this.toDOM=e};UU.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new WU(i-n,i-n,this)},UU.prototype.valid=function(){return!0},UU.prototype.eq=function(e){return this==e||e instanceof UU&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&zU(this.spec,e.spec))},UU.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var VU=function(e,t){this.spec=t||KU,this.attrs=e};VU.prototype.map=function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new WU(o,i,this)},VU.prototype.valid=function(e,t){return t.from<t.to},VU.prototype.eq=function(e){return this==e||e instanceof VU&&zU(this.attrs,e.attrs)&&zU(this.spec,e.spec)},VU.is=function(e){return e.type instanceof VU};var HU=function(e,t){this.spec=t||KU,this.attrs=e};HU.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new WU(o.pos-n,i.pos-n,this)},HU.prototype.valid=function(e,t){var n,r=e.content.findIndex(t.from),o=r.index,i=r.offset;return i==t.from&&!(n=e.child(o)).isText&&i+n.nodeSize==t.to},HU.prototype.eq=function(e){return this==e||e instanceof HU&&zU(this.attrs,e.attrs)&&zU(this.spec,e.spec)};var WU=function(e,t,n){this.from=e,this.to=t,this.type=n},GU={spec:{configurable:!0},inline:{configurable:!0}};WU.prototype.copy=function(e,t){return new WU(e,t,this.type)},WU.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},WU.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},WU.widget=function(e,t,n){return new WU(e,e,new UU(t,n))},WU.inline=function(e,t,n,r){return new WU(e,t,new VU(n,r))},WU.node=function(e,t,n,r){return new WU(e,t,new HU(n,r))},GU.spec.get=function(){return this.type.spec},GU.inline.get=function(){return this.type instanceof VU},Object.defineProperties(WU.prototype,GU);var qU=[],KU={},$U=function(e,t){this.local=e&&e.length?e:qU,this.children=t&&t.length?t:qU};$U.create=function(e,t){return t.length?tV(t,e,0,KU):JU},$U.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},$U.prototype.findInner=function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var c=0;c<this.children.length;c+=3)if(this.children[c]<t&&this.children[c+1]>e){var s=this.children[c]+1;this.children[c+2].findInner(e-s,t-s,n,r+s,o)}},$U.prototype.map=function(e,t,n){return this==JU||0==e.maps.length?this:this.mapInner(e,t,0,0,n||KU)},$U.prototype.mapInner=function(e,t,n,r,o){for(var i,a=0;a<this.local.length;a++){var c=this.local[a].map(e,n,r);c&&c.type.valid(t,c)?(i||(i=[])).push(c):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){for(var c=e.slice(),s=function(e,t,n,r){for(var a=0;a<c.length;a+=3){var s=c[a+1],u=void 0;-1==s||e>s+i||(t>=c[a]+i?c[a+1]=-1:n>=o&&(u=r-n-(t-e))&&(c[a]+=u,c[a+1]+=u))}},u=0;u<n.maps.length;u++)n.maps[u].forEach(s);for(var l=!1,d=0;d<c.length;d+=3)if(-1==c[d+1]){var p=n.map(e[d]+i),f=p-o;if(f<0||f>=r.content.size){l=!0;continue}var h=n.map(e[d+1]+i,-1)-o,v=r.content.findIndex(f),m=v.index,g=v.offset,y=r.maybeChild(m);if(y&&g==f&&g+y.nodeSize==h){var b=c[d+2].mapInner(n,y,p+1,e[d]+i+1,a);b!=JU?(c[d]=f,c[d+1]=h,c[d+2]=b):(c[d+1]=-2,l=!0)}else l=!0}if(l){var w=function(e,t,n,r,o,i,a){function c(e,t){for(var i=0;i<e.local.length;i++){var s=e.local[i].map(r,o,t);s?n.push(s):a.onRemove&&a.onRemove(e.local[i].spec)}for(var u=0;u<e.children.length;u+=3)c(e.children[u+2],e.children[u]+t+1)}for(var s=0;s<e.length;s+=3)-1==e[s+1]&&c(e[s+2],t[s]+i+1);return n}(c,e,t||[],n,o,i,a),k=tV(w,r,0,a);t=k.local;for(var E=0;E<c.length;E+=3)c[E+1]<0&&(c.splice(E,3),E-=3);for(var x=0,O=0;x<k.children.length;x+=3){for(var S=k.children[x];O<c.length&&c[O]<S;)O+=3;c.splice(O,0,k.children[x],k.children[x+1],k.children[x+2])}}return new $U(t&&t.sort(nV),c)}(this.children,i,e,t,n,r,o):i?new $U(i.sort(nV)):JU},$U.prototype.add=function(e,t){return t.length?this==JU?$U.create(e,t):this.addInner(e,t,0):this},$U.prototype.addInner=function(e,t,n){var r,o=this,i=0;e.forEach((function(e,a){var c,s=a+n;if(c=QU(t,e,s)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,c,s+1):r.splice(i,0,a,a+e.nodeSize,tV(c,e,s+1,KU)),i+=3}}));for(var a=XU(i?eV(t):t,-n),c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new $U(a.length?this.local.concat(a).sort(nV):this.local,r||this.children)},$U.prototype.remove=function(e){return 0==e.length||this==JU?this:this.removeInner(e,0)},$U.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+t,c=n[o+1]+t,s=0,u=void 0;s<e.length;s++)(u=e[s])&&u.from>a&&u.to<c&&(e[s]=null,(i||(i=[])).push(u));if(i){n==this.children&&(n=this.children.slice());var l=n[o+2].removeInner(i,a+1);l!=JU?n[o+2]=l:(n.splice(o,3),o-=3)}}if(r.length)for(var d=0,p=void 0;d<e.length;d++)if(p=e[d])for(var f=0;f<r.length;f++)r[f].eq(p,t)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new $U(r,n):JU},$U.prototype.forChild=function(e,t){if(this==JU)return this;if(t.isLeaf)return $U.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var i=e+1,a=i+t.content.size,c=0;c<this.local.length;c++){var s=this.local[c];if(s.from<a&&s.to>i&&s.type instanceof VU){var u=Math.max(i,s.from)-i,l=Math.min(a,s.to)-i;u<l&&(r||(r=[])).push(s.copy(u,l))}}if(r){var d=new $U(r.sort(nV));return n?new YU([d,n]):d}return n||JU},$U.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof $U)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},$U.prototype.locals=function(e){return rV(this.localsInner(e))},$U.prototype.localsInner=function(e){if(this==JU)return qU;if(e.inlineContent||!this.local.some(VU.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof VU||t.push(this.local[n]);return t};var JU=new $U;$U.empty=JU,$U.removeOverlap=rV;var YU=function(e){this.members=e};function XU(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new WU(o.from+t,o.to+t,o.type))}return n}function QU(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,o=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function eV(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function tV(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var c=QU(e,t,a+n);if(c){i=!0;var s=tV(c,t,n+a+1,r);s!=JU&&o.push(a,a+t.nodeSize,s)}}));for(var a=XU(i?eV(e):e,-n).sort(nV),c=0;c<a.length;c++)a[c].type.valid(t,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||o.length?new $U(a,o):JU}function nV(e,t){return e.from-t.from||e.to-t.to}function rV(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),oV(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),oV(t,o+1,i.copy(r.to,i.to)))}}return t}function oV(e,t,n){for(;t<e.length&&nV(n,e[t])>0;)t++;e.splice(t,0,n)}function iV(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=JU&&t.push(r)})),e.cursorWrapper&&t.push($U.create(e.state.doc,[e.cursorWrapper.deco])),YU.from(t)}YU.prototype.map=function(e,t){var n=this.members.map((function(n){return n.map(e,t,KU)}));return YU.from(n)},YU.prototype.forChild=function(e,t){if(t.isLeaf)return $U.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(e,t);o!=JU&&(o instanceof YU?n=n.concat(o.members):n.push(o))}return YU.from(n)},YU.prototype.eq=function(e){if(!(e instanceof YU)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},YU.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?rV(n?t:t.sort(nV)):qU},YU.from=function(e){switch(e.length){case 0:return JU;case 1:return e[0];default:return new YU(e)}};var aV=function(e,t){this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(pV),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=lV(this),this.markCursor=null,this.cursorWrapper=null,uV(this),this.nodeViews=dV(this),this.docView=dz(this.state.doc,sV(this),iV(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new vU(e,(function(t,n,r,o){return Xz(e,t,n,r,o)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=gU[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||kU(e,t)||!e.editable&&t.type in yU||n(e,t)})};for(var n in gU)t(n);bB.safari&&e.dom.addEventListener("input",(function(){return null})),wU(e)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},cV={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function sV(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r&&(t.class+=" "+n[r]),"style"==r?t.style=(t.style?t.style+";":"")+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[WU.node(0,e.state.doc.content.size,t)]}function uV(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:WU.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function lV(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function dV(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function pV(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}function fV(e){if(!(e.selection instanceof be.X))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(WU.node(n,n+e.nodeSize,{class:"selectedCell"}))})),$U.create(e.doc,t)}cV.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},aV.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&wU(this),this._props=e,e.plugins&&(e.plugins.forEach(pV),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)},aV.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},aV.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},aV.prototype.updateStateInner=function(e,t){var n=this,r=this.state,o=!1,i=!1;if(e.storedMarks&&this.composing&&(LU(this),i=!0),this.state=e,t){var a=dV(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(a,this.nodeViews)&&(this.nodeViews=a,o=!0),wU(this)}this.editable=lV(this),uV(this);var c=iV(this),s=sV(this),u=t?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",l=o||!this.docView.matchesNode(e.doc,s,c);!l&&e.selection.eq(r.selection)||(i=!0);var d,p,f,h,v,m,y,b,w,k,E,x="preserve"==u&&i&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var c=e.root.elementFromPoint(i,a);if(c!=e.dom&&e.dom.contains(c)){var s=c.getBoundingClientRect();if(s.top>=o-20){t=c,n=s.top;break}}}return{refDOM:t,refTop:n,stack:BB(e.dom)}}(this);if(i){this.domObserver.stop();var O=l&&(bB.ie||bB.chrome)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&(h=r.selection,v=e.selection,m=Math.min(h.$anchor.sharedDepth(h.head),v.$anchor.sharedDepth(v.head)),h.$anchor.start(m)!=v.$anchor.start(m));if(l){var S=bB.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(e.doc,s,c,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=dz(e.doc,s,c,this.dom,this)),S&&!this.trackWrites&&(O=!0)}O||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(d=this,p=d.docView.domFromPos(d.state.selection.anchor,0),f=d.root.getSelection(),_B(p.node,p.offset,f.anchorNode,f.anchorOffset)))?_z(this,O):(Lz(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==u)this.dom.scrollTop=0;else if("to selection"==u){var C=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof g.NodeSelection?FB(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),C):FB(this,this.coordsAtPos(e.selection.head,1),C))}else x&&(b=(y=x).refDOM,w=y.refTop,k=y.stack,E=b?b.getBoundingClientRect().top:0,zB(k,0==E?0:E-w))},aV.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},aV.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var o=this.directPlugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var a=this.state.plugins[i];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}},aV.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(var o=0;o<this.directPlugins.length;o++){var i=this.directPlugins[o].props[e];if(null!=i&&(n=t?t(i):i))return n}var a=this.state.plugins;if(a)for(var c=0;c<a.length;c++){var s=a[c].props[e];if(null!=s&&(n=t?t(s):s))return n}},aV.prototype.hasFocus=function(){return this.root.activeElement==this.dom},aV.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(UB)return e.focus(UB);var t=BB(e);e.focus(null==UB?{get preventScroll(){return UB={preventScroll:!0},!0}}:void 0),UB||(UB=!1,zB(t,0))}(this.dom),_z(this),this.domObserver.start()},cV.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},aV.prototype.posAtCoords=function(e){return GB(this,e)},aV.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),$B(this,e,t)},aV.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},aV.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},aV.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},aV.prototype.endOfTextblock=function(e,t){return rz(this,t||this.state,e)},aV.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],iV(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},cV.isDestroyed.get=function(){return null==this.docView},aV.prototype.dispatchEvent=function(e){return function(e,t){kU(e,t)||!gU[t.type]||!e.editable&&t.type in yU||gU[t.type](e,t)}(this,e)},aV.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(aV.prototype,cV);var hV=new g.PluginKey("selectingCells"),vV=new g.PluginKey("fix-tables");function mV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mV(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yV(e,t,n,r){var o=n,i=e.childCount,a=t.childCount;e:for(var c=0,s=0;c<a;c++){for(var u=t.child(c),l=s,d=Math.min(i,c+3);l<d;l++)if(e.child(l)===u){s=l+1,o+=u.nodeSize;continue e}r(u,o),s<i&&e.child(s).sameMarkup(u)?yV(e.child(s),u,o+1,r):u.nodesBetween(0,u.content.size,r,o+1),o+=u.nodeSize}}function bV(e,t,n){var r,o=function(t,o){"table"===t.type.spec.tableRole&&(r=function(e,t,n,r,o){var i=r,a=fi.rU.get(t);if(!a.problems)return i;i||(i=e.tr);for(var c,s,u=[],l=0;l<a.height;l++)u.push(0);for(var d=0;d<a.problems.length;d++){var p=a.problems[d];if(o&&o({state:e,tr:i,reason:p.type||"unknown"}),p.type===fi.M2.COLLISION){var f=p,h=t.nodeAt(p.pos);if(!h)throw new Error("fixTable: unable to find cell at pos ".concat(p.pos));for(var v=0;v<h.attrs.rowspan;v++)u[f.row+v]+=f.n;i.setNodeMarkup(i.mapping.map(n+1+p.pos),void 0,(0,iB.H6)(h.attrs,h.attrs.colspan-f.n,f.n))}else if(p.type===fi.M2.MISSING){var m=p;u[m.row]+=m.n}else if(p.type===fi.M2.OVERLONG_ROWSPAN){var g=p,y=t.nodeAt(g.pos);if(!y)throw new Error("fixTable: unable to find cell at pos ".concat(p.pos));i.setNodeMarkup(i.mapping.map(n+1+g.pos),void 0,gV(gV({},y.attrs),{},{rowspan:y.attrs.rowspan-g.n}))}else if(p.type===fi.M2.COLWIDTH_MISMATCH){var b=t.nodeAt(p.pos);if(!b)throw new Error("fixTable: unable to find cell at pos ".concat(p.pos));i.setNodeMarkup(i.mapping.map(n+1+p.pos),void 0,gV(gV({},b.attrs),{},{colwidth:p.colwidth}))}}for(var w=0;w<u.length;w++)u[w]&&(null==c&&(c=w),s=w);for(var k=0,E=n+1;k<a.height;k++){var x=t.child(k),O=E+x.nodeSize,S=u[k];if(S>0){var C="cell";x.firstChild&&(C=x.firstChild.type.spec.tableRole);for(var T=[],A=0;A<S;A++)T.push(rB(e.schema)[C].createAndFill());var _=0!==k&&c!==k-1||s!==k?O-1:E+1;i.insert(i.mapping.map(_),T)}E=O}return i.setMeta(vV,{fixTables:!0})}(e,t,o,r,n))};return t?t.doc!==e.doc&&yV(t.doc,e.doc,0,o):e.doc.descendants(o),r}var wV=(0,it.$)({ArrowLeft:EV("horiz",-1),ArrowRight:EV("horiz",1),ArrowUp:EV("vert",-1),ArrowDown:EV("vert",1),"Shift-ArrowLeft":xV("horiz",-1),"Shift-ArrowRight":xV("horiz",1),"Shift-ArrowUp":xV("vert",-1),"Shift-ArrowDown":xV("vert",1),Backspace:OV,"Mod-Backspace":OV,Delete:OV,"Mod-Delete":OV});function kV(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function EV(e,t){return function(n,r,o){if(r){var i=n.selection;if(i instanceof be.X)return kV(n,r,g.Selection.near(i.$headCell,t));if("horiz"!==e&&!i.empty)return!1;var a=o?TV(o,e,t):null;if(null===a)return!1;if("horiz"===e)return kV(n,r,g.Selection.near(n.doc.resolve(i.head+t),t));var c,s=n.doc.resolve(a),u=(0,hi.li)(s,e,t);return c=u?g.Selection.near(u,1):t<0?g.Selection.near(n.doc.resolve(s.before(-1)),-1):g.Selection.near(n.doc.resolve(s.after(-1)),1),kV(n,r,c)}return!0}}function xV(e,t){return function(n,r,o){var i=n.selection;if(!(i instanceof be.X)){var a,c=o?TV(o,e,t):null;if(null===c)return!1;var s=n.selection,u=s.$head,l=s.$anchor,d=u.blockRange(l);if(!["tableCell","tableHeader"].includes((null==d||null===(a=d.parent)||void 0===a?void 0:a.type.name)||""))return!1;i=new be.X(n.doc.resolve(c))}var p=(0,hi.li)(i.$headCell,e,t);return!!p&&(!r||kV(n,r,new be.X(i.$anchorCell,p)))}}function OV(e,t){var n=e.selection;if(!(n instanceof be.X))return!1;if(t){var r=e.tr,o=rB(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new nB.p2(o,0,0))})),r.docChanged&&t(r)}return!0}function SV(e,t){var n=e.state.doc,r=(0,hi.m9)(n.resolve(t));return!!r&&(e.dispatch(e.state.tr.setSelection(new be.X(r))),!0)}function CV(e,t){var n=t;if(n.ctrlKey||n.metaKey||2===n.button)return!1;var r=AV(e,n.target),o=(0,hi.m9)(e.state.selection.$anchor);if(n.shiftKey&&e.state.selection instanceof be.X)i(e.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&r&&null!==o&&_V(e,n).pos!==o.pos)i(o,n),n.preventDefault();else if(!r)return!1;function i(t,n){var r=_V(e,n),o=null==hV.getState(e.state);if(!r||!(0,oB.y)(t,r)){if(!o)return!1;r=t}var i=new be.X(t,r);if(o||!e.state.selection.eq(i)){var a=e.state.tr.setSelection(i);o&&a.setMeta(hV,t.pos),e.dispatch(a)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",c),null!=hV.getState(e.state)&&e.dispatch(e.state.tr.setMeta(hV,-1))}function c(t){var o,c=hV.getState(e.state);if(null!=c)o=e.state.doc.resolve(c);else if(AV(e,t.target)!==r&&!(o=_V(e,n)))return void a();o&&i(o,t)}return e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",c),!1}function TV(e,t,n){if(!(e.state.selection instanceof g.TextSelection))return null;for(var r=e.state.selection.$head,o=r.depth-1;o>=0;o--){var i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!==(n<0?0:i.childCount))return null;if("cell"===i.type.spec.tableRole||"header_cell"===i.type.spec.tableRole){var a=r.before(o),c="vert"===t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(c)?a:null}}return null}function AV(e,t){for(var n=t;n&&n!==e.dom;n=n.parentNode)if("TD"===n.nodeName||"TH"===n.nodeName)return n;return null}function _V(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n?(0,hi.m9)(e.state.doc.resolve(n.pos)):null}function PV(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowTableNodeSelection,n=void 0!==t&&t,r=e.reportFixedTable;return new g.Plugin({key:hV,state:{init:function(){return null},apply:function(e,t){var n=e,r=n.getMeta(hV);if(null!=r)return-1===r?null:r;if(null==t||!n.docChanged)return t;var o=n.mapping.mapResult(t),i=o.deleted,a=o.pos;return i?null:a}},props:{decorations:fV,handleDOMEvents:{mousedown:CV},createSelectionBetween:function(e){return null!=hV.getState(e.state)?e.state.selection:null},handleTripleClick:SV,handleKeyDown:wV,handlePaste:gB},appendTransaction:function(e,t,o){return function(e,t,n){var r,o,i=t,a=(i||e).selection,c=(i||e).doc;if(a instanceof g.NodeSelection&&(o=a.node.type.spec.tableRole),a instanceof g.NodeSelection&&o){if("cell"===o||"header_cell"===o)r=be.X.create(c,a.from);else if("row"===o){var s=c.resolve(a.from+1);r=be.X.rowSelection(s,s)}else if(!n){var u=fi.rU.get(a.node),l=a.from+1,d=l+u.map[u.width*u.height-1];r=be.X.create(c,l+1,d)}}else a instanceof g.TextSelection&&function(e){var t=e.$from,n=e.$to;if(t.pos===n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,o=n.pos,i=t.depth;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,o--);return r===o&&/row|table/.test(t.node(i).type.spec.tableRole)}(a)?r=g.TextSelection.create(c,a.from):a instanceof g.TextSelection&&function(e){for(var t,n,r=e.$from,o=e.$to,i=r.depth;i>0;i--){var a=r.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){t=a;break}}for(var c=o.depth;c>0;c--){var s=o.node(c);if("cell"===s.type.spec.tableRole||"header_cell"===s.type.spec.tableRole){n=s;break}}return t!==n&&0===o.parentOffset}(a)&&(r=g.TextSelection.create(c,a.$from.start(),a.$from.end()));return r&&(i||(i=e.tr)).setSelection(r),i}(o,bV(o,t,r),n)}})}var DV,ZV,IV=!1,LV=function(){return IV||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},MV=function(e,t){return t?e.createChecked(null,t):e.createAndFill()},RV=function(e){for(var t=e.schema,n=e.rowsCount,r=void 0===n?3:n,o=e.colsCount,i=void 0===o?3:o,a=e.withHeaderRow,c=void 0===a||a,s=e.cellContent,u=rB(t),l=u.cell,d=u.header_cell,p=u.row,f=u.table,h=[],v=[],m=0;m<i;m++){var g=MV(l,s);if(g&&h.push(g),c){var y=MV(d,s);y&&v.push(y)}}for(var b=[],w=0;w<r;w++)b.push(p.createChecked(null,c&&0===w?v:h));return f.createChecked({localId:LV()},b)},NV=n(43726),jV=n(83836);!function(e){e.DELETED="deleted",e.CLEARED="cleared",e.COLLAPSED="collapsed",e.MERGED="merged",e.SPLIT="split",e.COLORED="colored",e.TOGGLED_HEADER_COLUMN="toggledHeaderColumn",e.TOGGLED_HEADER_ROW="toggledHeaderRow",e.TOGGLED_NUMBER_COLUMN="toggledNumberColumn",e.CHANGED_BREAKOUT_MODE="changedBreakoutMode",e.CUT="cut",e.COPIED="copied",e.ADDED_ROW="addedRow",e.ADDED_COLUMN="addedColumn",e.DELETED_ROW="deletedRow",e.DELETED_COLUMN="deletedColumn",e.SORTED_COLUMN="sortedColumn",e.REPLACED="replaced",e.ATTEMPTED_TABLE_WIDTH_CHANGE="attemptedTableWidthChange",e.DISTRIBUTED_COLUMNS_WIDTHS="distributedColumnsWidths",e.FIXED="fixed"}(DV||(DV={})),function(e){e.WIDE="wide",e.FULL_WIDTH="fullWidth",e.NORMAL="normal"}(ZV||(ZV={}));var FV=xo()({loader:function(){return n.e(4880).then(n.bind(n,30346)).then((function(e){return e.default}))},loading:function(){return null}});function BV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var zV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.advanced?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BV(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({allowBackgroundColor:!0,allowColumnResizing:!0,allowHeaderColumn:!0,allowHeaderRow:!0,allowMergeCells:!0,allowNumberColumn:!0,permittedLayouts:"all",allowControls:!0},e):e};function UV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UV(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var HV=new g.PluginKey("tableLocalIdPlugin"),WV=function(e){return new u.J({key:HV,state:{init:function(){return{parsedForLocalIds:!1}},apply:function(t,n){var r=t.getMeta(HV);if(r){var o=Object.keys(r).some((function(e){return n[e]!==r[e]}));if(o){var i=VV(VV({},n),r);return e(HV,i),i}}return n}},view:function(){return{update:function(e){var t=e.state,n=function(e){return e&&HV.getState(e)}(t);if(n&&!n.parsedForLocalIds){var r=t.schema.nodes.table;(0,PA.Z)((function(){var n=t.tr,o=!1;e.state.doc.descendants((function(e,t){var i=e.type===r,a=e.attrs.localId;return!(i&&!a)||(o=!0,n.setNodeMarkup(t,void 0,VV(VV({},e.attrs),{},{localId:bw.V.generate()})),!1)})),o&&(n.setMeta("addToHistory",!1),e.dispatch(n))}))(),e.dispatch(t.tr.setMeta(HV,{parsedForLocalIds:!0}))}}}},appendTransaction:function(e,t,n){var r=!1,o=n.tr,i=n.schema.nodes.table,a=new Set;if(e.forEach((function(e){if(e.docChanged&&"cut"!==e.getMeta("uiEvent")){var t=function(e,t){return e.steps.some((function(e){return(0,ms.v1)(e,new Set([t]))}))}(e,i);t&&n.doc.descendants((function(e,t){var n=e.type===i,c=e.attrs.localId;return!n||(c&&!a.has(c)?a.add(c):c&&!a.has(c)||(r=!0,o.setNodeMarkup(t,void 0,VV(VV({},e.attrs),{},{localId:bw.V.generate()}))),!1)}))}})),r)return o}})},GV=new g.PluginKey("tableSafariDelayedDomSelectionSyncingWorkaround"),qV=new g.PluginKey("tableSafariDeleteCompositionTextIssueWorkaround"),KV=n(26624);function $V(e,t,n){for(var r=rB(t.type.schema).header_cell,o=0;o<e.height;o++){var i=t.nodeAt(e.map[n+o*e.width]);if(i&&i.type!==r)return!1}return!0}var JV=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},YV=function(e){return function(t){var n=(0,na.AG)(t.selection);if(n){var r=fi.rU.get(n.node);if(e>=0&&e<=r.width)return JV(function(e,t,n){var r=t.map,o=t.tableStart,i=t.table,a=n>0?-1:0;$V(r,i,n+a)&&(a=0===n||n===r.width?null:0);for(var c=0;c<r.height;c++){var s=c*r.width+n;if(n>0&&n<r.width&&r.map[s-1]===r.map[s]){var u=r.map[s],l=i.nodeAt(u);if(!l)throw new Error("addColumn: invalid cell for pos ".concat(u));var d=l.attrs;(0,iB.S9)(d),e.setNodeMarkup(e.mapping.map(o+u),void 0,(0,iB.hl)(d,n-r.colCount(u))),c+=d.rowspan-1}else{var p=void 0;if(null===a)p=rB(i.type.schema).cell;else{var f=r.map[s+a],h=i.nodeAt(f);if(!h)throw new Error("addColumn: invalid node at mapped pos ".concat(f));p=h.type}var v=r.positionAt(c,n,i);e.insert(e.mapping.map(o+v),p.createAndFill())}}return e}(t,{map:r,tableStart:n.start,table:n.node},e))}return t}};function XV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XV(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function eH(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,a=o,c=0;c<n;c++)a+=i.child(c).nodeSize;var s=[],u=n>0?-1:0;(function(e,t,n){for(var r=rB(t.type.schema).header_cell,o=0;o<e.width;o++){var i=t.nodeAt(e.map[o+n*e.width]);if(i&&i.type!==r)return!1}return!0})(r,i,n+u)&&(u=0===n||n===r.height?null:0);for(var l=0,d=r.width*n;l<r.width;l++,d++)if(n>0&&n<r.height&&r.map[d]===r.map[d-r.width]){var p=r.map[d],f=i.nodeAt(p);if(!f)throw new Error("addRow: node not found at pos ".concat(p));var h=f.attrs;e.setNodeMarkup(o+p,void 0,QV(QV({},h),{},{rowspan:h.rowspan+1})),l+=h.colspan-1}else{var v=void 0;if(null==u)v=rB(i.type.schema).cell;else{var m=r.map[d+u*r.width],g=i.nodeAt(m);if(!g)throw new Error("addRow: invalid node at mapped pos ".concat(m));v=g.type}s.push(v.createAndFill())}var y=rB(i.type.schema).row.create(null,s);return e.insert(a,y),e}var tH=n(84934),nH=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,void 0,Object.assign({},e.node.attrs,t)),JV(n)):n}},rH=function(e){return function(t){var n=(0,na.AG)(t.selection);if(n){var r=fi.rU.get(n.node);if(e>=0&&e<=r.height){for(var o=n.node,i=rB(o.type.schema),a=n.start,c=0;c<e+1;c++)a+=o.child(c).nodeSize;var u=o.child(e),l=[],d=0;if(u.forEach((function(e){if(1===e.attrs.rowspan){d+=e.attrs.colspan;var t=i[e.type.spec.tableRole].createAndFill(e.attrs,[],e.marks);t&&l.push(t)}})),d<r.width){for(var p=[],f=function(n){var r=function(e,t){return function(n){var r=[],o=(0,tH.u)(e)(n.selection);if(o)for(var i=o.length-1;i>=0;i--)t(o[i],n)&&r.push(o[i]);return r}}(n,(function(t,r){var o=t.node.attrs.rowspan;return o>1&&n+o>e}))(t);p.push.apply(p,(0,s.Z)(r))},h=e;h>=0;h--)f(h);p.length&&p.forEach((function(e){t=nH(e,{rowspan:e.node.attrs.rowspan+1})(t)}))}return(0,W.Z3)(i.row.create(u.attrs,l),a)(t)}}return t}},oH=n(82841),iH=n.n(oH),aH=function(e,t,n){return t*e.width+n};function cH(e,t,n){var r=aH(e,t,n);return n>0&&e.map[r-1]===e.map[r]||n<e.width-1&&e.map[r+1]===e.map[r]}function sH(e,t,n){var r=aH(e,t,n);return!(t>0)||e.map[r-e.width]!==e.map[r]}var uH=iH().mark(lH);function lH(e,t){var n,r,o,i,a,c,s,u,l,d,p,f;return iH().wrap((function(h){for(;;)switch(h.prev=h.next){case 0:n=e.map,r=e.tableStart,o=e.table,$V(n,o,t+(i=t>0?-1:0))&&(i=0===t||t===n.width?null:0),a=0;case 4:if(!(a<n.height)){h.next=20;break}return c=aH(e.map,a,t),s=n.map[c],u=cH(e.map,a,t)&&sH(e.map,a,t),l=null==i?rB(o.type.schema).cell:o.nodeAt(n.map[c+i]).type,u||(s=n.positionAt(a,t,o)),d=o.nodeAt(s),p={from:r+s,to:r+s,row:a,col:u?n.colCount(s):t,type:l,hasMergedCells:u},d&&(p.attrs=d.attrs,p.to=r+s+d.nodeSize),h.next=15,p;case 15:(f=h.sent)&&f>0&&(a+=f);case 17:a++,h.next=4;break;case 20:case"end":return h.stop()}}),uH)}function dH(e,t){for(var n=0,r=t.map.width-1,o=e.values(),i=o.next(),a=0;a<t.map.height&&!i.done;a++)for(var c=n;c<=r;c++){var s=a*t.map.width+c,u=t.map.map[s],l=i.value.from-t.tableStart;if(u===l){for(var d=r-(n=c)+s,p=s;p<=d&&t.map.map[p]===u;p++)r=n+p-s;if(n===r)return n;i=o.next();break}if(c===t.map.width-1)if(u+t.table.nodeAt(u).nodeSize===l)return t.map.width}return null}function pH(e,t){var n=e.nodeAt(t);if(!n||"table"!==n.type.name)throw new Error('No table at position "'.concat(t,'".'));var r=fi.rU.get(n),o=e.resolve(t);return{map:r,table:n,tableStart:o.start(o.depth+1),bottom:0,left:0,right:0,top:0}}function fH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fH(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vH=4;function mH(e){return e&&e.rowspan?e.rowspan-1:0}function gH(e,t,n,r,o,i){if(void 0!==r.mergeWith){var a=e.doc.nodeAt(e.mapping.map(r.mergeWith)),c=i-t.map.colCount(r.mergeWith-t.tableStart),s=o?(0,iB.H6)(a.attrs,c):(0,iB.hl)(a.attrs,c);if(s.colspan>0)return e.setNodeMarkup(e.mapping.map(r.mergeWith),void 0,s),{tr:e,skipRows:mH(s),cellStep:r};r.from=r.mergeWith,r.to=r.from+a.nodeSize,r.mergeWith=void 0}var u=0;o?(u=mH(e.doc.nodeAt(e.mapping.map(r.from)).attrs),e.delete(e.mapping.map(r.from),e.mapping.map(r.to))):r.newCell?(e.insert(e.mapping.map(r.from),r.newCell),u=mH(r.newCell.attrs)):e.insert(e.mapping.map(r.from),n.type.createAndFill());return{tr:e,skipRows:u,cellStep:r}}function yH(e,t){return void 0!==e.mergeWith?[e.mergeWith,1,1]:t?[e.from,e.to-e.from,0]:e.newCell?[e.from,0,e.newCell.nodeSize]:[e.from,0,vH]}function bH(e,t,n,r,o){var i=function(e,t,n){if(n)return e.map(t.from)-t.from;var r=yH(t,n),o=(0,sr.Z)(r,3),i=o[1],a=o[2];return e.map(t.from)-t.from-(a-i)}(o,n,r),a=hH(hH({},n),{},{from:n.from+i,to:n.to+i});if(void 0!==n.mergeWith&&(a.mergeWith=n.mergeWith+i),r){var c=e.nodeAt(n.from);a.newCell=c.copy(c.content);var s=t(),u=s.column,l=s.rect;if(u<l.map.width){var d=l.map.colCount(n.from-l.tableStart)+c.attrs.colspan-1===u;void 0!==n.mergeWith&&d&&(a.mergeWith=a.from,a.from=a.to)}}return a}function wH(e,t,n,r){var o={from:e.from,to:e.to};return e.hasMergedCells&&(t!==e.col||n)&&(o.mergeWith=e.from),r&&(void 0!==r.mergeWith&&(o.mergeWith=r.mergeWith),r.newCell&&(o.newCell=r.newCell)),o}var kH=function(){function e(t){(0,P.Z)(this,e),t&&(this.table=t)}return(0,D.Z)(e,[{key:"addTableSideEffect",value:function(e,t,n){this.table={from:e,to:t,node:n}}},{key:"handleAddTable",value:function(e,t){return!(t||!this.table)&&(e.insert(this.table.from,this.table.node),!0)}},{key:"handleRemoveTable",value:function(e,t,n,r,o){return!(!o||1!==n.map.width||0!==r)&&(this.addTableSideEffect(t,t+n.table.nodeSize,n.table.copy(n.table.content)),e.delete(t,t+n.table.nodeSize),!0)}},{key:"getTableMap",value:function(e){if(this.table){var t=this.table,n=t.from,r=t.to;return e?new nn.KS([n,r-n,0]):new nn.KS([n,0,r-n])}}},{key:"map",value:function(e){if(this.table)return{from:e.map(this.table.from),to:e.map(this.table.to),node:this.table.node}}},{key:"invert",value:function(e){if(this.table){var t=e.nodeAt(this.table.from);return{from:this.table.from,to:this.table.from+t.nodeSize,node:t.copy(t.content)}}}},{key:"toJSON",value:function(){if(this.table)return{from:this.table.from,to:this.table.to,node:this.table.node.toJSON()}}}],[{key:"fromJSON",value:function(e,t){return{from:t.from,to:t.to,node:e.nodeFromJSON(t.node)}}}]),e}();function EH(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return xH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xH(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function xH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function OH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function SH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OH(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CH(e,t,n,r){for(var o=t.tableStart,i=0;i<n;i++)o+=t.table.child(i).nodeSize;var a=t.table.child(n),c=o+a.nodeSize;e.delete(e.mapping.map(o),e.mapping.map(c));var s=function(e,t,n,r){for(var o=0,i=t.map,a=t.table,c=t.tableStart,s=0;s<i.width;s++){var u=n*i.width+s,l=i.map[u];if(n>0&&l===i.map[u-i.width]){var d=e.mapping.map(l+c),p=e.doc.nodeAt(d).attrs;e.setNodeMarkup(d,void 0,SH(SH({},p),{},{rowspan:p.rowspan-1})),s+=p.colspan-1}else s===r&&(o=a.nodeAt(l).attrs.rowspan-1)}return o}(e,t,n,r);return{skipRows:s,row:{from:o,to:c,rowNode:a.copy(a.content)}}}function TH(e,t,n,r){var o=r.rowNode.child(0);return e.insert(e.mapping.map(r.from),r.rowNode),function(e,t,n){for(var r=t.map,o=t.tableStart,i=0;i<r.width;i++){var a=n*r.width+i,c=r.map[a],s=e.mapping.map(c+o),u=e.doc.nodeAt(s).attrs;e.setNodeMarkup(s,void 0,SH(SH({},u),{},{rowspan:u.rowspan+1})),i+=u.colspan-1}}(e,t,n),o.attrs.rowspan-1}var AH=function(){function e(t){var n=this;(0,P.Z)(this,e),(0,o.Z)(this,"deleteHandler",(function(){var e=[];return{handle:function(t,n,r,o,i){if(!function(e,t,n){var r=e.table.child(t);return!!r&&1===r.childCount&&!cH(e.map,t,n)}(n,r,o))return{handled:!1};var a=CH(t,n,r,o),c=a.row,s=a.skipRows;return e.push(c),{handled:!0,skipRows:s}},end:function(){e.length>0?n.rows=e:n.rows=void 0}}})),(0,o.Z)(this,"addHandler",(function(){var e=0,t=0;return{handle:function(r,o,i,a,c){if(!n.rows||t>=n.rows.length)return{handled:!1};for(var s,u;(u=n.rows[t])&&u.from>e&&u.from<c.from;)s=TH(r,o,i-1,u),t++;return e=c.from,s&&0!==s?{handled:!0,skipRows:s-1}:{handled:!1}},end:function(e,r,o){if(n.rows&&!(t>=n.rows.length))for(var i;i=n.rows[t];)TH(e,r,r.map.height-1,i),t++}}})),this.rows=t}return(0,D.Z)(e,[{key:"start",value:function(e){return e?this.deleteHandler():this.addHandler()}},{key:"addRowRanges",value:function(e,t){if(!this.rows)return e;var n,r=[],o=EH(this.rows);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i.from,c=i.to;t?r.push(a,c-a,0):r.push(a,0,c-a)}}catch(e){o.e(e)}finally{o.f()}return function(e,t){for(var n=[],r=e.length,o=t.length,i=0,a=0;i<r&&a<o;)e[i]<t[a]?(n.push(e[i],e[i+1],e[i+2]),i+=3):(n.push(t[a],t[a+1],t[a+2]),a+=3);return i<r&&n.push.apply(n,(0,s.Z)(e.slice(i))),a<o&&n.push.apply(n,(0,s.Z)(t.slice(i))),n}(e,r)}},{key:"map",value:function(e){return[]}},{key:"invert",value:function(e,t,n){if(this.rows){var r,o=[],i=EH(this.rows);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(t){var c=n.map(a.from)-a.from;o.push(SH(SH({},a),{},{from:a.from+c,to:a.from+c}))}}}catch(e){i.e(e)}finally{i.f()}return o}}},{key:"toJSON",value:function(){if(this.rows){var e,t=[],n=EH(this.rows);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push({from:r.from,to:r.to,rowNode:r.rowNode.toJSON()})}}catch(e){n.e(e)}finally{n.f()}return t}}}],[{key:"fromJSON",value:function(e,t){var n,r=[],o=EH(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push({from:i.from,to:i.to,rowNode:e.nodeFromJSON(i.rowNode)})}}catch(e){o.e(e)}finally{o.f()}return r}}]),e}(),_H=function(){function e(t){(0,P.Z)(this,e),this.table=new kH(t&&t.table),this.rows=new AH(t&&t.rows)}return(0,D.Z)(e,[{key:"getTableMap",value:function(e){return this.table.getTableMap(e)}},{key:"map",value:function(e){var t={},n=this.table.map(e),r=this.rows.map(e);return n&&(t.table=n),r&&(t.rows=r),t}},{key:"invert",value:function(e,t,n){var r={},o=this.table.invert(e);o&&(r.table=o);var i=this.rows.invert(e,t,n);return i&&(r.rows=i),r}},{key:"toJSON",value:function(){var e=this.table.toJSON(),t=this.rows.toJSON();if(e||t){var n={};return e&&(n.table=e),t&&(n.rows=t),n}}}],[{key:"fromJSON",value:function(e,t){var n={};return t.table&&(n.table=kH.fromJSON(e,t.table)),t.rows&&(n.rows=AH.fromJSON(e,t.rows)),n}}]),e}(),PH=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function DH(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||PH(r)&&PH(o)))return!1;var r,o;return!0}function ZH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZH(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function LH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}function MH(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return RH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RH(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function RH(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var NH="ak-add-column";var jH=function(e,t,n){return function(e,t){void 0===t&&(t=DH);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}((function(){var r=pH(e,t),o=dH(n,r);if(null===o)throw new Error("no column");return{rect:r,column:o}}))},FH=function(e){(0,j.Z)(n,e);var t=LH(n);function n(e,r){var o,i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,P.Z)(this,n),(o=t.call(this)).tablePos=e,o.isDelete=a,o.sideEffectsHandler=new _H(r.sideEffects),o.columnInfo=(i=r.cells,new Map(i.map((function(e){return[e.from,e]})))),o}return(0,D.Z)(n,[{key:"apply",value:function(e){var t,n=this.tablePos,r=new nn.wx(e);if(this.sideEffectsHandler.table.handleAddTable(r,this.isDelete))return nn.oo.ok(r.doc);try{t=pH(e,n)}catch(e){return nn.oo.fail(e.message)}var o=dH(this.columnInfo,t);return null===o?nn.oo.fail('No column for this cells "'.concat(function(e){var t,n=[],r=MH(e.values());try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(o.from)}}catch(e){r.e(e)}finally{r.f()}return"[".concat(n.join(","),"]")}(this.columnInfo),'" in table at position "').concat(n,'".')):(this.sideEffectsHandler.table.handleRemoveTable(r,this.tablePos,t,o,this.isDelete)||(this.columnInfo=this.applyCellSteps(r,t,o,this.isDelete)),nn.oo.ok(r.doc))}},{key:"map",value:function(e){var t=e.mapResult(this.tablePos);if(t.deleted)return null;var r,o=[],i=MH(this.columnInfo.values());try{for(i.s();!(r=i.n()).done;){var a=r.value,c=e.mapResult(a.from),s=e.mapResult(a.to);if(!c.deleted||!s.deleted){var u=IH(IH({},a),{},{from:c.pos,to:s.pos});void 0!==a.mergeWith&&(u.mergeWith=e.map(a.mergeWith)),o.push(u)}}}catch(e){i.e(e)}finally{i.f()}if(0===o.length)return null;var l=this.sideEffectsHandler.map(e);return new n(t.pos,{cells:o,sideEffects:l},this.isDelete)}},{key:"invert",value:function(e){var t=this,r=this.getMap(),o=jH(e,this.tablePos,this.columnInfo),i=Array.from(this.columnInfo.values(),(function(n){return bH(e,o,n,t.isDelete,r)})),a=this.sideEffectsHandler.invert(e,this.isDelete,r);return new n(this.tablePos,{cells:i,sideEffects:a},!this.isDelete)}},{key:"getMap",value:function(){var e=this.sideEffectsHandler.getTableMap(this.isDelete);if(e)return e;var t,n=[],r=MH(this.columnInfo.values());try{for(r.s();!(t=r.n()).done;){var o,i=t.value;(o=n).push.apply(o,(0,s.Z)(yH(i,this.isDelete)))}}catch(e){r.e(e)}finally{r.f()}return n=this.sideEffectsHandler.rows.addRowRanges(n,this.isDelete),new nn.KS(n)}},{key:"merge",value:function(e){return null}},{key:"toJSON",value:function(){var e={stepType:NH,tablePos:this.tablePos,cells:Array.from(this.columnInfo.values(),(function(e){var t={from:e.from,to:e.to};return void 0!==e.mergeWith&&(t.mergeWith=e.mergeWith),void 0!==e.newCell&&(t.newCell=e.newCell.toJSON()),t})),isDelete:this.isDelete},t=this.sideEffectsHandler.toJSON();return t&&(e.sideEffects=t),e}},{key:"applyCellSteps",value:function(e,t,n,r){for(var o=new Map,i=this.sideEffectsHandler.rows.start(this.isDelete),a=lH(t,n),c=a.next();!c.done;){var s=c.value,u=wH(s,n,r,this.columnInfo.get(s.from)),l=i.handle(e,t,s.row,n,s);if(l.handled)c=a.next(l.skipRows);else{var d=gH(e,t,s,u,r,n),p=d.skipRows,f=d.cellStep;o.set(u.from,f),c=a.next(p)}}return i.end(e,t,n),o}}],[{key:"fromJSON",value:function(e,t){var r,o=t.cells.map((function(t){return IH(IH({},t),{},{newCell:t.newCell?e.nodeFromJSON(t.newCell):void 0})}));return t.sideEffects&&(r=_H.fromJSON(e,t.sideEffects)),new n(t.tablePos,{cells:o,sideEffects:r},t.isDelete)}},{key:"create",value:function(e,t,r){for(var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],a=lH(pH(e,t),r),c=a.next();!c.done;){var s=c.value;i.push(wH(s,r,o));var u=0;s.attrs&&s.attrs.rowspan&&(u=s.attrs.rowspan-1),c=a.next(u)}return new n(t,{cells:i},o)}}]),n}(nn.h8);nn.h8.jsonID(NH,FH);var BH=n(38505),zH=n(90461),UH=function(e){return function(t){if(!(0,vi.u)(t,"cell"))return!1;for(var n=fi.rU.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),o=n.cellsInRect(e),i=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r)),a=0,c=o.length;a<c;a++)if(-1===i.indexOf(o[a]))return!1;return!0}},VH=function(e){return function(t){if((0,vi.u)(t,"cell")){var n=fi.rU.get(t.$anchorCell.node(-1));return UH({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},HH=function(e){if((0,vi.u)(e,"cell")){var t=fi.rU.get(e.$anchorCell.node(-1));return UH({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1},WH=n(79300),GH=n(77398);function qH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function KH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qH(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qH(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $H=function(e){var t=[],n=e.querySelector("tbody");if(n)for(var r=n.childNodes,o=0,i=r.length;o<i;o++){var a=r[o];if(t[o]=a.getBoundingClientRect().height+1,a.classList.contains("sticky")&&0===o){var c=window.getComputedStyle(a),s=(0,Ea.AY)(c.paddingTop||"");t[o]-=s?s+1:1}}return t},JH=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=[];return(VH(e)(t)||n.indexOf(e)>-1&&!o)&&(i.push(WH.CF.HOVERED_CELL_ACTIVE),r&&i.push(WH.CF.HOVERED_CELL_IN_DANGER)),i.join(" ")},YH=n(85269);function XH(e){var t=(0,YH.Lk)(e);return Boolean(t)&&Boolean(t.pluginConfig.allowAddColumnWithCustomStep)}var QH=n(44683),eW=function(e){var t=[];return e.content.firstChild.content.forEach((function(e){var n=e.attrs.colspan||1;Array.isArray(e.attrs.colwidth)?e.attrs.colwidth.slice(0,n).forEach((function(e){t.push(["col",e?{style:"width: ".concat(e,"px;")}:{}])})):t.push.apply(t,(0,s.Z)(Array.from({length:n},(function(e){return["col",{}]}))))})),t},tW=function(e,t){var n=e.querySelector("colgroup");return n&&e.removeChild(n),n=function(e){var t=on.DOMSerializer.renderSpec(document,["colgroup",{}].concat((0,s.Z)(eW(e))));return t.dom}(t),e.insertBefore(n,e.firstChild),n.children},nW=function(e){return!!ur(e.content.firstChild.content).find((function(e){return e.attrs.colwidth}))};var rW=n(37038),oW=n(89012),iW=function(e,t,n,r){if(e){var o=aW(e,t);if(o){var i=o.attrs.layout||"default",a=t.schema,c=a.marks.breakout&&a.marks.breakout.isInSet(o.marks);c&&c.attrs.mode&&(i=c.attrs.mode);var s=cW(i,n,r);if(o.type===a.nodes.layoutSection&&(s+=2*ue.qh,n.width>ue.Kv)){s-=(oW.U+2)*(o.childCount-1);var u=t.doc.resolve(e),l=(0,W.NP)(u,[t.schema.nodes.layoutColumn]);l&&l.node&&!isNaN(l.node.attrs.width)&&(s=Math.round(s*l.node.attrs.width*.01))}switch(o.type){case a.nodes.layoutSection:s-=2*oW.r;break;case a.nodes.bodiedExtension:s-=2*NO;break;case a.nodes.expand:s-=2*(0,Jd.ww)(),s+=1.5*(0,Jd.ww)()*2,s-=(0,Jd.ww)(),s-=4*(0,Jd.ww)()-(0,Jd.ww)()/2}return s-=2}}},aW=function(e,t){if(void 0===e)return null;var n=t.doc.resolve(e),r=(0,W.NP)(n,[t.schema.nodes.bodiedExtension,t.schema.nodes.layoutSection,t.schema.nodes.expand]);return r?r.node:null},cW=function(e,t,n){return n?Math.min(t.lineLength,ue.zJ):(0,L.A9)(e,t.width)},sW={default:ue.re,wide:ue.uz,"full-width":ue.zJ};function uW(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if((arguments.length>2?arguments[2]:void 0).isFullWidthModeEnabled)return t?Math.min(t-2*ue.sF,ue.zJ):ue.zJ;var n=(0,QH.WM)(e,t,!0);return n.endsWith("px")?parseInt(n,10):sW[e]||t}function lW(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}var dW=function(e){var t=e.table,n=e.tableStart,r=e.state,o=e.layout,i=(0,e.getEditorContainerWidth)(),a=iW(n,r,i)||uW(o,i.width,{});return t.attrs.isNumberColumnEnabled&&(a-=ue.XV),a},pW=function(e){return e?parseInt(e,10):0};function fW(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(e,t,n,r){for(var o=[],i=0,a=0;a<e.childNodes.length;a++){var c=e.childNodes[a];if(c.nodeType!==Node.COMMENT_NODE)if(c.nodeType===Node.TEXT_NODE){var s=c.parentNode,u=getComputedStyle(s),l=0;l="CODE"===s.nodeName||"PRE"===s.nodeName?vW(n,s,c.textContent,u.font):hW(n,c.textContent,u.font);var d=s.offsetLeft-t.offsetLeft;o.push(i),i+=l+d,"nowrap"===u.whiteSpace&&r.push(s.offsetWidth+3)}else{var p=getComputedStyle(c);p.minWidth&&p.minWidth.endsWith("px")&&"0px"!==p.minWidth&&r.push(pW(p.minWidth));var f=fW(c,t,r,n).width;p.display&&p.display.indexOf("inline")>-1?i+=f:(o.push(i),i=f)}}return o.push(i),{minWidth:r.reduce((function(e,t){return Math.max(t,e)}),0),width:o.reduce((function(e,t){return Math.max(t,e)}),0)}}(e,t||e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.createElement("canvas"),n)}function hW(e,t,n){var r=e.getContext("2d");return r?(n&&(r.font=n),Math.round(r.measureText(t||"").width)):0}function vW(e,t,n,r){var o=t;"CODE"===t.nodeName&&(o=t.parentNode);var i=getComputedStyle(o);return n&&"pre"===i.whiteSpace?n.split("\n").reduce((function(t,n){return Math.max(hW(e,n,r),t)}),0):hW(e,n,r)}var mW=function(e,t,n){var r=bW(e,kW),o=r<n?QH.Xf:bW(e,function(e){return function(t,n,r){if(r&&r>1)return pW(t.width);var o=fW(n,n).minWidth;return Math.max(wW(o,t),o,e)}}(n));return{index:t,width:r<n?QH.Xf:r,minWidth:o}},gW=function(e){return Math.max(e.width-e.minWidth,0)},yW=function(e,t,n,r){var o=fi.rU.get(t),i=o.cellsInRect({left:e,right:e+1,top:0,bottom:o.height}),a=[];return i.forEach((function(e){var t=(0,W.TM)(e+n,r);t&&a.push(t)})),a},bW=function(e,t){var n=0,r=0;return e.forEach((function(e){var o=getComputedStyle(e),i=Number(e.getAttribute("colspan")||1);if(i>1)r=t(o,e,i);else if(o){var a=t(o,e,i);n=Math.max(a,n)}})),n||r},wW=function(e,t){return e+pW(t.paddingLeft)+pW(t.paddingRight)};function kW(e){return pW(e.width)}function EW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EW(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var OW=function(){var e;return e={events:[{name:"atlaskit.fabric.editor.fixtable",product:"atlaskit",properties:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},serverTime:(new Date).getTime(),server:"local",user:"-"}]},fetch("https://analytics.atlassian.com/analytics/events",{method:"POST",headers:{Accept:"application/json, */*","Content-Type":"application/json"},body:JSON.stringify(e)})},SW=function(e,t){var n=!1;if(e.doc.descendants((function(r,o){"table"===r.type.name&&(n=function(e,t,n,r){var o=!1;return n=AW(n,e,t,(function(t){var n=t.attrs,i=n.colwidth,a=n.colspan,c=n.rowspan;return r&&function(e,t){var n=e.colspan,r=e.rowspan,o=e.tableLocalId;n&&n<0&&t({nodeType:"tableCell",attribute:"colspan",reason:"negative value",tableLocalId:o,spanValue:n}),r&&r<0&&t({nodeType:"tableCell",attribute:"rowspan",reason:"negative value",tableLocalId:o,spanValue:r})}({colspan:a,rowspan:c,tableLocalId:e.attrs.localId},r),i&&i.length>a?(o=!0,t.type.createChecked(xW(xW({},t.attrs),{},{colwidth:i.slice(0,a)}),t.content,t.marks)):t})),!!o&&(OW({message:"removeExtraneousColumnWidths"}),!0)}(r,e.mapping.map(o),e,t))})),n)return e},CW=function(e,t,n,r,o){var i=e.state.tr,a=function(e,t,n,r){var o=r.querySelector("tr");if(!o)return[];for(var i=[],a=0;a<o.childElementCount;a++)for(var c=o.children[a],s=Number(c.getAttribute("colspan")||1),u=0;u<s;u++){var l=a+u,d=yW(l,t,n,e),p=bW(d,(function(e,t){return fW(t,r).width}));i[l]=Math.max(p,QH.kB)}return i}(e.domAtPos.bind(e),t,r+1,n),c=a.reduce((function(e,t){return e+t}),0),s=TW(c),u=uW(s,o.containerWidth,{}),l=1;c!==u&&(l=u/c);var d=a.map((function(e){return Math.floor(e*l)}));return(i=AW(i,t,r,(function(e,t,n){var r=d.slice(n,n+e.attrs.colspan);return e.type.createChecked(xW(xW({},e.attrs),{},{colwidth:r.length?r:null}),e.content,e.marks)}))).setNodeMarkup(r,void 0,xW(xW({},t.attrs),{},{layout:s,__autoSize:!1})).setMeta("addToHistory",!1)},TW=function(e){return e>ue.uz?"full-width":e>ue.re&&e<ue.uz?"wide":"default"};var AW=function(e,t,n,r){for(var o=[],i=0,a=0;a<t.childCount;a++){for(var c=t.child(a),s=[],u=0;u<c.childCount;u++){var l=c.child(u),d=r(l,a,u);!1===d.sameMarkup(l)&&i++,s.push(d)}s.length&&o.push(c.type.createChecked(c.attrs,s,c.marks))}if(o.length&&0!==i){var p=t.type.createChecked(t.attrs,o,t.marks);return e.replaceWith(n,n+t.nodeSize,p)}return e},_W=function(e){return function(t){return"problem"in e&&OW(e),t.setMeta(rW.u,e)}},PW=n(28195),DW=function(e,t){Array.from(t).forEach((function(t){t.classList.contains(WH.CF.TABLE_STICKY_SHADOW)&&t instanceof HTMLElement&&t.style.height!==e&&(t.style.height=e)}))},ZW=function(e){return function(t,n,r,o,i){var a;if(!0===(null===(a=e())||void 0===a?void 0:a.tableOverflowShadowsOptimization))return!1;if(r&&n){var c=n.querySelector("tr.sticky"),s=c&&c.firstElementChild;if(o)for(var u=r.offsetWidth-n.offsetWidth,l=0;l<o.length;l++){var d=o[l];d.style.display=u>0&&u>n.scrollLeft?"block":"none",d.classList.contains(WH.CF.TABLE_STICKY_SHADOW)&&s&&(d.style.height="".concat(s.clientHeight+1,"px"))}if(i)for(var p=0;p<i.length;p++){var f=i[p];f.style.display=n.scrollLeft>0?"block":"none",f.classList.contains(WH.CF.TABLE_STICKY_SHADOW)&&s&&(f.style.height="".concat(s.clientHeight+1,"px"))}}}},IW=n(57740),LW=function(e,t){var n=(0,Ea.FR)(t,(function(e){return Number(e.getAttribute("colspan")||1)})),r=t.nextElementSibling||t;if(r){var o=(0,Ea.FR)(r,(function(e){return{width:e.getBoundingClientRect().width,colspan:Number(e.getAttribute("colspan")||1),colwidth:e.dataset.colwidth}})),i=[];if(o.map((function(e,t){i.push.apply(i,(0,s.Z)(function(e){var t=e.width,n=e.colspan,r=e.colwidth;if(1===n||!r)return new Array(n).fill(t/n);var o=r.split(",").map((function(e){return Number(e)})),i=o.reduce((function(e,t){return e+t}),0);return o.map((function(e){return t*(e/i)}))}(e)))})),0!==o.reduce((function(e,t){return e+t.width}),0)){var a=function(e,t){var n=0,r=[];return e.forEach((function(e){var o=t.slice(n,n+e).reduce((function(e,t){return e+t}),0);n+=e,r.push(o)})),r}(n,i);return a.map((function(e){return"".concat(e,"px")})).join(" ")}}var c=n.reduce((function(e,t){return e+t}),0);return n.map((function(e){return e/c*100})).map((function(e){return"".concat(e,"%")})).join(" ")},MW=function(e){return function(t){var n=(0,YH.Lk)(t).tableRef;if(n&&n.querySelector("tr")){var r=n.parentElement;if(r&&r.parentElement){var o=r.parentElement.querySelectorAll(".".concat(WH.CF.ROW_CONTROLS_BUTTON_WRAP)),i=r.parentElement.querySelectorAll(WH.CF.NUMBERED_COLUMN_BUTTON);NW(n);for(var a=$H(n),c=0,s=o.length;c<s;c++){var u=a[c];u&&(o[c].style.height="".concat(u,"px"),i.length&&(i[c].style.height="".concat(u,"px")))}var l=r.parentElement.querySelectorAll(".".concat(WH.CF.TABLE_RIGHT_SHADOW)),d=r.parentElement.querySelectorAll(".".concat(WH.CF.TABLE_LEFT_SHADOW));ZW(e)(t,r,n,l,d)}}}},RW=function(e){var t=e.querySelector("tr.sticky");if(t){var n=(0,Ea.AY)(window.getComputedStyle(t).paddingTop||"")||0,r=t.getBoundingClientRect().height-n-QH.Ok;e.style.marginTop="".concat(QH.MZ+r,"px")}else e.style.marginTop=""},NW=function(e){if(e){var t=e.querySelector("tr[data-header-row]");t&&(!function(e,t){var n=LW(0,t);n&&(t.style.gridTemplateColumns=n)}(e.querySelector("colgroup"),t),jW(e,t))}},jW=function(e,t){var n=e.querySelector("tbody"),r=e.parentElement;if(n&&r){var o=Math.min(n.offsetWidth+1,r.offsetWidth);t.style.width="".concat(o,"px"),t.scrollLeft=r.scrollLeft}};function FW(e){var t,n=0,r=0,o=(0,na.AG)(e);return o&&(n=(t=fi.rU.get(o.node)).height,r=t.width),{table:o,map:t,totalRowCount:n,totalColumnCount:r}}function BW(e){var t=1,n=1,r=1,o=FW(e),i=o.table,a=o.map,c=o.totalRowCount,s=o.totalColumnCount;if(i&&a){var u=(0,zH.T)(e);u&&(r=a.cellsInRect(u).length,t=u.right-u.left,n=u.bottom-u.top)}return{totalRowCount:c,totalColumnCount:s,horizontalCells:t,verticalCells:n,totalCells:r}}var zW=function(e){return function(t){return function(n){return function(r,o,i){return n(r,(function(n){var i=e instanceof Function?e(r):e;return i&&(null==t||t.attachAnalyticsEvent(i)(n)),o&&o(n),!0}),i)}}}};function UW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?UW(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var HW=function(e){var t=e.minWidth,n=e.maxSize,r=e.table,o=e.tableRef,i=e.start,a=e.domAtPos;if(nW(r)){var c=(0,PW.gf)(r).map((function(e,n){return{width:0===e?QH.Xf:e,minWidth:0===e?QH.Xf:t,index:n}})),s=c.map((function(e){return e.width})),u=s.reduce((function(e,t){return e+t}),0);return{cols:c,widths:s,maxSize:n,tableWidth:u,overflow:u>n}}var l=tW(o,r),d=Array.from(l).map((function(e,n){var o=yW(n,r,i,a);return mW(o,n,t)})),p=d.map((function(e){return e.width})),f=p.reduce((function(e,t){return e+t}),0);return{cols:d,widths:p,maxSize:n,tableWidth:f,overflow:f>n}},WW=function(e){return e.cols.reduce((function(e,t){return e+t.width}),0)},GW=function(e,t){var n=t-WW(e);if(n>0||n<0&&Math.abs(n)<QH.kB){var r=!1;return VW(VW({},e),{},{cols:e.cols.map((function(e){return!r&&e.width+n>e.minWidth?(r=!0,VW(VW({},e),{},{width:e.width+n})):e}))})}return e},qW=function(e){var t=WW(e),n=Math.floor(t/e.cols.length),r=e.cols.map((function(e){return VW(VW({},e),{},{width:n})}));return GW(VW(VW({},e),{},{cols:r}),t)},KW=function(e,t,n){return e.slice(t,n).map((function(e){return e.width})).reduce((function(e,t){return e+t}),0)},$W=function(e,t,n){var r=WW(e),o=t.indexOf(n)>-1?n:n+1,i=e.cols[o],a={},c=[],s=e.cols.map((function(e){if(t.indexOf(e.index)>-1){var n=e.width-i.width;return 0!==n&&c.push(n),VW(VW({},e),{},{width:i.width})}return e})),u=VW(VW({},e),{},{cols:s.map((function(e){if(t.indexOf(e.index)>-1||t.indexOf(n)>-1&&e.index<o)return e;for(;c.length;){var r=c.shift()||0,i=a[e.index]||e,s=i.width+r;if(!(s>i.minWidth)){c.push(s-i.minWidth),a[i.index]=VW(VW({},i),{},{width:i.minWidth});break}a[i.index]=VW(VW({},i),{},{width:s})}return a[e.index]||e}))}),l=e.maxSize,d=WW(u);if(t.length===e.cols.length&&d<l){if(r===l)return e;var p=Math.floor((l-i.width)/(u.cols.length-1));u=VW(VW({},e),{},{cols:u.cols.map((function(e){return e.index===i.index?e:VW(VW({},e),{},{width:p})}))})}return GW(u,e.maxSize)},JW=function(e){switch(e){case"wide":case"full-width":return e;default:return"default"}},YW=function(e,t,n,r){var o=FW(t.selection),i=o.totalRowCount,a=o.totalColumnCount,c=o.table;if(c){var s=n(c.start).node.closest("table");if(s){var u=JW(null==s?void 0:s.dataset.layout),l=dW({table:c.node,tableStart:c.start,state:t,layout:u,getEditorContainerWidth:r}),d=HW({minWidth:QH.kB,maxSize:l,table:c.node,tableRef:s,start:c.start,domAtPos:n}),p=function(e,t){var n=e.cols,r=KW(n,t.left,t.right),o=KW(n,0,n.length)/n.length,i=r/(t.right-t.left);return VW(VW({},e),{},o===i?{widths:n.map((function(){return i})),cols:e.cols.map((function(e){return VW(VW({},e),{},{width:0})}))}:{widths:n.map((function(e,n){return n>=t.left&&n<t.right?i:e.width})),cols:n.map((function(e,n){return VW(VW({},e),{},{width:n>=t.left&&n<t.right?i:e.width})}))})}(d,e),f=d.widths,h=p.widths;return{resizeState:p,table:c,changed:d.widths.some((function(e,t){return e!==h[t]})),attributes:{position:e.left,count:e.right-e.left,totalRowCount:i,totalColumnCount:a,widthsBefore:f,widthsAfter:h}}}}};function XW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XW(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XW(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eG;function tG(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=e.cols[t],a=e.cols[n];if(o){var c=gW(i);rG(eG.DEST)(r)>c&&(r=r>0?c:-c)}rG(eG.SOURCE)(r)<0&&oG(eG.SOURCE)(r,i,a)<i.minWidth&&(r=i.width-i.minWidth);var s=a?QW(QW({},a),{},{width:oG(eG.DEST)(r,i,a)}):void 0;if(!s&&rG(eG.SOURCE)(r)<0){var u=WW(e);u-i.width+oG(eG.SOURCE)(r,i,a)<e.maxSize&&(r=e.maxSize-(u-i.width)-i.width-1)}var l=QW(QW({},i),{},{width:oG(eG.SOURCE)(r,i,a)}),d=e.cols.map((function(e,r){return r===t?l:r===n?s:e})).filter(Boolean);return{state:QW(QW({},e),{},{cols:d}),amount:r}}function nG(e,t,n){for(var r=function(e,t,n){var r=e.cols;return n<0?r.slice(0,t):r.slice(t+1)}(e,t,n),o=function(){var o=function(e,t){if(0===e.length)return-1;var n=t<0?"left":"right";"left"===n&&(e=e.slice().reverse());var r=-1;if(e.forEach((function(e){gW(e)&&-1===r&&(r=e.index)})),-1===r)return-1;return r}(r,n);if(-1===o)return n>0?{v:{state:QW(QW({},e),{},{cols:[].concat((0,s.Z)(e.cols.slice(0,t)),[QW(QW({},e.cols[t]),{},{width:e.cols[t].width+n})],(0,s.Z)(e.cols.slice(t+1)))}),remaining:n}}:"break";var i=r.find((function(e){return e.index===o}));if(!i||gW(i)<=0)return"break";var a=tG(e,i.index,t,n);e=a.state,n-=a.amount,r=r.filter((function(e){return e.index!==o}))};r.length&&n;){var a=o();if("break"===a)break;if("object"===(0,i.Z)(a))return a.v}return{state:e,remaining:n}}function rG(e){return function(t){return e===eG.SOURCE?t>0?-t:t:t<0?-t:t}}function oG(e){return function(t,n,r){return(e===eG.SOURCE?n:r).width+rG(e)(t)}}function iG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iG(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.SOURCE="src",e.DEST="dest"}(eG||(eG={}));function cG(e,t){var n=t/WW(e),r=aG(aG({},e),{},{maxSize:t,cols:e.cols.map((function(e){var t=e.minWidth,r=e.width,o=Math.floor(r*n);return o<t&&(o=t),aG(aG({},e),{},{width:o})}))}),o=WW(r);return o>t&&(r=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t,o=function(){var t=e.cols.filter((function(e){return gW(e)&&-1===n.indexOf(e.index)}));if(0===t.length)return"break";var o=Math.floor(r/t.length);if(0===o)return"break";t.forEach((function(t){var n=t.width-o;if(n<t.minWidth){var i=t.minWidth-n;n=t.minWidth,r=r-o+i}else r-=o;e=QW(QW({},e),{},{cols:[].concat((0,s.Z)(e.cols.slice(0,t.index)),[QW(QW({},t),{},{width:n})],(0,s.Z)(e.cols.slice(t.index+1)))})}))};r>0&&"break"!==o(););return e}(r,o-t)),GW(r,t)}var sG=n(45531);function uG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uG(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dG=function(e,t,n){return function(r){for(var o=fi.rU.get(t),i={},a=0;a<o.width;a++)for(var c=0;c<o.height;c++){var s=e.cols[a].width,u=c*o.width+a,l=o.map[u],d=i[l]||lG({},t.nodeAt(l).attrs),p=d.colspan||1;if(d.colwidth&&d.colwidth.length>p&&(r=_W({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_BEFORE_UPDATE",data:{colwidths:d.colwidth,colspan:p}})(r),d.colwidth=d.colwidth.slice(0,p)),!c||o.map[u]!==o.map[u-o.width]){var f=1===p?0:a-o.colCount(l);if(!d.colwidth||d.colwidth[f]!==s){var h=d.colwidth?d.colwidth.slice():Array.from({length:p},(function(e){return 0}));h[f]=s,h.length>p&&(r=_W({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_AFTER_UPDATE",data:{colwidths:h,colspan:p}})(r),h=h.slice(0,p)),i[l]=lG(lG({},d),{},{colwidth:h.includes(0)?void 0:h})}}}for(var v=[],m={},g=0;g<o.height;g++){for(var y=t.child(g),b=[],w=0;w<o.width;w++){var k=g*o.width+w,E=o.map[k],x=t.nodeAt(E);!m[E]&&x&&(b.push(x.type.createChecked(i[E]||x.attrs,x.content,x.marks)),m[E]=!0)}v.push(y.type.createChecked(y.attrs,b,y.marks))}var O=n-1,S=r.selection.getBookmark();return r.replaceWith(O,O+t.nodeSize,t.type.createChecked(t.attrs,v,t.marks)),r.setSelection(S.resolve(r.doc))}},pG=function(e){return function(t,n){return function(r){var o;if(!n)return r;var i=t.pos,a=r.doc.nodeAt(i),c=n.state,s=n.domAtPos.bind(n),u=s(t.start).node.closest("table");if(!u||!a)return r;var l=JW(null==u?void 0:u.dataset.layout),d=dW({table:t.node,tableStart:t.start,state:c,layout:l,getEditorContainerWidth:e}),p=u.clientWidth||ue.re,f=(null==u||null===(o=u.parentElement)||void 0===o?void 0:o.clientWidth)||0;f-=sG.C4;var h=fi.rU.get(a).width;if(!h||h<=0)return r;var v=p/h;if(!nW(t.node)&&v>QH.kB)return r;if(!nW(t.node)&&v<=QH.kB||nW(t.node)&&function(e){return ur(e.content.firstChild.content).every((function(e){return e.attrs.colwidth&&e.attrs.colwidth[0]===QH.kB||null===e.attrs.colwidth}))}(t.node)){var m=new Array(h).fill(QH.kB),g=m.map((function(e,t){return{width:QH.kB,minWidth:QH.kB,index:t}}));return dG({cols:g,widths:m,maxSize:d,tableWidth:p,overflow:p>d},t.node,t.start)(r)}var y=HW({minWidth:QH.kB,table:t.node,start:t.start,tableRef:u,domAtPos:s,maxSize:d});return y.tableWidth-QH.Xf<=Math.max(d,f)&&y.overflow&&(y=cG(y,d)),dG(y,t.node,t.start)(r)}}};function fG(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;return function(o){var i=o;i=n?function(e){return function(t){var n=(0,na.AG)(t.selection);return n?t.step(FH.create(t.doc,n.pos,e)):t}}(t)(i):YV(t)(i);var a=(0,na.AG)(i.selection);return a&&(i=pG(e)(a,r)(i)),i}}}var hG=function(e,t){return function(n,r){var o=(0,BH.R8)(n.selection);if(0===e&&o)return!1;var i=o&&e>1||!o&&e>0?function(e){return function(t){return function(n){var r=(0,na.AG)(n.selection);if(!r)return n;var o=fi.rU.get(r.node),i=t-1;if(t<=0)throw Error("Row Index less or equal 0 isn't not allowed since there is not a previous to copy");if(t>o.height)return n;for(var a=r.node,c=e.nodes.tableRow,s=o.cellsInRect({left:0,right:o.width,top:i,bottom:i+1}),u=i*o.width,l=t*o.width,d=o.map.slice(u,u+o.width),p=o.map.slice(l,l+o.width),f=[],h=[],v=0;v<d.length;){var m=d[v],g=m+r.start,y=n.doc.nodeAt(g);if(y){var b=KH(KH({},y.attrs),{},{colspan:1,rowspan:1}),w=y.type.createAndFill(b);if(!w)return n;if(p.indexOf(m)>-1)h.push({pos:g,node:y});else if(s.indexOf(m)>-1){if(y.attrs.colspan>1){var k=y.type.createAndFill(KH(KH({},b),{},{colspan:y.attrs.colspan}));if(!k)return n;f.push(k),v+=y.attrs.colspan;continue}f.push(w)}else f.push(w);v++}}h.forEach((function(e){n.setNodeMarkup(e.pos,void 0,KH(KH({},e.node.attrs),{},{rowspan:e.node.attrs.rowspan+1}))}));for(var E=a.child(i),x=r.start,O=0;O<t;O++)x+=a.child(O).nodeSize;return(0,W.Z3)(c.createChecked(E.attrs,f,E.marks),x)(n)}}}(n.schema)(e)(n.tr):function(e,t){return function(n){var r=(0,na.AG)(n.selection);if(r){var o=fi.rU.get(r.node),i=e-1;if(t&&i>=0)return JV(rH(i)(n));if(e>=0&&e<=o.height)return JV(eH(n,{map:o,tableStart:r.start,table:r.node},e))}return n}}(e)(n.tr),a=(0,na.AG)(i.selection);if(!a)return!1;if(r){var c=n.selection;if(t){var s=fi.rU.get(a.node).positionAt(e,0,a.node);i.setSelection(g.Selection.near(i.doc.resolve(a.start+s)))}else i.setSelection(c.map(i.doc,i.mapping));r(i)}return!0}};var vG=function(e,t){return function(n){if(e){var r=rB(t).cell.createAndFill();if(r&&!e.node.content.eq(r.content))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,r.content),JV(n)}return n}},mG=n(15989),gG=function(e,t){var n=(0,mG.n)(e.tr);return!!n&&(t&&t(n),!0)},yG=function(e){for(var t=e.selection.$from,n=t.depth;n>0;n--){if("table"===t.node(n).type.spec.tableRole)return JV(e.delete(t.before(n),t.after(n)))}return e},bG=function(e){return function(t,n){return function(r){var o=(0,na.AG)(r.selection),i="row"===e;if(o){var a=fi.rU.get(o.node);if(t>=0&&t<(i?a.height:a.width)){var c=i?0:t,s=i?t:0,u=i?a.width:t+1,l=i?t+1:a.height;if(n){var d=(0,na.g$)(r.selection.$from);if(!d)return r;var p=a.findCell(d.pos-o.start);i?(s=Math.min(s,p.top),l=Math.max(l,p.bottom)):(c=Math.min(c,p.left),u=Math.max(u,p.right))}var f=a.cellsInRect({left:c,top:s,right:i?u:c+1,bottom:i?s+1:l}),h=l-s==1?f:a.cellsInRect({left:i?c:u-1,top:i?l-1:s,right:u,bottom:l}),v=o.start+f[0],m=o.start+h[h.length-1],g=r.doc.resolve(v),y=r.doc.resolve(m);return JV(r.setSelection(new be.X(y,g)))}}return r}}},wG=bG("column"),kG=bG("row"),EG=n(53633),xG=n(56125),OG=[[],[]],SG=function(e){return function(t){var n=t.decorationSet,r=t.tr;return(0,EG.qQ)(r.doc,n,e,WH.fe.COLUMN_RESIZING_HANDLE)}},CG=function(e){return function(t){var n=t.decorationSet,r=t.tr;return(0,EG.qQ)(r.doc,n,e,WH.fe.LAST_CELL_ELEMENT)}},TG=n(4840);function AG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AG(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var PG=function(e){return(0,YH.fA)({type:"SET_EDITOR_FOCUS",data:{editorHasFocus:e}})},DG=function(e,t){return t&&t(yG(e.tr)),!0},ZG=function(e,t){return!!HH(e.selection)&&DG(e,t)},IG=function(e,t){var n,r,o=e.selection.$cursor;if(!o||o.parentOffset>0)return!1;if(!(0,BH.jQ)(o.parent))for(var i=o.depth-1;!n&&i>=0&&(o.index(i)>0&&(r=o.before(i+1),n=o.node(i).child(o.index(i)-1)),!(0,BH.jQ)(o.node(i)));i--);if(!n||n.type!==e.schema.nodes.table)return!1;var a=o.node(o.depth-1);if(o.parent.type!==e.schema.nodes.paragraph||a&&a.type!==e.schema.nodes.doc)return!1;var c=e.tr,s=(r||0)-4;c.setSelection(new g.TextSelection(e.doc.resolve(s)));var u=c.selection.$from,l=u.start(-1)+u.parent.nodeSize-1;c.setSelection(new g.TextSelection(e.doc.resolve(l)));var d=o.node(),p=e.doc.content.size,f=o.pos-1,h=o.pos+1;return 0===d.content.size&&o.pos+1!==p&&c.delete(f,h),t&&t(c),!0},LG=function(e){return(0,YH.fA)((function(t){return e>-1&&{type:"SHOW_INSERT_ROW_BUTTON",data:{insertRowButtonIndex:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))},MG=function(){return(0,YH.fA)({type:"HIDE_INSERT_COLUMN_OR_ROW_BUTTON"},(function(e){return e.setMeta("addToHistory",!1)}))},RG=function(e,t){for(var n=[],r=fi.rU.get(e),o=0;o<r.height;o++){for(var i=e.child(o),a=[],c=0;c<r.width;c++)if(t[o][c]){var s=r.map[o*r.width+c],u=t[o][c],l=e.nodeAt(s);if(u&&l){var d=l.type.createChecked(Object.assign({},u.attrs),u.content,u.marks);a.push(d)}}n.push(i.type.createChecked(i.attrs,a,i.marks))}return e.type.createChecked(e.attrs,n,e.marks)},NG=function(e){for(var t=fi.rU.get(e),n=[],r=0;r<t.height;r++){for(var o=[],i={},a=0;a<t.width;a++){var c=t.map[r*t.width+a],s=e.nodeAt(c),u=t.findCell(c);s&&!i[c]&&u.top===r?(i[c]=!0,o.push(s)):o.push(null)}n.push(o)}return n},jG=n(1965),FG=function(e){return e.ASC="asc",e.DESC="desc",e}({}),BG=n(76942);function zG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zG(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VG(e){return function(t,n){var r,o,i=t.selection;if(i instanceof be.X){if(i.$anchorCell.pos!==i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(!(r=function(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(i.$from)))return!1;var a=(0,hi.m9)(i.$from);o=a&&a.pos}if(r&&1===r.attrs.colspan&&1===r.attrs.rowspan)return!1;if(r&&n){var c=r.attrs,s=[],u=c.colwidth;c.rowspan&&c.rowspan>1&&(c=UG(UG({},c),{},{rowspan:1})),c.colspan&&c.colspan>1&&(c=UG(UG({},c),{},{colspan:1}));for(var l=gi(t),d=t.tr,p=0;p<l.right-l.left;p++)s.push(u?UG(UG({},c),{},{colwidth:u&&u[p]?[u[p]]:null}):c);for(var f=null,h=l.top;h<l.bottom;h++){var v=l.map.positionAt(h,l.left,l.table);h===l.top&&(v+=r.nodeSize);for(var m=l.left,g=0;m<l.right;m++,g++)if(m!==l.left||h!==l.top){var y=e({node:r,row:h,col:m}).createAndFill(s[g]);y&&d.insert(f=d.mapping.map(v+l.tableStart,1),y)}}"number"==typeof o&&d.setNodeMarkup(o,e({node:r,row:l.top,col:l.left}),s[0]);var b=f&&d.doc.resolve(f);i instanceof be.X&&b instanceof nB.ZQ&&d.setSelection(new be.X(d.doc.resolve(i.$anchorCell.pos),b)),n(d)}return!0}}var HG=function(e,t){var n=(0,YH.Lk)(e),r=e.schema.nodes,o=r.tableHeader,i=r.tableCell;return!t||VG((function(e){var t=e.row,r=e.col;return 0===t&&n.isHeaderRowEnabled||0===r&&n.isHeaderColumnEnabled?o:i}))(e,t)};function WG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function GG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WG(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WG(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qG=function(e){switch(e){case"default":return"wide";case"wide":return"full-width";default:return"default"}},KG=function(e,t){return cB("row")(e,(function(n){return(0,YH.fA)({type:"TOGGLE_HEADER_ROW"},(function(){return n.setMeta("scrollIntoView",!1)}))(e,t)}))},$G=function(e,t){return cB("column")(e,(function(n){return(0,YH.fA)({type:"TOGGLE_HEADER_COLUMN"},(function(){return n.setMeta("scrollIntoView",!1)}))(e,t)}))},JG=function(e,t){var n=e.tr,r=(0,na.AG)(e.selection),o=r.node,i=r.pos;return n.setNodeMarkup(i,e.schema.nodes.table,GG(GG({},o.attrs),{},{isNumberColumnEnabled:!o.attrs.isNumberColumnEnabled})),n.setMeta("scrollIntoView",!1),t&&t(n),!0},YG=function(e,t){var n=(0,na.AG)(e.selection);if(!n)return!1;var r=qG(n.node.attrs.layout);return(0,YH.fA)({type:"SET_TABLE_LAYOUT",data:{layout:r}},(function(t){return t.setNodeMarkup(n.pos,e.schema.nodes.table,GG(GG({},n.node.attrs),{},{layout:r})),t.setMeta("scrollIntoView",!1)}))(e,t)},XG=function(){return(0,YH.fA)({type:"TOGGLE_CONTEXTUAL_MENU"},(function(e){return e.setMeta("addToHistory",!1)}))},QG=n(66516);function eq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eq(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nq(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oq=(0,On.H)(QG.u,(function(e,t){switch(t.type){case"STOP_RESIZING":return tq(tq({},e),{},{resizeHandlePos:null,dragging:null});case"SET_RESIZE_HANDLE_POSITION":return tq(tq({},e),{},{resizeHandlePos:t.data.resizeHandlePos});case"SET_DRAGGING":return tq(tq({},e),{},{dragging:t.data.dragging});case"SET_LAST_CLICK":var n=t.data.lastClick;return tq(tq({},e),{},{lastClick:n,resizeHandlePos:n?e.resizeHandlePos:null});default:return e}}),{mapping:function(e,t){return t&&null!==t.resizeHandlePos?rq(rq({},t),{},{resizeHandlePos:e.mapping.map(t.resizeHandlePos)}):t}}),iq=oq.createCommand,aq=oq.createPluginState,cq=oq.getPluginState,sq=function(e,t,n){return function(r,o){if(!e)return!1;var i,a=t.node,c=t.start,s=t.parentWidth,u=t.layoutChanged;if(!1===nW(a))return tW(e,a),!1;if(i=s?function(e,t,n,r,o){var i=HW({minWidth:QH.kB,maxSize:t,table:n,tableRef:e,start:r,domAtPos:o});return n.attrs.isNumberColumnEnabled&&(t-=ue.XV),cG(i,Math.floor(t))}(e,s,a,c,n):function(e,t,n){var r=t.node,o=t.containerWidth,i=t.previousContainerWidth,a=t.prevNode,c=t.start,s=t.isBreakoutEnabled,u=t.layoutChanged,l=uW(r.attrs.layout,o,{isBreakoutEnabled:s}),d=(0,BH.R5)(a),p=uW(a.attrs.layout,i,{isBreakoutEnabled:s}),f=l;if(u&&d>p)if(d<l)f=l;else{var h=d/p;f=Math.floor(f*h)}return r.attrs.isNumberColumnEnabled&&(f-=ue.XV),cG(HW({minWidth:QH.kB,maxSize:l,table:r,tableRef:e,start:c,domAtPos:n}),f)}(e,t,n),i){var l=r.tr;if((l=dG(i,a,c)(l)).docChanged&&o)return l.setMeta("scrollIntoView",!1),!u&&l.setMeta("scaleTable",!0),o(l),!0}return!1}},uq=function(e){return iq({type:"STOP_RESIZING"},(function(t){return(e||t).setMeta("scrollIntoView",!1)}))},lq=function(e,t){return iq({type:"SET_LAST_CLICK",data:{lastClick:e}},t)};function dq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dq(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fq(e){var t=e.selection;if(!(t instanceof be.X)||t.$anchorCell.pos===t.$headCell.pos)return!1;var n=(0,zH.T)(t);if(!n)return!1;var r=t.$anchorCell.node(-1);return!function(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,c=(t.bottom-1)*n+t.left,s=i+(t.right-t.left-1),u=t.top;u<t.bottom;u++){if(t.left>0&&o[a]===o[a-1]||t.right<n&&o[s]===o[s+1])return!0;a+=n,s+=n}for(var l=t.left;l<t.right;l++){if(t.top>0&&o[i]===o[i-n]||t.bottom<r&&o[c]===o[c+n])return!0;i++,c++}return!1}(fi.rU.get(r),n)}function hq(e){var t=e.content;return 1===t.childCount&&t.firstChild&&t.firstChild.isTextblock&&0===t.firstChild.childCount}function vq(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=pq(pq({},e),{},{colspan:(e.colspan||1)+n});if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}function mq(e){var t=[],n=fi.rU.get(e),r=function(e){for(var t=fi.rU.get(e),n=new Set,r=0;r<t.width;r++)t.cellsInRect({left:r,right:r+1,top:0,bottom:t.height}).length||n.add(r);return n}(e);if(0===r.size)return e;for(var o=0;o<n.height;o++){for(var i={},a=n.width-1;a>=0;a--){var c=n.map[a+o*n.width],s=n.findCell(c),u=i[s.left]||e.nodeAt(c);if(s.top===o){if(r.has(a)){var l=u.attrs,d=l.colspan,p=l.colwidth;d>1&&(u=u.type.createChecked(pq(pq({},u.attrs),{},{colspan:d-1,colwidth:p?p.slice(0,d):null}),u.content,u.marks))}i[s.left]=u}}var f=Object.values(i),h=e.child(o);h&&t.push(h.type.createChecked(h.attrs,f,h.marks))}return t.length?e.type.createChecked(e.attrs,t,e.marks):null}function gq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gq(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bq=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=(0,na.AG)(n.selection);if(!r)return n;for(var o=[],i=fi.rU.get(r.node),a=e.top;a<e.bottom;a++)if(t){var c=r.node.nodeAt(i.map[a*i.width]);c&&c.type!==c.type.schema.nodes.tableHeader&&o.push(a)}else o.push(a);if(!o.length)return n;for(var u=[],l={},d={},p=function(e){for(var t=[],n=r.node.child(e),a=function(n){var a=i.map[e*i.width+n],c=r.node.nodeAt(a);if(!c)return"continue";var s=i.cellsInRect({left:0,top:e,right:i.width,bottom:e+1});if(-1!==o.indexOf(e)||l[a])s.indexOf(a)>-1&&(d[a]=!0);else{if(s.indexOf(a)>-1){var u=0;if(o.forEach((function(t){e<t&&c.attrs.rowspan+e-1>=t&&(u+=1)})),u>0){var p=c.type.createChecked(yq(yq({},c.attrs),{},{rowspan:c.attrs.rowspan-u}),c.content,c.marks);return t.push(p),l[a]=!0,"continue"}}else if(d[a]){var f=yq(yq({},c.attrs),{},{colspan:1,rowspan:1});if(c.attrs.colwidth){var h=n>0?n-i.colCount(a):0;f.colwidth=c.attrs.colwidth.slice().splice(h,1)}var v=c.type.createChecked(f,c.type.schema.nodes.paragraph.createChecked(),c.marks);return t.push(v),"continue"}l[a]||(l[a]=!0,t.push(c))}},c=0;c<i.width;c++)a(c);t.length&&u.push(n.type.createChecked(n.attrs,t,n.marks))},f=0;f<i.height;f++)p(f);if(!u.length)return _W({type:"DELETE_ROWS",problem:"EMPTY_TABLE"})(n);var h=r.node.type.createChecked(r.node.attrs,u,r.node.marks),v=mq(h);if(null===v)return _W({type:"DELETE_ROWS",problem:"REMOVE_EMPTY_COLUMNS"})(n);var m=function(e,t){var n=Math.min.apply(Math,(0,s.Z)(t)),r=n>0?n-1:0,o=fi.rU.get(e);return o.map[r*o.width]}(h,o);return _W({type:"DELETE_ROWS"})(n.replaceWith(r.pos,r.pos+r.node.nodeSize,v).setSelection(g.Selection.near(n.doc.resolve(r.pos+m))))}};function wq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wq(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Eq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eq(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oq=function(e){return function(t){var n=(0,na.AG)(t.selection);if(!n)return t;!function(e,t,n,r){var o=e.mapping.maps.length,i=e.doc.nodeAt(t);if(!i)return e;for(var a=e.doc.resolve(t).start(1),c=fi.rU.get(i),s=n;s<r;s++)for(var u=0;u<c.height;u++){var l=u*c.width+s,d=c.map[l],p=s>0&&c.map[l-1]===d||u>0&&c.map[(u-1)*c.width+s]===d,f=s<c.width-1&&c.map[l+1]===d||u<c.height-1&&c.map[(u+1)*c.width+s]===d;if(!p&&f){var h=i.nodeAt(d);if(!h)continue;for(var v=h.attrs,m=v.colwidth,g=v.colspan,y=void 0===g?1:g,b=v.rowspan,w=void 0===b?1:b,k=e.mapping.slice(o),E=kq(kq({},h.attrs),{},{colspan:1,rowspan:1}),x=u;x<u+w;x++)for(var O=0;O<y;O++){var S=e.mapping.slice(o),C=c.positionAt(x,s+O,i);e.insert(S.map(C+a),h.type.createAndFill(kq(kq({},E),{},{colwidth:m?[m[O]]:void 0})))}k=e.mapping.slice(o),e.delete(k.map(d+a),k.map(d+a+h.nodeSize)),w&&w>1&&(u+=w-1)}}}(t,n.pos,e.left,e.right);for(var r=t.mapping.maps.length,o=t.doc,i=[],a=e.left;a<e.right;a++){var c=FH.create(o,n.pos,a,!0);i.push(a),t.step(c.map(t.mapping.slice(r)))}var s=t.mapping.mapResult(n.pos);if(s.deleted){var u=Math.min(s.pos,t.doc.nodeSize-1);t.setSelection(g.Selection.near(t.doc.resolve(u)))}else{var l=t.doc.nodeAt(s.pos);if(l){var d=Cq(l,i);t.setSelection(g.Selection.near(t.doc.resolve(n.pos+d)))}}return t}},Sq=function(e){return function(t){var n=(0,na.AG)(t.selection);if(!n)return t;for(var r=[],o=e.left;o<e.right;o++)r.push(o);if(!r.length)return t;for(var i=fi.rU.get(n.node),a=[],c={},s={},u=0;u<i.height;u++){for(var l=[],d=n.node.child(u),p=function(e){var t=i.map[u*i.width+e],o=n.node.nodeAt(t);if(!o)return"continue";var a=i.cellsInRect({left:e,top:0,right:e+1,bottom:i.height});if(-1===r.indexOf(e)){if(a.indexOf(t)>-1&&!c[t]){var d=0;if(r.forEach((function(t){e<t&&o.attrs.colspan+e-1>=t&&(d+=1)})),d>0){var p=xq(xq({},o.attrs),{},{colspan:o.attrs.colspan-d});if(o.attrs.colwidth){var f=Math.min.apply(Math,r),h=f>0?f-i.colCount(t):0,v=o.attrs.colwidth.slice()||[];v.splice(h,d),p.colwidth=v}var m=o.type.createChecked(p,o.content,o.marks);return l.push(m),c[t]=!0,"continue"}}else if(s[t]){var g=xq(xq({},o.attrs),{},{colspan:1,rowspan:1});if(o.attrs.colwidth){var y=e>0?e-i.colCount(t):0;g.colwidth=o.attrs.colwidth.slice().splice(y,1)}var b=o.type.createChecked(g,o.type.schema.nodes.paragraph.createChecked(),o.marks);return l.push(b),"continue"}c[t]||(c[t]=!0,l.push(o))}else a.indexOf(t)>-1&&(s[t]=!0)},f=0;f<i.width;f++)p(f);l.length&&a.push(d.type.createChecked(d.attrs,l,d.marks))}if(!a.length)return _W({type:"DELETE_COLUMNS",problem:"EMPTY_TABLE"})(t);var h=n.node.type.createChecked(n.node.attrs,a,n.node.marks),v=function(e){var t=fi.rU.get(e),n=function(e){for(var t=[],n=0;n<e.childCount;n++){for(var r=[],o=e.child(n),i=0;i<o.childCount;i++){var a=o.child(i);r.push(a.attrs.rowspan)}t[n]=Math.min.apply(Math,r)}return t}(e);if(!n.some((function(e){return e>1})))return e;for(var r=[],o=0;o<t.height;o++){var i=e.child(o);if(1===n[o])r.push(i);else{for(var a=[],c=0;c<i.childCount;c++){var s=i.child(c),u=s.attrs.rowspan-n[o]+1;if(u<1)return null;var l=s.type.createChecked(xq(xq({},s.attrs),{},{rowspan:u}),s.content,s.marks);a.push(l)}r.push(i.type.createChecked(i.attrs,a,i.marks))}}if(!r.length)return null;return e.type.createChecked(e.attrs,r,e.marks)}(h);if(null===v)return _W({type:"DELETE_COLUMNS",problem:"FIX_ROWSPANS"})(t);var m=Cq(h,r);return _W({type:"DELETE_COLUMNS"})(t.replaceWith(n.pos,n.pos+n.node.nodeSize,v).setSelection(g.Selection.near(t.doc.resolve(n.pos+m))))}};function Cq(e,t){var n=Math.min.apply(Math,(0,s.Z)(t)),r=n>0?n-1:0;return fi.rU.get(e).map[r]}var Tq=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return t?Oq(e)(n):Sq(e)(n)}};function Aq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Aq(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aq(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pq={default:ZV.NORMAL,wide:ZV.WIDE,"full-width":ZV.FULL_WIDTH},Dq=function(e){return function(t,n){return zW((function(e){var n=BW(e.selection),r=n.horizontalCells,o=n.verticalCells,i=n.totalRowCount,a=n.totalColumnCount;return{action:DV.CLEARED,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{inputMethod:t,horizontalCells:r,verticalCells:o,totalRowCount:i,totalColumnCount:a},eventType:p.Ze.TRACK}}))(e)(function(e){return function(t,n){var r,o=t.tr;if((0,vi.u)(o.selection,"cell")){var i=o.selection;i.forEachCell((function(e,n){var r=o.doc.resolve(o.mapping.map(n+1));o=vG((0,na.g$)(r),t.schema)(o)})),r=i.$headCell.pos}else if(e){var a=(0,na.g$)(o.doc.resolve(e+1));o=vG(a,t.schema)(o),r=a.pos}if(o.docChanged&&r){var c=o.doc.resolve(o.mapping.map(r)),s=g.Selection.findFrom(c,1,!0);return s&&o.setSelection(s),n&&n(o),!0}return!1}}(n))}},Zq=function(e){return function(t){return zW((function(e){var n=BW(e.selection),r=n.horizontalCells,o=n.verticalCells,i=n.totalCells,a=n.totalRowCount,c=n.totalColumnCount;return{action:DV.MERGED,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{inputMethod:t,horizontalCells:r,verticalCells:o,totalCells:i,totalRowCount:a,totalColumnCount:c},eventType:p.Ze.TRACK}}))(e)((function(e,t){return t&&t(function(e){var t=e.selection;if(!(t instanceof be.X&&fq(e)))return e;for(var n,r=(0,zH.T)(t),o=(0,na.AG)(t),i=fi.rU.get(o.node),a=[],c=i.cellsInRect(r),s=[],u=0;u<i.height;u++){for(var l=[],d=o.node.child(u),p=0;p<i.width;p++){var f=i.map[u*i.width+p],h=o.node.nodeAt(f);if(h&&!(a.indexOf(f)>-1))if(a.push(f),p===r.left&&u===r.top){n=f;for(var v=hq(h)?on.Fragment.empty:h.content,m=[n],y=r.top;y<r.bottom;y++)for(var b=r.left;b<r.right;b++){var w=i.map[y*i.width+b];if(-1===m.indexOf(w)){m.push(w);var k=o.node.nodeAt(w);k&&!hq(k)&&(v=v.append(k.content))}}var E=r.bottom-r.top;if(E<1)return _W({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);var x=vq(pq(pq({},h.attrs),{},{rowspan:E}),h.attrs.colspan,r.right-r.left-h.attrs.colspan),O=v===on.Fragment.empty?h.type.createAndFill(x,v,h.marks):h.type.createChecked(x,v,h.marks);l.push(O)}else-1===c.indexOf(f)&&l.push(h)}if(l.length)s.push(d.type.createChecked(d.attrs,l,d.marks));else for(var S=s.length-1;S>=0;S--){for(var C=s[S],T=[],A=!1,_=0;_<C.childCount;_++){var P=C.child(_),D=P.attrs.rowspan;if(D&&D+S-1>=s.length){if(A=!0,D<2)return _W({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);T.push(P.type.createChecked(pq(pq({},P.attrs),{},{rowspan:D-1}),P.content,P.marks))}else T.push(P)}A&&(s[S]=d.type.createChecked(C.attrs,T,C.marks))}}if(!s.length)return _W({type:"MERGE_CELLS",problem:"EMPTY_TABLE"})(e);var Z=mq(o.node.type.createChecked(o.node.attrs,s,o.node.marks));return null===Z?_W({type:"MERGE_CELLS",problem:"REMOVE_EMPTY_COLUMNS"})(e):_W({type:"MERGE_CELLS"})(e.replaceWith(o.pos,o.pos+o.node.nodeSize,Z).setSelection(g.Selection.near(e.doc.resolve((n||0)+o.start))))}(e.tr)),!0}))}},Iq=function(e){return function(t){return zW((function(e){var n=e.selection,r=BW(n),o=r.totalRowCount,i=r.totalColumnCount,a=(0,na.g$)(n.$anchor);if(a){var c=a.node.attrs,s=c.rowspan,u=c.colspan;return{action:DV.SPLIT,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{inputMethod:t,horizontalCells:u,verticalCells:s,totalCells:u*s,totalRowCount:o,totalColumnCount:i},eventType:p.Ze.TRACK}}}))(e)(HG)}},Lq=function(e){return function(t,n,r){return zW((function(e){var r=BW(e.selection),o=r.horizontalCells,i=r.verticalCells,a=r.totalCells,c=r.totalRowCount,s=r.totalColumnCount;return{action:DV.COLORED,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{inputMethod:t,cellColor:(NV.R_.get(n.toLowerCase())||n).toLowerCase(),horizontalCells:o,verticalCells:i,totalCells:a,totalRowCount:c,totalColumnCount:s},eventType:p.Ze.TRACK}}))(e)(function(e,t){return function(n,r){var o,i=n.tr;if((0,vi.u)(i.selection,"cell")){var a=i.selection;a.forEachCell((function(t,n){var r=i.doc.resolve(i.mapping.map(n+1));i=nH((0,na.g$)(r),e)(i)})),o=a.$headCell.pos}else if(t){var c=(0,na.g$)(i.doc.resolve(t+1));i=nH(c,e)(i),o=c.pos}if(i.docChanged&&void 0!==o){var s=i.doc.resolve(i.mapping.map(o));return r&&r(i.setSelection(g.Selection.near(s))),!0}return!1}}({background:n},r))}},Mq=function(e){return function(t){return function(n,r){var o=n.selection,i=o instanceof be.X,a=i?(0,zH.T)(o):(0,na.vy)(o.$from);if(!a)return!1;var c=i&&"TOP"===t?a.top:a.bottom-1,s="BOTTOM"===t?1:0;return Rq(e)(p.Jq.SHORTCUT,{index:c+s,moveCursorToInsertedRow:!1})(n,r)}}},Rq=function(e){return function(t,n){return zW((function(e){var r=FW(e.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:DV.ADDED_ROW,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{inputMethod:t,position:n.index,totalRowCount:o,totalColumnCount:i},eventType:p.Ze.TRACK}}))(e)(hG(n.index,n.moveCursorToInsertedRow))}},Nq=function(e,t){return function(n,r){return zW((function(e){var t=FW(e.selection),o=t.totalRowCount,i=t.totalColumnCount;return{action:DV.ADDED_COLUMN,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{inputMethod:n,position:r,totalRowCount:o,totalColumnCount:i},eventType:p.Ze.TRACK}}))(t)(function(e){return function(t){return function(n,r,o){var i=fG(e)(t,XH(n),o)(n.tr),a=(0,na.AG)(i.selection);if(!a)return!1;var c=fi.rU.get(a.node).positionAt(0,t,a.node);return r&&r(i.setSelection(g.Selection.near(i.doc.resolve(a.start+c)))),!0}}}(e)(r))}},jq=function(e){return function(t,n,r){return zW((function(e){var r=FW(e.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:DV.DELETED_ROW,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{inputMethod:t,position:n.top,count:n.bottom-n.top,totalRowCount:o,totalColumnCount:i},eventType:p.Ze.TRACK}}))(e)((function(e,t){return t&&t(bq(n,r)(e.tr)),!0}))}},Fq=function(e){return function(t,n){return zW((function(e){var r=FW(e.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:DV.DELETED_COLUMN,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{inputMethod:t,position:n.left,count:n.right-n.left,totalRowCount:o,totalColumnCount:i},eventType:p.Ze.TRACK}}))(e)((function(e,t){return t&&t(Tq(n,XH(e))(e.tr)),!0}))}},Bq=function(e,t){var n=FW(e),r=n.totalRowCount,o=n.totalColumnCount;return{action:DV.DELETED,actionSubject:p.Wt.TABLE,attributes:{inputMethod:t,totalRowCount:r,totalColumnCount:o},eventType:p.Ze.TRACK}},zq=function(e){return zW((function(e){var t=e.selection;return Bq(t,p.Jq.FLOATING_TB)}))(e)(DG)},Uq=function(e){return zW((function(e){var t=FW(e.selection),n=t.totalRowCount,r=t.totalColumnCount,o=(0,YH.Lk)(e).isHeaderRowEnabled;return{action:DV.TOGGLED_HEADER_ROW,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:n,totalColumnCount:r},eventType:p.Ze.TRACK}}))(e)(KG)},Vq=function(e){return zW((function(e){var t=FW(e.selection),n=t.totalRowCount,r=t.totalColumnCount,o=(0,YH.Lk)(e).isHeaderColumnEnabled;return{action:DV.TOGGLED_HEADER_COLUMN,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:n,totalColumnCount:r},eventType:p.Ze.TRACK}}))(e)($G)},Hq=function(e){return zW((function(e){var t=FW(e.selection),n=t.totalRowCount,r=t.totalColumnCount;return{action:DV.TOGGLED_NUMBER_COLUMN,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{newState:!(0,BH.kf)(e.selection),totalRowCount:n,totalColumnCount:r},eventType:p.Ze.TRACK}}))(e)(JG)},Wq=function(e){return function(t,n,r){return zW((function(e){var o=FW(e.selection),i=o.totalRowCount,a=o.totalColumnCount;return{action:DV.SORTED_COLUMN,actionSubject:p.Wt.TABLE,attributes:{inputMethod:t,totalRowCount:i,totalColumnCount:a,position:n,sortOrder:r,mode:"editor"},eventType:p.Ze.TRACK}}))(e)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:FG.DESC;return(0,YH.fA)((function(n){return{type:"SORT_TABLE",data:{ordering:{columnIndex:e,order:t}}}}),(function(n,r){var o=(0,na.AG)(n.selection);if(!o||!o.node)return n;var i=(0,vi.u)(n.selection,"cell")?(0,zH.T)(n.selection):(0,na.vy)(n.selection.$from);if(!i)return n;var a,c=(0,YH.Lk)(r),s=NG(o.node);c.isHeaderRowEnabled&&(a=s.shift());var u=(0,jG.zR)({getInlineCardTextFromStore:function(e){var t=e.data;return t&&(t.name||t.title)?t.name||t.title:e.url}},t),l=s.sort((function(t,n){return u(t[e],n[e])}));a&&l.unshift(a);var d=RG(o.node,l);n.replaceWith(o.pos,o.pos+o.node.nodeSize,d);var p=fi.rU.get(o.node).positionAt(i.top,e,o.node),f=c.ordering,h={columnIndex:e,order:t};return n.step(new BG.l(o.pos,f,h)),n.setSelection(g.Selection.near(n.doc.resolve(o.start+p)))}))}(n,r))}},Gq=function(e){return function(t,n){var r=n.resizeState,o=n.table,i=n.attributes;return zW((function(){return{action:DV.DISTRIBUTED_COLUMNS_WIDTHS,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:_q({inputMethod:t},i),eventType:p.Ze.TRACK}}))(e)((function(e,t){return t&&function(e,t){return function(n,r){if(r){var o=dG(e,t.node,t.start)(n.tr);uq(o)(n,r)}return!0}}(r,o)(e,t),!0}))}},qq=function(e){return zW((function(e){var t=FW(e.selection),n=t.totalRowCount,r=t.totalColumnCount;return{action:DV.COLLAPSED,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{totalRowCount:n,totalColumnCount:r},eventType:p.Ze.TRACK}}))(e)(gG)},Kq=function(e){return function(t){return function(n,r){var o=(0,na.AG)(n.selection);if(!o)return!1;var i=fi.rU.get(o.node),a=n.schema.nodes,c=a.tableCell,s=a.tableHeader,u=(0,W.Tr)([c,s])(n.selection),l=i.positionAt(0,0,o.node)+o.start,d=i.positionAt(i.height-1,i.width-1,o.node)+o.start;return l===u.pos&&-1===t?(Rq(e)(p.Jq.KEYBOARD,{index:0,moveCursorToInsertedRow:!0})(n,r),!0):d===u.pos&&1===t?(Rq(e)(p.Jq.KEYBOARD,{index:i.height,moveCursorToInsertedRow:!0})(n,r),!0):!r||function(e){return function(t,n){if(!(0,oB.L)(t))return!1;var r=mi(t.selection);if(!r)return!1;var o,i,a=function(e,t){if(-1===t){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r=e.index(-1)-1,o=e.before();r>=0;r--){var i=e.node(-1).child(r);if(i.childCount&&i.lastChild)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1&&e.nodeAfter)return e.pos+e.nodeAfter.nodeSize;for(var a=e.node(-1),c=e.indexAfter(-1),s=e.after();c<a.childCount;c++){var u=a.child(c);if(u.childCount)return s+1;s+=u.nodeSize}}}(r,e);if(void 0===a)return!1;if(n){var c=t.doc.resolve(a);n(t.tr.setSelection(g.TextSelection.between(c,(o=c,i=o.nodeAfter?o.nodeAfter.nodeSize:0,o.node(0).resolve(o.pos+i)))).scrollIntoView())}return!0}}(t)(n,r)}}},$q=function(e){return zW({action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.TABLE,attributes:{inputMethod:p.Jq.SHORTCUT},eventType:p.Ze.TRACK})(e)((function(e,t){var n=RV({schema:e.schema});return t&&t((0,W.Z3)(n)(e.tr).scrollIntoView()),!0}))};function Jq(e,t){var n,r={};return Re.E4(Re.li.common,Kq(t)(1),r),Re.E4(Re.AB.common,Kq(t)(-1),r),Re.E4(Re.fV.common,$q(t),r),Re.E4(Re.as.common,(0,ar.QF)(function(e){return function(t){return zW((function(e){var n=e.selection;return Bq(n,t)}))(e)(ZG)}}(t)(p.Jq.KEYBOARD),Dq(t)(p.Jq.KEYBOARD)),r),Re.E4(Re.as.common,IG,r),Re.E4(Re.z2.common,Mq(t)("TOP"),r),Re.E4(Re.dl.common,Mq(t)("BOTTOM"),r),Re.E4(Re.I_.common,(n=function(e){return function(t,n,r){if(!(0,na.AG)(t.selection))return!1;if(n){var o=gi(t);n(fG(e)(o.left,XH(t),r)(t.tr))}return!0}}(e),function(e,t,r){var o=e.selection,i=e.schema.nodes.tableHeader;if(o instanceof g.TextSelection){var a=(0,na.g$)(o.$from);if(a&&a.node.type!==i)return n(e,t,r)}if(o instanceof be.X){var c=(0,zH.T)(o);if(!(0,BH.R8)(o)||c&&c.top>0)return n(e,t,r)}return!1}),r),Re.E4(Re.e2.common,function(e){return function(t,n,r){if(!(0,na.AG)(t.selection))return!1;if(n){var o=gi(t);n(fG(e)(o.right,XH(t),r)(t.tr))}return!0}}(e),r),(0,it.h)(r)}var Yq;!function(e){e.TopToBottom="TopToBottom",e.BottomToTop="BottomToTop"}(Yq||(Yq={}));var Xq=function(e){return function(t){return function(n,r){if(HH(n.selection)&&e){var o=e.getSelectionPluginState(n).selectionRelativeToNode;if(o===ha.Start)return cK(e)()(n,r);if(o===ha.End)return aK(e)(t)(n,r);if(void 0===o)return iK(e)(t,ha.Before)(n,r)}return!1}}},Qq=function(e){return function(t){return function(n,r){if(HH(n.selection)&&e){var o=e.getSelectionPluginState(n).selectionRelativeToNode;if(o===ha.Start)return iK(e)(t)(n,r);if(o===ha.End||void 0===o)return sK(e)()(n,r)}return!1}}},eK=function(e){return function(t){return function(n,r){var o=n.doc,i=t.$from,a=t.from,c=t.side;if(c===rn.MF.RIGHT){if(i.nodeBefore&&"table"===i.nodeBefore.type.name)return oK(e)({node:i.nodeBefore,startPos:o.resolve(a-1).start(i.depth+1),dir:Yq.TopToBottom})(n,r)}else if(c===rn.MF.LEFT){var s=(0,na.AG)(t);if(s&&uK(i,t)&&e)return e.getSelectionPluginState(n).selectionRelativeToNode===ha.Before?cK(e)()(n,r):oK(e)({node:s.node,startPos:s.start,dir:Yq.BottomToTop})(n,r)}return!1}}},tK=function(e){return function(t){return function(n,r){var o=t.$from,i=t.from,a=t.$to,c=t.side;if(c===rn.MF.LEFT){if(o.nodeAfter&&"table"===o.nodeAfter.type.name)return oK(e)({node:o.nodeAfter,startPos:i+1,dir:Yq.BottomToTop})(n,r)}else if(c===rn.MF.RIGHT){var s=(0,na.AG)(t);if(s&&lK(a,t))return oK(e)({node:s.node,startPos:s.start,dir:Yq.TopToBottom})(n,r)}return!1}}},nK=function(e){return function(t){return function(n,r){var o=(0,na.AG)(t);if(o){var i=t.$from;if(uK(i,t)&&"paragraph"===i.parent.type.name&&i.depth===o.depth+3&&e)return e.getSelectionPluginState(n).selectionRelativeToNode===ha.Before?cK(e)()(n,r):oK(e)({node:o.node,startPos:o.start,dir:Yq.BottomToTop})(n,r)}return!1}}},rK=function(e){return function(t){return function(n,r){var o=(0,na.AG)(t);if(o){var i=t.$to;if(lK(i,t)&&"paragraph"===i.parent.type.name&&i.depth===o.depth+3)return oK(e)({node:o.node,startPos:o.start,dir:Yq.TopToBottom})(n,r)}return!1}}},oK=function(e){return function(t){var n=t.node,r=t.startPos,o=t.dir;return function(t,i){var a,c,s=t.doc,u=fi.rU.get(n).map,l=s.resolve(r+u[0]),d=s.resolve(r+u[u.length-1]);if(o===Yq.TopToBottom?(a=new be.X(l,d),c=ha.End):(a=new be.X(d,l),c=ha.Start),e){var p=e.setSelectionRelativeToNode({selectionRelativeToNode:c,selection:a})(t);if(i)return i(p),!0}return!1}}},iK=function(e){return function(t,n){return function(r,o){var i=t.$anchorCell,a=t.$headCell,c=i.pos<a.pos?i:a,s=r.doc.resolve(c.pos+1),u=rn.WD.valid(s)?new rn.WD(s,rn.MF.LEFT):g.Selection.findFrom(s,1);if(e){var l=e.setSelectionRelativeToNode({selectionRelativeToNode:n,selection:u})(r);if(o)return o(l),!0}return!1}}},aK=function(e){return function(t,n){return function(r,o){var i=t.$anchorCell,a=t.$headCell,c=i.pos>a.pos?i:a,s=c.pos+(c.nodeAfter?c.nodeAfter.content.size:0)+1,u=r.doc.resolve(s),l=rn.WD.valid(u)?new rn.WD(u,rn.MF.RIGHT):g.Selection.findFrom(u,-1);if(e){var d=e.setSelectionRelativeToNode({selectionRelativeToNode:n,selection:l})(r);if(o)return o(d),!0}return!1}}},cK=function(e){return function(){return function(t,n){var r=(0,na.AG)(t.selection);if(r){var o=t.doc.resolve(r.pos);if(rn.WD.valid(o)){var i=new rn.WD(o,rn.MF.LEFT);if(e){var a=e.setSelectionRelativeToNode({selectionRelativeToNode:void 0,selection:i})(t);if(n)return n(a),!0}}}return!1}}},sK=function(e){return function(){return function(t,n){var r=(0,na.AG)(t.selection);if(r){var o=t.doc.resolve(r.pos+r.node.nodeSize);if(rn.WD.valid(o)){var i=new rn.WD(o,rn.MF.RIGHT);if(e){var a=e.setSelectionRelativeToNode({selectionRelativeToNode:void 0,selection:i})(t);if(n)return n(a),!0}return!1}}return!1}}},uK=function(e,t){return bi(e,(0,na.AG)(t))},lK=function(e,t){return wi(e,(0,na.AG)(t))};function dK(e){var t={};return(0,Re.E4)(Re.ql.common,function(e){return function(){return function(t,n){var r=t.selection;return r instanceof be.X?Qq(e)(r)(t,n):r instanceof rn.WD?tK(e)(r)(t,n):r instanceof g.TextSelection&&rK(e)(r)(t,n)}}}(e)(),t),(0,Re.E4)(Re.hi.common,function(e){return function(){return function(t,n){var r=t.selection;return r instanceof be.X?Xq(e)(r)(t,n):r instanceof rn.WD?eK(e)(r)(t,n):r instanceof g.TextSelection&&nK(e)(r)(t,n)}}}(e)(),t),(0,it.h)(t)}var pK=n(18360),fK=".".concat(WH.CF.TABLE_CELL,", .").concat(WH.CF.TABLE_HEADER_CELL),hK=function(e){return Boolean(e&&(["TH","TD"].indexOf(e.tagName)>-1||!!(0,Ea.pE)(e,".".concat(WH.CF.TABLE_HEADER_CELL))||!!(0,Ea.pE)(e,".".concat(WH.CF.TABLE_CELL))))},vK=function(e){return[parseInt(e.getAttribute("data-start-index")||"-1",10),parseInt(e.getAttribute("data-end-index")||"-1",10)]},mK=function(e){return(0,Ea.tn)(e,WH.CF.COLUMN_CONTROLS_DECORATIONS)},gK=function(e){return(0,Ea.tn)(e,WH.CF.ROW_CONTROLS_BUTTON)||(0,Ea.tn)(e,WH.CF.NUMBERED_COLUMN_BUTTON)},yK=function(e){return(0,Ea.tn)(e,WH.CF.RESIZE_HANDLE_DECORATION)},bK=function(e,t,n,r){var o=e.target;if(o instanceof HTMLElement){var i,a,c=o.closest(fK);if(t){var s,u,l,d=null!==(s=null==c?void 0:c.id)&&void 0!==s?s:"";i=null!==(u=null==n||null===(l=n[d])||void 0===l?void 0:l.width)&&void 0!==u?u:0,a=e.offsetX}else{var p=o.getBoundingClientRect();i=p.width;var f=p.left;a=e.clientX-f}if(i<=0)return null;if(!r)return a/i>.5?"right":"left";if(a<=r)return"left";if(a>=i-r)return"right"}return null},wK=function(e){var t=e.target;if(t instanceof HTMLElement){var n=t.getBoundingClientRect();return n.height<=0?null:(e.clientY-n.top)/n.height>.5?"bottom":"top"}return null},kK=function(e){if(e){var t=e.offsetHeight+GH._K,n=Array.from(e.querySelectorAll(".".concat(WH.CF.RESIZE_HANDLE)));n&&n.length&&n.forEach((function(e){e.style.height="".concat(t,"px")}))}},EK=function(e,t){var n=e.state,r=e.dispatch;return 11===Ec.Z.ie_version||function(e){return e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&"calendar"===e.relatedTarget.getAttribute("aria-label")}(t)||function(e){return e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&e.relatedTarget.closest('[role="dialog"]')}(t)||function(e){return e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&e.relatedTarget.closest('[role="toolbar"]')}(t)||PG(!1)(n,r),t.preventDefault(),!1},xK=function(e,t){var n=e.state,r=e.dispatch;return PG(!0)(n,r),t.preventDefault(),!1},OK=function(e,t){if(!(t.target instanceof HTMLElement))return!1;var n=t.target,r=(0,na.AG)(e.state.selection);if(t instanceof MouseEvent&&mK(n)){var o=vK(n),i=(0,sr.Z)(o,1)[0],a=e.state,c=e.dispatch;return function(e,t){return(0,YH.fA)((function(n){var r=(0,IW.y)(e)(n.tr.selection);if(!r||!r.length||"number"!=typeof r[0].pos)return!1;var o=(0,EG.Dh)(wG(e,t)(n.tr)),i=(0,TG.a)(n,o,WH.fe.COLUMN_SELECTED);return{type:"SELECT_COLUMN",data:{targetCellPosition:r[0].pos,decorationSet:i}}}),(function(n){return wG(e,t)(n).setMeta("addToHistory",!1)}))}(i,t.shiftKey)(a,c)}var s=n.matches?n.matches:n.msMatchesSelector;if(!r||!(0,ms.L7)(n)||!s||s.call(n,"table .image, table p, table .image div"))return!1;var u=fi.rU.get(r.node),l=(0,Ea.pE)(n,"td")||(0,Ea.pE)(n,"th"),d=l&&l.cellIndex,p=(0,Ea.pE)(n,"tr"),f=p&&p.rowIndex,h=u.width*f+d,v=e.dispatch,m=e.state,g=m.tr,y=m.schema.nodes.paragraph,b=u.map[h];if(isNaN(b)||void 0===b||"number"!=typeof b)return!1;var w=r.node.nodeAt(b);if((0,ms.dL)(w)){var k=u.map[h]+w.nodeSize;g.insert(k+r.pos,y.create()),v(g),(0,ms.Ui)(e,k+r.pos)}return!0},SK=function(e,t){if(!(t.target instanceof HTMLElement))return!1;var n,r=e.state,o=e.dispatch,i=t.target,a=(0,YH.Lk)(r),c=a.insertColumnButtonIndex,s=a.insertRowButtonIndex;if(n=i,(0,Ea.tn)(n,WH.CF.CONTROLS_INSERT_ROW)||(0,Ea.pE)(n,".".concat(WH.CF.CONTROLS_INSERT_ROW))||(0,Ea.tn)(n,WH.CF.CONTROLS_BUTTON_OVERLAY)&&(0,Ea.pE)(n,".".concat(WH.CF.ROW_CONTROLS))){var u=vK(i),l=(0,sr.Z)(u,2),d=l[0],p=l[1],f="bottom"===wK(t)?p:d;return LG(f)(r,o)}if(mK(i)){var h=vK(i),v=(0,sr.Z)(h,1)[0],m=e.state,g=e.dispatch;return(0,pK.jF)([v],!1)(m,g)}if((hK(i)||function(e){return(0,Ea.tn)(e,WH.CF.CONTROLS_CORNER_BUTTON)}(i))&&("number"==typeof c||"number"==typeof s))return MG()(r,o);if(yK(i)){var y=vK(i),b=(0,sr.Z)(y,2),w=b[0],k=b[1];return(0,pK._6)({left:w,right:k})(r,o)}return!1},CK=function(e,t){var n,r=!!(t.target&&t.target instanceof HTMLElement&&(n=t.target,(0,Ea.tn)(n,WH.CF.TABLE_CONTAINER)||(0,Ea.tn)(n,WH.CF.TABLE_NODE_WRAPPER)||mK(t.target)||gK(t.target)));return r&&t.preventDefault(),r},TK=function(e,t){if(!(t instanceof MouseEvent&&t.target instanceof HTMLElement))return!1;var n=t.target;if(mK(n)){var r=e.state,o=e.dispatch;return(0,pK.yR)()(r,o)}var i=t.relatedTarget;if(yK(n)&&!yK(i)){var a=e.state,c=e.dispatch;return(0,pK.Z4)()(a,c)}return!1},AK=function(e,t){if(!(t.target instanceof HTMLElement))return!1;var n,r=e.state,o=e.dispatch,i=(0,YH.Lk)(r),a=i.insertColumnButtonIndex,c=i.insertRowButtonIndex,s=t.target;return n=s,!(!(0,Ea.tn)(n,WH.CF.CONTROLS_BUTTON)&&!(0,Ea.tn)(n,WH.CF.ROW_CONTROLS_BUTTON_WRAP))||!(void 0===a&&void 0===c||!MG()(r,o))},_K=function(e){return function(t,n,r){if(!(n.target instanceof HTMLElement))return!1;var o,i=n.target;if(mK(i)){var a=t.state,c=t.dispatch,s=(0,YH.Lk)(a).insertColumnButtonIndex,u=vK(i),l=(0,sr.Z)(u,2),d=l[0],p=l[1];if((k="right"===bK(n,!1,r)?p:d)!==s)return(o=k,(0,YH.fA)((function(e){return o>-1&&{type:"SHOW_INSERT_COLUMN_BUTTON",data:{insertColumnButtonIndex:o}}}),(function(e){return e.setMeta("addToHistory",!1)})))(a,c)}if(gK(i)){var f=t.state,h=t.dispatch,v=(0,YH.Lk)(f).insertRowButtonIndex,m=vK(i),g=(0,sr.Z)(m,2),y=g[0],b=g[1],w="bottom"===wK(n)?b:y;if(w!==v)return LG(w)(f,h)}var k,E=e().mouseMoveOptimization;if(!yK(i)&&hK(i)&&null!==(k=bK(n,E,r,WH.rR))){var x=t.state,O=t.dispatch,S=(0,YH.Lk)(x),C=S.resizeHandleColumnIndex,T=S.resizeHandleRowIndex,A=(0,Ea.pE)(i,"td, th"),_=t.posAtDOM(A,0),P=(0,na.vy)(x.doc.resolve(_));if(P){var D="left"===k?P.left:P.right,Z=P.top;if(D!==C||Z!==T||!function(e){var t=e.columnEndIndexTarget,n=e.target,r=(0,Ea.pE)(n,"table");if(!r)return!1;var o=[".".concat(WH.CF.RESIZE_HANDLE_DECORATION),'[data-end-index="'.concat(t,'"]')],i=r.querySelectorAll(o.join(""));return!(!i||0===i.length)}({target:i,columnEndIndexTarget:D}))return function(e,t){return(0,YH.fA)((function(n){var r,o,i=(0,na.AG)(n.selection),a=(0,YH.Lk)(n).pluginConfig.allowColumnResizing;return!(!i||!a)&&{type:"ADD_RESIZE_HANDLE_DECORATIONS",data:{decorationSet:(r=e,o=t,function(e){var t=e.tr,n=e.decorationSet,i=o<0?OG:(0,EG._z)(t,r,{right:o}),a=(0,sr.Z)(i,2),c=a[0],s=a[1];return(0,xG.u)([SG(c),CG(s)])({decorationSet:n,tr:t})})({tr:n.tr,decorationSet:(0,KV.hP)(n)}),resizeHandleRowIndex:e,resizeHandleColumnIndex:t}}}),(function(e){return e.setMeta("addToHistory",!1)}))}(Z,D)(x,O)}}return!1}};function PK(e,t){var n=e.state,r=e.dispatch,o=(0,hi.m9)(n.doc.resolve(t));if(!o)return!1;var i=n.doc.nodeAt(o.pos);if(i){var a=g.Selection.findFrom(o,1,!0),c=g.Selection.findFrom(n.doc.resolve(o.pos+i.nodeSize),-1,!0);if(a&&c)return r(n.tr.setSelection(new g.TextSelection(a.$from,c.$to))),!0}return!1}var DK=function(e,t){return function(n,r){var o=cq(n.state),i=(0,YH.Lk)(n.state),a=o&&!!o.dragging;return!(!i||!i.tableNode||a)&&e(n,r,t)}};function ZK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var IK=function(e){(0,j.Z)(n,e);var t=ZK(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{errorCaptured:!1}),e}return(0,D.Z)(n,[{key:"hasFallback",value:function(){return void 0!==this.props.fallbackComponent}},{key:"shouldRecover",value:function(){return this.hasFallback()&&this.state.errorCaptured}},{key:"componentDidCatch",value:function(e,t){this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent({action:p.om.EDITOR_CRASHED,actionSubject:this.props.component,actionSubjectId:this.props.componentId,eventType:p.Ze.OPERATIONAL,attributes:{error:e,errorInfo:t,errorRethrown:!this.hasFallback()}}),this.hasFallback()&&this.setState({errorCaptured:!0})}},{key:"render",value:function(){return this.shouldRecover()?this.props.fallbackComponent:this.props.children}}]),n}(Z.Component),LK=function(){function e(t,n,r,i,a,c,s){var u=this,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],d=arguments.length>8?arguments[8]:void 0,p=arguments.length>9&&void 0!==arguments[9]&&arguments[9];(0,P.Z)(this,e),(0,o.Z)(this,"handleRef",(function(e){return u._handleRef(e)})),(0,o.Z)(this,"dispatchAnalyticsEvent",(function(e){u.eventDispatcher&&(0,ic.h)(u.eventDispatcher)(A_.DQ,{payload:e})})),this.node=t,this.view=n,this.getPos=r,this.portalProviderAPI=i,this.reactComponentProps=c||{},this.reactComponent=s,this.hasAnalyticsContext=l,this._viewShouldUpdate=d,this.eventDispatcher=a,this.hasIntlContext=p}return(0,D.Z)(e,[{key:"init",value:function(){var e=this;this.domRef=this.createDomRef(),this.setDomAttrs(this.node,this.domRef);var t=this.getContentDOM()||{dom:void 0,contentDOM:void 0},n=t.dom,r=t.contentDOM;this.domRef&&n&&(this.domRef.appendChild(n),this.contentDOM=r||n,this.contentDOMWrapper=n||r),this.domRef.classList.add("".concat(this.node.type.name,"View-content-wrap"));var o=(0,Gl.Rz)(this.view),i=o.samplingRate,a=o.slowThreshold,c=o.trackingEnabled;return c&&(0,Gl.vy)({nodeTypeName:this.node.type.name}),this.renderReactComponent((function(){return e.render(e.reactComponentProps,e.handleRef)})),c&&(0,Gl.qH)({nodeTypeName:this.node.type.name,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent,editorState:this.view.state,samplingRate:i,slowThreshold:a}),this}},{key:"renderReactComponent",value:function(e){var t=this;if(this.domRef&&e){this.portalProviderAPI.render((function(){var n,r,o;return Z.createElement(IK,{component:p.Wt.REACT_NODE_VIEW,componentId:null!==(n=null==t||null===(r=t.node)||void 0===r||null===(o=r.type)||void 0===o?void 0:o.name)&&void 0!==n?n:p.VJ.UNKNOWN_NODE,dispatchAnalyticsEvent:t.dispatchAnalyticsEvent},e())}),this.domRef,this.hasAnalyticsContext,this.hasIntlContext)}}},{key:"createDomRef",value:function(){return this.node.isInline?document.createElement("span"):document.createElement("div")}},{key:"getContentDOM",value:function(){}},{key:"_handleRef",value:function(e){var t=this.contentDOMWrapper||this.contentDOM;e&&t&&!e.contains(t)&&e.appendChild(t)}},{key:"render",value:function(e,t){return this.reactComponent?Z.createElement(this.reactComponent,(0,Lt.Z)({view:this.view,getPos:this.getPos,node:this.node,forwardRef:t},e)):null}},{key:"update",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0};return!(this.node.type!==e.type||!o(this.node,e))&&(this.domRef&&!this.node.sameMarkup(e)&&this.setDomAttrs(e,this.domRef),this.viewShouldUpdate(e)?(this.node=e,this.renderReactComponent((function(){return r.render(r.reactComponentProps,r.handleRef)})),!0):(this.node=e,!0))}},{key:"viewShouldUpdate",value:function(e){return!this._viewShouldUpdate||this._viewShouldUpdate(e)}},{key:"setDomAttrs",value:function(e,t){Object.keys(e.attrs||{}).forEach((function(n){t.setAttribute(n,e.attrs[n])}))}},{key:"dom",get:function(){return this.domRef}},{key:"destroy",value:function(){this.domRef&&(this.portalProviderAPI.remove(this.domRef),this.domRef=void 0,this.contentDOM=void 0)}}],[{key:"fromComponent",value:function(t,n,r,o,i){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return function(c,s,u){return new e(c,s,u,n,r,o,t,!1,i,a).init()}}}]),e}(),MK=function(e,t){if(e&&void 0!==t){var n=e.find((function(e){return e.pos===t+1}));if(n)return n.sticky?n:void 0}},RK=new g.PluginKey("stickyHeadersPlugin"),NK=function(e){for(var t=[],n=e.left;n<e.right;n++)t.push(n);return t},jK=function(e){for(var t=[],n=e.top;n<e.bottom;n++)t.push(n);return t};function FK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var BK=(0,Ze.vU)({cornerControl:{id:"fabric.editor.cornerControl",defaultMessage:"Highlight table",description:"A button on the upper left corner of the table that shows up when the table is in focus. Clicking on it will select the entire table."}}),zK=function(e){(0,j.Z)(n,e);var t=FK(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"isActive",(function(){var t=e.props,n=t.editorView,r=t.hoveredRows,o=t.isResizing,i=n.state.selection,a=(0,na.AG)(i);return!!a&&(HH(i)||r&&r.length===fi.rU.get(a.node).height&&!o)})),(0,o.Z)((0,N.Z)(e),"clearHoverSelection",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;(0,pK.yR)()(n,r)})),(0,o.Z)((0,N.Z)(e),"selectTable",(function(){var t=e.props.editorView,n=t.state;(0,t.dispatch)(function(e){var t=(0,na.AG)(e.selection);if(t){var n=fi.rU.get(t.node).map;if(n&&n.length){var r=t.start+n[0],o=t.start+n[n.length-1],i=e.doc.resolve(r),a=e.doc.resolve(o);return JV(e.setSelection(new be.X(a,i)))}}return e}(n.tr).setMeta("addToHistory",!1))})),(0,o.Z)((0,N.Z)(e),"hoverTable",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;(0,pK.iZ)()(n,r)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.isInDanger,n=e.tableRef,r=e.isHeaderColumnEnabled,o=e.isHeaderRowEnabled,i=e.intl.formatMessage;if(!n)return null;var a=this.isActive();return Z.createElement("div",{className:rc()(WH.CF.CORNER_CONTROLS,{active:a,sticky:void 0!==this.props.stickyTop}),style:{top:void 0!==this.props.stickyTop?"".concat(this.props.stickyTop,"px"):void 0},contentEditable:!1},Z.createElement("button",{"aria-label":i(BK.cornerControl),type:"button",className:rc()(WH.CF.CONTROLS_CORNER_BUTTON,{danger:a&&t}),onClick:this.selectTable,onMouseOver:this.hoverTable,onMouseOut:this.clearHoverSelection}),!o&&Z.createElement("div",{className:WH.CF.CORNER_CONTROLS_INSERT_ROW_MARKER},Z.createElement("div",{className:WH.CF.CONTROLS_INSERT_MARKER})),!r&&Z.createElement("div",{className:WH.CF.CORNER_CONTROLS_INSERT_COLUMN_MARKER},Z.createElement("div",{className:WH.CF.CONTROLS_INSERT_MARKER})))}}]),n}(Z.Component),UK=(0,H.ZP)(zK);function VK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var HK=function(e){(0,j.Z)(n,e);var t=VK(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"hoverRows",(function(t){return e.props.tableActive?e.props.hoverRows([t]):null})),(0,o.Z)((0,N.Z)(e),"selectRow",(function(t,n){var r=e.props,o=r.tableActive,i=r.editorView,a=r.selectRow;if(!o&&n.target&&n.target instanceof Node){var c=i.state,s=c.doc,u=c.selection,l=c.tr,d=i.posAtDOM(n.target,1),p=s.resolve(d),f=u.head>d?g.Selection.near(s.resolve(d+(p.parent.nodeSize-3)),-1):g.Selection.near(p);i.dispatch(l.setSelection(f))}a(t,n.shiftKey)})),(0,o.Z)((0,N.Z)(e),"clearHoverSelection",(function(){var t=e.props,n=t.tableActive,r=t.editorView;if(n){var o=r.state,i=r.dispatch;(0,pK.yR)()(o,i)}})),(0,o.Z)((0,N.Z)(e),"getClassNames",(function(t){var n=e.props,r=n.hoveredRows,o=n.editorView,i=n.isInDanger,a=n.isResizing,c=VH(t)(o.state.selection)||-1!==(r||[]).indexOf(t)&&!a;return[WH.CF.NUMBERED_COLUMN_BUTTON,c?WH.CF.HOVERED_CELL_ACTIVE:"",c&&i?WH.CF.HOVERED_CELL_IN_DANGER:""].join(" ")})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.tableRef,r=t.hasHeaderRow,o=$H(n);return Z.createElement("div",{className:WH.CF.NUMBERED_COLUMN,style:{marginTop:r&&void 0!==this.props.stickyTop?o[0]:void 0},contentEditable:!1},o.map((function(t,n){return Z.createElement("div",{key:"wrapper-".concat(n),className:e.getClassNames(n),"data-index":n,style:{height:t,top:void 0!==e.props.stickyTop&&r&&0===n?"".concat(e.props.stickyTop,"px"):void 0},onClick:function(t){return e.selectRow(n,t)},onMouseOver:function(){return e.hoverRows(n)},onMouseOut:e.clearHoverSelection},r?n>0?n:null:n+1)})))}}]),n}(Z.Component);function WK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var GK=(0,Ze.vU)({rowControl:{id:"fabric.editor.rowControl",defaultMessage:"Highlight row",description:"A button on the left of each row that shows up when the table is in focus. Clicking on it will select the entire row."}}),qK=function(e){(0,j.Z)(n,e);var t=WK(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"clearHoverSelection",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;(0,pK.yR)()(n,r)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.editorView,r=t.tableRef,o=t.hoveredRows,i=t.isInDanger,a=t.isResizing,c=t.intl.formatMessage;if(!r)return null;var s=n.state.selection,u=$H(r),l=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];if(o){for(var i=e.length,a=n+1,c=e.length;a<c;a++)if(e[a]){i=a;break}t.push({startIndex:n,endIndex:i,height:o})}}return t}(u),d=r.querySelector("tr"),p=!!d&&d.getAttribute("data-header-row");return Z.createElement("div",{className:WH.CF.ROW_CONTROLS},Z.createElement("div",{className:WH.CF.ROW_CONTROLS_INNER},l.map((function(t,n){var r=t.startIndex,l=t.endIndex,d=t.height,f=-1;1===n&&p&&void 0!==e.props.stickyTop&&(f+=u[n-1]+GH._K);var h=void 0!==e.props.stickyTop&&0===n&&p;return Z.createElement("div",{className:"".concat(WH.CF.ROW_CONTROLS_BUTTON_WRAP," ").concat(JH(r,s,o,i,a)," ").concat(h?"sticky":""),key:r,style:{height:d,marginTop:"".concat(f,"px"),top:h?"".concat(e.props.stickyTop+3,"px"):void 0,paddingTop:h?"".concat(GH.zP,"px"):void 0}},Z.createElement("button",{"aria-label":c(GK.rowControl),type:"button",className:"".concat(WH.CF.ROW_CONTROLS_BUTTON,"\n                  ").concat(WH.CF.CONTROLS_BUTTON,"\n                "),onClick:function(t){return e.props.selectRow(r,t.shiftKey)},onMouseOver:function(){return e.props.hoverRows([r])},onMouseOut:e.clearHoverSelection,"data-start-index":r,"data-end-index":l}),Z.createElement("div",{className:WH.CF.CONTROLS_INSERT_MARKER}))}))))}}]),n}(Z.Component),KK=(0,H.ZP)(qK);function $K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return JK(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JK(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function JK(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YK(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var XK=function(e){(0,j.Z)(n,e);var t=YK(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"selectRow",(function(t,n){var r=e.props.editorView,o=r.state,i=r.dispatch;11===Ec.Z.ie_version&&r.dom.blur(),function(e,t){return(0,YH.fA)((function(t){var n,r=(0,tH.u)(e)(t.tr.selection);return r&&r.length&&(n=r[0].pos),{type:"SET_TARGET_CELL_POSITION",data:{targetCellPosition:n}}}),(function(n){return kG(e,t)(n).setMeta("addToHistory",!1)}))}(t,n)(o,i)})),(0,o.Z)((0,N.Z)(e),"hoverRows",(function(t,n){var r=e.props.editorView,o=r.state,i=r.dispatch;(0,pK.Bj)(t,n)(o,i)})),e}return(0,D.Z)(n,[{key:"componentDidMount",value:function(){this.tryInitResizeObserver()}},{key:"componentDidUpdate",value:function(){this.tryInitResizeObserver()}},{key:"tryInitResizeObserver",value:function(){var e,t=this,n=this.props.tableRef;this.props.getEditorFeatureFlags().tableRenderOptimization&&n&&!this.resizeObserver&&null!==(e=window)&&void 0!==e&&e.ResizeObserver&&(this.resizeObserver=new ResizeObserver((function(e){var n,r=$K(e);try{for(r.s();!(n=r.n()).done;){var o=n.value.contentRect.height;t.setState({tableHeight:o})}}catch(e){r.e(e)}finally{r.f()}})),this.resizeObserver.observe(n))}},{key:"shouldComponentUpdate",value:function(e,t){var n,r,o,i=this.props,a=i.tableRef,c=i.isInDanger,s=i.isResizing,u=i.isHeaderRowEnabled,l=i.isNumberColumnEnabled,d=i.hoveredRows,p=i.selection,f=i.tableActive,h=i.isHeaderColumnEnabled,v=i.ordering,m=i.headerRowHeight,g=i.stickyHeader,y=this.props.getEditorFeatureFlags().tableRenderOptimization,b=y?null===(n=this.state)||void 0===n?void 0:n.tableHeight:this.props.tableHeight,w=y?null==t?void 0:t.tableHeight:e.tableHeight;return v!==e.ordering||a!==e.tableRef||b!==w||f!==e.tableActive||c!==e.isInDanger||s!==e.isResizing||d!==e.hoveredRows||u!==e.isHeaderRowEnabled||h!==e.isHeaderColumnEnabled||l!==e.isNumberColumnEnabled||(r=p,!((o=e.selection)||!r)||(0,vi.u)(r,"cell")!==(0,vi.u)(o,"cell")||(0,vi.u)(r,"cell")&&(0,vi.u)(o,"cell")&&r.ranges!==o.ranges)||m!==e.headerRowHeight||g!==e.stickyHeader}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect()}},{key:"render",value:function(){var e=this.props,t=e.editorView,n=e.tableRef,r=e.isInDanger,o=e.isResizing,i=e.isNumberColumnEnabled,a=e.isHeaderRowEnabled,c=e.isHeaderColumnEnabled,s=e.tableActive,u=e.hasHeaderRow,l=e.hoveredRows,d=e.stickyHeader;if(!n)return null;var p=d&&d.sticky&&u?d.top:void 0;return Z.createElement("div",{onMouseDown:function(e){return e.preventDefault()}},i?Z.createElement(HK,{editorView:t,hoverRows:this.hoverRows,tableRef:n,tableActive:s,hoveredRows:l,hasHeaderRow:u,isInDanger:r,isResizing:o,selectRow:this.selectRow,stickyTop:p}):null,s&&Z.createElement(Z.Fragment,null,Z.createElement(UK,{editorView:t,tableRef:n,isInDanger:r,isResizing:o,isHeaderRowEnabled:a,isHeaderColumnEnabled:c,hoveredRows:l,stickyTop:s?p:void 0}),Z.createElement(KK,{editorView:t,tableRef:n,hoverRows:this.hoverRows,hoveredRows:l,isInDanger:r,isResizing:o,selectRow:this.selectRow,stickyTop:s?p:void 0})))}}]),n}(Z.Component);(0,o.Z)(XK,"displayName","TableFloatingControls");var QK=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function e$(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],o=t[n],!(r===o||QK(r)&&QK(o)))return!1;var r,o;return!0}var t$=function(){function e(t,n,r){var i=this;(0,P.Z)(this,e),(0,o.Z)(this,"leftShadowSentinel",null),(0,o.Z)(this,"rightShadowSentinel",null),(0,o.Z)(this,"shadowsObserved",!1),(0,o.Z)(this,"isSticky",!1),(0,o.Z)(this,"stickyRowHeight",0),(0,o.Z)(this,"init",(function(){var e=i.table;if(i.wrapper&&e)if(i.tableIntersectionObserver);else{i.tableIntersectionObserver=new IntersectionObserver((function(e,t){e.forEach((function(e){return function(e){var t,n;(null!==(t=e.rootBounds)&&void 0!==t&&t.height||null!==(n=e.rootBounds)&&void 0!==n&&n.width)&&(e.target!==i.leftShadowSentinel&&e.target!==i.rightShadowSentinel||(i.updateStickyShadowsHeightIfChanged(),i.checkIntersectionEvent(e,i.leftShadowSentinel===e.target?WH.lO.SHOW_BEFORE_SHADOW:WH.lO.SHOW_AFTER_SHADOW)))}(e)}))}),{threshold:[0,1],root:i.wrapper,rootMargin:"0px ".concat(GH.z_/2,"px 0px 0px")})}})),(0,o.Z)(this,"checkIntersectionEvent",(function(e,t){e.isIntersecting&&1===e.intersectionRatio?i.updateShadowState(t,!1):e.intersectionRatio<1&&i.updateShadowState(t,!0)})),(0,o.Z)(this,"observeShadowSentinels",(function(e){var t,n;i.isSticky=!!e,i.updateStickyShadowsHeightIfChanged(),i.leftShadowSentinel=null===(t=i.table)||void 0===t?void 0:t.querySelector(".".concat(WH.CF.TABLE_SHADOW_SENTINEL_LEFT)),i.rightShadowSentinel=null===(n=i.table)||void 0===n?void 0:n.querySelector(".".concat(WH.CF.TABLE_SHADOW_SENTINEL_RIGHT)),i.tableIntersectionObserver&&i.leftShadowSentinel&&i.rightShadowSentinel&&!i.shadowsObserved&&(i.tableIntersectionObserver.disconnect(),i.tableIntersectionObserver.observe(i.leftShadowSentinel),i.tableIntersectionObserver.observe(i.rightShadowSentinel),i.shadowsObserved=!0)})),(0,o.Z)(this,"updateStickyShadows",(function(e){var t,n,r,o,a;if(i.isSticky){var c=i.getStickyCell();if(c&&null!==(t=i.wrapper)&&void 0!==t&&t.parentElement){var s="".concat(e||c.clientHeight+1,"px"),u=null===(n=i.wrapper)||void 0===n||null===(r=n.parentElement)||void 0===r?void 0:r.getElementsByClassName("".concat(WH.CF.TABLE_RIGHT_SHADOW)),l=null===(o=i.wrapper)||void 0===o||null===(a=o.parentElement)||void 0===a?void 0:a.getElementsByClassName("".concat(WH.CF.TABLE_LEFT_SHADOW));DW(s,l),DW(s,u)}}})),this.updateShadowState=t,this.table=n,this.wrapper=r,this.init()}return(0,D.Z)(e,[{key:"updateStickyShadowsHeightIfChanged",value:function(){if(this.isSticky){var e=this.getStickyCell();if(e){var t=e.clientHeight+1;t===this.stickyRowHeight&&(this.stickyRowHeight=t,this.updateStickyShadows(this.stickyRowHeight))}}}},{key:"getStickyCell",value:function(){var e,t=null===(e=this.wrapper)||void 0===e?void 0:e.querySelector("tr.sticky");return t&&t.firstElementChild}},{key:"dispose",value:function(){this.tableIntersectionObserver&&(this.tableIntersectionObserver.disconnect(),this.tableIntersectionObserver=void 0)}}]),e}();function n$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n$(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var i$=11===Ec.Z.ie_version,a$=function(){},c$=function(e){(0,j.Z)(n,e);var t=o$(n);function n(e){var r,i;(0,P.Z)(this,n),i=t.call(this,e),(0,o.Z)((0,N.Z)(i),"state",(r={scroll:0,tableContainerWidth:"inherit",parentWidth:void 0,isLoading:!0},(0,o.Z)(r,WH.lO.SHOW_BEFORE_SHADOW,!1),(0,o.Z)(r,WH.lO.SHOW_AFTER_SHADOW,!1),r)),(0,o.Z)((0,N.Z)(i),"updateShadowState",(function(e,t){if(i.state[e]!==t)return e===WH.lO.SHOW_BEFORE_SHADOW?i.setState((0,o.Z)({},e,t)):void i.setState((0,o.Z)({},e,t))})),(0,o.Z)((0,N.Z)(i),"createShadowSentinels",(function(e){if(e){var t=document.createElement("span");t.className=WH.CF.TABLE_SHADOW_SENTINEL_LEFT;var n=document.createElement("span");n.className=WH.CF.TABLE_SHADOW_SENTINEL_RIGHT,e.prepend(t),e.prepend(n)}})),(0,o.Z)((0,N.Z)(i),"onStickyState",(function(e){var t=i.props.getEditorFeatureFlags().tableOverflowShadowsOptimization,n=i.props.getPos();if((0,ms.w7)(n,i.props.view.state)){var r=MK(e,n);r!==i.state.stickyHeader&&(i.setState({stickyHeader:r}),t&&i.overflowShadowsObserver&&i.overflowShadowsObserver.updateStickyShadows())}})),(0,o.Z)((0,N.Z)(i),"prevTableState",null),(0,o.Z)((0,N.Z)(i),"getMarginLeft",(function(e){var t,n=i.props.containerWidth.lineLength;if("inherit"!==e&&n){var r=(0,Ea.AY)(e);r&&(t=(n-r)/2)}return t})),(0,o.Z)((0,N.Z)(i),"handleScroll",(function(e){if(i.wrapper&&e.target===i.wrapper){if(i.table)for(var t=i.table.querySelectorAll("tr[data-header-row]"),n=0;n<t.length;n++){var r=t[n];r.scrollLeft=i.wrapper.scrollLeft,r.style.marginRight="2px"}i.props.getEditorFeatureFlags().tableOverflowShadowsOptimization||i.updateShadows(),0===i.wrapper.scrollLeft?i.setState((0,o.Z)({},WH.lO.SHOW_BEFORE_SHADOW,!1)):i.setState((0,o.Z)({},WH.lO.SHOW_BEFORE_SHADOW,!0))}})),(0,o.Z)((0,N.Z)(i),"handleTableResizing",(function(){var e=i.props,t=e.getNode,n=e.containerWidth,r=e.options,o=i.node,a=t(),c=o.attrs,s=c.layout!==a.attrs.layout&&c.__autoSize===a.attrs.__autoSize,u=i.getParentNodeWidth(),l=u&&u!==i.state.parentWidth,d=i.tableNodeLayoutSize(a,n.width,r),p=c.isNumberColumnEnabled!==a.attrs.isNumberColumnEnabled,f=(0,BH.pv)(a,o);(s||l||p||d!==i.layoutSize||f)&&(p||f||i.scaleTable({parentWidth:u,layoutChanged:s}),i.updateParentWidth(u)),i.updateTableContainerWidth(),i.node=a,i.containerWidth=n,i.layoutSize=d})),(0,o.Z)((0,N.Z)(i),"scaleTable",(function(e){var t=i.props,n=t.view,r=t.getNode,o=t.getPos,a=t.containerWidth,c=t.options,s=r(),u=n.state,l=n.dispatch,d=o();if((0,ms.w7)(d,u)){var p=n.domAtPos.bind(n),f=a.width;i.scaleTableDebounced.cancel(),sq(i.table,r$(r$({},e),{},{node:s,prevNode:i.node||s,start:d+1,containerWidth:f,previousContainerWidth:i.containerWidth.width||f},c),p)(u,l)}})),(0,o.Z)((0,N.Z)(i),"handleAutoSize",(function(){if(i.table){var e=i.props,t=e.view,n=e.getNode,r=e.getPos,o=e.containerWidth,a=n(),c=r();if(!(0,ms.w7)(c,t.state))return;!function(e,t,n,r,o){e.dispatch(CW(e,t,n,r,o))}(t,a,i.table,c,{containerWidth:o.width})}})),(0,o.Z)((0,N.Z)(i),"handleWindowResize",(function(){var e,t,n=i.props,r=n.getNode,o=n.containerWidth,a=r(),c=i.node,s=i.tableNodeLayoutSize(a),u=null==c?void 0:c.attrs,l=(null==u?void 0:u.layout)!==(null==a||null===(e=a.attrs)||void 0===e?void 0:e.layout)&&(null==u?void 0:u.__autoSize)===(null==a||null===(t=a.attrs)||void 0===t?void 0:t.__autoSize);if(!(o.width>s)){var d=i.getParentNodeWidth();i.scaleTableDebounced({layoutChanged:l,parentWidth:d})}})),(0,o.Z)((0,N.Z)(i),"updateTableContainerWidth",(function(){var e=i.props,t=e.getNode,n=e.containerWidth,r=e.options,o=t();if(!r||!1!==r.isBreakoutEnabled){var a=(0,QH.WM)(o.attrs.layout,n.width);if(i.state.tableContainerWidth===a)return null;i.setState((function(e){return r&&!1===r.isBreakoutEnabled&&"inherit"!==e.tableContainerWidth?{tableContainerWidth:"inherit"}:{tableContainerWidth:a}}))}})),(0,o.Z)((0,N.Z)(i),"getParentNodeWidth",(function(){var e=i.props,t=e.getPos,n=e.containerWidth,r=e.options,o=e.view.state,a=t();if((0,ms.w7)(a,o))return iW(a,o,n,r&&r.isFullWidthModeEnabled)})),(0,o.Z)((0,N.Z)(i),"updateParentWidth",(function(e){i.setState({parentWidth:e})})),(0,o.Z)((0,N.Z)(i),"tableNodeLayoutSize",(function(e,t,n){return uW(e.attrs.layout,t||i.props.containerWidth.width,n||i.props.options||{})})),(0,o.Z)((0,N.Z)(i),"scaleTableDebounced",(0,PA.Z)(i.scaleTable)),(0,o.Z)((0,N.Z)(i),"handleTableResizingDebounced",(0,PA.Z)(i.handleTableResizing)),(0,o.Z)((0,N.Z)(i),"handleScrollDebounced",(0,PA.Z)(i.handleScroll)),(0,o.Z)((0,N.Z)(i),"handleAutoSizeDebounced",(0,PA.Z)(i.handleAutoSize)),(0,o.Z)((0,N.Z)(i),"handleWindowResizeDebounced",(0,PA.Z)(i.handleWindowResize));var a=e.options,c=e.containerWidth,s=e.getNode,u=e.getEditorFeatureFlags;i.node=s(),i.containerWidth=c;var l=!!a&&a.wasFullWidthModeEnabled;return i.layoutSize=i.tableNodeLayoutSize(i.node,c.width,{isFullWidthModeEnabled:l}),"execCommand"in document&&["enableObjectResizing","enableInlineTableEditing"].forEach((function(e){document.queryCommandSupported(e)&&document.execCommand(e,!1,"false")})),u().initialRenderOptimization||requestAnimationFrame((function(){i.setState({isLoading:!1})})),i}return(0,D.Z)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.allowColumnResizing,n=e.eventDispatcher;t&&this.wrapper&&!i$&&this.wrapper.addEventListener("scroll",this.handleScrollDebounced),t&&(window.addEventListener("resize",this.handleWindowResizeDebounced),this.updateTableContainerWidth(),this.handleTableResizingDebounced());var r=RK.getState(this.props.view.state);r&&this.onStickyState(r),n.on(RK.key,this.onStickyState)}},{key:"componentWillUnmount",value:function(){this.wrapper&&!i$&&this.wrapper.removeEventListener("scroll",this.handleScrollDebounced),this.handleScrollDebounced.cancel(),this.scaleTableDebounced.cancel(),this.handleTableResizingDebounced.cancel(),this.handleAutoSizeDebounced.cancel(),this.handleWindowResizeDebounced.cancel(),this.props.allowColumnResizing&&window.removeEventListener("resize",this.handleWindowResizeDebounced),this.overflowShadowsObserver&&this.overflowShadowsObserver.dispose(),this.props.eventDispatcher.off(RK.key,this.onStickyState)}},{key:"componentDidUpdate",value:function(e){var t,n,r=this.props,o=r.view,i=r.getNode,a=r.isMediaFullscreen,c=r.allowColumnResizing,s=(0,YH.Lk)(o.state).isInDanger,u=(0,na.AG)(o.state.selection);(s&&!u&&(0,pK.yR)()(o.state,o.dispatch),this.props.getEditorFeatureFlags().tableOverflowShadowsOptimization)?(null!==(t=this.wrapper)&&void 0!==t&&t.parentElement&&this.table&&!this.overflowShadowsObserver&&(this.overflowShadowsObserver=new t$(this.updateShadowState,this.table,this.wrapper)),this.overflowShadowsObserver&&this.overflowShadowsObserver.observeShadowSentinels(null===(n=this.state.stickyHeader)||void 0===n?void 0:n.sticky)):this.updateShadows();var l=i();if(l.attrs.__autoSize)this.handleAutoSizeDebounced();else if(c&&this.table&&!a){var d=this.node;if((0,BH.xh)(l,d)||(0,BH.pv)(l,d)){var p=this.props.view;tW(this.table,l),MW(this.props.getEditorFeatureFlags)(p.state)}this.handleTableResizingDebounced()}}},{key:"updateShadows",value:function(){var e,t=null===(e=this.wrapper)||void 0===e?void 0:e.parentElement;if(this.wrapper&&t){var n=t.querySelectorAll(".".concat(WH.CF.TABLE_RIGHT_SHADOW)),r=t.querySelectorAll(".".concat(WH.CF.TABLE_LEFT_SHADOW));ZW(this.props.getEditorFeatureFlags)(this.props.view.state,this.wrapper,this.table,n,r)}}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.view,i=n.getNode,a=n.tableResizingPluginState,c=n.allowControls,s=void 0===c||c,u=n.isHeaderRowEnabled,l=n.ordering,d=n.isHeaderColumnEnabled,p=n.tableActive,f=n.containerWidth,h=this.state,v=h.isLoading,m=h.tableContainerWidth,g=h.showBeforeShadow,y=h.showAfterShadow,b=i(),w=(0,YH.Lk)(r.state),k=w.isInDanger,E=w.hoveredRows,x=this.props.getEditorFeatureFlags(),O=x.stickyHeadersOptimization,S=x.initialRenderOptimization,C=x.tableRenderOptimization,T=x.tableOverflowShadowsOptimization,A=this.table||void 0,_=!!a&&!!a.dragging,P=A?A.querySelector("tr[data-header-row]"):void 0,D=A&&!C?A.offsetHeight:void 0,I=(0,BH.qj)(b),L=Z.createElement("div",{className:WH.CF.ROW_CONTROLS_WRAPPER},Z.createElement(XK,{editorView:r,tableRef:A,tableActive:p,hoveredRows:E,isInDanger:k,isResizing:_,isNumberColumnEnabled:b.attrs.isNumberColumnEnabled,isHeaderRowEnabled:u,ordering:l,isHeaderColumnEnabled:d,hasHeaderRow:I,selection:r.state.selection,tableHeight:D,headerRowHeight:P?P.offsetHeight:void 0,stickyHeader:this.state.stickyHeader,getEditorFeatureFlags:this.props.getEditorFeatureFlags})),M=s&&(!v||S)&&p?-ue.cF:QH.w0,R=T?function(e,t){void 0===t&&(t=e$);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}((function(e){return{visibility:e?"visible":"hidden"}})):a$;return Z.createElement("div",{style:{width:m,marginLeft:this.getMarginLeft(m)},className:rc()(WH.CF.TABLE_CONTAINER,(e={},(0,o.Z)(e,WH.CF.WITH_CONTROLS,s&&p),(0,o.Z)(e,WH.CF.TABLE_STICKY,this.state.stickyHeader&&I),(0,o.Z)(e,WH.CF.HOVERED_DELETE_BUTTON,k),(0,o.Z)(e,WH.CF.TABLE_SELECTED,HH(r.state.selection)),(0,o.Z)(e,"less-padding",f.width<ue.X$),e)),"data-number-column":b.attrs.isNumberColumnEnabled,"data-layout":b.attrs.layout},O&&Z.createElement("div",{className:WH.CF.TABLE_STICKY_SENTINEL_TOP,"data-testid":"sticky-sentinel-top"}),s&&(!v||S)&&L,Z.createElement("div",{style:R(g),className:WH.CF.TABLE_LEFT_SHADOW}),this.state.stickyHeader&&Z.createElement("div",{className:"".concat(WH.CF.TABLE_LEFT_SHADOW," ").concat(WH.CF.TABLE_STICKY_SHADOW),style:{visibility:T?g&&I?"visible":"hidden":void 0,top:"".concat(this.state.stickyHeader.top+this.state.stickyHeader.padding+M+2,"px")}}),Z.createElement("div",{className:rc()(WH.CF.TABLE_NODE_WRAPPER),ref:function(e){if(t.wrapper=e,e){t.props.contentDOM(e);var n=e.querySelector("table");n!==t.table&&(t.table=n,t.createShadowSentinels(t.table))}}}),Z.createElement("div",{style:R(y),className:WH.CF.TABLE_RIGHT_SHADOW}),this.state.stickyHeader&&Z.createElement("div",{style:{position:"absolute",right:"-2px"}},Z.createElement("div",{className:"".concat(WH.CF.TABLE_RIGHT_SHADOW," ").concat(WH.CF.TABLE_STICKY_SHADOW),style:{visibility:T?y&&I?"visible":"hidden":void 0,top:"".concat(this.state.stickyHeader.top+this.state.stickyHeader.padding+M+2,"px")}})),O&&Z.createElement("div",{className:WH.CF.TABLE_STICKY_SENTINEL_BOTTOM,"data-testid":"sticky-sentinel-bottom"}))}}]),n}(Z.Component);(0,o.Z)(c$,"displayName","TableComponent");const s$=c$;function u$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var l$=function(e){return{"data-number-column":e.attrs.isNumberColumnEnabled,"data-layout":e.attrs.layout,"data-autosize":e.attrs.__autoSize,"data-table-local-id":e.attrs.localId||""}},d$=function(e){(0,j.Z)(n,e);var t=u$(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e.node,e.view,e.getPos,e.portalProviderAPI,e.eventDispatcher,e,void 0,void 0,void 0,e.hasIntlContext),(0,o.Z)((0,N.Z)(r),"getNode",(function(){return r.node})),(0,o.Z)((0,N.Z)(r),"hasHoveredRows",!1),r.getPos=e.getPos,r.tableRenderOptimization=e.tableRenderOptimization,r.eventDispatcher=e.eventDispatcher,r}return(0,D.Z)(n,[{key:"getContentDOM",value:function(){var e,t,n,r=on.DOMSerializer.renderSpec(document,(e=this.node,t=this.reactComponentProps,n="",t.allowColumnResizing&&(n=["colgroup",{}].concat((0,s.Z)(eW(e)))),["table",l$(e),n,["tbody",0]]));return r.dom&&(this.table=r.dom),r}},{key:"setDomAttrs",value:function(e){var t=this;if(this.table){var n=l$(e);Object.keys(n).forEach((function(e){t.table.setAttribute(e,n[e])}))}}},{key:"render",value:function(e,t){var n=this;return Z.createElement(jV.f,{plugins:{pluginState:rW.u,tableResizingPluginState:QG.u,widthPlugin:{key:"widthPlugin$",getState:function(e){return e.widthPlugin$}},mediaState:{key:"mediaPlugin$",getState:function(e){return e.mediaPlugin$}}},editorView:e.view,render:function(r){var o=r.tableResizingPluginState,i=r.pluginState,a=r.mediaState,c=e.getPos()===i.tablePos,s=e.getEditorContainerWidth();return Z.createElement(s$,{view:e.view,allowColumnResizing:e.allowColumnResizing,eventDispatcher:e.eventDispatcher,getPos:e.getPos,isMediaFullscreen:null==a?void 0:a.isFullscreen,options:e.options,allowControls:i.pluginConfig.allowControls,isHeaderRowEnabled:i.isHeaderRowEnabled,isHeaderColumnEnabled:i.isHeaderColumnEnabled,tableActive:c,ordering:i.ordering,tableResizingPluginState:o,getNode:n.getNode,containerWidth:s,contentDOM:t,getEditorFeatureFlags:e.getEditorFeatureFlags})}})}},{key:"viewShouldUpdate",value:function(e){if(this.tableRenderOptimization){var t=(0,YH.Lk)(this.view.state).hoveredRows,r=!(null==t||!t.length)!==this.hasHoveredRows;if(e.attrs.isNumberColumnEnabled&&r)return this.hasHoveredRows=!(null==t||!t.length),!0;var o=this.getNode();if((0,i.Z)(o.attrs)!==(0,i.Z)(e.attrs))return!0;var a=Object.keys(o.attrs),c=Object.keys(e.attrs);if(a.length!==c.length)return!0;var s=fi.rU.get(o),u=fi.rU.get(e);return s.width!==u.width||a.some((function(t){return o.attrs[t]!==e.attrs[t]}))}return(0,md.Z)((0,B.Z)(n.prototype),"viewShouldUpdate",this).call(this,e)}},{key:"ignoreMutation",value:function(e){var t=e.type,n=e.target,r=n.nodeName,o=n.firstChild;return("selection"!==t||"DIV"!==(null==r?void 0:r.toUpperCase())||"TABLE"!==(null==o?void 0:o.nodeName.toUpperCase()))&&("selection"!==t||"TABLE"!==(null==r?void 0:r.toUpperCase())||"COLGROUP"!==(null==o?void 0:o.nodeName.toUpperCase())&&"SPAN"!==(null==o?void 0:o.nodeName.toUpperCase()))}},{key:"destroy",value:function(){var e;this.resizeObserver&&this.resizeObserver.disconnect(),null===(e=this.eventDispatcher)||void 0===e||e.emit("TABLE_DELETED",this.node),(0,md.Z)((0,B.Z)(n.prototype),"destroy",this).call(this)}}]),n}(LK),p$=function(e){var t=e.type.schema;if(e.type===t.nodes.table){var n=[],r=t.nodes,o=r.tableCell,i=r.tableHeader;return e.descendants((function(e){return e.type!==o&&e.type!==i||n.push.apply(n,(0,s.Z)((0,W.xH)(e,!1).map((function(e){return e.node})))),!0})),n}return e};var f$=n(76841),h$=function(){function e(t,n,r,o,i){(0,P.Z)(this,e),this.view=n,this.node=t;var a=on.DOMSerializer.renderSpec(document,t.type.spec.toDOM(t)),c=a.dom,s=a.contentDOM;this.getPos=r,this.dom=c,this.contentDOM=s;var u=o().mouseMoveOptimization;u&&i&&(this.contentDOM.id=fm()(),this.mouseMoveOptimization=u,this.observer=i,i.observe(this.contentDOM))}return(0,D.Z)(e,[{key:"updateNodeView",value:function(e){var t=this;if(this.node.type!==e.type)return!1;var n=(0,NV.EE)(this.node),r=(0,NV.EE)(e),o=(0,NV.sG)(this.dom),i=o.colspan,a=o.rowspan;if(i!==(e.attrs.colspan||1)||a!==(e.attrs.rowspan||1))return!1;var c=Object.entries(r).filter((function(e){var t=(0,sr.Z)(e,2),r=t[0],o=t[1];return n[r]!==o})),s=Object.keys(n).filter((function(e){return!r.hasOwnProperty(e)}));return c.length||s.length?(c.forEach((function(e){var n=(0,sr.Z)(e,2),r=n[0],o=n[1];return t.dom.setAttribute(r,o||"")})),s.forEach((function(e){return t.dom.removeAttribute(e)})),!0):!!this.node.sameMarkup(e)}},{key:"update",value:function(e){var t=this.updateNodeView(e);return t&&(this.node=e),t}},{key:"destroy",value:function(){this.mouseMoveOptimization&&this.observer&&this.observer.unobserve(this.contentDOM)}}]),e}(),v$=function(e){return e.type===e.type.schema.nodes.layoutSection||e.type===e.type.schema.nodes.layoutColumn};function m$(e){var t=lr(on.Fragment.from(e),(function(e){return v$(e)?e.content:e})),n=[];return t.forEach((function(e){return n.push(e)})),n}function g$(e,t){return 0===t?m$(e):e}function y$(e,t,n){return t===n.childCount-1?m$(e):e}var b$,w$,k$;function E$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E$(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O$=function(e,t,n,r,o,i,a,c,s,l,d){var f;b$=c,w$=s,k$=l;var h=(0,YH.Ln)(t,x$({pluginConfig:o,insertColumnButtonIndex:void 0,insertRowButtonIndex:void 0,isFullWidthModeEnabled:w$,isHeaderRowEnabled:!!o.allowHeaderRow,isHeaderColumnEnabled:!1},f$.a)),v={},m=null!==(f=window)&&void 0!==f&&f.ResizeObserver?new ResizeObserver((function(e){e.forEach((function(e){e.target.id&&(v[e.target.id]=e.contentRect)}))})):void 0,y={tableCell:function(e,t,n){return new h$(e,t,n,a,m)},tableHeader:function(e,t,n){return new h$(e,t,n,a,m)}},b=[],w=null;return new u.J({state:h,key:rW.u,appendTransaction:function(t,n,r){var o=t.find((function(e){return"cut"===e.getMeta("uiEvent")}));if(o){var i=function(e,t,n,r){var o=t.tr.selection,i=n.tr;if(o instanceof be.X){var a=e.doc.resolve(e.mapping.map(o.$anchorCell.pos)),c=e.doc.resolve(e.mapping.map(o.$headCell.pos)),s=new be.X(a,c);if(i.setSelection(s),i.selection instanceof be.X){var u=(0,zH.T)(s);if(u){var l=BW(i.selection),d=l.verticalCells,f=l.horizontalCells,h=l.totalCells,v=l.totalRowCount,m=l.totalColumnCount;if(null==r||r.attachAnalyticsEvent({action:DV.CUT,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{verticalCells:d,horizontalCells:f,totalCells:h,totalRowCount:v,totalColumnCount:m},eventType:p.Ze.TRACK})(i),i.selection instanceof be.X)if(i.selection.isRowSelection()&&i.selection.isColSelection())i=yG(i);else if(i.selection.isRowSelection()){var g=(0,YH.Lk)(n).pluginConfig.isHeaderRowRequired;i=bq(u,g)(i)}else i.selection.isColSelection()&&(i=Tq(u,XH(t))(i))}}}return i}(o,n,r,d);return SW(i)||i}if(t.find((function(e){return e.docChanged})))return SW(r.tr,(function(t){b.find((function(e){return e===t.tableLocalId}))||(b.push(t.tableLocalId),e({action:p.om.INVALID_DOCUMENT_ENCOUNTERED,actionSubject:p.Wt.EDITOR,eventType:p.Ze.OPERATIONAL,attributes:{nodeType:t.nodeType,reason:"".concat(t.attribute,": ").concat(t.reason),tableLocalId:t.tableLocalId,spanValue:t.spanValue}}))}))},view:function(e){var t=e.domAtPos.bind(e);return w=e,{update:function(e){var n,r,o,i=e.state,a=e.dispatch,c=i.selection,s=(0,YH.Lk)(i);if(s.editorHasFocus){var u=(0,W.Yr)(i.schema.nodes.table,t)(c);u&&(n=u.querySelector("table")||void 0),r=(0,na.AG)(i.selection)}if((s.tableRef!==n&&(o=n,(0,YH.fA)((function(e){var t=o,n=(0,na.AG)(e.selection),r=o&&n?n.node:void 0,i=o&&n?n.pos:void 0,a=(0,Ea.pE)(t,".".concat(WH.CF.TABLE_NODE_WRAPPER))||void 0,c=r?r.attrs.layout:void 0,s=(0,TG.a)(e,(0,EG.tE)(e.selection),WH.fe.COLUMN_CONTROLS_DECORATIONS);return{type:"SET_TABLE_REF",data:{tableRef:t,tableNode:r,tablePos:i,tableWrapperTarget:a,layout:c||"default",isNumberColumnEnabled:(0,BH.kf)(e.selection),isHeaderRowEnabled:(0,BH.R8)(e.selection),isHeaderColumnEnabled:(0,BH.Le)(e.selection),decorationSet:s,resizeHandleRowIndex:void 0,resizeHandleColumnIndex:void 0}}}),(function(e){return e.setMeta("addToHistory",!1)})))(i,a),s.tableNode!==r&&kK(n),s.editorHasFocus&&s.tableRef)&&i.selection.$cursor){var l=(0,W.Tr)(i.schema.nodes.tableHeader)(i.selection);l&&function(e){return function(t,n){var r=t.tr;if((0,ms.hT)(r.selection)&&r.selection.$cursor&&null==r.storedMarks&&r.selection.$from.depth===e.depth+1&&4===e.node.nodeSize&&(0,Ls.RF)(e.node.firstChild,t.schema)){var o=t.schema.marks.strong;return r.setStoredMarks([o.create()]).setMeta("addToHistory",!1),n&&n(r),!0}return!1}}(l)(i,a)}},destroy:function(){m&&m.disconnect()}}},props:{transformPasted:function(e){var t=w?w.state:null;if(!t)return e;var n=t.schema;return!Ef(t)&&function(e){var t=(0,YH.Lk)(e);return t&&t.pluginConfig.isHeaderRowRequired}(t)&&(e=function(e,t){var n=t.nodes,r=n.table,o=n.tableHeader,i=n.tableRow;return dr(e,(function(e){if(e.type===r){var t=e.firstChild;if(t){var n=[];t.forEach((function(e){n.push(o.createChecked(e.attrs,e.content,e.marks))}));var a=i.createChecked(t.attrs,n,t.marks);return e.copy(e.content.replaceChild(0,a))}}return e}))}(e,n)),e=function(e,t){var n=t.nodes,r=n.paragraph,o=n.table,i=n.hardBreak,a=r.createAndFill(),c=null==i?void 0:i.createAndFill(),s=(a?a.nodeSize:0)+(c?c.nodeSize:0);if(2===e.content.childCount&&e.content.firstChild&&e.content.lastChild&&e.content.firstChild.type===o&&e.content.lastChild.type===r&&e.content.lastChild.nodeSize===s){var u=p$(e.content.firstChild);if(u instanceof Array)return new on.Slice(on.Fragment.from(u[0]),e.openStart,e.openEnd)}return e}(e,n),e=function(e,t){return e.openStart&&e.openEnd&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.layoutSection?new on.Slice(pr(e.content,g$),e.openStart-2,e.openEnd-2):(e.openStart&&e.content.firstChild.type===t.nodes.layoutSection&&(e=new on.Slice(pr(e.content,g$),e.openStart-2,e.openEnd)),e.openEnd&&e.content.lastChild.type===t.nodes.layoutSection&&(e=new on.Slice(pr(e.content,y$),e.openStart,e.openEnd-2)),e)}(e,n),e=function(e,t){return e.openStart>1&&e.openEnd>1&&1===e.content.childCount&&e.content.firstChild&&e.content.firstChild.type===t.nodes.expand?new on.Slice(e.content.firstChild.content,e.openStart-1,e.openEnd-1):e}(e,n),e=function(e,t){var n;if(e.openStart>=4&&e.openEnd>=4&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.table){var r,o,i,a,c,s=e;return(null===(r=e.content.firstChild)||void 0===r||null===(o=r.content)||void 0===o||null===(i=o.firstChild)||void 0===i||null===(a=i.content)||void 0===a||null===(c=a.firstChild)||void 0===c?void 0:c.type)===t.nodes.table&&(s=new on.Slice(e.content.firstChild.content.firstChild.content,e.openStart-2,e.openEnd-2)),new on.Slice(pr(s.content,p$),s.openStart-3,s.openEnd-3)}return e.openStart>=4&&e.content.childCount>1&&(null===(n=e.content.firstChild)||void 0===n?void 0:n.type)===t.nodes.table?new on.Slice(e.content,1,e.openEnd):e}(e,n),e=function(e,t){var n=t.nodes.bodiedExtension,r=lr(e.content,(function(t,r,o){if(t.type===n&&!r){var i=e.openStart&&0===o,a=e.openEnd&&o+1===e.content.childCount;if(i||a)return t.content}return t}));return new on.Slice(r,r.firstChild&&r.firstChild.type!==e.content.firstChild.type?e.openStart-1:e.openStart,r.lastChild&&r.lastChild.type!==e.content.lastChild.type?e.openEnd-1:e.openEnd)}(e,n),e=function(e,t){var n=t.nodes,r=n.tableCell,o=n.tableHeader;return dr(e,(function(e){return!e||e.type!==r&&e.type!==o||e.content.childCount?e:e.type.createAndFill(e.attrs)||e}))}(e,n),o.allowColumnResizing||(e=function(e,t){var n=t.nodes,r=n.tableHeader,o=n.tableCell;return dr(e,(function(e){return e.type!==o&&e.type!==r||!e.attrs.colwidth?e:e.type.createChecked(_G(_G({},e.attrs),{},{colwidth:void 0}),e.content,e.marks)}))}(e,n)),o.allowBackgroundColor||(e=function(e,t){var n=t.nodes,r=n.tableCell,o=n.tableHeader;return dr(e,(function(e){if(e.type===r||e.type===o){var t=_G({},e.attrs);return t.background=void 0,e.type.createChecked(t,e.content,e.marks)}return e}))}(e,n)),e},handleClick:function(e,t,n){var r=e.state,o=e.dispatch,i=KV.ux.getState(r);if((0,EG.I$)(i).length&&(0,pK.yR)()(r,o),Ec.Z.chrome&&n.target){var a=n.target.classList;if(a.contains(WH.CF.CONTROLS_BUTTON)||a.contains(WH.CF.CONTEXTUAL_MENU_BUTTON))return!0}return!1},handleScrollToSelection:function(e){var t=e.state.schema.nodes.tableHeader,n=(0,W.Yr)(t,e.domAtPos.bind(e))(e.state.selection),r=(0,Ea.pE)(n,"tr");return!!r&&r.classList.contains("sticky")},handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch,a=function(e,t,n,r){if(HH(e.selection)){var o=(0,na.AG)(e.selection);if(o){var i="string"==typeof t?new on.Slice(on.Fragment.from(e.schema.text(t)),0,0):t,a=e.tr.replace(o.pos,o.pos+o.node.nodeSize,i);a.setSelection(g.TextSelection.create(a.doc,o.pos+i.size+1));var c=FW(e.selection),s=c.totalRowCount,u=c.totalColumnCount;return null==r||r.attachAnalyticsEvent({action:DV.REPLACED,actionSubject:p.Wt.TABLE,attributes:{totalColumnCount:u,totalRowCount:s,inputMethod:n},eventType:p.Ze.TRACK})(a),a}}return e.tr}(o,r,p.Jq.KEYBOARD,d);return!!a.selectionSet&&(i(a),!0)},nodeViews:x$(x$({},y),{},{table:function(e,t,o){return function(e,t,n,r,o,i,a,c){var s=(0,YH.Lk)(t.state).pluginConfig,u=zV(s).allowColumnResizing,l=c().tableRenderOptimization;return new d$({node:e,view:t,allowColumnResizing:u,portalProviderAPI:r,eventDispatcher:o,getPos:n,options:i,tableRenderOptimization:l,getEditorContainerWidth:a,getEditorFeatureFlags:c,hasIntlContext:!0}).init()}(e,t,o,n,r,{isBreakoutEnabled:b$,isFullWidthModeEnabled:w$,wasFullWidthModeEnabled:k$},i,a)}}),handleDOMEvents:{focus:xK,blur:EK,mousedown:CK,mouseover:DK(SK),mouseleave:DK(AK),mouseout:DK(TK),mousemove:DK(_K(a),v),click:DK(OK)},handleTripleClick:PK}})};function S$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S$(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T$=(0,On.H)(RK,(function(e,t){if("UPDATE"===t.name){var n=!1,r=e.map((function(e){var r=e.pos===t.state.pos;return r&&(n=!0),r?t.state:e}));return n||r.push(t.state),r}return"REMOVE"===t.name?e.filter((function(e){return e.pos!==t.pos})):e}),{mapping:function(e,t){return e.docChanged?t.map((function(t){var n=e.mapping.mapResult(t.pos);return n?C$(C$({},t),{},{pos:n.pos}):void 0})).filter((function(e){return void 0!==e})):t}}),A$=T$.createPluginState,_$=T$.createCommand,P$=function(e){return _$({name:"UPDATE",state:e},(function(e){return e.setMeta("addToHistory",!1)}))},D$=function(e){return!e||e instanceof Window?0:e.getBoundingClientRect().top},Z$=n(12436),I$=n.n(Z$),L$=function(e){var t=fr(e,(function(e){return"tableHeader"===e.type.name})).every(Boolean),n=function(e){return fr(e,(function(e){return e.attrs.rowspan||0})).some((function(e){return e>1}))}(e);return t&&!n},M$=function(){function e(t,n,r,i,a){var c=this;(0,P.Z)(this,e),(0,o.Z)(this,"colControlsOffset",0),(0,o.Z)(this,"focused",!1),(0,o.Z)(this,"topPosEditorElement",0),(0,o.Z)(this,"stickyHeadersOptimization",!1),(0,o.Z)(this,"sentinels",{}),(0,o.Z)(this,"listening",!1),(0,o.Z)(this,"headerRowMouseScrollEnd",IP()((function(){c.dom.classList.remove("no-pointer-events")}),400)),(0,o.Z)(this,"headerRowMouseScroll",I$()((function(){c.isSticky&&(c.dom.classList.add("no-pointer-events"),c.headerRowMouseScrollEnd())}),200)),(0,o.Z)(this,"onScroll",(function(){c.tree&&(c.latestDomTop=D$(c.tree.wrapper),c.nextFrame||c.loop())})),(0,o.Z)(this,"loop",(function(){c.nextFrame=window.requestAnimationFrame((function(){if(c.previousDomTop!==c.latestDomTop||c.previousPadding!==c.padding){var e=c.tree;e?(c.paint(e),c.previousPadding=c.padding,c.previousDomTop=c.latestDomTop,c.loop()):c.nextFrame=void 0}else c.nextFrame=void 0}))})),(0,o.Z)(this,"paint",(function(e){var t=e.table,n=e.wrapper;Math.abs(performance.now()-c.lastTimePainted)<10||(c.shouldHeaderStick(e)?c.makeHeaderRowSticky(e):c.makeRowHeaderNotSticky(t),c.dom.scrollLeft=n.scrollLeft,c.lastTimePainted=performance.now())})),(0,o.Z)(this,"onTablePluginState",(function(e){var t=e.tableRef,n=!1,r=c.tree;if(r){e.isHeaderRowEnabled||[c.sentinels.top,c.sentinels.bottom].forEach((function(e){e&&delete e.dataset.isObserved}));var o=t===r.table;o&&!e.isHeaderRowEnabled&&c.tree&&c.makeRowHeaderNotSticky(c.tree.table),o!==c.focused&&(n=!0),c.focused=o;var i=r.wrapper.parentElement.parentElement,a=i&&i.parentElement;o?(c.colControlsOffset=GH.zP,a&&a.getAttribute("data-layout-content")&&(i.style.paddingLeft="11px")):(c.colControlsOffset=0,a&&a.getAttribute("data-layout-content")&&i.style.removeProperty("padding-left")),setTimeout((function(){(!c.stickyHeadersOptimization||n&&c.isSticky)&&c.paint(r),NW(r.table)}),0)}})),(0,o.Z)(this,"updateStickyHeaderWidth",(function(){var e=c.tree;e&&NW(e.table)})),(0,o.Z)(this,"shouldHeaderStick",(function(e){var t=e.wrapper.getBoundingClientRect(),n=c.editorScrollableElement.getBoundingClientRect(),r=c.contentDOM.getBoundingClientRect(),o=!c.dom.previousElementSibling,i=!!c.dom.nextElementSibling,a=o&&i;return!!(t.top<n.top&&t.bottom>n.top&&a)||(r.top,n.top,!1)})),(0,o.Z)(this,"makeHeaderRowSticky",(function(e,t){var n;if(!(c.stickyRowHeight&&c.stickyRowHeight>window.innerHeight/2)){var r=e.table,o=c.dom.parentElement;if(null==o||null===(n=o.firstChild)||void 0===n?void 0:n.isEqualNode(c.dom)){var i=c.getCurrentTableTop(e);t||(t=D$(c.editorScrollableElement));var a=i>0?t:t+i;c.isSticky||(NW(r),c.dom.classList.add("sticky"),r.classList.add(WH.CF.TABLE_STICKY),c.isSticky=!0),c.dom.style.top="".concat(a,"px"),RW(r),c.emitOn(a,c.colControlsOffset)}}})),(0,o.Z)(this,"makeRowHeaderNotSticky",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c.isSticky&&e&&c.dom&&(c.dom.style.removeProperty("width"),c.dom.classList.remove("sticky"),e.classList.remove(WH.CF.TABLE_STICKY),c.isSticky=!1,c.dom.style.top="",e.style.removeProperty("margin-top"),c.emitOff(t))})),(0,o.Z)(this,"getWrapperoffset",(function(){return(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?!c.focused:c.focused)?0:GH.zP})),(0,o.Z)(this,"getWrapperRefTop",(function(e){return Math.round(D$(e))+c.getWrapperoffset()})),(0,o.Z)(this,"getScrolledTableTop",(function(e){return c.getWrapperRefTop(e)-c.topPosEditorElement})),(0,o.Z)(this,"getCurrentTableTop",(function(e){return c.getScrolledTableTop(e.wrapper)+e.table.clientHeight})),(0,o.Z)(this,"padding",0),(0,o.Z)(this,"top",0),(0,o.Z)(this,"emitOn",(function(e,t){e===c.top&&t===c.padding||(c.top=e,c.padding=t,P$({pos:c.getPos(),top:e,sticky:!0,padding:t})(c.view.state,c.view.dispatch,c.view))})),(0,o.Z)(this,"emitOff",(function(e){0===c.top&&0===c.padding||(c.top=0,c.padding=0,e||P$({pos:c.getPos(),sticky:!1,top:c.top,padding:c.padding})(c.view.state,c.view.dispatch,c.view))})),this.view=n,this.node=t,this.getPos=r,this.eventDispatcher=i,this.dom=document.createElement("tr"),this.contentDOM=this.dom;var s=a().stickyHeadersOptimization;this.stickyHeadersOptimization=!!s,this.lastTimePainted=0,this.isHeaderRow=L$(t),this.isSticky=!1,this.isHeaderRow&&(this.dom.setAttribute("data-header-row","true"),this.subscribe())}return(0,D.Z)(e,[{key:"tree",get:function(){return function(e){var t=e.parentElement;if(!t)return null;var n=t.parentElement;if(!n)return null;var r=n.parentElement;return r?{wrapper:r,table:n}:null}(this.dom)}},{key:"subscribe",value:function(){this.editorScrollableElement=(0,Sv.uo)(this.view.dom)||window,this.editorScrollableElement&&(this.stickyHeadersOptimization?this.initObservers():this.editorScrollableElement.addEventListener("scroll",this.onScroll),this.topPosEditorElement=D$(this.editorScrollableElement)),this.eventDispatcher.on("widthPlugin",this.updateStickyHeaderWidth),this.eventDispatcher.on(rW.u.key,this.onTablePluginState),this.listening=!0,this.dom.addEventListener("wheel",this.headerRowMouseScroll.bind(this)),this.dom.addEventListener("touchmove",this.headerRowMouseScroll.bind(this))}},{key:"unsubscribe",value:function(){this.listening&&(this.intersectionObserver&&(this.intersectionObserver.disconnect(),[this.sentinels.top,this.sentinels.bottom].forEach((function(e){e&&delete e.dataset.isObserved}))),this.resizeObserver&&this.resizeObserver.disconnect(),this.editorScrollableElement&&!this.stickyHeadersOptimization&&this.editorScrollableElement.removeEventListener("scroll",this.onScroll),this.eventDispatcher.off("widthPlugin",this.updateStickyHeaderWidth),this.eventDispatcher.off(rW.u.key,this.onTablePluginState),this.listening=!1,this.dom.removeEventListener("wheel",this.headerRowMouseScroll),this.dom.removeEventListener("touchmove",this.headerRowMouseScroll))}},{key:"initObservers",value:function(){var e=this;this.dom&&!this.dom.dataset.isObserved&&(this.dom.dataset.isObserved="true",this.createIntersectionObserver(),this.createResizeObserver(),this.intersectionObserver&&this.resizeObserver&&(this.resizeObserver.observe(this.dom),this.editorScrollableElement&&this.resizeObserver.observe(this.editorScrollableElement),window.requestAnimationFrame((function(){var t,n=null===(t=e.tree)||void 0===t?void 0:t.wrapper.closest(".".concat(WH.CF.NODEVIEW_WRAPPER));n&&(e.sentinels.top=n.getElementsByClassName(WH.CF.TABLE_STICKY_SENTINEL_TOP).item(0),e.sentinels.bottom=n.getElementsByClassName(WH.CF.TABLE_STICKY_SENTINEL_BOTTOM).item(0),[e.sentinels.top,e.sentinels.bottom].forEach((function(t){t&&!t.dataset.isObserved&&(t.dataset.isObserved="true",e.intersectionObserver.observe(t))})))}))))}},{key:"createResizeObserver",value:function(){var e=this;this.resizeObserver=new ResizeObserver((function(t){if(e.tree){var n=e.tree.table;t.forEach((function(t){var r;if(t.target.className===(null===(r=e.editorScrollableElement)||void 0===r?void 0:r.className))e.updateStickyHeaderWidth();else{var o=t.contentRect?t.contentRect.height:t.target.offsetHeight;e.sentinels.bottom&&Math.abs(o-(e.stickyRowHeight||0))>GH.vm&&(e.stickyRowHeight=o,e.sentinels.bottom.style.bottom="".concat(GH.nI+GH.fp+o,"px"),RW(n))}}))}}))}},{key:"createIntersectionObserver",value:function(){var e=this;this.intersectionObserver=new IntersectionObserver((function(t,n){if(e.tree){var r=e.tree.table;t.forEach((function(t){var n,o=t.target;if(0!==(null===(n=t.rootBounds)||void 0===n?void 0:n.height)){if(o.classList.contains(WH.CF.TABLE_STICKY_SENTINEL_TOP)){var i,a,c=((null===(i=t.rootBounds)||void 0===i?void 0:i.bottom)||0)<t.boundingClientRect.bottom;if(t.isIntersecting||c)r&&e.makeRowHeaderNotSticky(r);else e.tree&&e.makeHeaderRowSticky(e.tree,null===(a=t.rootBounds)||void 0===a?void 0:a.top)}if(o.classList.contains(WH.CF.TABLE_STICKY_SENTINEL_BOTTOM)){var s,u=t.boundingClientRect.top-e.dom.offsetHeight<((null===(s=t.rootBounds)||void 0===s?void 0:s.top)||0);if(r&&!t.isIntersecting&&u)e.makeRowHeaderNotSticky(r);else if(t.isIntersecting&&u){var l;e.tree&&e.makeHeaderRowSticky(e.tree,null==t||null===(l=t.rootBounds)||void 0===l?void 0:l.top)}}}}))}}),{root:this.editorScrollableElement})}},{key:"update",value:function(e){if(e===this.node)return!0;var t,n,r,o,i=L$(e);if(this.isHeaderRow!==i)return!1;if(t=this.node,n=e,r=fr(t,(function(e){return e.attrs.rowspan||0})),o=fr(n,(function(e){return e.attrs.rowspan||0})),r.length!==o.length||o.some((function(e,t){return e!==r[t]})))return!1;if(this.node=e,!this.isHeaderRow)return!0;var a=this.dom.parentElement,c=a&&a.parentElement;return NW(c),!0}},{key:"destroy",value:function(){this.unsubscribe(),this.tree&&this.makeRowHeaderNotSticky(this.tree.table,!0),this.emitOff(!0)}},{key:"ignoreMutation",value:function(e){var t="selection"===e.type&&"TR"===e.target.nodeName,n="childList"===e.type&&"TR"===e.target.nodeName&&e.addedNodes.length;return!t&&!n}}]),e}(),R$=function(e,t,n,r,o){var i=n>0?function(e,t,n,r){if(!e.cols[t]||!e.cols[t+1])return e;var o=tG(e,t+1,t,n),i=n-o.amount,a=o.state;return i>0&&(a=nG(a,t,i).state),r&&r.length>1?$W(a,r,t):a}(e,t,n,o):n<0?function(e,t,n,r){if(!e.cols[t])return e;var o=tG(e,t,t+1,-n),i=o.state,a=WW(i)>i.maxSize;if(!i.cols[t+1]&&!a)return i;var c=n+o.amount;return c<0&&(i=nG(i,t+1,c).state),r&&r.length>1?$W(i,r,t):i}(e,t,n,o):e;return function(e,t){var n=t.querySelectorAll("col");e.cols.filter((function(e){return e&&!!e.width})).forEach((function(e,t){n[t]&&(n[t].style.width="".concat(e.width,"px"))})),NW(t)}(i,r),i},N$=function(e,t,n,r,o,i){var a=e.state,c=e.dispatch,s=!e.editable,u=e.domAtPos.bind(e);if(s||null===n||!lW(a.doc.resolve(n)))return!1;t.preventDefault();var l=t.timeStamp,d=a.doc.nodeAt(n),f=a.doc.resolve(n),h=f.node(-1),v=f.start(-1),m=u(v).node;m&&"TABLE"!==m.nodeName&&(m=m.closest("table"));var g=r(),y=iW(v,a,g)||uW(m.getAttribute("data-layout"),g.width,{});h.attrs.isNumberColumnEnabled&&(y-=ue.XV);var b=HW({minWidth:QH.kB,maxSize:y,table:h,tableRef:m,start:v,domAtPos:u});if(function(e){var t=e.resizeState,n=e.table,r=e.start,o=e.event;return function(e,i){if(!HH(e.selection))return!1;var a=cq(e).lastClick,c=Date.now();if(a&&c-a.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(o,a)){var s=qW(t);return lq(null,(function(e){return dG(s,n,r)(e)}))(e,i),!0}return lq({x:o.clientX,y:o.clientY,time:c})(e,i),!1}}({resizeState:b,table:h,start:v,event:t})(a,c))return x(t),!0;var w,k,E=function(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t+1).node.offsetWidth,c=r||0;if(o)for(var s=0;s<(r||0);s++)o[s]&&(a-=o[s],c--);return a/c}(e,n,d.attrs);function x(t){window.removeEventListener("mouseup",x),window.removeEventListener("mousemove",O);var n=t.clientX,r=e.state,o=e.dispatch,a=cq(r),c=a.dragging,s=a.resizeHandlePos;if(null===s)return uq()(r,o);if(lW(r.doc.resolve(s))){var u=r.doc.resolve(s),d=u.start(-1),f=u.node(-1);if(c&&n===c.startX)return uq()(r,o);var v=r.tr;if(c){var g=c.startX;if(f.eq(h)){var y=fi.rU.get(f),w=y.colCount(u.pos-d)+(u.nodeAfter?u.nodeAfter.attrs.colspan:1)-1,k=(0,zH.T)(r.selection),E=k?NK(k):[],S=E.indexOf(w)>-1||E.indexOf(w+1)>-1,C=R$(b,w,n-g,m,S?E:void 0);if(v=dG(C,f,d)(v),w===y.width-1){var T=t.timeStamp;null==i||i.attachAnalyticsEvent({action:DV.ATTEMPTED_TABLE_WIDTH_CHANGE,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{type:"table-border",position:"right",duration:T-l,delta:Math.abs(n-c.startX)},eventType:p.Ze.UI})(v)}}return uq(v)(r,o)}}}function O(t){var n=t.clientX,r=t.which,i=e.state,a=cq(i),c=a.dragging,s=a.resizeHandlePos;if(!r||!c||null===s||!lW(i.doc.resolve(s)))return x(t);var u=i.doc.resolve(s),l=u.node(-1),d=fi.rU.get(l).colCount(u.pos-u.start(-1))+u.nodeAfter.attrs.colspan-1;R$(b,d,n-c.startX,m),MW(o)(i),kK(m)}return(w={startX:t.clientX,startWidth:E},iq({type:"SET_DRAGGING",data:{dragging:w}},(function(e){return k||e})))(a,c),window.addEventListener("mouseup",x),window.addEventListener("mousemove",O),!0};function j$(e,t,n,r,i){var a=t.lastColumnResizable,c=void 0===a||a;return new u.J({key:QG.u,state:aq(e,{lastColumnResizable:c,resizeHandlePos:null,dragging:null,lastClick:null}),props:{attributes:function(e){var t,n=cq(e);return{class:rc()(WH.CF.RESIZING_PLUGIN,(t={},(0,o.Z)(t,WH.CF.RESIZE_CURSOR,null!==n.resizeHandlePos),(0,o.Z)(t,WH.CF.IS_RESIZING,!!n.dragging),t))}},handleDOMEvents:{mousedown:function(e,t){var o=e.state,a=cq(o).resizeHandlePos||function(e,t,n){var r=t.target;if(!(0,Ea.tn)(r,WH.CF.RESIZE_HANDLE_DECORATION))return null;var o=(0,Ea.pE)(r,"td, th");return o?e.posAtDOM(o,0)-1:null}(e,t),c=cq(o).dragging;if(null!==a&&!c&&N$(e,t,a,n,r,i)){var s=e.state,u=e.dispatch;return function(e){return iq({type:"SET_RESIZE_HANDLE_POSITION",data:{resizeHandlePos:e}})}(a)(s,u)}return!1}}}})}var F$=n(11650),B$=n(19009),z$=function(e,t){var n=rB(e.schema);return VG((function(e){var t=e.node;return n[t.type.spec.tableRole]}))(e,t)};const U$=(0,Ze.vU)({insertColumn:{id:"fabric.editor.insertColumn",defaultMessage:"Insert column right",description:"Inserts a new column to the right of selected column."},removeColumns:{id:"fabric.editor.removeColumns",defaultMessage:"Delete {0, plural, one {column} other {columns}}",description:"Deletes a table column."},insertRow:{id:"fabric.editor.insertRow",defaultMessage:"Insert row below",description:"Inserts a new row below the selected row."},removeRows:{id:"fabric.editor.removeRows",defaultMessage:"Delete {0, plural, one {row} other {rows}}",description:"Deletes a table row."},cellOptions:{id:"fabric.editor.cellOptions",defaultMessage:"Cell options",description:"Opens a menu with options for the current table cell."},confirmDeleteLinkedModalOKButton:{id:"fabric.editor.tables.confirmDeleteLinkedModalOKButton",defaultMessage:"Delete",description:"Action button label for confirm modal when deleting a table linked to an extension."},confirmDeleteLinkedModalMessage:{id:"fabric.editor.tables.confirmDeleteLinkedModalMessage",defaultMessage:"Deleting {nodeName} will break anything connected to it.",description:"Message for confirm modal when deleting a table linked to an extension."},confirmDeleteLinkedModalMessagePrefix:{id:"fabric.editor.extension.confirmDeleteLinkedModalMessagePrefix",defaultMessage:"Deleting",description:"prefix for confirmation dialog text"},confirmModalCheckboxLabel:{id:"fabric.editor.floatingToolbar.confirmModalCheckboxLabel",defaultMessage:"Also delete connected elements",description:"checkbox label text"},deleteElementTitle:{id:"fabric.editor.extension.deleteElementTitle",defaultMessage:"Delete element",description:"Title text for confirm modal when deleting an extension linked to a data consumer."},unnamedSource:{id:"fabric.editor.extension.sourceNoTitledName",defaultMessage:"this element",description:"The current element without preset name been selected"}});var V$=[];NV.R_.forEach((function(e,t){var n=e.toLowerCase().replace(" ","-"),r=(0,lt.Z)(dt,n);V$.push({value:t,label:e,border:NV.KS,message:r})}));const H$=V$;var W$,G$,q$=n(24264),K$=n(10007),$$=(0,U.iv)(G$||(G$=(0,z.Z)(["\n  ."," {\n    border-radius: ","px;\n    background: ",";\n    box-shadow: ",";\n    display: block;\n    position: absolute;\n    top: 0;\n    left: ","px;\n    padding: 8px;\n\n    > div {\n      padding: 0;\n    }\n  }\n\n  ."," {\n    display: flex;\n\n    &::before {\n      content: '';\n      display: block;\n      border: 1px solid ",";\n      border-radius: ","px;\n      width: 20px;\n      height: 20px;\n    }\n\n    &::after {\n      content: '›';\n      margin-left: 4px;\n      line-height: 20px;\n      color: ",";\n    }\n  }\n"])),WH.CF.CONTEXTUAL_SUBMENU,(0,K$.E0)(),"var(--ds-surface-overlay, white)","var(--ds-shadow-overlay, ".concat("0 4px 8px -2px ".concat(q$.VG,", 0 0 1px ").concat(q$.VG),")"),GH.vn,WH.CF.CONTEXTUAL_MENU_ICON,NV.KS,(0,K$.E0)(),"var(--ds-icon, ".concat(q$.WA,")"));function J$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J$(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X$(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var Q$=(0,Ze.vU)({cellBackground:{id:"fabric.editor.cellBackground",defaultMessage:"Cell background",description:"Change the background color of a table cell."},mergeCells:{id:"fabric.editor.mergeCells",defaultMessage:"Merge cells",description:"Merge tables cells together."},splitCell:{id:"fabric.editor.splitCell",defaultMessage:"Split cell",description:"Split a merged table cell."},clearCells:{id:"fabric.editor.clearCells",defaultMessage:"Clear {0, plural, one {cell} other {cells}}",description:"Clears the contents of the selected cells (this does not delete the cells themselves)."},sortColumnASC:{id:"fabric.editor.sortColumnASC",defaultMessage:"Sort column A → Z",description:"Sort column in ascending order"},sortColumnDESC:{id:"fabric.editor.sortColumnDESC",defaultMessage:"Sort column Z → A",description:"Sort column in descending order"},canNotSortTable:{id:"fabric.editor.canNotSortTable",defaultMessage:"⚠️ You can't sort a table with merged cells",description:"Split your cells to enable this feature"},distributeColumns:{id:"fabric.editor.distributeColumns",defaultMessage:"Distribute columns",description:"Distribute widths between selected columns"}}),eJ=function(e){(0,j.Z)(n,e);var t=X$(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{isSubmenuOpen:!1}),(0,o.Z)((0,N.Z)(e),"handleSubMenuRef",(function(t){var n=(0,Ea.pE)(e.props.editorView.dom,".fabric-editor-popup-scroll-parent");if(n&&t){var r=n.getBoundingClientRect(),o=t.getBoundingClientRect();o.left+o.width>r.width&&(t.style.left="-".concat(o.width,"px"))}})),(0,o.Z)((0,N.Z)(e),"createItems",(function(){var t,n=e.props,r=n.allowMergeCells,o=n.allowColumnSorting,i=n.allowBackgroundColor,a=n.editorView.state,c=n.isOpen,s=n.selectionRect,u=n.intl.formatMessage,l=n.editorView,d=n.getEditorFeatureFlags,p=[],f=e.state.isSubmenuOpen,h=d().useSomewhatSemanticTextColorNames,v=(0,YH.Lk)(l.state),m=v.targetCellPosition,g=v.pluginConfig.allowDistributeColumns;if(i){var y,b=c&&m?a.doc.nodeAt(m):null,w=(null==b||null===(y=b.attrs)||void 0===y?void 0:y.background)||"#ffffff";p.push({content:u(Q$.cellBackground),value:{name:"background"},elemAfter:(0,U.tZ)("div",{className:Eh.SUBMENU},(0,U.tZ)("div",{css:(t=w,(0,U.iv)(W$||(W$=(0,z.Z)(["\n  &::before {\n    background: ",";\n  }\n"])),t)),className:WH.CF.CONTEXTUAL_MENU_ICON}),f&&(0,U.tZ)("div",{className:WH.CF.CONTEXTUAL_SUBMENU,ref:e.handleSubMenuRef},(0,U.tZ)(Sh.Z,{cols:7,onClick:e.setColor,selectedColor:w,paletteOptions:{palette:H$,paletteColorTooltipMessages:Tt.Am,showSomewhatSemanticTooltips:h}})))})}p.push({content:u(U$.insertColumn),value:{name:"insert_column"},elemAfter:(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(Re.e2))}),p.push({content:u(U$.insertRow),value:{name:"insert_row"},elemAfter:(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(Re.dl))});var k=s.top,E=s.bottom,x=s.right-s.left,O=E-k;if(p.push({content:u(U$.removeColumns,{0:x}),value:{name:"delete_column"}}),p.push({content:u(U$.removeRows,{0:O}),value:{name:"delete_row"}}),r&&(p.push({content:u(Q$.mergeCells),value:{name:"merge"},isDisabled:!fq(a.tr)}),p.push({content:u(Q$.splitCell),value:{name:"split"},isDisabled:!z$(a)})),g){var S,C=YW(s,a,l.domAtPos.bind(l),e.props.getEditorContainerWidth),T=null!==(S=null==C?void 0:C.changed)&&void 0!==S&&S;p.push({content:u(Q$.distributeColumns),value:{name:"distribute_columns"},isDisabled:!T})}if(o){var A=(0,B$.k)(a.tr).length>0?{tooltipDescription:u(Q$.canNotSortTable),isDisabled:!0}:{};p.push(Y$({content:u(Q$.sortColumnASC),value:{name:"sort_column_asc"}},A)),p.push(Y$({content:u(Q$.sortColumnDESC),value:{name:"sort_column_desc"}},A))}return p.push({content:u(Q$.clearCells,{0:Math.max(x,O)}),value:{name:"clear"},elemAfter:(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(Re.as))}),p.length?[{items:p}]:null})),(0,o.Z)((0,N.Z)(e),"onMenuItemActivated",(function(t){var n=t.item,r=e.props,o=r.editorView,i=r.selectionRect,a=r.editorAnalyticsAPI,c=r.getEditorContainerWidth,s=o.state,u=o.dispatch,l=(0,YH.Lk)(s).targetCellPosition;switch(n.value.name){case"sort_column_desc":Wq(a)(p.Jq.CONTEXT_MENU,i.left,FG.DESC)(s,u),e.toggleOpen();break;case"sort_column_asc":Wq(a)(p.Jq.CONTEXT_MENU,i.left,FG.ASC)(s,u),e.toggleOpen();break;case"merge":Zq(a)(p.Jq.CONTEXT_MENU)(s,u),e.toggleOpen();break;case"split":Iq(a)(p.Jq.CONTEXT_MENU)(s,u),e.toggleOpen();break;case"distribute_columns":var d=YW(i,s,o.domAtPos.bind(o),c);d&&(Gq(a)(p.Jq.CONTEXT_MENU,d)(s,u),e.toggleOpen());break;case"clear":Dq(a)(p.Jq.CONTEXT_MENU,l)(s,u),e.toggleOpen();break;case"insert_column":Nq(c,a)(p.Jq.CONTEXT_MENU,i.right)(s,u,o),e.toggleOpen();break;case"insert_row":Rq(a)(p.Jq.CONTEXT_MENU,{index:i.bottom,moveCursorToInsertedRow:!0})(s,u),e.toggleOpen();break;case"delete_column":Fq(a)(p.Jq.CONTEXT_MENU,i)(s,u),e.toggleOpen();break;case"delete_row":var f=(0,YH.Lk)(s).pluginConfig.isHeaderRowRequired;jq(a)(p.Jq.CONTEXT_MENU,i,!!f)(s,u),e.toggleOpen()}})),(0,o.Z)((0,N.Z)(e),"toggleOpen",(function(){var t=e.props,n=t.isOpen,r=t.editorView,o=r.state,i=r.dispatch;XG()(o,i),n||e.setState({isSubmenuOpen:!1})})),(0,o.Z)((0,N.Z)(e),"handleOpenChange",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;XG()(n,r),e.setState({isSubmenuOpen:!1})})),(0,o.Z)((0,N.Z)(e),"handleItemMouseEnter",(function(t){var n=t.item,r=e.props,o=r.editorView,i=o.state,a=o.dispatch,c=r.selectionRect;"background"===n.value.name&&(e.state.isSubmenuOpen||e.setState({isSubmenuOpen:!0})),"delete_column"===n.value.name&&(0,pK.jF)(NK(c),!0)(i,a),"delete_row"===n.value.name&&(0,pK.Bj)(jK(c),!0)(i,a),["sort_column_asc","sort_column_desc"].indexOf(n.value.name)>-1&&0!==(0,B$.k)(i.tr).length&&(0,pK.Kp)()(i,a)})),(0,o.Z)((0,N.Z)(e),"handleItemMouseLeave",(function(t){var n=t.item,r=e.props.editorView,o=r.state,i=r.dispatch;"background"===n.value.name&&e.closeSubmenu(),["sort_column_asc","sort_column_desc","delete_column","delete_row"].indexOf(n.value.name)>-1&&(0,pK.yR)()(o,i)})),(0,o.Z)((0,N.Z)(e),"closeSubmenu",(function(){e.state.isSubmenuOpen&&e.setState({isSubmenuOpen:!1})})),(0,o.Z)((0,N.Z)(e),"setColor",(function(t){var n=e.props,r=n.editorView,o=n.editorAnalyticsAPI,i=(0,YH.Lk)(r.state).targetCellPosition,a=r.state,c=r.dispatch;Lq(o)(p.Jq.CONTEXT_MENU,t,i)(a,c),e.toggleOpen()})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.mountPoint,r=e.offset,o=e.boundariesElement,i=this.createItems();return i?(0,U.tZ)("div",{"data-testid":"table-cell-contextual-menu",onMouseLeave:this.closeSubmenu},(0,U.tZ)(ev,{mountTo:n,arrowKeyNavigationProviderOptions:{type:Ot.i.MENU,disableArrowKeyNavigation:!0},items:i,isOpen:t,onOpenChange:this.handleOpenChange,onItemActivated:this.onMenuItemActivated,onMouseEnter:this.handleItemMouseEnter,onMouseLeave:this.handleItemMouseLeave,fitHeight:188,fitWidth:GH.vn,boundariesElement:o,offset:r})):null}}]),n}(Z.Component);(0,o.Z)(eJ,"defaultProps",{boundariesElement:document.body});const tJ=(0,H.ZP)(eJ);var nJ,rJ,oJ=(0,Ze.vU)({tableOptions:{id:"fabric.editor.tableOptions",defaultMessage:"Table options",description:"Opens a menu with additional table options"},headerRow:{id:"fabric.editor.headerRow",defaultMessage:"Header row",description:"Marks the first table row as a header row"},headerColumn:{id:"fabric.editor.headerColumn",defaultMessage:"Header column",description:"Marks the first table column as a header row"},numberedColumn:{id:"fabric.editor.numberedColumn",defaultMessage:"Numbered column",description:"Adds an auto-numbering column to your table"},collapseTable:{id:"fabric.editor.collapseTable",defaultMessage:"Collapse table",description:"Wraps table in an expand"}}),iJ=function(e){var t=e.selection;return(0,vi.u)(t,"cell")?(0,zH.T)(t):(0,na.vy)(t.$from)},aJ=function(e,t,n,r){return function(o){return function(i,a){var c=(0,na.AG)(i.selection),s=(0,YH.Lk)(i),u=QG.u.getState(i);if(c&&s.editorHasFocus){var l,d=i.schema.nodes.table,p=function(e,t,n,r){var o=n.formatMessage,i=[{id:"editor.table.headerRow",title:o(oJ.headerRow),onClick:Uq(r),selected:t.isHeaderRowEnabled,hidden:!e.allowHeaderRow},{id:"editor.table.headerColumn",title:o(oJ.headerColumn),onClick:Vq(r),selected:t.isHeaderColumnEnabled,hidden:!e.allowHeaderColumn},{id:"editor.table.numberedColumn",title:o(oJ.numberedColumn),onClick:Hq(r),selected:t.isNumberColumnEnabled,hidden:!e.allowNumberColumn},{id:"editor.table.collapseTable",title:o(oJ.collapseTable),onClick:qq(r),selected:!!t.isTableCollapsed,disabled:!t.canCollapseTable,hidden:!e.allowCollapse}];return{id:"editor.table.tableOptions",type:"dropdown",testId:"table_options",title:o(oJ.tableOptions),hidden:i.every((function(e){return e.hidden})),options:i}}(o,s,a,t),f=(n()||{}).tableCellOptionsInFloatingToolbar,h=sJ(o,i,r(),a,e,t,f),v=uJ(i,p,a,e,t,f);if((0,FS.f6)(i,c.node)){var m=a.formatMessage(U$.unnamedSource);l=function(){return{title:a.formatMessage(U$.deleteElementTitle),okButtonLabel:a.formatMessage(U$.confirmDeleteLinkedModalOKButton),message:a.formatMessage(U$.confirmDeleteLinkedModalMessage,{nodeName:(0,FS.wk)(i,c.node)||m}),messagePrefix:a.formatMessage(U$.confirmDeleteLinkedModalMessagePrefix),isReferentialityDialog:!0,getChildrenInfo:function(){return(0,FS.CJ)(i,c.node)},checkboxLabel:a.formatMessage(U$.confirmModalCheckboxLabel),onConfirm:function(){return lJ(arguments.length>0&&void 0!==arguments[0]&&arguments[0],c.node)}}}}return{title:"Table floating controls",getDomRef:function(e){var t,n=e.domAtPos.bind(e),r=(0,W.Yr)(d,n)(i.selection);if(r){var o=r.querySelector("table")||void 0;o&&(t=(0,Ea.pE)(o,".".concat(WH.CF.TABLE_NODE_WRAPPER))||void 0)}return t},nodeType:d,offset:[0,18],zIndex:ue.Zr+1,items:[p,cJ(p.hidden)].concat(h,v,[{type:"extensions-placeholder",separator:"end"},{type:"copy-button",items:[{state:i,formatMessage:a.formatMessage,nodeType:d,onMouseEnter:(0,pK.iZ)(!1,!0),onMouseLeave:(0,pK.yR)(),onFocus:(0,pK.iZ)(!1,!0),onBlur:(0,pK.yR)()},{type:"separator"}]},{id:"editor.table.delete",type:"button",appearance:"danger",icon:Ya.Z,onClick:zq(t),disabled:!!u&&!!u.dragging,onMouseEnter:(0,pK.iZ)(!0),onFocus:(0,pK.iZ)(!0),onBlur:(0,pK.yR)(),onMouseLeave:(0,pK.yR)(),title:a.formatMessage(F$.ZP.remove),focusEditoronEnter:!0,confirmDialog:l}]),scrollable:!0}}}}},cJ=function(e){return{type:"separator",hidden:e}},sJ=function(e,t,n,r,o,i,a){var c=r.formatMessage;if(e.allowCellOptionsInFloatingToolbar||a){var s=iJ(t);if(s){var u=function(e,t,n,r,o,i){var a,c,s=r.formatMessage,u=n.top,l=n.bottom,d=n.right-n.left,f=l-u,h=(0,YH.Lk)(e),v=[{id:"editor.table.insertColumn",title:s(U$.insertColumn),onClick:function(e,t,n){var r=iJ(e),a=null==r?void 0:r.right;return a&&Nq(o,i)(p.Jq.FLOATING_TB,a)(e,t,n),!0},selected:!1,disabled:!1,elemAfter:(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(Re.e2))},{id:"editor.table.insertRow",title:s(U$.insertRow),onClick:function(e,t){var n=iJ(e),r=null==n?void 0:n.bottom;return r&&Rq(i)(p.Jq.FLOATING_TB,{index:r,moveCursorToInsertedRow:!0})(e,t),!0},selected:!1,disabled:!1,elemAfter:(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(Re.dl))},{id:"editor.table.removeColumns",title:s(U$.removeColumns,{0:d}),onClick:function(e,t,n){var r=iJ(e);return r&&Fq(i)(p.Jq.FLOATING_TB,r)(e,t,n),!0},onFocus:pJ,onBlur:(0,pK.yR)(),onMouseOver:pJ,onMouseLeave:(0,pK.yR)(),selected:!1,disabled:!1},{id:"editor.table.removeRows",title:s(U$.removeRows,{0:f}),onClick:function(e,t){var n=iJ(e);return n&&jq(i)(p.Jq.FLOATING_TB,n,!1)(e,t),!0},onFocus:dJ,onBlur:(0,pK.yR)(),onMouseOver:dJ,onMouseLeave:(0,pK.yR)(),selected:!1,disabled:!1},{id:"editor.table.mergeCells",title:s(Q$.mergeCells),onClick:Zq(i)(p.Jq.FLOATING_TB),selected:!1,disabled:!fq(e.tr)},{id:"editor.table.splitCell",title:s(Q$.splitCell),onClick:Iq(i)(p.Jq.FLOATING_TB),selected:!1,disabled:!z$(e)}];if(null!=h&&null!==(a=h.pluginConfig)&&void 0!==a&&a.allowDistributeColumns){var m,g=t?YW(n,e,t.domAtPos.bind(t),o):void 0,y=null!==(m=null==g?void 0:g.changed)&&void 0!==m&&m;v.push({id:"editor.table.distributeColumns",title:s(Q$.distributeColumns),onClick:function(e,t){return!!g&&(Gq(i)(p.Jq.FLOATING_TB,g)(e,t),!0)},selected:!1,disabled:!y})}if(null!=h&&null!==(c=h.pluginConfig)&&void 0!==c&&c.allowColumnSorting){var b=(0,B$.k)(e.tr).length>0,w=b?s(Q$.canNotSortTable):void 0;v.push({id:"editor.table.sortColumnAsc",title:s(Q$.sortColumnASC),onMouseOver:function(e,t){return 0!==(0,B$.k)(e.tr).length&&((0,pK.Kp)()(e,t),!0)},onMouseOut:function(e,t){return(0,pK.yR)()(e,t),!0},onClick:function(e,t){return Wq(i)(p.Jq.FLOATING_TB,n.left,FG.ASC)(e,t),!0},selected:!1,disabled:b,tooltip:w}),v.push({id:"editor.table.sortColumnDesc",title:s(Q$.sortColumnDESC),onMouseOver:function(e,t){return 0!==(0,B$.k)(e.tr).length&&((0,pK.Kp)()(e,t),!0)},onMouseOut:function(e,t){return(0,pK.yR)()(e,t),!0},onClick:function(e,t){return Wq(i)(p.Jq.FLOATING_TB,n.left,FG.DESC)(e,t),!0},selected:!1,disabled:b,tooltip:w})}return v.push({id:"editor.table.clearCells",title:s(Q$.clearCells,{0:Math.max(d,f)}),onClick:function(e,t){var n=(0,YH.Lk)(e).targetCellPosition;return Dq(i)(p.Jq.FLOATING_TB,n)(e,t),!0},selected:!1,disabled:!1,elemAfter:(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(Re.as))}),{id:"editor.table.cellOptions",testId:"cell_options",type:"dropdown",title:s(U$.cellOptions),options:v,dropdownWidth:230,showSelected:!1}}(t,n,s,{formatMessage:c},o,i);return[u,cJ(u.hidden)]}}return[]},uJ=function(e,t,n,r,o,i){var a,c=n.formatMessage,s=(0,YH.Lk)(e),u=s.targetCellPosition;if(!s.pluginConfig.allowBackgroundColor||!i)return[];var l=u?e.doc.nodeAt(u):void 0,d=(null==l||null===(a=l.attrs)||void 0===a?void 0:a.background)||"#ffffff",f=H$.find((function(e){return e.value===d}))||{label:"Custom",value:d,border:ut.B};return[{id:"editor.table.colorPicker",title:c(Q$.cellBackground),type:"select",selectType:"color",defaultValue:f,options:H$,onChange:function(e){return Lq(o)(p.Jq.FLOATING_TB,e.value,u)}},cJ(t.hidden)]},lJ=function(e,t,n){return function(r,o){return!!t&&(e?((i=t,(0,YH.fA)({type:"UPDATE_STATE",data:{element:void 0}},(function(e,t){return i?(0,FS.ku)(t,i):e})))(r,o),!0):zq(n)(r,o));var i}},dJ=function(e,t){var n=iJ(e);return!!n&&((0,pK.Bj)(jK(n),!0)(e,t),!0)},pJ=function(e,t){var n=iJ(e);return!!n&&((0,pK.jF)(NK(n),!0)(e,t),!0)},fJ=n(95281),hJ=function(e){return(0,U.iv)(rJ||(rJ=(0,z.Z)(["\n  && button {\n    background: ",";\n  }\n  && button:hover {\n    background: ",";\n  }\n  && button:active {\n    background: ",";\n  }\n"])),(0,fJ.Z)({light:"var(--ds-background-selected, ".concat(q$.TG,")"),dark:"var(--ds-background-selected, ".concat(q$.xU,")")})(e),(0,fJ.Z)({light:"var(--ds-background-selected-hovered, ".concat(q$.TG,")"),dark:"var(--ds-background-selected-hovered, ".concat(q$.xU,")")})(e),(0,fJ.Z)({light:"var(--ds-background-selected-pressed, ".concat(q$.TG,")"),dark:"var(--ds-background-selected-pressed, ".concat(q$.xU,")")})(e))};function vJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var mJ=function(e){(0,j.Z)(n,e);var t=vJ(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"handleClick",(function(){var t=e.props.editorView,n=t.state,r=t.dispatch;e.props.isContextualMenuOpen||XG()(n,r)})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e,t=this.props,n=t.mountPoint,r=t.scrollableElement,o=t.editorView,i=t.targetCellPosition,a=t.isContextualMenuOpen,c=t.intl.formatMessage,s=t.dispatchAnalyticsEvent,u=o.domAtPos.bind(o);try{e=(0,W.TM)(i,u)}catch(e){if(console.warn(e),s)s({action:p.om.ERRORED,actionSubject:p.Wt.CONTENT_COMPONENT,eventType:p.Ze.OPERATIONAL,attributes:{component:p.nI.FLOATING_CONTEXTUAL_BUTTON,selection:o.state.selection.toJSON(),position:i,docSize:o.state.doc.nodeSize,error:e instanceof Error?e.message:String(e)},nonPrivacySafeAttributes:{errorStack:e instanceof Error?e.stack:void 0}})}if(!(e&&e instanceof HTMLElement))return null;var l=(0,Ea.pE)(e,".".concat(WH.CF.TABLE_NODE_WRAPPER)),d=c(U$.cellOptions),f=(0,U.tZ)("div",{css:function(e){return[(t={theme:e},(0,U.iv)(nJ||(nJ=(0,z.Z)(["\n  > div {\n    // Sits behind button to provide surface-color background\n    background: ",";\n    border-radius: ","px;\n    display: flex;\n    height: ","px;\n    flex-direction: column;\n  }\n  && button {\n    background: ",";\n    flex-direction: column;\n    margin: 2px;\n    outline: 2px solid ",";\n    border-radius: 1px;\n    padding: 0;\n    height: calc(100% - 4px);\n    display: flex;\n  }\n  && button:hover {\n    background: ",";\n  }\n  && button:active {\n    background: ",";\n  }\n  && button > span {\n    margin: 0px -4px;\n  }\n  && span {\n    pointer-events: none;\n  }\n"])),"var(--ds-surface, ".concat(q$.IR,")"),(0,K$.E0)(),GH.YP+2,(0,fJ.Z)({light:"var(--ds-background-neutral, none)",dark:"var(--ds-background-neutral, none)"})(t),"var(--ds-border, ".concat(q$.N0,")"),(0,fJ.Z)({light:"var(--ds-background-neutral-hovered, ".concat(q$.kd,")"),dark:"var(--ds-background-neutral-hovered, ".concat(q$.mn,")")})(t),(0,fJ.Z)({light:"var(--ds-background-neutral-pressed, rgba(179, 212, 255, 0.6))",dark:"var(--ds-background-neutral-pressed, ".concat(q$.tE,")")})(t))),a&&hJ({theme:e})];var t}},(0,U.tZ)(sR.Z,{className:WH.CF.CONTEXTUAL_MENU_BUTTON,selected:a,title:d,onClick:this.handleClick,iconBefore:(0,U.tZ)(Se.Z,{label:""}),"aria-label":d})),h=e.parentElement&&e.parentElement.className.indexOf("sticky")>-1;if(this.props.stickyHeader&&h){var v=e.getBoundingClientRect();return(0,U.tZ)("div",{style:{position:"fixed",top:this.props.stickyHeader.top+this.props.stickyHeader.padding+3+3,zIndex:ue.nM,left:v.left+e.clientWidth-20-3}},f)}return(0,U.tZ)(G.Z,{alignX:"right",alignY:"start",target:e,mountTo:l||n,boundariesElement:e,scrollableElement:r,offset:[3,-3],forcePlacement:!0,allowOutOfBounds:!0,zIndex:ue.aE},f)}},{key:"shouldComponentUpdate",value:function(e){return this.props.tableNode!==e.tableNode||this.props.targetCellPosition!==e.targetCellPosition||this.props.layout!==e.layout||this.props.isContextualMenuOpen!==e.isContextualMenuOpen||this.props.isNumberColumnEnabled!==e.isNumberColumnEnabled||this.props.stickyHeader!==e.stickyHeader}}]),n}(Z.Component);(0,o.Z)(mJ,"displayName","FloatingContextualButton");var gJ=(0,H.ZP)(mJ);function yJ(e){return(0,U.tZ)(IK,{component:p.Wt.FLOATING_CONTEXTUAL_BUTTON,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,fallbackComponent:null},(0,U.tZ)(gJ,e))}var bJ=function(e,t){var n=rW.u.getState(t).tableRef,r=-GH.YP;if(n&&e){var o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),a=o.top-i.top;a<200&&(r-=a+2)}return[GH.YP/2,r]},wJ=function(e){var t=e.mountPoint,n=e.boundariesElement,r=e.scrollableElement,o=e.editorView,i=e.isOpen,a=e.pluginConfig,c=e.editorAnalyticsAPI,s=e.getEditorContainerWidth,u=e.getEditorFeatureFlags,l=(0,YH.Lk)(o.state).targetCellPosition;if(!i||!l||o.state.doc.nodeSize<=l)return null;var d=o.state.selection,p=(0,vi.u)(d,"cell")?(0,zH.T)(d):(0,na.vy)(d.$from);if(!p)return null;var f=o.domAtPos.bind(o),h=(0,W.TM)(l,f);return h?(0,U.tZ)(G.Z,{alignX:"right",alignY:"top",target:h,mountTo:t,boundariesElement:n,scrollableElement:r,fitHeight:188,fitWidth:GH.vn,zIndex:ue.nM,forcePlacement:!0,offset:[-7,0],stick:!0},(0,U.tZ)("div",{css:$$},(0,U.tZ)(tJ,{editorView:o,offset:bJ(h,o.state),isOpen:i,targetCellPosition:l,allowColumnSorting:a&&a.allowColumnSorting,allowMergeCells:a.allowMergeCells,allowBackgroundColor:a.allowBackgroundColor,selectionRect:p,boundariesElement:n,editorAnalyticsAPI:c,getEditorContainerWidth:s,getEditorFeatureFlags:u}))):null};wJ.displayName="FloatingContextualMenu";const kJ=wJ;const EJ=(0,H.ZP)((function(e){var t=e.style,n=e.onClick,r=e.onMouseEnter,o=e.onMouseLeave,i=e.removeLabel,a=e.intl.formatMessage;return Z.createElement("div",{className:WH.CF.CONTROLS_DELETE_BUTTON_WRAP,style:t,onMouseEnter:r,onMouseLeave:o},Z.createElement("button",{type:"button","aria-label":a(i,{0:1}),className:WH.CF.CONTROLS_DELETE_BUTTON,onMouseDown:n,onMouseMove:function(e){return e.preventDefault()}},Z.createElement("svg",{className:WH.CF.CONTROLS_BUTTON_ICON},Z.createElement("path",{d:"M12.242 10.828L9.414 8l2.828-2.829a.999.999 0 1 0-1.414-1.414L8 6.587l-2.829-2.83a1 1 0 0 0-1.414 1.414l2.83 2.83-2.83 2.827a1 1 0 0 0 1.414 1.414l2.83-2.828 2.827 2.828a.999.999 0 1 0 1.414-1.414",fill:"currentColor",fillRule:"evenodd"}))))}));function xJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function OJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xJ(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var SJ=GH._K+GH.pi+GH.SV;function CJ(e){var t=e.left,n=e.top,r=e.selectionType,o=e.tableWrapper;switch(r){case"column":return function(e,t){return{alignX:"left",alignY:"start",offset:[e,SJ],shouldRenderPopup:function(){if(t){var n=t.getBoundingClientRect().width+t.scrollLeft-GH.pi,r=t.scrollLeft;return n-e>0&&e>r}return!0}}}(t,o);case"row":return function(e){return{alignX:"left",alignY:"start",forcePlacement:!0,offset:[0,-e],onPositionCalculated:function(e){return OJ(OJ({},e),{},{left:-SJ})}}}(n);default:return{}}}function TJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function AJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TJ(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var PJ=function(e){(0,j.Z)(n,e);var t=_J(n);function n(e){var r;return(0,P.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,N.Z)(r),"wrapper",null),(0,o.Z)((0,N.Z)(r),"updateWrapper",(function(){var e=(0,Ea.pE)(r.props.tableRef,".".concat(WH.CF.TABLE_NODE_WRAPPER));e?(r.wrapper=e,r.wrapper.addEventListener("scroll",r.onWrapperScrolled),r.setState({scrollLeft:e.scrollLeft})):(r.wrapper&&(r.wrapper.removeEventListener("scroll",r.onWrapperScrolled),r.setState({scrollLeft:0})),r.wrapper=null)})),(0,o.Z)((0,N.Z)(r),"onWrapperScrolled",(function(e){var t=e.target;r.setState({scrollLeft:t.scrollLeft})})),(0,o.Z)((0,N.Z)(r),"handleMouseEnter",(function(){var e=r.props.editorView,t=e.state,n=e.dispatch;switch(r.state.selectionType){case"row":return(0,pK.Bj)(r.state.indexes,!0)(t,n,r.props.editorView);case"column":return(0,pK.jF)(r.state.indexes,!0)(t,n,r.props.editorView)}return!1})),(0,o.Z)((0,N.Z)(r),"handleMouseLeave",(function(){var e=r.props.editorView,t=e.state,n=e.dispatch;return(0,pK.yR)()(t,n)})),(0,o.Z)((0,N.Z)(r),"handleClick",(function(e){e.preventDefault();var t=r.props.editorAnalyticsAPI,n=r.props.editorView,o=n.state,i=n.dispatch,a=(0,YH.Lk)(o).pluginConfig.isHeaderRowRequired,c=(0,zH.T)(o.selection);if(c)switch(r.state.selectionType){case"column":return void Fq(t)(p.Jq.BUTTON,c)(o,i);case"row":return void jq(t)(p.Jq.BUTTON,c,!!a)(o,i)}var s=r.props.editorView;o=s.state,i=s.dispatch,(0,pK.yR)()(o,i)})),r.state={selectionType:void 0,top:0,left:0,indexes:[],scrollLeft:0},r}return(0,D.Z)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.selectionType!==t.selectionType||this.state.left!==t.left||this.state.top!==t.top||this.state.scrollLeft!==t.scrollLeft}},{key:"componentDidMount",value:function(){this.updateWrapper()}},{key:"componentDidUpdate",value:function(){this.updateWrapper()}},{key:"componentWillUnmount",value:function(){this.wrapper&&this.wrapper.removeEventListener("scroll",this.onWrapperScrolled)}},{key:"render",value:function(){var e=this.props,t=e.mountPoint,n=e.boundariesElement,r=e.tableRef,o=this.state.selectionType;if(!o||!r)return null;var i=(0,Ea.pE)(r,".".concat(WH.CF.TABLE_CONTAINER)),a=Z.createElement(EJ,{removeLabel:"column"===o?U$.removeColumns:U$.removeRows,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),c=CJ({left:this.state.left,top:this.state.top,selectionType:this.state.selectionType,tableWrapper:this.wrapper}),s=i||t;if("sticky"===this.state.position&&s){var u=r.querySelector("tr.sticky");if(u){var l=u.getBoundingClientRect(),d=c.onPositionCalculated||function(e){return e},p=d({left:this.state.left,top:this.state.top});return(0,Fi.createPortal)(Z.createElement("div",{style:{position:"fixed",top:p.top,zIndex:GH.zf,left:l.left+(p.left||0)-("column"===this.state.selectionType?this.state.scrollLeft:0)-(this.props.isNumberColumnEnabled?ue.XV:0)}},a),s)}}return Z.createElement(G.Z,(0,Lt.Z)({target:r,mountTo:s,boundariesElement:i||n,scrollableElement:this.wrapper||void 0,forcePlacement:!0,allowOutOfBounds:!0},c),a)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=function(e){if(!HH(e)&&e instanceof be.X){if(e.isRowSelection())return"row";if(e.isColSelection())return"column"}}(e.selection),r=e.stickyHeaders&&e.stickyHeaders.sticky,o=(0,zH.T)(e.selection),i=o&&0===o.top&&1===o.bottom,a=r&&i,c=e.stickyHeaders?e.stickyHeaders.top+e.stickyHeaders.padding:0;if(n)switch(n){case"column":var s=function(e){var t=e.state.selection,n=[],r=(0,na.AG)(t);if(r){var o=fi.rU.get(r.node),i=e.domAtPos.bind(e);n=Array.from({length:o.width});for(var a=0;a<o.width;a++){var c=(0,IW.y)(a)(t)[0];if(c){var s=(0,W.TM)(c.pos,i),u=s.getBoundingClientRect();n[a]=(u?u.width:s.offsetWidth)+1,a+=c.node.attrs.colspan-1}}}return n}(e.editorView),u=function(e,t){var n=(0,zH.T)(t);if(!n)return null;for(var r=0,o=0,i=0;i<n.left;i++){var a=e[i];a&&(o+=a-1)}for(var c=[],s=n.left;s<n.right;s++){var u=e[s];u&&(r+=u,c.push(s))}return{left:o+r/2-GH.pi/2,indexes:c}}(s,e.editorView.state.selection);return u?AJ(AJ({},u),{},{top:r?e.stickyHeaders.top:0,position:r?"sticky":void 0,selectionType:n}):null;case"row":if(e.tableRef){var l=$H(e.tableRef),d=r?-l[0]:0,p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=(0,zH.T)(t);if(!r)return null;for(var o=0,i=n,a=0;a<r.top;a++){var c=e[a];c&&(i+=c-1)}for(var s=[],u=r.top;u<r.bottom;u++){var l=e[u];l&&(o+=l-1,s.push(u))}return{top:i+o/2-GH.pi/2,indexes:s}}(l,e.editorView.state.selection,a?c:d);if(p)return AJ(AJ({},p),{},{position:a?"sticky":void 0,left:0,selectionType:n})}return null}return t.selectionType!==n?{selectionType:void 0,top:0,left:0,indexes:[]}:null}}]),n}(Z.Component);(0,o.Z)(PJ,"displayName","FloatingDeleteButton");const DJ=PJ;function ZJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZJ(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var LJ=-GH.z_/2,MJ=LJ+ue.XV,RJ=GH._K+GH.A1,NJ=-(GH._K+GH.A1+GH.z_),jJ=GH.z_/2;const FJ=function(e,t,n,r){switch(e){case"column":return function(e,t,n){var r={alignX:"end",alignY:"top",offset:[LJ,RJ],onPositionCalculated:function(r){var o=r.left;if(!o)return r;if(0===e)return IJ(IJ({},r),{},{left:n?MJ:LJ});var i=t?t.getBoundingClientRect():null;return IJ(IJ({},r),{},{left:i&&o>i.width?i.width:o})}};return 0===e?IJ(IJ({},r),{},{alignX:"left",alignY:"top"}):r}(t,r,n);case"row":return function(e){var t={alignX:"left",alignY:"bottom",offset:[0,jJ]};return 0===e&&(t=IJ(IJ({},t),{},{alignY:"top",offset:[0,-jJ]})),IJ(IJ({},t),{},{onPositionCalculated:function(e){return IJ(IJ({},e),{},{left:NJ})}})}(t);default:return{}}};var BJ=function(e,t){var n=t?e.getBoundingClientRect().top-4*QH.MZ-3:GH._K+3;return e.offsetHeight+n},zJ=function(e){var t=e.parentElement,n=e.offsetWidth,r=t.offsetWidth,o=t.scrollLeft,i=n-r,a=function(e){var t=(0,Ea.pE)(e,".".concat(WH.CF.TABLE_CONTAINER));return t&&t.querySelector(".".concat(WH.CF.NUMBERED_COLUMN))?GH._K+ue.XV-1:GH._K}(e);return Math.min(n+a,r+a-Math.max(o-i,0))+4},UJ=function(e){return"row"===e?U$.insertRow:U$.insertColumn};const VJ=(0,H.ZP)((function(e){var t=e.onMouseDown,n=e.tableRef,r=e.type,o=e.intl.formatMessage,i=e.hasStickyHeaders,a=Z.createElement(Vi.Z,{content:Z.createElement(Re.wn,{description:o(UJ(r)),keymap:"row"===r?Re.dl:Re.e2}),position:"top"},Z.createElement(Z.Fragment,null,Z.createElement("div",{className:WH.CF.CONTROLS_INSERT_BUTTON_INNER},Z.createElement("button",{type:"button",className:WH.CF.CONTROLS_INSERT_BUTTON,onMouseDown:t},Z.createElement("svg",{className:WH.CF.CONTROLS_BUTTON_ICON},Z.createElement("path",{d:"M10 4a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 1 1 0-2h4V5a1 1 0 0 1 1-1z",fill:"currentColor",fillRule:"evenodd"})))),Z.createElement("div",{className:WH.CF.CONTROLS_INSERT_LINE,style:"row"===r?{width:zJ(n)}:{height:BJ(n,i)}}))),c="column"===r?WH.CF.CONTROLS_FLOATING_BUTTON_COLUMN:WH.CF.CONTROLS_FLOATING_BUTTON_ROW;return Z.createElement("div",{className:c},Z.createElement("div",{className:"".concat(WH.CF.CONTROLS_INSERT_BUTTON_WRAP," ").concat(WH.CF.CONTROLS_INSERT_ROW)},a))}));function HJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var WJ=function(e){(0,j.Z)(n,e);var t=HJ(n);function n(e){var r;return(0,P.Z)(this,n),(r=t.call(this,e)).insertColumn=r.insertColumn.bind((0,N.Z)(r)),r.insertRow=r.insertRow.bind((0,N.Z)(r)),r}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.tableNode,n=e.editorView,r=e.insertColumnButtonIndex,o=e.insertRowButtonIndex,i=e.tableRef,a=e.mountPoint,c=e.boundariesElement,s=e.isHeaderColumnEnabled,u=e.isHeaderRowEnabled,l=e.dispatchAnalyticsEvent,d=void 0!==r?"column":void 0!==o?"row":null;if(!t||!i||!d)return null;if("column"===d&&s&&0===r||"row"===d&&u&&0===o)return null;var f=n.state.tr;if(f.selection instanceof be.X&&(f.selection.isColSelection()||f.selection.isRowSelection()))return null;var h=this.getCellPosition(d);if(!h)return null;var v=(0,na.AG)(n.state.selection);if(!v)return null;var m,g=n.domAtPos.bind(n),y=h+v.start+1;try{m=(0,W.TM)(y,g)}catch(e){if(console.warn(e),l)l({action:p.om.ERRORED,actionSubject:p.Wt.CONTENT_COMPONENT,eventType:p.Ze.OPERATIONAL,attributes:{component:p.nI.FLOATING_INSERT_BUTTON,selection:n.state.selection.toJSON(),position:y,docSize:n.state.doc.nodeSize,error:null==e?void 0:e.toString()},nonPrivacySafeAttributes:{errorStack:e.stack||void 0}})}if(!(m&&m instanceof HTMLElement))return null;var b="row"===d?(0,Ea.pE)(m,"tr"):(0,Ea.pE)(m,"td, th");if(!b)return null;var w=(0,Ea.pE)(b,".".concat(WH.CF.TABLE_CONTAINER)),k=(0,Ea.pE)(b,".".concat(WH.CF.TABLE_NODE_WRAPPER)),E="column"===d?r:o,x=(0,BH.kf)(n.state.selection);return Z.createElement(G.Z,(0,Lt.Z)({target:b,mountTo:w||a,boundariesElement:w||c,scrollableElement:k,forcePlacement:!0,allowOutOfBounds:!0},FJ(d,E,x,w)),Z.createElement(VJ,{type:d,tableRef:i,onMouseDown:"column"===d?this.insertColumn:this.insertRow,hasStickyHeaders:this.props.hasStickyHeaders||!1}))}},{key:"getCellPosition",value:function(e){var t=this.props,n=t.tableNode,r=t.insertColumnButtonIndex,o=t.insertRowButtonIndex,i=fi.rU.get(n);if("column"===e){var a=0===r?0:r-1;return a>i.width-1?null:i.positionAt(0,a,n)}var c=0===o?0:o-1;return c>i.height-1?null:i.positionAt(c,0,n)}},{key:"insertRow",value:function(e){var t=this.props,n=t.editorView,r=t.insertRowButtonIndex,o=t.editorAnalyticsAPI;if(void 0!==r){e.preventDefault();var i=n.state,a=n.dispatch;Rq(o)(p.Jq.BUTTON,{index:r,moveCursorToInsertedRow:!0})(i,a)}}},{key:"insertColumn",value:function(e){var t=this.props,n=t.editorView,r=t.insertColumnButtonIndex,o=t.editorAnalyticsAPI,i=t.getEditorContainerWidth;if(void 0!==r){e.preventDefault();var a=n.state,c=n.dispatch;Nq(i,o)(p.Jq.BUTTON,r)(a,c,n)}}}]),n}(Z.Component);(0,o.Z)(WJ,"displayName","FloatingInsertButton");const GJ=(0,H.ZP)(WJ);function qJ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}function KJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KJ(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var JJ=function(e){return $J($J({},e),{},{top:e.top?e.top+12:void 0})},YJ=function(e){(0,j.Z)(n,e);var t=qJ(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"stickyButtonRef",(0,Z.createRef)()),(0,o.Z)((0,N.Z)(e),"resizeObserver",new ResizeObserver((function(t){t.forEach((function(t){var n=e.stickyButtonRef.current,r=e.props.targetRef;if(n&&r){var o=r.getBoundingClientRect();n.style.left="".concat(o.right,"px")}}))}))),(0,o.Z)((0,N.Z)(e),"handleClick",(function(){var t,n=e.props.editorView,r=n.state,o=n.dispatch;(t=e.props.editorAnalyticsAPI,zW((function(e){var t=FW(e.selection),n=t.table,r=t.totalRowCount,o=t.totalColumnCount;if(n){var i=n.node.attrs.layout;return{action:DV.CHANGED_BREAKOUT_MODE,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{newBreakoutMode:Pq[qG(i)],previousBreakoutMode:Pq[i],totalRowCount:r,totalColumnCount:o},eventType:p.Ze.TRACK}}}))(t)(YG))(r,o)})),e}return(0,D.Z)(n,[{key:"getTitle",value:function(){var e=this.props,t=e.intl.formatMessage,n=e.layout;return t(function(e){switch(e){case"default":return F$.ZP.layoutWide;case"wide":return F$.ZP.layoutFullWidth;default:return F$.ZP.layoutFixedWidth}}(void 0===n?"default":n))}},{key:"toolbarButton",value:function(){var e=this.props,t=e.isResizing,n=e.layout,r=void 0===n?"default":n,i=this.getTitle();return Z.createElement("div",{className:rc()(WH.CF.LAYOUT_BUTTON,(0,o.Z)({},WH.CF.IS_RESIZING,t))},Z.createElement(sR.Z,{title:i,onClick:this.handleClick,iconBefore:"full-width"===r?Z.createElement(q.Z,{label:i}):Z.createElement(K.Z,{label:i})}))}},{key:"getStickyTargetRef",value:function(e){var t=this.props.editorView,n=t.domAtPos.bind(t),r=(0,W.TM)(e,n);return r.dataset.headerRow&&r.classList.contains("sticky")?r:null}},{key:"renderSticky",value:function(e,t,n){var r=this.getTitle();if(!(t instanceof HTMLElement&&n instanceof HTMLElement))return null;var o=t.getBoundingClientRect(),i=n.getBoundingClientRect();return Z.createElement("div",{ref:this.stickyButtonRef,"aria-label":r,style:{position:"fixed",top:o.top+22,left:i.right}},e)}},{key:"renderPopup",value:function(e){var t=this.props,n=t.mountPoint,r=t.boundariesElement,o=t.scrollableElement,i=t.targetRef;if(!i)return null;var a=this.getTitle();return Z.createElement(G.Z,{ariaLabel:a,target:i,alignY:"start",alignX:"end",onPositionCalculated:JJ,stick:!0,mountTo:n,boundariesElement:r,scrollableElement:o,forcePlacement:!0},e)}},{key:"render",value:function(){var e=this.props.stickyHeader,t=this.toolbarButton(),n=e&&e.sticky&&e.pos?this.getStickyTargetRef(e.pos):null;return n&&this.props.targetRef?this.renderSticky(t,n,this.props.targetRef):this.renderPopup(t)}},{key:"componentDidMount",value:function(){var e=this.props.editorView.dom.closest(".fabric-editor-popup-scroll-parent");e instanceof HTMLElement&&this.resizeObserver.observe(e)}},{key:"componentWillUnmount",value:function(){var e=this.props.editorView.dom.closest(".fabric-editor-popup-scroll-parent");e instanceof HTMLElement&&this.resizeObserver.unobserve(e)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.targetRef,r=t.layout,o=t.isResizing;return t.stickyHeader!==e.stickyHeader||n!==e.targetRef||r!==e.layout||o!==e.isResizing}}]),n}(Z.Component);(0,o.Z)(YJ,"displayName","LayoutButton");const XJ=(0,H.ZP)(YJ);var QJ=function(){return{}};const eY=function(e){var t={current:null},n=function(){var e,n;return t.current?t.current.state.widthPlugin$:{width:(null===(e=document)||void 0===e||null===(n=e.body)||void 0===n?void 0:n.offsetWidth)||500}};return{name:"table",nodes:function(){return[{name:"table",node:NV.Kz},{name:"tableHeader",node:NV.Rt},{name:"tableRow",node:NV.RL},{name:"tableCell",node:NV.K5}]},pmPlugins:function(){var r=[{name:"table",plugin:function(t){var r=t.dispatchAnalyticsEvent,o=t.dispatch,i=t.portalProviderAPI,a=t.eventDispatcher,c=e||{},s=c.fullWidthEnabled,u=c.wasFullWidthEnabled,l=c.breakoutEnabled,d=c.tableOptions,p=c.editorAnalyticsAPI,f=c.getEditorFeatureFlags;return O$(r,o,i,a,zV(d),n,f||QJ,l,s,u,p)}},{name:"tablePMColResizing",plugin:function(t){var r=t.dispatch,o=e||{},i=o.fullWidthEnabled,a=o.tableOptions,c=o.editorAnalyticsAPI,s=o.getEditorFeatureFlags;return zV(a).allowColumnResizing?j$(r,{lastColumnResizable:!i},n,s||QJ,c):void 0}},{name:"tableEditing",plugin:function(){return(0,KV.rx)()}},{name:"tableKeymap",plugin:function(){return Jq(n,null==e?void 0:e.editorAnalyticsAPI)}},{name:"tableSelectionKeymap",plugin:function(){return dK(null==e?void 0:e.editorSelectionAPI)}},{name:"tableEditing",plugin:function(){return PV({reportFixedTable:function(t){t.state;var n,r=t.tr,o=t.reason;null==e||null===(n=e.editorAnalyticsAPI)||void 0===n||n.attachAnalyticsEvent({action:DV.FIXED,actionSubject:p.Wt.TABLE,actionSubjectId:null,attributes:{reason:o},eventType:p.Ze.TRACK})(r)}})}},{name:"tableStickyHeaders",plugin:function(t){var n=t.dispatch,r=t.eventDispatcher;return e&&e.tableOptions.stickyHeaders?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]},r=arguments.length>3?arguments[3]:void 0;return new u.J({state:A$(e,n),key:RK,props:{nodeViews:{tableRow:function(e,n,o){return new M$(e,n,o,t,r)}}}})}(n,r,(function(){return[]}),(null==e?void 0:e.getEditorFeatureFlags)||QJ):void 0}},{name:"tableLocalId",plugin:function(e){var t=e.dispatch;return WV(t)}},{name:"tableGetEditorViewReferencePlugin",plugin:function(){return new u.J({view:function(e){return t.current=e,{destroy:function(){t.current=null}}}})}}];return Ec.Z.safari&&r.push({name:"tableSafariDelayedDomSelectionSyncingWorkaround",plugin:function(){return e=null,new u.J({key:GV,props:{handleDOMEvents:{mousedown:function(t){return e&&e(),setTimeout((function(){t.mouseDown&&(e=t.mouseDown.done.bind(t.mouseDown),t.mouseDown=null)})),!1}}}});var e}}),Ec.Z.safari&&r.push({name:"tableSafariDeleteCompositionTextIssueWorkaround",plugin:function(){return new u.J({key:qV,state:{init:function(){return{renderSpan:!1,decorations:tn.EH.empty}},apply:function(e,t){var n,r=e.getMeta(qV);if(void 0===r)return t;if(r){var o=e.selection.$from,i=o.before(o.depth),a=tn.p.widget(i,(function(){return document.createElement("span")}));n=tn.EH.create(e.doc,[a])}else n=tn.EH.empty;return{renderSpan:r,decorations:n}}},props:{decorations:function(e){return qV.getState(e).decorations},handleDOMEvents:{beforeinput:function(e,t){if("deleteCompositionText"!==(null==t?void 0:t.inputType))return!1;var n=window.getSelection();if(!n||n.rangeCount<=0||"Range"!==n.type)return!1;var r=n.getRangeAt(0),o=r.startContainer,i=r.endContainer,a=r.endOffset,c=r.startOffset;if(o.nodeType===Node.TEXT_NODE&&o===i&&0===c&&a===o.length){var s=e.state.tr;s.setMeta(qV,!0),e.dispatch(s)}return!1},input:function(e,t){if("deleteCompositionText"!==(null==t?void 0:t.inputType))return!1;if(!window.getSelection())return!1;var n=e.state.tr;return n.setMeta(qV,!1),e.dispatch(n),!1}}}})}}),r},contentComponent:function(t){var r=t.editorView,o=t.popupsMountPoint,i=t.popupsBoundariesElement,a=t.popupsScrollableElement,c=t.dispatchAnalyticsEvent;return Z.createElement(IK,{component:p.Wt.TABLES_PLUGIN,dispatchAnalyticsEvent:c,fallbackComponent:null},Z.createElement(jV.f,{plugins:{tablePluginState:rW.u,tableResizingPluginState:QG.u,stickyHeadersState:RK},render:function(t){var s=t.tableResizingPluginState,u=t.stickyHeadersState,l=t.tablePluginState,d=r.state,p=null==s?void 0:s.dragging,f=l,h=f.tableNode,v=f.tablePos,m=f.targetCellPosition,g=f.isContextualMenuOpen,y=f.layout,b=f.tableRef,w=f.pluginConfig,k=f.insertColumnButtonIndex,E=f.insertRowButtonIndex,x=f.isHeaderColumnEnabled,O=f.isHeaderRowEnabled,S=f.tableWrapperTarget,C=w.allowControls,T=u?MK(u,v):void 0;return Z.createElement(Z.Fragment,null,m&&b&&!p&&e&&e.allowContextualMenu&&Z.createElement(yJ,{isNumberColumnEnabled:h&&h.attrs.isNumberColumnEnabled,editorView:r,tableNode:h,mountPoint:o,targetCellPosition:m,scrollableElement:a,dispatchAnalyticsEvent:c,isContextualMenuOpen:g,layout:y,stickyHeader:T}),C&&Z.createElement(GJ,{tableNode:h,tableRef:b,insertColumnButtonIndex:k,insertRowButtonIndex:E,isHeaderColumnEnabled:x,isHeaderRowEnabled:O,editorView:r,mountPoint:o,boundariesElement:i,scrollableElement:a,hasStickyHeaders:T&&T.sticky,dispatchAnalyticsEvent:c,editorAnalyticsAPI:null==e?void 0:e.editorAnalyticsAPI,getEditorContainerWidth:n}),Z.createElement(kJ,{editorView:r,mountPoint:o,boundariesElement:i,targetCellPosition:m,isOpen:Boolean(g),pluginConfig:w,editorAnalyticsAPI:null==e?void 0:e.editorAnalyticsAPI,getEditorContainerWidth:n,getEditorFeatureFlags:(null==e?void 0:e.getEditorFeatureFlags)||QJ}),C&&Z.createElement(DJ,{editorView:r,selection:r.state.selection,tableRef:b,mountPoint:o,boundariesElement:i,scrollableElement:a,stickyHeaders:T,isNumberColumnEnabled:h&&h.attrs.isNumberColumnEnabled,editorAnalyticsAPI:null==e?void 0:e.editorAnalyticsAPI}),(0,BH.pB)(d)&&e&&e.breakoutEnabled&&Z.createElement(XJ,{editorView:r,mountPoint:o,boundariesElement:i,scrollableElement:a,targetRef:S,layout:y,isResizing:!!s&&!!s.dragging,stickyHeader:T,editorAnalyticsAPI:null==e?void 0:e.editorAnalyticsAPI}))}}))},pluginsOptions:{createNodeHandler:function(e){var t=e.nodeName,n=e.schema;return"table"!==t?null:RV({schema:n})},quickInsert:function(t){var n=t.formatMessage;return[{id:"table",title:n(Jo.S.table),description:n(Jo.S.tableDescription),keywords:["cell","table"],priority:600,keyshortcut:(0,Re.Md)(Re.fV),icon:function(){return Z.createElement(FV,null)},action:function(t,n){var r,o=t(RV({schema:n.schema}));return null==e||null===(r=e.editorAnalyticsAPI)||void 0===r||r.attachAnalyticsEvent({action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.TABLE,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.TRACK})(o),o}}]},floatingToolbar:aJ(n,null==e?void 0:e.editorAnalyticsAPI,(null==e?void 0:e.getEditorFeatureFlags)||QJ,(function(){return t.current}))(zV(null==e?void 0:e.tableOptions))}}},tY=eY;var nY=n(53270),rY=n(89896),oY=n(90276),iY=n.n(oY),aY=function(e,t){e.block.ruler.before("paragraph","table",iY(),{alt:["paragraph","reference"]})},cY=n(78864);const sY=new on.Schema({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:()=>["p",0]},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM:()=>["blockquote",0]},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:()=>["div",["hr"]]},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:e=>["h"+e.attrs.level,0]},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>({params:e.getAttribute("data-params")||""})}],toDOM:e=>["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs:e=>({order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ol",{start:1==e.attrs.order?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>({tight:e.hasAttribute("data-tight")})}],toDOM:e=>["ul",{"data-tight":e.attrs.tight?"true":null},0]},list_item:{content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:()=>["li",0]},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:e=>({src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")})}],toDOM:e=>["img",e.attrs]},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:()=>["br"]}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:e=>"italic"==e&&null}],toDOM:()=>["em"]},strong:{parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM:()=>["strong"]},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:e=>({href:e.getAttribute("href"),title:e.getAttribute("title")})}],toDOM:e=>["a",e.attrs]},code:{parseDOM:[{tag:"code"}],toDOM:()=>["code"]}}});class uY{constructor(e,t){this.schema=e,this.tokenHandlers=t,this.stack=[{type:e.topNodeType,attrs:null,content:[],marks:on.Mark.none}]}top(){return this.stack[this.stack.length-1]}push(e){this.stack.length&&this.top().content.push(e)}addText(e){if(!e)return;let t,n=this.top(),r=n.content,o=r[r.length-1],i=this.schema.text(e,n.marks);o&&(t=function(e,t){if(e.isText&&t.isText&&on.Mark.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}(o,i))?r[r.length-1]=t:r.push(i)}openMark(e){let t=this.top();t.marks=e.addToSet(t.marks)}closeMark(e){let t=this.top();t.marks=e.removeFromSet(t.marks)}parseTokens(e){for(let t=0;t<e.length;t++){let n=e[t],r=this.tokenHandlers[n.type];if(!r)throw new Error("Token type `"+n.type+"` not supported by Markdown parser");r(this,n,e,t)}}addNode(e,t,n){let r=this.top(),o=e.createAndFill(t,n,r?r.marks:[]);return o?(this.push(o),o):null}openNode(e,t){this.stack.push({type:e,attrs:t,content:[],marks:on.Mark.none})}closeNode(){let e=this.stack.pop();return this.addNode(e.type,e.attrs,e.content)}}function lY(e,t,n,r){return e.getAttrs?e.getAttrs(t,n,r):e.attrs instanceof Function?e.attrs(t):e.attrs}function dY(e,t){return e.noCloseToken||"code_inline"==t||"code_block"==t||"fence"==t}function pY(e){return"\n"==e[e.length-1]?e.slice(0,e.length-1):e}function fY(){}class hY{constructor(e,t,n){this.schema=e,this.tokenizer=t,this.tokens=n,this.tokenHandlers=function(e,t){let n=Object.create(null);for(let r in t){let o=t[r];if(o.block){let t=e.nodeType(o.block);dY(o,r)?n[r]=(e,n,r,i)=>{e.openNode(t,lY(o,n,r,i)),e.addText(pY(n.content)),e.closeNode()}:(n[r+"_open"]=(e,n,r,i)=>e.openNode(t,lY(o,n,r,i)),n[r+"_close"]=e=>e.closeNode())}else if(o.node){let t=e.nodeType(o.node);n[r]=(e,n,r,i)=>e.addNode(t,lY(o,n,r,i))}else if(o.mark){let t=e.marks[o.mark];dY(o,r)?n[r]=(e,n,r,i)=>{e.openMark(t.create(lY(o,n,r,i))),e.addText(pY(n.content)),e.closeMark(t)}:(n[r+"_open"]=(e,n,r,i)=>e.openMark(t.create(lY(o,n,r,i))),n[r+"_close"]=e=>e.closeMark(t))}else{if(!o.ignore)throw new RangeError("Unrecognized parsing spec "+JSON.stringify(o));dY(o,r)?n[r]=fY:(n[r+"_open"]=fY,n[r+"_close"]=fY)}}return n.text=(e,t)=>e.addText(t.content),n.inline=(e,t)=>e.parseTokens(t.children),n.softbreak=n.softbreak||(e=>e.addText("\n")),n}(e,n)}parse(e,t={}){let n,r=new uY(this.schema,this.tokenHandlers);r.parseTokens(this.tokenizer.parse(e,t));do{n=r.closeNode()}while(r.stack.length);return n||this.schema.topNodeType.createAndFill()}}function vY(e,t){for(;++t<e.length;)if("list_item_open"!=e[t].type)return e[t].hidden;return!1}new hY(sY,cY("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(e,t,n)=>({tight:vY(t,n)})},ordered_list:{block:"ordered_list",getAttrs:(e,t,n)=>({order:+e.attrGet("start")||1,tight:vY(t,n)})},heading:{block:"heading",getAttrs:e=>({level:+e.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:e=>({params:e.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:e=>({src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});new class{constructor(e,t,n={}){this.nodes=e,this.marks=t,this.options=n}serialize(e,t={}){t=Object.assign(this.options,t);let n=new gY(this.nodes,this.marks,t);return n.renderContent(e),n.out}}({blockquote(e,t){e.wrapBlock("> ",null,t,(()=>e.renderContent(t)))},code_block(e,t){const n=t.textContent.match(/`{3,}/gm),r=n?n.sort().slice(-1)[0]+"`":"```";e.write(r+(t.attrs.params||"")+"\n"),e.text(t.textContent,!1),e.ensureNewLine(),e.write(r),e.closeBlock(t)},heading(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t),e.closeBlock(t)},horizontal_rule(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list(e,t){e.renderList(t,"  ",(()=>(t.attrs.bullet||"*")+" "))},ordered_list(e,t){let n=t.attrs.order||1,r=String(n+t.childCount-1).length,o=e.repeat(" ",r+2);e.renderList(t,o,(t=>{let o=String(n+t);return e.repeat(" ",r-o.length)+o+". "}))},list_item(e,t){e.renderContent(t)},paragraph(e,t){e.renderInline(t),e.closeBlock(t)},image(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+t.attrs.src.replace(/[\(\)]/g,"\\$&")+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(e,t,n,r){for(let o=r+1;o<n.childCount;o++)if(n.child(o).type!=t.type)return void e.write("\\\n")},text(e,t){e.text(t.text,!e.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open:(e,t,n,r)=>(e.inAutolink=function(e,t,n){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;let r=t.child(n);return!(!r.isText||r.text!=e.attrs.href||r.marks[r.marks.length-1]!=e)&&(n==t.childCount-1||!e.isInSet(t.child(n+1).marks))}(t,n,r),e.inAutolink?"<":"["),close(e,t,n,r){let{inAutolink:o}=e;return e.inAutolink=void 0,o?">":"]("+t.attrs.href.replace(/[\(\)"]/g,"\\$&")+(t.attrs.title?` "${t.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open:(e,t,n,r)=>mY(n.child(r),-1),close:(e,t,n,r)=>mY(n.child(r-1),1),escape:!1}});function mY(e,t){let n,r=/`+/g,o=0;if(e.isText)for(;n=r.exec(e.text);)o=Math.max(o,n[0].length);let i=o>0&&t>0?" `":"`";for(let e=0;e<o;e++)i+="`";return o>0&&t<0&&(i+=" "),i}class gY{constructor(e,t,n){this.nodes=e,this.marks=t,this.options=n,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,void 0===this.options.tightLists&&(this.options.tightLists=!1)}flushClose(e=2){if(this.closed){if(this.atBlank()||(this.out+="\n"),e>1){let t=this.delim,n=/\s+$/.exec(t);n&&(t=t.slice(0,t.length-n[0].length));for(let n=1;n<e;n++)this.out+=t+"\n"}this.closed=null}}wrapBlock(e,t,n,r){let o=this.delim;this.write(null!=t?t:e),this.delim+=e,r(),this.delim=o,this.closeBlock(n)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+="\n")}write(e){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),e&&(this.out+=e)}closeBlock(e){this.closed=e}text(e,t=!0){let n=e.split("\n");for(let e=0;e<n.length;e++)this.write(),!t&&"["==n[e][0]&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=t?this.esc(n[e],this.atBlockStart):n[e],e!=n.length-1&&(this.out+="\n")}render(e,t,n){if("number"==typeof t)throw new Error("!");if(!this.nodes[e.type.name])throw new Error("Token type `"+e.type.name+"` not supported by Markdown renderer");this.nodes[e.type.name](this,e,t,n)}renderContent(e){e.forEach(((t,n,r)=>this.render(t,e,r)))}renderInline(e){this.atBlockStart=!0;let t=[],n="",r=(r,o,i)=>{let a=r?r.marks:[];r&&"hard_break"===r.type.name&&(a=a.filter((t=>{if(i+1==e.childCount)return!1;let n=e.child(i+1);return t.isInSet(n.marks)&&(!n.isText||/\S/.test(n.text))})));let c=n;if(n="",r&&r.isText&&a.some((n=>{let r=this.marks[n.type.name];return r&&r.expelEnclosingWhitespace&&!(n.isInSet(t)||i<e.childCount-1&&n.isInSet(e.child(i+1).marks))}))){let[e,o,i,s]=/^(\s*)(.*?)(\s*)$/m.exec(r.text);c+=o,n=s,(o||s)&&((r=i?r.withText(i):null)||(a=t))}let s=a.length?a[a.length-1]:null,u=s&&!1===this.marks[s.type.name].escape,l=a.length-(u?1:0);e:for(let e=0;e<l;e++){let n=a[e];if(!this.marks[n.type.name].mixable)break;for(let r=0;r<t.length;r++){let o=t[r];if(!this.marks[o.type.name].mixable)break;if(n.eq(o)){e>r?a=a.slice(0,r).concat(n).concat(a.slice(r,e)).concat(a.slice(e+1,l)):r>e&&(a=a.slice(0,e).concat(a.slice(e+1,r)).concat(n).concat(a.slice(r,l)));continue e}}}let d=0;for(;d<Math.min(t.length,l)&&a[d].eq(t[d]);)++d;for(;d<t.length;)this.text(this.markString(t.pop(),!1,e,i),!1);if(c&&this.text(c),r){for(;t.length<l;){let n=a[t.length];t.push(n),this.text(this.markString(n,!0,e,i),!1)}u&&r.isText?this.text(this.markString(s,!0,e,i)+r.text+this.markString(s,!1,e,i+1),!1):this.render(r,e,i)}};e.forEach(r),r(null,0,e.childCount),this.atBlockStart=!1}renderList(e,t,n){this.closed&&this.closed.type==e.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let r=void 0!==e.attrs.tight?e.attrs.tight:this.options.tightLists,o=this.inTightList;this.inTightList=r,e.forEach(((o,i,a)=>{a&&r&&this.flushClose(1),this.wrapBlock(t,n(a),e,(()=>this.render(o,e,a)))})),this.inTightList=o}esc(e,t=!1){return e=e.replace(/[`*\\~\[\]_]/g,((t,n)=>"_"==t&&n>0&&n+1<e.length&&e[n-1].match(/\w/)&&e[n+1].match(/\w/)?t:"\\"+t)),t&&(e=e.replace(/^[#\-*+>]/,"\\$&").replace(/^(\s*\d+)\./,"$1\\.")),this.options.escapeExtraCharacters&&(e=e.replace(this.options.escapeExtraCharacters,"\\$&")),e}quote(e){let t=-1==e.indexOf('"')?'""':-1==e.indexOf("'")?"''":"()";return t[0]+e+t[1]}repeat(e,t){let n="";for(let r=0;r<t;r++)n+=e;return n}markString(e,t,n,r){let o=this.marks[e.type.name],i=t?o.open:o.close;return"string"==typeof i?i:i(this,e,n,r)}getEnclosingWhitespace(e){return{leading:(e.match(/^(\s+)/)||[void 0])[0],trailing:(e.match(/(\s+)$/)||[void 0])[0]}}}function yY(){var e=/!\[[^\]]*\]\([^)]+\)/g,t=["th_open","td_open","list_item_open"];return function(n){var r=function(e){var t=n.md.helpers.parseLinkDestination(e,e.indexOf("(")+1,e.length);if(t.ok){var r=n.md.normalizeLink(t.str);if(n.md.validateLink(r))return r}return""},o=function(e,t,r){if(!e||0===e.length)return[];var o=new n.Token("inline","",1);return o.content=e,o.children=[],[].concat((0,s.Z)(t),[o],(0,s.Z)(r))},i=[],a=n.tokens.reduce((function(a,c,u,l){if("inline"===c.type&&e.test(c.content)){for(var d=[],p=u-1,f=l[p],h=[];f&&f.level>0&&-1===t.indexOf(f.type);)d.unshift(f),f=l[--p];-1===t.indexOf(f.type)?d.unshift(f):p++;var v=d.map((function(e){return new n.Token(e.type.replace("_open","_close"),e.tag,-1)})).reverse(),m=c.content.match(e),g=c.content;m.forEach((function(e){var t=g.indexOf(e),i=g.substr(0,t);g=g.substr(t+e.length),h=[].concat((0,s.Z)(h),(0,s.Z)(o(i,d,v)),(0,s.Z)(function(e){var t=new n.Token("media_single_open","",1),o=new n.Token("media","",0);return o.attrs=[["url",r(e)],["type","external"]],[t,o,new n.Token("media_single_close","",-1)]}(e)))})),g.length&&(h=[].concat((0,s.Z)(h),(0,s.Z)(o(g,d,v)))),i=[].concat((0,s.Z)(i),(0,s.Z)(v.map((function(e){return e.type})))),a=[].concat((0,s.Z)(a.slice(0,p)),(0,s.Z)(h))}else-1!==i.indexOf(c.type)?i.splice(i.indexOf(c.type),1):a.push(c);return a}),[]);return n.tokens=a,!0}}var bY=function(e){e.core.ruler.before("inline","media",yY())};var wY={nodes:{blockquote:"blockquote",paragraph:"paragraph",rule:"hr",heading:["heading","lheading"],codeBlock:["code","fence"],listItem:"list",image:"image"},marks:{em:"emphasis",strong:"text",link:["link","autolink","reference","linkify"],strike:"strikethrough",code:"backticks"}},kY={blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",attrs:function(e){return{href:e.attrGet("href"),title:e.attrGet("title")||null}}},hr:{node:"rule"},heading:{block:"heading",attrs:function(e){return{level:+e.tag.slice(1)}}},softbreak:{node:"hardBreak"},hardbreak:{node:"hardBreak"},code_block:{block:"codeBlock"},list_item:{block:"listItem"},bullet_list:{block:"bulletList"},ordered_list:{block:"orderedList",attrs:function(e){return{order:"number"==typeof e.attrGet("start")?e.attrGet("start"):1}}},code_inline:{mark:"code"},fence:{block:"codeBlock",attrs:function(e){return{language:e.info&&e.info.trim()||null}}},media_single:{block:"mediaSingle",attrs:function(){return{}}},media:{node:"media",attrs:function(e){return{url:e.attrGet("url"),type:"external"}}},emoji:{node:"emoji",attrs:function(e){return{shortName:":".concat(e.markup,":"),text:e.content}}},table:{block:"table"},tr:{block:"tableRow"},th:{block:"tableHeader"},td:{block:"tableCell"},s:{mark:"strike"},task_list:{block:"taskList"},task_item:{block:"taskItem",attrs:function(e){return{state:e.meta}}}},EY=o_()("zero",{html:!1});EY.enable(["entity","escape"]);var xY=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rY.R4,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:EY;(0,P.Z)(this,e),["nodes","marks"].forEach((function(e){for(var r in wY[e])t[e][r]&&n.enable(wY[e][r])})),t.nodes.table&&n.use(aY),t.nodes.media&&t.nodes.mediaSingle&&n.use(bY),this.markdownParser=new hY(t,n,function(e,t){return Object.keys(t).reduce((function(n,r){var o=t[r],i=o.block||o.node,a=o.mark;return(i&&e.nodes[i]||a&&e.marks[a])&&(n[r]=o),n}),{})}(t,kY))}return(0,D.Z)(e,[{key:"encode",value:function(e){throw new Error("This is not implemented yet")}},{key:"parse",value:function(e){return this.markdownParser.parse(e)}}]),e}(),OY=n(8421);function SY(e){var t,n=0,r=0,o=(0,na.AG)(e);return o&&(n=(t=fi.rU.get(o.node)).height,r=t.width),{table:o,map:t,totalRowCount:n,totalColumnCount:r}}var CY=n(54801);function TY(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:word")>=0}function AY(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:excel")>=0}function _Y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!0;return e.content.descendants((function(e){return n=n&&t.indexOf(e.type)>-1})),n}}function PY(e,t){return function(n){var r=e.marks,o=r.code,i=r.link,a=r.annotation;if(!Array.isArray(t)||0===t.length)return n;var c=on.Slice.fromJSON(e,n.toJSON()||{}),u=[i,a];return c.content.descendants((function(e,n,r){return!(e.isText&&r&&r.isBlock)||(e.marks=[].concat((0,s.Z)(e.marks&&!o.isInSet(t)&&e.marks.filter((function(e){return u.includes(e.type)}))||[]),(0,s.Z)(r.type.allowedMarks(t).filter((function(e){return e.type!==i})))),e.marks.sort((0,CY.T)("marks")),!1)})),c}}function DY(e){if(!e)return!1;var t=e.type.createAndFill();return t&&t.nodeSize===e.nodeSize&&t.content.eq(e.content)&&on.Mark.sameSet(t.marks,e.marks)}function ZY(e){if(e instanceof g.NodeSelection&&(t=e.node,Boolean(t&&"panel"===t.type.name)))return e.node;var t,n=e.$from.doc.type.schema.nodes.panel,r=(0,W.Tr)(n)(e);return r?r.node:null}var IY,LY=function(e){return!!e&&(e.includes("</a></a>")||e.includes('"></a><a'))},MY=function(e,t){if(HH(e.selection)){var n=SY(e.selection),r=n.totalRowCount,o=n.totalColumnCount;return(0,At.Gs)(e,t,{action:DV.REPLACED,actionSubject:p.Wt.TABLE,attributes:{totalColumnCount:o,totalRowCount:r,inputMethod:p.Jq.CLIPBOARD},eventType:p.Ze.TRACK}),t}return e.tr},RY=function(e,t){if(HH(e.selection)){var n=(0,na.AG)(e.selection);if(n){var r="string"==typeof t?new nB.p2(nB.HY.from(e.schema.text(t)),0,0):t,o=e.tr.replace(n.pos,n.pos+n.node.nodeSize,r);return o.setSelection(g.TextSelection.create(o.doc,n.pos+r.size+1)),o}}return e.tr},NY=new g.PluginKey("textFormatting");function jY(e){var t,n=e.tr,r=e.slice,o=e.schema,i=n.selection,a=n.selection,c=a.$to,s=a.$from,u=i.$cursor,l=ZY(i),d=s.blockRange(c,an);if(!u&&d)return function(e){var t=e.tr,n=e.slice,r=t.selection,o=r.$to,i=r.$from,a=r.to,c=r.from;if(i.sameParent(o)||i.depth===o.depth)return t.replaceSelection(n);var s=i.blockRange(o);if(s){var u=c,l=o.nodeAfter?a:a+2,d=t.doc.slice(l,s.end);t.deleteRange(u,s.end);var p=t.mapping.map(u);if(t.replaceRange(p,p,n),!(d.size<=0)){var f=g.TextSelection.near(t.doc.resolve(t.mapping.map(p)),-1);d.openEnd=d.openStart,t.replaceRange(f.from,f.from,d),t.setSelection(g.TextSelection.near(t.doc.resolve(f.from),-1))}}}({tr:n,slice:r});if(l&&DY(l)&&s.node()===c.node())return function(e){return function(t){var n=t.tr,r=t.slice,o=n.selection,i=n.selection,a=i.$to,c=i.$from,s=o.from;if(!e||e.type.validContent(on.Fragment.from(r.content))){var u=new nn.wx(n.doc.type.createAndFill());u.replaceRange(0,u.doc.content.size,r);var l=u.doc.slice(0),d=e.copy(l.content),p=o instanceof g.NodeSelection?o.node:null,f=p?s:n.doc.resolve(s).start(),h=p?s+p.nodeSize:f;n.replaceRangeWith(f,h,d),n.setSelection(g.TextSelection.near(n.doc.resolve(c.pos+d.content.size),-1))}else{var v,m=a.pos+1;n.replaceRange(m,m,r);var y=n.doc.resolve(c.before()).node();if(y&&y.childCount>1&&"paragraph"===(null===(v=y.firstChild)||void 0===v?void 0:v.type.name)&&(0,cr.bG)(y.firstChild)){var b=n.doc.resolve(c.before()).posAtIndex(0),w=n.doc.resolve(c.before()).posAtIndex(1);w-b==2&&n.delete(b,w)}n.setSelection(g.TextSelection.near(n.doc.resolve(m+r.content.size-r.openStart-r.openEnd+1)))}}}(l)({tr:n,slice:r});if(!u||d)return n.replaceSelection(r);if(DY(n.doc.resolve(u.pos).node()))return function(e){var t=e.tr,n=e.slice;t.replaceSelection(n)}({tr:n,slice:r});var p=Boolean((0,W.Tr)([o.nodes.taskList,o.nodes.decisionList])(i)),f=1===r.content.childCount&&an(r.content.firstChild)&&1===(null===(t=r.content.firstChild)||void 0===t?void 0:t.childCount);if((!p||!f)&&function(e){return e instanceof g.TextSelection&&e.empty&&e.$cursor&&(!e.$cursor.nodeBefore||!e.$cursor.nodeAfter)}(i))return function(e){var t=e.tr,n=e.slice,r=t.selection.$cursor;if(r){var o=r.nodeBefore?r.after():r.before();t.replaceRange(o,o,n);var i=t.doc.resolve(Math.min(o+n.content.size-n.openEnd,t.doc.content.size));t.setSelection(g.TextSelection.near(i,-1))}}({tr:n,slice:r});n.replaceSelection(r)}function FY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FY(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.START_TRACKING_PASTED_MACRO_POSITIONS="START_TRACKING_PASTED_MACRO_POSITIONS",e.STOP_TRACKING_PASTED_MACRO_POSITIONS="STOP_TRACKING_PASTED_MACRO_POSITIONS"}(IY||(IY={}));function zY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zY(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var VY=new g.PluginKey("pastePlugin"),HY=(0,On.H)(VY,(function(e,t){switch(t.type){case IY.START_TRACKING_PASTED_MACRO_POSITIONS:return BY(BY({},e),{},{pastedMacroPositions:BY(BY({},e.pastedMacroPositions),t.pastedMacroPositions)});case IY.STOP_TRACKING_PASTED_MACRO_POSITIONS:var n=Object.fromEntries(Object.entries(e.pastedMacroPositions).filter((function(e){var n=(0,sr.Z)(e,1)[0];return!t.pastedMacroPositionKeys.includes(n)})));return BY(BY({},e),{},{pastedMacroPositions:n});default:return e}}),{mapping:function(e,t){if(e.docChanged){var n=!1,r=Object.entries(t.pastedMacroPositions).reduce((function(t,r){var o=(0,sr.Z)(r,2),i=o[0],a=o[1];return a!==e.mapping.map(a)&&(n=!0),t[i]=e.mapping.map(a),t}),{});if(n)return UY(UY({},t),{},{pastedMacroPositions:r})}return t}}),WY=HY.createPluginState,GY=HY.createCommand,qY=HY.getPluginState,KY=function(e){return GY((function(){return{type:IY.START_TRACKING_PASTED_MACRO_POSITIONS,pastedMacroPositions:e}}))},$Y=function(e){return GY((function(){return{type:IY.STOP_TRACKING_PASTED_MACRO_POSITIONS,pastedMacroPositionKeys:e}}))};function JY(){JY=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function YY(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return XY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XY(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function XY(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QY(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QY(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tX(e){return function(t,n){var r=t.schema,o=t.tr,i=o.selection,a=e.content.firstChild,c=0===e.openStart&&0===e.openEnd,s=i.$to.node(i.$to.depth-1),u=c&&!function(e){var t=e.$from,n=e.$to,r=e.from,o=e.to,i=Fr(t)||Fr(n),a=null==i?void 0:i.parent;if(!i||!a)return!1;var c=t.pos<n.pos?i.pos+t.depth-1:i.pos+n.depth-1,s=t.pos<n.pos?i.pos+a.nodeSize-n.depth-1:i.pos+a.nodeSize-t.depth-1;return!(!c||!s)&&(r<o?c>=t.pos&&s<=n.pos:r>o&&c>=n.pos&&s<=t.pos)}(i);return!(!(s&&(null==s?void 0:s.type)===r.nodes.listItem&&a&&["panel","decisionList"].includes(null==a?void 0:a.type.name))||e.content.childCount>1||void 0===(null==a?void 0:a.content.firstChild)||u)&&(o.replaceSelection(e).scrollIntoView(),n&&n(o),!0)}}function nX(){return nX=(0,wc.Z)(JY().mark((function e(t,n,r){var o;return JY().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.provider){e.next=2;break}throw Error("No card provider found");case 2:return e.next=4,r.provider;case 4:return o=e.sent,e.next=7,o.resolve(t,n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))),nX.apply(this,arguments)}function rX(e,t,n,r,o){if(n){var i,a,c=n.state.tr.selection;return a="number"==typeof r&&"number"==typeof o?(i=n.state.tr.replaceRange(r,o,e)).mapping.map(r,-1):(i=n.state.tr.replaceSelection(e)).mapping.map(c.from,-1),n.dispatch(i),n.dispatch((0,qn.SJ)(n.state.tr).replaceRangeWith(a,a+e.size,t).scrollIntoView()),!0}return!1}function oX(e,t,n,r){return function(i,a,c){var s=null;if(r){var u=r(e);u&&(s=on.Node.fromJSON(i.schema,u))}if(s||(s=(0,pC.WK)(i,e)),s){if(n&&n.resolveBeforeMacros&&n.resolveBeforeMacros.length){var l;if(n.resolveBeforeMacros.indexOf(s.attrs.extensionKey)<0)return rX(t,s,c);if(!c)throw new Error("View is missing");var d=td()(),p="handleMacroAutoConvert-from-".concat(d),f="handleMacroAutoConvert-to-".concat(d);return KY((l={},(0,o.Z)(l,p,i.selection.from),(0,o.Z)(l,f,i.selection.to),l))(i,a),function(e,t,n){return nX.apply(this,arguments)}(e,"inline",n).then((function(){var e=qY(c.state).pastedMacroPositions;a&&aX(t,e[p],e[f])(c.state,a)})).catch((function(){var e=qY(c.state).pastedMacroPositions;rX(t,s,c,e[p],e[f])})).finally((function(){$Y([p,f])(c.state,a)})),!0}return rX(t,s,c)}return!!s}}function iX(e){return function(t){return function(n,r,o){if(o){if(function(e,t){var n=e.schema.nodes.media;return 1===t.content.childCount&&t.content.firstChild.type===n}(n,t))return function(e,t,n){var r=e.state,o=e.dispatch,i=r.schema.nodes,a=i.mediaSingle,c=i.media;return!!a&&!(t.type!==c||!Tc(t.attrs.__fileMimeType)&&"external"!==t.attrs.type)&&ts([a.create({},t)],{inputMethod:n,fileExtension:t.attrs.__fileMimeType})(r,o)}(o,t.content.firstChild,e);if(Ef(n)&&function(e,t){var n=e.schema.nodes.mediaSingle;return n&&1===t.content.childCount&&t.content.firstChild.type===n}(n,t)){var i=n.tr.replaceSelection(t),a=i.doc.resolve(i.mapping.map(n.selection.$from.pos));return r&&r(i.setSelection(new rn.WD(a,rn.MF.RIGHT))),!0}}return!1}}}function aX(e,t,n){return function(r,o){var i=(0,qn.SJ)(r.tr),a="number"==typeof t?t:i.selection.from;return"number"==typeof t&&"number"==typeof n?i.replaceRange(t,n,e):i.replaceSelection(e),i.setSelection(g.TextSelection.near(i.doc.resolve(a+e.size),-1)),g_(r,i,p.Jq.CLIPBOARD,p.om.PASTED),o&&o(i.scrollIntoView()),!0}}function cX(e,t){e.content.forEach((function(e){an(e)||sn(e)&&an(e.firstChild)?cX(e,t):t.push(e)}))}function sX(e,t){if(0===t.content.size)return t;var n=e.schema,r=e.selection.$from;if(!function(e){var t=!1;return e.content.descendants((function(e){return e.marks.length>0&&(t=!0),!1})),t}(t))return t;var o=r.parent.textContent.length>0;if(1===t.content.childCount&&o)return t;var i,a=r.node(Math.max(0,r.depth-1)),c=function(e){var t=new Set;return e.content.descendants((function(e){return e.marks.map((function(e){return e.type})).forEach((function(e){return t.add(e)})),!1})),t}(t),s=[],u=YY(c);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.type.allowsMarkType(l)||s.push(l)}}catch(e){u.e(e)}finally{u.f()}if(0===s.length){var d=Math.max(0,t.openStart-1);return new on.Slice(t.content,d,t.openEnd)}return dr(t,(function(e){return e.type===n.nodes.paragraph?n.nodes.paragraph.createChecked(void 0,e.content,e.marks.filter((function(e){return!s.includes(e.type)}))):e}))}function uX(e){if(!e.content.firstChild)return e;var t=e.content.firstChild,n=[];cX(t,n);var r=e.content.replaceChild(0,t.type.createChecked(t.attrs,n));return new on.Slice(r,e.openEnd,e.openEnd)}function lX(e){return function(t,n){var r,o,i,a=t.schema.nodes,c=a.codeBlock,s=a.heading,u=a.paragraph,l=a.panel,d=t.selection,f=t.schema,h=null===(r=e.content)||void 0===r?void 0:r.firstChild,v=null===(o=e.content)||void 0===o?void 0:o.lastChild,m=t.tr;(function(e,t){return t.content.firstChild&&t.content.firstChild.marks.some((function(t){return t.type===e.schema.marks.code}))})(t,e)&&function(e){var t=e.selection,n=t.$from.nodeBefore,r=t.from;n&&n.isText&&n.text.endsWith("`")&&e.delete(r-1,r)}(m),function(e,t){var n=t.content.firstChild;return n&&Ef(e)&&an(n)&&t.openStart>t.openEnd}(t,e)&&(e=uX(e)),(0,qn.SJ)(m);var y=an(h),b=an(v),w=y||b,k=[s,u],E=d.$to.node(d.$to.depth-1),x=d.$to.node().type.validContent(e.content)||k.includes(d.$to.node().type)&&E.type.validContent(e.content),O=(0,W.Tr)(l)(m.selection),S=O&&2===(null===(i=O.node)||void 0===i?void 0:i.content.size);if(w||S)jY({tr:m,slice:e,schema:f});else if(x)m.replaceSelection(e);else{var C=!1,T=!1;e.content.nodesBetween(0,e.content.size,(function(n,r){if(n.type===t.schema.nodes.listItem&&(T=!0),r>=e.openStart&&r<=e.content.size-e.openEnd&&n.isBlock)return C=!0,!1})),(0,ta.OL)(t)&&(!C||(0,ta.CS)(t)&&(0,W.om)(d.$from,e.content)&&(0,W.om)(d.$to,e.content))||T?m.replaceSelection(e):m=(0,W.Z3)(e.content,m.selection.$to.pos)(m)}return m.setStoredMarks([]),m.selection.empty&&m.selection.$from.parent.type===c&&m.setSelection(g.TextSelection.near(m.selection.$from,1)),m.scrollIntoView(),n&&n(g_(t,m,p.Jq.CLIPBOARD,p.om.PASTED)),!0}}function dX(e){var t=[];return e.forEach((function(e){if(e.type===e.type.schema.nodes.codeBlock){var n=t[t.length-1];if(n&&n.type===e.type)return t.push((r=t.pop(),o=e,i="".concat(r.textContent,"\n").concat(o.textContent),r.type.create(r.attrs,r.type.schema.text(i))))}var r,o,i;return t.push(e)})),on.Fragment.from(t)}var pX=function(e,t){var n=e.schema.nodes.codeBlock;return(0,W.a1)(n)(t||e.selection)||(0,W.Tr)(n)(t||e.selection)},fX={richText:"richText",plain:"plain",markdown:"markdown",binary:"binary"},hX={text:"text",url:"url",code:"code",mediaSingle:"mediaSingle",mediaCard:"mediaCard",mediaGroup:"mediaGroup",tableCells:"tableCells",table:"table",expand:"expand",nestedExpand:"nestedExpand",mixed:"mixed",blockquote:"blockquote",blockCard:"blockCard",bodiedExtension:"bodiedExtension",bulletList:"bulletList",codeBlock:"codeBlock",decisionList:"decisionList",decisionItem:"decisionItem",extension:"extension",heading:"heading",layoutSection:"layoutSection",orderedList:"orderedList",panel:"panel",rule:"rule",tableHeader:"tableHeader",tableRow:"tableRow",taskItem:"taskItem",uncategorized:"uncategorized"};function vX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mX(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vX(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vX(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gX={url:hX.url,paragraph:hX.text,bulletList:hX.bulletList,orderedList:hX.orderedList,heading:hX.heading,blockquote:hX.blockquote,codeBlock:hX.codeBlock,panel:hX.panel,rule:hX.rule,mediaSingle:hX.mediaSingle,mediaCard:hX.mediaCard,mediaGroup:hX.mediaGroup,table:hX.table,tableCells:hX.tableCells,tableHeader:hX.tableHeader,tableRow:hX.tableRow,decisionList:hX.decisionList,decisionItem:hX.decisionItem,taskList:hX.taskItem,extension:hX.extension,bodiedExtension:hX.bodiedExtension,blockCard:hX.blockCard,layoutSection:hX.layoutSection},yX={blockquote:p.VJ.PASTE_BLOCKQUOTE,blockCard:p.VJ.PASTE_BLOCK_CARD,bodiedExtension:p.VJ.PASTE_BODIED_EXTENSION,bulletList:p.VJ.PASTE_BULLET_LIST,codeBlock:p.VJ.PASTE_CODE_BLOCK,decisionList:p.VJ.PASTE_DECISION_LIST,extension:p.VJ.PASTE_EXTENSION,heading:p.VJ.PASTE_HEADING,mediaGroup:p.VJ.PASTE_MEDIA_GROUP,mediaSingle:p.VJ.PASTE_MEDIA_SINGLE,orderedList:p.VJ.PASTE_ORDERED_LIST,panel:p.VJ.PASTE_PANEL,rule:p.VJ.PASTE_RULE,table:p.VJ.PASTE_TABLE,tableCell:p.VJ.PASTE_TABLE_CELL,tableHeader:p.VJ.PASTE_TABLE_HEADER,tableRow:p.VJ.PASTE_TABLE_ROW,taskList:p.VJ.PASTE_TASK_LIST};function bX(e){var t=e.selection,n=e.schema.nodes,r=n.paragraph,o=n.listItem,i=n.taskItem,a=n.decisionItem,c=(0,W.Kk)((function(e){return e.type!==r&&e.type!==o&&e.type!==i&&e.type!==a}))(t);if(!c)return p.VJ.PASTE_PARAGRAPH;var s=c.node.type,u=yX[s.name];return u||p.VJ.PASTE_PARAGRAPH}function wX(e,t,n){return mX({action:p.om.PASTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:e,eventType:p.Ze.TRACK,attributes:mX({inputMethod:p.Jq.KEYBOARD},t)},n&&n.length>0?{nonPrivacySafeAttributes:{linkDomain:n}}:{})}function kX(e,t,n){return function(r){var o=e.clipboardData?e.clipboardData.getData("text/plain")||e.clipboardData.getData("text/uri-list"):"",i=bX({selection:r,schema:r.$from.doc.type.schema}),a=t.size,c=function(e){var t=e.schema,n=e.slice,r=t.nodes.paragraph,o=t.marks.link,i=new Set;if(n.content.forEach((function(e){e.type===r&&0===e.content.size||("text"===e.type.name&&o.isInSet(e.marks)||e.type===r&&e.rangeHasMark(0,e.nodeSize-2,o)?i.add("url"):i.add(e.type.name))})),i.size>1)return hX.mixed;if(0===i.size)return hX.uncategorized;var a=i.values().next().value;return gX[a]||hX.uncategorized}({schema:r.$from.doc.type.schema,slice:t}),s=[],u=function(e){var t;return dr(e,(function(e){return"media"!==e.type.name&&"mediaInline"!==e.type.name||(t=e.attrs.__mediaTraceId),e})),t}(t);if(c!==hX.url&&c!==hX.mixed||dr(t,(function(e){var t=e.marks.find((function(e){return"link"===e.type.name}));return t&&s.push(t.attrs.href),e})),n.asPlain)return function(e,t,n){return{action:p.om.PASTED_AS_PLAIN,actionSubject:p.Wt.DOCUMENT,actionSubjectId:e,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.KEYBOARD,pasteSize:t.length,linksInPasteCount:n}}}(i,o,s.length);var l=function(e){var t=e.clipboardData.getData("text/html");return function(e){return!!e&&!!e.match(/class=\"\s?author-d-.+"/gim)}(t)?"dropbox-paper":TY(t)?"microsoft-word":AY(t)?"microsoft-excel":function(e){return!!e&&!!e.match(/id=\"docs-internal-guid-.+"/gim)}(t)?"google-docs":function(e){return!!e&&!!e.match(/data-sheets-.+=/gim)}(t)?"google-spreadsheets":function(e){return!!e&&e.indexOf('content="Cocoa HTML Writer"')>=0}(t)?"apple-pages":function(e){return!!e&&e.indexOf('data-pm-slice="')>=0}(t)?"fabric-editor":"uncategorized"}(e);if(n.type===fX.plain)return wX(i,{pasteSize:o.length,type:n.type,content:hX.text,source:l,hyperlinkPasteOnText:!1,linksInPasteCount:s.length,pasteSplitList:n.pasteSplitList});var d=s.map(il);return wX(i,{type:n.type,pasteSize:a,content:c,source:l,hyperlinkPasteOnText:!!n.hyperlinkPasteOnText,linksInPasteCount:s.length,mediaTraceId:u,pasteSplitList:n.pasteSplitList},d)}}function EX(e,t,n,r){return kX(t,n,r)(e.state.selection)}function xX(e,t,n,r){var o=EX(e,t,n,r);e.dispatch((0,At.Gs)(e.state,e.state.tr,o))}var OX=function(e,t,n){return _X(kX(t,n,{type:fX.plain,asPlain:!0}))(function(e,t){return function(t,n,r){if(r&&r.shiftKey){var o=(0,qn.SJ)(t.tr),i=o.selection;return o=RY(t,e),(o=MY(t,o)).docChanged||o.replaceSelection(e),(t.storedMarks||[]).forEach((function(t){o.addMark(i.from,i.from+e.size,t)})),o.scrollIntoView(),n&&n(o),!0}return!1}}(n))},SX=function(e,t,n,r){return _X(kX(t,n,{type:r}))(function(e){return function(t,n){var r,o,i=t.schema,a=t.tr.selection,c=i.marks.code,s=i.nodes,u=s.decisionItem,l=s.emoji,d=s.hardBreak,f=s.mention,h=s.paragraph,v=s.taskItem,m=s.text,y=s.panel,b=s.bulletList,w=s.orderedList,k=s.listItem,E=s.expand,x=s.heading,O=t.selection instanceof g.NodeSelection&&["decisionList","decisionItem","taskList","taskItem"].includes(t.selection.node.type.name),S=(0,W.bw)([u,v,y])(t.selection),C=(0,W.bw)([y])(t.selection),T=!1;e.content.nodesBetween(0,e.content.size,(function(e){e.type!==b&&e.type!==w&&e.type!==E&&e.type!==x&&e.type!==k||(T=!0)}));var A=C&&(null===(r=e.content.firstChild)||void 0===r?void 0:r.type)===h&&e.openEnd<2;if(T||A||!O&&!S)return!1;var _=[ol(i)],P=a.$head.marks(),D=NY.getState(t);a instanceof g.TextSelection&&Array.isArray(P)&&P.length>0&&_Y(h,m,l,f,d)(e)&&(!c.isInSet(P)||D.codeActive)&&_.push(PY(i,a.$head.marks()));var Z=ta.qC.apply(null,_)(e),I=(0,qn.SJ)(t.tr);return(Z.content.firstChild.type.inlineContent||["decisionList","decisionItem","taskList","taskItem","panel"].includes(Z.content.firstChild.type.name)&&!(0,ta.CS)(t)||O)&&(1!==Z.openStart||0!==Z.openEnd)||(null===(o=Z.content.firstChild)||void 0===o?void 0:o.type)===h?I.replaceSelection(Z).scrollIntoView():(0,W.Z3)(Z.content)(I).scrollIntoView(),g_(t,I,p.Jq.CLIPBOARD,p.om.PASTED),n&&n(I),!0}}(n))},CX=function(e,t,n,r){return _X(kX(t,n,{type:r}))(function(e){return function(t,n){var r=t.schema.nodes.caption,o=t.tr;return!!(0,W.bw)(r)(t.selection)&&(o.replaceSelection(e).scrollIntoView(),n&&n(o),!0)}}(n))},TX=function(e,t,n,r){return _X(kX(t,n,{type:fX.plain}))(function(e){return function(t,n){var r=t.schema.nodes.codeBlock;if(e&&(0,W.bw)(r)(t.selection)){var o=(0,qn.SJ)(t.tr);return o.scrollIntoView(),n&&n(o.insertText(e)),!0}return!1}}(r))},AX=function(e,t,n,r){return _X(kX(t,n,{type:r}))(function(e){return function(t,n){var r=t.schema,o=t.tr.selection,i=r.marks,a=i.code,c=i.link,s=r.nodes,u=s.bulletList,l=s.emoji,d=s.hardBreak,f=s.heading,h=s.listItem,v=s.mention,m=s.orderedList,y=s.paragraph,b=s.text;if(!(o instanceof g.TextSelection))return!1;var w=o.$head.marks();if(0===w.length)return!1;var k=NY.getState(t);if(a.isInSet(w)&&!k.codeActive)return!1;if(1===e.content.childCount&&e.content.firstChild.type===y&&1===e.content.firstChild.content.childCount&&e.content.firstChild.firstChild.type===b&&c.isInSet(w)&&1===w.length){var E=(0,qn.SJ)(t.tr).replaceSelectionWith(e.content.firstChild.firstChild,!0).setStoredMarks(w).scrollIntoView();return g_(t,E,p.Jq.CLIPBOARD,p.om.PASTED),n&&n(E),!0}if(_Y(u,d,f,h,y,b,l,v,m)(e)){var x=PY(r,w)(e),O=(0,qn.SJ)(t.tr).replaceSelection(x).setStoredMarks(w).scrollIntoView();return g_(t,O,p.Jq.CLIPBOARD,p.om.PASTED),n&&n(O),!0}return!1}}(n))};function _X(e){return function(t){return function(n,r,o){var i=n.tr;if(!t(n,(function(e){i=e}),o))return!1;if(r&&i.docChanged){var a=e(n.selection);(0,At.Gs)(n,i,a),r(i)}return!0}}}var PX=function(e,t,n){return _X(kX(t,n,{type:fX.richText,pasteSplitList:!0}))(function(e){return function(t,n){var r,o,i,a=t.tr,c=a.selection,s=c.$from,u=c.$to,l=c.from,d=c.to,p=t.schema.nodes,f=p.orderedList,h=p.bulletList,v=p.listItem,m=(0,W.Tr)(v)(c),g=(0,W.Tr)([h,f])(c),y=null==g?void 0:g.node,b=e.content,w=an(b.firstChild)&&an(b.lastChild),k=!1;if(e.content.forEach((function(e){e.isBlock&&!v.spec.content.includes(e.type.name)&&(k=!0)})),!m||!b||(0,W.om)(s,b)||!k||w||!g)return!1;var E=u.depth-g.depth+1,x=u.depth-g.depth,O=!!(0,W.NP)(a.doc.resolve(g.pos),[h,f]),S=!1;if(m.node.content.forEach((function(e){an(e)&&(S=!0)})),S||O)return!1;var C,T="listItem"===(null===(r=a.doc.nodeAt(d+x))||void 0===r?void 0:r.type.name),A=u.indexAfter(u.depth-x),_=a.doc.resolve(g.pos+1).posAtIndex(A),P=b.firstChild&&["taskItem","taskList","heading","blockquote"].includes(b.firstChild.type.name);C=P&&T?d+x:P||!T?d:d+E,P||T||b.childCount>1&&"paragraph"!==(null===(o=b.firstChild)||void 0===o?void 0:o.type.name)?a.replaceWith(l,C,b).scrollIntoView():a.replaceSelection(e).scrollIntoView();var D=a.mapping.map(_);if(D>a.doc.nodeSize)return!1;var Z=(0,W.NP)(a.doc.resolve(D),[f]),I=null==y?void 0:y.attrs.order,L=null===(i=(0,W.NP)(a.doc.resolve(l-1),[f]))||void 0===i?void 0:i.node.childCount;return"number"==typeof I&&L&&Z&&a.setNodeMarkup(Z.pos,f,eX(eX({},Z.node.attrs),{},{order:I+L})),!!a.docChanged&&(n&&n(a),!0)}}(n))},DX=function(e,t,n){return _X(kX(t,n,{type:fX.richText,pasteSplitList:!0}))(function(e){return function(t,n){if(!Ef(t)||!function(e){var t=!1;return e.content.forEach((function(e){"expand"===e.type.name&&(t=!0)})),t}(e))return!1;var r=t.schema.nodes,o=r.expand,i=r.nestedExpand,a=t.tr,c=!1,s=dr(e,(function(e){if(e.type===o){c=!0;try{return i.createChecked(e.attrs,e.content,e.marks)}catch(t){return a=(0,W.Z3)(e,a.selection.$to.pos)(a),on.Fragment.empty}}return e}));return!(!c||!n||(e.openStart>1&&e.openEnd>1?n(a.replaceSelection(s)):n((0,W.Z3)(s.content)(a)),0))}}(n))},ZX=function(e,t,n){return _X(kX(t,n,{type:fX.richText}))(function(e){return function(t,n){var r=RY(t,e);return!!(r=MY(t,r)).docChanged&&(n&&n(r),!0)}}(n))},IX=function(e,t,n,r){return _X(kX(t,n,{type:r,hyperlinkPasteOnText:!0}))(function(e){return function(t,n){var r,o=t.schema,i=t.selection,a=t.selection,c=a.from,s=a.to,u=t.tr;if(1===e.content.childCount&&(0,Ls.RF)(e.content.child(0),o)){var l=e.content.child(0);if(1===l.content.childCount&&(0,Ls.Gs)(l.content.child(0),o)){var d=l.content.child(0);r=d.marks.find((function(e){return(0,Ls.T7)(e,o)&&(e.attrs.href===d.text||decodeURI(e.attrs.href)===d.text)}))}}return!!(r&&i instanceof g.TextSelection&&!i.empty&&QP(c,s)(t))&&(u.addMark(c,s,r),n&&n(u),!0)}}(n))},LX=function e(t){var n=new Set;return t.size&&t.forEach((function(t){t.content&&t.content.size&&(n=new Set([].concat((0,s.Z)(n),(0,s.Z)(e(t.content))))),n.add(t.type.name)})),Array.from(n)},MX=n(39332),RX=n(24973);function NX(e){var t="";return e.content.nodesBetween(0,e.content.size,(function(e){return e.type.isBlock&&(t+="\n\n"),"paragraph"===e.type.name||("hardBreak"===e.type.name?t+="\n":"text"===e.type.name?t+=e.text:"inlineCard"===e.type.name||"blockCard"===e.type.name?t+=e.attrs.url:t+=e.textBetween(0,e.content.size,"\n\n"),!1)})),t.trim()}var jX=n(93586),FX=n.n(jX),BX=function(e,t){return e%t==0},zX=function(e,t){var n,r=Array.from(e.body.querySelectorAll("th,td")),o=FX()(r,t),i=e.body.querySelector("tbody");return o.forEach((function(t){var n=e.createElement("tr");null==i||i.append(n),n.append.apply(n,(0,s.Z)(t))})),(null===(n=Array.from(i.querySelectorAll("tr")))||void 0===n?void 0:n.filter((function(e){return 0===e.innerHTML.trim().length}))).forEach((function(e){return e.remove()})),e.body.innerHTML},UX=function(e){var t=function(e){for(var t=e.querySelectorAll("td").length,n=e.querySelectorAll("th").length,r=e.querySelectorAll('td[colspan]:not([colspan="1"])').length,o=!1,i=e.querySelectorAll("th,td"),a=0,c=!1;a<i.length;a++){if(c&&"TH"===i[a].nodeName){o=!0;break}"TD"===i[a].nodeName&&(c=!0)}return{cellCount:t,thCount:n,mergedCellCount:r,hasThAfterTd:o,hasIncompleteRow:!(n>0&&0===t||t>0&&0===n||(BX(n,t)||BX(t,n))&&!(n>1&&1===t))}}(e),n=t.cellCount,r=t.thCount,o=t.mergedCellCount,i=t.hasThAfterTd,a=t.hasIncompleteRow;if(o||i)return e.body.innerHTML;if(!r)return zX(e,1);if(a){var c=function(e,t,n){for(var r,o=0;!BX(n+o,t);)o++;var i=Array.from(Array(o)).map((function(){return e.createElement("td")})),a=e.body.querySelector("td:last-of-type");return null==a||null===(r=a.parentElement)||void 0===r||r.append.apply(r,(0,s.Z)(i)),{updatedCellCount:n+o}}(e,r,n);n=c.updatedCellCount}for(var u=r;u>0;u--)if(BX(r,u)&&BX(n,u))return zX(e,u);return e.body.innerHTML},VX=function(e){var t=function(e){var t=new DOMParser,n=t.parseFromString(e,"text/html"),r=t.parseFromString("<table>".concat(e,"</table>"),"text/html");return r.body.querySelectorAll("meta").forEach((function(e){r.head.prepend(e)})),{tableWrappedDoc:r,nonTableWrappedDoc:n}}(e),n=t.nonTableWrappedDoc,r=t.tableWrappedDoc,o=Boolean(!n.body.querySelector("th, td")&&r.body.querySelector("th, td")),i=r.querySelectorAll("body > table:only-child")&&!r.querySelector("body > table > tbody > tr > :not(th,td)");return o&&i?UX(r):null};function HX(){HX=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function WX(e,t,n,r,o,i,a){var c,s,l=new xY(e,p_);function f(){return(f=(0,wc.Z)(HX().mark((function e(t,n){return HX().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("extensionProvider"===t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,(0,OY.yh)(n);case 5:c=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}a&&a.subscribe("extensionProvider",(function(e,t){return f.apply(this,arguments)}));var h=!1;return new u.J({key:VY,state:WY(n,{pastedMacroPositions:{}}),props:{clipboardTextSerializer:NX,handleDOMEvents:{paste:function(e,t){return s=t,!1}},handlePaste:function(n,i,a){var s,u,f,h,v,m,g=i;if(!g.clipboardData)return!1;var y=g.clipboardData.getData("text/plain"),b=g.clipboardData.getData("text/html"),w=g.clipboardData.getData("text/uri-list");!w||y||b||(y=w,a=new on.Slice(on.Fragment.from(e.text(y)),1,1)),null!==(s=y)&&void 0!==s&&s.includes("\r")&&(y=y.replace(/\r/g,""));var k=_E(g),E=y&&!b,x=!!b;if(k){if(!b)return!0;if(function(e){return!!e.match(/<img .*>/)&&!(0,_c.WD)(e)}(b))return!0;g.stopPropagation()}var O=n.state,S=A.getState(O);if(null==S||null===(u=S.performanceTracking)||void 0===u||null===(f=u.pasteTracking)||void 0===f?void 0:f.enabled){var C=LX(a.content),T=fm()(),_="".concat(MX.Z.PASTE,"_").concat(T);(0,d.a)(_,(function(e){var r=e.duration,o=e.distortedDuration,i=function(e){var t=e.view,n=e.duration,r=e.content,o=e.distortedDuration,i=bX({selection:t.state.selection,schema:t.state.schema});return{action:p.om.PASTED_TIMED,actionSubject:p.Wt.EDITOR,eventType:p.Ze.OPERATIONAL,attributes:{pasteIntoNode:i,content:r,time:n,distortedDuration:o}}}({view:n,duration:r,content:C,distortedDuration:o});i&&t(i)}))}var P=function(e){var t,r=O.schema.nodes.placeholder,o=(null===(t=O.doc.resolve(O.selection.$anchor.pos).nodeAfter)||void 0===t?void 0:t.type)===r,i=e.steps.some((function(e){var t,n=(0,ms.bj)(e),r=!1;return null==n||null===(t=n.content)||void 0===t||t.forEach((function(e){e.type===O.schema.nodes.table&&(r=!0)})),r}));o||i||e.setMeta(RX.u,!0),HA(n.state.selection,e,{action:E?p.om.PASTED_AS_PLAIN:p.om.PASTED,inputMethod:p.Jq.CLIPBOARD}),n.dispatch(e)};a=sX(O,a);var D,Z,I=ol(O.schema)(a);if(OX(0,g,I)(O,P,n))return!0;if((a=function(e,t){var n=t.nodes,r=n.mediaSingle,o=n.layoutSection,i=n.table,a=n.bulletList,c=n.orderedList,s=n.media,u=n.mediaInline,l=n.expand;return function(t){var n=e;(0,W.bw)([o,i,a,c,l])(t)&&(n=dr(n,(function(e){var n=(0,W.bw)([o,i])(t)?{layout:e.attrs.layout}:{};return"mediaSingle"===e.type.name?r.createChecked(n,e.content,e.marks):e})));var d=(0,Jc.QB)(8);return dr(n,(function(e){return"media"===e.type.name?s.createChecked(Xc(Xc({},e.attrs),{},{__external:"external"===e.attrs.type,__mediaTraceId:"external"===e.attrs.type?null:d}),e.content,e.marks):"mediaInline"===e.type.name?u.createChecked(Xc(Xc({},e.attrs),{},{__mediaTraceId:d}),e.content,e.marks):e}))}}(a,e)(O.selection),E)&&(D=function(e,t,n){for(var r=e,o=r.split(/```/),i=0;i<o.length;i++)i%2==0&&(o[i]=o[i].replace(/\\/g,"\\\\"));r=o.join("```");var a=l.parse(function(e){return e.replace(/(\[([^\]]+)\]\()?((https?|ftp|jamfselfservice):\/\/[^\s]+)/g,(function(e){return e.match(/^(https?|ftp|jamfselfservice):\/\/[^\s]+$/)?"<".concat(e,">"):e}))}(r));if(a&&a.content)return new on.Slice(a.content,t,n)}(y,a.openStart,a.openEnd),D=null!==(Z=D)&&void 0!==Z&&Z.size?D:void 0)){if(IX(0,g,D,fX.markdown)(O,P))return!0;if(oX(y,D,o,c)(O,P,n))return xX(n,g,D,{type:fX.markdown}),!0}a=function(e,t,n){var r=t.schema.nodes,o=r.blockCard,i=r.inlineCard,a=[];return fr(e.content,(function(e,r,c){var s;e.type!==o||jA(t,c,null!==(s=null==n?void 0:n.allowBlockCards)&&void 0!==s&&s)?a.push(e):a.push(i.createChecked(e.attrs,e.content,e.marks))})),new on.Slice(on.Fragment.fromArray(a),e.openStart,e.openEnd)}(a,O,o);var L=O.selection.$head.depth,M=O.selection.$head.node(L-1),R=null==M?void 0:M.type,N=[null===(h=e.nodes)||void 0===h?void 0:h.panel,null===(v=e.nodes)||void 0===v?void 0:v.taskList,null===(m=e.nodes)||void 0===m?void 0:m.decisionList];if(0===a.openStart&&M&&N.includes(R)&&(a.openStart=1),SX(0,g,a,E?fX.plain:fX.richText)(O,P))return!0;if(TX(0,g,a,y)(O,P))return!0;if(function(e,t,n,r){return _X(kX(t,n,{type:r}))(iX(p.Jq.CLIPBOARD)(n))}(0,g,a,k?fX.binary:fX.richText)(O,P,n))return!0;if(ZX(0,g,a)(O,P))return!0;if(E&&D)return!!AX(0,g,D,fX.markdown)(O,P)||function(e,t,n){return _X(kX(t,n,{type:fX.markdown}))(aX(n))}(0,g,D)(O,P);if(x&&(0,ta.fi)(O)){var j=e.nodes.blockquote,F=[];fr(a.content,(function(e){if(e.type===j)for(var t=0;t<e.childCount;t++)F.push(e.child(t));else F.push(e)})),a=new on.Slice(on.Fragment.fromArray(F),a.openStart,a.openEnd)}if(x){if(a=ol(O.schema)(a),IX(0,g,a,fX.richText)(O,P))return!0;if(oX(y,a,o,c)(O,P,n))return xX(n,g,a,{type:fX.richText}),!0;if(gB(n,0,a))return xX(n,g,a,{type:fX.richText}),!0;if(a.content.size&&(0,xC.vI)(a,O)&&(0,xC.PP)(a,O),AX(0,g,a,fX.richText)(O,P))return!0;if(R!==O.schema.nodes.doc){var B=on.Slice.fromJSON(O.schema,a.toJSON()||{});B.content.descendants((function(e){return e.marks=e.marks.filter((function(e){return"breakout"!==e.type.name})),!1})),a=B}return!!DX(0,g,a)(O,P)||(Ef(O)||(a=function(e,t){var n=t.nodes,r=n.expand,o=n.nestedExpand,i=[];return fr(e.content,(function(e){e.type===o?i.push(r.createChecked(e.attrs,e.content,e.marks)):i.push(e)})),new on.Slice(on.Fragment.fromArray(i),e.openStart,e.openEnd)}(a,O.schema)),!!CX(0,g,a,fX.richText)(O,P)||(!!function(e,t,n){return _X(kX(t,n,{type:fX.richText}))(tX(n))}(0,g,a)(O,P)||(!(null==r||!r.restartNumberedLists||!PX(0,g,a)(O,P))||function(e,t,n){return _X(kX(t,n,{type:fX.richText}))(lX(n))}(0,g,a)(O,P))))}return!1},transformPasted:function(t){return i&&(t=function(e,t){return dr(e,(function(e){if(e.type.name===t.nodes.mention.name){var n=eX(eX({},e.attrs),{},{text:""});return t.nodes.mention.create(n,e.content,e.marks)}return e}))}(t,e)),h&&(t=function(e){return e=dr(e,(function(e){return e.isBlock&&!e.isTextblock?e.copy(dX(e.content)):e})),new on.Slice(dX(e.content),e.openStart,e.openEnd)}(t)),t=function(e,t){if(1===e.content.childCount&&(e.openStart||e.openEnd)){var n=e.content.firstChild;if(n&&n.type===t.nodes.codeBlock&&n.textContent&&-1===n.textContent.indexOf("\n"))return new on.Slice(on.Fragment.from(t.text(n.textContent,[t.marks.code.create()])),0,0)}return e}(t,e),t=function(e,t){var n=t.nodes,r=n.mediaGroup,o=n.mediaSingle,i=n.media;return dr(e,(function(e,t){return t||e.type!==i?e:o&&(Tc(e.attrs.__fileMimeType)||"external"===e.attrs.type)?o.createChecked({},e):r.createChecked({},[e])}))}(t,e),t=function(e,t){var n=e.content.firstChild;if(1===e.content.childCount&&n&&"decisionItem"===n.type.name){var r=t.nodes.decisionList.create({},n);return new on.Slice(on.Fragment.from(r),e.openStart,e.openEnd)}return e}(t,e),t=function(e,t){var n=!1;if(e.content.forEach((function(e){n=n||e.marks.some((function(e){return e.type===t.marks.code}))})),t.nodes.paragraph.validContent(e.content)&&!n){var r=wr({fragment:e.content,schema:t});return new on.Slice(r,e.openStart+1,e.openEnd+1)}return dr(e,(function(e){return e.type===t.nodes.paragraph?wr({fragment:e.content,blockMarks:e.marks,schema:t}):e}))}(t,e),t=function(e,t){return dr(e,(function(e,n){return e.type===t.nodes.paragraph?br(e,n,t):e}))}(t,e),t.content.childCount&&t.content.lastChild.type===e.nodes.codeBlock&&(t=new on.Slice(t.content.append(on.Fragment.from(e.nodes.paragraph.createAndFill())),t.openStart,1)),t},transformPastedHTML:function(e){if(e.indexOf('id="docs-internal-guid-')>=0&&(e=(e=e.replace(/white-space:pre/g,"")).replace(/white-space:pre-wrap/g,"")),s&&function(e,t){return function(e){var t,n,r;return null!==(t=null==e||null===(n=e.clipboardData)||void 0===n||null===(r=n.types)||void 0===r?void 0:r.some((function(e){return"x-tinymce/html"===e})))&&void 0!==t&&t}(e)&&!!t&&!!t.match(/class=\"\s?(confluenceTd|confluenceTh|confluenceTable).+"/gim)}(s,e)&&function(e){return!e.includes("<table ")&&(e.includes("<td ")||e.includes("<th "))}(e)){var t=VX(e);t&&(e=t)}return!TY(e)&&!AY(e)&&e.indexOf("<img ")>=0&&(e=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body,n=t.querySelector('b[id^="docs-internal-guid-"]');n&&(0,Ea.Wg)(t,n);var r=t.querySelectorAll("img");return r.length?(r.forEach((function(e){var n=e.parentElement;if(n)if(Gc(n)||Gc(e))n.removeChild(e);else if(!(Kc(n)||n instanceof HTMLSpanElement&&n.closest('[class*="emoji-common"]'))){var r=(0,Ea.Oh)(n,(function(e){return e.parentElement===t||Kc(e.parentElement)}));r&&r.parentElement&&(r.parentElement.insertBefore(e,r.nextElementSibling||r),n.innerText=n.innerText.trim(),(0,Ea.G7)(n))}})),t.lastElementChild&&"BR"===t.lastElementChild.tagName&&t.removeChild(t.lastElementChild),t.innerHTML):e}(e)),LY(e)&&(e=function(e){return LY(e)?e.split(/(?=<a)/).filter((function(e){return!(e.includes("<a")&&e.includes('"></a>')||e.includes("<a")&&!e.includes("</a>"))})).join("").replace(/<\/a><\/a>/gi,"</a>").replace(/<a>/gi,"<a"):e}(e)),h=e.indexOf('data-qa="code-line"')>=0,s=null,e}}})}const GX=function(e,t){var n,r,o=e.cardOptions,i=e.sanitizePrivateContent,a=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"paste",pmPlugins:function(){return[{name:"paste",plugin:function(e){var t=e.schema,n=e.providerFactory;return WX(t,e.dispatchAnalyticsEvent,e.dispatch,a,o,i,n)}}]}}};var qX=n(278),KX=n(47958),$X=n(77480),JX=n(75173);function YX(e){return function(t,n){var r=t.tr,o=t.selection,i=o.$from,a=o.$to,c=t.doc;if(i.pos===a.pos)return!1;var s=!1;return c.nodesBetween(i.pos,a.pos,(function(t,n){return!s&&(e(t)?(s=!0,!1):void 0)})),!!s&&(r.delete(i.pos,a.pos),n&&n(r),!0)}}var XX=function(e,t){if(e.selection.empty||!(e.selection instanceof g.TextSelection))return!1;if(!function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.blockRange(r);if(!o)return!1;var i=n.depth===r.depth&&n.depth-1===o.depth,a=!!r.nodeAfter;return!i&&!a}(e))return!1;var n=e.tr;n.deleteSelection();var r=Math.min(Math.max(e.selection.$from.pos,0),n.doc.content.size);return n.setSelection(g.Selection.near(n.doc.resolve(r),-1)),t&&t(n.scrollIntoView()),!0},QX=function(e){return!!e&&SR.some((function(t){return t.name===e.type.name}))},eQ=(0,ar.QF)((function(e,t){var n=e.selection.$cursor;if(n&&!n.nodeBefore&&!n.nodeAfter&&1===n.pos){var r=e.tr,o=e.schema.nodes.paragraph,i=n.parent;return r.setNodeMarkup(0,o,i.attrs,[]),t&&t(r),!0}return!1}),YX(QX),XX),tQ=(0,ar.QF)((0,_t.sp)(QX),YX(QX),XX);var nQ=function(e,t,n,r,o,i){var a=e.schema.nodes,c=a.hardBreak,s=a.codeBlock,u=a.listItem,l=e.doc.resolve(r);if(l.nodeAfter.type!==c)return null;if(l.depth>1&&(t!==s||!(0,W.bw)(u)(e.selection)))return null;var d=e.tr.delete(r,o).split(r),p=d.doc.nodeAt(r+1),f=!1;d.doc.nodesBetween(r,r+p.nodeSize,(function(e,t){f||e.type!==c||(f=!0,d=d.split(t+1).delete(t,t+1))})),f&&(p=d.doc.nodeAt(r+1));var h,v,m=e.schema.nodes,y=m.blockquote,b=m.paragraph;t===y?(v=3,h=[b.create({},p.content)]):(v=2,h=p.content);var w=t.create(i,h);return d=d.setSelection(new g.NodeSelection(d.doc.resolve(r+1))).replaceSelectionWith(w).setSelection(new g.TextSelection(d.doc.resolve(r+v)))},rQ=6;function oQ(e){return{level:e[1].length}}function iQ(e){var t,n=(t=e.nodes.heading,Qn({match:new RegExp("^(#{1,"+rQ+"})\\s$"),nodeType:t,getAttrs:oQ})),r=Yn(new RegExp("".concat(jn,"(#{1,6})\\s$")),(function(t,n,r,o){var i=n[1].length;return nQ(t,e.nodes.heading,"heading".concat(i),r,o,{level:i})})),o=Jn((function(e,t){return{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_HEADING,attributes:{inputMethod:p.Jq.FORMATTING,newHeadingLevel:oQ(t).level}}}));return[o(n),o(r)]}function aQ(e){var t,n=(t=e.nodes.blockquote,er(/^\s*>\s$/,t)),r=Yn(new RegExp("".concat(jn,"\\s*>\\s$")),(function(t,n,r,o){return nQ(t,e.nodes.blockquote,"blockquote",r,o)})),o=Jn({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:p.Jq.FORMATTING}});return[o(n),o(r)]}const cQ=function(e,t){var n=[];if(e.nodes.heading&&n.push.apply(n,(0,s.Z)(iQ(e))),e.nodes.blockquote&&n.push.apply(n,(0,s.Z)(aQ(e))),e.nodes.codeBlock&&n.push.apply(n,(0,s.Z)(function(e){var t=Jn({action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.CODE_BLOCK,attributes:{inputMethod:p.Jq.FORMATTING},eventType:p.Ze.TRACK}),n=function(e){return e.length>0&&3===e[0].length},r=Yn(/(?!\s)(`{3,})$/,(function(e,t,r,o){if(!n(t))return null;var i={};if(t[4]&&(i.language=t[4]),function(e){if(!e.selection)return!1;var t=e.selection.$from,n=t.parent;if(!n.isTextblock||n.type===e.schema.nodes.codeBlock)return!1;var r=t.depth-1,o=t.node(r),i=t.index(r);return o.canReplaceWith(i,i+1,e.schema.nodes.codeBlock)}(e))return AR(e,r,i);var a=e.tr;a.delete(r,o);var c=a.doc.type.schema.nodes.codeBlock.createChecked();return(0,W.Z3)(c)(a),a})),o=Yn(new RegExp("((".concat(jn,"`{3,})|^\\s(`{3,}))(\\S*)$")),(function(t,r,o,i){if(!n(r))return null;var a={};r[4]&&(a.language=r[4]);var c=Math.max(r.index+t.selection.$from.start(),1);return nQ(t,e.nodes.codeBlock,"codeblock",c,i,a)}));return[t(r),t(o)]}(e))),0!==n.length)return Xn("block-type",n,{isBlockNodeRule:!0})};var sQ,uQ,lQ,dQ=n(26410),pQ=function(e,t){var n=t?"".concat(e," { color: ","var(--ds-text, white)"," !important; }"):"";return function(e){return(0,U.iv)(sQ||(sQ=(0,z.Z)(["\n    ",";\n    > {\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        margin-top: 0;\n      }\n    }\n    ",";\n  "])),(0,dQ.E)(e),n)}},fQ=(0,U.iv)(uQ||(uQ=(0,z.Z)(["\n  ","\n  margin-left: 16px;\n"])),nR.d),hQ=(0,U.iv)(lQ||(lQ=(0,z.Z)(["\n  color: ",";\n"])),"var(--ds-icon, ".concat(V.zN,")")),vQ=n(19045),mQ=(0,Ze.vU)({textStyles:{id:"fabric.editor.textStyles",defaultMessage:"Text styles",description:"Menu provides access to various heading styles or normal text"}}),gQ=function(e){var t=e.formatMessage(mQ.textStyles);return(0,U.tZ)(Ce.Z,{spacing:e.isReducedSpacing?"none":"default",selected:e.selected,className:"block-type-btn",disabled:e.disabled,onClick:e.onClick,onKeyDown:e.onKeyDown,title:t,"aria-label":t,"aria-haspopup":!0,"aria-expanded":e["aria-expanded"],iconAfter:(0,U.tZ)("span",{css:[Qe.wz,e.isSmall&&Qe.EX]},e.isSmall&&(0,U.tZ)(vQ.Z,{label:t}),(0,U.tZ)("span",{css:Qe.W$},(0,U.tZ)(Se.Z,{label:""})))},!e.isSmall&&(0,U.tZ)("span",{css:[Qe.cw,e.isReducedSpacing&&Qe.Yz]},(0,U.tZ)(Bg.Z,e.title||fR.title)))};function yQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yQ(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wQ(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var kQ=function(e){(0,j.Z)(n,e);var t=wQ(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{active:!1,isOpenedByKeyboard:!1}),(0,o.Z)((0,N.Z)(e),"onOpenChange",(function(t){e.setState(bQ(bQ({},e.state),{},{active:t.isOpen,isOpenedByKeyboard:t.isOpenedByKeyboard}))})),(0,o.Z)((0,N.Z)(e),"handleTriggerClick",(function(){e.onOpenChange({isOpen:!e.state.active,isOpenedByKeyboard:!1})})),(0,o.Z)((0,N.Z)(e),"handleTriggerByKeyboard",(function(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),e.onOpenChange({isOpen:!e.state.active,isOpenedByKeyboard:!0}))})),(0,o.Z)((0,N.Z)(e),"createItems",(function(){var t=e.props.intl.formatMessage,n=e.props.pluginState,r=n.currentBlockType;return[{items:n.availableBlockTypes.map((function(e,n){var o=r===e,i=e.tagName||"p",a=i,c=(0,Re.$Z)(e.title.defaultMessage);return{content:(0,U.tZ)("div",{css:pQ(i,o)},(0,U.tZ)(a,null,t(e.title))),value:e,label:t(e.title),"aria-label":(0,Re.Md)(c,t(e.title)),keyShortcuts:(0,Re.Tm)(c),key:"".concat(e.name,"-").concat(n),elemAfter:(0,U.tZ)("div",{css:[fQ,o&&hQ]},(0,Re.Md)(c)),isActive:o}}))}]})),(0,o.Z)((0,N.Z)(e),"handleSelectBlockType",(function(t){var n=t.item,r=t.shouldCloseMenu,o=void 0===r||r,i=n.value;e.props.setBlockType(i.name),o&&e.setState(bQ(bQ({},e.state),{},{active:!1}))})),e}return(0,D.Z)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.active,r=t.isOpenedByKeyboard,o=this.props,i=o.popupsMountPoint,a=o.popupsBoundariesElement,c=o.popupsScrollableElement,s=o.isSmall,u=o.isReducedSpacing,l=o.pluginState,d=l.currentBlockType,p=l.blockTypesDisabled,f=l.availableBlockTypes,h=o.intl.formatMessage;if(!f.some((function(e){return"heading"===e.nodeName})))return null;var v=f.filter((function(e){return e.name===d.name})).map((function(e){return e.title}));if(!this.props.isDisabled&&!p){var m=this.createItems();return(0,U.tZ)("span",{css:Qe.wz},(0,U.tZ)(tR,{items:m,onOpenChange:this.onOpenChange,onItemActivated:this.handleSelectBlockType,isOpen:n,mountTo:i,boundariesElement:a,scrollableElement:c,zIndex:ue.nm,fitHeight:360,fitWidth:106,shouldUseDefaultRole:!0,shouldFocusFirstItem:function(){return r&&e.setState(bQ(bQ({},e.state),{},{isOpenedByKeyboard:!1})),r}},(0,U.tZ)(gQ,{isSmall:s,isReducedSpacing:u,selected:n,disabled:!1,title:v[0],onClick:this.handleTriggerClick,onKeyDown:this.handleTriggerByKeyboard,formatMessage:h,"aria-expanded":n})),(0,U.tZ)("span",{css:Qe.NA}))}return(0,U.tZ)("span",{css:Qe.wz},(0,U.tZ)(gQ,{isSmall:s,isReducedSpacing:u,selected:n,disabled:!0,title:v[0],onClick:this.handleTriggerClick,onKeyDown:this.handleTriggerByKeyboard,formatMessage:h,"aria-expanded":n}),(0,U.tZ)("span",{css:Qe.NA}))}}]),n}(Z.PureComponent);const EQ=(0,H.ZP)(kQ);var xQ=37,OQ=39,SQ=38,CQ=40,TQ=48,AQ=49,_Q=50,PQ=51,DQ=52,ZQ=53,IQ=54,LQ=[TQ,AQ,_Q,PQ,DQ,ZQ,IQ];const MQ=function(e){return{name:"blockType",nodes:function(){var t=[{name:"heading",node:qX.n},{name:"blockquote",node:KX.M},{name:"hardBreak",node:$X.l}];if(e&&e.allowBlockType){var n=e.allowBlockType.exclude?e.allowBlockType.exclude:[];return t.filter((function(e){return-1===n.indexOf(e.name)}))}return t},pmPlugins:function(){return[{name:"blockType",plugin:function(t){return function(e,t){var n=0;return new u.J({appendTransaction:function(e,n,r){if(t){var o=r.doc.resolve(r.doc.content.size-1).node(1),i=r.schema.nodes.paragraph;if(o&&o.isBlock&&o.type!==i)return r.tr.insert(r.doc.content.size,r.schema.nodes.paragraph.create()).setMeta("addToHistory",!1)}},state:{init:function(e,t){var n=OR.filter((function(e){return UR(e,t)})),r=SR.filter((function(e){return UR(e,t)}));return{currentBlockType:VR(n,t),blockTypesDisabled:(0,ta.u8)(t),availableBlockTypes:n,availableWrapperBlockTypes:r}},apply:function(t,n,r,o){var i=zR(zR({},n),{},{currentBlockType:VR(n.availableBlockTypes,o),blockTypesDisabled:(0,ta.u8)(o)});return i.currentBlockType===n.currentBlockType&&i.blockTypesDisabled===n.blockTypesDisabled||e(WR,i),i}},key:WR,props:{handleKeyDown:function(e,t){var r=FR.indexOf(t.keyCode);if(r>-1&&t.altKey){if(Ec.Z.mac&&t.metaKey)return HR(r,e);if(!Ec.Z.mac&&t.ctrlKey&&n!==t.DOM_KEY_LOCATION_RIGHT)return HR(r,e)}else"Alt"===t.key?n=t.location:t.altKey||(n=0);return!1}}})}(t.dispatch,e&&e.lastNodeMustBeParagraph)}},{name:"blockTypeInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return cQ(t,n)}},{name:"blockTypeKeyMap",plugin:function(e){var t=e.schema;e.featureFlags;return function(e,t){var n={};return Re.E4(Re.zo.common,me.Gd,n),Re.E4(Re.A1.common,me.Vx,n),Re.E4(Re.vi.common,me.kJ,n),Re.E4(Re.xd(Re.KX),qn.KX,n),Re.E4(Re.Yw.common,qn.Yw,n),Re.E4(Re.as.common,eQ,n),Re.E4(Re.L2.common,tQ,n),Re.E4(Re.Vq.mac,tQ,n),e.nodes[wR.nodeName]&&Re.E4(Re.c1(Re.by),NR(wR.name,p.Jq.KEYBOARD),n),(0,JX.$)(n)}(t)}}]},primaryToolbarComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsBoundariesElement,i=t.popupsScrollableElement,a=t.toolbarSize,c=t.disabled,s=t.isToolbarReducedSpacing,u=t.eventDispatcher,l=e&&e.isUndoRedoButtonsEnabled?a<dR.Mi.XXL:a<dR.Mi.XL,d=function(e){return function(e,t){return function(n,r){var o=n.schema.nodes;if(e===fR.name&&o.paragraph)return IR(t)(n,r);var i=TR[e];return!!(i&&o.heading&&i.level)&&MR(i.level,t)(n,r)}}(e,p.Jq.TOOLBAR)(n.state,n.dispatch)};return Z.createElement(M.Z,{editorView:n,eventDispatcher:u,plugins:{pluginState:WR},render:function(e){var t=e.pluginState;return Z.createElement(EQ,{isSmall:l,isDisabled:c,isReducedSpacing:s,setBlockType:d,pluginState:t,popupsMountPoint:r,popupsBoundariesElement:o,popupsScrollableElement:i})}})},pluginsOptions:{quickInsert:function(t){var n,o,i,a=e&&e.allowBlockType&&e.allowBlockType.exclude?e.allowBlockType.exclude:[];return[].concat((0,s.Z)((n=t,o=-1===a.indexOf("blockquote"),i=n.formatMessage,o?[{id:"blockquote",title:i(dO.s.blockquote),description:i(dO.s.blockquoteDescription),priority:1300,keyshortcut:Re.Md(Re.by),icon:function(){return Z.createElement(Uo,null)},action:function(e,t){var n=e(t.schema.nodes.blockquote.createChecked({},t.schema.nodes.paragraph.createChecked()));return(0,At.Gs)(t,n,{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:p.Jq.QUICK_INSERT}})}}]:[])),(0,s.Z)(function(e,t){var n=e.formatMessage;return t?Array.from({length:6},(function(e,t){var o=t+1,i=dO.s["heading".concat(o,"Description")],a=Re.Md(r["toggleHeading".concat(o)]),c="heading".concat(o);return{id:c,title:n(dO.s[c]),description:n(i),priority:1300,keywords:["h".concat(o)],keyshortcut:a,icon:function(){return Z.createElement(Ho,{level:o})},action:function(e,t){var n=e(t.schema.nodes.heading.createChecked({level:o}));return(0,At.Gs)(t,n,{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_HEADING,attributes:{inputMethod:p.Jq.QUICK_INSERT,newHeadingLevel:o}})}}})):[]}(t,-1===a.indexOf("heading"))))}}}};var RQ=new g.PluginKey("clearMarksOnChangeToEmptyDocumentPlugin");function NQ(){return new u.J({key:RQ,appendTransaction:function(e,t,n){if(!(0,cr.RL)(t.doc)&&(0,cr.RL)(n.doc))return n.tr.setStoredMarks([])}})}const jQ=function(){return{name:"clearMarksOnEmptyDoc",pmPlugins:function(){return[{name:"clearMarksOnChange",plugin:NQ}]}}};var FQ=n(65635);function BQ(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.marks.link){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Yn(e,(function(e,n,r,o){var i=e.schema;if(e.doc.rangeHasMark(r,o,i.marks.link))return null;var a=n,c=rl(a.url),s=i.mark("link",{href:c}),u=e.selection.$from.nodeBefore;if(!u||!u.isText||!u.text)return null;var l=cl(u.text,r-(u.text.length-a.text.length));if(sl(r,l))return e.tr;var d=r,f=Math.min(r+a.text.length,e.doc.content.size),h=e.tr.addMark(d,f,s);return f===o&&h.insertText(" "),HA(e.selection,h,{inputMethod:p.Jq.AUTO_DETECT}),t?h:(0,At.Gs)(e,h,GA(p.Jq.AUTO_DETECT,c))}))}(nl.create(),t),r=Yn(/(^|[^!])\[(.*?)\]\((\S+)\)$/,(function(e,n,r,o){var i=e.schema,a=(0,sr.Z)(n,4),c=a[1],s=a[2],u=rl(a[3]).trim(),l=i.mark("link",{href:u}),d=e.tr.replaceWith(r+c.length,o,i.text((s||"").trim(),[l]));return t?d:(0,At.Gs)(e,d,GA(p.Jq.FORMATTING,u))}));return Xn("hyperlink",[n,r])}}function zQ(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};return Re.E4(Re.MJ.common,dD(p.Jq.SHORTCUT),t),Re.E4(Re.IO.common,UQ(e),t),Re.E4(Re.zo.common,UQ(e),t),Re.E4(Re.YU.common,(function(e,t,n){return!!oD.getState(e).activeLinkMark&&(pD()(e,t),n&&n.focus(),!1)}),t),(0,it.h)(t)}var UQ=function(e){return function(t,n){var r=t.selection.$from.nodeBefore;if(!r||!r.isText||!r.text)return!1;var o=r.text.split(" "),i=o[o.length-1],a=(0,Qu.n_)(i);if(a){var c=a.raw,s=t.selection.$from.pos-c.length,u=t.selection.$from.pos;if(t.doc.rangeHasMark(s,u,t.schema.marks.link))return!1;var l=a.url,d=t.schema.mark("link",{href:l}),f=cl(r.text,s-(r.text.length-c.length));if(sl(s,f))return!1;var h=t.tr.addMark(s,u,d);n&&n(e?h:(0,At.Gs)(t,h,GA(p.Jq.AUTO_DETECT,l)))}return!1}};var VQ=new g.PluginKey("fakeCursorToolbarPlugin"),HQ=function(e,t){return tn.p.inline(e,t,{class:"ProseMirror-fake-text-selection"})},WQ=function(e){var t=oD.getState(e);if(t&&t.activeLinkMark&&t.activeLinkMark.type===CP.INSERT_LINK_TOOLBAR)return t.activeLinkMark},GQ=new u.J({key:VQ,state:{init:function(){return tn.EH.empty},apply:function(e,t,n,r){var o,i,a=WQ(n),c=WQ(r);if(a&&c){var s=c.from,u=c.to,l=e.mapping.map(a.from),d=e.mapping.map(a.to);if(l===s&&d===u)return t.map(e.mapping,e.doc)}if(c){var p=c.from,f=c.to;return tn.EH.create(e.doc,[p===f?(o=p,i=document.createElement("div"),i.className="ProseMirror-fake-text-cursor",tn.p.widget(o,i,{key:"hyperlink-text-cursor"})):HQ(p,f)])}return tn.EH.empty}},props:{decorations:function(e){return VQ.getState(e)}}});const qQ=GQ;function KQ(){KQ=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function $Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var JQ=function(e){(0,j.Z)(n,e);var t=$Q(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{supportedUrlsMap:new Map}),(0,o.Z)((0,N.Z)(e),"getProvider",(0,wc.Z)(KQ().mark((function t(){return KQ().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.cardProvider){t.next=2;break}return t.abrupt("return",e.cardProvider);case 2:return t.abrupt("return",new Promise((function(t){e.props.providerFactory.subscribe("cardProvider",function(){var n=(0,wc.Z)(KQ().mark((function n(r,o){return KQ().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,o;case 4:e.cardProvider=n.sent,t(e.cardProvider);case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 3:case"end":return t.stop()}}),t)})))),(0,o.Z)((0,N.Z)(e),"resolveUrl",function(){var t=(0,wc.Z)(KQ().mark((function t(n){var r,o,i;return KQ().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=e.state.supportedUrlsMap).has(n)){t.next=3;break}return t.abrupt("return");case 3:return o=!1,t.prev=4,t.next=7,e.getProvider();case 7:return i=t.sent,t.next=10,i.findPattern(n);case 10:o=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(4),o=!1;case 16:r.set(n,o),e.setState({supportedUrlsMap:r});case 18:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}()),(0,o.Z)((0,N.Z)(e),"componentDidMount",(function(){return e.resolveUrl(e.props.url)})),e}return(0,D.Z)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.url!==this.props.url&&this.resolveUrl(e.url)}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.intl,r=e.editorView,o=e.editorState,i=e.cardOptions,a=e.platform;return this.state.supportedUrlsMap.get(t)?Z.createElement(UZ,{key:"link-appearance",url:t,intl:n,editorView:r,editorState:o,allowEmbeds:null==i?void 0:i.allowEmbeds,allowBlockCards:null==i?void 0:i.allowBlockCards,platform:a}):null}}]),n}(Z.Component);function YQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YQ(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YQ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QQ(e){return void 0!==e.pos}var e0=function(e,t,n){e&&e((0,At.Gs)(t,t.tr,n(p.VJ.HYPERLINK)))};var t0=function(e,t,n){return"true"===n.floatingToolbarLinkSettingsButton?[{type:"separator"},{id:"editor.link.settings",type:"button",icon:AP.Z,title:t.formatMessage(Q.F0.settingsLink),onClick:function(e,t){return e0(t,e,JA),!0},href:"https://id.atlassian.com/manage-profile/link-preferences",target:"_blank"}]:[]},n0=function(e,t){return function(n,r,o){var i=r.formatMessage,a=oD.getState(n),c=t.lpLinkPicker,u=t.lpLinkPickerFocusTrap,l=t.preventPopupOverflow,d=c&&u;if(a&&a.activeLinkMark){var f=a.activeLinkMark,h={title:"Hyperlink floating controls",nodeType:[n.schema.nodes.text,n.schema.nodes.paragraph,n.schema.nodes.heading,n.schema.nodes.taskItem,n.schema.nodes.decisionItem,n.schema.nodes.caption].filter((function(e){return!!e})),align:"left",className:f.type.match("INSERT|EDIT_INSERTED")?"hyperlink-floating-toolbar":""};switch(f.type){case"EDIT":var v=f.pos,m=f.node.marks.filter((function(e){return e.type===n.schema.marks.link})),g=m[0]&&m[0].attrs.href,y=(0,Qu.w6)(g),b=i(y?ah.openLink:Q.F0.unableToOpenLink),w=i(Q.F0.unlink),k=i(Q.F0.editLink),E={url:g,title:""};return f.node.text&&(E.title=f.node.text),XQ(XQ({},h),{},{height:32,width:250,items:[{type:"custom",fallback:[],render:function(t){return Z.createElement(JQ,{key:"link-appearance",url:g,intl:r,editorView:t,editorState:n,cardOptions:null==e?void 0:e.cardOptions,providerFactory:o,platform:null==e?void 0:e.platform})}},{id:"editor.link.edit",type:"button",onClick:function(e,t){return t&&t((0,At.Gs)(e,e.tr.setMeta(oD,{type:SP.EDIT_INSERTED_TOOLBAR,inputMethod:p.Jq.FLOATING_TB}),qA(p.VJ.HYPERLINK))),!0},selected:!1,title:k,showTitle:!0,metadata:E},{type:"separator"},{id:"editor.link.openLink",type:"button",disabled:!y,target:"_blank",href:y?g:void 0,onClick:function(e,t){return e0(t,e,$A),!0},selected:!1,title:b,icon:ih.Z,className:"hyperlink-open-link",metadata:E,tabIndex:null},{type:"separator"},{id:"editor.link.unlink",type:"button",onClick:WA(lD(v),{inputMethod:p.Jq.FLOATING_TB}),selected:!1,title:w,icon:rp.Z,tabIndex:null},{type:"copy-button",items:[{type:"separator"},{state:n,formatMessage:i,markType:n.schema.marks.link}]}].concat((0,s.Z)(t0(0,r,t))),scrollable:!0});case"EDIT_INSERTED":case"INSERT":var x;if(QQ(f)&&f.node){var O=f.node.marks.filter((function(e){return e.type===n.schema.marks.link}));x=O[0]&&O[0].attrs.href}var S=QQ(f)?function(e,t){if(e.node){var n=rl(e.node.text),r=e.node.marks.find((function(e){return e.type===t.schema.marks.link}));if(n!==(r&&r.attrs.href))return e.node.text}}(f,n):a.activeText,C=c?570:360;return XQ(XQ({},h),{},{preventPopupOverflow:l,height:C,width:yp,focusTrap:d,items:[{type:"custom",fallback:[],disableArrowNavigation:!0,render:function(n,r){return n?Z.createElement(mZ,{view:n,key:r,linkPickerOptions:null==e?void 0:e.linkPicker,featureFlags:t,displayUrl:x,displayText:S||"",providerFactory:o,onCancel:function(){return n.focus()},onSubmit:function(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,c=arguments.length>4?arguments[4]:void 0,s=QQ(f),u=s?p.om.UPDATED:p.om.INSERTED,l=s?WA(function(e,t,n,r){return function(o,i){var a=o.doc.resolve(n),c=o.doc.nodeAt(n);if(!c)return!1;var s=rl(e),u=o.schema.marks.link.isInSet(c.marks),l=o.schema.marks.link,d=r&&n!==r?r:n-a.textOffset+c.nodeSize,p=o.tr;if(!s&&t)p.removeMark(n,d,l),p.insertText(t,n,d);else{if(!s)return!1;p.insertText(t,n,d);var f=cD(cD({},u&&u.attrs||{}),{},{href:s});p.addMark(n,n+t.length,l.create(f)),p.setMeta(oD,{type:SP.HIDE_TOOLBAR})}return i&&i(p),!0}}(t,i||o,f.pos),{action:u,sourceEvent:c}):function(e,t,n,r,o,i){var a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;return arguments.length>6&&void 0!==arguments[6]&&arguments[6]&&!o&&!i?uD(t,n,r,o,i,e,a):(0,At.wi)(GA(e,r))(uD(t,n,r,o,i,e,a))}(a,f.from,f.to,t,o,i,!(null==e||null===(r=e.cardOptions)||void 0===r||!r.provider),c);l(n.state,n.dispatch,n),n.focus()}}):null}}]})}}}};const r0=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=(null==r||null===(e=r.dependencies)||void 0===e||null===(t=e.featureFlags)||void 0===t?void 0:t.sharedState.currentState())||{};return{name:"hyperlink",marks:function(){return[{name:"link",mark:FQ.p}]},pmPlugins:function(){var e,t=!(null==n||null===(e=n.cardOptions)||void 0===e||!e.provider);return[{name:"hyperlink",plugin:function(e){return function(e,t){return new u.J({state:{init:function(e,n){var r=QP(n.selection.from,n.selection.to)(n);return{activeText:rD(n.selection),canInsertLink:r,timesViewed:0,activeLinkMark:tD(void 0,SP.SELECTION_CHANGE,n),editorAppearance:t}},apply:function(n,r,o,i){var a=r,c=n.getMeta(oD)&&n.getMeta(oD).type,s=n.getMeta(oD)&&n.getMeta(oD).inputMethod;if(n.docChanged&&(a={activeText:a.activeText,canInsertLink:QP(i.selection.from,i.selection.to)(i),timesViewed:a.timesViewed,inputMethod:s,activeLinkMark:eD(a.activeLinkMark,n),editorAppearance:t}),c){var u=[SP.SHOW_INSERT_TOOLBAR,SP.EDIT_INSERTED_TOOLBAR].includes(c)?{timesViewed:++a.timesViewed,searchSessionId:fm()()}:{timesViewed:a.timesViewed,searchSessionId:a.searchSessionId};a=XP({activeText:a.activeText,canInsertLink:a.canInsertLink,inputMethod:s,activeLinkMark:tD(a.activeLinkMark,c,i),editorAppearance:t},u)}var l=o.selection.from!==i.selection.from||o.selection.to!==i.selection.to;return n.selectionSet&&l&&(a={activeText:rD(i.selection),canInsertLink:QP(i.selection.from,i.selection.to)(i),activeLinkMark:tD(a.activeLinkMark,SP.SELECTION_CHANGE,i),timesViewed:a.timesViewed,searchSessionId:a.searchSessionId,inputMethod:s,editorAppearance:t}),(0,ta.wU)(a,r)||e(oD,a),a}},key:oD,props:{handleDOMEvents:{mouseup:function(e,t){return!!iD(t)&&(t.preventDefault(),!0)},mousedown:function(e,t){if(!t.shiftKey||!iD(t))return!1;var n=e.state,r=n.selection.$anchor,o=e.posAtCoords({left:t.clientX,top:t.clientY});if(null!=(null==o?void 0:o.pos)&&o.pos!==r.pos){var i=n.tr.setSelection(g.TextSelection.create(n.doc,r.pos,o.pos));return e.dispatch(i),!0}return!1}}}})}(e.dispatch,null==n?void 0:n.editorAppearance)}},{name:"fakeCursorToolbarPlugin",plugin:function(){return qQ}},{name:"hyperlinkInputRule",plugin:function(e){var n=e.schema,r=e.featureFlags;return BQ(n,t,r)}},{name:"hyperlinkKeymap",plugin:function(){return zQ(t)}}]},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"hyperlink",title:t(Jo.S.link),description:t(Jo.S.linkDescription),keywords:["hyperlink","url"],priority:1200,keyshortcut:(0,Re.Md)(Re.MJ),icon:function(){return Z.createElement(Io,null)},action:function(e,t){var n=e(void 0);return n.setMeta(oD,{type:SP.SHOW_INSERT_TOOLBAR,inputMethod:p.Jq.QUICK_INSERT}),(0,At.Gs)(t,n,{action:p.om.INVOKED,actionSubject:p.Wt.TYPEAHEAD,actionSubjectId:p.VJ.TYPEAHEAD_LINK,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.UI})}}]},floatingToolbar:n0(n,o)}}};var o0=n(15907),i0=n(49618),a0=n(85860),c0=n(50306),s0=n(15817),u0=n(55685),l0=function(e,t,n,r){e.forEachCell((function(e,o){t.nodesBetween(o,o+e.nodeSize,n,r)}))},d0=["heading","codeBlock","blockquote"],p0=["em","code","strike","strong","underline","textColor","subsup"],f0={em:p.VJ.FORMAT_ITALIC,code:p.VJ.FORMAT_CODE,strike:p.VJ.FORMAT_STRIKE,strong:p.VJ.FORMAT_STRONG,underline:p.VJ.FORMAT_UNDERLINE,textColor:p.VJ.FORMAT_COLOR,subsup:"subsup"};function h0(e){return function(e){return function(t,n){var r=t.tr,o=[];return p0.forEach((function(e){var n=r.selection,i=n.from,a=n.to,c=t.schema.marks[e];c&&(r.selection instanceof be.X?l0(r.selection,r.doc,(function(n,i){return n.type!==t.schema.nodes.tableCell&&n.type!==t.schema.nodes.tableHeader||(r.doc.rangeHasMark(i,i+n.nodeSize,c)&&(o.push(f0[e]),r.removeMark(i,i+n.nodeSize,c)),!1)})):r.doc.rangeHasMark(i,a,c)&&(o.push(f0[e]),r.removeMark(i,a,c)))})),d0.forEach((function(e){var n=t.schema.nodes[e],i=r.selection,a=i.$from,c=i.$to;r.selection instanceof be.X?l0(r.selection,r.doc,v0(t,r,n,e,o)):r.doc.nodesBetween(a.pos,c.pos,v0(t,r,n,e,o))})),r.setStoredMarks([]),o.length&&e&&(0,At.Gs)(t,r,{action:p.om.FORMATTED,eventType:p.Ze.TRACK,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.FORMAT_CLEAR,attributes:{inputMethod:e,formattingCleared:o}}),n&&n(r),!0}}(e)}function v0(e,t,n,r,o){return function(i,a){if(i.type===n){if(n.isTextblock)return t.setNodeMarkup(a,e.schema.nodes.paragraph),o.push(r),!1;var c=t.doc.resolve(a+1),s=t.doc.resolve(a+i.nodeSize-1),u=c.blockRange(s);if(u){var l=(0,nn.k9)(u);(l||0===l)&&(o.push(r),t.lift(u,l))}}return!0}}var m0=function(e,t){var n=e.schema.marks.code,r=t>=0&&e.doc.nodeAt(t);return!!r&&!!r.marks.filter((function(e){return e.type===n})).length},g0=function(e,t){var n=e.selection,r=n.from,o=n.to;if(n.empty)return!!t.isInSet(e.tr.storedMarks||e.selection.$from.marks());var i=!1;return e.doc.nodesBetween(r,o,(function(e){i=i||t.isInSet(e.marks)})),i},y0=function(e,t){var n=e.selection,r=n.$from,o=n.from,i=n.to;if(n.empty)return!!t.isInSet(e.storedMarks||r.marks());var a=!1;return e.selection instanceof be.X?e.selection.forEachCell((function(n,r){var o=r,i=r+n.nodeSize;a||(a=e.doc.rangeHasMark(o,i,t))})):a=e.doc.rangeHasMark(o,i,t),a},b0=function(e){return function(e){var t=p0.filter((function(t){if(e.schema.marks[t]){var n=e.selection,r=n.$from,o=n.empty,i=e.schema.marks;return o?!!i[t].isInSet(e.storedMarks||r.marks()):y0(e,i[t])}return!1}));return t.length>0}(e)||function(e){var t=e.selection,n=t.from,r=t.to,o=!1;return e.doc.nodesBetween(n,r,(function(e){return-1===d0.indexOf(e.type.name)||(o=!0,!1)})),o}(e)},w0=function(e,t){return e&&e.filter((function(e){return!t.includes(e)}))},k0=function(e,t){return e.filter((function(e){return e.content===t})).length>0},E0=function(e){var t=e.inputMethod;return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_ITALIC,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.em;return!!n&&(0,_t.w9)(n)(e,t)}))},x0=function(e){var t=e.inputMethod;return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_STRIKE,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.strike;return!!n&&(0,_t.w9)(n)(e,t)}))},O0=function(e){var t=e.inputMethod;return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_STRONG,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.strong;return!!n&&(0,_t.w9)(n)(e,t)}))},S0=function(e){var t=e.inputMethod;return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_UNDERLINE,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.underline;return!!n&&(0,_t.w9)(n)(e,t)}))},C0=function(e){var t=e.inputMethod;return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_SUPER,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.subsup;return!!n&&(0,_t.w9)(n,{type:"sup"})(e,t)}))},T0=function(e){var t=e.inputMethod;return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_SUB,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.subsup;return!!n&&(0,_t.w9)(n,{type:"sub"})(e,t)}))},A0=function(e){var t=e.inputMethod;return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_CODE,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.code;return!!n&&(0,_t.w9)(n)(e,t)}))},_0=function(e,t,n){return(0,At.wi)({action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,eventType:p.Ze.TRACK,actionSubjectId:p.VJ.FORMAT_CODE,attributes:{inputMethod:p.Jq.FORMATTING}})(function(e,t,n){return function(r,o){if(r.selection.empty){var i=r.doc.resolve(e).nodeBefore,a=r.doc.resolve(t).nodeAfter,c=i&&i.text&&i.text.endsWith("`"),s=a&&a.text&&a.text.startsWith("`");if(c&&s){var u=r.tr.replaceRangeWith(e-1,t+1,r.schema.text(n));if(o){var l=r.schema.marks.code.create();o(u=(0,_t.fo)(u.mapping.map(e-1),u.mapping.map(t+1),!1,l,u).setStoredMarks([l]))}return!0}}return!1}}(e,t,n))},P0=function(e){var t=e.schema.marks,n=t.em,r=t.code,o=t.strike,i=t.strong,a=t.subsup,c=t.underline,s={};if(r&&(s.codeActive=y0(e,r.create()),s.codeDisabled=!(0,ar.w9)(r)(e)),n&&(s.emActive=y0(e,n),s.emDisabled=!!s.codeActive||!(0,ar.w9)(n)(e)),o&&(s.strikeActive=y0(e,o),s.strikeDisabled=!!s.codeActive||!(0,ar.w9)(o)(e)),i&&(s.strongActive=y0(e,i),s.strongDisabled=!!s.codeActive||!(0,ar.w9)(i)(e)),a){var u=a.create({type:"sub"}),l=a.create({type:"sup"});s.subscriptActive=y0(e,u),s.subscriptDisabled=!!s.codeActive||!(0,ar.w9)(a,{type:"sub"})(e),s.superscriptActive=y0(e,l),s.superscriptDisabled=!!s.codeActive||!(0,ar.w9)(a,{type:"sup"})(e)}return c&&(s.underlineActive=y0(e,c),s.underlineDisabled=!!s.codeActive||!(0,ar.w9)(c)(e)),s},D0=function(e){return new u.J({state:{init:function(e,t){return P0(t)},apply:function(t,n,r,o){var i=P0(o);return(0,ta.wU)(n,i)?n:(e(NY,i),i)}},key:NY,props:{handleKeyDown:function(e,t){var n=e.state,r=e.dispatch;return t.key!==Re.ql.common||t.metaKey?t.key===Re.hi.common&&!t.metaKey&&function(e,t){var n=e.schema.marks.code,r=e.selection,o=r.empty,i=r.$cursor;if(!o||!i)return!1;var a=e.tr.storedMarks;if(n){var c=n&&g0(e,n.create()),s=m0(e,i.pos),u=m0(e,i.pos-1),l=m0(e,i.pos-2),d=s&&!u&&Array.isArray(a),p=u&&!l&&(null===a||Array.isArray(a)&&!!a.length),f=(d&&Array.isArray(a)&&!a.length||!d&&null===a)&&!u&&l,h=!s&&u&&Array.isArray(a)&&!a.length;if(!c&&f){var v=e.tr.setSelection(g.Selection.near(e.doc.resolve(i.pos-1)));return t&&t(v.removeStoredMark(n)),!0}if(!c&&h)return t&&t(e.tr.addStoredMark(n.create())),!0;if(c&&p){var m=e.tr.setSelection(g.Selection.near(e.doc.resolve(i.pos-1)));return t&&t(m.addStoredMark(n.create())),!0}var y=0===i.index(i.depth-1);if(c&&(d||!i.nodeBefore&&y))return t&&t(e.tr.removeStoredMark(n)),!0}return!1}(n,r):function(e,t){var n=e.schema.marks.code,r=e.selection,o=r.empty,i=r.$cursor;if(!o||!i)return!1;var a=e.tr.storedMarks;if(n){var c=g0(e,n.create()),s=e.doc.rangeHasMark(i.pos,i.pos,n),u=e.doc.rangeHasMark(i.pos,i.pos+1,n),l=!(s||u||a&&!a.length),d=!s&&u&&(!a||!a.length);if(!c&&d)return t&&t(e.tr.addStoredMark(n.create())),!0;if(c&&l)return t&&t(e.tr.removeStoredMark(n)),!0}return!1}(n,r)},handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch,a=o.schema;return!!o.selection.$from.parent.type.allowsMarkType(a.marks.code)&&_0(t,n,r)(o,i)}}})},Z0=new g.PluginKey("clearFormattingPlugin");const I0=function(){var e={};return Re.E4(Re.Kw.common,h0(p.Jq.SHORTCUT),e),(0,it.h)(e)},L0=new u.J({props:{handleClick:function(e,t,n){if(navigator&&/Edge\/\d/.test(navigator.userAgent))return!1;if(t>e.state.doc.content.size)return!1;var r=e.state.schema.marks.code,o=e.state.schema.nodes.paragraph,i=e.state.doc.resolve(t),a=(i.nodeBefore?i.nodeBefore.isInline:i.nodeAfter)&&(i.nodeAfter?i.nodeAfter.isInline:i.nodeBefore)&&0===i.textOffset,c=r&&(i.nodeBefore&&r.isInSet(i.nodeBefore.marks)||i.nodeAfter&&r.isInSet(i.nodeAfter.marks)),s=n.target&&n.target instanceof Node&&e.posAtDOM(n.target),u=e.state.doc.nodeAt(t),l=!(!u||!u.isText),d=i.parent.type===o&&0===i.textOffset&&null===i.nodeAfter;if(a&&c&&s&&(l||d)){var p=n.target.parentNode===e.domAtPos(s).node&&r.isInSet(e.state.doc.resolve(s).nodeAfter.marks),f=i.nodeBefore&&r.isInSet(i.nodeBefore.marks)?i.nodeAfter:i.nodeBefore,h=e.state.tr.setSelection(g.TextSelection.near(i));return p?h.setStoredMarks([r.create()]):h.setStoredMarks(f?f.marks:[]),e.dispatch(h),!0}return!1}}});var M0,R0,N0=n(30364),j0=n(52640);function F0(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}!function(e){e.STRONG="__",e.STRIKE="~~",e.STRONG_MARKDOWN="**",e.ITALIC_MARKDOWN="*",e.ITALIC="_",e.CODE="`"}(R0||(R0={}));var B0=(M0={},(0,o.Z)(M0,R0.STRIKE,[R0.ITALIC,R0.STRONG,R0.STRONG_MARKDOWN,R0.ITALIC_MARKDOWN]),(0,o.Z)(M0,R0.STRONG,[R0.STRIKE,R0.ITALIC_MARKDOWN]),(0,o.Z)(M0,R0.STRONG_MARKDOWN,[R0.ITALIC,R0.STRIKE]),(0,o.Z)(M0,R0.ITALIC_MARKDOWN,[R0.STRIKE,R0.STRONG]),(0,o.Z)(M0,R0.ITALIC,[R0.STRIKE,R0.STRONG_MARKDOWN]),(0,o.Z)(M0,R0.CODE,["( "]),M0);function z0(e,t,n){return function(t,r,o,i){var a,c,s,u=t.doc,l=t.schema,d=t.tr,p=t.doc.textBetween(o,o+n.length);if(p!==n||null!=l&&null!==(a=l.marks)&&void 0!==a&&null!==(c=a.code)&&void 0!==c&&c.isInSet(u.resolve(o+1).marks()))return null;if(u.nodesBetween(o,i,(function(e){return e.type===l.nodes.hardBreak?(s=!0,null):!s})),s)return null;var f=u.resolve(o),h=u.resolve(i);if(f.sameParent(h)&&!f.parent.type.allowsMarkType(e))return null;"code"===e.name&&(0,j0.i)(d.mapping.map(o),d.mapping.map(i),d);var v=d.mapping.map(o),m=d.mapping.map(i);return d.addMark(v,m,e.create()),d.doc.textBetween(m-n.length,m)===n&&d.delete(m-n.length,m),p===n&&d.delete(v,v+n.length),d.removeStoredMark(e)}}var U0=function(e){(0,j.Z)(n,e);var t=F0(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"exec",value:function(e){if(!e)return null;var t=(0,s.Z)(e).reverse().join(""),r=(0,md.Z)((0,B.Z)(n.prototype),"exec",this).call(this,t);if(!r)return null;for(var o=0;o<r.length;o++)r[o]&&"string"==typeof r[o]&&(r[o]=(0,s.Z)(r[o]).reverse().join(""));return r.input&&"string"==typeof r.input&&(r.input=(0,s.Z)(r.input).reverse().join("")),r.input&&r[0]&&(r.index=r.input.length-r[0].length),r}}]),n}((0,N0.Z)(RegExp)),V0=function(e){var t=e.replace(/(\W)/g,"\\$1"),n=B0[e].map((function(e){return e.replace(/(\W)/g,"\\$1")})).join("|"),r="^X(?=[^X\\s]).*?[^\\sX]X(?=[\\sOBJECT_REPLACEMENT_CHARACTER]COMBINATIONS|$)".replace("OBJECT_REPLACEMENT_CHARACTER",jn).replace("COMBINATIONS",n?"|".concat(n):""),o=String.prototype.hasOwnProperty("replaceAll")?r.replaceAll("X",t):r.replace(/X/g,t);return new U0(o)},H0=V0(R0.STRONG),W0=V0(R0.STRONG_MARKDOWN),G0=V0(R0.ITALIC),q0=V0(R0.ITALIC_MARKDOWN),K0=V0(R0.STRIKE),$0=V0(R0.CODE);const J0=function(e,t){var n=[];if(e.marks.strong&&n.push.apply(n,(0,s.Z)(function(e){var t=Jn((function(){return{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.FORMAT_STRONG,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.FORMATTING}}})),n=Yn(H0,z0(e.marks.strong,0,R0.STRONG)),r=Yn(W0,z0(e.marks.strong,0,R0.STRONG_MARKDOWN));return[t(n),t(r)]}(e))),e.marks.em&&n.push.apply(n,(0,s.Z)(function(e){var t=Jn((function(){return{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.FORMAT_ITALIC,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.FORMATTING}}})),n=Yn(G0,z0(e.marks.em,0,R0.ITALIC)),r=Yn(q0,z0(e.marks.em,0,R0.ITALIC_MARKDOWN));return[t(n),t(r)]}(e))),e.marks.strike&&n.push.apply(n,(0,s.Z)(function(e){return[Jn((function(){return{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.FORMAT_STRIKE,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.FORMATTING}}}))(Yn(K0,z0(e.marks.strike,0,R0.STRIKE)))]}(e))),e.marks.code&&n.push.apply(n,(0,s.Z)(function(e){return[Jn((function(){return{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.FORMAT_CODE,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.FORMATTING}}}))(Yn($0,z0(e.marks.code,0,R0.CODE)))]}(e))),0!==n.length)return Xn("text-formatting",n)};var Y0,X0;function Q0(e,t){return Yn(t,(n=e,function(e,t,r,o){var i=(0,sr.Z)(t,4),a=i[1],c=i[3],s=n+(c||""),u=e.tr,l=e.selection.$to,d=r+(a||"").length,p=Math.min(Math.max(d,0),o);return u.replaceWith(p,o,e.schema.text(s,l.marks())),u.setSelection(g.Selection.near(u.doc.resolve(u.selection.to))),u}));var n}function e1(e,t){return Object.keys(e).map((function(n){var r=Q0(n,e[n]);return t?t(n)(r):r}))}function t1(){var e=(0,o.Z)({"–":X0.DASH,"…":X0.ELLIPSIS,"“":X0.QUOTE_DOUBLE,"”":X0.QUOTE_DOUBLE},X0.QUOTE_SINGLE,X0.QUOTE_SINGLE),t=function(t){return Jn((function(){return{action:p.om.SUBSTITUTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.PUNC,eventType:p.Ze.TRACK,attributes:{punctuation:e[t]}}}))},n=e1({"–":/(\s+|^)(--)(\s)$/,"…":/()(\.\.\.)$/},t),r=e1({"“":/((?:^|[\s\{\[\(\<'"\u2018\u201C]))(")$/,"”":/"$/},t),i=[Yn(/(\s|^)'(\S+.*\S+)'$/,(function(e,t,n,r){var o=(0,sr.Z)(t,3),i=o[1],a=o[2],c=i+"‘",s=n+c.length+a.length;return e.tr.insertText("’",s,r).insertText(c,n,n+c.length)})),Q0("’",/(\w+)(')(\w+)$/)];return[].concat((0,s.Z)(n),(0,s.Z)(r),(0,s.Z)(i.map((function(e){return t(X0.QUOTE_SINGLE)(e)}))))}!function(e){e.ARROW_RIGHT="rightArrow",e.ARROW_LEFT="leftArrow",e.ARROW_DOUBLE="doubleArrow"}(Y0||(Y0={})),function(e){e.DASH="emDash",e.ELLIPSIS="ellipsis",e.QUOTE_SINGLE="singleQuote",e.QUOTE_DOUBLE="doubleQuote"}(X0||(X0={}));const n1=function(e){return Xn("text-formatting:smart-input",[].concat((0,s.Z)(e1({Atlassian:/(\s+|^)(atlassian)(\s)$/,Jira:/(\s+|^)(jira|JIRA)(\s)$/,Bitbucket:/(\s+|^)(bitbucket|BitBucket)(\s)$/,Hipchat:/(\s+|^)(hipchat|HipChat)(\s)$/,Trello:/(\s+|^)(trello)(\s)$/},(function(e){return Jn((function(t,n){return{action:p.om.SUBSTITUTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.PRODUCT_NAME,eventType:p.Ze.TRACK,attributes:{product:e,originalSpelling:n[2]}}}))}))),(0,s.Z)((t={"→":Y0.ARROW_RIGHT,"←":Y0.ARROW_LEFT,"↔︎":Y0.ARROW_DOUBLE},e1({"→":/(\s+|^)(--?>)(\s)$/,"←":/(\s+|^)(<--?)(\s)$/,"↔︎":/(\s+|^)(<->?)(\s)$/},(function(e){return Jn((function(){return{action:p.om.SUBSTITUTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.SYMBOL,eventType:p.Ze.TRACK,attributes:{symbol:t[e]}}}))})))),(0,s.Z)(t1())));var t};var r1,o1,i1=n(56403),a1=n(88906),c1=n(59291),s1=n(48072);!function(e){e.strong="strong",e.em="em",e.underline="underline",e.strike="strike",e.code="code",e.subscript="subscript",e.superscript="superscript"}(r1||(r1={}));var u1,l1,d1=function(e){return e({inputMethod:p.Jq.TOOLBAR})},p1={strong:{buttonId:s1.L.TEXT_FORMATTING_STRONG,command:d1(O0),message:c1.r.bold,tooltipKeymap:Re.vv,component:function(){return(0,U.tZ)(i1.Z,{label:""})}},em:{buttonId:s1.L.TEXT_FORMATTING_ITALIC,command:d1(E0),message:c1.r.italic,tooltipKeymap:Re.PU,component:function(){return(0,U.tZ)(a1.Z,{label:""})}},underline:{command:d1(S0),message:c1.r.underline,tooltipKeymap:Re.gn},strike:{command:d1(x0),message:c1.r.strike,tooltipKeymap:Re.JA},code:{command:d1(A0),message:c1.r.code,tooltipKeymap:Re.Qd},subscript:{command:d1(T0),message:c1.r.subscript,tooltipKeymap:Re.Id},superscript:{command:d1(C0),message:c1.r.superscript,tooltipKeymap:Re.yq}},f1=(o1={},(0,o.Z)(o1,r1.strong,"strong"),(0,o.Z)(o1,r1.em,"em"),(0,o.Z)(o1,r1.strike,"strike"),(0,o.Z)(o1,r1.code,"code"),(0,o.Z)(o1,r1.underline,"underline"),(0,o.Z)(o1,r1.superscript,"subsup"),(0,o.Z)(o1,r1.subscript,"subsup"),o1),h1=function(e){var t=function(e){return function(t){var n=t.schema,r=t.textFormattingPluginState,o=Boolean(r),i=f1[e],a=Boolean(n.marks[i]);if(!o)return{isActive:!1,isDisabled:!0,isHidden:!1,hasSchemaMark:a};var c=r["".concat(e,"Active")],s=r["".concat(e,"Disabled")],u=r["".concat(e,"Hidden")];return{isActive:Boolean(c),isDisabled:Boolean(s),isHidden:Boolean(u),hasSchemaMark:a}}}(e);return function(n){var r=n.schema,o=n.textFormattingPluginState,i=n.intl,a=n.isToolbarDisabled,c=t({schema:r,textFormattingPluginState:o}),s=c.isActive,u=c.isDisabled,l=c.isHidden,d=c.hasSchemaMark,p=(0,Z.useMemo)((function(){return function(e){var t=e.iconType,n=e.isDisabled,r=e.isActive,o=e.intl,i=p1[t],a=o.formatMessage(i.message),c=i.tooltipKeymap;return{content:a,buttonId:i.buttonId,iconMark:t,key:t,command:i.command,iconElement:i.component?i.component():void 0,tooltipElement:c?(0,U.tZ)(Re.wn,{description:a,keymap:c}):void 0,elemAfter:c?(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(c)):void 0,value:{name:t},isActive:r,isDisabled:n,"aria-label":c?(0,Re.Md)(c,String(a)):String(a),"aria-keyshortcuts":(0,Re.Tm)(c)}}({iconType:r1[e],isDisabled:a||u,isActive:s,intl:i})}),[a,u,s,i]),f=d&&!l;return(0,Z.useMemo)((function(){return f?p:null}),[f,p])}},v1=h1(r1.strong),m1=h1(r1.em),g1=h1(r1.underline),y1=h1(r1.strike),b1=h1(r1.code),w1=h1(r1.subscript),k1=h1(r1.superscript),E1=function(e){return(0,Z.useMemo)((function(){return NY.getState(e)}),[e])},x1=h0(p.Jq.TOOLBAR),O1=function(e){var t=e.intl,n=function(e){return(0,Z.useMemo)((function(){return Z0.getState(e)}),[e])}(e.editorState),r=Boolean(n),o=Boolean(null==n?void 0:n.formattingIsPresent),i=t.formatMessage(c1.r.clearFormatting);return(0,Z.useMemo)((function(){return r?{key:"clearFormatting",command:x1,content:i,elemAfter:(0,U.tZ)("div",{css:nR.d},(0,Re.Md)(Re.Kw)),value:{name:"clearFormatting"},isActive:!1,isDisabled:!o,"aria-label":Re.Kw?(0,Re.Md)(Re.Kw,String(i)):String(i)}:null}),[i,r,o])},S1=[r1.strong,r1.em],C1=[r1.underline,r1.strike,r1.code,r1.subscript,r1.superscript],T1=(u1={},(0,o.Z)(u1,dR.Mi.XXL,S1),(0,o.Z)(u1,dR.Mi.XL,S1),(0,o.Z)(u1,dR.Mi.L,S1),(0,o.Z)(u1,dR.Mi.M,[]),(0,o.Z)(u1,dR.Mi.S,[]),(0,o.Z)(u1,dR.Mi.XXXS,[]),u1),A1=(l1={},(0,o.Z)(l1,dR.Mi.XXL,C1),(0,o.Z)(l1,dR.Mi.XL,C1),(0,o.Z)(l1,dR.Mi.L,C1),(0,o.Z)(l1,dR.Mi.M,[r1.strong,r1.em].concat(C1)),(0,o.Z)(l1,dR.Mi.S,[r1.strong,r1.em].concat(C1)),(0,o.Z)(l1,dR.Mi.XXXS,[r1.strong,r1.em].concat(C1)),l1),_1=function(e){var t=e.icons,n=function(e){var t=e.toolbarSize,n=e.responsivenessEnabled,r=(0,Z.useMemo)((function(){return T1[t]}),[t]);return n?r:S1}({toolbarSize:e.toolbarSize,responsivenessEnabled:e.responsivenessEnabled}),r=(0,Z.useMemo)((function(){return t.reduce((function(e,t){return t&&t.iconMark?n.includes(t.iconMark)?{dropdownItems:e.dropdownItems,singleItems:[].concat((0,s.Z)(e.singleItems),[t])}:{dropdownItems:[].concat((0,s.Z)(e.dropdownItems),[t]),singleItems:e.singleItems}:e}),{dropdownItems:[],singleItems:[]})}),[t,n]);return r},P1=Z.memo((function(e){var t=e.items,n=e.isReducedSpacing,r=e.editorView,o=(0,Z.useCallback)((function(e){return function(){return e(r.state,r.dispatch),!1}}),[r.state,r.dispatch]);return(0,U.tZ)("span",{css:Qe.Vm},t.map((function(e){var t;return(0,U.tZ)(Ce.Z,{key:e.key,testId:"editor-toolbar__".concat(String(e.content)),buttonId:e.buttonId,spacing:n?"none":"default",onClick:o(e.command),selected:e.isActive,disabled:e.isDisabled,title:e.tooltipElement,iconBefore:e.iconElement,"aria-pressed":e.isActive,"aria-label":null!==(t=e["aria-label"])&&void 0!==t?t:String(e.content),"aria-keyshortcuts":e["aria-keyshortcuts"]})})))})),D1=Z.memo((function(e){var t=e.label,n=e["aria-expanded"],r=e.isReducedSpacing,o=e.isSelected,i=e.isDisabled,a=e.onClick,c=e.onKeyDown;return(0,U.tZ)(Ce.Z,{disabled:i,selected:o,onClick:a,onKeyDown:c,spacing:r?"none":"default",title:t,iconBefore:(0,U.tZ)("div",{css:Qe.SG},(0,U.tZ)(rN.Z,{label:""})),"aria-expanded":n,"aria-label":t,"aria-haspopup":!0})})),Z1=Z.memo((function(e){var t=e.editorView,n=e.moreButtonLabel,r=e.isReducedSpacing,o=e.items,i=e.hasFormattingActive,a=e.popupsBoundariesElement,c=e.popupsMountPoint,s=e.popupsScrollableElement,u=function(){var e=(0,Z.useState)(!1),t=(0,sr.Z)(e,2),n=t[0],r=t[1],o=(0,Z.useCallback)((function(){r(!n)}),[n]),i=(0,Z.useCallback)((function(){r(!1)}),[]);return[n,o,i]}(),l=(0,sr.Z)(u,3),d=l[0],p=l[1],f=l[2],h=(0,Z.useState)(!1),v=(0,sr.Z)(h,2),m=v[0],g=v[1],y=(0,Z.useMemo)((function(){return[{items:o}]}),[o]),b=(0,Z.useCallback)((function(e){var n=e.item,r=e.shouldCloseMenu,o=void 0===r||r;n.command(t.state,t.dispatch),o&&f()}),[t.state,t.dispatch,f]);return Z.createElement(tR,{mountTo:c,onOpenChange:f,boundariesElement:a,scrollableElement:s,onItemActivated:b,isOpen:d,items:y,zIndex:ue.nm,fitHeight:188,fitWidth:136,shouldUseDefaultRole:!0,shouldFocusFirstItem:function(){return m&&g(!1),m}},Z.createElement(D1,{isSelected:d||i,label:n,isReducedSpacing:r,isDisabled:!1,onClick:function(){p(),g(!1)},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),p(),g(!0))},"aria-expanded":d}))})),I1=n(735);function L1(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var M1=function(e){var t,n,r,o=e.shouldUseResponsiveToolbar,i=e.popupsMountPoint,a=e.popupsBoundariesElement,c=e.popupsScrollableElement,u=e.editorView,l=e.toolbarSize,d=e.isReducedSpacing,p=e.isToolbarDisabled,f=e.intl,h=(0,Z.useMemo)((function(){return u.state}),[u.state]),v=(0,Z.useState)(""),m=(0,sr.Z)(v,2),g=m[0],y=m[1],b=function(e){var t=e.isToolbarDisabled,n=e.editorState,r=e.intl,o=E1(n),i={schema:n.schema,textFormattingPluginState:o,intl:r,isToolbarDisabled:Boolean(t)},a=v1(i),c=m1(i),s=g1(i),u=y1(i),l=b1(i),d=w1(i),p=k1(i);return(0,Z.useMemo)((function(){return[a,c,s,u,l,d,p]}),[a,c,s,u,l,d,p])}({editorState:h,intl:f,isToolbarDisabled:p}),w=O1({editorState:h,intl:f}),k=function(e){var t=e.toolbarSize,n=e.responsivenessEnabled,r=(0,Z.useMemo)((function(){return A1[t]}),[t]);return n?r:C1}({toolbarSize:l,responsivenessEnabled:o}),E=function(e){var t=e.editorState,n=e.iconTypeList,r=E1(t);return(0,Z.useMemo)((function(){return!!r&&n.some((function(e){return r["".concat(e,"Active")]}))}),[r,n])}({editorState:u.state,iconTypeList:k}),x=_1({icons:b,toolbarSize:l,responsivenessEnabled:o}),O=x.dropdownItems,S=x.singleItems,C=f.formatMessage(c1.r.textFormattingOff),T=f.formatMessage(c1.r.superscriptOffSubscriptOn),A=f.formatMessage(c1.r.subscriptOffSuperscriptOn),_=[].concat((0,s.Z)(O),(0,s.Z)(S)).filter((function(e){return e.isActive})),P=null!==(t=(0,I1.Z)(_))&&void 0!==t?t:[],D=k0(_,"Subscript")&&k0(P,"Superscript"),I=k0(_,"Superscript")&&k0(P,"Subscript"),L="";P&&_.length>P.length?(n=w0(_,P),L=f.formatMessage(c1.r.on,{formattingType:n[0].content})):(n=w0(P,_))&&n.length&&(L=f.formatMessage(c1.r.off,{formattingType:n[0].content}),"Code"===(null===(r=_[0])||void 0===r?void 0:r.content)&&(L=f.formatMessage(c1.r.codeOn,{textFormattingOff:(null==P?void 0:P.length)>1?C:L})),D&&(L=T),I&&(L=A));(null==_||!_.length)&&(null==P?void 0:P.length)>1&&(L=C);var M=(0,Z.useMemo)((function(){return w?[].concat((0,s.Z)(O),[w]):O}),[w,O]),R=f.formatMessage(c1.r.moreFormatting);return(0,Z.useEffect)((function(){L&&y(L)}),[L]),(0,U.tZ)("span",{css:Qe.Vm},g&&(0,U.tZ)(gD.Z,{ariaLive:"assertive",text:g,ariaRelevant:"additions",delay:250}),(0,U.tZ)(P1,{items:S,editorView:u,isReducedSpacing:d}),(0,U.tZ)("span",{css:Qe.wz},p?(0,U.tZ)("div",null,(0,U.tZ)(D1,{label:R,isReducedSpacing:d,isDisabled:!0,isSelected:!1,"aria-expanded":void 0,"aria-pressed":void 0})):(0,U.tZ)(Z1,{popupsMountPoint:i,popupsBoundariesElement:a,popupsScrollableElement:c,editorView:u,isReducedSpacing:d,moreButtonLabel:R,hasFormattingActive:E,items:M}),(0,U.tZ)("span",{css:Qe.NA})))},R1=function(e){(0,j.Z)(n,e);var t=L1(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.popupsMountPoint,n=e.popupsScrollableElement,r=e.toolbarSize,o=e.isReducedSpacing,i=e.editorView,a=e.isToolbarDisabled,c=e.shouldUseResponsiveToolbar,s=e.intl;return(0,U.tZ)(M1,{popupsMountPoint:t,popupsScrollableElement:n,toolbarSize:r,isReducedSpacing:o,editorView:i,isToolbarDisabled:a,shouldUseResponsiveToolbar:c,intl:s})}}]),n}(Z.PureComponent);const N1=(0,H.ZP)(R1);const j1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"textFormatting",marks:function(){return[{name:"em",mark:o0.em},{name:"strong",mark:i0.f},{name:"strike",mark:a0.Y}].concat(e.disableCode?[]:{name:"code",mark:c0.T}).concat(e.disableSuperscriptAndSubscript?[]:{name:"subsup",mark:s0.Z}).concat(e.disableUnderline?[]:{name:"underline",mark:u0.e})},pmPlugins:function(){return[{name:"textFormatting",plugin:function(e){var t=e.dispatch;return D0(t)}},{name:"textFormattingCursor",plugin:function(){return L0}},{name:"textFormattingInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return J0(t,n)}},{name:"textFormattingSmartRule",plugin:function(t){t.featureFlags;return e.disableSmartTextCompletion?void 0:n1()}},{name:"textFormattingClear",plugin:function(e){return function(e){return new u.J({state:{init:function(e,t){return{formattingIsPresent:b0(t)}},apply:function(t,n,r,o){var i=b0(o);return i!==n.formattingIsPresent?(e(Z0,{formattingIsPresent:i}),{formattingIsPresent:i}):n}},key:Z0})}(e.dispatch)}},{name:"textFormattingClearKeymap",plugin:function(){return I0()}},{name:"textFormattingKeymap",plugin:function(e){return function(e){var t={};return e.marks.strong&&Re.E4(Re.vv.common,O0({inputMethod:p.Jq.SHORTCUT}),t),e.marks.em&&Re.E4(Re.PU.common,E0({inputMethod:p.Jq.SHORTCUT}),t),e.marks.code&&Re.E4(Re.Qd.common,A0({inputMethod:p.Jq.SHORTCUT}),t),e.marks.strike&&Re.E4(Re.JA.common,x0({inputMethod:p.Jq.SHORTCUT}),t),e.marks.subsup&&Re.E4(Re.Id.common,T0({inputMethod:p.Jq.SHORTCUT}),t),e.marks.subsup&&Re.E4(Re.yq.common,C0({inputMethod:p.Jq.SHORTCUT}),t),e.marks.underline&&Re.E4(Re.gn.common,S0({inputMethod:p.Jq.SHORTCUT}),t),(0,JX.$)(t)}(e.schema)}}]},primaryToolbarComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsScrollableElement,i=t.isToolbarReducedSpacing,a=t.toolbarSize,c=t.disabled;return Z.createElement(M.Z,{plugins:{textFormattingState:NY,clearFormattingPluginState:Z0},render:function(){return Z.createElement(N1,{editorState:n.state,popupsMountPoint:r,popupsScrollableElement:o,toolbarSize:a,isReducedSpacing:i,editorView:n,isToolbarDisabled:c,shouldUseResponsiveToolbar:Boolean(e.responsiveToolbarMenu)})}})}}};var F1=n(30773),B1=n(15672),z1=n(49697),U1=n(12246),V1=n(30562),H1=n(41256),W1=function(e){return(0,U.tZ)($_.Z,e)},G1=new g.PluginKey("unsupportedContentPlugin"),q1=function(e){var t=e.portalProviderAPI,n=e.eventDispatcher,r=e.dispatchAnalyticsEvent;return new u.J({key:G1,props:{nodeViews:{confluenceUnsupportedBlock:ql.fromComponent(ZA.Z,t,n,{dispatchAnalyticsEvent:r},void 0,true),confluenceUnsupportedInline:(0,Gy.J)({pmPluginFactoryParams:e,Component:W1,extraComponentProps:{dispatchAnalyticsEvent:r}}),unsupportedBlock:ql.fromComponent(ZA.Z,t,n,{dispatchAnalyticsEvent:r},void 0,true),unsupportedInline:(0,Gy.J)({pmPluginFactoryParams:e,Component:W1,extraComponentProps:{dispatchAnalyticsEvent:r}})}}})};const K1=function(){return{name:"unsupportedContent",marks:function(){return[{name:"unsupportedMark",mark:F1.C},{name:"unsupportedNodeAttribute",mark:B1.p}]},nodes:function(){return[{name:"confluenceUnsupportedBlock",node:z1.S},{name:"confluenceUnsupportedInline",node:U1.O},{name:"unsupportedBlock",node:V1.V},{name:"unsupportedInline",node:H1.X}]},pmPlugins:function(){return[{name:"unsupportedContent",plugin:q1}]}}};var $1,J1=n(66723),Y1="typeaheadDecoration",X1="fabric-editor-typeahead",Q1="typeahaed_decoration_element_id";function e2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function t2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e2(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.BEFORE_TEXT_INSERTED="BEFORE_TEXT_INSERTED",e.AFTER_TEXT_INSERTED="AFTER_TEXT_INSERTED"}($1||($1={}));var n2=function(e){var t=e.typeAheadHandlers,n=e.removeDecorations,r=e.createDecorations,o=function(e){return function(t){return t instanceof Rm&&e.find((function(e){return e.trigger===t.trigger}))||null}}(t),i=function(e,t){var o=t.tr,i=t.triggerHandler,a=t.inputMethod,c=t.reopenQuery,s=t.selectedIndex;n(e.decorationSet);var u=r(o,{triggerHandler:i,inputMethod:a,reopenQuery:c}),l=u.decorationSet,d=u.decorationElement,p=u.stats;return t2(t2({},e),{},{stats:p,decorationSet:l,triggerHandler:i,decorationElement:d,inputMethod:a,selectedIndex:"number"==typeof s?s:-1,items:[],query:c||""})},a=function(e){return n(e.decorationSet),t2(t2({},e),{},{inputMethod:null,query:"",decorationElement:null,decorationSet:tn.EH.empty,stats:null,triggerHandler:void 0,items:[]})};return function(e,t,r){var c=e.getMeta(gm.u)||{},s=o(r);if(r&&s&&function(e){if(!(e instanceof Rm))return!1;var t=e.isInsertionStep()&&e.stage===Mm.DELETING_RAW_QUERY,n=e.isUndoingStep()&&e.stage===Mm.INSERTING_ITEM;return t||n}(r))return i(t,{tr:e,triggerHandler:s,inputMethod:p.Jq.KEYBOARD,reopenQuery:r.query,selectedIndex:r.selectedIndex});if(function(e){if(!(e instanceof Rm))return!1;var t=e.isInsertionStep()&&e.stage===Mm.INSERTING_ITEM,n=e.isUndoingStep()&&e.stage===Mm.DELETING_RAW_QUERY;return t||n}(r))return a(t);var u,l=c||{},d=l.action,f=l.params,h=d===dm.OPEN_TYPEAHEAD_AT_CURSOR&&((u=null==f?void 0:f.triggerHandler)&&Object.values(mm.o).includes(u.id)&&"string"==typeof u.trigger&&"function"==typeof u.selectItem&&"function"==typeof u.getItems),v=e.selectionSet&&(e.isGeneric||Boolean(e.getMeta("pointer"))),m=[dm.CLOSE_TYPE_AHEAD,dm.INSERT_ITEM].includes(d)||v,g=d===dm.CHANGE_QUERY,y=d===dm.UPDATE_LIST_ITEMS,b=d===dm.UPDATE_SELECTED_INDEX;if(h)return i(t,{tr:e,triggerHandler:f.triggerHandler,inputMethod:f.inputMethod});if(m)return a(t);if(g)return t2(t2({},t),{},{query:f.query});if(y){var w=f.items,k=t.selectedIndex;return t2(t2({},t),{},{items:w,selectedIndex:Math.max(k>=w.length?w.length-1:k,-1)})}if(b)return t2(t2({},t),{},{selectedIndex:f.selectedIndex});if(e.docChanged){var E=t.decorationSet.map(e.mapping,e.doc,{onRemove:function(){n(t.decorationSet)}});return t2(t2({},t),{},{decorationSet:E})}return t}};function r2(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var o2=(0,U.iv)({border:0,clip:"rect(0 0 0 0)",height:"1px",marginbottom:"-1px",marginright:"-1px",overflow:"hidden",padding:0,position:"absolute",whitespace:"nowrap",width:"1px"}),i2=function(e){(0,j.Z)(n,e);var t=r2(n);function n(){var e;(0,P.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,o.Z)((0,N.Z)(e),"state",{bump:!1,debounced:!1,silenced:!1}),e}return(0,D.Z)(n,[{key:"componentWillMount",value:function(){var e=this;this.debounceStatusUpdate=IP()((function(){if(!e.state.debounced){var t=!e.props.isInFocus;e.setState((function(e){return{bump:!e.bump,debounced:!0,silenced:t}}))}}),1400)}},{key:"componentWillUnmount",value:function(){}},{key:"componentWillReceiveProps",value:function(){this.setState((function(e){return{bump:!e.bump,debounced:!1}}))}},{key:"render",value:function(){var e=this.props,t=e.assistiveText,n=e.id,r=this.state,o=r.bump,i=r.debounced,a=r.silenced;return this.debounceStatusUpdate(),(0,U.tZ)("div",{css:o2},(0,U.tZ)("div",{id:n+"__status--A",role:"status","aria-atomic":"true","aria-live":"polite"},"".concat(!a&&i&&o?t:"")),(0,U.tZ)("div",{id:n+"__status--B",role:"status","aria-atomic":"true","aria-live":"polite"},"".concat(a||!i||o?"":t)))}}]),n}(Z.Component);(0,o.Z)(i2,"defaultProps",{statusDebounceMillis:1400,debounce:!0,assistiveText:"",isInFocus:!1,id:""});var a2=i2,c2=(0,U.iv)({outline:"none","& input":{width:"5px",border:"none",background:"transparent",padding:0,margin:0,fontSize:"1em",height:ue.zH,caretColor:"var(--ds-text-accent-blue, #0052CC)"}}),s2=Z.memo((function(e){var t=e.triggerQueryPrefix,n=e.cancel,r=e.onQueryChange,o=e.onItemSelect,i=e.selectNextItem,a=e.selectPreviousItem,c=e.forceFocus,s=e.reopenQuery,u=e.onQueryFocus,l=e.onUndoRedo,d=e.editorView,p=e.items,f=e.useBetterTypeaheadNavigation,h=(0,Z.useRef)(document.createElement("span")),v=(0,Z.useRef)(null),m=(0,Z.useState)(null),g=(0,sr.Z)(m,2),y=g[0],b=g[1],w=(0,Z.useCallback)((function(){var e;return(null===(e=h.current)||void 0===e?void 0:e.textContent)||""}),[]),k=(0,Z.useCallback)((function(e){var t=w();r(t)}),[r,w]),E=(0,Z.useState)(!1),x=(0,sr.Z)(E,2),O=x[0],S=x[1],C=(0,Z.useCallback)((function(e){var t,r=(0,ea.YG)(e),c=document.getSelection(),s=(null===(t=h.current)||void 0===t?void 0:t.textContent)||"",u=w(),p=!1,v=Em(d.state).selectedIndex;switch(S(!0),r){case" ":0===u.length&&(n({forceFocusOnEditor:!0,text:" ",addPrefixTrigger:!0,setSelectionAt:$1.AFTER_TEXT_INSERTED}),p=!0);break;case"Escape":case"PageUp":case"PageDown":case"Home":n({text:u,forceFocusOnEditor:!0,addPrefixTrigger:!0,setSelectionAt:$1.AFTER_TEXT_INSERTED}),p=!0;break;case"Backspace":0!==s.length&&0!==(null==c?void 0:c.anchorOffset)||(e.stopPropagation(),e.preventDefault(),n({forceFocusOnEditor:!0,text:u,addPrefixTrigger:!1,setSelectionAt:$1.BEFORE_TEXT_INSERTED}));break;case"Enter":(!e.isComposing||229!==e.which&&229!==e.keyCode)&&(-1===v&&(f&&a(),i()),o(e.shiftKey?mm.P.SHIFT_ENTER:mm.P.ENTER));break;case"Tab":-1===v&&(f&&a(),i()),o(mm.P.TAB);break;case"ArrowDown":(f||-1===v)&&i();break;case"ArrowUp":(f||-1===v)&&a()}var m=function(e){var t=(0,ea.YG)(e);return e.ctrlKey&&"y"===t||(e.ctrlKey||e.metaKey)&&e.shiftKey&&"Z"===t?"historyRedo":!(!e.ctrlKey&&!e.metaKey||"z"!==t)&&"historyUndo"}(e);if(l&&m&&l(m)&&(p=!0),function(e){return["Enter","Tab","ArrowDown","ArrowUp"].includes(e.key)}(e)||p)return e.stopPropagation(),e.preventDefault(),!1}),[f,l,o,i,a,n,w,d.state]),T=(0,Z.useCallback)((function(e){var t;return e.stopPropagation(),e.preventDefault(),u(),null===(t=v.current)||void 0===t||t.focus(),!1}),[u]);(0,Z.useLayoutEffect)((function(){if(h.current){var e=h.current,t=function(e){u()},r=function(e){var t=(0,ea.YG)(e);if(["ArrowLeft","ArrowRight"].includes(t)&&document.getSelection&&document.getSelection()){var r,o=(null===(r=h.current)||void 0===r?void 0:r.textContent)||"",i=document.getSelection(),a=i&&"ArrowRight"===t&&i.anchorOffset===o.length,c=i&&"ArrowLeft"===t&&(0===i.anchorOffset||e.metaKey);if(!a&&!c)return;return n({forceFocusOnEditor:!0,addPrefixTrigger:!0,text:w(),setSelectionAt:a?$1.AFTER_TEXT_INSERTED:$1.BEFORE_TEXT_INSERTED}),e.preventDefault(),void e.stopPropagation()}C(e)},o=function(e){var t,r=e.relatedTarget;r instanceof HTMLElement&&r.closest&&r.closest(".".concat(X1))||(!Ec.Z.chrome||"Range"===(null===(t=window.getSelection())||void 0===t?void 0:t.type)||"sourceCapabilities"in e&&e.sourceCapabilities)&&n({addPrefixTrigger:!0,text:w(),setSelectionAt:$1.BEFORE_TEXT_INSERTED,forceFocusOnEditor:!1})},i=function(){n({addPrefixTrigger:!1,text:"",forceFocusOnEditor:!0,setSelectionAt:$1.BEFORE_TEXT_INSERTED})},a=function(t){var n;S(!1);var r=t.target;if(!t.isComposing&&r instanceof HTMLElement){if("historyUndo"===t.inputType&&0===(null===(n=r.textContent)||void 0===n?void 0:n.length))return t.preventDefault(),t.stopPropagation(),void i();if(null!=t.data&&null===v.current&&(b(""),Ec.Z.safari)){t.preventDefault();var o=document.createTextNode(t.data);e.appendChild(o);var a=window.getSelection(),c=document.createRange();c.setStart(o,o.length),c.collapse(!0),null==a||a.removeAllRanges(),null==a||a.addRange(c)}}};if(Ec.Z.safari){e.addEventListener("input",(function(e){var t,n=e.target;if(!e.isComposing&&n instanceof HTMLElement)return"historyUndo"===e.inputType&&1===(null===(t=n.textContent)||void 0===t?void 0:t.length)?(e.preventDefault(),e.stopPropagation(),void i()):void 0}))}return e.addEventListener("focusout",o),e.addEventListener("focusin",t),e.addEventListener("keydown",r),e.addEventListener("beforeinput",a),function(){e.removeEventListener("focusout",o),e.removeEventListener("focusin",t),e.removeEventListener("keydown",r),e.removeEventListener("beforeinput",a),Ec.Z.safari&&e.removeEventListener("input",null)}}}),[t,w,u,n,C,d.state]),(0,Z.useLayoutEffect)((function(){var e="string"==typeof s&&s.trim().length>0;h.current&&c&&(b(e?s:null),requestAnimationFrame((function(){if(null!=h&&h.current){var t=window.getSelection();if(t&&e&&h.current.lastChild instanceof Text){var n=h.current.lastChild,r=document.createRange();r.setStart(h.current.lastChild,n.length),r.collapse(!0),t.removeAllRanges(),t.addRange(r)}h.current.focus(),S(!0)}})))}),[c,s]);var A=Q1+"__assistiveHint",_=(0,De.Z)();return(0,U.tZ)(Z.Fragment,null,t,(0,U.tZ)("span",{css:c2,contentEditable:!0,ref:h,onKeyUp:k,onClick:T,role:"combobox","aria-controls":Q1,"aria-autocomplete":"list","aria-expanded":0!==p.length,"aria-labelledby":A,suppressContentEditableWarning:!0,"data-query-prefix":t},null===y?(0,U.tZ)("input",{ref:v,type:"text"}):y),(0,U.tZ)("span",{id:A,style:{display:"none"}},_.formatMessage(function(e,t){switch(e){case"@":return wm.s.mentionInputLabel;case"/":default:return wm.s.quickInsertInputLabel;case":":return wm.s.emojiInputLabel}}(t)),",",_.formatMessage(wm.s.inputQueryAssistiveLabel)),(0,U.tZ)(a2,{assistiveText:0===p.length?_.formatMessage(wm.s.noSearchResultsLabel,{itemsLength:p.length}):"",isInFocus:0===p.length||O,id:Q1}))}));s2.displayName="InputQuery";var u2=[],l2=function(e,t,n){var r=(0,Z.useState)(u2),o=(0,sr.Z)(r,2),i=o[0],a=o[1],c=(0,Z.useRef)(!0),s=(0,Z.useRef)(t);return(0,Z.useEffect)((function(){var r=null==e?void 0:e.getItems;if(r){var o={query:n||"",editorState:t.state},i=s.current;r(o).then((function(e){var t=e.length>0?e:u2;c.current&&a(t),queueMicrotask((function(){!function(e){return function(t,n){var r=t.tr;return r.setMeta(gm.u,{action:dm.UPDATE_LIST_ITEMS,params:{items:e}}),n&&n(r),!0}}(t)(i.state,i.dispatch)}))}))}else a(u2)}),[e,n]),(0,Z.useEffect)((function(){return function(){c.current=!1}}),[]),i},d2=function(e){var t,n=e.view,r=e.setSelectionAt,o=e.text,i=e.forceFocusOnEditor,a=n.state,c=a.tr,s=a.schema;Zm(c),o.length>0&&(c.replaceSelectionWith(s.text(o)),r===$1.BEFORE_TEXT_INSERTED&&(t=o,function(e){var n=e.selection.$from.pos,r=Math.max(n-t.length,0),o=e.doc.resolve(r),i=g.TextSelection.findFrom(o,-1,!0);i&&e.setSelection(i)})(c)),n.dispatch(c),i&&n.focus()},p2=function(e,t,n){var r=(0,Z.useRef)(t),o=(0,Z.useRef)(n),i=(0,Z.useCallback)((function(t){var n=t.setSelectionAt,o=t.text,i=t.forceFocusOnEditor;if(e){var a=r.current;d2({view:a,setSelectionAt:n,text:o,forceFocusOnEditor:i})}}),[e]),a=(0,Z.useCallback)((function(t){var n=t.mode,a=t.index,c=t.query,s=o.current;if(0!==s.length&&e){var u=s[a];if(u){var l=r.current;Bm(l)({item:u,handler:e,mode:n,query:c,sourceListItem:s})}}else{var d="".concat(e.trigger).concat(c);i({forceFocusOnEditor:!0,setSelectionAt:$1.AFTER_TEXT_INSERTED,text:d})}}),[e,i]),c=(0,Z.useCallback)((function(t){var n=t.mode,r=t.query,c=o.current;if(c&&c.length>1)return!1;if(1===c.length)queueMicrotask((function(){a({mode:n,query:r,index:0})}));else{var s="".concat(e.trigger).concat(r);queueMicrotask((function(){i({forceFocusOnEditor:!0,setSelectionAt:$1.AFTER_TEXT_INSERTED,text:n===mm.P.SPACE?s.concat(" "):s})}))}return!0}),[a,e,i]);return(0,Z.useLayoutEffect)((function(){o.current=n}),[n]),[a,i,c]},f2=Z.memo((function(e){var t=e.triggerHandler,n=e.editorView,r=(e.anchorElement,e.shouldFocusCursorInsideQuery),o=(e.popupsMountPoint,e.popupsBoundariesElement,e.popupsScrollableElement,e.createAnalyticsEvent,e.inputMethod,e.getDecorationPosition,e.reopenQuery),i=e.onUndoRedo,a=e.useBetterTypeaheadNavigation,c=(0,Z.useState)(!1),s=(0,sr.Z)(c,2),u=s[0],l=s[1],d=(0,Z.useState)(o||""),p=(0,sr.Z)(d,2),f=p[0],h=p[1],v=(0,Z.useRef)(f),m=(0,Z.useRef)(n),g=l2(t,n,f);(0,Z.useLayoutEffect)((function(){v.current=f}),[f]);var y=p2(t,n,g),b=(0,sr.Z)(y,2),w=b[0],k=b[1],E=(0,Z.useMemo)((function(){return Tm({editorView:n,direction:"next",useBetterTypeaheadNavigation:a})}),[n,a]),x=(0,Z.useMemo)((function(){return Tm({editorView:n,direction:"previous",useBetterTypeaheadNavigation:a})}),[n,a]),O=(0,Z.useCallback)((function(e){var n=e.setSelectionAt,r=e.addPrefixTrigger,o=e.text,i=e.forceFocusOnEditor;l(!0);var a=r?"".concat(t.trigger).concat(o):o;k({forceFocusOnEditor:i,setSelectionAt:n,text:a})}),[t,k]),S=(0,Z.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mm.P.SELECTED,t=m.current,n=Em(t.state).selectedIndex;l(!0),queueMicrotask((function(){w({mode:e,index:n,query:v.current})}))}),[w]),C=(0,Z.useCallback)((function(){}),[]),T=(0,Z.useCallback)((function(){l(!0)}),[]);return(0,Z.useEffect)((function(){var e=m.current,t=Em(e.state);0!==f.length&&f!==t.query&&t.triggerHandler&&Im(f)(e.state,e.dispatch)}),[f,o]),function(e){var t=e.triggerHandler,n=e.items,r=e.query,o=e.editorView,i=e.closePopup,a=(0,Z.useRef)(o);(0,Z.useLayoutEffect)((function(){if(r&&"function"==typeof t.forceSelect){var e=t.forceSelect({items:n,query:r,editorState:a.current.state});if(e){var o=a.current;i(),queueMicrotask((function(){Bm(o)({item:e,mode:mm.P.SPACE,query:r,handler:t,sourceListItem:n})}))}}}),[t,i,r,n])}({triggerHandler:t,items:g,query:f,editorView:n,closePopup:T}),u?null:Z.createElement(s2,{useBetterTypeaheadNavigation:a,triggerQueryPrefix:t.trigger,onQueryChange:h,onItemSelect:S,selectNextItem:E,selectPreviousItem:x,onQueryFocus:C,cancel:O,forceFocus:r,onUndoRedo:i,reopenQuery:o,editorView:n,items:g})}));f2.displayName="WrapperTypeAhead";var h2=function(e,t){var n,r=e.find((function(e){var n;return(null===(n=e.getMeta(gm.u))||void 0===n?void 0:n.action)===t}));return r?null===(n=r.getMeta(gm.u))||void 0===n?void 0:n.params:null};function v2(e){var t=e.reactDispatch,n=e.popupMountRef,r=e.createAnalyticsEvent,o=e.typeAheadHandlers,i=e.getIntl,a=e.useBetterTypeaheadNavigation,c=function(e){var t=e.intl,n=e.popupMountRef,r=e.createAnalyticsEvent,o=e.useBetterTypeaheadNavigation;return{createDecorations:function(e,i){var a=i.triggerHandler,c=i.inputMethod,s=i.reopenQuery,u=e.selection;if(!(u instanceof g.TextSelection&&u.$cursor))return{decorationSet:tn.EH.empty,stats:null,decorationElement:null};var l="decoration_id_".concat("typeahead_decoration_key","_").concat(fm()()),d=u.$cursor,p=document.createElement("mark"),f=new bm,h=!0,v=tn.p.widget(d.pos,(function(e,i){var u,d,f;return p.setAttribute("id",l),p.setAttribute("role","search"),p.dataset.typeAheadQuery="true",p.dataset.trigger=a.trigger,p.dataset.editorPopup="true",p.dataset.typeAhead=Y1,p.style.color="var(--ds-text-accent-blue, ".concat(V.AX,")"),p.style.backgroundColor="transparent",Fi.render(Z.createElement(Gg.Z,{locale:t.locale||"en",messages:t.messages,formats:t.formats},Z.createElement(f2,{triggerHandler:a,editorView:e,anchorElement:p,createAnalyticsEvent:r,inputMethod:c,getDecorationPosition:i,shouldFocusCursorInsideQuery:h,popupsMountPoint:null===(u=n.current)||void 0===u?void 0:u.popupsMountPoint,popupsBoundariesElement:null===(d=n.current)||void 0===d?void 0:d.popupsBoundariesElement,popupsScrollableElement:null===(f=n.current)||void 0===f?void 0:f.popupsScrollableElement,onUndoRedo:function(t){if(!["historyUndo","historyRedo"].includes(t))return!1;var n="string"==typeof s&&s.trim().length>0,r=Om(e.state);if(n||0===r.length){var o="historyUndo"===t?qn.Yw:qn.KX,i=e.state.tr,a=o(e.state,(function(e){i=e}));return a&&(Zm(i),e.dispatch(i),e.focus()),a}return!1},reopenQuery:s,useBetterTypeaheadNavigation:o})),p),h=!1,p}),{isTypeAheadDecoration:!0,key:l,side:0,stopEvent:function(e){var t=(0,ea.YG)(e),n=document.getSelection();return"ArrowLeft"!==t||0!==(null==n?void 0:n.anchorOffset)},ignoreSelection:!1});return{decorationSet:tn.EH.create(e.doc,[v]),decorationElement:p,stats:f}},removeDecorations:function(e){if(!e||e===tn.EH.empty)return!1;var t=e.find(void 0,void 0,(function(e){return e.isTypeAheadDecoration}));return!(!t||0===t.length||(t.forEach((function(e){var t=e.spec;if(t.key){var n=document.querySelector("#".concat(t.key));n&&Fi.unmountComponentAtNode(n)}})),0))}}}({intl:i(),popupMountRef:n,createAnalyticsEvent:r,useBetterTypeaheadNavigation:a}),s=c.createDecorations,l=c.removeDecorations,d=n2({createDecorations:s,removeDecorations:l,typeAheadHandlers:o,popupMountRef:n});return new u.J({key:gm.u,state:{init:function(){return{typeAheadHandlers:o,query:"",decorationSet:tn.EH.empty,decorationElement:null,items:[],selectedIndex:-1,stats:null,inputMethod:null}},apply:function(e,n,r,o){var i=function(e){var t=e.steps.filter((function(e){return e instanceof Rm}));return 1===t.length?t[0]:null}(e),a=d(e,n,i);return n!==a&&t(gm.u,a),a}},appendTransaction:function(e,t,n){var r=h2(e,dm.INSERT_RAW_QUERY);if(r){var o=r(n);if(o)return o}},view:function(){return{update:function(e){}}},props:{decorations:function(e){var t;return null===(t=gm.u.getState(e))||void 0===t?void 0:t.decorationSet},handleDOMEvents:{compositionend:function(e,t){return!1},click:function(e,t){var n=t.target;return!!(n instanceof HTMLElement&&(0,Ea.oq)(n,"[data-type-ahead=".concat(Y1,"]")))}}}})}function m2(){return new u.J({appendTransaction:function(e,t,n){var r=h2(e,dm.INSERT_ITEM);if(r){var o=r(n);if(o)return o}}})}var g2=n(48092);function y2(e,t,n){if(t&&0!==t.length){var r=t.reduce((function(e,t){var n=t.customRegex||t.trigger;if(!n)return e;var r=new RegExp("(^|[.!?\\s".concat(jn,"])(").concat(n,")$"));return e.push(Yn(r,(function(e,n){return Dm({triggerHandler:t,inputMethod:p.Jq.KEYBOARD})(e.tr)}))),e}),[]);return Xn("type-ahead",r,{allowInsertTextOnDocument:!1})}}var b2,w2,k2=n(23763),E2=n(42301),x2=n(34605),O2=x2.XP+2*x2.hN,S2=Z.memo((function(e){var t=e.numberOfResults,n=(0,De.Z)();return(0,U.tZ)(a2,{assistiveText:n.formatMessage(wm.s.searchResultsLabel,{itemsLength:t}),isInFocus:!0,id:Q1+"__popup"})})),C2=Z.memo((function(e){var t,n=e.items,r=e.selectedIndex,o=e.editorView,i=e.onItemClick,a=e.intl,c=e.fitHeight,s=e.decorationElement,u=e.triggerHandler,l=(0,Z.useRef)(),d=(0,Z.useRef)(null),p=(0,Z.useRef)({overscanStartIndex:0,overscanStopIndex:0,startIndex:0,stopIndex:0}),f=n.length*O2,h=(0,Z.useState)(Math.min(f,c)),v=(0,sr.Z)(h,2),m=v[0],g=v[1],y=(0,Z.useState)(new k2.t1({fixedWidth:!0,defaultHeight:O2})),b=(0,sr.Z)(y,2),w=b[0],k=b[1],E=(0,Z.useCallback)((function(e){p.current=e}),[]),x=(0,Z.useMemo)((function(){return{onItemClick:i}}),[i]),O=(0,Z.useCallback)((function(){var e;ym(-1)(o.state,o.dispatch),l.current.scrollToRow(0),null==s||null===(e=s.querySelector("[role='combobox']"))||void 0===e||e.focus()}),[o,l,s]),S=(0,Z.useMemo)((function(){return Tm({editorView:o,direction:"next"})}),[o]),C=(0,Z.useMemo)((function(){return Tm({editorView:o,direction:"previous"})}),[o]),T=p.current.startIndex,A=p.current.stopIndex,_=(0,Z.useCallback)((function(e){e.scrollUpdateWasRequested&&requestAnimationFrame((function(){requestAnimationFrame((function(){r>=T&&r<=A||-1===r?-1===r&&l.current.scrollToRow(0):l.current.scrollToRow(r)}))}))}),[r,T,A]);(0,Z.useLayoutEffect)((function(){l.current&&(r>=T&&r<=A||-1===r?-1===r&&l.current.scrollToRow(0):l.current.scrollToRow(r))}),[r,T,A]),(0,Z.useLayoutEffect)((function(){k(new k2.t1({fixedWidth:!0,defaultHeight:O2})),requestAnimationFrame((function(){var e;null!==(e=d.current)&&void 0!==e&&e.firstChild&&d.current.firstChild.scrollTo(0,0)}))}),[n]),(0,Z.useLayoutEffect)((function(){var e=Math.min(n.reduce((function(e,t,n){return e+w.rowHeight({index:n})}),0),c);g(e)}),[n,w,c]),(0,Z.useLayoutEffect)((function(){if(d.current){var e=d.current,t=function(e){if(function(e){return["ArrowDown","ArrowUp","Tab","Enter"].includes(e.key)}(e))switch(e.key){case"ArrowDown":S(),e.preventDefault();break;case"ArrowUp":C(),e.preventDefault();break;case"Tab":i(mm.P.TAB,r),e.preventDefault();break;case"Enter":(!e.isComposing||229!==e.which&&229!==e.keyCode)&&(i(e.shiftKey?mm.P.SHIFT_ENTER:mm.P.ENTER,r),e.preventDefault());break;default:e.preventDefault()}else O()};return null==e||e.addEventListener("keydown",t),function(){null==e||e.removeEventListener("keydown",t)}}}),[o.state,O,S,C,r,i,n.length]);var P=Am(null==u?void 0:u.trigger,a).popupAriaLabel;if(!Array.isArray(n))return null;var D=(null===(t=s.querySelector("[role='combobox']"))||void 0===t?void 0:t.getAttribute("aria-controls"))||Q1;return(0,U.tZ)(Lh.Z,{"aria-label":P,"aria-relevant":"additions removals"},(0,U.tZ)("div",{id:D,ref:d},(0,U.tZ)(E2.aV,{rowRenderer:function(e){var t=e.index,o=e.key,i=e.style,c=e.parent,s=n[t];return(0,U.tZ)(k2.Z8,{key:o,cache:w,parent:c,columnIndex:0,rowIndex:t},(0,U.tZ)("div",{style:i,"data-index":t},(0,U.tZ)("div",{"data-testid":"list-item-height-observed-".concat(t)},(0,U.tZ)(x2.$z,{key:n[t].title,item:s,itemsLength:n.length,itemIndex:t,selectedIndex:r,onItemClick:x.onItemClick,ariaLabel:Am(null==u?void 0:u.trigger,a,s).listItemAriaLabel}))))},ref:l,rowCount:n.length,rowHeight:w.rowHeight,onRowsRendered:E,width:320,onScroll:_,height:m,overscanRowCount:3,containerRole:"presentation",role:"listbox",css:(0,U.iv)(b2||(b2=(0,z.Z)(["\n              button {\n                padding: 12px 12px 11px;\n                span:last-child span:last-child {\n                  white-space: normal;\n                }\n              }\n            "])))}),(0,U.tZ)(S2,{numberOfResults:n.length.toString()})))})),T2=(0,H.ZP)(C2);T2.displayName="TypeAheadList";var A2=380,_2=(0,U.iv)(w2||(w2=(0,z.Z)(["\n  background: ",";\n  border-radius: ","px;\n  box-shadow: ",";\n  padding: ","px 0;\n  width: 320px;\n  max-height: 380px; /* ~5.5 visibile items */\n  overflow-y: auto;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  position: relative;\n"])),"var(--ds-surface-overlay, ".concat(V.N0,")"),(0,re.E0)(),"var(--ds-shadow-overlay, ".concat("0 0 1px ".concat(V.VG,", 0 4px 8px -2px ").concat(V.Nx),")"),(0,re.ww)()/2),P2=function(e){var t=e.state,n=e.triggerHandler;return null!=n&&n.getHighlight?n.getHighlight(t):null},D2=[0,8],Z2=Z.memo((function(e){var t=e.editorView,n=e.triggerHandler,r=e.anchorElement,o=e.popupsMountPoint,i=e.popupsBoundariesElement,a=e.popupsScrollableElement,c=e.items,s=e.selectedIndex,u=e.onItemInsert,l=e.fireAnalyticsCallback,d=e.isEmptyQuery,f=e.cancel,h=(0,Z.useRef)(null),v=(0,Z.useMemo)((function(){return performance.now()}),[c,d,l,n]);(0,Z.useEffect)((function(){if(l){var e=performance.now()-v;l({payload:{action:p.om.RENDERED,actionSubject:p.Wt.TYPEAHEAD,eventType:p.Ze.OPERATIONAL,attributes:{time:e,items:c.length,initial:d}}})}}),[v,c,l,d,n]),(0,Z.useEffect)((function(){l&&l({payload:{action:p.om.VIEWED,actionSubject:p.Wt.TYPEAHEAD_ITEM,eventType:p.Ze.OPERATIONAL,attributes:{index:s,items:c.length}}})}),[c,l,s,n]);var m=(0,Z.useState)(A2),g=(0,sr.Z)(m,2),y=g[0],b=g[1],w=(0,Z.useCallback)((function(){if(r&&o){var e=r.getBoundingClientRect(),t=e.top,n=e.height,i=document.body,a=i.getBoundingClientRect(),c=a.height,s=a.top,u=t-(s-i.scrollTop),l=s+c-(t+n);if(l>=A2)return b(A2);var d=(l>=u?l:u)-2*x2.hN,p=Math.min(A2,d);return b(p)}}),[r,o]),k=(0,PA.Z)(w);return(0,Z.useLayoutEffect)((function(){var e=a||(0,Sv.uo)(r);return w(),window.addEventListener("resize",k),e&&e.addEventListener("scroll",k),function(){window.removeEventListener("resize",k),e&&e.removeEventListener("scroll",k)}}),[r,a,k,w]),(0,Z.useLayoutEffect)((function(){var e=function(e){var t,n=e.relatedTarget;n instanceof HTMLElement&&n.closest&&(n.closest(".".concat(X1))||n.closest('[data-type-ahead="'.concat(Y1,'"]')))||"Range"===(null===(t=window.getSelection())||void 0===t?void 0:t.type)&&f({addPrefixTrigger:!0,setSelectionAt:$1.AFTER_TEXT_INSERTED,forceFocusOnEditor:!1})},t=h.current;return null==t||t.addEventListener("focusout",e),function(){null==t||t.removeEventListener("focusout",e)}}),[h,f]),(0,U.tZ)(G.Z,{zIndex:ue.k2,target:r,mountTo:o,boundariesElement:i,scrollableElement:a,fitHeight:y,fitWidth:340,offset:D2},(0,U.tZ)("div",{css:_2,tabIndex:0,className:X1,ref:h},(0,U.tZ)(P2,{state:t.state,triggerHandler:n}),(0,U.tZ)(T2,{items:c,selectedIndex:s,onItemClick:u,fitHeight:y,editorView:t,decorationElement:r,triggerHandler:n})))}));Z2.displayName="TypeAheadPopup";var I2=Z.memo((function(e){var t,n,r,o=e.editorView,i=e.popupMountRef,a=e.typeAheadState,c=e.fireAnalyticsCallback,s=a.decorationSet.find().length>0,u=a.triggerHandler,l=a.items,d=a.selectedIndex,p=a.decorationElement,f=a.decorationSet,h=a.query,v=p2(u,o,l),m=(0,sr.Z)(v,3),g=m[0],y=m[1],b=m[2],w=Z.useCallback((function(e){var t=e.index;queueMicrotask((function(){ym(t)(o.state,o.dispatch)}))}),[o]),k=Z.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mm.P.SELECTED,t=arguments.length>1?arguments[1]:void 0;queueMicrotask((function(){g({mode:e,index:t,query:h})}))}),[g,h]),E=Z.useCallback((function(e){var t=e.setSelectionAt,n=e.addPrefixTrigger,r=e.forceFocusOnEditor,o=n?"".concat(null==u?void 0:u.trigger).concat(h):h;y({forceFocusOnEditor:r,setSelectionAt:t,text:o})}),[u,y,h]);return Z.useEffect((function(){if(s&&h&&" "===h[h.length-1])b({mode:mm.P.SPACE,query:h.trim()})}),[s,h,b]),s&&u&&p instanceof HTMLElement&&0!==l.length?Z.createElement(Z2,{editorView:o,popupsMountPoint:null===(t=i.current)||void 0===t?void 0:t.popupsMountPoint,popupsBoundariesElement:null===(n=i.current)||void 0===n?void 0:n.popupsBoundariesElement,popupsScrollableElement:null===(r=i.current)||void 0===r?void 0:r.popupsScrollableElement,anchorElement:p,triggerHandler:u,fireAnalyticsCallback:c,items:l,selectedIndex:d,setSelectedItem:w,onItemInsert:k,decorationSet:f,isEmptyQuery:!h,cancel:E}):null}));const L2=function(e){var t,n=null===(t=null==e?void 0:e.useBetterTypeaheadNavigation)||void 0===t||t,r=(0,h.Z)(null==e?void 0:e.createAnalyticsEvent),o={current:null};return{name:"typeAhead",marks:function(){return[{name:"typeAheadQuery",mark:g2.X}]},pmPlugins:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{name:"typeAhead",plugin:function(r){var i=r.dispatch;return v2({getIntl:r.getIntl,popupMountRef:o,reactDispatch:i,typeAheadHandlers:t,createAnalyticsEvent:null==e?void 0:e.createAnalyticsEvent,useBetterTypeaheadNavigation:n})}},{name:"typeAheadInsertItem",plugin:m2},{name:"typeAheadInputRule",plugin:function(e){e.schema,e.featureFlags;return y2(0,t)}}]},contentComponent:function(e){var t=e.editorView,n=e.containerElement,i=e.popupsMountPoint,a=e.popupsBoundariesElement,c=e.popupsScrollableElement,s=e.wrapperElement;return o.current={popupsMountPoint:i||s||void 0,popupsBoundariesElement:a,popupsScrollableElement:c||n||void 0},Z.createElement(M.Z,{plugins:{typeAheadState:gm.u},render:function(e){var n=e.typeAheadState;return n?Z.createElement(I2,{editorView:t,popupMountRef:o,typeAheadState:n,fireAnalyticsCallback:r}):null}})},onEditorViewStateUpdated:function(t){var n=t.originalTransaction,o=t.oldEditorState,i=t.newEditorState,a=Em(o),c=Em(i);if(a&&c){var s=a.triggerHandler,u=c.triggerHandler,l=s!==u;if(null!=s&&s.dismiss&&l){var d=n.getMeta(gm.u),f=d&&"INSERT_RAW_QUERY"===d.action;s.dismiss({editorState:i,query:a.query,stats:(a.stats||new bm).serialize(),wasItemInserted:f})}null!=u&&u.onOpen&&l&&u.onOpen(i),u&&l&&null!=e&&e.createAnalyticsEvent&&r({payload:{action:p.om.INVOKED,actionSubject:p.Wt.TYPEAHEAD,actionSubjectId:u.id||"not_set",attributes:{inputMethod:c.inputMethod||p.Jq.KEYBOARD},eventType:p.Ze.UI}})}}}};var M2=function(e){return{payload:{action:p.om.STOPPED,actionSubject:p.Wt.EDITOR,actionSubjectId:p.VJ.SAVE,attributes:{inputMethod:p.Jq.SHORTCUT,documentSize:e.doc.nodeSize},eventType:p.Ze.UI}}};const R2=function(e){return{name:"submitEditor",pmPlugins:function(){return[{name:"submitEditor",plugin:function(t){return function(e,t){if(t)return(0,it.h)((0,o.Z)({},"".concat(Re.Ps.common),(function(n,r,o){var i=gs.S.getState(n);return i&&i.waitForMediaUpload&&!i.allUploadsFinished||(e(Hl.D,M2(n)),t(o)),!0})))}(t.dispatch,e)}}]}}};var N2=new g.PluginKey("fakeTextCursorPlugin");const j2=function(){return{name:"fakeTextCursor",pmPlugins:function(){return[{name:"fakeTextCursor",plugin:function(){return new u.J({key:N2,props:{decorations:bT}})}}]}}};function F2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var B2=new g.PluginKey("featureFlags");const z2=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"featureFlags",getSharedState:function(t){return t?B2.getState(t)||e||{}:e||{}},pmPlugins:function(){return[{name:"featureFlags",plugin:function(){return new u.J({key:B2,state:{init:function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F2(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)},apply:function(e,t){return t}}})}}]}}};var U2=n(96009),V2=n.n(U2),H2=n(37209),W2=n(94350),G2=n(39849),q2=n(24221),K2=n(38951),$2=n(37938),J2=n(42735),Y2=(0,U.iv)({display:"flex",padding:J2.o3,paddingBottom:"".concat(J2.o3-J2.HV,"px"),position:"relative",alignItems:"center",justifyContent:"space-between"});const X2=function(e){var t=e.children,n=e.testId,r=(0,$2.d)().testId,o=n||r&&"".concat(r,"--header");return(0,U.tZ)("div",{css:Y2,"data-testid":o},t)};var Q2=n(13574),e3=(0,U.iv)({display:"flex",minWidth:0,margin:"var(--ds-space-0, 0px)",alignItems:"center",fontSize:"var(--ds-font-size-300, 20px)",fontStyle:"inherit",fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",lineHeight:1}),t3=(0,U.iv)({minWidth:0,flex:"1 1 auto",wordWrap:"break-word"}),n3=(0,U.iv)({marginRight:"".concat(J2.Kh,"px"),flex:"0 0 auto",alignSelf:"start"}),r3=(0,U.iv)({marginTop:"".concat(-2,"px"),marginBottom:"".concat(-2,"px"),lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}),o3=(0,U.iv)({marginBottom:"".concat(-2,"px"),lineHeight:1.2}),i3=function(e){var t=e.appearance,n=e.isMultiline,r="danger"===t?Kd.default:Q2.Z;return(0,U.tZ)("span",{css:[n3,!n&&o3]},(0,U.tZ)(r,{label:"".concat(t," icon"),primaryColor:J2.e2[t]}))};const a3=function(e){var t=e.appearance,n=e.children,r=e.isMultiline,o=void 0===r||r,i=e.testId,a=(0,$2.d)(),c=a.titleId,s=a.testId,u=i||s&&"".concat(s,"--title");return(0,U.tZ)("h1",{css:e3,"data-testid":u},t&&(0,U.tZ)(i3,{appearance:t,isMultiline:o}),(0,U.tZ)("span",{id:c,css:[t3,!o&&r3],"data-testid":u&&"".concat(u,"-text")},n))};var c3=n(19233),s3=n(31060),u3=n(83908),l3=n(70520),d3=n(19652),p3=n(96943),f3=(0,U.iv)({display:"inherit",margin:"var(--ds-space-0, 0px)",flex:"inherit",flexDirection:"inherit",flexGrow:1,overflowX:"hidden",overflowY:"auto","@media (min-width: 480px)":{height:"unset",overflowY:"auto"}}),h3=(0,U.iv)({borderTop:"".concat(J2.HV,"px solid ").concat(J2.RC)}),v3=(0,U.iv)({borderBottom:"".concat(J2.HV,"px solid ").concat(J2.RC)}),m3=(0,Z.forwardRef)((function(e,t){var n=e.testId,r=e.children,o=(0,p3.Z)({previous:!1,next:!1}),i=(0,sr.Z)(o,2),a=i[0],c=i[1],s=(0,Z.useState)(!1),u=(0,sr.Z)(s,2),l=u[0],d=u[1],p=(0,Z.useState)(!1),f=(0,sr.Z)(p,2),h=f[0],v=f[1],m=(0,Z.useState)(!1),g=(0,sr.Z)(m,2),y=g[0],b=g[1],w=(0,Z.useRef)(null),k=(0,d3.Z)(c),E=(0,d3.Z)((0,PA.Z)((function(){var e=w.current;e&&d(e.scrollHeight>e.clientHeight)}))),x=(0,d3.Z)((0,PA.Z)((function(){var e=w.current;if(e){var t=e.scrollHeight-e.clientHeight;a.current.previous&&v(e.scrollTop>J2.HV),a.current.next&&b(e.scrollTop<=t-J2.HV)}})));return(0,Z.useEffect)((function(){var e=w.current,t=(0,s3.ak)(window,{type:"resize",listener:x}),n=e?(0,s3.ak)(e,{type:"scroll",listener:x}):l3.Z;return E(),x(),k({previous:Boolean(null==e?void 0:e.previousElementSibling),next:Boolean(null==e?void 0:e.nextElementSibling)}),function(){t(),n()}}),[E,x,k]),(0,U.tZ)(qy.Z,{isInset:!0},(0,U.tZ)("div",{tabIndex:l?0:void 0,"data-testid":n&&"".concat(n,"--scrollable"),ref:(0,u3.Z)([t,w]),css:[f3,h&&h3,y&&v3]},r))}));m3.displayName="ScrollContainer";const g3=m3;var y3=n(70738);var b3=(0,U.iv)({flex:"1 1 auto"}),w3=(0,U.iv)({padding:"".concat(J2.HV,"px ").concat(J2.o3,"px")}),k3=(0,U.iv)({padding:"0px ".concat(J2.o3,"px")});const E3=function(e){var t=e.children,n=e.testId,r=(0,$2.d)().testId,o=function(){var e=(0,Z.useContext)(y3.$);if(null==e)throw Error("@atlaskit/modal-dialog: Scroll context unavailable – this component needs to be a child of ModalDialog.");return e}(),i=n||r&&"".concat(r,"--body");return o?(0,U.tZ)("div",{css:[b3,k3],"data-testid":i},t):(0,U.tZ)(c3.in,null,(0,U.tZ)(g3,{testId:n||r},(0,U.tZ)("div",{css:[b3,w3],"data-testid":i},t)))};var x3=(0,U.iv)({display:"flex",padding:J2.o3,paddingTop:"".concat(J2.o3-J2.HV,"px"),position:"relative",alignItems:"center",justifyContent:"flex-end",gap:"var(--ds-space-100, 8px)"});const O3=function(e){var t=e.children,n=e.testId,r=(0,$2.d)().testId,o=n||r&&"".concat(r,"--footer");return(0,U.tZ)("div",{css:x3,"data-testid":o},t)};var S3=n(99354),C3=function(e){var t=e.onConfirm,n=e.onClose,r=e.options,o=e.intl.formatMessage,i=e.testId,a=(null==r?void 0:r.title)||o(S3.Z.confirmModalDefaultHeading),c=(null==r?void 0:r.okButtonLabel)||o(S3.Z.confirmModalOK),s=(null==r?void 0:r.cancelButtonLabel)||o(S3.Z.confirmModalCancel);return Z.createElement(K2.Z,{onClose:n,testId:i},Z.createElement(X2,null,Z.createElement(a3,{appearance:"warning"},a)),Z.createElement(E3,null,Z.createElement("p",null,null==r?void 0:r.message)),Z.createElement(O3,null,Z.createElement(q2.Z,{appearance:"default",onClick:n,testId:i?"".concat(i,"-cancel-button"):void 0},s),Z.createElement(q2.Z,{appearance:"warning",onClick:function(){t(),n()},testId:i?"".concat(i,"-confirm-button"):void 0},c)))},T3=n(62460),A3=function(e){var t,n=(0,Z.useState)(!1),r=(0,sr.Z)(n,2),o=r[0],i=r[1],a=e.onConfirm,c=e.onClose,s=e.options,u=e.intl.formatMessage,l=e.testId,d=(null==s?void 0:s.title)||u(S3.Z.confirmModalDefaultHeading),p=(null==s?void 0:s.okButtonLabel)||u(S3.Z.confirmModalOK),f=(null==s?void 0:s.cancelButtonLabel)||u(S3.Z.confirmModalCancel),h=null==s?void 0:s.checkboxLabel,v=null==s||null===(t=s.getChildrenInfo)||void 0===t?void 0:t.call(s),m=function(e){var t=e.nodes;return 0===t.length?null:Z.createElement("ul",null,t.map((function(e){return Z.createElement(g,(0,Lt.Z)({},e,{key:e.id}))})))},g=function(e){var t=e.id,n=e.name,r=e.amount;return Z.createElement("li",{id:t},u(S3.Z.confirmModalListUnit,{name:n,amount:r}))};return Z.createElement(K2.Z,{onClose:c,testId:l},Z.createElement(X2,null,Z.createElement(a3,{appearance:"warning"},d)),Z.createElement(E3,null,Z.createElement("p",null,null==s?void 0:s.message),!(null==v||!v.length)&&Z.createElement(m,{nodes:v}),Z.createElement("p",null,Z.createElement(T3.Z,{isChecked:o,onChange:function(){return i(!o)},label:h,testId:l?"".concat(l,"-checkbox"):void 0}))),Z.createElement(O3,null,Z.createElement(q2.Z,{appearance:"default",onClick:c,testId:l?"".concat(l,"-cancel-button"):void 0},f),Z.createElement(q2.Z,{appearance:"warning",onClick:function(){a(o),c()},testId:l?"".concat(l,"-confirm-button"):void 0},p)))},_3=n(97592),P3=(0,H.ZP)((function(e){var t=e.options;return t?Z.createElement(_3.Z,null,function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Z.createElement(A3,e):Z.createElement(C3,e)}(null==t?void 0:t.isReferentialityDialog)):null})),D3=xo()({loader:function(){return Promise.all([n.e(3507),n.e(42),n.e(9602)]).then(n.bind(n,22998)).then((function(e){return e.default}))},loading:function(){return null}}),Z3=n(97007),I3=n(70358);function L3(e){var t=e.nodeType,n=e.selection,r=(0,W.a1)(t)(n);return r||(r=(0,W.Tr)(t)(n)),r}var M3=function(e,t){return on.DOMSerializer.fromSchema(t).serializeNode(e)},R3=new g.PluginKey("clipboardPlugin");function N3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N3(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F3=function(e,t){var n=on.DOMSerializer.fromSchema(e),r=new on.DOMSerializer(n.nodes,n.marks),o=r.serializeFragment.bind(r);return r.serializeFragment=function(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,c=t().state.selection;if(!i.tableWrapperExists)for(var s=0;s<n.childCount;){var u;if("table"===(null===(u=n.maybeChild(s))||void 0===u?void 0:u.type.name)){i.tableWrapperExists=!0;break}s++}if("tableRow"===(null===(r=n.firstChild)||void 0===r?void 0:r.type.name)&&!i.tableWrapperExists){i.tableWrapperExists=!0;var l=(0,W.Tr)(e.nodes.table)(c),d=null==l?void 0:l.node.attrs,p=e.nodes.table.createChecked(j3(j3({},d),{},{localId:void 0}),n),f=on.Fragment.from(p);return o(f,i,a)}return o(n,i,a)},r},B3=function(e,t,n){var r=z3(e.state,n);return r&&t(r),!1},z3=function(e,t){var n=e.selection,r=e.doc,o=Si(n)||Pi(n,r)||Ci(n)||Ti(e);if(o){var i=[];switch(o.actionSubjectId){case p.VJ.NODE:i.push(o.attributes.node);break;case p.VJ.RANGE:i.push.apply(i,(0,s.Z)(o.attributes.nodes));break;case p.VJ.ALL:i.push("all");break;case p.VJ.CELL:var a=o.attributes.selectedCells;i.push.apply(i,(0,s.Z)(Array(a).fill("tableCell")))}return{eventType:p.Ze.TRACK,action:t,actionSubject:p.Wt.DOCUMENT,attributes:{content:i}}}if(n instanceof g.TextSelection&&n.$cursor)return{eventType:p.Ze.TRACK,action:t,actionSubject:p.Wt.DOCUMENT,attributes:{content:["caret"]}}};function U3(e){return function(t,n){var r=t.tr;return r.setMeta(XF,{showSelection:!0,markType:e}),n&&n(r),!0}}function V3(e,t){var n=e.tr;n.setMeta(XF,{removeSelection:!0});var r=XF.getState(e);return null!=r&&r.copied&&n.setMeta(XF,{copied:!1}),t&&t(n),!0}var H3=function(e){return function(t,n){var r=t.tr,o=t.schema,i=L3({nodeType:e,selection:r.selection});if(!i)return!1;var a=r;a.setMeta(XF,{copied:!0});var c=z3(t,p.om.COPIED);if(c&&(c.attributes.inputMethod=p.Jq.FLOATING_TB,c.attributes.nodeType=i.node.type.name,(0,At.Gs)(t,a,c)),n){var s=M3(i.node,o);if(s){var u=document.createElement("div");u.appendChild(s),i.node.type.inlineContent?u.firstChild.setAttribute("data-pm-slice","1 1 []"):u.firstChild.setAttribute("data-pm-slice","0 0 []"),ZE(u)}a.setMeta("scrollIntoView",!1),n(a)}return!0}},W3=function(e,t){return function(n,r){var o=n.tr,i=function(e){o=e};t?t(n,i):(0,Xa.pP)(e,!1)(n,i);var a=XF.getState(n);return null!=a&&a.copied&&o.setMeta(XF,{copied:!1}),r&&r(o),!0}};function G3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G3(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K3(e){return function(t){return t.flatMap((function(t){return"copy-button"===t.type?null!=t&&t.hidden||!function(e){return e&&e.plugins.find((function(e){return e.key===XF.key}))}(e)?[]:null==t?void 0:t.items.map((function(e){return function(e){return"separator"===(null==e?void 0:e.type)}(e)?e:function(e){var t,n,r=e.state,o=e.formatMessage,i=e.onMouseEnter,a=e.onMouseLeave,c=e.onFocus,s=e.onBlur,u=XF.getState(r);return t=function(e){return"nodeType"in e&&void 0!==e.nodeType}(e)?{onClick:H3(e.nodeType),onMouseEnter:i||(0,Xa.pP)(e.nodeType,!0,"ak-editor-selected-node"),onFocus:c||(0,Xa.pP)(e.nodeType,!0,"ak-editor-selected-node"),onMouseLeave:W3(e.nodeType,a),onBlur:W3(e.nodeType,s)}:{onClick:(n=e.markType,function(e,t){var r=e.tr.selection.$head.parent.maybeChild(e.tr.selection.$head.index());if(!r)return!1;if(t){var o=M3(r,e.schema);if(o){var i=document.createElement("div"),a=document.createElement("p");i.appendChild(a),a.appendChild(o),i.firstChild.setAttribute("data-pm-slice","1 1 []");var c=o.getAttribute("href");ZE(i,"link"===n.name&&c?c:void 0)}var s=e.tr;s.setMeta(XF,{copied:!0});var u=z3(e,p.om.COPIED);u&&(u.attributes.inputMethod=p.Jq.FLOATING_TB,u.attributes.markType=n.name,(0,At.Gs)(e,s,u)),t(s)}return!0}),onMouseEnter:U3(e.markType),onFocus:U3(e.markType),onMouseLeave:V3,onBlur:V3},q3(q3({id:"editor.floatingToolbar.copy",type:"button",appearance:"subtle",icon:I3.Z,title:o(null!=u&&u.copied?Q.ZP.copiedToClipboard:Q.ZP.copyToClipboard)},t),{},{hideTooltipOnClick:!1,tabIndex:null})}(e)})):[t]}))}}function $3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$3(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y3=function(e,t){try{return(0,W.TM)(e.state.selection.from,e.domAtPos.bind(e))}catch(n){if(console.warn(n),t)t({action:p.om.ERRORED,actionSubject:p.Wt.CONTENT_COMPONENT,eventType:p.Ze.OPERATIONAL,attributes:{component:p.nI.FLOATING_TOOLBAR,selection:e.state.selection.toJSON(),position:e.state.selection.from,docSize:e.state.doc.nodeSize,error:n.toString(),errorStack:n.stack||void 0}})}};function X3(e){return!!e}const Q3=function(e,t){var n,r,o=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"floatingToolbar",pmPlugins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{name:"floatingToolbar",plugin:function(t){var n=t.dispatch,r=t.providerFactory,o=t.getIntl;return function(e){var t=e.floatingToolbarHandlers,n=e.dispatch,r=e.providerFactory,o=e.getIntl,i=o(),a=function(e){var n=t.map((function(t){return t(e,i,r)})).filter(X3).map((function(e){return function(e){if(Array.isArray(e.nodeType))return J3(J3({},e),{},{nodeType:e.nodeType.filter(X3)});return e}(e)})),o=n&&function(e,t){var n;if(t.find((function(t){var r=(0,W.a1)(t.nodeType)(e);return r&&(n={node:r.node,pos:r.pos,config:t}),!!r})),n)return n;var r={};t.forEach((function(e){Array.isArray(e.nodeType)?e.nodeType.forEach((function(t){r[t.name]=e})):r[e.nodeType.name]=e}));for(var o=e.$from,i=o.depth;i>0;i--){var a=o.node(i),c=r[a.type.name];if(c)return{config:c,node:a,pos:o.pos}}if(e instanceof g.AllSelection){var s=o.node(0),u=null,l=(0,Z3.DY)(s,(function(e){return!!(u=r[e.type.name])}));if(l&&u)return{config:u,node:l,pos:o.pos}}}(e.selection,n);return o},c=function(e,t){var r={getConfigWithNodeInfo:a};return n(e5,r),r};return new u.J({key:e5,state:{init:function(){return D3.preload(),{getConfigWithNodeInfo:a}},apply:c}})}({floatingToolbarHandlers:e,dispatch:n,providerFactory:r,getIntl:o})}},{name:"floatingToolbarData",plugin:function(e){return function(e){return new u.J({state:(0,W2.Ln)(e,{}),key:H2.u})}(e.dispatch)}},{name:"forceFocus",plugin:function(){return(0,lf.ZP)()}}]},contentComponent:function(e){var t=e.popupsMountPoint,n=e.popupsBoundariesElement,r=e.popupsScrollableElement,i=e.editorView,a=e.providerFactory,c=e.dispatchAnalyticsEvent;return Z.createElement(M.Z,{plugins:{floatingToolbarState:e5,floatingToolbarData:H2.u,editorDisabledPlugin:$l,extensionsState:mS.u},render:function(e){var s,u,l=e.editorDisabledPlugin,d=e.floatingToolbarState,f=e.floatingToolbarData,h=e.extensionsState,v=null==d?void 0:d.getConfigWithNodeInfo(i.state);if(!v||!v.config||void 0!==(null===(s=v.config)||void 0===s?void 0:s.visible)&&(null===(u=v.config)||void 0===u||!u.visible))return null;var m,g=v.config,y=v.node,b=g.title,w=g.getDomRef,k=void 0===w?Y3:w,E=g.items,x=g.align,O=void 0===x?"center":x,S=g.className,C=void 0===S?"":S,T=g.height,A=g.width,_=g.zIndex,P=g.offset,D=void 0===P?[0,12]:P,I=g.forcePlacement,L=g.preventPopupOverflow,M=g.onPositionCalculated,R=g.focusTrap,N=k(i,c);if(!N||l&&l.editorDisabled)return null;var j=K3(i.state)(Array.isArray(E)?E:E(y));M&&(m=function(e){return M(i,e)});var F=function(e){return e&&e(i.state,i.dispatch,i)},B=(f||{}).confirmDialogForItem,z=B?j[B]:void 0,U=o.floatingToolbarCopyButton&&g.scrollable,V="function"==typeof(null==z?void 0:z.confirmDialog)?null==z?void 0:z.confirmDialog():null==z?void 0:z.confirmDialog;return Z.createElement(Wl.S,{component:p.Wt.FLOATING_TOOLBAR_PLUGIN,componentId:V2()(b),dispatchAnalyticsEvent:c,fallbackComponent:null},Z.createElement(G.Z,{ariaLabel:b,offset:D,target:N,alignY:"bottom",forcePlacement:I,fitHeight:T,fitWidth:A,alignX:O,stick:!0,zIndex:_,mountTo:t,boundariesElement:n,scrollableElement:r,onPositionCalculated:m,style:U?{maxWidth:"100%"}:{},focusTrap:R,preventOverflow:L},Z.createElement(D3,{target:N,items:j,node:y,dispatchCommand:F,editorView:i,className:C,focusEditor:function(){return i.focus()},providerFactory:a,popupsMountPoint:t,popupsBoundariesElement:n,popupsScrollableElement:r,dispatchAnalyticsEvent:c,extensionsProvider:null==h?void 0:h.extensionProvider,scrollable:U,featureFlags:o})),Z.createElement(P3,{testId:"ak-floating-toolbar-confirmation-modal",options:V,onConfirm:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];V.onConfirm?F(V.onConfirm(e)):F(z.onClick)},onClose:function(){F((0,G2.v)()),i.hasFocus()||i.focus()}}))}})}}};var e5=new g.PluginKey("floatingToolbarPluginKey");const t5=function(){return{name:"clipboard",pmPlugins:function(){return[{name:"clipboard",plugin:function(e){return function(e){var t,n=e.dispatchAnalyticsEvent,r=e.schema;return new u.J({key:R3,view:function(e){return t=e,{update:function(e){t=e}}},props:{handleDOMEvents:{cut:function(e){return B3(e,n,p.om.CUT)},copy:function(e){return B3(e,n,p.om.COPIED)}},clipboardSerializer:F3(r,(function(){return t}))}})}(e)}}]}}};var n5=n(79831),r5=new g.PluginKey("placeholderPlugin");var o5="placeholder-test-id";function i5(e,t){return{hasPlaceholder:!0,placeholderText:e,pos:t||1}}var a5={hasPlaceholder:!1};function c5(e,t,n){var r=Zv.R.getState(e);return km(e)?a5:t&&(0,cr.RL)(e.doc)?i5(t):n&&(0,cr.yZ)(e)&&r?i5("  "+n,e.selection.$from.pos-1):a5}function s5(e,t){if(e||t)return new u.J({key:r5,state:{init:function(n,r){return c5(r,e,t)},apply:function(n,r,o,i){var a=n.getMeta(r5);if(a){if(a.removePlaceholder)return a5;if(a.applyPlaceholderIfEmpty)return c5(i,e,t)}return c5(i,e,t)}},props:{decorations:function(e){var t=function(e){return r5.getState(e)}(e),n=t.hasPlaceholder,r=t.placeholderText,o=t.pos;if(n&&r&&void 0!==o&&!(0,n5.b)(e))return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=document.createElement("span"),o=r;if(r.setAttribute("data-testid",o5),r.className="placeholder-decoration",Ec.Z.gecko){var i=document.createElement("span");i.setAttribute("contenteditable","true"),r.appendChild(i),o=i}if(o.textContent=t||" ",Ec.Z.android&&Ec.Z.chrome){var a=document.createElement("span");a.setAttribute("class","placeholder-android"),a.setAttribute("contenteditable","true"),a.textContent=" ",r.appendChild(a)}return tn.EH.create(e.doc,[tn.p.widget(n,r,{side:0,key:"placeholder"})])}(e,r,o)}}})}const u5=function(e){return{name:"placeholder",pmPlugins:function(){return[{name:"placeholder",plugin:function(){return s5(e&&e.placeholder,e&&e.placeholderBracketHint)}}]}}};function l5(e){return[{title:e.formatMessage(v5.all),name:"all"},{title:e.formatMessage(v5.formatting),name:"formatting"},{title:e.formatMessage(v5["confluence-content"]),name:"confluence-content"},{title:e.formatMessage(v5.media),name:"media"},{title:e.formatMessage(v5.visuals),name:"visuals"},{title:e.formatMessage(v5.navigation),name:"navigation"},{title:e.formatMessage(v5["external-content"]),name:"external-content"},{title:e.formatMessage(v5.communication),name:"communication"},{title:e.formatMessage(v5.reporting),name:"reporting"},{title:e.formatMessage(v5.admin),name:"admin"},{title:e.formatMessage(v5.development),name:"development"}]}var d5,p5,f5,h5,v5=(0,Ze.vU)({all:{id:"fabric.editor.elementbrowser.categorylist.category-all",defaultMessage:"All",description:"all"},formatting:{id:"fabric.editor.elementbrowser.categorylist.category-formatting",defaultMessage:"Formatting",description:"formatting"},"confluence-content":{id:"fabric.editor.elementbrowser.categorylist.category-confluence-content",defaultMessage:"Confluence content",description:"confluence-content"},media:{id:"fabric.editor.elementbrowser.categorylist.category-media",defaultMessage:"Media",description:"media"},visuals:{id:"fabric.editor.elementbrowser.categorylist.category-visuals",defaultMessage:"Visuals & images",description:"visuals"},navigation:{id:"fabric.editor.elementbrowser.categorylist.category-navigation",defaultMessage:"Navigation",description:"navigation"},"external-content":{id:"fabric.editor.elementbrowser.categorylist.category-external-content",defaultMessage:"External content",description:"external-content"},communication:{id:"fabric.editor.elementbrowser.categorylist.category-communication",defaultMessage:"Communication",description:"communication"},reporting:{id:"fabric.editor.elementbrowser.categorylist.category-reporting",defaultMessage:"Reporting",description:"reporting"},admin:{id:"fabric.editor.elementbrowser.categorylist.category-admin",defaultMessage:"Administration",description:"admin"},development:{id:"fabric.editor.elementbrowser.categorylist.category-development",defaultMessage:"Development",description:"development"}}),m5=(0,Ze.vU)({help:{id:"fabric.editor.elementBrowser.help",defaultMessage:"Help",description:"Element browser help button label"}}),g5=(0,U.iv)(d5||(d5=(0,z.Z)(["\n  display: inline-flex;\n  margin: 0 -4px;\n"]))),y5=(0,U.iv)(p5||(p5=(0,z.Z)(["\n  flex: 1 0 auto;\n  margin: 0 4px;\n"]))),b5=(0,U.iv)(f5||(f5=(0,z.Z)(["\n  display: flex;\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  padding: ","px ","px 0 10px;\n  overflow: hidden;\n  background-color: ",";\n  border-radius: ","px;\n"])),Vj.BZ,Vj.BZ,(0,Ky.Z)({light:"var(--ds-surface-overlay, ".concat(V.N0,")"),dark:"var(--ds-surface-overlay, ".concat(V.H8,")")})(),(0,re.E0)()),w5=(0,U.iv)(h5||(h5=(0,z.Z)(["\n  display: flex;\n  padding: ","px;\n\n  position: relative;\n  align-items: center;\n  justify-content: space-between;\n"])),Vj.BZ),k5=function(e){var t=(0,Z.useState)(),n=(0,sr.Z)(t,2),r=n[0],o=n[1],i=e.helpUrl,a=e.intl,c=(0,Z.useCallback)((function(e){o(e)}),[o]),s=(0,Z.useCallback)((function(t){e.onInsertItem(t)}),[e]),u=(0,Z.useCallback)((function(){return(0,U.tZ)(x5,{onInsert:function(){return s(r)},beforeElement:i?O5(i,a.formatMessage(m5.help)):void 0})}),[s,r,i,a]),l=(0,Z.useCallback)((function(t){"Escape"===t.key&&e.onClose()}),[e]),d=(0,Z.useCallback)((function(){return(0,U.tZ)("div",{css:b5},(0,U.tZ)(jj,{categories:l5(e.intl),getItems:e.getItems,showSearch:!0,showCategories:!0,mode:"full",onSelectItem:c,onInsertItem:s,emptyStateHandler:e.emptyStateHandler}))}),[e.intl,e.getItems,c,s,e.emptyStateHandler]);return(0,U.tZ)("div",{"data-editor-popup":!0,onClick:E5,onKeyDown:l},(0,U.tZ)(_3.Z,null,e.isOpen&&(0,U.tZ)(K2.Z,{testId:"element-browser-modal-dialog",stackIndex:0,key:"element-browser-modal",onClose:e.onClose,height:"664px",width:"x-large",autoFocus:!1,shouldCloseOnEscapePress:!1},(0,U.tZ)(d,null),(0,U.tZ)(u,null))))};k5.displayName="ModalElementBrowser";var E5=function(e){return e.stopPropagation()},x5=function(e){var t=e.onInsert,n=e.beforeElement,r=(0,$2.d)().onClose;return(0,U.tZ)("div",{css:w5},n||(0,U.tZ)("span",null),(0,U.tZ)("div",{css:g5},(0,U.tZ)("div",{css:y5},(0,U.tZ)(Bi.Z,{appearance:"primary",onClick:t,testId:"ModalElementBrowser__insert-button"},"Insert")),(0,U.tZ)("div",{css:y5},(0,U.tZ)(Bi.Z,{appearance:"subtle",onClick:r,testId:"ModalElementBrowser__close-button"},"Close"))))},O5=function(e,t){return(0,U.tZ)(Bi.Z,{iconBefore:(0,U.tZ)(mE.Z,{label:"",size:"medium"}),appearance:"subtle-link",href:e,target:"_blank",testId:"ModalElementBrowser__help-button"},t)};const S5=(0,H.ZP)(k5);var C5=function(e){var t=e.quickInsertState,n=e.editorView,r=e.helpUrl,o=(0,Z.useCallback)((function(e,n){return Rj(t,{})(e,n)}),[t]),i=(0,Z.useCallback)((function(){n.hasFocus()||n.focus()}),[n]),a=(0,Z.useCallback)((function(e){qR()(n.state,n.dispatch),i(),KR(e)(n.state,n.dispatch)}),[n.dispatch,n.state,i]),c=(0,Z.useCallback)((function(){qR()(n.state,n.dispatch),i()}),[n.dispatch,n.state,i]);return Z.createElement(S5,{getItems:o,onInsertItem:a,helpUrl:r,isOpen:t&&t.isElementBrowserModalOpen||!1,emptyStateHandler:t&&t.emptyStateHandler,onClose:c})};const T5=function(e){var t=e.editorView,n=e.helpUrl,r=(0,Z.useCallback)((function(e){var r=e.quickInsertState;return Z.createElement(C5,{quickInsertState:r,editorView:t,helpUrl:n})}),[t,n]);return Z.createElement(M.Z,{plugins:{quickInsertState:vE},render:r})};function A5(){A5=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(o||[]);return r(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function o(r,a,c,s){var u=d(e[r],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,i.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(b,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function _5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P5(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_5(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const D5=function(e){return{name:"quickInsert",pmPlugins:function(t){return[{name:"quickInsert",plugin:function(n){var r=n.providerFactory,o=n.getIntl,i=n.dispatch;return function(e,t,n,r,o){return new u.J({key:vE,state:{init:function(){return{isElementBrowserModalOpen:!1,emptyStateHandler:o,lazyDefaultItems:function(){return Z5(e||[],n())}}},apply:function(e,t){var n=e.getMeta(vE);if(n){var o=Object.keys(n).some((function(e){return t[e]!==n[e]}));if(o){var i=P5(P5({},t),n);return r(vE,i),i}}return t}},view:function(e){var n=function(){var t=(0,wc.Z)(A5().mark((function t(n,r){var o,i;return A5().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=14;break}return t.prev=1,t.next=4,r;case 4:return o=t.sent,t.next=7,o.getItems();case 7:i=t.sent,L5({provider:o,providedItems:i})(e.state,e.dispatch),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.error("Error getting items from quick insert provider",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,n){return t.apply(this,arguments)}}();return t.subscribe("quickInsertProvider",n),{destroy:function(){t.unsubscribe("quickInsertProvider",n)}}}})}(t,r,o,i,null==e?void 0:e.emptyStateHandler)}}]},pluginsOptions:{typeAhead:{id:mm.o.QUICK_INSERT,trigger:"/",headless:e?e.headless:void 0,getItems:function(t){var n=t.query,r=t.editorState,o=vE.getState(r);return Promise.resolve(Rj(o,e)(n))},selectItem:function(e,t,n){return t.action(n,e)}}},contentComponent:function(t){var n=t.editorView;return e&&e.enableElementBrowser?Z.createElement(T5,{editorView:n,helpUrl:e.elementBrowserHelpUrl}):null}}};var Z5=(0,XE.Z)((function(e,t,n){var r=e.reduce((function(e,n){if("function"==typeof n){var r=n(t);return e.concat(r)}return e.concat(n)}),[]);return I5(r,n)})),I5=function(e,t){return t?e.map((function(e){var n=e.id;if(n&&t[n]){var r=e.action;e.action=function(o,i){var a=r(o,i);return t[n](e),a}}return e})):e},L5=function(e){return function(t,n){return n&&n(t.tr.setMeta(vE,e)),!0}};var M5=function(e,t){if(0===e.pos||0===e.depth)return null;var n,r="up"===t?e.before():e.after(),o=e.doc.resolve(r),i="up"===t?o.nodeBefore:o.nodeAfter;if(i&&(n=i,Boolean(n&&["expand","nestedExpand"].includes(n.type.name)&&!n.attrs.__expanded))){var a=i.nodeSize,c="up"===t?r-a:r+a,s=Math.max(c,0);return e.doc.resolve(Math.min(s,e.doc.content.size))}return null},R5=function(e,t){if(!(t instanceof KeyboardEvent))return!1;if(!t.shiftKey||t.ctrlKey||t.metaKey)return!1;if(!["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End"].includes(t.key))return!1;var n=e.state.selection,r=n.$head,o=n.$anchor;if("ArrowRight"===t.key&&r.nodeAfter||"ArrowLeft"===t.key&&r.nodeBefore)return!1;var i=["ArrowLeft","ArrowUp","Home"].includes(t.key)?"up":"down",a=M5(r,i);if(a){var c=g.TextSelection.create(e.state.doc,o.pos,a.pos),s=e.state.tr;return s.setSelection(c),e.dispatch(s),t.preventDefault(),!0}return!1};function N5(e,t){var n=e.doc;if(e.pos+1>n.content.size)return null;if(0===e.depth)return t(e)?e:null;if(t(e))return e;var r=e.before();return N5(n.resolve(r),t)}var j5=function(e){var t=e.nodeAfter;return!(!t||!t.isBlock)&&(!!t.isAtom||(0===t.content.size||""===t.textContent)&&g.NodeSelection.isSelectable(t))};function F5(e){var t=e.$targetHead,n=e.$anchor,r=e.doc,o=n.pos<t.pos?"down":"up",i=N5(t,j5);if(i&&i.nodeAfter){var a=i.nodeAfter,c=i.pos,s="down"===o?Math.min(a.nodeSize+c,r.content.size):Math.max(c,0);return r.resolve(s)}return null}var B5=function(e,t,n){if(t.pos===n.pos)return null;var r=F5({$targetHead:n,$anchor:t,doc:e.state.doc});return r?g.TextSelection.create(e.state.doc,t.pos,r.pos):null},z5=function(e){return{decorationSet:Oi(e.tr),selection:e.selection}};const U5=function(){var e={};return(0,Re.E4)(Re.ql.common,Za,e),(0,Re.E4)(Re.hi.common,Ia,e),(0,it.h)(e)};var V5=n(28536),H5=n(28939),W5=n(46840),G5={"tableView-content-wrap":"table","mediaSingleView-content-wrap":".rich-media-item"},q5=function(e,t){var n=(0,W5.Z)(t),r=n[0],o=n.slice(1),i=[e.getPropertyValue(r)];"content-box"===e.getPropertyValue("box-sizing")&&o.forEach((function(t){i.push(e.getPropertyValue(t))}));for(var a=0,c=0;c<i.length;c++)a+=parseFloat(i[c]);return a},K5=function(e,t){var n=e.state.selection,r=n.$from,o=n.side===rn.MF.RIGHT,i=o?r.nodeBefore:r.nodeAfter,a=t(),c=e.nodeDOM(a),s=document.createElement("span");if(s.className="ProseMirror-gapcursor ".concat(o?"-right":"-left"),s.appendChild(document.createElement("span")),c instanceof HTMLElement&&s.firstChild){var u=function(e){var t=Object.keys(G5).find((function(t){return e.classList.contains(t)})),n=t&&G5[t];if(n){var r=e.querySelector(n);if(r)return window.getComputedStyle(r)}}(c)||window.getComputedStyle(c),l=s.firstChild;l.style.height="".concat(function(e){return q5(e,["height","padding-top","padding-bottom","border-top-width","border-bottom-width"])}(u),"px"),(0!==a||i&&"table"===i.type.name)&&(l.style.marginTop=u.getPropertyValue("margin-top"));var d=i&&(0,H5.TK)(i);d?(l.setAttribute("layout",d),l.style.width="".concat(function(e){return q5(e,["width","padding-left","padding-right","border-left-width","border-right-width"])}(u),"px")):function(e,t,n){if((0,H5.A2)(n))e.style.marginLeft=t.getPropertyValue("margin-left");else{var r=parseFloat(t.getPropertyValue("margin-right"));r>0?e.style.marginLeft="-".concat(Math.abs(r),"px"):e.style.paddingRight="".concat(Math.abs(r),"px")}}(l,u,n.side)}return s},$5=n(47351),J5=n(41299),Y5=n(11896),X5=new u.J({key:Y5.H,state:{init:function(){return!1},apply:function(e,t,n,r){return r.selection instanceof rn.WD}},view:function(e){return 0===e.state.selection.anchor&&e.state.selection instanceof g.NodeSelection&&window.requestAnimationFrame((function(){e.dispatch(e.state.tr.setSelection(new rn.WD(e.state.doc.resolve(0),rn.MF.LEFT)))})),{update:function(e){var t=Y5.H.getState(e.state);e.dom.classList.toggle(V5.a,t)}}},props:{decorations:function(e){var t=e.doc,n=e.selection;if(n instanceof rn.WD){var r=n.$from,o=n.side,i=n.head,a=o===rn.MF.RIGHT;if(a&&r.nodeBefore){var c=(0,W.Ez)(n);"number"==typeof c&&(i=c)}var s=a?r.nodeBefore:r.nodeAfter,u=s&&(0,H5.TK)(s);return tn.EH.create(t,[tn.p.widget(i,K5,{key:"".concat(rn.i0,"-").concat(o,"-").concat(u),side:u?-1:0})])}return null},createSelectionBetween:function(e,t,n){if(!(e&&e.state&&e.state.selection instanceof be.X))return t.pos===n.pos&&rn.WD.valid(n)?new rn.WD(n):void 0},handleClick:function(e,t,n){var r=e.posAtCoords({left:n.clientX,top:n.clientY});if(r&&r.inside!==t&&!(0,H5.Mp)(n.target)){var o=n.offsetX>20?rn.MF.RIGHT:rn.MF.LEFT;return(0,$5.g2)(t,o)(e.state,e.dispatch)}return!1},handleDOMEvents:{beforeinput:function(e,t){return"deleteContentBackward"===t.inputType&&e.state.selection instanceof rn.WD&&(t.preventDefault(),(0,$5.IK)(J5.Nm.BACKWARD)(e.state,e.dispatch))}}}});const Q5=X5;const e4=function(e){return{name:"selection",pmPlugins:function(){return[{name:"selection",plugin:function(t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new u.J({key:Ei,state:Pa(e,z5),view:function(){return{update:function(e,n){var r=e.state;if(Di({oldEditorState:n,newEditorState:r})){var o=Si(r.selection)||Ci(r.selection)||!e.mouseDown&&(Pi(r.selection,r.doc)||Ti(r));o&&t(o)}}}},appendTransaction:function(e,t,n){if(Di({oldEditorState:t,newEditorState:n})){var r=n.tr;return r.setMeta(Ei,{type:va.SET_DECORATIONS,selection:r.selection,decorationSet:Oi(r)}),r}},filterTransaction:function(e,t){return!(n.useLongPressSelection&&e.selectionSet&&e.selection instanceof g.NodeSelection&&!e.getMeta(Ei)||t.selection instanceof g.NodeSelection&&e.selection instanceof g.TextSelection&&t.selection.from===e.selection.from&&t.selection.to===e.selection.to)},props:{createSelectionBetween:B5,decorations:function(e){return _a(e).decorationSet},handleDOMEvents:{keydown:R5,mouseup:function(e,n){if(!n.shiftKey){var r=Pi(e.state.selection,e.state.doc)||Ti(e.state);r&&t(r)}return!1}}}})}(t.dispatch,t.dispatchAnalyticsEvent,e)}},{name:"selectionKeymap",plugin:U5},{name:"gapCursorKeymap",plugin:function(){return e={},Re.E4(Re.zo.common,(function(e,t,n){return!!(e.selection instanceof rn.WD)&&(0,ar.mD)(e,t)}),e),Re.E4(Re.hi.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return(0,$5.x7)(J5.Nm.LEFT,r)(e,t,n)}),e),Re.E4(Re.ql.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return(0,$5.x7)(J5.Nm.RIGHT,r)(e,t)}),e),Re.E4(Re.A1.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return(0,$5.x7)(J5.Nm.UP,r)(e,t)}),e),Re.E4(Re.vi.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return(0,$5.x7)(J5.Nm.DOWN,r)(e,t)}),e),Re.E4(Re.as.common,(0,$5.IK)(J5.Nm.BACKWARD),e),Re.E4(Re.L2.common,(0,$5.IK)(J5.Nm.FORWARD),e),(0,it.h)(e);var e}},{name:"gapCursor",plugin:function(){return Q5}}]}}};var t4=n(99017),n4=n(37432),r4=new g.PluginKey("codeBlockCopySelectionPlugin");function o4(e){var t=e.state,n=e.transaction,r=L3({nodeType:t.schema.nodes.codeBlock,selection:n.selection});return r?{decorationStartAndEnd:[r.start,r.start+r.node.nodeSize]}:{decorationStartAndEnd:void 0}}function i4(e,t){var n=e.tr;return n.setMeta(r4,"show-selection"),t&&t(n),!0}function a4(e,t){var n=e.tr;return n.setMeta(r4,"remove-selection"),t&&t(n),!0}var c4="SET_COPIED_TO_CLIPBOARD",s4="SET_SHOULD_IGNORE_FOLLOWING_MUTATIONS",u4=function(e,t){var n=e.schema.nodes,r=e.tr;if(t){t((0,W.a1)(n.codeBlock)(r.selection)?(0,W.au)(r):(0,W.NQ)(n.codeBlock)(r))}return!0},l4=function(e,t){var n=e.schema.nodes,r=e.tr,o=(0,W.Tr)(n.codeBlock)(r.selection),i=o&&o.node.textContent;if(i){DE(i);var a=r;a.setMeta(hb,{type:c4,data:!0}),a.setMeta(r4,"remove-selection"),t&&t(a)}return!0},d4=function(e,t){var n=e.tr,r=hb.getState(e),o=n;if(r&&r.contentCopied)o.setMeta(hb,{type:c4,data:!1}),o.setMeta(r4,"remove-selection"),t&&t(o);else{var i=e.tr;i.setMeta(r4,"remove-selection"),t&&t(i)}return!0},p4=function(e,t){var n=e.tr;return n.setMeta(hb,{type:s4,data:!1}),t&&t(n),!0},f4=new RegExp("\n","g"),h4=function(){function e(t,n,r){var i=this;(0,P.Z)(this,e),(0,o.Z)(this,"ensureLineNumbers",(0,PA.Z)((function(){var e=1;for(i.node.forEach((function(t){t.text&&(e+=(t.text.match(f4)||[]).length)}));i.lineNumberGutter.childElementCount<e;)i.lineNumberGutter.appendChild(document.createElement("span"));for(;i.lineNumberGutter.childElementCount>e;)i.lineNumberGutter.removeChild(i.lineNumberGutter.lastChild)})));var a,c=on.DOMSerializer.renderSpec(document,(a=t,["div",{class:"code-block"},["div",{class:n4.e.start,contenteditable:"false"}],["div",{class:n4.e.contentWrapper},["div",{class:n4.e.gutter,contenteditable:"false"}],["div",{class:n4.e.content},["code",{"data-language":a.attrs.language||"",spellcheck:"false",contenteditable:"true","data-testid":"code-block--code"},0]]],["div",{class:n4.e.end,contenteditable:"false"}]])),s=c.dom,u=c.contentDOM;this.getPos=r,this.view=n,this.node=t,this.dom=s,this.contentDOM=u,this.lineNumberGutter=this.dom.querySelector(".".concat(n4.e.gutter)),this.ensureLineNumbers()}return(0,D.Z)(e,[{key:"updateDOMAndSelection",value:function(e,t){var n;if(null!==(n=this.dom)&&void 0!==n&&n.childNodes&&this.dom.childNodes.length>1){var r,o=this.dom.childNodes[1],i=null==o?void 0:o.childNodes[1];if((null==i||null===(r=i.childNodes)||void 0===r?void 0:r.length)>0){var a=i.firstChild;a.innerHTML=e;var c=(0,s.Z)(a.childNodes).find((function(e){return"#text"===e.nodeName})),u=window.getSelection(),l=document.createRange();l.setStart(c,t),l.collapse(!0),null==u||u.removeAllRanges(),null==u||u.addRange(l)}}}},{key:"coalesceDOMElements",value:function(){var e;if(null!==(e=this.dom)&&void 0!==e&&e.childNodes&&this.dom.childNodes.length>1){var t=this.dom.childNodes[1],n=null==t?void 0:t.childNodes[1];if(null!=n&&n.childNodes&&n.childNodes.length>1){for(var r="";n.childNodes.length>1;){var o=n.lastChild;r=o.innerHTML+r,n.removeChild(o)}var i=n.firstChild;r=i.innerHTML+"\n"+r;var a=i.innerHTML.length+1;setTimeout(this.updateDOMAndSelection.bind(this,r,a),20)}}}},{key:"update",value:function(e){return e.type===this.node.type&&(e!==this.node&&(e.attrs.language!==this.node.attrs.language&&this.contentDOM.setAttribute("data-language",e.attrs.language||""),this.node=e,this.ensureLineNumbers(),Ec.Z.android&&(this.coalesceDOMElements(),p4(this.view.state,this.view.dispatch))),!0)}},{key:"ignoreMutation",value:function(e){var t,n=(t=this.view.state,hb.getState(t));return!(null==n||!n.shouldIgnoreFollowingMutations)||(e.target===this.lineNumberGutter||e.target.parentNode===this.lineNumberGutter)}}]),e}(),v4=function(e,t,n){return new h4(e,t,n)};function m4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m4(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y4=function(e){var t=e.useLongPressSelection,n=void 0!==t&&t,r=(e.getIntl,e.appearance,e.allowCompositionInputOverride),o={};return void 0!==r&&r&&(o.beforeinput=function(e,t){var n,r,o,i=t,a=i.inputType,c=i.data;return Ec.Z.ios&&t.composed&&"insertParagraph"===a&&pX(e.state,e.state.selection)?(t.preventDefault(),!0):Ec.Z.android&&t.composed&&"insertCompositionText"===a&&"\n"===c[(null==c?void 0:c.length)-1]&&pX(e.state,e.state.selection)?((t.target.outerText+"\n").endsWith(c)?setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,new KeyboardEvent("keydown",{bubbles:!0,cancelable:!0,key:"Enter",code:"Enter"}))}))}),0):(n=e.state,r=e.dispatch,(o=n.tr).setMeta(hb,{type:s4,data:!0}),r&&r(o)),!0):(Ec.Z.android&&p4(e.state,e.dispatch),!1)}),new u.J({state:{init:function(e,t){var n=pX(t,t.selection);return{pos:n?n.pos:null,contentCopied:!1,isNodeSelected:!1,shouldIgnoreFollowingMutations:!1}},apply:function(e,t,n,r){if(e.docChanged||e.selectionSet){var o=pX(r,e.selection);return g4(g4({},t),{},{pos:o?o.pos:null,isNodeSelected:e.selection instanceof g.NodeSelection})}var i=e.getMeta(hb);return(null==i?void 0:i.type)===c4?g4(g4({},t),{},{contentCopied:i.data}):(null==i?void 0:i.type)===s4?g4(g4({},t),{},{shouldIgnoreFollowingMutations:i.data}):t}},key:hb,props:{nodeViews:{codeBlock:v4},handleClickOn:xi(["codeBlock"],(function(e){return!(!e.closest(".".concat(n4.e.gutter))&&!e.classList.contains(n4.e.content))}),{useLongPressSelection:n}),handleDOMEvents:o}})},b4=n(27714),w4=n(65057),k4=[{name:"(None)",alias:["none"],value:"none"}].concat((0,s.Z)(w4.E));function E4(e){return e.alias[0]}var x4=(0,Ze.vU)({selectLanguage:{id:"fabric.editor.selectLanguage",defaultMessage:"Select language",description:"Code blocks display software code. A prompt to select the software language the code is written in."}}),O4=k4.sort((function(e,t){return"none"===e.alias[0]?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0})),S4=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var r,o,i=n.formatMessage,a=hb.getState(t),c=null!==(r=null==a?void 0:a.pos)&&void 0!==r?r:null;if(a&&null!==c){var s=t.doc.nodeAt(c),u=t.schema.nodes.codeBlock;if((null==s?void 0:s.type)===u){var l=null==s||null===(o=s.attrs)||void 0===o?void 0:o.language,d=O4.map((function(e){return{label:e.name,value:E4(e),alias:e.alias}})),f={id:"editor.codeBlock.languageOptions",type:"select",selectType:"list",onChange:function(e){return function(e){return function(t,n){var r,o=t.schema.nodes.codeBlock,i=null===(r=hb.getState(t))||void 0===r?void 0:r.pos;if("number"!=typeof i)return!1;var a=t.tr.setNodeMarkup(i,o,{language:e}).setMeta("scrollIntoView",!1),c=(0,W.EG)(t.selection)?g.NodeSelection.create(a.doc,i):a.selection,s=a.setSelection(c);return n&&n((0,At.Gs)(t,s,{action:p.om.LANGUAGE_SELECTED,actionSubject:p.Wt.CODE_BLOCK,attributes:{language:e},eventType:p.Ze.TRACK})),!0}}(e.value)},defaultValue:l?d.find((function(e){return e.value===l}))||d.find((function(e){return e.alias.includes(l)})):null,placeholder:i(x4.selectLanguage),options:d,filterOption:C4},h={type:"separator"},v=e?[{id:"editor.codeBlock.copy",type:"button",appearance:"subtle",icon:I3.Z,onClick:l4,title:i(a.contentCopied?b4.h.copiedCodeToClipboard:b4.h.copyCodeToClipboard),onMouseEnter:i4,onMouseLeave:d4,onFocus:i4,onBlur:a4,hideTooltipOnClick:!1,disabled:a.isNodeSelected,tabIndex:null},h]:[],m={id:"editor.codeBlock.delete",type:"button",appearance:"danger",icon:Ya.Z,onMouseEnter:(0,Xa.pP)(u,!0),onMouseLeave:(0,Xa.pP)(u,!1),onFocus:(0,Xa.pP)(u,!0),onBlur:(0,Xa.pP)(u,!1),onClick:u4,title:i(Q.ZP.remove),tabIndex:null};return{title:"CodeBlock floating controls",getDomRef:function(e){return(0,W.TM)(c,e.domAtPos.bind(e))},nodeType:u,items:[f,h].concat(v,[m]),scrollable:!0}}}}},C4=function(e,t){var n=e.data,r=t.toLowerCase();return n.label.toLowerCase().includes(r)||n.alias.some((function(e){return e.toLowerCase()===r}))},T4=function(e){return function(t){return t.delete(e.before(e.depth),e.after(e.depth))}};const A4=function(e){return(0,it.h)({Backspace:function(t,n){var r,o=(0,ta.Lp)(t.selection),i=t.schema.nodes,a=i.paragraph,c=i.codeBlock,s=i.listItem,u=i.table,l=i.layoutColumn;if(!o||o.parent.type!==c)return!1;if(1===o.pos||(0,W.bw)(s)(t.selection)&&0===o.parentOffset){var d=(0,W.NP)(o,c);return!!d&&(n(t.tr.setNodeMarkup(d.pos,d.node.type,d.node.attrs,[]).setBlockType(o.pos,o.pos,a)),!0)}if(o.node&&(0,ta.KI)(e)(o.node())&&((0,W.bw)(l)(t.selection)||(0,W.bw)(u)(t.selection))){var p=t.tr,f=o.pos;return n((0,ta.zG)(T4(o),(r=f,function(e){var t=g.Selection.findFrom(e.doc.resolve(r),-1,!0);return t&&e.setSelection(t),e}))(p).scrollIntoView()),!0}return!!(0,ta.KI)(e)(o.node())&&(n(T4(o)(null==t?void 0:t.tr)),!0)}})};var _4={"{":"}","[":"]","(":")"},P4=function(e,t){var n=Object.keys(_4).find((function(t){return e.endsWith(t)})),r=n?_4[n]:void 0;return{left:n,right:r,hasTrailingMatchingBracket:!!r&&t.startsWith(r)}},D4={"'":"'",'"':'"',"`":"`"},Z4=function(e,t){var n=Object.keys(D4).find((function(t){return e.endsWith(t)})),r=n?D4[n]:void 0;return{left:n,right:r,hasTrailingMatchingQuote:!!r&&t.startsWith(r)}};function I4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I4(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M4=L4(L4({},_4),D4),R4=function(e){return e.selection.$from.sameParent(e.selection.$to)&&e.selection.$from.parent.type===e.schema.nodes.codeBlock},N4=function(e){return!!(0,ta.Lp)(e.selection)&&R4(e)},j4=function(e){var t=e.selection.$from;if(t.nodeBefore&&t.nodeBefore.isText){var n=t.nodeBefore.text.lastIndexOf("\n");return{text:t.nodeBefore.text.substring(n+1),pos:t.start()+n+1}}return{text:"",pos:t.pos}},F4=function(e){var t=e.selection.$to;if(t.nodeAfter&&t.nodeAfter.isText){var n=t.nodeAfter.text.indexOf("\n");return{text:t.nodeAfter.text.substring(0,n>=0?n:void 0),pos:n>=0?t.pos+n:t.end()}}return{text:"",pos:t.pos}};function B4(e){var t=j4(e).pos,n=F4(e).pos;return{text:e.doc.textBetween(t,n),start:t,end:n}}var z4=function(e,t){var n=0;e.split("\n").forEach((function(e){t(e,n),n+=e.length+1}))},U4={token:" ",size:2,regex:/[^ ]/},V4={token:"\t",size:1,regex:/[^\t]/},H4=function(e){var t=e.startsWith("\t")?V4:U4,n=e.search(t.regex);return{indentToken:t,indentText:e.substring(0,n>=0?n:e.length)}};function W4(e,t){return 0===t||0===e.length?0:e.length/t}function G4(e,t){var n=B4(e),r=n.text,o=n.start,i=e.tr,a=e.selection;return z4(r,(function(t,n){var r=H4(t),c=r.indentText,s=r.indentToken,u=W4(c,s.size),l=s.token.repeat(s.size-c.length%s.size||s.size);i.insertText(l,i.mapping.map(o+n,-1)),(0,At.Gs)(e,i,{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.FORMAT_INDENT,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.KEYBOARD,previousIndentationLevel:u,newIndentLevel:u+1,direction:Pw.INDENT,indentType:Dw.CODE_BLOCK}}),a.empty||i.setSelection(g.TextSelection.create(i.doc,i.mapping.map(a.from,-1),i.selection.to))})),t&&t(i),!0}function q4(e,t){var n=B4(e),r=n.text,o=n.start,i=e.tr;return z4(r,(function(t,n){var r=H4(t),a=r.indentText,c=r.indentToken;if(a){var s=W4(a,c.size),u=a.length%c.size||c.size;i.delete(i.mapping.map(o+n),i.mapping.map(o+n+u)),(0,At.Gs)(e,i,{action:p.om.FORMATTED,actionSubject:p.Wt.TEXT,actionSubjectId:p.VJ.FORMAT_INDENT,eventType:p.Ze.TRACK,attributes:{inputMethod:p.Jq.KEYBOARD,previousIndentationLevel:s,newIndentLevel:s-1,direction:Pw.OUTDENT,indentType:Dw.CODE_BLOCK}})}})),t&&t(i),!0}const K4=new u.J({props:{handleTextInput:function(e,t,n,r){var o,i=e.state,a=e.dispatch;if(N4(i)&&!(0,n5.b)(i)){var c=j4(i).text,s=F4(i).text;if(o=s,Object.keys(M4).some((function(e){return o.startsWith(M4[e])}))&&function(e){return Object.keys(M4).some((function(t){return e===M4[t]}))}(r)&&s.startsWith(r))return a((0,W.B0)(n+r.length)(i.tr)),!0;if(function(e,t){return!!/^[}\])]/.test(t)||!/^[^\s]/.test(t)}(0,s)){var u=P4(c+r,s),l=u.left,d=u.right;if(l&&d){var p=i.schema.text(r+d),f=i.tr.replaceWith(t,n,p);return a((0,W.B0)(t+r.length)(f)),!0}}if(function(e,t){return!!/^[}\])]/.test(t)||!/^[^\s]/.test(t)&&!/[A-Za-z0-9]$/.test(e)&&!/[\'\"\`]$/.test(e)}(c,s)){var h=Z4(c+r,s),v=h.left,m=h.right;if(v&&m){var g=i.schema.text(r+m),y=i.tr.replaceWith(t,n,g);return a((0,W.B0)(t+r.length)(y)),!0}}}return!1},handleKeyDown:(0,it.$)({Backspace:function(e,t){if(N4(e)){var n=(0,ta.Lp)(e.selection),r=j4(e).text,o=F4(e).text,i=P4(r,o),a=i.left,c=i.right,s=i.hasTrailingMatchingBracket;if(a&&c&&s&&t)return t(e.tr.delete(n.pos-a.length,n.pos+c.length)),!0;var u=Z4(r,o),l=u.left,d=u.right,p=u.hasTrailingMatchingQuote;if(l&&d&&p&&t)return t(e.tr.delete(n.pos-l.length,n.pos+d.length)),!0;var f=H4(r),h=f.indentToken,v=h.size,m=h.token,g=f.indentText;if(r===g&&g.endsWith(m.repeat(v))&&t)return t(e.tr.delete(n.pos-(v-g.length%v||v),n.pos)),!0}return!1},Enter:(0,_t.hX)(R4,(function(e,t){var n=j4(e).text,r=H4(n).indentText;return!(!r||!t)&&(t(e.tr.insertText("\n"+r)),!0)})),"Mod-]":(0,_t.hX)(R4,G4),"Mod-[":(0,_t.hX)(R4,q4),Tab:(0,_t.hX)(R4,(function(e,t){return!!t&&(N4(e)?function(e,t){var n=j4(e).text,r=H4(n).indentToken,o=r.token.repeat(r.size-n.length%r.size||r.size);return t(e.tr.insertText(o)),!0}(e,t):G4(e,t))})),"Shift-Tab":(0,_t.hX)(R4,q4),"Mod-a":function(e,t){if(R4(e)){var n=e.selection,r=n.$from,o=n.$to;if(!(0===r.parentOffset&&o.parentOffset===o.parent.nodeSize-2)&&t)return t(e.tr.setSelection(g.TextSelection.create(e.doc,r.start(),o.end()))),!0}return!1}})}});function $4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J4(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$4(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Y4=function(e){return{name:"codeBlock",nodes:function(){return[{name:"codeBlock",node:t4.F}]},pmPlugins:function(){return[{name:"codeBlock",plugin:function(t){var n=t.getIntl;return y4(J4(J4({},e),{},{getIntl:n,appearance:e.appearance}))}},{name:"codeBlockIDEKeyBindings",plugin:function(){return K4}},{name:"codeBlockKeyMap",plugin:function(e){var t=e.schema;return A4(t)}},{name:"codeBlockCopySelection",plugin:function(){return new u.J({key:r4,state:{init:function(){return{decorationStartAndEnd:void 0}},apply:function(e,t,n,r){switch(e.getMeta(r4)){case"show-selection":return o4({state:r,transaction:e});case"remove-selection":return{decorationStartAndEnd:void 0};default:return void 0!==t.decorationStartAndEnd?o4({state:r,transaction:e}):t}}},props:{decorations:function(e){if(r4.getState(e).decorationStartAndEnd){var t=(0,sr.Z)(r4.getState(e).decorationStartAndEnd,2),n=t[0],r=t[1];return tn.EH.create(e.doc,[tn.p.inline(n,r,{class:"ProseMirror-fake-text-selection"})])}return tn.EH.empty}}})}}]},onEditorViewStateUpdated:function(e){mb(e.originalTransaction,e.newEditorState)},pluginsOptions:{quickInsert:function(e){var t=e.formatMessage;return[{id:"codeblock",title:t(dO.s.codeblock),description:t(dO.s.codeblockDescription),keywords:["code block"],priority:700,keyshortcut:"```",icon:function(){return Z.createElement(Co,null)},action:function(e,t){var n=e(t.schema.nodes.codeBlock.createChecked());return(0,At.Gs)(t,n,{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.CODE_BLOCK,attributes:{inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.TRACK})}}]},floatingToolbar:S4(e.allowCopyToClipboard)}}};var X4,Q4=function(e){return function(t){return function(n,r){var o=n.tr;return t(n,(function(e){o=e})),!(!o||!o.docChanged)&&(o.setMeta(y,e),r&&r(o),!0)}}};!function(e){e[e.TOOLBAR=p.Jq.TOOLBAR]="TOOLBAR",e[e.KEYBOARD=p.Jq.KEYBOARD]="KEYBOARD"}(X4||(X4={}));var e6=Q4(X4.KEYBOARD)(qn.Yw),t6=Q4(X4.KEYBOARD)(qn.KX),n6=Q4(X4.TOOLBAR)(qn.Yw),r6=Q4(X4.TOOLBAR)(qn.KX);var o6=n(99501),i6=n(9847),a6=n(31219);function c6(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,B.Z)(e);if(t){var o=(0,B.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,F.Z)(this,n)}}var s6=function(e){return function(t){!function(e){return function(t){if(e){var n=$m(e);n.isOpen()?n.close({attachCommand:t,insertCurrentQueryAsRawText:!1}):t(e.state,e.dispatch)}}}(e)(t),e.hasFocus()||e.focus()}},u6=function(e){(0,j.Z)(n,e);var t=c6(n);function n(){return(0,P.Z)(this,n),t.apply(this,arguments)}return(0,D.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.isReducedSpacing,r=e.historyState,o=e.editorView,i=e.intl.formatMessage,a=i(a6.s.undo),c=i(a6.s.redo),s=r.canUndo,u=r.canRedo;return(0,U.tZ)("span",{css:Qe.Vm},(0,U.tZ)(Ce.Z,{buttonId:Ce.s.UNDO,spacing:n?"none":"default",onClick:function(){s6(o)(n6)},disabled:!s||t,"aria-label":(0,Re.Md)(Re.Yw,a),"aria-keyshortcuts":(0,Re.Tm)(Re.Yw),title:(0,U.tZ)(Re.wn,{description:a,keymap:Re.Yw}),iconBefore:(0,U.tZ)(o6.Z,{label:""}),testId:"ak-editor-toolbar-button-undo"}),(0,U.tZ)(Ce.Z,{spacing:n?"none":"default",buttonId:Ce.s.REDO,onClick:function(){s6(o)(r6)},disabled:!u||t,title:(0,U.tZ)(Re.wn,{description:c,keymap:Re.KX}),iconBefore:(0,U.tZ)(i6.Z,{label:""}),testId:"ak-editor-toolbar-button-redo","aria-label":(0,Re.Md)(Re.KX,c),"aria-keyshortcuts":(0,Re.Tm)(Re.KX)}),(0,U.tZ)("span",{css:Qe.NA}))}}]),n}(Z.PureComponent);const l6=(0,H.ZP)(u6);const d6=function(){return{name:"undoRedoPlugin",pmPlugins:function(){return[{name:"undoRedoKeyMap",plugin:function(){return function(){var e={};return Re.E4(Re.xd(Re.KX),t6,e),Re.E4(Re.Yw.common,e6,e),(0,JX.$)(e)}()}},{name:"undoRedoPlugin",plugin:function(e){return e.dispatch,new u.J({key:y})}}]},primaryToolbarComponent:function(e){var t=e.editorView,n=e.disabled,r=e.isToolbarReducedSpacing;return Z.createElement(M.Z,{plugins:{historyState:LM},render:function(e){var o=e.historyState;return Z.createElement(l6,{isReducedSpacing:r,disabled:n,historyState:o,editorView:t})}})}}};var p6=n(51462),f6=function(){function e(){(0,P.Z)(this,e),(0,o.Z)(this,"safeEntry",(function(e){return Array.isArray(e)?e:[e,void 0]}));for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.data=[].concat(n)||[]}return(0,D.Z)(e,[{key:"add",value:function(t){return(0,p6.Z)(e,[t].concat((0,s.Z)(this.data)))}},{key:"maybeAdd",value:function(e,t){return t(e,this)}},{key:"has",value:function(e){return this.data.some((function(t){return Array.isArray(t)?t[0]===e:t===e}))}},{key:"build",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pluginInjectionAPI,n=e.excludePlugins,r=new Set(n||[]),o=this.processEditorPlugins({pluginInjectionAPI:t,excludePlugins:r});return this.removeExcludedPlugins(o,r)}},{key:"verifyDuplicatedPlugins",value:function(){var e=new Set;return this.data.forEach((function(t){var n=Array.isArray(t)?t:[t,void 0],r=(0,sr.Z)(n,2),o=r[0];r[1];if(e.has(o))throw new Error("".concat(o," is already included!"));e.add(o)})),!0}},{key:"processEditorPlugins",value:function(e){var t=this,n=e.pluginInjectionAPI,r=e.excludePlugins;this.verifyDuplicatedPlugins();var o=new Set,i=this.data.slice().reverse().map((function(e){var i=t.safeEntry(e),a=(0,sr.Z)(i,2),c=a[0],s=a[1];if(o.has(c))return null;if(o.add(c),"function"!=typeof c)return null;var u=n?c(s,n.api()):c(s);return u&&null!=r&&r.has(u.name)?null:n?(n.onEditorPluginInitialized(u),u):u})).filter(Boolean);return i}},{key:"removeExcludedPlugins",value:function(e,t){return t?e.filter((function(e){return!e||!t.has(e.name)})):e}}]),e}();function h6(e){return(new f6).add([z2,e.featureFlags||{}]).add([GX,e.paste]).add(t5).add([J1.Z,e.base]).maybeAdd(d6,(function(t,n){var r;return null!==(r=e.featureFlags)&&void 0!==r&&r.undoRedoButtons?n.add(t):n})).add([MQ,e.blockType]).add([u5,e.placeholder]).add(jQ).maybeAdd(MC,(function(t,n){return e.annotationProviders?n.add([t,e.annotationProviders]):n})).add([r0,e.hyperlinkOptions]).add([j1,e.textFormatting]).add(R.ZP).add([D5,e.quickInsert]).add([L2,e.typeAhead||{createAnalyticsEvent:e.createAnalyticsEvent}]).add(K1).add(Ql).add([R2,e.submitEditor]).add(j2).add(Q3).add([e4,e.selection]).add([Y4,e.codeBlock||{appearance:"full-page"}])}var v6=n(13956),m6=n(17375);var g6=function(e){var t=e.node,n=e.tr,r=e.position,o=r.$from.pos,i=r.$to.pos;if(t.isText)return n.replaceWith(o,i,t);if(t.isBlock){n.delete(o,i);var a=n.mapping.map(o),c=(0,Sn.vU)(n,t);if(ti(c,a)(n))return n;var s=on.Slice.maxOpen(on.Fragment.from(c)),u=function(e,t,n){for(var r=e.resolve(t),o=function(e,t){return{from:e,to:t||e}},i=r.depth;i>=0;i--){var a=r.node(i),c=Math.max(i-1,0),s=r.node(c),u="paragraph"===a.type.name&&0===a.content.size,l=r.index(c),d=s.canReplaceWith(l,l,n.type);if(u&&d){var p=r.posAtIndex(l,c);return o(p,p+a.nodeSize)}var f=r.indexAfter(c);if(s.canReplaceWith(f,f,n.type))return o(r.posAtIndex(f,c))}return o(0)}(n.doc,a,c),l=u.from,d=u.to;n.replaceWith(l,d,t);var p=Math.min(l+(t.isAtom?t.nodeSize:s.openStart),n.doc.content.size),f=g.TextSelection.findFrom(n.doc.resolve(p),1,!0);if(f)return n.setSelection(f)}return n},y6=function(e){var t=e.tr,n=e.node,r=e.position,o=e.selectNodeInserted;n instanceof on.Node&&n.isBlock?g6({node:n,tr:t,position:r}):function(e){var t=e.maybeFragment,n=e.tr,r=e.position,o=e.selectInlineNode,i=r.$from.pos,a=r.$to.pos,c=t instanceof on.Node?on.Fragment.from(t):t;n.replaceWith(i,a,c),o?n.setSelection(g.NodeSelection.create(n.doc,i)):n.setSelection(g.TextSelection.near(n.doc.resolve(i+c.size)))}({maybeFragment:n,tr:t,position:r,selectInlineNode:o})},b6=function(e){var t=e.getEditorView,n=e.getEditorPlugins;return{insert:function(e){var r=e.node,o=e.options,i=t();if(!i)return!1;var a=i.state.tr;return function(e){var t=e.node,n=e.options,r=e.editorPlugins;return function(e){var o=e.selection,i=function(e){var t,n=e.node,r=e.editorPlugins;if(!n)return null;var o="string"==typeof n?n:null,i=o?r.find((function(e){return!!e.nodes&&e.nodes().find((function(e){return e.name===o}))})):null;return(null==i||null===(t=i.pluginsOptions)||void 0===t?void 0:t.createNodeHandler)||null}({node:t,editorPlugins:r}),a="string"==typeof t?t:null;if(a&&i){var c=i({nodeName:a,schema:e.doc.type.schema});y6({tr:e,node:c,position:o,selectNodeInserted:n.selectNodeInserted})}else{if(!a)return!1;var s=e.doc.type.schema.nodes[a];if(!s)return!1;y6({tr:e,node:s.createAndFill(),position:o,selectNodeInserted:n.selectNodeInserted})}return e.scrollIntoView(),!0}}({editorPlugins:n(),node:r,options:o})(a),o.analyticsPayload&&(0,At.Gs)(i.state,a,o.analyticsPayload),i.dispatch(a),!0}}},w6=n(98749),k6=n(46117),E6=function(){var e={current:null},t={current:null},n=function(e){return t.current?t.current(e):(console.error("This should never be called, if it does we have a problem"),{fire:function(){}})},r={getSelectionPluginState:function(e){return _a(e)},setSelectionRelativeToNode:function(e){var t=e.selectionRelativeToNode,n=e.selection;return function(e){var r=e.tr;return Da(t,n)(e,(function(e){r=e})),r}}},o={attachAnalyticsEvent:function(t){return function(r){var o=e.current;return!!(r&&n&&o)&&((0,w6.v)({tr:r,editorState:o.state,payload:t,channel:k6.XD.editor}),!0)}}},i=b6({getEditorView:function(){return e.current},getEditorPlugins:function(){var e=tY();return null!=e&&e.pluginsOptions?[e]:[]}}),a=function(){var e=(0,m6._)().createAnalyticsEvent;return Z.useLayoutEffect((function(){t.current=e}),[e]),null};return{editorSelectionAPI:r,insertNodeAPI:i,editorAnalyticsAPI:o,createAnalyticsEvent:n,stubInternalApisPlugin:function(){return{name:"stubInternalApisPlugin",pmPlugins:function(){return[{name:"stubInternalApisPMPlugin",plugin:function(){return new u.J({view:function(n){return e.current=n,{destroy:function(){e.current=null,t.current=null}}}})}}]},contentComponent:function(){return Z.createElement(a)}}}}};function x6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x6(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S6=n(69023),C6=n(10813);function T6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T6(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _6(e){var t=e.appearance,n=e.persistScrollGutter;return(0,nY.R)(t)?{getScrollElement:function(){return document.querySelector(".fabric-editor-popup-scroll-parent")}}:"mobile"===t?{getScrollElement:function(){return document.body},allowCustomScrollHandler:!1,persistScrollGutter:n,gutterSize:S6.Tw}:void 0}function P6(e,t){var n,r,o,i,a,c,s,u,l,d=e.appearance,p="mobile"===d,f=null===(n=e.performanceTracking)||void 0===n?void 0:n.inputTracking,h=(null===(r=e.linking)||void 0===r?void 0:r.smartLinks)||e.smartLinks||e.UNSAFE_cards,v=null!==(o=null!==(i=null===(a=e.featureFlags)||void 0===a?void 0:a["use-better-typeahead-navigation"])&&void 0!==i?i:null===(c=e.featureFlags)||void 0===c?void 0:c.useBetterTypeaheadNavigation)&&void 0!==o?o:null,m=Boolean("boolean"!=typeof v||!!v);return A6(A6({},e),{},{createAnalyticsEvent:t,typeAhead:{createAnalyticsEvent:t,isMobile:p,useBetterTypeaheadNavigation:m},featureFlags:(0,C6.x)(e),paste:{cardOptions:h,sanitizePrivateContent:e.sanitizePrivateContent},base:{allowInlineCursorTarget:!p,allowScrollGutter:_6(e),inputTracking:f,browserFreezeTracking:null===(s=e.performanceTracking)||void 0===s?void 0:s.bFreezeTracking,ufo:(0,C6.x)(e).ufo},blockType:{lastNodeMustBeParagraph:"comment"===d||"chromeless"===d,allowBlockType:e.allowBlockType,isUndoRedoButtonsEnabled:e.allowUndoRedoButtons},placeholder:{placeholder:e.placeholder,placeholderBracketHint:e.placeholderBracketHint},textFormatting:A6(A6({},e.textFormatting||{}),{},{responsiveToolbarMenu:null!=(null===(u=e.textFormatting)||void 0===u?void 0:u.responsiveToolbarMenu)?e.textFormatting.responsiveToolbarMenu:e.allowUndoRedoButtons}),annotationProviders:e.annotationProviders,submitEditor:e.onSave,quickInsert:{enableElementBrowser:e.elementBrowser&&e.elementBrowser.showModal,elementBrowserHelpUrl:e.elementBrowser&&e.elementBrowser.helpUrl,disableDefaultItems:p,headless:p,emptyStateHandler:e.elementBrowser&&e.elementBrowser.emptyStateHandler},selection:{useLongPressSelection:!1},cardOptions:h,hyperlinkOptions:{editorAppearance:e.appearance,linkPicker:null===(l=e.linking)||void 0===l?void 0:l.linkPicker,cardOptions:h,platform:p?"mobile":"web"},codeBlock:A6(A6({},e.codeBlock),{},{useLongPressSelection:!1,appearance:e.appearance,allowCompositionInputOverride:p})})}function D6(e,t,n){var r,o=function(e,t,n,r,o){var a="mobile"===e,s="comment"===e,u=(0,nY.R)(e),l=h6(t),d=function(){return n},p=E6(),f=p.editorSelectionAPI,h=p.insertNodeAPI,v=p.editorAnalyticsAPI,m=p.stubInternalApisPlugin,g=o||p.createAnalyticsEvent,y=!t.allowStatus||"object"===(0,i.Z)(t.allowStatus)&&Boolean(t.allowStatus.menuDisabled),b=function(e){return!(!e||!("before"in e)||!e.before)},w=l.add(m).add(c).maybeAdd(_,(function(e,n){if(t.allowAnalyticsGASV3){var r=t.performanceTracking;return n.add([e,{createAnalyticsEvent:g,performanceTracking:r}])}return n})).maybeAdd(he,(function(n,r){return t.allowBreakout&&u?r.add([n,{allowBreakoutButton:"full-page"===e}]):r})).maybeAdd(ct,(function(e,n){return t.allowTextAlignment?n.add(e):n})).maybeAdd(Jt,(function(e,n){return t.allowTextColor?n.add([e,t.allowTextColor]):n})).add([qo,{restartNumberedLists:null==n?void 0:n.restartNumberedLists,restartNumberedListsToolbar:null==n?void 0:n.restartNumberedListsToolbar,listNumberContinuity:null==n?void 0:n.listNumberContinuity}]).maybeAdd(li,(function(e,n){return t.allowRule?n.add(e):n})).maybeAdd(ec,(function(n,r){return t.allowExpand?r.add([n,{allowInsertion:tc(t),useLongPressSelection:!1,appearance:e}]):r})).maybeAdd(vc,(function(e,n){return t.media?n.add([e,{shouldCalcBreakoutGridLines:u}]):n})).maybeAdd(Yv,(function(n,r){if(t.media){var o=void 0!==t.media.alignLeftOnInsert?t.media.alignLeftOnInsert:s,i=void 0!==t.media.allowAdvancedToolBarOptions?t.media.allowAdvancedToolBarOptions:u||s;return r.add([n,O6(O6({},t.media),{},{allowLazyLoading:!a,allowBreakoutSnapPoints:u,allowAdvancedToolBarOptions:i,allowDropzoneDropLine:u,allowMediaSingleEditable:!a,allowRemoteDimensionsFetch:!a,editorSelectionAPI:f,allowMarkingUploadsAsIncomplete:a,fullWidthEnabled:"full-width"===e,uploadErrorHandler:t.uploadErrorHandler,waitForMediaUpload:t.waitForMediaUpload,isCopyPasteEnabled:!a,alignLeftOnInsert:o,getEditorFeatureFlags:d})])}return r})).maybeAdd(lm,(function(e,n){return t.media&&(0,fu.OC)("captions",t.media.featureFlags)?n.add(e):n})).maybeAdd(Ab,(function(e,n){var r,o,i;return t.mentionProvider?n.add([e,{createAnalyticsEvent:g,sanitizePrivateContent:t.sanitizePrivateContent,insertDisplayName:null!==(r=null===(o=t.mention)||void 0===o?void 0:o.insertDisplayName)&&void 0!==r?r:t.mentionInsertDisplayName,allowZeroWidthSpaceAfter:!a,HighlightComponent:null===(i=t.mention)||void 0===i?void 0:i.HighlightComponent}]):n})).maybeAdd(aw,(function(e,n){return t.emojiProvider?n.add([e,{createAnalyticsEvent:g}]):n})).maybeAdd(tY,(function(n,o){if(t.allowTables){var i=t.allowTables&&"boolean"!=typeof t.allowTables?t.allowTables:{};return o.add([n,{tableOptions:i,breakoutEnabled:"full-page"===e,allowContextualMenu:!a,fullWidthEnabled:"full-width"===e,wasFullWidthEnabled:r&&"full-width"===r,editorAnalyticsAPI:v,editorSelectionAPI:f,getEditorFeatureFlags:d}])}return o})).maybeAdd(eE,(function(e,n){return t.allowTasksAndDecisions||t.taskDecisionProvider?n.add([e,{allowNestedTasks:t.allowNestedTasks,consumeTabs:u,useLongPressSelection:!1}]):n})).maybeAdd(fE,(function(e,n){return t.feedbackInfo?n.add([e,t.feedbackInfo]):n})).maybeAdd(EE,(function(e,n){return t.allowHelpDialog?n.add([e,!!t.legacyImageUploadProvider]):n})).maybeAdd(CE,(function(e,n){return t.saveOnEnter&&t.onSave?n.add([e,t.onSave]):n})).maybeAdd(GE,(function(e,n){return t.legacyImageUploadProvider?n.add(e):n})).maybeAdd(Yv,(function(e,n){return t.legacyImageUploadProvider&&!t.media?n.add([e,{allowMediaSingle:{disableLayout:!0},allowMediaGroup:!1,isCopyPasteEnabled:!0,editorSelectionAPI:f}]):n})).maybeAdd(vx,(function(e,n){if(t.collabEdit||t.collabEditProvider){var r,o={sanitizePrivateContent:t.sanitizePrivateContent,createAnalyticsEvent:g};return t.collabEdit&&(o=O6(O6({},t.collabEdit),o)),n.add([e,O6(O6({},o),{},{EXPERIMENTAL_allowInternalErrorAnalytics:null!==(r=o.EXPERIMENTAL_allowInternalErrorAnalytics)&&void 0!==r?r:(0,v6.p)()})])}return n})).maybeAdd(bx.ZP,(function(e,n){return t.maxContentSize?n.add([e,t.maxContentSize]):n})).maybeAdd(Ax,(function(e,n){return t.allowJiraIssue?n.add(e):n})).maybeAdd(vO,(function(e,n){if(t.allowPanel){var r="object"===(0,i.Z)(t.allowPanel)?t.allowPanel:{};return n.add([e,{useLongPressSelection:!1,allowCustomPanel:r.allowCustomPanel,allowCustomPanelEdit:r.allowCustomPanelEdit}])}return n})).maybeAdd(dC,(function(n,r){if(t.allowExtension){var o="object"===(0,i.Z)(t.allowExtension)?t.allowExtension:{};return r.add([n,{breakoutEnabled:"full-page"===e&&!1!==o.allowBreakout,allowAutoSave:o.allowAutoSave,extensionHandlers:t.extensionHandlers,useLongPressSelection:!1,appearance:e}])}return r})).maybeAdd(vC,(function(e,n){return t.macroProvider?n.add(e):n})).maybeAdd(MC,(function(e,n){return!t.annotationProviders&&t.allowConfluenceInlineComment?n.add([e,void 0]):n})).maybeAdd(dT,(function(e,n){return t.allowDate?n.add(e):n})).maybeAdd(IT,(function(e,n){if(t.allowTemplatePlaceholders){var r=!0!==t.allowTemplatePlaceholders?t.allowTemplatePlaceholders:{};return n.add([e,r])}return n})).maybeAdd(CA,(function(e,n){if(t.allowLayouts){var r="object"===(0,i.Z)(t.allowLayouts)?t.allowLayouts:{};return n.add([e,O6(O6({},r),{},{useLongPressSelection:!1,UNSAFE_allowSingleColumnLayout:r.UNSAFE_allowSingleColumnLayout})])}return n})).maybeAdd(LI,(function(n,r){var o;if(null!==(o=t.linking)&&void 0!==o&&o.smartLinks||t.smartLinks||t.UNSAFE_cards){var i,c,s="full-width"===e;return r.add([n,O6(O6(O6(O6({},t.UNSAFE_cards),t.smartLinks),null===(i=t.linking)||void 0===i?void 0:i.smartLinks),{},{platform:a?"mobile":"web",fullWidthMode:s,createAnalyticsEvent:g,linkPicker:null===(c=t.linking)||void 0===c?void 0:c.linkPicker,editorAppearance:e})])}return r})).maybeAdd(GI,(function(e,n){return t.autoformattingProvider?n.add(e):n})).maybeAdd(vM,(function(e,n){return t.allowStatus?n.add([e,{menuDisabled:y,allowZeroWidthSpaceAfter:!a}]):n})).maybeAdd(TM,(function(e,n){return t.allowIndentation?n.add(e):n})).maybeAdd(AM.Z,(function(e,t){return u?t.add(AM.Z):t})).maybeAdd(PM,(function(e,n){return!1!==t.autoScrollIntoView?n.add(PM):n})).maybeAdd(FM,(function(e,n){return a||t.allowUndoRedoButtons?n.add(FM):n})).maybeAdd(HM,(function(e,t){return a?t.add(e):t})).maybeAdd(qM,(function(e,t){return a?t.add(e):t})).add([pR,{showIndentationButtons:!!n.indentationButtonsInTheToolbar,allowHeadingAndParagraphIndentation:!!t.allowIndentation}]).add([hF,{allowTables:!!t.allowTables,allowExpand:tc(t),insertMenuItems:t.insertMenuItems,horizontalRuleEnabled:t.allowRule,nativeStatusSupported:!y,showElementBrowserLink:t.elementBrowser&&t.elementBrowser.showModal||!1,replacePlusMenuWithElementBrowser:t.elementBrowser&&t.elementBrowser.replacePlusMenu||!1,insertNodeAPI:h}]).maybeAdd(mF,(function(e,r){return b(t.primaryToolbarComponents)&&!n.twoLineEditorToolbar?r.add([e,{beforePrimaryToolbarComponents:t.primaryToolbarComponents.before}]):r})).maybeAdd(OF,(function(e,r){return!0!==n.showAvatarGroupAsPlugin||n.twoLineEditorToolbar?r:r.add([e,{collabEdit:t.collabEdit,takeFullWidth:!b(t.primaryToolbarComponents)}])})).maybeAdd(_F,(function(e,r){return t.allowFindReplace?r.add([e,{takeFullWidth:0==!!n.showAvatarGroupAsPlugin&&!b(t.primaryToolbarComponents),twoLineEditorToolbar:!!n.twoLineEditorToolbar}]):r})).maybeAdd(PF,(function(e,n){return t.UNSAFE_allowBorderMark?n.add(e):n})).maybeAdd(MF,(function(e,n){return t.allowFragmentMark?n.add(e):n})).maybeAdd(FF,(function(e,t){return n.enableViewUpdateSubscription?t.add(e):t})).add([YF,{appearance:e}]).maybeAdd(tB,(function(e,t){return n.floatingToolbarCopyButton?t.add(e):t}));return w}(e.appearance,P6(e,n),(0,C6.x)(e),null==t?void 0:t.appearance,n);return function(e){return function(t){if(!t||0===t.length)return e;var n=function(e){return e?e.map((function(e){return function(){return e}})):[]}(t);return n.reduce((function(e,t){return e.add(t)}),e)}}(o)(null===(r=e.dangerouslyAppendPlugins)||void 0===r?void 0:r.__plugins)}},10813:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r=n(56666),o=n(86522),i=n(14935);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){try{return JSON.parse(e)}catch(e){return}}function u(e){var t,n,r,a,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O,S,C,T,A,_,P,D,Z,I,L,M,R,N,j,F,B,z,U,V,H,W,G,q,K,$,J,Y,X,Q,ee,te,ne,re,oe,ie,ae,ce,se,ue,le,de,pe,fe=(0,i.I)(e.featureFlags),he=fe.tableCellOptionsInFloatingToolbar||(null===(t=e.featureFlags)||void 0===t?void 0:t.tableCellOptionsInFloatingToolbar)||void 0,ve=null!==(n=null!==(r=null===(a=e.featureFlags)||void 0===a?void 0:a["use-better-typeahead-navigation"])&&void 0!==r?r:null===(u=e.featureFlags)||void 0===u?void 0:u.useBetterTypeaheadNavigation)&&void 0!==n?n:null;return c(c({},fe),{},{newInsertionBehaviour:e.allowNewInsertionBehaviour,interactiveExpand:"boolean"==typeof e.allowExpand?e.allowExpand:Boolean(e.allowExpand&&!1!==e.allowExpand.allowInteractiveExpand),placeholderBracketHint:!!e.placeholderBracketHint,findReplace:!!e.allowFindReplace,findReplaceMatchCase:"object"===(0,o.Z)(e.allowFindReplace)&&Boolean(e.allowFindReplace.allowMatchCase),addColumnWithCustomStep:!(!e.allowTables||"boolean"==typeof e.allowTables)&&Boolean(e.allowTables.allowAddColumnWithCustomStep),singleLayout:"object"===(0,o.Z)(e.allowLayouts)&&!(null===(l=e.allowLayouts)||void 0===l||!l.UNSAFE_allowSingleColumnLayout),undoRedoButtons:e.allowUndoRedoButtons,catchAllTracking:null===(d=e.performanceTracking)||void 0===d||null===(p=d.catchAllTracking)||void 0===p?void 0:p.enabled,stickyHeadersOptimization:"boolean"==typeof(null===(f=e.featureFlags)||void 0===f?void 0:f.stickyHeadersOptimization)?!(null===(h=e.featureFlags)||void 0===h||!h.stickyHeadersOptimization):"object"===(0,o.Z)(e.allowTables)&&!(null===(v=e.allowTables)||void 0===v||!v.stickyHeadersOptimization),initialRenderOptimization:"boolean"==typeof(null===(m=e.featureFlags)||void 0===m?void 0:m.initialRenderOptimization)?!(null===(g=e.featureFlags)||void 0===g||!g.initialRenderOptimization):"object"===(0,o.Z)(e.allowTables)&&!(null===(y=e.allowTables)||void 0===y||!y.initialRenderOptimization),mouseMoveOptimization:"boolean"==typeof(null===(b=e.featureFlags)||void 0===b?void 0:b.mouseMoveOptimization)?!(null===(w=e.featureFlags)||void 0===w||!w.mouseMoveOptimization):"object"===(0,o.Z)(e.allowTables)&&!(null===(k=e.allowTables)||void 0===k||!k.mouseMoveOptimization),tableRenderOptimization:"boolean"==typeof(null===(E=e.featureFlags)||void 0===E?void 0:E.tableRenderOptimization)?!(null===(x=e.featureFlags)||void 0===x||!x.tableRenderOptimization):"object"!==(0,o.Z)(e.allowTables)||"boolean"!=typeof(null===(O=e.allowTables)||void 0===O?void 0:O.tableRenderOptimization)||(null===(S=e.allowTables)||void 0===S?void 0:S.tableRenderOptimization),tableOverflowShadowsOptimization:"boolean"==typeof(null===(C=e.featureFlags)||void 0===C?void 0:C.tableOverflowShadowsOptimization)?!(null===(T=e.featureFlags)||void 0===T||!T.tableOverflowShadowsOptimization):"object"===(0,o.Z)(e.allowTables)&&!(null===(A=e.allowTables)||void 0===A||!A.tableOverflowShadowsOptimization),extendFloatingToolbar:Boolean("object"===(0,o.Z)(e.allowExtension)&&(null===(_=e.allowExtension)||void 0===_?void 0:_.allowExtendFloatingToolbars)),showAvatarGroupAsPlugin:Boolean("boolean"==typeof(null===(P=e.featureFlags)||void 0===P?void 0:P.showAvatarGroupAsPlugin)&&!(null===(D=e.featureFlags)||void 0===D||!D.showAvatarGroupAsPlugin)),errorBoundaryDocStructure:Boolean("boolean"==typeof(null===(Z=e.featureFlags)||void 0===Z?void 0:Z.useErrorBoundaryDocStructure)&&!(null===(I=e.featureFlags)||void 0===I||!I.useErrorBoundaryDocStructure)),synchronyErrorDocStructure:Boolean("boolean"==typeof(null===(L=e.featureFlags)||void 0===L?void 0:L.synchronyErrorDocStructure)&&!(null===(M=e.featureFlags)||void 0===M||!M.synchronyErrorDocStructure)),enableViewUpdateSubscription:Boolean("boolean"==typeof(null===(R=e.featureFlags)||void 0===R?void 0:R.enableViewUpdateSubscription)&&!(null===(N=e.featureFlags)||void 0===N||!N.enableViewUpdateSubscription)),collabAvatarScroll:Boolean("boolean"==typeof(null===(j=e.featureFlags)||void 0===j?void 0:j.collabAvatarScroll)&&!(null===(F=e.featureFlags)||void 0===F||!F.collabAvatarScroll)),ufo:Boolean("boolean"==typeof(null===(B=e.featureFlags)||void 0===B?void 0:B.ufo)&&!(null===(z=e.featureFlags)||void 0===z||!z.ufo)),twoLineEditorToolbar:Boolean("boolean"==typeof(null===(U=e.featureFlags)||void 0===U?void 0:U.twoLineEditorToolbar)&&!(null===(V=e.featureFlags)||void 0===V||!V.twoLineEditorToolbar)),saferDispatchedTransactions:Boolean("boolean"==typeof fe.saferDispatchedTransactions&&!!fe.saferDispatchedTransactions||"boolean"==typeof(null===(H=e.featureFlags)||void 0===H?void 0:H.saferDispatchedTransactions)&&!(null===(W=e.featureFlags)||void 0===W||!W.saferDispatchedTransactions)),saferDispatchedTransactionsAnalyticsOnly:Boolean("boolean"==typeof fe.saferDispatchedTransactionsAnalyticsOnly&&!!fe.saferDispatchedTransactionsAnalyticsOnly||"boolean"==typeof(null===(G=e.featureFlags)||void 0===G?void 0:G.saferDispatchedTransactionsAnalyticsOnly)&&!(null===(q=e.featureFlags)||void 0===q||!q.saferDispatchedTransactionsAnalyticsOnly)),useNativeCollabPlugin:Boolean("boolean"==typeof(null===(K=e.collabEdit)||void 0===K?void 0:K.useNativePlugin)&&!(null===($=e.collabEdit)||void 0===$||!$.useNativePlugin)),chromeCursorHandlerFixedVersion:"string"==typeof(null===(J=e.featureFlags)||void 0===J?void 0:J.chromeCursorHandlerFixedVersion)&&Number(e.featureFlags.chromeCursorHandlerFixedVersion)||void 0,tableCellOptionsInFloatingToolbar:"boolean"==typeof he&&he,showHoverPreview:Boolean("boolean"==typeof(null===(Y=e.featureFlags)||void 0===Y?void 0:Y.showHoverPreview)&&!(null===(X=e.featureFlags)||void 0===X||!X.showHoverPreview)),indentationButtonsInTheToolbar:Boolean("boolean"==typeof fe.indentationButtonsInTheToolbar&&!!fe.indentationButtonsInTheToolbar||"boolean"==typeof(null===(Q=e.featureFlags)||void 0===Q?void 0:Q.indentationButtonsInTheToolbar)&&!(null===(ee=e.featureFlags)||void 0===ee||!ee.indentationButtonsInTheToolbar)),floatingToolbarCopyButton:Boolean("boolean"==typeof fe.floatingToolbarCopyButton&&!!fe.floatingToolbarCopyButton||"boolean"==typeof(null===(te=e.featureFlags)||void 0===te?void 0:te.floatingToolbarCopyButton)&&!(null===(ne=e.featureFlags)||void 0===ne||!ne.floatingToolbarCopyButton)),floatingToolbarLinkSettingsButton:"string"==typeof(null===(re=e.featureFlags)||void 0===re?void 0:re["floating-toolbar-link-settings-button"])&&e.featureFlags["floating-toolbar-link-settings-button"]||void 0,disableSpellcheckByBrowser:(pe=e.featureFlags,null!=pe&&pe.disableSpellcheckByBrowser?"object"===(0,o.Z)(null==pe?void 0:pe.disableSpellcheckByBrowser)?null==pe?void 0:pe.disableSpellcheckByBrowser:"string"==typeof(null==pe?void 0:pe.disableSpellcheckByBrowser)?s(null==pe?void 0:pe.disableSpellcheckByBrowser):void 0:null!=pe&&pe["disable-spellcheck-by-browser"]?"object"===(0,o.Z)(null==pe?void 0:pe["disable-spellcheck-by-browser"])?null==pe?void 0:pe["disable-spellcheck-by-browser"]:"string"==typeof(null==pe?void 0:pe["disable-spellcheck-by-browser"])?s(null==pe?void 0:pe["disable-spellcheck-by-browser"]):void 0:void 0),restartNumberedLists:!0===fe.restartNumberedLists||!0===(null===(oe=e.featureFlags)||void 0===oe?void 0:oe.restartNumberedLists),listNumberContinuity:!0===fe.listNumberContinuity||!0===(null===(ie=e.featureFlags)||void 0===ie?void 0:ie.listNumberContinuity),restartNumberedListsToolbar:!0===fe.restartNumberedListsToolbar||!0===(null===(ae=e.featureFlags)||void 0===ae?void 0:ae.restartNumberedListsToolbar),useSomewhatSemanticTextColorNames:Boolean("boolean"==typeof fe.useSomewhatSemanticTextColorNames&&!!fe.useSomewhatSemanticTextColorNames||"boolean"==typeof(null===(ce=e.featureFlags)||void 0===ce?void 0:ce.useSomewhatSemanticTextColorNames)&&!(null===(se=e.featureFlags)||void 0===se||!se.useSomewhatSemanticTextColorNames)),lpLinkPickerFocusTrap:Boolean(fe.lpLinkPickerFocusTrap),preventPopupOverflow:Boolean("boolean"==typeof(null===(ue=e.featureFlags)||void 0===ue?void 0:ue["prevent-popup-overflow"])&&!(null===(le=e.featureFlags)||void 0===le||!le["prevent-popup-overflow"])),useEditorNext:!0===fe.useEditorNext||!0===(null===(de=e.featureFlags)||void 0===de?void 0:de.useEditorNext),useBetterTypeaheadNavigation:Boolean("boolean"!=typeof ve||!!ve)})}},32370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ao});var r,o,i,a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O,S,C,T=n(9249),A=n(87371),_=n(80753),P=n(45754),D=n(11987),Z=n(95058),I=n(56666),L=n(2784),M=n(28165),R=n(26947),N=n(8357),j=n(71171),F=n(99462),B=n(70778),z=n(66330),U=n(60891),V=n(21987),H=n(79179),W=n(14883),G=n(42427),q=n(32123),K=n(36032),$=n(57522),J=n(30467),Y=n(1282),X=n(80015),Q=n(58054),ee=n(51846),te=n(33089),ne=(0,M.iv)(r||(r=(0,j.Z)(["\n  .ProseMirror .telepointer {\n    position: relative;\n    transition: opacity 200ms;\n\n    &.telepointer-selection {\n      line-height: 1.2;\n      pointer-events: none;\n      user-select: none;\n    }\n\n    &.telepointer-selection-badge::after {\n      content: attr(data-initial);\n      position: absolute;\n      display: block;\n      top: -14px;\n      font-size: ",";\n      padding: 2px;\n      color: ",";\n      left: -1px;\n      border-radius: 2px 2px 2px 0;\n      line-height: initial;\n    }\n\n    &."," {\n      opacity: 0.2;\n    }\n\n    ",";\n  }\n"])),(0,N.Gh)(9),"var(--ds-text-inverse, white)",ee.YI,te.O9.map((function(e,t){return function(e,t){return"\n  &.color-".concat(t," {\n    background-color: ").concat(e.selection,";\n    &::after {\n      background-color: ").concat(e.solid,";\n      color: ","var(--ds-text-inverse, #fff)",";\n      border-color: ").concat(e.solid,";\n    }\n  }\n")}(e,t)}))),re=n(28536),oe=n(45531),ie=n(39151),ae=(0,M.iv)(o||(o=(0,j.Z)(["\n  .ProseMirror .placeholder-decoration {\n    color: ",";\n    width: 100%;\n    pointer-events: none;\n    user-select: none;\n\n    .placeholder-android {\n      pointer-events: none;\n      outline: none;\n      user-select: none;\n      position: absolute;\n    }\n  }\n"])),"var(--ds-text-subtlest, ".concat(ie.iw,")")),ce=n(67543),se=n(26410),ue=n(67093),le=n(27452),de=n(37432),pe=n(90105),fe=function(){return(0,M.iv)(a||(a=(0,j.Z)(["\n  &::after {\n    height: 100%;\n    content: '';\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 24px;\n    background-color: ",";\n  }\n"])),"var(--ds-blanket-danger, none)")},he=n(3493),ve=(0,M.iv)(s||(s=(0,j.Z)(["\n  .ProseMirror {\n    li {\n      position: relative;\n\n      > p:not(:first-child) {\n        margin: 4px 0 0 0;\n      }\n\n      // In SSR the above rule will apply to all p tags because first-child would be a style tag.\n      // The following rule resets the first p tag back to its original margin\n      // defined in packages/editor/editor-common/src/styles/shared/paragraph.ts\n      > style:first-child + p {\n        margin-top: ",";\n      }\n    }\n\n    & :not([data-node-type='decisionList']) > li {\n      ","\n    }\n  }\n"])),N.zH,he.Z.safari?pe.AG:""),me=n(87119),ge=n(29875),ye=n(39828),be=n(74798),we=n(95585),ke=(0,M.iv)(l||(l=(0,j.Z)(["\n  .ProseMirror {\n    "," & [layout='full-width'] .",",\n    & [layout='wide'] ."," {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n\n    & [layout^='wrap-'] + [layout^='wrap-'] {\n      clear: none;\n      & + p,\n      & + div[class^='fabric-editor-align'],\n      & + ul,\n      & + ol,\n      & + h1,\n      & + h2,\n      & + h3,\n      & + h4,\n      & + h5,\n      & + h6 {\n        clear: both !important;\n      }\n      & ."," {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    }\n\n    .mediaSingleView-content-wrap[layout^='wrap-'] {\n      max-width: 100%;\n      // overwrite default Prosemirror setting making it clear: both\n      clear: inherit;\n    }\n\n    .mediaSingleView-content-wrap[layout='wrap-left'] {\n      float: left;\n    }\n\n    .mediaSingleView-content-wrap[layout='wrap-right'] {\n      float: right;\n    }\n\n    .mediaSingleView-content-wrap[layout='wrap-right']\n      + .mediaSingleView-content-wrap[layout='wrap-left'] {\n      clear: both;\n    }\n\n    /* Larger margins for resize handlers when at depth 0 of the document */\n    & > .mediaSingleView-content-wrap {\n      .richMedia-resize-handle-right {\n        margin-right: -","px;\n      }\n      .richMedia-resize-handle-left {\n        margin-left: -","px;\n      }\n    }\n  }\n\n  .richMedia-resize-handle-right,\n  .richMedia-resize-handle-left {\n    display: flex;\n    flex-direction: column;\n\n    /* vertical align */\n    justify-content: center;\n  }\n\n  .richMedia-resize-handle-right {\n    align-items: flex-end;\n    padding-right: 12px;\n    margin-right: -","px;\n  }\n\n  .richMedia-resize-handle-left {\n    align-items: flex-start;\n    padding-left: 12px;\n    margin-left: -","px;\n  }\n\n  .richMedia-resize-handle-right::after,\n  .richMedia-resize-handle-left::after {\n    content: ' ';\n    display: flex;\n    width: 3px;\n    height: 64px;\n\n    border-radius: 6px;\n  }\n\n  .",":hover .richMedia-resize-handle-left::after,\n  .",":hover .richMedia-resize-handle-right::after {\n    background: ",";\n  }\n\n  ."," .richMedia-resize-handle-right::after,\n  ."," .richMedia-resize-handle-left::after,\n  ."," .richMedia-resize-handle-right:hover::after,\n  ."," .richMedia-resize-handle-left:hover::after,\n  .",".is-resizing .richMedia-resize-handle-right::after,\n  .",".is-resizing .richMedia-resize-handle-left::after {\n    background: ",";\n  }\n\n  .__resizable_base__ {\n    left: unset !important;\n    width: auto !important;\n    height: auto !important;\n  }\n\n  /* Danger when top level node for smart cards / inline links */\n  .danger > div > div > .media-card-frame,\n  .danger > span > a {\n    background-color: ",";\n    box-shadow: 0px 0px 0px ","px\n      ",";\n    transition: background-color 0s, box-shadow 0s;\n  }\n  .mediaGroupView-content-wrap.danger {\n    /* Media inline */\n    .","::after {\n      border: 1px solid ",";\n    }\n  }\n  /* Danger when nested node or common */\n  .danger {\n    /* Media single */\n    ."," .","::after {\n      border: 1px solid ",";\n    }\n    /* Media single video player */\n    ."," .","::after {\n      border: 1px solid ",";\n    }\n    /* New file experience */\n    ."," ."," {\n      box-shadow: 0 0 0 1px\n        "," !important;\n    }\n    /* Media resize handlers */\n    .richMedia-resize-handle-right::after,\n    .richMedia-resize-handle-left::after {\n      background: ",";\n    }\n\n    /* Smart cards */\n    div div .media-card-frame,\n    .inlineCardView-content-wrap > span > a {\n      background-color: ","; /* R75 with 50% opactiy */\n      transition: background-color 0s;\n    }\n\n    div div .media-card-frame::after {\n      box-shadow: none;\n    }\n  }\n"])),ge.G,ge.I,ge.I,ge.I,N.D$,N.D$,N.sM,N.sM,ge.I,ge.I,"var(--ds-border, ".concat(ie.ip,")"),N.ur,N.ur,ge.I,ge.I,ge.I,ge.I,"var(--ds-border-focused, ".concat(ie.VY,")"),"var(--ds-background-danger, ".concat(N.Is,")"),N.LI,"var(--ds-border-danger, ".concat(N.dY,")"),ye.z,"var(--ds-border-danger, ".concat(N.IB,")"),ge.I,ye.n,"var(--ds-border-danger, ".concat(N.IB,")"),ge.I,be.lA,"var(--ds-border-danger, ".concat(N.IB,")"),ge.I,we.A,"var(--ds-border-danger, ".concat(N.IB,")"),"var(--ds-icon-danger, ".concat(N.IB,")"),"var(--ds-blanket-danger, rgb(255, 189, 173, 0.5))"),Ee=n(84534),xe=n(56734),Oe=n(39378),Se=n(89012),Ce=n(79300),Te=n(77398),Ae=n(63869),_e=(0,M.iv)(f||(f=(0,j.Z)(["\n  .ProseMirror {\n    .ProseMirror-fake-text-cursor {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n    }\n\n    .ProseMirror-fake-text-cursor::after {\n      content: '';\n      display: inline;\n      top: 0;\n      position: absolute;\n      border-right: 1px solid ",";\n    }\n\n    .ProseMirror-fake-text-selection {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n      background-color: ",";\n    }\n  }\n"])),"var(--ds-border, rgba(0, 0, 0, 0.4))","var(--ds-background-selected, ".concat(ie.tE,")")),Pe="mentionView-content-wrap",De=(0,M.iv)(h||(h=(0,j.Z)(["\n  ."," {\n    &."," [data-mention-id] > span {\n      ","\n\n      /* need to specify dark text colour because personal mentions\n         (in dark blue) have white text by default */\n      color: ",";\n    }\n  }\n\n  .danger {\n    .",".","\n      > span\n      > span\n      > span {\n      box-shadow: 0 0 0 ","px ",";\n      background-color: ",";\n    }\n    ."," > span > span > span {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"])),Pe,N.ur,(0,ue.H)([le.a.BoxShadow,le.a.Background]),"var(--ds-text-subtle, ".concat(ie.Mx,")"),Pe,N.ur,N.H5,N.dY,"var(--ds-background-danger, ".concat(N.Rt,")"),Pe,"var(--ds-background-neutral, ".concat(ie.kd,")"),"var(--ds-text-subtle, ".concat(ie.Mx,")")),Ze=n(55339),Ie={EMOJI_CONTAINER:"emojiView-content-wrap",EMOJI_NODE:Ze.ux,EMOJI_SPRITE:Ze.Lc,EMOJI_IMAGE:Ze.rZ,EMOJI_PLACEHOLDER:Ze.W$},Le=(0,M.iv)(v||(v=(0,j.Z)(["\n  ."," {\n    display: inline-block;\n\n    ."," {\n      cursor: pointer;\n\n      &."," > span {\n        /** needed for selection style to cover custom emoji image properly */\n        display: flex;\n      }\n    }\n\n    &."," {\n      .",",\n        ."," {\n        border-radius: 2px;\n        ","\n      }\n    }\n  }\n"])),Ie.EMOJI_CONTAINER,Ie.EMOJI_NODE,Ie.EMOJI_IMAGE,N.ur,Ie.EMOJI_SPRITE,Ie.EMOJI_IMAGE,(0,ue.H)([le.a.Blanket,le.a.BoxShadow])),Me=n(94612),Re=(0,M.iv)(g||(g=(0,j.Z)(["\n  .ProseMirror span[data-placeholder] {\n    color: ",";\n    display: inline;\n  }\n\n  .ProseMirror span.pm-placeholder {\n    display: inline;\n    color: ",";\n  }\n  .ProseMirror span.pm-placeholder__text {\n    display: inline;\n    color: ",";\n  }\n\n  .ProseMirror span.pm-placeholder."," {\n    ","\n  }\n\n  .ProseMirror span.pm-placeholder__text[data-placeholder]::after {\n    color: ",";\n    cursor: text;\n    content: attr(data-placeholder);\n    display: inline;\n  }\n"])),"var(--ds-text-subtlest, ".concat(ie.hH,")"),"var(--ds-text-subtlest, ".concat(ie.hH,")"),"var(--ds-text-subtlest, ".concat(ie.hH,")"),N.ur,(0,ue.H)([le.a.Background]),"var(--ds-text-subtlest, ".concat(ie.hH,")")),Ne=12,je=(0,M.iv)(y||(y=(0,j.Z)(["\n  .gridParent {\n    width: calc(100% + ","px);\n    margin-left: -","px;\n    margin-right: -","px;\n    transform: scale(1);\n    z-index: ",";\n  }\n\n  .gridContainer {\n    position: fixed;\n    height: 100vh;\n    width: 100%;\n    pointer-events: none;\n  }\n\n  // TODO: https://product-fabric.atlassian.net/browse/DSP-4352\n  .gridLine {\n    border-left: 1px solid ",";\n    display: inline-block;\n    box-sizing: border-box;\n    height: 100%;\n    margin-left: -1px;\n\n    transition: border-color 0.15s linear;\n    z-index: 0;\n  }\n\n  .highlight {\n    border-left: 1px solid ",";\n  }\n"])),24,Ne,Ne,N.J1,"var(--ds-border, ".concat(ie.kd,")"),"var(--ds-border-focused, ".concat(ie.VY,")")),Fe=n(59285),Be=(0,M.iv)(b||(b=(0,j.Z)(["\n  .extensionView-content-wrap,\n  .bodiedExtensionView-content-wrap {\n    margin: "," 0;\n\n    &:first-of-type {\n      margin-top: 0;\n    }\n\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n\n    &:not(.danger)."," {\n      & > span > .extension-container {\n        ","\n      }\n    }\n\n    &.danger > span > .extension-container {\n      box-shadow: 0 0 0 ","px\n        ",";\n      background-color: ",";\n    }\n\n    &.inline {\n      word-wrap: break-all;\n    }\n  }\n\n  .extensionView-content-wrap .extension-container {\n    overflow: hidden;\n  }\n\n  .bodiedExtensionView-content-wrap\n    .extensionView-content-wrap\n    .extension-container {\n    width: 100%;\n    max-width: 100%; // ensure width can't go over 100%;\n  }\n\n  [data-mark-type='fragment'] {\n    & > .extensionView-content-wrap,\n    & > .bodiedExtensionView-content-wrap {\n      margin: "," 0;\n    }\n\n    & > [data-mark-type='dataConsumer'] {\n      & > .extensionView-content-wrap,\n      & > .bodiedExtensionView-content-wrap {\n        margin: "," 0;\n      }\n    }\n\n    &:first-child {\n      & > .extensionView-content-wrap,\n      & > .bodiedExtensionView-content-wrap {\n        margin-top: 0;\n      }\n\n      & > [data-mark-type='dataConsumer'] {\n        & > .extensionView-content-wrap,\n        & > .bodiedExtensionView-content-wrap {\n          margin-top: 0;\n        }\n      }\n    }\n\n    &:nth-last-of-type(-n + 2):not(:first-of-type) {\n      & > .extensionView-content-wrap,\n      & > .bodiedExtensionView-content-wrap {\n        margin-bottom: 0;\n      }\n\n      & > [data-mark-type='dataConsumer'] {\n        & > .extensionView-content-wrap,\n        & > .bodiedExtensionView-content-wrap {\n          margin-bottom: 0;\n        }\n      }\n    }\n  }\n"])),N.zH,N.ur,(0,ue.H)([le.a.BoxShadow]),N.H5,"var(--ds-border-danger, ".concat(N.dY,")"),"var(--ds-background-danger, ".concat(N.Is,")"),N.zH,N.zH),ze=n(73254),Ue=n(47845),Ve=n(64586),He=(0,xe.Z)({light:"var(--ds-background-neutral-subtle, rgba(255, 255, 255, 0.6))",dark:"var(--ds-background-neutral-subtle, rgba(9, 10, 11, 0.29))"}),We=function(e){return(0,M.iv)(w||(w=(0,j.Z)(["\n  color: ",";\n"])),(0,xe.Z)({light:"var(--ds-icon-subtle, ".concat(ie.H_,")"),dark:"var(--ds-icon-subtle, #d9dde3)"})(e))},Ge=(0,xe.Z)({dark:"var(--ds-blanket-selected, ".concat("#0C294F4B",")")}),qe=(0,xe.Z)({dark:"1px solid ".concat("var(--ds-border-selected, ".concat("#4794ff4B",")"))}),Ke=(0,xe.Z)({dark:"3px"}),$e=(0,xe.Z)({light:"var(--ds-background-danger, ".concat(ie.r6,")"),dark:"var(--ds-background-danger, #441C13)"}),Je=(0,xe.Z)({dark:"1px solid ".concat("var(--ds-border-danger, ".concat(ie.Zk,")"))}),Ye=(0,xe.Z)({light:"var(--ds-border-danger, ".concat(ie.rt,")")}),Xe=(0,xe.Z)({dark:"3px"}),Qe=n(94622),et=n(14998),tt=(0,M.iv)(E||(E=(0,j.Z)(["\n  [data-decision-wrapper] {\n    cursor: pointer;\n  }\n\n  ."," > [data-decision-wrapper],\n  ol[data-node-type='decisionList']."," {\n    border-radius: 4px;\n    ","\n  }\n\n  .danger {\n    .",".","\n      > div {\n      box-shadow: 0 0 0 ","px\n        ",";\n      background-color: ",";\n      &::after {\n        content: none; /* reset the Blanket selection style */\n      }\n    }\n  }\n"])),N.ur,N.ur,(0,ue.H)([le.a.BoxShadow,le.a.Blanket]),K.o.DECISION_CONTAINER,N.ur,N.H5,"var(--ds-border-danger, ".concat(N.dY,")"),"var(--ds-blanket-danger, ".concat(N.Rt,")")),nt=n(44683),rt="statusView-content-wrap",ot="status-lozenge-span",it=(0,M.iv)(x||(x=(0,j.Z)(["\n  .",",\n    .",",\n    [data-layout-section] {\n    ."," {\n      max-width: 100%;\n      line-height: 0;\n\n      > span {\n        width: 100%;\n      }\n    }\n  }\n  ."," {\n    > span {\n      cursor: pointer;\n      line-height: 0; /* Prevent responsive layouts increasing height of container. */\n    }\n\n    &.","\n      .","\n      > span {\n      ","\n    }\n  }\n\n  .danger {\n    ."," > span {\n      background-color: ",";\n    }\n\n    .",".","\n      .","\n      > span {\n      box-shadow: 0 0 0 ","px ",";\n    }\n  }\n"])),nt.Up.TABLE_CELL_WRAPPER,nt.Up.TABLE_HEADER_CELL_WRAPPER,rt,rt,N.ur,ot,(0,ue.H)([le.a.BoxShadow]),ot,N.Rt,rt,N.ur,ot,N.H5,N.dY),at=n(62403),ct=(0,M.iv)(O||(O=(0,j.Z)(["\n  ."," {\n    ."," {\n      line-height: initial;\n      cursor: pointer;\n    }\n\n    &."," {\n      ."," > span {\n        ","\n      }\n    }\n  }\n\n  .danger {\n    .",".","\n      .","\n      > span {\n      box-shadow: 0 0 0 ","px\n        ",";\n    }\n  }\n"])),J.r.DATE_CONTAINER,J.r.DATE_WRAPPER,N.ur,J.r.DATE_WRAPPER,(0,ue.H)([le.a.BoxShadow]),J.r.DATE_CONTAINER,N.ur,J.r.DATE_WRAPPER,N.H5,"var(--ds-border-danger, ".concat(N.dY,")")),st=n(70115),ut=n(35345),lt=n(84348),dt=(0,M.iv)(S||(S=(0,j.Z)(["\n  ."," {\n    display: inline;\n    user-select: all;\n    /* Collapses zero width spaces inside the inline node view\n    to prevent the node from line breaking too early.\n    */\n    white-space: nowrap;\n    /* Then reset to the Editor default so we don't interfere\n    with any component styling. */\n    & > *:not(span[aria-hidden='true'].zeroWidthSpaceContainer) {\n      white-space: pre-wrap;\n    }\n  }\n  /** Remove browser deafult selections style. This prevents\n    unexpected visual artefacts in Safari when navigating\n    with the keyboard or making range selections. */\n  &.ua-safari {\n    ."," {\n      ::selection,\n      *::selection {\n        background: transparent;\n      }\n    }\n  }\n\n  &.ua-chrome ."," > span {\n    user-select: none;\n  }\n\n  .","AddZeroWidthSpace {\n    ::after {\n      content: '","';\n    }\n  }\n"])),lt.s,lt.s,lt.s,lt.s,ut.$),pt=function(e){return(0,M.iv)(C||(C=(0,j.Z)(["\n  .ProseMirror {\n    outline: none;\n    font-size: ","px;\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n  }\n\n  .ProseMirror[contenteditable='false'] .taskItemView-content-wrap {\n    pointer-events: none;\n    opacity: 0.7;\n  }\n\n  .ProseMirror-hideselection *::selection {\n    background: transparent;\n  }\n\n  .ProseMirror-hideselection *::-moz-selection {\n    background: transparent;\n  }\n\n  .ProseMirror-selectednode {\n    outline: none;\n  }\n\n  .ProseMirror-selectednode:empty {\n    outline: 2px solid ",";\n  }\n\n  ","\n  ","\n  ","\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ",";\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n\n  .panelView-content-wrap {\n    box-sizing: border-box;\n  }\n\n  .mediaGroupView-content-wrap ul {\n    padding: 0;\n  }\n\n  /** Needed to override any cleared floats, e.g. image wrapping */\n\n  div.fabric-editor-block-mark[class^='fabric-editor-align'] {\n    clear: none !important;\n  }\n\n  .fabric-editor-align-end {\n    text-align: right;\n  }\n\n  .fabric-editor-align-start {\n    text-align: left;\n  }\n\n  .fabric-editor-align-center {\n    text-align: center;\n  }\n\n  .pm-table-header-content-wrap :not(.fabric-editor-alignment),\n  .pm-table-header-content-wrap\n    :not(p, .fabric-editor-block-mark)\n    + div.fabric-editor-block-mark,\n  .pm-table-cell-content-wrap\n    :not(p, .fabric-editor-block-mark)\n    + div.fabric-editor-block-mark {\n    p:first-of-type {\n      margin-top: 0;\n    }\n  }\n\n  .hyperlink-floating-toolbar,\n  ."," {\n    padding: 0;\n  }\n\n  /* Link icon in the Atlaskit package\n     is bigger than the others\n  */\n  .hyperlink-open-link {\n    svg {\n      max-width: 18px;\n    }\n    &[href] {\n      padding: 0 4px;\n    }\n  }\n"])),(0,N.pV)({theme:e.theme}),U.u,V.o,H.Xo,W.x,G.B,dt,"var(--ds-border-focused, #8cf)",Re,ae,function(e){return(0,M.iv)(c||(c=(0,j.Z)(["\n  .ProseMirror {\n    ","\n  }\n\n  .ProseMirror li {\n    /* if same list item has multiple code blocks we need top margin for all but first */\n    > .code-block {\n      margin: "," 0 0 0;\n    }\n    > .code-block:first-child,\n    > .ProseMirror-gapcursor:first-child + .code-block {\n      margin-top: 0;\n    }\n\n    > div:last-of-type.code-block {\n      margin-bottom: ",";\n    }\n  }\n\n  .ProseMirror .code-block.",":not(.danger) {\n    ","\n  }\n\n  /* Danger when top level node */\n  .ProseMirror .danger.code-block {\n    box-shadow: 0 0 0 ","px\n      ",";\n\n    ."," {\n      background-color: ",";\n      color: ",";\n      ",";\n    }\n\n    ."," {\n      background-color: ",";\n    }\n  }\n\n  /* Danger when nested node */\n  .ProseMirror .danger .code-block {\n    ."," {\n      background-color: ",";\n      color: ",";\n      ",";\n    }\n\n    ."," {\n      background-color: ",";\n    }\n  }\n"])),(0,pe.Hk)(e),N.zH,N.zH,N.ur,(0,ue.H)([le.a.BoxShadow,le.a.Blanket]),N.H5,"var(--ds-border-danger, ".concat(N.dY,")"),de.e.gutter,"var(--ds-background-danger, ".concat(ie.Xd,")"),"var(--ds-text-danger, ".concat(N.IB,")"),fe(),de.e.content,"var(--ds-blanket-danger, ".concat(N.Is,")"),de.e.gutter,"var(--ds-background-danger, rgba(255, 143, 115, 0.5))","var(--ds-text-danger, ".concat(N.IB,")"),fe(),de.e.content,"var(--ds-blanket-danger, rgba(255, 189, 173, 0.5))")}(e),function(e){return(0,M.iv)(i||(i=(0,j.Z)(["\n  .ProseMirror {\n    ",";\n    ",";\n  }\n"])),ce.V,(0,se.E)(e))}(e),function(e){return(0,M.iv)(m||(m=(0,j.Z)(["\n  ","\n"])),(0,Me.V)(e))}(e),q.E,ve,function(e){return(0,M.iv)(u||(u=(0,j.Z)(["\n  .ProseMirror {\n    ",";\n\n    hr {\n      cursor: pointer;\n      padding: 4px 0;\n      margin: calc(","em - 4px) 0;\n      background-clip: content-box;\n\n      &."," {\n        outline: none;\n        background-color: ",";\n      }\n    }\n  }\n"])),(0,me.x)(e),N.pt,N.ur,"var(--ds-border-selected, ".concat(N.EG,")"))}(e),ke,function(e){return(0,M.iv)(d||(d=(0,j.Z)(["\n  .ProseMirror {\n    "," [data-layout-section] {\n      margin: ","px -","px 0;\n      transition: border-color 0.3s ",";\n      cursor: pointer;\n\n      /* Inner cursor located 26px from left */\n      [data-layout-column] {\n        flex: 1;\n        min-width: 0;\n        border: ","px solid\n          ",";\n        border-radius: 4px;\n        padding: ","px;\n        box-sizing: border-box;\n\n        > div {\n          > :not(style):first-child,\n          > style:first-child + * {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor:first-child + *,\n          > style:first-child + .ProseMirror-gapcursor + * {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor:first-child + span + *,\n          > style:first-child + .ProseMirror-gapcursor:first-child + span + * {\n            margin-top: 0;\n          }\n\n          > .embedCardView-content-wrap:first-of-type .rich-media-item {\n            margin-top: 0;\n          }\n\n          > .mediaSingleView-content-wrap:first-of-type .rich-media-item {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor.-right:first-child\n            + .mediaSingleView-content-wrap\n            .rich-media-item,\n          > style:first-child\n            + .ProseMirror-gapcursor.-right\n            + .mediaSingleView-content-wrap\n            .rich-media-item,\n          > .ProseMirror-gapcursor.-right:first-of-type\n            + .embedCardView-content-wrap\n            .rich-media-item {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor:first-child\n            + span\n            + .mediaSingleView-content-wrap\n            .rich-media-item,\n          > style:first-child\n            + .ProseMirror-gapcursor\n            + span\n            + .mediaSingleView-content-wrap\n            .rich-media-item {\n            margin-top: 0;\n          }\n\n          /* Prevent first DecisionWrapper's margin-top: 8px from shifting decisions down\n             and shrinking layout's node selectable area (leniency margin) */\n          > [data-node-type='decisionList'] {\n            li:first-of-type [data-decision-wrapper] {\n              margin-top: 0;\n            }\n          }\n        }\n\n        /* Make the 'content' fill the entire height of the layout column to allow click\n           handler of layout section nodeview to target only data-layout-column */\n        [data-layout-content] {\n          height: 100%;\n          cursor: text;\n        }\n      }\n\n      [data-layout-column] + [data-layout-column] {\n        margin-left: ","px;\n      }\n\n      @media screen and (max-width: ","px) {\n        [data-layout-column] + [data-layout-column] {\n          margin-left: 0;\n        }\n      }\n\n      // TODO: Remove the border styles below once design tokens have been enabled and fallbacks are no longer triggered.\n      // This is because the default state already uses the same token and, as such, the hover style won't change anything.\n      // https://product-fabric.atlassian.net/browse/DSP-4441\n      /* Shows the border when cursor is inside a layout */\n      &.selected [data-layout-column],\n      &:hover [data-layout-column] {\n        border: ","px solid\n          ",";\n      }\n\n      &.selected.danger > [data-layout-column] {\n        background-color: ",";\n        border-color: ",";\n      }\n\n      &.",":not(.danger) {\n        [data-layout-column] {\n          ","\n        }\n      }\n    }\n  }\n\n  .fabric-editor--full-width-mode .ProseMirror {\n    [data-layout-section] {\n      ."," {\n        margin: 0 ","px;\n      }\n    }\n  }\n"])),Oe.D,(0,Ee.ww)()-1,N.qh,N.Y3,N.H5,(0,xe.Z)({light:"var(--ds-border, ".concat(ie.bt,")"),dark:"var(--ds-border, ".concat(ie.nA,")")})(e),Se.r,Se.U,N.Kv,N.H5,(0,xe.Z)({light:"var(--ds-border, ".concat(ie.Nx,")"),dark:"var(--ds-border, ".concat(ie.EZ,")")})(e),"var(--ds-background-danger, ".concat(N.Is,")"),"var(--ds-border-danger, ".concat(N.dY,")"),N.ur,(0,ue.H)([le.a.Border,le.a.Blanket]),Ce.CF.TABLE_CONTAINER,Te.YJ)}(e),ne,re.b,(0,oe.VX)(e),function(e){return(0,M.iv)(p||(p=(0,j.Z)(["\n  .ProseMirror {\n    ."," {\n      cursor: pointer;\n\n      /* Danger when top level node */\n      &.danger {\n        box-shadow: 0 0 0 ","px\n          ",";\n        background-color: "," !important;\n\n        ."," {\n          color: "," !important;\n        }\n      }\n    }\n\n    ."," {\n      cursor: text;\n    }\n\n    /* Danger when nested node */\n    .danger ."," {\n      &[data-panel-type] {\n        background-color: ",";\n\n        ."," {\n          color: ",";\n        }\n      }\n    }\n\n    ",";\n  }\n\n  .",".",":not(.danger) {\n    ","\n  }\n"])),Ae.sp.prefix,N.H5,N.dY,"var(--ds-background-danger, ".concat(N.Is,")"),Ae.sp.icon,"var(--ds-icon-danger, ".concat(N.IB,")"),Ae.sp.content,Ae.sp.prefix,"var(--ds-blanket-danger, ".concat(N.Rt,")"),Ae.sp.icon,"var(--ds-icon-danger, ".concat(N.IB,")"),(0,Ae.K8)(e),Ae.sp.prefix,N.ur,(0,ue.H)([le.a.BoxShadow,le.a.Blanket]))}(e),_e,De,Le,K.L,je,Fe.W,$.U,J.B,Be,function(e){return(0,M.iv)(k||(k=(0,j.Z)(["\n  ."," > div {\n    display: flex;\n  }\n\n  ."," {\n    ","\n    overflow: hidden;\n    cursor: pointer;\n    box-sizing: border-box;\n\n    td > & {\n      margin-top: 0;\n    }\n\n    ."," svg {\n      ",";\n      transform: rotate(90deg);\n    }\n\n    &.",":not(.danger) {\n      ","\n\n      ::after {\n        // Custom background color and borders (for dark theme).\n        background-color: ",";\n        border: ",";\n        border-radius: ",";\n      }\n    }\n\n    &.danger {\n      background: ",";\n      border: ",";\n      border-color: ",";\n      border-radius: ",";\n    }\n  }\n\n  .ProseMirror\n    > .",",\n    .","\n    > ."," {\n    margin-left: -","px;\n    margin-right: -","px;\n  }\n\n  ."," {\n    ","\n    cursor: text;\n    padding-top: 0px;\n  }\n\n  ."," {\n    ","\n  }\n\n  ."," {\n    ",";\n    align-items: center;\n    overflow: visible;\n  }\n\n  ."," {\n    background: ",";\n    border-color: ",";\n\n    ."," {\n      padding-top: ","px;\n    }\n  }\n\n  ."," {\n    width: 100%;\n  }\n\n  /* stylelint-disable property-no-unknown, value-keyword-case */\n  .",":(.",") {\n    .expand-content-wrapper {\n      height: auto;\n    }\n  }\n  /* stylelint-enable property-no-unknown, value-keyword-case */\n\n  .",":not(.",") {\n    .ak-editor-expand__content {\n      position: absolute;\n      height: 1px;\n      width: 1px;\n      overflow: hidden;\n      clip: rect(1px, 1px, 1px, 1px);\n      white-space: nowrap;\n    }\n\n    ."," svg {\n      ",";\n      transform: rotate(0deg);\n    }\n\n    &:not(.","):not(.danger) {\n      background: transparent;\n      border-color: transparent;\n\n      &:hover {\n        border-color: ",";\n        background: ",";\n      }\n    }\n  }\n"])),Ve.K.icon,Ve.K.prefix,ze.m2.containerStyles({expanded:!1,focused:!1})(e),Ve.K.iconContainer,We(e),N.ur,(0,ue.H)([le.a.Blanket,le.a.Border]),Ge(e),qe(e),Ke(e),$e(e),Je(e),Ye(e),Xe(e),Ve.K.type("expand"),Ue.M.BREAKOUT_MARK_DOM,Ve.K.type("expand"),N.qh,N.qh,Ve.K.content,ze.m2.contentStyles({expanded:!1,focused:!1})(e),Ve.K.titleInput,ze.m2.titleInputStyles(e),Ve.K.titleContainer,ze.m2.titleContainerStyles(e),Ve.K.expanded,He(e),(0,xe.Z)({light:"var(--ds-border, ".concat(ie.bt,")"),dark:"var(--ds-border, ".concat(ie.H8,")")})(e),Ve.K.content,(0,Ee.ww)(),Ve.K.inputContainer,Ve.K.prefix,Ve.K.expanded,Ve.K.prefix,Ve.K.expanded,Ve.K.iconContainer,We(e),N.ur,(0,xe.Z)({light:"var(--ds-border, ".concat(ie.Nx,")"),dark:"var(--ds-border, ".concat(ie.H8,")")})(e),He(e))}(e),et.MG,tt,it,(0,Y._L)(e),at.h,X.U,ct,st.w,Q.g,Qe.m.FLOATING_TOOLBAR_COMPONENT)},ft=function(e){return L.forwardRef((function(t,n){var r=t.className,o=t.children,i=(0,z.u)(),a=(0,L.useMemo)((function(){return pt({theme:i})}),[i]);return(0,M.tZ)("div",{className:r,ref:n,css:[a,e]},o)}))};ft();var ht,vt,mt,gt,yt,bt,wt,kt,Et,xt,Ot=n(23110),St="0.5s ".concat(N.Y3),Ct=2*N.sF,Tt=(0,M.iv)(ht||(ht=(0,j.Z)(["\n  min-width: 340px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n"]))),At=ft((0,M.iv)(vt||(vt=(0,j.Z)(["\n  flex-grow: 1;\n  height: 100%;\n  overflow-y: scroll;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  scroll-behavior: smooth;\n  ",";\n"])),Ot.n));At.displayName="ScrollContainer";var _t=(0,M.iv)(mt||(mt=(0,j.Z)(["\n  padding: 0 ","px;\n  transition: padding 500ms ",";\n"])),N.UO,N.Y3),Pt=(0,M.iv)(gt||(gt=(0,j.Z)(["\n  display: flex;\n  flex-direction: row;\n  height: calc(100% - ",");\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  transition: padding 0ms ",";\n"])),N.Eg,N.Y3),Dt=(0,M.iv)(yt||(yt=(0,j.Z)(["\n  height: 100%;\n  box-sizing: border-box;\n  align-self: flex-end;\n"]))),Zt=(0,M.iv)(bt||(bt=(0,j.Z)(["\n  .fabric-editor--full-width-mode {\n    .pm-table-container,\n    .code-block,\n    .extension-container {\n      display: none;\n    }\n  }\n"]))),It=function(e){return(0,M.iv)(wt||(wt=(0,j.Z)(["\n  .fabric-editor--full-width-mode {\n    .pm-table-container,\n    .code-block,\n    .extension-container {\n      max-width: ","px;\n    }\n\n    [data-layout-section] {\n      max-width: ","px;\n    }\n  }\n"])),e-Ct-2*Te.YJ,e-Ct+2*N.qh)},Lt=function(e){var t=e.layoutMaxWidth,n=e.fullWidthMode,r=e.containerWidth;return[Rt,!n&&Mt(t),r?It(r):Zt]},Mt=function(e){return(0,M.iv)(kt||(kt=(0,j.Z)(["\n  max-width: ","px;\n"])),e+Ct)},Rt=(0,M.iv)(Et||(Et=(0,j.Z)(["\n  line-height: 24px;\n  padding-top: 50px;\n  padding-bottom: 55px;\n  height: calc(\n    100% - 105px\n  ); /* fill the viewport: 100% - (padding top & bottom) */\n  width: 100%;\n  margin: auto;\n  flex-direction: column;\n  flex-grow: 1;\n\n  max-width: ","px;\n  transition: max-width ",";\n  & .ProseMirror {\n    flex-grow: 1;\n    box-sizing: border-box;\n  }\n\n  & .ProseMirror {\n    & > * {\n      /* pre-emptively clear all direct descendant content, just in case any are adjacent floated content */\n      clear: both;\n    }\n    > p,\n    > ul,\n    > ol:not(","):not(","),\n    > h1,\n    > h2,\n    > h3,\n    > h4,\n    > h5,\n    > h6 {\n      /* deliberately allow wrapping of text based nodes, just in case any are adjacent floated content */\n      clear: none;\n    }\n\n    > p:last-child {\n      margin-bottom: 24px;\n    }\n  }\n\n  ",";\n\n  .fabric-editor--full-width-mode {\n    /* Full Width Mode styles for ignoring breakout sizes */\n    .fabric-editor-breakout-mark,\n    .extension-container.block,\n    .pm-table-container {\n      width: 100% !important;\n    }\n\n    .fabric-editor-breakout-mark {\n      margin-left: unset !important;\n      transform: none !important;\n    }\n  }\n"])),N.zJ+Ct,St,F.K,B.i,oe.TZ),Nt=(0,M.iv)(xt||(xt=(0,j.Z)(["\n  box-sizing: border-box;\n  padding: 0 ","px;\n"])),N.sF);function jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,D.Z)(this,n)}}var Ft,Bt=L.createContext({width:0,positionedOverEditor:!1,broadcastWidth:function(){},broadcastPosition:function(){}}),zt=function(e){(0,P.Z)(n,e);var t=jt(n);function n(e){var r;return(0,T.Z)(this,n),r=t.call(this,e),(0,I.Z)((0,_.Z)(r),"state",{width:0,positionedOverEditor:!1}),(0,I.Z)((0,_.Z)(r),"broadcastSidebarWidth",(function(e){e!==r.state.width&&r.setState({width:e})})),(0,I.Z)((0,_.Z)(r),"broadcastPosition",(function(e){e!==r.state.positionedOverEditor&&r.setState({positionedOverEditor:e})})),r}return(0,A.Z)(n,[{key:"render",value:function(){var e=this.state,t=e.width,n=e.positionedOverEditor;return L.createElement(Ut,{value:{width:t,positionedOverEditor:n,broadcastWidth:this.broadcastSidebarWidth,broadcastPosition:this.broadcastPosition}},this.props.children)}}]),n}(L.Component),Ut=Bt.Provider,Vt=Bt.Consumer,Ht=n(26692),Wt=n(89274),Gt=n(26305),qt=n(47351),Kt=n(62588),$t=function(e,t){var n,r,o,i=!(null==e||null===(n=e.hasFocus)||void 0===n||!n.call(e)),a=t.target,c=a.classList.contains("ak-editor-content-area"),s=function(e){for(;e;){if(e.classList&&e.classList.contains("ak-editor-content-area"))return!0;e=e.parentNode}return!1}(a.parentNode),u=(o=a,Boolean(null==o?void 0:o.closest(".ProseMirror")));if(u)return!1;var l=Boolean(t.currentTarget.querySelector(".ak-editor-content-area")),d="INPUT"===a.nodeName,p=!!(0,Gt.pE)(a,"[data-editor-popup]"),f="TEXTAREA"===a.nodeName,h=!!(0,Gt.pE)(a,'nav[aria-label="Breadcrumbs"]'),v=window.getSelection(),m="Range"===(null==v?void 0:v.type)&&(0,Gt.pE)(null==v?void 0:v.anchorNode,"[data-editor-popup]"),g=Boolean((0,Gt.pE)(t.currentTarget,"div[offset]"))||Boolean((0,Gt.pE)(a,"div[offset]")),y=Boolean((0,Gt.pE)(t.currentTarget,"button"))||Boolean((0,Gt.pE)(a,"button"))||"BUTTON"===(null===(r=t.currentTarget)||void 0===r?void 0:r.nodeName)||"BUTTON"===a.nodeName,b=Boolean(s),w=((b&&!u||!l)&&!i||!b&&i||c&&!b&&!i||l&&!c&&!b&&!i)&&!g&&!y&&!d&&!f&&!p&&!h&&!m&&function(e){var t=e.closest("[role=dialog]");return!t||!(null==t||!t.querySelector(".akEditor"))}(a);w&&e&&Jt(e,t)},Jt=function(e,t){var n,r=e.dispatch,o=e.dom,i=e.state,a=i.tr,c=!(null==e||null===(n=e.hasFocus)||void 0===n||!n.call(e));t.clientY>o.getBoundingClientRect().bottom&&(0,Kt.NP)(a),(0,qt.ai)(i)&&(0,qt.gs)(a,t,o,e.posAtCoords.bind(e),c),(a.docChanged||a.selectionSet)&&(r&&r(a),e.focus(),t.stopPropagation(),t.preventDefault())},Yt=(0,M.iv)(Ft||(Ft=(0,j.Z)(["\n  flex-grow: 1;\n  height: 100%;\n"])));const Xt=function(e){var t=e.editorView,n=e.editorDisabled,r=e.children,o=L.useCallback((function(e){t&&(n||$t(t,e))}),[t,n]);return(0,M.tZ)("div",{"data-testid":"click-wrapper",css:Yt,onMouseDown:o},r)};var Qt,en,tn,nn,rn=n(7896),on=n(14657),an=n(672),cn=n(14508),sn=n(99840),un=n(4852),ln=n(68982);function dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(n),!0).forEach((function(t){(0,I.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,D.Z)(this,n)}}var hn,vn=N.re+N._2,mn=N.uz+N._2,gn=(0,M.iv)(Qt||(Qt=(0,j.Z)(["\n  position: absolute;\n  right: 0;\n  height: calc(100% - ",");\n"])),N.Eg),yn=(0,M.iv)(en||(en=(0,j.Z)(["\n  width: 0;\n"]))),bn=(0,M.iv)(tn||(tn=(0,j.Z)(["\n  width: ","px;\n  height: 100%;\n  transition: width ","ms ",";\n  overflow: hidden;\n  box-shadow: inset 2px 0 0 0 ",";\n"])),N.UO,500,N.Y3,"var(--ds-border, ".concat(ie.gt,")")),wn=(0,M.iv)(nn||(nn=(0,j.Z)(["\n  transition: width 600ms ",";\n  box-sizing: border-box;\n  padding: 16px 16px 0px;\n  width: ","px;\n  height: 100%;\n  overflow-y: auto;\n"])),N.Y3,N.UO),kn=function(e){(0,P.Z)(n,e);var t=fn(n);function n(){var e;(0,T.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,I.Z)((0,_.Z)(e),"state",{mounted:!1,currentPluginContent:void 0}),(0,I.Z)((0,_.Z)(e),"showPluginContent",(function(){var t=e.props.pluginContent,n=e.state.currentPluginContent;if(n)return(0,M.tZ)(on.ZP,{timeout:e.state.mounted?500:0,in:!!t,mountOnEnter:!0,unmountOnExit:!0,onExited:function(){return e.unsetPluginContent()}},n)})),(0,I.Z)((0,_.Z)(e),"showProvidedContent",(function(t){var n=e.props.children;if(n)return(0,M.tZ)(on.ZP,{timeout:e.state.mounted?500:0,in:t,mountOnEnter:!0,unmountOnExit:!0},n)})),e}return(0,A.Z)(n,[{key:"unsetPluginContent",value:function(){this.setState({currentPluginContent:void 0})}},{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var e=this,t=this.props.editorWidth,n=N.UO,r=!!this.props.visible,o=r||!!this.state.currentPluginContent;return(0,M.tZ)(Vt,null,(function(i){var a=i.broadcastWidth,c=i.broadcastPosition,s=i.positionedOverEditor,u=!!t&&function(e,t){var n=e.lineLength,r=e.containerWidth,o=void 0===r?0:r,i=e.contentBreakoutModes,a=!(n&&n>N.re),c=!i.length&&o>=2*t+vn,s=!i.includes("full-width")&&i.includes("wide")&&o>=2*t+mn;return a&&(c||s)}(t,n);return a(o?n:0),(u&&o)!==s&&c(u&&o),(0,M.tZ)("div",{css:[bn,!o&&yn,u&&gn],"data-testid":"context-panel-panel","aria-labelledby":"context-panel-title",role:"dialog"},(0,M.tZ)("div",{"data-testid":"context-panel-content",css:[wn,!o&&yn]},e.showPluginContent()||e.showProvidedContent(r)))}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.pluginContent!==t.currentPluginContent?pn(pn({},t),{},{currentPluginContent:e.pluginContent}):null}}]),n}(L.PureComponent),En=function(e){(0,P.Z)(n,e);var t=fn(n);function n(){return(0,T.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n,[{key:"render",value:function(){var e=this;return(0,M.tZ)(un.Z,{render:function(t){var n=t._privateGetEventDispatcher(),r=t._privateGetEditorView();return n?(0,M.tZ)(an.Z,{eventDispatcher:n,plugins:{contextPanel:cn.u,widthState:sn.ux},render:function(t){var n=t.contextPanel,o=t.widthState,i=void 0===o?{width:0,containerWidth:0,lineLength:N.re}:o,a=n&&n.contents.find(Boolean),c=pn(pn({},i),{},{contentBreakoutModes:r?(0,ln.EK)(r.state.doc,r.state.schema):[]});return(0,M.tZ)(kn,(0,rn.Z)({},e.props,{editorView:r,pluginContent:a,editorWidth:c}))}}):(0,M.tZ)(kn,(0,rn.Z)({editorView:r},e.props))}})}}]),n}(L.Component),xn=n(19589),On=n(79155),Sn=n(76298);function Cn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,D.Z)(this,n)}}var Tn=(0,M.iv)(hn||(hn=(0,j.Z)(["\n  display: flex;\n"]))),An=function(e){(0,P.Z)(n,e);var t=Cn(n);function n(){var e;(0,T.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,I.Z)((0,_.Z)(e),"transitionEvent",(0,On.KR)()),(0,I.Z)((0,_.Z)(e),"forceComponentUpdate",(function(t){t.propertyName.includes("width")&&e.forceUpdate()})),(0,I.Z)((0,_.Z)(e),"removeModeChangeListener",(function(t){t&&e.transitionEvent&&t.removeEventListener(e.transitionEvent,e.forceComponentUpdate)})),(0,I.Z)((0,_.Z)(e),"addModeChangeListener",(function(t){t&&e.transitionEvent&&t.addEventListener(e.transitionEvent,e.forceComponentUpdate)})),e}return(0,A.Z)(n,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.editorView,r=t.editorActions,o=t.items,i=t.providerFactory,a=t.eventDispatcher,c=t.popupsMountPoint,s=t.popupsBoundariesElement,u=t.popupsScrollableElement,l=t.containerElement,d=t.disabled,p=t.wrapperElement;return!(e.editorView===n&&e.editorActions===r&&e.items===o&&e.providerFactory===i&&e.eventDispatcher===a&&e.popupsMountPoint===c&&e.popupsBoundariesElement===s&&e.popupsScrollableElement===u&&e.containerElement===l&&e.disabled===d&&e.wrapperElement===p)}},{key:"componentDidMount",value:function(){this.addModeChangeListener(this.props.contentArea)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.contentArea!==e.contentArea&&(this.removeModeChangeListener(this.props.contentArea),this.addModeChangeListener(e.contentArea))}},{key:"componentWillUnmount",value:function(){this.removeModeChangeListener(this.props.contentArea)}},{key:"render",value:function(){var e=this.props,t=e.items,n=e.editorView,r=e.editorActions,o=e.eventDispatcher,i=e.providerFactory,a=e.appearance,c=e.popupsMountPoint,s=e.popupsBoundariesElement,u=e.popupsScrollableElement,l=e.containerElement,d=e.disabled,p=e.dispatchAnalyticsEvent,f=e.wrapperElement;return t&&n?(0,M.tZ)(Sn.S,{component:xn.Wt.PLUGIN_SLOT,fallbackComponent:null},(0,M.tZ)("div",{css:Tn},t.map((function(e,t){var h={key:t},v=e({editorView:n,editorActions:r,eventDispatcher:o,providerFactory:i,dispatchAnalyticsEvent:p,appearance:a,popupsMountPoint:c,popupsBoundariesElement:s,popupsScrollableElement:u,containerElement:l,disabled:d,wrapperElement:f});return v&&L.cloneElement(v,h)})))):null}}]),n}(L.Component);(0,I.Z)(An,"displayName","PluginSlot");var _n=n(96234),Pn=function(e){var t=(0,L.useState)(0),n=(0,_n.Z)(t,2),r=n[0],o=n[1];return(0,L.useEffect)((function(){o(e)}),[e]),r};const Dn=function(e){var t=e.editorView,n=(0,L.useContext)(Bt).width,r=(0,L.useContext)(Ht.E3).width,o=Pn(r),i=Pn(n);return(0,L.useEffect)((function(){var e=o-i;if(!(e<=0||isNaN(e))&&t){var n=t.dom,r=t.state.tr,a=t.dispatch;return r.setMeta(sn.ux,{width:e,containerWidth:o,lineLength:n?n.clientWidth:void 0}),a(r),function(){}}}),[t,i,o]),L.createElement(L.Fragment,null)};const Zn=(0,n(63470).vU)({toolbarLabel:{id:"fabric.editor.toolbarLabel",defaultMessage:"Editor toolbar",description:"Label for the ARIA region landmark"},pageActionsLabel:{id:"fabric.editor.pageActionsLabel",defaultMessage:"Page actions",description:"Label for the ARIA region landmark"},editableContentLabel:{id:"fabric.editor.editableContentLabel",defaultMessage:"Editable content",description:"Label for the ARIA region landmark"}});var In=L.memo((function(e){var t=(0,z.u)(),n="full-width"===e.appearance;return(0,M.tZ)(Ht.mP,null,(function(r){var o=r.width;return(0,M.tZ)(Vt,null,(function(r){var i=r.positionedOverEditor;return(0,M.tZ)("div",{css:[Pt,i&&_t],"data-testid":"ak-editor-fp-content-area"},(0,M.tZ)(At,{ref:e.scrollContainerRef,className:"fabric-editor-popup-scroll-parent"},(0,M.tZ)(Xt,{editorView:e.editorView,editorDisabled:e.disabled},(0,M.tZ)("div",{css:Lt({fullWidthMode:n,layoutMaxWidth:t.layoutMaxWidth,containerWidth:o}),role:"region","aria-label":e.intl.formatMessage(Zn.editableContentLabel),ref:e.contentAreaRef},(0,M.tZ)("div",{css:Nt,className:["ak-editor-content-area",n?"fabric-editor--full-width-mode":""].join(" ")},e.customContentComponents,(0,M.tZ)(An,{editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,items:e.contentComponents,contentArea:e.contentArea,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:!!e.disabled,containerElement:e.scrollContainer,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,wrapperElement:e.wrapperElement}),e.editorDOMElement)))),(0,M.tZ)("div",{css:Dt},e.contextPanel||(0,M.tZ)(En,{visible:!1})),(0,M.tZ)(Dn,{editorView:e.editorView}))}))}))})),Ln=(0,Wt.ZP)(In);const Mn=n(42606).Z;var Rn,Nn=n(34037),jn=n(20998),Fn=n(31299),Bn=n(53270),zn=n(77108),Un=[{width:zn.V9.XXL,size:zn.Mi.XXL},{width:zn.V9.XL,size:zn.Mi.XL},{width:zn.V9.L,size:zn.Mi.L},{width:zn.V9.M,size:zn.Mi.M},{width:zn.V9.S,size:zn.Mi.S}],Vn=[{width:zn.mb.XXL,size:zn.Mi.XXL},{width:zn.mb.XL,size:zn.Mi.XL},{width:zn.mb.L,size:zn.Mi.L},{width:zn.mb.M,size:zn.Mi.M},{width:zn.mb.S,size:zn.Mi.S}],Hn=function(e){return(0,Bn.R)(e)?Un:Vn};function Wn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,D.Z)(this,n)}}var Gn,qn,Kn,$n,Jn,Yn,Xn,Qn,er,tr,nr,rr=(0,M.iv)(Rn||(Rn=(0,j.Z)(["\n  display: flex;\n\n  @media (max-width: ","px) {\n    justify-content: space-between;\n  }\n"])),N.iF),or=function(e){(0,P.Z)(n,e);var t=Wn(n);function n(){return(0,T.Z)(this,n),t.apply(this,arguments)}return(0,A.Z)(n,[{key:"shouldComponentUpdate",value:function(e){return e.toolbarSize!==this.props.toolbarSize||e.disabled!==this.props.disabled||e.popupsMountPoint===this.props.popupsMountPoint||e.popupsBoundariesElement===this.props.popupsBoundariesElement||e.popupsScrollableElement===this.props.popupsScrollableElement||e.isReducedSpacing!==this.props.isToolbarReducedSpacing}},{key:"render",value:function(){var e=this.props,t=e.appearance,n=e.editorView,r=e.editorActions,o=e.eventDispatcher,i=e.providerFactory,a=e.items,c=e.popupsMountPoint,s=e.popupsBoundariesElement,u=e.popupsScrollableElement,l=e.toolbarSize,d=e.disabled,p=e.isToolbarReducedSpacing,f=e.dispatchAnalyticsEvent,h=e.containerElement;return a&&a.length?(0,M.tZ)("div",{css:rr},a.map((function(e,v){var m={key:v},g=e({editorView:n,editorActions:r,eventDispatcher:o,providerFactory:i,appearance:t,popupsMountPoint:c,popupsBoundariesElement:s,popupsScrollableElement:u,disabled:d,toolbarSize:l,isToolbarReducedSpacing:p,containerElement:h,isLastItem:v===a.length-1,dispatchAnalyticsEvent:f,wrapperElement:null});return g&&L.cloneElement(g,m)}))):null}}]),n}(L.Component),ir=function(e){return L.createElement(or,{items:e.items,editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,toolbarSize:e.toolbarSize,isToolbarReducedSpacing:e.toolbarSize<zn.Mi.XXL,containerElement:e.containerElement})},ar=(0,M.iv)(Gn||(Gn=(0,j.Z)(["\n  width: 100%;\n  position: relative;\n  @media (max-width: ","px) {\n    grid-column: 1 / 2;\n    grid-row: 2;\n    width: calc(100% - 30px);\n    margin: 0 15px;\n  }\n"])),N.iF),cr=function(e){var t,n,r=L.createRef(),o=L.useState(void 0),i=(0,_n.Z)(o,2),a=i[0],c=i[1],s=function(e,t){var n=t.skip,r=L.useState(void 0),o=(0,_n.Z)(r,2),i=o[0],a=o[1];return L.useEffect((function(){!n&&e.current&&a(Math.round(e.current.getBoundingClientRect().width))}),[n,a,e]),i}(r,{skip:void 0!==a}),u=void 0===a&&void 0===s?void 0:(t=a||s,n=e.appearance,(Hn(n).find((function(e){var n=e.width;return t>n}))||{size:zn.Mi.XXXS}).size),l=(0,L.useMemo)((function(){var t=function(e,t){return(Hn(t).find((function(t){var n=t.size;return e===n}))||{width:zn.mb.S}).width}((0,Bn.R)(e.appearance)&&e.twoLineEditorToolbar?zn.Mi.S:zn.Mi.M,e.appearance),n="min-width: ".concat(e.hasMinWidth?t:"254","px");return[ar,n]}),[e.appearance,e.hasMinWidth,e.twoLineEditorToolbar]);return(0,M.tZ)("div",{css:l},(0,M.tZ)(Fn.K,{setWidth:c}),e.editorView&&u?(0,M.tZ)(ir,(0,rn.Z)({},e,{toolbarSize:u})):(0,M.tZ)("div",{ref:r}))},sr=868,ur=(0,M.iv)(qn||(qn=(0,j.Z)(["\n  box-shadow: 0 ","px 0 0\n    ",";\n"])),N.Ht,"var(--ds-border, ".concat(ie.gt,")")),lr=(0,M.iv)(Kn||(Kn=(0,j.Z)(["\n  @media (max-width: ","px) {\n    flex-wrap: wrap;\n    height: calc(","px * 2);\n  }\n"])),sr,56),dr=(0,M.iv)($n||($n=(0,j.Z)(["\n  position: relative;\n  align-items: center;\n  box-shadow: none;\n  transition: box-shadow 200ms ",";\n  z-index: ",";\n  display: flex;\n  height: ","px;\n  flex-shrink: 0;\n  // TODO: https://product-fabric.atlassian.net/browse/DSP-4456\n  background-color: ",";\n\n  & object {\n    height: 0 !important;\n  }\n\n  @media (max-width: ","px) {\n    display: grid;\n    height: calc(","px * 2);\n  }\n"])),N.Y3,N.nm,56,"var(--ds-surface, white)",N.iF,56),pr=(0,M.iv)(Jn||(Jn=(0,j.Z)(["\n  margin: ","px;\n  height: ","px;\n  width: ","px;\n  @media (max-width: ","px) {\n    grid-column: 1;\n    grid-row: 1;\n  }\n"])),2*(0,Ee.ww)(),4*(0,Ee.ww)(),4*(0,Ee.ww)(),N.iF),fr=(0,M.iv)(Yn||(Yn=(0,j.Z)(["\n  display: flex;\n  flex-grow: 1;\n\n  @media (max-width: ","px) {\n    grid-column: 1;\n    grid-row: 1;\n  }\n"])),N.iF),hr=(0,M.iv)(Xn||(Xn=(0,j.Z)(["\n  @media (max-width: ","px) {\n    flex: 1 1 100%;\n    height: ","px;\n    justify-content: flex-end;\n    // ED-10241: We add fit-content to ensure that MainToolbar does not\n    // shrink more than the size of its contents. This will prevent the\n    // find/replace icon from being overlapped during a confluence\n    // publish operation\n    min-width: fit-content;\n  }\n"])),sr,56),vr=function(e){return[fr,e&&hr]},mr=(0,M.iv)(Qn||(Qn=(0,j.Z)(["\n  // ED-10241: We add fit-content to ensure that MainToolbar does not\n  // shrink more than the size of its contents. This will prevent the\n  // find/replace icon from being overlapped during a confluence\n  // publish operation\n  min-width: fit-content;\n"]))),gr=(0,M.iv)(er||(er=(0,j.Z)(["\n  @media (max-width: ","px) {\n    display: flex;\n    flex-grow: 1;\n    flex: 1 1 100%;\n    margin: auto;\n    height: ","px;\n    min-width: 0;\n  }\n"])),sr,56),yr=function(e){return[mr,e&&gr]},br=(0,M.iv)(tr||(tr=(0,j.Z)(["\n  align-items: center;\n  display: flex;\n  flex-grow: 1;\n"]))),wr=(0,M.iv)(nr||(nr=(0,j.Z)(["\n  align-items: center;\n  display: flex;\n"]))),kr=n(10762),Er=L.memo((function(e){var t,n,r,o,i,a,c,s,u,l=(0,L.useState)(!1),d=(0,_n.Z)(l,2),p=d[0],f=d[1],h=(0,M.tZ)("div",{css:br},e.beforeIcon&&(0,M.tZ)("div",{css:pr},e.beforeIcon),(0,M.tZ)(cr,{editorView:e.editorView,editorActions:e.editorActions,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,appearance:e.appearance,items:e.primaryToolbarComponents,popupsMountPoint:e.popupsMountPoint,popupsBoundariesElement:e.popupsBoundariesElement,popupsScrollableElement:e.popupsScrollableElement,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,containerElement:e.containerElement,hasMinWidth:e.hasMinWidth,twoLineEditorToolbar:!(null===(t=e.featureFlags)||void 0===t||!t.twoLineEditorToolbar)})),v=(0,M.tZ)("div",{css:wr},null!==(n=e.featureFlags)&&void 0!==n&&n.twoLineEditorToolbar&&e.customPrimaryToolbarComponents&&"before"in e.customPrimaryToolbarComponents?(0,M.tZ)(jn.C,{beforePrimaryToolbarComponents:e.customPrimaryToolbarComponents.before}):null,!0!==(null==e||null===(r=e.featureFlags)||void 0===r?void 0:r.showAvatarGroupAsPlugin)||null!==(o=e.featureFlags)&&void 0!==o&&o.twoLineEditorToolbar?(0,M.tZ)(Mn,{editorView:e.editorView,eventDispatcher:e.eventDispatcher,inviteToEditComponent:null===(i=e.collabEdit)||void 0===i?void 0:i.inviteToEditComponent,inviteToEditHandler:null===(a=e.collabEdit)||void 0===a?void 0:a.inviteToEditHandler,isInviteToEditButtonSelected:null===(c=e.collabEdit)||void 0===c?void 0:c.isInviteToEditButtonSelected,featureFlags:e.featureFlags||{}}):null,null!==(s=e.featureFlags)&&void 0!==s&&s.findReplace&&null!==(u=e.featureFlags)&&void 0!==u&&u.twoLineEditorToolbar?(0,M.tZ)(Nn.Z,{popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,editorView:e.editorView,containerElement:e.containerElement,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,featureFlags:e.featureFlags}):null,e.customPrimaryToolbarComponents&&"after"in e.customPrimaryToolbarComponents?e.customPrimaryToolbarComponents.after:e.customPrimaryToolbarComponents);(0,L.useEffect)((function(){var t;if(null!==(t=e.featureFlags)&&void 0!==t&&t.twoLineEditorToolbar){var n=function(){f(window.innerWidth<=sr)};return window.addEventListener("resize",n),n(),function(){return window.removeEventListener("resize",n)}}}));var m=function(e){return e.altKey&&("F9"===e.key||120===e.keyCode)},g=function(t){var n,r;null!==(n=e.editorView)&&void 0!==n&&n.hasFocus()||(null===(r=e.editorView)||void 0===r||r.focus());t.preventDefault(),t.stopPropagation()};return(0,M.tZ)(Vt,null,(function(t){var n,r,o,i,a,c=t.width;return(0,M.tZ)(kr.U,{editorView:e.editorView,childComponentSelector:"[data-testid='ak-editor-main-toolbar']",isShortcutToFocusToolbar:m,handleEscape:g},(0,M.tZ)("div",{css:(i=e.showKeyline||c>0,a=!(null===(n=e.featureFlags)||void 0===n||!n.twoLineEditorToolbar),[dr,i&&ur,a&&lr]),"data-testid":"ak-editor-main-toolbar"},(0,M.tZ)("div",{css:vr(!(null===(r=e.featureFlags)||void 0===r||!r.twoLineEditorToolbar)),role:"toolbar","aria-label":e.intl.formatMessage(Zn.toolbarLabel)},p?v:h),(0,M.tZ)("div",{css:yr(!(null===(o=e.featureFlags)||void 0===o||!o.twoLineEditorToolbar)),"data-testid":"avatar-group-outside-plugin",role:"region","aria-label":e.intl.formatMessage(Zn.pageActionsLabel)},p?h:v)))}))})),xr=(0,Wt.ZP)(Er);function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,D.Z)(this,n)}}var Sr=function(e){(0,P.Z)(n,e);var t=Or(n);function n(e){var r;return(0,T.Z)(this,n),r=t.call(this,e),(0,I.Z)((0,_.Z)(r),"state",{showKeyline:!1}),(0,I.Z)((0,_.Z)(r),"scrollContainer",null),(0,I.Z)((0,_.Z)(r),"wrapperElementRef",L.createRef()),(0,I.Z)((0,_.Z)(r),"contentAreaRef",(function(e){r.contentArea=e})),(0,I.Z)((0,_.Z)(r),"scrollContainerRef",(function(e){var t=r.scrollContainer;t&&t.removeEventListener("scroll",r.updateToolbarKeyline),r.scrollContainer=e||null,r.scrollContainer&&(r.scrollContainer.addEventListener("scroll",r.updateToolbarKeyline,!1),r.updateToolbarKeyline())})),(0,I.Z)((0,_.Z)(r),"updateToolbarKeyline",(0,R.Z)((function(){if(!r.scrollContainer)return!1;var e=r.scrollContainer.scrollTop>N.Ht;return e!==r.state.showKeyline&&r.setState({showKeyline:e}),!1}))),(0,I.Z)((0,_.Z)(r),"handleResize",(function(){r.updateToolbarKeyline()})),r.featureFlags=e.featureFlags,e.innerRef&&(r.wrapperElementRef=e.innerRef),r}return(0,A.Z)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),this.updateToolbarKeyline.cancel()}},{key:"render",value:function(){var e=this.props,t=this.state.showKeyline;return(0,M.tZ)(zt,null,(0,M.tZ)("div",{css:Tt,className:"akEditor",ref:this.wrapperElementRef},(0,M.tZ)(xr,{appearance:e.appearance,beforeIcon:e.primaryToolbarIconBefore,collabEdit:e.collabEdit,containerElement:this.scrollContainer,customPrimaryToolbarComponents:e.customPrimaryToolbarComponents,disabled:!!e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,editorActions:e.editorActions,editorDOMElement:e.editorDOMElement,editorView:e.editorView,eventDispatcher:e.eventDispatcher,hasMinWidth:e.enableToolbarMinWidth,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,primaryToolbarComponents:e.primaryToolbarComponents,providerFactory:e.providerFactory,showKeyline:t,featureFlags:this.featureFlags}),(0,M.tZ)(Ln,{appearance:e.appearance,contentArea:this.contentArea,contentAreaRef:this.contentAreaRef,contentComponents:e.contentComponents,contextPanel:e.contextPanel,customContentComponents:e.customContentComponents,disabled:e.disabled,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,editorActions:e.editorActions,editorDOMElement:e.editorDOMElement,editorView:e.editorView,eventDispatcher:e.eventDispatcher,popupsBoundariesElement:e.popupsBoundariesElement,popupsMountPoint:e.popupsMountPoint,popupsScrollableElement:e.popupsScrollableElement,providerFactory:e.providerFactory,scrollContainer:this.scrollContainer,scrollContainerRef:this.scrollContainerRef,wrapperElement:this.wrapperElementRef.current})))}}]),n}(L.Component);(0,I.Z)(Sr,"displayName","FullPageEditor");var Cr,Tr,Ar,_r,Pr=n(16336);function Dr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,D.Z)(this,n)}}var Zr,Ir,Lr,Mr=(0,M.F4)(Cr||(Cr=(0,j.Z)(["\n  50% {\n    background-color: ",";\n  }\n"])),"var(--ds-blanket-danger, ".concat(ie.S5,")")),Rr=(0,M.F4)(Tr||(Tr=(0,j.Z)(["\n  0% {\n    background-color: ",";\n  }\n  50% {\n    background-color: auto;\n  }\n  100% {\n    background-color: ",";\n  }\n"])),"var(--ds-blanket-danger, ".concat(ie.S5,")"),"var(--ds-blanket-danger, ".concat(ie.S5,")")),Nr=(0,M.iv)(Ar||(Ar=(0,j.Z)(["\n  &.-flash > div {\n    animation: 0.25s ease-in-out ",";\n  }\n\n  & > div {\n    animation: 'none';\n  }\n"])),Rr),jr=(0,M.iv)(_r||(_r=(0,j.Z)(["\n  ","\n\n  & > div {\n    animation: 0.25s ease-in-out ",";\n  }\n"])),Nr,Mr),Fr=function(e){(0,P.Z)(n,e);var t=Dr(n);function n(){var e;(0,T.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,I.Z)((0,_.Z)(e),"toggle",!1),e}return(0,A.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.animate,n=e.children;return this.toggle=t&&!this.toggle,(0,M.tZ)("div",{css:t?jr:Nr,className:this.toggle?"-flash":""},n)}}]),n}(L.Component);function Br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,D.Z)(this,n)}}var zr=(0,M.iv)(Zr||(Zr=(0,j.Z)(["\n  line-height: 20px;\n  height: auto;\n\n  overflow-x: hidden;\n  overflow-y: auto;\n  ",";\n  max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n\n    & > :last-child {\n      padding-bottom: 0.5em;\n    }\n  }\n"])),Ot.n),Ur=ft();Ur.displayName="ContentArea";var Vr=function(e){(0,P.Z)(n,e);var t=Br(n);function n(){var e;(0,T.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,I.Z)((0,_.Z)(e),"appearance","chromeless"),(0,I.Z)((0,_.Z)(e),"containerElement",null),(0,I.Z)((0,_.Z)(e),"renderChrome",(function(t){var n=t.maxContentSize,r=e.props,o=r.editorDOMElement,i=r.editorView,a=r.editorActions,c=r.eventDispatcher,s=r.providerFactory,u=r.contentComponents,l=r.customContentComponents,d=r.maxHeight,p=r.minHeight,f=void 0===p?30:p,h=r.popupsMountPoint,v=r.popupsBoundariesElement,m=r.popupsScrollableElement,g=r.disabled,y=r.dispatchAnalyticsEvent,b=Boolean(null==n?void 0:n.maxContentSizeReached);return(0,M.tZ)(Fr,{animate:b},(0,M.tZ)("div",{css:[zr,d&&(0,M.iv)(Ir||(Ir=(0,j.Z)(["\n                max-height: ","px;\n              "])),d),(0,M.iv)(Lr||(Lr=(0,j.Z)(["\n              min-height: ","px;\n            "])),f)],"data-testid":"chromeless-editor",ref:function(t){return e.containerElement=t}},(0,M.tZ)(Ur,{className:"ak-editor-content-area"},l,(0,M.tZ)(An,{editorView:i,editorActions:a,eventDispatcher:c,providerFactory:s,appearance:e.appearance,items:u,popupsMountPoint:h,popupsBoundariesElement:v,popupsScrollableElement:m,containerElement:e.containerElement,disabled:!!g,dispatchAnalyticsEvent:y,wrapperElement:e.containerElement}),o)))})),e}return(0,A.Z)(n,[{key:"render",value:function(){return(0,M.tZ)(an.Z,{plugins:{maxContentSize:Pr.ux},render:this.renderChrome})}}]),n}(L.Component);(0,I.Z)(Vr,"displayName","ChromelessEditorAppearance");var Hr,Wr,Gr,qr,Kr,$r,Jr,Yr,Xr,Qr=n(56925),eo=n(95834),to=n(62416),no=n(72779),ro=n.n(no),oo=n(46779),io=n(86522),ao=(0,M.iv)(Hr||(Hr=(0,j.Z)(["\n  position: relative;\n  align-items: center;\n  padding: ","px ","px 0;\n  display: flex;\n  height: auto;\n  background-color: ",";\n  box-shadow: none;\n  padding-left: ","px;\n\n  & > div {\n    > :first-child:not(style),\n    > style:first-child + * {\n      margin-left: 0;\n    }\n  }\n\n  .block-type-btn {\n    padding-left: 0;\n  }\n"])),(0,Ee.ww)(),(0,Ee.ww)(),"var(--ds-surface, white)",20),co=(0,M.iv)(Wr||(Wr=(0,j.Z)(["\n  /* stylelint-disable declaration-block-no-duplicate-properties */\n  position: relative;\n  position: sticky;\n  /* stylelint-enable declaration-block-no-duplicate-properties */\n  padding-bottom: ","px;\n  z-index: ",";\n  transition: box-shadow ease-in-out 0.2s;\n  &.show-keyline {\n    box-shadow: 0 ","px 0 0\n      ",";\n  }\n"])),(0,Ee.ww)(),N.nm,N.Ht,"var(--ds-border, ".concat(ie.gt,")")),so=function(e){var t=(0,L.useState)(0),n=(0,_n.Z)(t,2),r=n[0],o=n[1];return(0,L.useEffect)((function(){var t,n;null!==(t=e.externalToolbarRef)&&void 0!==t&&null!==(n=t.current)&&void 0!==n&&n.clientHeight?o(e.externalToolbarRef.current.clientHeight):o(e.offsetTop||0)}),[e.externalToolbarRef,e.offsetTop]),(0,M.tZ)("div",{css:[ao,co,(0,M.iv)(Gr||(Gr=(0,j.Z)(["\n          top: ","px;\n        "])),r)],"data-testid":"ak-editor-main-toolbar",className:"show-keyline"},e.children)},uo=function(e){return(0,M.tZ)("div",{css:ao,"data-testid":"ak-editor-main-toolbar"},e.children)},lo=function(e){var t,n,r,o=e.useStickyToolbar,i=e.children;return o?(0,M.tZ)(so,(t=o,n="object"===(0,io.Z)(t)&&!("offsetTop"in t),r="object"===(0,io.Z)(t)&&"offsetTop"in t,"object"!==(0,io.Z)(t)?{externalToolbarRef:void 0,offsetTop:void 0}:r?{offsetTop:t.offsetTop}:n?{externalToolbarRef:t}:void 0),i):(0,M.tZ)(uo,null,i)},po=(0,M.iv)(qr||(qr=(0,j.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex-grow: 1;\n  padding-right: ","px;\n  > div {\n    display: flex;\n    flex-shrink: 0;\n  }\n"])),20);function fo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,D.Z)(this,n)}}var ho=(0,M.iv)(Kr||(Kr=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  .less-margin .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  min-width: 272px;\n  /* Border + Toolbar + Footer + (Paragraph + ((Paragraph + Margin) * (DefaultLines - 1)) */\n  /* calc(2px + 40px + 24px + ( 20px + (32px * 2))) */\n\n  height: auto;\n  background-color: ",";\n  border: 1px solid ",";\n  box-sizing: border-box;\n  border-radius: ","px;\n\n  max-width: inherit;\n  word-wrap: break-word;\n"])),8,8,"var(--ds-background-input, white)","var(--ds-border, ".concat(ie.YS,")"),(0,Ee.E0)()),vo=ft((0,M.iv)($r||($r=(0,j.Z)(["\n  flex-grow: 1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  line-height: 24px;\n\n  /** Hack for Bitbucket to ensure entire editorView gets drop event; see ED-3294 **/\n  /** Hack for table controls. Otherwise margin collapse and controls are misplaced. **/\n  .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  .gridParent {\n    margin-left: ","px;\n    margin-right: ","px;\n    width: calc(100% + ","px);\n  }\n\n  padding: ","px;\n\n  ",";\n"])),14,14,2,2,2,20,oe.QV));vo.displayName="ContentArea";var mo=(0,M.iv)(Jr||(Jr=(0,j.Z)(["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  display: flex;\n  padding: 12px 1px;\n"]))),go=function(e){(0,P.Z)(n,e);var t=fo(n);function n(e){var r;return(0,T.Z)(this,n),r=t.call(this,e),(0,I.Z)((0,_.Z)(r),"appearance","comment"),(0,I.Z)((0,_.Z)(r),"containerElement",null),(0,I.Z)((0,_.Z)(r),"wrapperElementRef",L.createRef()),(0,I.Z)((0,_.Z)(r),"handleSave",(function(){r.props.editorView&&r.props.onSave&&r.props.onSave(r.props.editorView)})),(0,I.Z)((0,_.Z)(r),"handleCancel",(function(){r.props.editorView&&r.props.onCancel&&r.props.onCancel(r.props.editorView)})),(0,I.Z)((0,_.Z)(r),"renderChrome",(function(e){var t=e.maxContentSize,n=e.mediaState,o=r.props,i=o.editorDOMElement,a=o.editorView,c=o.editorActions,s=o.eventDispatcher,u=o.providerFactory,l=o.contentComponents,d=o.customContentComponents,p=o.customPrimaryToolbarComponents,f=o.primaryToolbarComponents,h=o.customSecondaryToolbarComponents,v=o.popupsMountPoint,m=o.popupsBoundariesElement,g=o.popupsScrollableElement,y=o.maxHeight,b=o.minHeight,w=void 0===b?150:b,k=o.onSave,E=o.onCancel,x=o.disabled,O=o.dispatchAnalyticsEvent,S=o.intl,C=o.useStickyToolbar,T=Boolean(null==t?void 0:t.maxContentSizeReached),A=!!k||!!E||!!h;return(0,M.tZ)(Fr,{animate:T},(0,M.tZ)("div",{css:[ho,(0,M.iv)(Yr||(Yr=(0,j.Z)(["\n              min-height: ","px;\n            "])),w)],className:"akEditor",ref:r.wrapperElementRef},(0,M.tZ)(lo,{useStickyToolbar:C},(0,M.tZ)(kr.U,{editorView:a,childComponentSelector:"[data-testid='ak-editor-main-toolbar']",isShortcutToFocusToolbar:function(e){return e.altKey&&("F9"===e.key||120===e.keyCode)},handleEscape:function(e){null!=a&&a.hasFocus()||null==a||a.focus(),e.preventDefault(),e.stopPropagation()},editorAppearance:r.appearance,useStickyToolbar:C},(0,M.tZ)(cr,{editorView:a,editorActions:c,eventDispatcher:s,providerFactory:u,appearance:r.appearance,items:f,popupsMountPoint:v,popupsBoundariesElement:m,popupsScrollableElement:g,disabled:!!x,dispatchAnalyticsEvent:O,containerElement:r.containerElement}),(0,M.tZ)("div",{css:po},p))),(0,M.tZ)(Xt,{editorView:a,editorDisabled:x},(0,M.tZ)(Ht.mP,null,(function(e){var t=e.width;return(0,M.tZ)(vo,{ref:function(e){return r.containerElement=e},css:y?(0,M.iv)(Xr||(Xr=(0,j.Z)(["\n                            max-height: ","px;\n                          "])),y):null,className:ro()("ak-editor-content-area",{"less-margin":t<N.X$})},d,(0,M.tZ)(An,{editorView:a,editorActions:c,eventDispatcher:s,dispatchAnalyticsEvent:O,providerFactory:u,appearance:r.appearance,items:l,popupsMountPoint:v,popupsBoundariesElement:m,popupsScrollableElement:g,containerElement:r.containerElement,disabled:!!x,wrapperElement:r.wrapperElementRef.current}),i)}))),(0,M.tZ)(Dn,{editorView:a})),A&&(0,M.tZ)("div",{css:mo,"data-testid":"ak-editor-secondary-toolbar"},(0,M.tZ)(Qr.Z,null,!!k&&(0,M.tZ)(eo.Z,{appearance:"primary",onClick:r.handleSave,testId:"comment-save-button",isDisabled:x||n&&!n.allUploadsFinished},S.formatMessage(oo.ZP.saveButton)),!!E&&(0,M.tZ)(eo.Z,{appearance:"subtle",onClick:r.handleCancel,isDisabled:x},S.formatMessage(oo.ZP.cancelButton))),(0,M.tZ)("span",{style:{flexGrow:1}}),h))})),e.innerRef&&(r.wrapperElementRef=e.innerRef),r}return(0,A.Z)(n,[{key:"render",value:function(){return(0,M.tZ)(an.Z,{plugins:{maxContentSize:Pr.ux,mediaState:to.S},render:this.renderChrome})}}]),n}(L.Component);(0,I.Z)(go,"displayName","CommentEditorAppearance");var yo,bo=(0,Wt.ZP)(go),wo=n(49253);function ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,Z.Z)(e);if(t){var o=(0,Z.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,D.Z)(this,n)}}var Eo,xo=function(e){(0,P.Z)(n,e);var t=ko(n);function n(){var e;(0,T.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,I.Z)((0,_.Z)(e),"clickElementRef",L.createRef()),(0,I.Z)((0,_.Z)(e),"handleClick",(function(t){var n=e.props,r=n.editorView,o=n.editorDisabled;r&&(o||$t(r,t),t.clientY>r.dom.getBoundingClientRect().bottom&&(t.preventDefault(),e.clickElementRef.current&&e.clickElementRef.current.scrollIntoView(!1)))})),e}return(0,A.Z)(n,[{key:"render",value:function(){return(0,M.tZ)("div",{css:(e={isExpanded:this.props.isExpanded,minHeight:this.props.minHeight},t=e.isExpanded,n=e.minHeight,(0,M.iv)(yo||(yo=(0,j.Z)(["\n  height: 100%;\n  ",";\n"])),t&&n?"min-height: ".concat(n,"px"):"")),className:"editor-click-wrapper",onClick:this.handleClick,ref:this.clickElementRef},this.props.children);var e,t,n}}]),n}(L.Component),Oo=(0,M.iv)(Eo||(Eo=(0,j.Z)(["\n  min-height: 30px;\n  width: 100%;\n  max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"]))),So=ft();function Co(e){var t=e.editorView,n=e.persistScrollGutter,r=e.children,o=e.editorDisabled,i=(0,L.useCallback)((function(e){var i=e.maxContentSize,a=e.mobileDimensions,c=Boolean(null==i?void 0:i.maxContentSizeReached),s=100,u=!0;if(a){var l=a.keyboardHeight,d=a.windowHeight,p=a.mobilePaddingTop,f=a.isExpanded;n?(s=d-p,u=f):s=d-l-2*p}return(0,M.tZ)(Fr,{animate:c},(0,M.tZ)("div",{css:Oo},(0,M.tZ)(xo,{editorView:t||void 0,minHeight:s,persistScrollGutter:n,isExpanded:u,editorDisabled:o},(0,M.tZ)(So,null,(0,M.tZ)("div",{className:"ak-editor-content-area"},r)))))}),[r,t,n,o]);return(0,M.tZ)(an.Z,{plugins:{maxContentSize:Pr.ux,mobileDimensions:wo.DW},render:i})}function To(e){var t=e.editorView,n=e.maxHeight,r=e.persistScrollGutter,o=e.editorDOMElement,i=e.disabled;return L.createElement(Co,{editorView:t||null,maxHeight:n,persistScrollGutter:r,editorDisabled:i},o,t&&L.createElement(Dn,{editorView:t}))}function Ao(e){switch(e=e||"comment"){case"full-page":case"full-width":return Sr;case"chromeless":return Vr;case"comment":return bo;case"mobile":return To;default:throw new Error("Appearance '".concat(e,"' is not supported by the editor."))}}So.displayName="ContentArea"},71653:(e,t,n)=>{"use strict";n.d(t,{l:()=>o});var r=[];function o(e,t){var n,o,i,a,c=null!==(n=null===(o=e.dangerouslyAppendPlugins)||void 0===o?void 0:o.__plugins)&&void 0!==n?n:r,s=null!==(i=null===(a=t.dangerouslyAppendPlugins)||void 0===a?void 0:a.__plugins)&&void 0!==i?i:r;return!(s.length===c.length&&!c.some((function(e){return s.some((function(t){return t.name===e.name&&t!==e}))})))||function(e,t){var n="mobile"===e.appearance?["quickInsert","featureFlags"]:[];return["appearance","persistScrollGutter","allowUndoRedoButtons","placeholder","sanitizePrivateContent"].concat(n).reduce((function(n,r){return n||e[r]!==t[r]}),!1)}(e,t)}},54801:(e,t,n)=>{"use strict";n.d(t,{H:()=>o,T:()=>i});const r={plugins:["featureFlagsContextPlugin","compositionPlugin","inlineCursorTargetPlugin","typeAhead","typeAheadInsertItem","focusHandlerPlugin","frozenEditor","submitEditor","saveOnEnter","customAutoformatting","newlinePreserveMarksPlugin","imageUpload","imageUploadInputRule","clipboard","paste","pasteKeymap","mention","mentionInputRule","mentionKeymap","emoji","placeholderText","emojiInputRule","emojiKeymap","emojiAsciiInputRule","blockType","quickInsert","tasksAndDecisions","blockTypeInputRule","tasksAndDecisionsInputRule","list","typeAheadKeymap","typeAheadInputRule","date","dateKeymap","indentationKeymap","textColor","alignmentPlugin","listInputRule","listKeymap","codeBlock","codeBlockIDEKeyBindings","codeBlockKeyMap","textFormatting","textFormattingCursor","textFormattingInputRule","textFormattingSmartRule","textFormattingClear","textFormattingKeymap","tasksAndDecisionsKeyMap","expandKeymap","tableSelectionKeymap","tableKeymap","captionKeymap","mediaKeymap","selectionKeymap","gapCursorKeymap","gapCursor","syncUrlText","fakeCursorToolbarPlugin","hyperLink","table","tableDecorations","hyperlinkInputRule","tablePMColResizing","hyperlinkKeymap","tableColResizing","undoRedoKeyMap","blockTypeKeyMap","tableEditing","filterStepsPlugin","pmCollab","collab","ruleInputRule","ruleKeymap","panel","media","mediaSingleKeymap","mediaEditor","unsupportedContent","jiraIssue","fakeTextCursor","helpDialog","helpDialogKeymap","macro","expand","extension","layout","contextPanel","floatingToolbar","clearMarksOnChange","reactNodeView","history","undoRedoPlugin","codeBlockIndent","placeholder","width","maxContentSize","multilineContent","grid","mobileDimensions","scrollGutterPlugin","analytics","findReplace","selection","avatarGroup","viewUpdateSubscription","beforePrimaryToolbar","inlineCode"],nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","rule","panel","mention","confluenceUnsupportedBlock","confluenceUnsupportedInline","unsupportedBlock","unsupportedInline","confluenceJiraIssue","hardBreak","emoji","placeholder","mediaSingle","mediaGroup","table","expand","nestedExpand","media","tableHeader","decisionList","tableRow","decisionItem","tableCell","taskList","taskItem","extension","bodiedExtension","inlineExtension","layoutSection","layoutColumn","inlineCard","blockCard","embedCard"],marks:["fragment","link","em","strong","textColor","strike","subsup","underline","code","typeAheadQuery","alignment","breakout","indentation","annotation","dataConsumer","border","unsupportedMark","unsupportedNodeAttribute"]};function o(e){return function(t,n){return r[e].indexOf(t.name)-r[e].indexOf(n.name)}}function i(e){return function(t,n){return r[e].indexOf(t.type.name)-r[e].indexOf(n.type.name)}}},47755:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(15574);function r(e){}},38035:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(15009),o=n(56223),i=n(19589),a=n(8639);function c(e,t,n,c,s,u,l){var d;if(null!=c&&null!==(d=c.ttiTracking)&&void 0!==d&&d.enabled&&u){var p,f={payload:{action:i.om.EDITOR_TTI,actionSubject:i.Wt.EDITOR,attributes:{tti:e,ttiFromInvocation:t,canceled:n},eventType:i.Ze.OPERATIONAL}};if(null!==(p=c.ttiTracking)&&void 0!==p&&p.trackSeverity){var h=c.ttiTracking,v=h.ttiSeverityNormalThreshold,m=h.ttiSeverityDegradedThreshold,g=h.ttiFromInvocationSeverityNormalThreshold,y=h.ttiFromInvocationSeverityDegradedThreshold,b=(0,r.w6)(e,t,v,m,g,y),w=b.ttiSeverity,k=b.ttiFromInvocationSeverity;f.payload.attributes.ttiSeverity=w,f.payload.attributes.ttiFromInvocationSeverity=k}(0,a.Z)(u)(f)}null!=s&&s.ufo&&(null==l||l.mark(o.fO.loadEditor,i.om.EDITOR_TTI,e),null==l||l.success(o.fO.loadEditor))}},2672:(e,t,n)=>{"use strict";function r(e){return{minHeight:function(t){var n=t.appearance;return t.minHeight&&n&&!["comment","chromeless"].includes(n)?new Error(e):null}}}n.d(t,{i:()=>r,l:()=>o});var o={appearance:"comment",disabled:!1,extensionHandlers:{},allowHelpDialog:!0,allowNewInsertionBehaviour:!0,quickInsert:!0}},56698:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var r=n(8357);function o(e){return void 0===e?r.Qd:["comment","chromeless","mobile"].includes(e)?void 0:r.Qd}},28586:(e,t,n)=>{"use strict";function r(e){var t,n=e.linking,r=e.smartLinks,o=e.UNSAFE_cards,i=e.autoformattingProvider,a=e.media,c=e.emojiProvider,s=e.mentionProvider,u=e.legacyImageUploadProvider,l=e.taskDecisionProvider,d=e.contextIdentifierProvider,p=e.searchProvider,f=e.macroProvider,h=e.activityProvider,v=e.collabEdit,m=e.collabEditProvider,g=e.presenceProvider,y=(null==n||null===(t=n.smartLinks)||void 0===t?void 0:t.provider)||r&&r.provider||o&&o.provider;return{mediaProvider:null==a?void 0:a.provider,emojiProvider:c,mentionProvider:s,autoformattingProvider:i,cardProvider:y,activityProvider:h,imageUploadProvider:u,taskDecisionProvider:l,contextIdentifierProvider:d,searchProvider:p,presenceProvider:g,macroProvider:f,collabEditProvider:v&&v.provider?v.provider:m}}n.d(t,{Z:()=>r})},57424:(e,t,n)=>{"use strict";function r(e,t,n,r){var o=t.emojiProvider,i=t.mentionProvider,a=t.taskDecisionProvider,c=t.contextIdentifierProvider,s=t.collabEditProvider,u=t.activityProvider,l=t.presenceProvider,d=t.macroProvider,p=t.imageUploadProvider,f=t.mediaProvider,h=t.autoformattingProvider,v=t.searchProvider,m=t.cardProvider;e.setProvider("emojiProvider",o),e.setProvider("mentionProvider",i),e.setProvider("taskDecisionProvider",a),e.setProvider("contextIdentifierProvider",c),e.setProvider("mediaProvider",f),e.setProvider("imageUploadProvider",p),e.setProvider("collabEditProvider",s),e.setProvider("activityProvider",u),e.setProvider("searchProvider",v),e.setProvider("presenceProvider",l),e.setProvider("macroProvider",d),m&&e.setProvider("cardProvider",m),e.setProvider("autoformattingProvider",h),n&&e.setProvider("extensionProvider",Promise.resolve(n)),r&&e.setProvider("quickInsertProvider",r)}n.d(t,{Z:()=>r})},48146:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(56223),o=n(91460),i=n(19589),a=n(39332),c=n(50808);function s(e,t,n,s,u,l,d,p){var f,h;(p(e.view,e.eventDispatcher,e.transformer),null!==(f=t.featureFlags)&&void 0!==f&&f.ufo)&&(n(r.Xv.getInstance(e.view)),null===(h=s())||void 0===h||h.start(r.fO.loadEditor,d));if(t.onEditorReady){var v,m,g,y=(null==t||null===(v=t.performanceTracking)||void 0===v||null===(m=v.onEditorReadyCallbackTracking)||void 0===m?void 0:m.enabled)||(null===(g=t.featureFlags)||void 0===g?void 0:g.ufo);y&&(0,o.MZ)(a.Z.ON_EDITOR_READY_CALLBACK),t.onEditorReady(l),y&&(0,o.H0)(a.Z.ON_EDITOR_READY_CALLBACK,(0,c.Z)(i.om.ON_EDITOR_READY_CALLBACK,t,s,u()))}}},50808:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(86522),o=n(34795),i=n(56223),a=n(8639),c=n(19589);function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,u,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function u(e,t,n,r){return function(){var u=(0,o.Z)(s().mark((function o(u,l){var d,p,f,h;return s().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t.contextIdentifierProvider;case 2:p=o.sent,f=null==p?void 0:p.objectId,r&&(0,a.Z)(r)({payload:{action:e,actionSubject:c.Wt.EDITOR,attributes:{duration:u,startTime:l,objectId:f},eventType:c.Ze.OPERATIONAL}}),null!==(d=t.featureFlags)&&void 0!==d&&d.ufo&&(null==(h=n())||h.mark(i.fO.loadEditor,e,l+u),null==h||h.addMetadata(i.fO.loadEditor,{objectId:f}));case 6:case"end":return o.stop()}}),o)})));return function(e,t){return u.apply(this,arguments)}}()}},83961:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(86522),o=n(34795),i=n(19589);function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,c,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,c)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function c(e,t,n){var r;if(null!=t&&null!==(r=t.contentRetrievalTracking)&&void 0!==r&&r.enabled){var c=e.getValue.bind(e);e._contentRetrievalTracking||(e._contentRetrievalTracking={samplingCounters:{success:1,failure:1},getValueTracked:!1});var s=e._contentRetrievalTracking,u=s.samplingCounters;if(!s.getValueTracked){var l=function(){var e=(0,o.Z)(a().mark((function e(){var r,o,s,l,d,p;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c();case 3:return s=e.sent,u.success===(null!==(r=null==t||null===(o=t.contentRetrievalTracking)||void 0===o?void 0:o.successSamplingRate)&&void 0!==r?r:100)&&(n({payload:{action:i.om.EDITOR_CONTENT_RETRIEVAL_PERFORMED,actionSubject:i.Wt.EDITOR,attributes:{success:!0},eventType:i.Ze.OPERATIONAL}}),u.success=0),u.success++,e.abrupt("return",s);case 9:throw e.prev=9,e.t0=e.catch(0),u.failure===(null!==(l=null==t||null===(d=t.contentRetrievalTracking)||void 0===d?void 0:d.failureSamplingRate)&&void 0!==l?l:100)&&(n({payload:{action:i.om.EDITOR_CONTENT_RETRIEVAL_PERFORMED,actionSubject:i.Wt.EDITOR,attributes:{success:!1,errorInfo:e.t0.toString(),errorStack:null!=t&&null!==(p=t.contentRetrievalTracking)&&void 0!==p&&p.reportErrorStack?e.t0.stack:void 0},eventType:i.Ze.OPERATIONAL}}),u.failure=0),u.failure++,e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e.getValue=l,e._contentRetrievalTracking.getValueTracked=!0}}return e}},94540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(28165),d=n(13980),p=n.n(d),f=n(2784),h=n(27467),v=n(12730),m=n(61801),g=n(15574),y=n(19840),b=n(26426),w=n.n(b),k=n(69626),E=n(71491),x=n(2672),O=n(83961),S=n(48146),C=n(47755),T=n(10813),A=n(8639),_=n(5870),P=n(46393),D=n(57424),Z=n(28586),I=n(91460),L=n(15009),M=n(39332),R=n(38035),N=n(19589),j=n(50808),F=n(21462),B=n(71653);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var U=function(e){(0,a.Z)(n,e);var t=z(n);function n(e,o){var a,c,s,l,d,p,f,v;((0,r.Z)(this,n),l=t.call(this,e),(0,u.Z)((0,i.Z)(l),"prepareExtensionProvider",(0,P.Z)((function(){return l.editorActions}))),(0,u.Z)((0,i.Z)(l),"prepareQuickInsertProvider",(function(e,t){return(0,_.Z)(l.editorActions,e,t,l.createAnalyticsEvent)})),(0,u.Z)((0,i.Z)(l),"handleSave",(function(e){var t,n;return null===(t=(n=l.props).onSave)||void 0===t?void 0:t.call(n,e)})),(0,u.Z)((0,i.Z)(l),"handleAnalyticsEvent",(function(e){return(0,A.Z)(l.createAnalyticsEvent)(e)})),(0,u.Z)((0,i.Z)(l),"getFeatureFlags",(function(){return(0,T.x)(l.props)})),(0,u.Z)((0,i.Z)(l),"getExperienceStore",(function(){return l.experienceStore})),l.providerFactory=new h.Z,(0,C.Z)(e),l.editorActions=(o||{}).editorActions||new k.Z,l.editorSessionId=w()(),l.startTime=performance.now(),l.onEditorCreated=l.onEditorCreated.bind((0,i.Z)(l)),l.onEditorDestroyed=l.onEditorDestroyed.bind((0,i.Z)(l)),l.getExperienceStore=l.getExperienceStore.bind((0,i.Z)(l)),l.trackEditorActions(l.editorActions,e),(0,I.MZ)(M.Z.EDITOR_MOUNTED),null!==(a=e.performanceTracking)&&void 0!==a&&null!==(c=a.ttiTracking)&&void 0!==c&&c.enabled||null!==(s=e.featureFlags)&&void 0!==s&&s.ufo)&&(0,L.Ev)((function(e,t,n){(0,R.Z)(e,t,n,l.props.performanceTracking,l.props.featureFlags,l.createAnalyticsEvent,l.experienceStore)}),null===(d=e.performanceTracking)||void 0===d||null===(p=d.ttiTracking)||void 0===p?void 0:p.ttiIdleThreshold,null===(f=e.performanceTracking)||void 0===f||null===(v=f.ttiTracking)||void 0===v?void 0:v.ttiCancelTimeout);var m=l.prepareExtensionProvider(e.extensionProviders),g=l.prepareQuickInsertProvider(m,e.quickInsert),y=(0,F.lx)(e,void 0,l.createAnalyticsEvent);return l.state={extensionProvider:m,quickInsertProvider:g,preset:y},l}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){(0,I.H0)(M.Z.EDITOR_MOUNTED,(0,j.Z)(N.om.EDITOR_MOUNTED,this.props,this.getExperienceStore,this.createAnalyticsEvent)),(0,D.Z)(this.providerFactory,(0,Z.Z)(this.props),this.state.extensionProvider,this.state.quickInsertProvider)}},{key:"componentDidUpdate",value:function(e){var t=this,n=(0,B.l)(e,this.props),r=n?(0,F.lx)(this.props,e,this.createAnalyticsEvent):this.state.preset,o=this.props,i=o.extensionProviders,a=o.quickInsert;if(i&&i!==e.extensionProviders||a&&a!==e.quickInsert){var c=this.prepareExtensionProvider(i),s=this.prepareQuickInsertProvider(c,a);this.setState({extensionProvider:c,quickInsertProvider:s,preset:r},(function(){return(0,D.Z)(t.providerFactory,(0,Z.Z)(t.props),t.state.extensionProvider,t.state.quickInsertProvider)}))}else n?this.setState({preset:r}):(0,D.Z)(this.providerFactory,(0,Z.Z)(this.props),this.state.extensionProvider,this.state.quickInsertProvider)}},{key:"componentWillUnmount",value:function(){var e,t,n,r,o;(this.unregisterEditorFromActions(),this.providerFactory.destroy(),(0,I.Xf)(M.Z.EDITOR_MOUNTED),(null===(e=this.props)||void 0===e||null===(t=e.performanceTracking)||void 0===t||null===(n=t.onEditorReadyCallbackTracking)||void 0===n?void 0:n.enabled)&&(0,I.Xf)(M.Z.ON_EDITOR_READY_CALLBACK),null!==(r=this.props.featureFlags)&&void 0!==r&&r.ufo)&&(null===(o=this.experienceStore)||void 0===o||o.abortAll({reason:"editor component unmounted"}))}},{key:"trackEditorActions",value:function(e,t){var n=this;return(0,O.Z)(e,t.performanceTracking,(function(e){return n.handleAnalyticsEvent(e)}))}},{key:"onEditorCreated",value:function(e){var t=this;(0,S.Z)(e,this.props,(function(e){return t.experienceStore=e}),this.getExperienceStore,(function(){return t.createAnalyticsEvent}),this.editorActions,this.startTime,(function(e,n,r){return t.registerEditorForActions(e,n,r)}))}},{key:"onEditorDestroyed",value:function(e){var t,n;this.unregisterEditorFromActions(),null===(t=(n=this.props).onDestroy)||void 0===t||t.call(n)}},{key:"registerEditorForActions",value:function(e,t,n){this.editorActions._privateRegisterEditor(e,t,n,this.getFeatureFlags)}},{key:"unregisterEditorFromActions",value:function(){this.editorActions._privateUnregisterEditor()}},{key:"render",value:function(){var e=this;return(0,l.tZ)(y.oF,{data:{packageName:g.u2,packageVersion:g.i8,componentName:"editorCore",appearance:(0,m.$L)(this.props.appearance),editorSessionId:this.editorSessionId}},(0,l.tZ)(v.O,{render:function(t){return(e.createAnalyticsEvent=t)&&(0,l.tZ)(E.h,{props:e.props,handleAnalyticsEvent:e.handleAnalyticsEvent,createAnalyticsEvent:e.createAnalyticsEvent,preset:e.state.preset,handleSave:e.handleSave,editorActions:e.editorActions,providerFactory:e.providerFactory,onEditorCreated:e.onEditorCreated,onEditorDestroyed:e.onEditorDestroyed})}}))}}]),n}(f.Component);(0,u.Z)(U,"defaultProps",x.l),(0,u.Z)(U,"contextTypes",{editorActions:p().object}),(0,u.Z)(U,"propTypes",(0,x.i)("minHeight only supports editor appearance chromeless and comment for Editor"))},46779:(e,t,n)=>{"use strict";n.d(t,{F0:()=>i,ZP:()=>a});var r=n(63470),o=n(11650),i=(0,r.vU)({addLink:{id:"fabric.editor.mediaAddLink",defaultMessage:"Add link",description:"Add link"},unableToOpenLink:{id:"fabric.editor.unableToOpenLink",defaultMessage:"Unable to open this link",description:"Unable to open this link"},unlink:{id:"fabric.editor.unlink",defaultMessage:"Unlink",description:"Removes the hyperlink but keeps your text."},editLink:{id:"fabric.editor.editLink",defaultMessage:"Edit link",description:"Edit the link, update display text"},placeholder:{id:"fabric.editor.hyperlinkToolbarPlaceholder",defaultMessage:"Paste or search for link",description:"Paste or search for link"},linkPlaceholder:{id:"fabric.editor.linkPlaceholder",defaultMessage:"Paste link",description:"Create a new link by pasting a URL."},linkAddress:{id:"fabric.editor.linkAddress",defaultMessage:"Link address",description:"Insert the address of the link"},invalidLink:{id:"fabric.editor.invalidLink",defaultMessage:"Please enter a valid link.",description:"Please enter a valid link."},emptyLink:{id:"fabric.editor.emptyLink",defaultMessage:"Please enter a link.",description:"Please enter a link."},settingsLink:{id:"fabric.editor.settingsLinks",defaultMessage:"Go to Link Preferences",description:"Go to Link Preferences"}});const a=o.ZP},54643:(e,t,n)=>{"use strict";n.d(t,{f:()=>g});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(13980),p=n.n(d),f=n(55975),h=n(46674);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}function m(e){var t=l.useContext(e);return l.useMemo((function(){return{Provider:e.Provider,Consumer:e.Consumer,value:t}}),[t,e])}var g=function(e){var t=e.children,n=m(f.wy),r=m(h.Z);return l.createElement(y,{card:n,analytics:r},t)},y=function(e){(0,a.Z)(n,e);var t=v(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"contextState",{}),e}return(0,o.Z)(n,[{key:"getChildContext",value:function(){return{contextAdapter:{card:this.props.card,analytics:this.props.analytics}}}},{key:"render",value:function(){return this.props.children}}]),n}(l.PureComponent);(0,u.Z)(y,"childContextTypes",{contextAdapter:p().object})},84348:(e,t,n)=>{"use strict";n.d(t,{J:()=>f,s:()=>l});var r=n(7896),o=n(28165),i=(n(2784),n(35345)),a=n(19589),c=n(65109),s=n(76298),u=n(13965),l="inlineNodeView";function d(e){var t=e.nodeViewParams,n=e.pmPluginFactoryParams,d=e.Component,f=e.extraComponentProps,h=t.node,v=document.createElement("span");function m(e){n.eventDispatcher.emit(c.D,{payload:e})}function g(){n.portalProviderAPI.render(function(e){var t=e.dispatchAnalyticsEvent,n=e.currentNode,c=e.nodeViewParams,u=e.Component,d=e.extraComponentProps;return function(){var e,p;return(0,o.tZ)(s.S,{component:a.Wt.REACT_NODE_VIEW,componentId:null!==(e=null==n||null===(p=n.type)||void 0===p?void 0:p.name)&&void 0!==e?e:a.VJ.UNKNOWN_NODE,dispatchAnalyticsEvent:t},(0,o.tZ)("span",{"aria-hidden":"true",className:"zeroWidthSpaceContainer"},(0,o.tZ)("span",{className:"".concat(l,"AddZeroWidthSpace")}),i.$),(0,o.tZ)(u,(0,r.Z)({view:c.view,getPos:c.getPos,node:n},d)),(0,o.tZ)("span",{"aria-hidden":"true",className:"".concat(l,"AddZeroWidthSpace")}))}}({dispatchAnalyticsEvent:m,currentNode:h,nodeViewParams:t,Component:d,extraComponentProps:f}),v,!1,!0)}v.contentEditable="false",p(t.node,v),v.classList.add("".concat(t.node.type.name,"View-content-wrap"),"".concat(l));var y=(0,u.Rz)(t.view),b=y.samplingRate,w=y.slowThreshold,k=y.trackingEnabled;return k&&(0,u.vy)({nodeTypeName:h.type.name}),g(),k&&(0,u.qH)({nodeTypeName:h.type.name,dispatchAnalyticsEvent:m,editorState:t.view.state,samplingRate:b,slowThreshold:w}),{get dom(){return v},update:function(e,t){return h.type===e.type&&(h.sameMarkup(e)||p(e,v),h=e,g(),!0)},destroy:function(){n.portalProviderAPI.remove(v),v=void 0}}}function p(e,t){Object.keys(e.attrs||{}).forEach((function(n){t.setAttribute(n,e.attrs[n])}))}function f(e){var t=e.pmPluginFactoryParams,n=e.Component,r=e.extraComponentProps;return function(){return d({nodeViewParams:{node:arguments.length<=0?void 0:arguments[0],view:arguments.length<=1?void 0:arguments[1],getPos:arguments.length<=2?void 0:arguments[2],decorations:arguments.length<=3?void 0:arguments[3]},pmPluginFactoryParams:t,Component:n,extraComponentProps:r})}}},65109:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,f:()=>i});var r=n(46117),o=n(61801).DQ,i=r.XD.editor},93800:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var r=new(n(16037).PluginKey)("analyticsPlugin")},50104:(e,t,n)=>{"use strict";n.d(t,{Gs:()=>a,wi:()=>c});var r=n(65109),o=n(93800),i=n(98749);function a(e,t,n){var a,c,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.f;return a=e,(null===(c=o.S.getState(a))||void 0===c?void 0:c.createAnalyticsEvent)?((0,i.v)({tr:t,editorState:e,payload:n,channel:s}),t):t}function c(e,t){return function(n){return function(r,o,i){return n(r,(function(n){if(o)if(e instanceof Function){var i=e(r);i&&o(a(r,n,i,t))}else o(a(r,n,e,t))}),i)}}}},1101:(e,t,n)=>{"use strict";n.d(t,{A8:()=>b,C6:()=>y,Bh:()=>x,gZ:()=>w,u1:()=>k,y9:()=>O,uH:()=>g,J$:()=>E});var r=n(56666),o=n(30491),i=n(76123),a=n(19589),c=n(28391),s=n(89673),u=n(16037),l=n(50104),d=n(31446),p=function(e){return function(t,n){var r=(0,c.Lk)(n),i=(0,c.A8)(n,r),a=i.from,s=i.to,l=i.head,p=n.schema.marks.annotation.create({id:e,type:o.j9.INLINE_COMMENT}),f=(0,d.fo)(a,s,!1,p,t);return f.setSelection(u.TextSelection.create(f.doc,l)),f}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Jq.TOOLBAR;return function(n,r){var o=(0,c.m3)(e,t)(r);return(0,l.Gs)(r,n,o)}},h=function(e,t){return(0,l.Gs)(t,e,{action:a.om.INSERTED,actionSubject:a.Wt.ANNOTATION,eventType:a.Ze.TRACK,actionSubjectId:a.VJ.INLINE_COMMENT})};const v={addAnnotationMark:p,addInlineComment:function(e){return function(t,n){var r=p(e)(t,n);return r=h(r,n),r=f(!1,a.Jq.TOOLBAR)(r,n)}},addOpenCloseAnalytics:f,addInsertAnalytics:h,addResolveAnalytics:function(e){return function(t,n){var r={action:a.om.RESOLVED,actionSubject:a.Wt.ANNOTATION,actionSubjectId:a.VJ.INLINE_COMMENT,eventType:a.Ze.TRACK,attributes:{method:e}};return(0,l.Gs)(n,t,r)}}};var m=n(94317),g=function(e,t){var n={type:s.a.UPDATE_INLINE_COMMENT_STATE,data:e},r=Object.values(e).every((function(e){return e}));return t&&r?(0,i.f)(n,v.addResolveAnalytics(t)):(0,i.f)(n)},y=function(){return(0,i.f)({type:s.a.CLOSE_COMPONENT})},b=function(){return(0,i.f)({type:s.a.INLINE_COMMENT_CLEAR_DIRTY_MARK})},w=function(e){return function(t,n){var r=t.tr,i=t.selection.$from,a=t.schema.marks.annotation;return!!i.marks().some((function(e){return e.type===a}))&&(r.removeMark(i.start(),i.end(),a.create({id:e,type:o.j9.INLINE_COMMENT})),n&&n(r),!0)}},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.Jq.TOOLBAR,n=function(e){return function(t){return(!e||(0,c.BA)(t)===m.b.VALID)&&{type:s.a.SET_INLINE_COMMENT_DRAFT_STATE,data:{drafting:e,editorState:t}}}}(e);return(0,i.f)(n,v.addOpenCloseAnalytics(e,t))},E=function(e){return(0,i.f)({type:s.a.INLINE_COMMENT_UPDATE_MOUSE_STATE,data:{mouseData:e}})},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.j9.INLINE_COMMENT;return function(n,a){return!(!((0,c.Lk)(n)||{}).bookmark||!a)&&(t===o.j9.INLINE_COMMENT&&function(e){return(0,i.f)((function(t){return{type:s.a.ADD_INLINE_COMMENT,data:{drafting:!1,inlineComments:(0,r.Z)({},e,!1),selectedAnnotations:[{id:e,type:o.j9.INLINE_COMMENT}],editorState:t}}}),v.addInlineComment(e))}(e)(n,a))}},O=function(e){return(0,i.f)({type:s.a.INLINE_COMMENT_SET_VISIBLE,data:{isVisible:e}})}},76123:(e,t,n)=>{"use strict";n.d(t,{f:()=>g,L:()=>m});var r=n(56666),o=n(72132),i=n(28391),a=n(68079),c=n(89673),s=n(6565);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){var r=e.draftDecorationSet;r&&t||(r=s.EH.empty);var o=l(l({},e),{},{draftDecorationSet:r});if(o.bookmark=void 0,t&&n){o.bookmark=n.selection.getBookmark();var a=o.bookmark.resolve(n.doc),c=(0,i.cT)(a.from,a.to);o.draftDecorationSet=r.add(n.doc,[c])}return o}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e,t){var n=(0,i.Al)(e.selection,e.doc);return n.length!==t.selectedAnnotations.length||n.some((function(e){return!t.selectedAnnotations.some((function(t){return t.type===e.id}))}))?f(f({},t),{},{selectedAnnotations:n}):t},v=(0,o.H)(i.JC,(function(e,t){switch(t.type){case c.a.UPDATE_INLINE_COMMENT_STATE:return l(l({},e),{},{annotations:l(l({},e.annotations),t.data)});case c.a.INLINE_COMMENT_UPDATE_MOUSE_STATE:var n=Object.assign({},e.mouseData,t.data.mouseData);return l(l({},e),{},{mouseData:n});case c.a.SET_INLINE_COMMENT_DRAFT_STATE:return d(e,t.data.drafting,t.data.editorState);case c.a.INLINE_COMMENT_CLEAR_DIRTY_MARK:return l(l({},e),{},{dirtyAnnotations:!1,annotations:{}});case c.a.CLOSE_COMPONENT:return l(l({},e),{},{selectedAnnotations:[]});case c.a.ADD_INLINE_COMMENT:var r=d(e,t.data.drafting,t.data.editorState);return l(l({},r),{},{selectedAnnotations:[].concat((0,a.Z)(r.selectedAnnotations),(0,a.Z)(t.data.selectedAnnotations)),annotations:l(l({},e.annotations),t.data.inlineComments)});case c.a.INLINE_COMMENT_SET_VISIBLE:var o=t.data.isVisible;return o===e.isVisible?e:l(l({},o?e:d(e,!1)),{},{isVisible:o});default:return e}}),{onSelectionChanged:h,onDocChanged:function(e,t){return e.getMeta("replaceDocument")?f(f({},t),{},{dirtyAnnotations:!0}):h(e,t)},mapping:function(e,t){var n,r,o=t.draftDecorationSet,i=t.bookmark;return o&&(n=o.map(e.mapping,e.doc)),i&&(r=i.map(e.mapping)),r===i&&n===o?t:f(f({},t),{},{draftDecorationSet:n,bookmark:r})}}),m=v.createPluginState,g=v.createCommand},89673:(e,t,n)=>{"use strict";var r;n.d(t,{a:()=>r}),function(e){e[e.UPDATE_INLINE_COMMENT_STATE=0]="UPDATE_INLINE_COMMENT_STATE",e[e.SET_INLINE_COMMENT_DRAFT_STATE=1]="SET_INLINE_COMMENT_DRAFT_STATE",e[e.INLINE_COMMENT_UPDATE_MOUSE_STATE=2]="INLINE_COMMENT_UPDATE_MOUSE_STATE",e[e.INLINE_COMMENT_CLEAR_DIRTY_MARK=3]="INLINE_COMMENT_CLEAR_DIRTY_MARK",e[e.ADD_INLINE_COMMENT=4]="ADD_INLINE_COMMENT",e[e.INLINE_COMMENT_SET_VISIBLE=5]="INLINE_COMMENT_SET_VISIBLE",e[e.CLOSE_COMPONENT=6]="CLOSE_COMPONENT"}(r||(r={}))},35368:(e,t,n)=>{"use strict";n.d(t,{E:()=>f,V:()=>l});var r=n(2784),o=n(63470),i=n(27448),a=n(21561),c=n(1101),s=n(94317),u=n(28391),l=(0,o.vU)({createComment:{id:"fabric.editor.createComment",defaultMessage:"Comment",description:"Create/add an inline comment based on the users selection"},createCommentInvalid:{id:"fabric.editor.createCommentInvalid",defaultMessage:"You can only comment on text and headings",description:"Error message to communicate to the user they can only do the current action in certain contexts"},toolbar:{id:"fabric.editor.annotationToolbar",defaultMessage:"Annotation toolbar",description:"A label for a toolbar (UI element) that creates annotations/comments in the document"}}),d=function(e){return function(t,n){var r=document.querySelector('div[aria-label="'.concat(e,'"]'));if(!r)return n;var o=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=o.getBoundingClientRect(),a=window&&window.getSelection(),c=a&&!a.isCollapsed&&a.getRangeAt(0);if(!c)return n;var s=r.getBoundingClientRect(),u=t.state.selection,l=u.head,d=u.anchor,p=t.coordsAtPos(Math.min(l,d)),f=t.coordsAtPos(Math.max(l,d)-Math.min(c.endOffset,1)),h=(p.top||0)-1.5*s.height,v=0;if(p.top!==f.top){v=l>d?Math.max(p.right,f.right):Math.min(p.left,f.left);var m=c.getClientRects()[0];m.right<v&&(v=m.left+m.width/2)}else v=p.left+(f.right-p.left)/2;return v-=s.width/2,{top:h-i.top+o.scrollTop,left:Math.max(0,v-i.left)}}},p=function(e){return function(t,n){var r=document.querySelector('div[aria-label="'.concat(e,'"]'));if(!r)return n;var o=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=o.getBoundingClientRect(),a=window&&window.getSelection(),c=a&&!a.isCollapsed&&a.getRangeAt(0);if(!c)return n;var s,u=r.getBoundingClientRect(),l=t.state.selection,d=l.head,p=l.anchor,f=t.coordsAtPos(Math.min(d,p)),h=t.coordsAtPos(Math.max(d,p)-Math.min(c.endOffset,1));s=d>p&&f.top!==h.top?(h.top||0)+u.height/1.15:(f.top||0)-1.5*u.height;var v=(d>p?h.right:f.left)-u.width/2;return{top:s-i.top+o.scrollTop,left:Math.max(0,v-i.left)}}},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.schema,f=(0,u.BA)(e);if(f!==s.b.INVALID){var h=t.formatMessage(l.createComment),v=t.formatMessage(l.createCommentInvalid),m={type:"button",showTitle:!0,disabled:f===s.b.DISABLED,testId:s.a.floatingToolbarCreateButton,icon:i.default,tooltipContent:f===s.b.DISABLED?v:r.createElement(a.wn,{description:h,keymap:a.KK}),title:h,onClick:function(e,t){return(0,c.u1)(!0)(e,t)}},g=o.marks.annotation,y=Object.keys(o.nodes).reduce((function(e,t){var n=o.nodes[t];return n.allowsMarkType(g)&&e.push(n),e}),[]),b=t.formatMessage(l.toolbar);return{title:b,nodeType:y,items:[m],onPositionCalculated:(n?d:p)(b)}}}},94317:(e,t,n)=>{"use strict";var r;n.d(t,{a:()=>i,b:()=>r}),function(e){e.INVALID="invalid",e.DISABLED="disabled",e.VALID="valid"}(r||(r={}));var o="ak-editor-annotation",i={prefix:o,floatingComponent:"".concat(o,"-floating-component"),floatingToolbarCreateButton:"".concat(o,"-toolbar-create-button"),componentSave:"".concat(o,"-dummy-save-button"),componentClose:"".concat(o,"-dummy-close-button")}},28391:(e,t,n)=>{"use strict";n.d(t,{A8:()=>b,Al:()=>y,BA:()=>O,JC:()=>w,Lk:()=>k,PP:()=>A,Sh:()=>g,cT:()=>m,m3:()=>x,vI:()=>T,wC:()=>h});var r=n(16037),o=n(6565),i=n(1282),a=n(1182),c=n(30491),s=n(94317),u=n(79155),l=n(97816),d=n(19589),p=function(e){if(!e.length)return[];var t=e[0].type.schema.marks.annotation;return e.filter((function(e){return e.type===t})).map((function(e){return e.attrs.id}))},f=function(e,t){var n,r,o,i,a,c=(n=t,r=n.nodeBefore,o=n.nodeAfter,i=r&&n.doc.nodeAt(Math.max(0,n.pos-r.nodeSize-1)),a=o&&n.doc.nodeAt(n.pos+o.nodeSize),[i&&i.marks||[],a&&a.marks||[]]).map(p);e.sort((function(e,t){return(0,u.Sm)(c,(function(t){return t.indexOf(e.id)}))-(0,u.Sm)(c,(function(e){return e.indexOf(t.id)}))}))},h=function(e){var t=new Set;return e.descendants((function(e){return e.marks.filter((function(e){return"annotation"===e.type.name})).filter(v).forEach((function(e){return t.add(e.attrs.id)})),!0})),Array.from(t)},v=function(e){var t=e.attrs,n=t.id,r=t.annotationType;return function(e){if(!e||"string"!=typeof e)return!1;return!["null","undefined"].includes(e.toLowerCase())}(n)&&function(e){if(!e||"string"!=typeof e)return!1;return Object.values(c.j9).includes(e)}(r)},m=function(e,t){return o.p.inline(e,t,{class:"".concat(i.qH.draft)})},g=function(e){var t=e.map((function(e){return e.id})).join("_");return"view-annotation-wrapper_".concat(t)},y=function(e,t){var n=e.empty,r=e.$anchor,o=e.anchor;if(!n||!t)return[];var i=t.nodeAt(o);if(!i&&!r.nodeBefore)return[];var a=t.type.schema.marks.annotation,c=r.nodeBefore,s=i&&i.marks||[],u=[];a.isInSet(s)?u=s:c&&a.isInSet(c.marks)&&(u=c.marks);var l=u.filter((function(e){return"annotation"===e.type.name})).map((function(e){return{id:e.attrs.id,type:e.attrs.annotationType}}));return f(l,r),l};function b(e,t){var n=t.bookmark;return n?n.resolve(e.doc):e.selection}var w=new r.PluginKey("inlineCommentPluginKey"),k=function(e){return w.getState(e)},E=function(e){var t=e.selection,n=t.from,r=t.to;return(0,a._)({from:n,to:r},e.doc,e.schema).length},x=function(e,t){return function(n){var r={};return e&&(r={inputMethod:t,overlap:E(n)}),{action:e?d.om.OPENED:d.om.CLOSED,actionSubject:d.Wt.ANNOTATION,actionSubjectId:d.VJ.INLINE_COMMENT,eventType:d.Ze.TRACK,attributes:r}}},O=function(e){var t=e.selection,n=k(e).disallowOnWhitespace;if(t.empty||!(t instanceof r.TextSelection||t instanceof r.AllSelection))return s.b.INVALID;var o=S(e);return o&&t.to-t.from==1?s.b.INVALID:o?s.b.DISABLED:n&&function(e,t){var n=!1,r=e.content().content;return r.descendants((function(e){if((0,l.Gs)(e,t))return!1;""===e.textContent.trim()&&(e.eq(r.lastChild)&&!e.eq(r.firstChild)&&(0,l.RF)(e,t)||(n=!0));return!n})),n}(t,e.schema)||function(e,t){var n=t.nodes,r=n.text,o=n.paragraph,i=!1;return e.content().content.descendants((function(e){return!(e.type===o&&!e.content.size)&&(e.type===r&&e.textContent||(i=!0),!i)})),!i}(t,e.schema)?s.b.INVALID:s.b.VALID},S=function(e){var t=e.selection,n=e.doc,r=e.schema;return!(0,a.h)({from:t.from,to:t.to},n,r)};function C(e,t){var n=t.schema.marks.annotation;return!!(n&&e&&e.marks.length&&n.isInSet(e.marks))}function T(e,t){if(!e.content.size)return!1;var n=!1;return e.content.forEach((function(e){if(n=n||C(e,t))return!0;e.descendants((function(e){return!C(e,t)||(n=!0,!1)}))})),n}function A(e,t){if(!e.content.size)return!1;e.content.forEach((function(e){_(e,t),e.content.descendants((function(e){return _(e,t),!0}))}))}function _(e,t){return C(e,t)&&(e.marks=e.marks.filter((function(e){return"annotation"!==e.type.name||function(e,t){var n=k(t);return n.annotations&&Object.keys(n.annotations).includes(e)}(e.attrs.id,t)}))),e}},66723:(e,t,n)=>{"use strict";n.d(t,{Z:()=>re});var r=n(56666),o=n(19353),i=n(75547),a=n(3493),c=n(76287),s=n(73133),u=n(14770),l=n(6131),d=n(19589),p=n(79393);var f=n(65872),h=n(16037),v=n(41396);var m=new h.PluginKey("fixChromeSelectionPlugin");const g=function(e){return new l.J({key:new h.PluginKey("disableSpellchecking"),props:{attributes:function(t){if(e){var n=e.disableSpellcheckByBrowser,r=function(){switch(!0){case!0===a.Z.chrome:return{browser:"chrome",version:a.Z.chrome_version};case!0===a.Z.ie:return{browser:"ie",version:a.Z.ie_version};case!0===a.Z.gecko:return{browser:"gecko",version:a.Z.gecko_version};case!0===a.Z.safari:return{browser:"safari",version:a.Z.safari_version}}}();if(r&&n){var o=n[r.browser];if(o&&a.Z[r.browser])return(o.maximum?r.version>=o.minimum&&r.version<=o.maximum:a.Z[r.browser]&&r.version>=o.minimum)?{spellcheck:"false"}:void 0}}}}})};var y=n(44001),b=n(77156),w=n(31446),k=n(93740),E=n(68982),x=new h.PluginKey("newlinePreserveMarksPlugin"),O=function(e){return!!e.selection.$to.parent.marks.find((function(t){return t.type===e.schema.marks.alignment}))},S=function(e){return!k.u.getState(e).active},C=function(e,t){return t&&t(e.tr.split(e.tr.mapping.map(e.selection.$from.pos),1)),!0};const T=function(){return new l.J({key:x,props:{handleKeyDown:(0,b.$)({Enter:(0,w.hX)([E.Lf,O,S],C)})}})};var A=n(6565),_=n(35345),P=n(41595),D=new h.PluginKey("inlineCursorTargetPlugin"),Z=function(e){return e&&e.type.isInline&&!e.type.isText};function I(e){var t=e.event,n=e.view,r=e.cursorTarget;t.stopPropagation(),t.preventDefault();var o=t.data||"",i=n.state.tr;n.someProp("handleTextInput",(function(e){return e(n,r.positions.from,r.positions.to,o)}))||(i.insertText(o),n.dispatch(i))}var L=n(24973),M=n(88188),R=n(59022),N=n(69023),j=n(75173),F=n(6771),B=n(61801),z=n(56223),U=n(30850),V=n(9157),H=n(49904),W=n(9249),G=n(87371),q=n(25421),K=function(){function e(t){var n=t.samplingRate,o=t.slowThreshold,i=t.normalThreshold,a=t.degradedThreshold,c=t.dispatchAverage,s=t.dispatchSample,u=t.onSampleStart,l=t.onSampleEnd,d=t.onSlowInput;(0,W.Z)(this,e),(0,r.Z)(this,"samples",[]),(0,r.Z)(this,"total",0),this.samplingRate=n,this.slowThreshold=o,this.normalThreshold=i,this.degradedThreshold=a,this.dispatchAverage=c,this.dispatchSample=s,this.onSampleStart=u,this.onSampleEnd=l,this.onSlowInput=d}return(0,G.Z)(e,[{key:"start",value:function(){var e,t=this,n=performance.now();this.samples.length+1===this.samplingRate&&(null===(e=this.onSampleStart)||void 0===e||e.call(this));return function(){if(null!==n){var e,r,o=!1,i=(0,q.J)(n);if(t.push(i),i>t.slowThreshold)null===(e=t.onSlowInput)||void 0===e||e.call(t,i),o=!0;if(t.samples.length===t.samplingRate)t.flush(),null===(r=t.onSampleEnd)||void 0===r||r.call(t,i,{isSlow:o,severity:t.severity(i)})}}}},{key:"flush",value:function(){0!==this.samples.length&&(this.dispatch(),this.samples=[],this.total=0)}},{key:"dispatch",value:function(){var e,t;null===(e=this.dispatchSample)||void 0===e||e.call(this,this.getLast(),this.severity(this.getLast()));var n=this.getMedian();null===(t=this.dispatchAverage)||void 0===t||t.call(this,{mean:this.getMean(),median:n,sampleSize:this.samples.length},this.severity(n))}},{key:"push",value:function(e){this.samples.push(e),this.total+=e}},{key:"severity",value:function(e){return(0,B.a$)(e,this.normalThreshold,this.degradedThreshold)}},{key:"getLast",value:function(){return this.samples[this.samples.length-1]}},{key:"getMean",value:function(){return this.total/this.samples.length}},{key:"getMedian",value:function(){if(1===this.samples.length)return this.samples[0];this.samples.sort((function(e,t){return e-t}));var e=(this.samples.length+1)/2,t=Math.floor(e);return 0===e%t?this.samples[e-1]:(this.samples[t-1]+this.samples[t])/2}}]),e}();function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=new h.PluginKey("frozenEditor"),X=function(e,t,n,r,o,i){var a,c=t.state,s=r(c);return e({action:d.om.BROWSER_FREEZE,actionSubject:d.Wt.EDITOR,attributes:J(J({objectId:null===(a=(0,y.ut)(c))||void 0===a?void 0:a.objectId,freezeTime:n,nodeSize:c.doc.nodeSize},s),{},{participants:(0,V.J)(t.state),interactionType:o,severity:i}),eventType:d.Ze.OPERATIONAL})};var Q=n(79831);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=a.Z.chrome&&a.Z.chrome_version>=88;const re=function(e,t){var n,r,h=(null==t||null===(n=t.dependencies)||void 0===n||null===(r=n.featureFlags)||void 0===r?void 0:r.sharedState.currentState())||{};return{name:"base",pmPlugins:function(){var t=[{name:"filterStepsPlugin",plugin:function(e){return function(e){return new l.J({filterTransaction:function(t){return!(t.steps||[]).some((function(e){return e.from>e.to}))||(console.warn("The transaction was blocked because it contains invalid steps",t.steps),e({action:d.om.DISCARDED_INVALID_STEPS_FROM_TRANSACTION,actionSubject:d.Wt.EDITOR,attributes:{analyticsEventPayloads:(0,p.V)(t)},eventType:d.Ze.OPERATIONAL}),!1)}})}(e.dispatchAnalyticsEvent)}}];return t.push({name:"inlineCursorTargetPlugin",plugin:function(){return e&&e.allowInlineCursorTarget?new l.J({key:D,state:{init:function(){return{cursorTarget:void 0}},apply:function(e){var t=e.selection,n=e.doc,r=t.$from,o=t.$to,i=e.getMeta(D);if(t&&(0,P.hT)(t)&&!i){var c=Z(r.nodeAfter),s=Z(r.nodeBefore),u=0===r.parentOffset&&Z(r.nodeAfter),l=n.resolve(r.pos).node().lastChild===r.nodeBefore&&Z(r.nodeBefore),d=function(e){var n=document.createElement("span");return n.contentEditable="true",n.setAttribute("aria-hidden","true"),n.appendChild(document.createTextNode(_.$)),n.className="cursor-target",A.p.widget(t.from,n,{raw:!0,side:"left"===e?-1:1,key:"inlineCursor"})};if(!a.Z.safari&&(c||l)&&(s||u))return{cursorTarget:{decorations:[d("left"),d("right")],positions:{from:r.pos,to:o.pos}}};if(a.Z.safari){if(l||s&&c)return{cursorTarget:{decorations:[d("left")],positions:{from:r.pos,to:o.pos}}};if(u)return{cursorTarget:{decorations:[d("right")],positions:{from:r.pos,to:o.pos}}}}}return{cursorTarget:void 0}}},props:{decorations:function(e){var t=e.doc,n=D.getState(e).cursorTarget;return function(e){return!(!e||e.decorations.includes(null))}(n)?A.EH.create(t,n.decorations):null},handleDOMEvents:{keydown:function(e,t){return a.Z.safari&&t instanceof KeyboardEvent&&t.shiftKey&&("ArrowLeft"===t.key||"ArrowRight"===t.key)&&e.dispatch(e.state.tr.setMeta(D,{cursorTarget:void 0})),!1},compositionend:function(e,t){var n=t,r=e.state,o=D.getState(r).cursorTarget;return void 0!==o&&(I({event:n,cursorTarget:o,view:e}),!0)},beforeinput:function(e,t){var n=t,r=e.state,o=D.getState(r).cursorTarget;return!n.isComposing&&void 0!==o&&(I({event:n,cursorTarget:o,view:e}),!0)}}}}):void 0}}),t.push({name:"focusHandlerPlugin",plugin:function(e){var t=e.dispatch;return(0,f.Z)(t)}},{name:"newlinePreserveMarksPlugin",plugin:T},{name:"reactNodeView",plugin:function(){return M.BA}},{name:"frozenEditor",plugin:function(t){var n,r=t.dispatchAnalyticsEvent;return null!=e&&null!==(n=e.inputTracking)&&void 0!==n&&n.enabled||null!=e&&e.ufo?function(e,t,n,r){var o,i=null,a=null,c=null;null!=n&&n.trackInteractionType&&(o=U.Rv.LOADING);var s=t&&"number"==typeof t.samplingRate?t.samplingRate:100,u=t&&"number"==typeof t.slowThreshold?t.slowThreshold:300,p=t&&"number"==typeof t.freezeThreshold?t.freezeThreshold:600,f=t&&t.countNodes,h=null,v={},m=function(e){return e===h||(v=f?(0,H.u)(e):{},h=e),v},g=(null==t?void 0:t.trackSeverity)||!1,b=(null==t?void 0:t.severityNormalThreshold)||100,w=(null==t?void 0:t.severityDegradedThreshold)||500,k=function(t,n){return function(r,o){var i,a=n.state,c=m(a),s={action:t,actionSubject:d.Wt.EDITOR,attributes:J(J({time:r,nodeSize:a.doc.nodeSize},c),{},{participants:(0,V.J)(a),objectId:null===(i=(0,y.ut)(a))||void 0===i?void 0:i.objectId,severity:g?o:void 0}),eventType:d.Ze.OPERATIONAL};e(s)}},E=function(t,n){return function(r,o){var i,a=r.mean,c=r.median,s=r.sampleSize,u=n.state,l=m(u),p={action:t,actionSubject:d.Wt.EDITOR,attributes:J(J({mean:a,median:c,sampleSize:s},l),{},{nodeSize:u.doc.nodeSize,severity:g?o:void 0,participants:(0,V.J)(u),objectId:null===(i=(0,y.ut)(u))||void 0===i?void 0:i.objectId}),eventType:d.Ze.OPERATIONAL};e(p)}};return new l.J({key:Y,props:(0,F.D4)()?{handleTextInput:function(e){if(null!=n&&n.trackInteractionType&&(o=U.Rv.TYPING),i){var t=i.start();requestAnimationFrame(t)}if(a){var r=a.start();Promise.resolve().then(r)}if(c){var s=c.start();setTimeout(s)}return!1},handleDOMEvents:null!=n&&n.trackInteractionType?{click:function(){return o=U.Rv.CLICKING,!1},paste:function(){return o=U.Rv.PASTING,!1}}:void 0}:void 0,view:function(l){if(!(0,F.bh)())return{};var f=r?z.Xv.getInstance(l):void 0;null!=t&&t.enabled&&(i=new K({samplingRate:s,slowThreshold:u,normalThreshold:b,degradedThreshold:w,onSampleStart:function(){null==f||f.start(z.fO.typing)},onSampleEnd:function(e,t){var n,r=t.isSlow,o=t.severity,i=l.state,a=m(i);r&&(null==f||f.addMetadata(z.fO.typing,{slowInput:!0})),null==f||f.success(z.fO.typing,J(J({nodeSize:i.doc.nodeSize},a),{},{participants:(0,V.J)(i),objectId:null===(n=(0,y.ut)(i))||void 0===n?void 0:n.objectId,time:e,severity:g?o:void 0}))},dispatchSample:k(d.om.INPUT_PERF_SAMPLING,l),dispatchAverage:E(d.om.INPUT_PERF_SAMPLING_AVG,l),onSlowInput:function(t){var n,r=l.state,o=m(r);e({action:d.om.SLOW_INPUT,actionSubject:d.Wt.EDITOR,attributes:J(J({time:t,nodeSize:r.doc.nodeSize},o),{},{participants:(0,V.J)(r),objectId:null===(n=(0,y.ut)(r))||void 0===n?void 0:n.objectId}),eventType:d.Ze.OPERATIONAL})}})),null!=t&&t.trackSingleKeypress&&(a=new K({samplingRate:s,slowThreshold:u,normalThreshold:b,degradedThreshold:w,dispatchSample:k(d.om.INPUT_PERF_SAMPLING_SINGLE_KEYPRESS,l),dispatchAverage:E(d.om.INPUT_PERF_SAMPLING_SINGLE_KEYPRESS_AVG,l)})),null!=t&&t.trackRenderingTime&&(c=new K({samplingRate:s,slowThreshold:u,normalThreshold:b,degradedThreshold:w,dispatchSample:k(d.om.INPUT_PERF_SAMPLING_RENDERED,l),dispatchAverage:E(d.om.INPUT_PERF_SAMPLING_RENDERED_AVG,l)}));try{new PerformanceObserver((function(t){for(var r=t.getEntries(),i=0;i<r.length;i++){var a=r[i].duration;a>p&&X(e,l,a,m,null!=n&&n.trackInteractionType?o:void 0,null!=n&&n.trackSeverity?(0,B.a$)(a,n.severityNormalThreshold||2e3,n.severityDegradedThreshold||3e3):void 0)}})).observe({entryTypes:["longtask"]})}catch(e){}return{destroy:function(){var e;null===(e=i)||void 0===e||e.flush()}}}})}(r,e.inputTracking,e.browserFreezeTracking,e.ufo):void 0}},{name:"decorationPlugin",plugin:function(){return(0,R.ZP)()}},{name:"history",plugin:function(){return(0,i.m8)()}},{name:"codeBlockIndent",plugin:function(){return(0,j.$)(te(te({},o.YR),{},{"Mod-[":function(){return!0},"Mod-]":function(){return!0}}))}},{name:"contextIdentifier",plugin:function(e){var t=e.dispatch,n=e.providerFactory;return(0,y.ZP)(t,n)}},{name:"betterTypeHistory",plugin:function(e){e.dispatch,e.providerFactory;return(0,L.Z)()}}),e&&e.allowScrollGutter&&t.push({name:"scrollGutterPlugin",plugin:function(){return(0,N.ZP)(e.allowScrollGutter)}}),ne&&t.push({name:"fixChrome88SelectionPlugin",plugin:function(){return new l.J({key:m,props:{handleDOMEvents:{focus:function(e){return"div"!==e.dom.tagName.toLowerCase()||(0,v.EG)(e.state.selection)||(e.dom.style.display="inline-block",e.dom.offsetHeight,e.dom.style.display="block"),!1}}}})}}),t.push({name:"disableSpellcheckingPlugin",plugin:function(){return g(h)}}),t.push({name:"compositionPlugin",plugin:function(){return(0,Q.Z)()}}),t},nodes:function(){return[{name:"doc",node:c.J},{name:"paragraph",node:s.A},{name:"text",node:u.f}]}}}},24973:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l,u:()=>u});var r=n(6131),o=n(16037),i=n(75730),a=n(75547),c=n(30709),s=n(41595),u=new o.PluginKey("betterTypeHistoryPlugin");const l=function(){return new r.J({key:u,appendTransaction:function(e,t,n){if(e.find((function(e){return e.getMeta(u)})))return(0,a.SJ)(n.tr);var r=function(e){var t=1===e.length&&e[0];if(!(t&&t.docChanged&&t.isGeneric&&t.selection instanceof o.TextSelection))return null;var n=t.selection,r=t.steps.filter((function(e){return e instanceof c.Pu||e instanceof c.FC}));return n.$cursor&&1===r.length?r[0]:null}(e);if(r){var l=(0,s.bj)(r),d=n.schema;return l&&(function(e){if(!(e.size>1&&2===e.content.childCount))return!1;var t=e.content.child(0),n=e.content.child(1);return t&&n&&t.type===n.type}(l)||function(e,t){var n=i.Fragment.from(t.text("\n"));return e.content.eq(n)}(l,d))?(0,a.SJ)(n.tr):void 0}}})}},79831:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,b:()=>i});var r=n(6131),o=new(n(16037).PluginKey)("compositionPlugin"),i=function(e){return o.getState(e).isComposing};const a=function(){return new r.J({key:o,state:{init:function(){return{isComposing:!1}},apply:function(e,t){var n=e.getMeta(o);return void 0===n?t:{isComposing:n}}},props:{handleDOMEvents:{compositionstart:function(e,t){var n=e.state.tr;return n.setMeta(o,!0),e.dispatch(n),!1},compositionend:function(e,t){var n=e.state.tr;return n.setMeta(o,!1),e.dispatch(n),!1}}}})}},44001:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>u,ut:()=>s});var r=n(56666),o=n(6131);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=new(n(16037).PluginKey)("contextIdentiferPlugin"),s=function(e){var t;if(e)return null===(t=c.getState(e))||void 0===t?void 0:t.contextIdentifierProvider};const u=function(e,t){return new o.J({key:c,state:{init:function(){return{}},apply:function(e,t){return e.getMeta(c)?e.getMeta(c):t}},view:function(e){var n=function(t,n){n&&"contextIdentifierProvider"===t&&n.then((function(t){var n=e.state.tr.setMeta(c,{contextIdentifierProvider:a({},t)});e.dispatch(n)}))};return t&&t.subscribe("contextIdentifierProvider",n),{destroy:function(){t&&t.unsubscribe("contextIdentifierProvider",n)}}}})}},59022:(e,t,n)=>{"use strict";n.d(t,{Jh:()=>s,ZP:()=>l,aO:()=>r,pP:()=>u});var r,o=n(6565),i=n(6131),a=n(16037),c=n(41396),s=new a.PluginKey("decorationPlugin");!function(e){e[e.DECORATION_ADD=0]="DECORATION_ADD",e[e.DECORATION_REMOVE=1]="DECORATION_REMOVE"}(r||(r={}));var u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"danger";return function(i,u){var l,d;if(i.selection instanceof a.NodeSelection){var p=i.selection.node;(Array.isArray(e)?e:[e]).indexOf(p.type)>-1&&(l=i.selection.from,d=p)}var f=(0,c.Tr)(e)(i.selection);return void 0===l&&f&&(l=f.pos,d=f.node),void 0!==l&&void 0!==d&&(u&&u(i.tr.setMeta(s,{action:t?r.DECORATION_ADD:r.DECORATION_REMOVE,data:o.p.node(l,l+d.nodeSize,{class:n},{key:"decorationNode"})}).setMeta("addToHistory",!1)),!0)}};const l=function(){return new i.J({key:s,state:{init:function(){return{decoration:void 0}},apply:function(e,t){t.decoration&&(e.mapping.mapResult(t.decoration.from).deleted&&(t={decoration:void 0}));var n=e.getMeta(s);if(!n)return t;switch(n.action){case r.DECORATION_ADD:return{decoration:n.data};case r.DECORATION_REMOVE:return{decoration:void 0};default:return t}}},props:{decorations:function(e){var t=e.doc,n=s.getState(e).decoration;return n?o.EH.create(t,[n]):null}}})}},65872:(e,t,n)=>{"use strict";n.d(t,{R:()=>o,Z:()=>i});var r=n(6131),o=new(n(16037).PluginKey)("focusStatePlugin");const i=function(e){return new r.J({key:o,state:{init:function(){return!0},apply:function(t,n){var r=t.getMeta(o);return"boolean"==typeof r&&r!==n?(e(o,r),r):n}},props:{handleDOMEvents:{click:function(e){return o.getState(e.state)||e.dispatch(e.state.tr.setMeta(o,e.hasFocus())),!1},focus:function(e){return o.getState(e.state)||e.dispatch(e.state.tr.setMeta(o,!0)),!1},blur:function(e){return o.getState(e.state)&&e.dispatch(e.state.tr.setMeta(o,!1)),!1}}}})}},88188:(e,t,n)=>{"use strict";n.d(t,{BA:()=>l,SL:()=>u});var r=n(9249),o=n(87371),i=n(56666),a=n(6131),c=n(16037),s=function(){function e(){(0,r.Z)(this,e),(0,i.Z)(this,"changeHandlers",[]),this.changeHandlers=[]}return(0,o.Z)(e,[{key:"subscribe",value:function(e){this.changeHandlers.push(e)}},{key:"unsubscribe",value:function(e){this.changeHandlers=this.changeHandlers.filter((function(t){return t!==e}))}},{key:"notifyNewSelection",value:function(e,t){this.changeHandlers.forEach((function(n){return n(e,t)}))}}]),e}(),u=new c.PluginKey("reactNodeView"),l=new a.J({state:{init:function(){return new s},apply:function(e,t){return t}},key:u,view:function(e){var t=u.getState(e.state),n=-1,r=-1;return{update:function(e){var o=e.state.selection,i=o.from,a=o.to;i===n&&a===r||(t.notifyNewSelection(i,a),n=i,r=a)}}}})},69023:(e,t,n)=>{"use strict";n.d(t,{Tw:()=>a,ZP:()=>u});var r=n(6131),o=n(68982),i=n(49253),a=36;function c(e,t){if("undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return new IntersectionObserver((function(e,n){e.forEach((function(e){t(e.intersectionRatio>0)}))}),{root:e,rootMargin:"0px",threshold:0})}function s(e,t,n){var r=e.offsetHeight,o=e.getBoundingClientRect().top,i=function(){var e=window.getSelection();if(e&&e.rangeCount>0){var t=e.getRangeAt(0);if(t){var n=t.getClientRects();if(n&&n.length>0)return n[0].top;var r=t.startContainer;if(r&&r.getBoundingClientRect)return r.getBoundingClientRect().top}}}();return!!i&&(!(i-o<r-n-80)&&(t.scrollIntoView(!1),!0))}const u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getScrollElement,n=e.allowCustomScrollHandler,a=e.gutterSize,u=void 0===a?120:a;if(t){var l=function(e){var t=document.createElement("div");t.style.paddingBottom="".concat(e,"px"),t.id="#editor-scroll-gutter".substr(1);var n,r=!1,o=!1,i=null,a=!1;return{addGutter:function(e){e&&(i=e,e.appendChild(t),o=!0,n&&n.observe(t))},removeGutter:function(){i&&o&&(o=!1,i.removeChild(t),n&&n.unobserve(t))},element:function(){return t},isMounted:function(){return o},visible:function(){return n?a:o},observe:function(e){r||(r=!0,n=c(e,(function(e){return a=e})))},destroy:function(){n&&n.disconnect(),n=void 0,this.removeGutter(),r=o=!1}}}(u),d=null;return new r.J({props:{scrollThreshold:u/2,scrollMargin:u,handleScrollToSelection:function(){return!1!==n&&(!!(l.isMounted()&&l.visible()&&d)&&s(d,l.element(),u))}},view:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(n){d=t(n);var r=n.dom,a=r.parentElement;return{destroy:function(){l.destroy(),d=a=r=null},update:function(t,n){if(d&&a){var r=t.state;if(n.selection!==r.selection){var c=l.isMounted(),s=function(){c||(l.observe(d),l.addGutter(a))};if(e.persistScrollGutter)(0,o.RL)(r.doc)?l.removeGutter():s();else{var p=function(e){return i.DW.getState(e)}(r),f=d.offsetHeight-(p&&p.keyboardHeight?p.keyboardHeight:0);a.offsetHeight-(c?u:0)>=f-u?s():c&&l.removeGutter()}}}}}}))})}}},20998:(e,t,n)=>{"use strict";n.d(t,{C:()=>c});var r,o=n(71171),i=n(28165),a=(0,i.iv)(r||(r=(0,o.Z)(["\n  display: flex;\n  margin-right: 8px;\n  flex-grow: 1;\n  justify-content: flex-end;\n  align-items: center;\n"]))),c=function(e){return(0,i.tZ)("div",{css:a,"data-testid":"before-primary-toolbar-components-plugin"},e.beforePrimaryToolbarComponents)}},16933:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=(0,n(63470).vU)({normal:{id:"fabric.editor.normal",defaultMessage:"Normal text",description:"This is the default text style"},heading1:{id:"fabric.editor.heading1",defaultMessage:"Heading 1",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading1Description:{id:"fabric.editor.heading1Description",defaultMessage:"Use this for a top level heading",description:"Description of the main heading, heading 1"},heading2:{id:"fabric.editor.heading2",defaultMessage:"Heading 2",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading2Description:{id:"fabric.editor.heading2Description",defaultMessage:"Use this for key sections",description:"Description of a subtitle heading or secondary heading"},heading3:{id:"fabric.editor.heading3",defaultMessage:"Heading 3",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading3Description:{id:"fabric.editor.heading3Description",defaultMessage:"Use this for sub sections and group headings",description:""},heading4:{id:"fabric.editor.heading4",defaultMessage:"Heading 4",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading4Description:{id:"fabric.editor.heading4Description",defaultMessage:"Use this for deep headings",description:""},heading5:{id:"fabric.editor.heading5",defaultMessage:"Heading 5",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading5Description:{id:"fabric.editor.heading5Description",defaultMessage:"Use this for grouping list items",description:""},heading6:{id:"fabric.editor.heading6",defaultMessage:"Heading 6",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading6Description:{id:"fabric.editor.heading6Description",defaultMessage:"Use this for low level headings",description:""},blockquote:{id:"fabric.editor.blockquote2",defaultMessage:"Quote",description:"Quote some text"},blockquoteDescription:{id:"fabric.editor.blockquote.description",defaultMessage:"Insert a quote or citation",description:"Quote some text"},codeblock:{id:"fabric.editor.codeblock",defaultMessage:"Code snippet",description:"Insert a snippet/segment of code (code block)"},codeblockDescription:{id:"fabric.editor.codeblock.description",defaultMessage:"Display code with syntax highlighting",description:"Insert a snippet/segment of code (code block)"},infoPanel:{id:"fabric.editor.infoPanel",defaultMessage:"Info panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},infoPanelDescription:{id:"fabric.editor.infoPanel.description",defaultMessage:"Highlight information in a colored panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},notePanel:{id:"fabric.editor.notePanel",defaultMessage:"Note panel",description:"Visually distinguishes your text by adding a note panel"},notePanelDescription:{id:"fabric.editor.notePanel.description",defaultMessage:"Add a note in a colored panel",description:"Visually distinguishes your text by adding a note panel"},successPanel:{id:"fabric.editor.successPanel",defaultMessage:"Success panel",description:"Visually distinguishes your text by adding a success panel"},successPanelDescription:{id:"fabric.editor.successPanel.description",defaultMessage:"Add tips in a colored panel",description:"Visually distinguishes your text by adding a success panel"},warningPanel:{id:"fabric.editor.warningPanel",defaultMessage:"Warning panel",description:"Visually distinguishes your text by adding a warning panel"},warningPanelDescription:{id:"fabric.editor.warningPanel.description",defaultMessage:"Add a note of caution in a colored panel",description:"Visually distinguishes your text by adding a warning panel"},errorPanel:{id:"fabric.editor.errorPanel",defaultMessage:"Error panel",description:"Visually distinguishes your text by adding a error panel"},errorPanelDescription:{id:"fabric.editor.errorPanel.description",defaultMessage:"Call out errors in a colored panel",description:"Visually distinguishes your text by adding a error panel"},customPanel:{id:"fabric.editor.customPanel",defaultMessage:"Custom panel",description:"Visually distinguishes your panel by adding a emoji icon and background color"},customPanelDescription:{id:"fabric.editor.customPanel.description",defaultMessage:"Add a note with an emoji and colored background",description:"Visually distinguishes your panel by adding a emoji icon and background color "},other:{id:"fabric.editor.other",defaultMessage:"Others...",description:"Other text formatting"}})},47845:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var r={BREAKOUT_MARK:"fabric-editor-breakout-mark",BREAKOUT_MARK_DOM:"fabric-editor-breakout-mark-dom"}},62403:(e,t,n)=>{"use strict";n.d(t,{I:()=>d,h:()=>p});var r,o=n(71171),i=n(28165),a=n(67093),c=n(27452),s=n(8357),u=n(39151),l=n(80015),d="card-floating-toolbar--link-picker",p=(0,i.iv)(r||(r=(0,o.Z)(["\n  ."," {\n    max-width: calc(100% - 20px);\n    vertical-align: top;\n    word-break: break-all;\n\n    .card {\n      padding-left: 2px;\n      padding-right: 2px;\n      padding-top: 0.5em;\n      padding-bottom: 0.5em;\n      margin-bottom: -0.5em;\n\n      ."," > a:focus {\n        ","\n      }\n    }\n\n    &.","\n      .","\n      > a {\n      ","\n    }\n    ."," > a {\n      /* EDM-1717: box-shadow Safari fix start */\n      z-index: 1;\n      position: relative;\n      /* EDM-1717: box-shadow Safari fix end */\n    }\n\n    &.danger {\n      ."," > a {\n        box-shadow: 0 0 0 1px\n          ",";\n        /* EDM-1717: box-shadow Safari fix start */\n        z-index: 2;\n        /* EDM-1717: box-shadow Safari fix end */\n      }\n    }\n  }\n\n  ."," {\n    ."," > div {\n      cursor: pointer;\n      &:hover {\n        background-color: ",";\n      }\n    }\n\n    &.","\n      .","\n      > div {\n      ","\n    }\n\n    &.danger {\n      ."," > div {\n        box-shadow: 0 0 0 1px\n          "," !important;\n      }\n    }\n  }\n\n  ."," {\n    ."," > div {\n      cursor: pointer;\n      &::after {\n        transition: box-shadow 0s;\n      }\n    }\n    &.","\n      .","\n      > div {\n      ","\n    }\n\n    &.","\n      .","\n      > div::after {\n      ","\n    }\n\n    &.danger {\n      .media-card-frame::after {\n        box-shadow: 0 0 0 1px\n          "," !important;\n        background: "," !important;\n      }\n      .richMedia-resize-handle-right::after,\n      .richMedia-resize-handle-left::after {\n        background: ",";\n      }\n    }\n  }\n\n  ."," {\n    padding: 0;\n  }\n"])),l.j.INLINE_CARD_CONTAINER,l.j.LOADER_WRAPPER,(0,a.H)([c.a.BoxShadow]),s.ur,l.j.LOADER_WRAPPER,(0,a.H)([c.a.BoxShadow]),l.j.LOADER_WRAPPER,l.j.LOADER_WRAPPER,"var(--ds-border-danger, ".concat(s.dY,")"),l.j.BLOCK_CARD_CONTAINER,l.j.LOADER_WRAPPER,"var(--ds-background-neutral-subtle-hovered, ".concat(u.IR,")"),s.ur,l.j.LOADER_WRAPPER,(0,a.H)([c.a.BoxShadow]),l.j.LOADER_WRAPPER,"var(--ds-border-danger, ".concat(s.dY,")"),l.j.EMBED_CARD_CONTAINER,l.j.LOADER_WRAPPER,s.ur,l.j.LOADER_WRAPPER,(0,a.H)([c.a.BoxShadow]),s.ur,l.j.LOADER_WRAPPER,(0,a.H)([c.a.BoxShadow]),"var(--ds-border-danger, ".concat(s.dY,")"),"var(--ds-background-danger, ".concat(s.Is,")"),"var(--ds-border-danger, ".concat(s.dY,")"),d)},70115:(e,t,n)=>{"use strict";n.d(t,{m:()=>s,w:()=>c});var r,o,i=n(71171),a=n(28165),c=(0,a.iv)(r||(r=(0,i.Z)(["\n  .ProseMirror {\n    .embedCardView-content-wrap[layout^='wrap-'] {\n      max-width: 100%;\n    }\n\n    .embedCardView-content-wrap[layout='wrap-left'] {\n      float: left;\n    }\n\n    .embedCardView-content-wrap[layout='wrap-right'] {\n      float: right;\n    }\n\n    .embedCardView-content-wrap[layout='wrap-right']\n      + .embedCardView-content-wrap[layout='wrap-left'] {\n      clear: both;\n    }\n  }\n"]))),s=(0,a.iv)(o||(o=(0,i.Z)(["\n  margin: 0 10px;\n"])))},37432:(e,t,n)=>{"use strict";n.d(t,{e:()=>o});var r=n(90105),o={container:r.zq.CODEBLOCK_CONTAINER,start:r.zq.CODEBLOCK_START,end:r.zq.CODEBLOCK_END,contentWrapper:r.zq.CODEBLOCK_CONTENT_WRAPPER,gutter:r.zq.CODEBLOCK_LINE_NUMBER_GUTTER,content:r.zq.CODEBLOCK_CONTENT}},9157:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(91801);function o(e){if(!e)return 1;var t=r.u.getState(e);return t&&t.participants?t.participants.size():1}},90118:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,H:()=>i});var r=n(6131),o=new(n(16037).PluginKey)("nativeCollabProviderPlugin"),i=function(e){var t=e.providerPromise;return new r.J({key:o,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(o);return n||t}},view:function(e){return t.then((function(t){var n=e.dispatch,r=e.state.tr;r.setMeta(o,t),n(r)})),{}}})},a=function(e){return o.getState(e)}},91801:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=new(n(16037).PluginKey)("collabEditPlugin")},51846:(e,t,n)=>{"use strict";n.d(t,{BV:()=>g,YI:()=>v});var r=n(9249),o=n(87371),i=n(56666),a=n(16037),c=n(6565),s=n(30709),u=n(3493);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;(0,r.Z)(this,e),this.participants=t}return(0,o.Z)(e,[{key:"add",value:function(t){var n=new Map(this.participants);return t.forEach((function(e){n.set(e.sessionId,e)})),new e(n)}},{key:"remove",value:function(t){var n=new Map(this.participants);return t.forEach((function(e){n.delete(e)})),new e(n)}},{key:"update",value:function(t,n){var r=new Map(this.participants),o=r.get(t);return o?(r.set(t,d(d({},o),{},{lastActive:n})),new e(r)):this}},{key:"updateCursorPos",value:function(t,n){var r=new Map(this.participants),o=r.get(t);return o?(r.set(t,d(d({},o),{},{cursorPos:n})),new e(r)):this}},{key:"toArray",value:function(){return Array.from(this.participants.values())}},{key:"get",value:function(e){return this.participants.get(e)}},{key:"size",value:function(){return this.participants.size}},{key:"eq",value:function(e){return this.toArray().map((function(e){return e.sessionId})).sort((function(e,t){return e>t?-1:1})).join("")===e.toArray().map((function(e){return e.sessionId})).sort((function(e,t){return e>t?-1:1})).join("")}}]),e}(),f=n(33089),h=function(e){return e instanceof s.Pu},v="telepointer-dim",m=function(e,t){var n=e.doc.nodeSize-2;if(t<=n){var r=e.doc.resolve(t),o=a.Selection.findFrom(r,-1,!0),i=a.Selection.findFrom(r,1,!0);return o?o.from:i?i.from:t}return n},g=function(){function e(t,n,o){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0;(0,r.Z)(this,e),(0,i.Z)(this,"onError",(function(e){return console.error(e)})),this.decorationSet=t,this.participants=n,this.sid=o,this.isReady=a,this.onError=c||this.onError}return(0,o.Z)(e,[{key:"decorations",get:function(){return this.decorationSet}},{key:"activeParticipants",get:function(){return this.participants}},{key:"sessionId",get:function(){return this.sid}},{key:"getInitial",value:function(e){var t=this.participants.get(e);return t?t.name.substring(0,1).toUpperCase():"X"}},{key:"apply",value:function(t){var n=this,r=this.participants,o=this.sid,i=this.isReady,a=t.getMeta("presence"),c=t.getMeta("telepointer"),s=t.getMeta("sessionId"),l=t.getMeta("collabInitialised");"boolean"!=typeof l&&(l=i),s&&(o=s.sid);var d=[],p=[];if(a){var g=a.joined,y=void 0===g?[]:g,b=a.left,w=void 0===b?[]:b;r=(r=r.remove(w.map((function(e){return e.sessionId})))).add(y),w.forEach((function(e){var t=(0,f.w5)(e.sessionId,n.decorationSet);t&&(p=p.concat(t))}))}if(c){var k=c.sessionId;if(r.get(k)&&k!==o){var E=(0,f.w5)(c.sessionId,this.decorationSet);E&&(p=p.concat(E));var x=t.doc.nodeSize-2,O=c.selection,S=O.anchor,C=O.head,T=S<C?S:C,A=S>=C?S:C;T>x&&(T=x),A>x&&(A=x);var _=A-T>0,P=1,D=1;try{P=m(t,_?Math.max(T-1,0):T),D=_?m(t,A):P}catch(e){this.onError(e)}d=d.concat((0,f.od)(P,D,k,_,this.getInitial(k)))}}if(t.docChanged){try{this.decorationSet=this.decorationSet.map(t.mapping,t.doc,{onRemove:function(e){if(e.pointer&&e.pointer.sessionId&&e.key==="telepointer-".concat(e.pointer.sessionId)){var r=t.steps.filter(h)[0];if(r){var o=e.pointer.sessionId,i=r,a=i.slice.content.size,c=i.from,s=m(t,a?Math.min(c+a,t.doc.nodeSize-3):Math.max(c,1));d=d.concat((0,f.od)(s,s,o,!1,n.getInitial(o)))}}}})}catch(e){this.onError(e)}t.steps.filter(h).forEach((function(e){var t=e,r=t.from,o=t.to;n.decorationSet.find(r,o).forEach((function(e){e.from!==e.to&&p.push(e)}))}))}var Z=t.selection;if(this.decorationSet.find().forEach((function(e){if(e.type.toDOM){var t=e.type.toDOM.classList.contains(v);e.from===Z.from&&e.to===Z.to?(t||e.type.toDOM.classList.add(v),u.Z.gecko||(e.type.side=-1)):(t&&e.type.toDOM.classList.remove(v),e.type.side=0)}})),p.length&&(this.decorationSet=this.decorationSet.remove(p)),d.length&&(this.decorationSet=this.decorationSet.add(t.doc,d)),c){var I=c.sessionId;if(r.get(I)){var L=(0,f.Wu)(I,this.decorationSet);L&&(r=r.updateCursorPos(I,L))}}var M=new e(this.decorationSet,r,o,l);return e.eq(M,this)?this:M}}],[{key:"eq",value:function(e,t){return e.participants===t.participants&&e.sessionId===t.sessionId&&e.isReady===t.isReady}},{key:"init",value:function(t){var n=t.doc,r=t.onError;return new e(c.EH.create(n,[]),new p,void 0,void 0,r)}}]),e}()},42606:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r,o,i,a=n(2784),c=n(89274),s=n(672),u=n(91801),l=n(46779),d=n(28165),p=n(74167),f=n(71171),h=n(84534),v=n(39151),m=n(8357),g=(0,d.iv)(r||(r=(0,f.Z)(["\n  background: ",";\n  border-radius: 50%;\n  min-width: ","px;\n  margin-left: -","px;\n"])),"var(--ds-background-neutral, ".concat(v.IR,")"),4*(0,h.ww)(),(0,h.ww)()/2),y=(0,d.iv)(o||(o=(0,f.Z)(["\n  margin-right: ","px;\n  display: flex;\n  align-items: center;\n\n  // ED-13102: This is to override list styles that come from the\n  // .wiki-content class in Confluence that should not apply within\n  // the toolbar. Has to be extra specific to override.\n  && > ul {\n    list-style-type: none;\n  }\n\n  div:last-child button.invite-to-edit {\n    border-radius: 50%;\n    height: 32px;\n    width: 32px;\n    padding: 2px;\n  }\n"])),(0,h.ww)()),b=function(e){return(0,d.iv)(i||(i=(0,f.Z)(["\n  display: block;\n  position: absolute;\n  right: 1px;\n  bottom: 1px;\n  width: 13px;\n  height: 13px;\n  z-index: ",";\n  border-radius: 3px;\n  background: ",";\n  color: ",";\n  font-size: ",";\n  line-height: 0;\n  padding-top: 7px;\n  text-align: center;\n  box-shadow: 0 0 1px ",";\n  box-sizing: border-box;\n"])),m.aE,e,"var(--ds-text-inverse, #fff)",(0,m.Gh)(9),"var(--ds-border-inverse, #fff)")},w=n(96234),k=n(12813),E=n(33089),x=function(e){var t=(0,E.hx)(e.sessionId).color.solid,n=e.name.substr(0,1).toUpperCase();return(0,d.tZ)("div",{css:b(t),"data-testid":"editor-collab-badge"},n)};const O=(0,k.Z)((function(e){return{name:e.name,src:e.avatar,size:"medium",presence:a.createElement(x,{name:e.name,sessionId:e.sessionId})}}),(function(e,t){var n=(0,w.Z)(e,1)[0],r=(0,w.Z)(t,1)[0];return n.name===r.name&&n.avatar===r.avatar&&n.sessionId===r.sessionId}));var S=a.memo((function(e){var t=e.sessionId,n=e.editorView,r=e.featureFlags,o=e.participants.toArray(),i=o.sort((function(e){return e.sessionId===t?-1:1})).map(O);return i.length?(0,d.tZ)("div",{css:y},(0,d.tZ)(p.Z,{appearance:"stack",size:"medium",data:i,maxCount:3,onAvatarClick:function(t,i,a){n&&((null==r?void 0:r.collabAvatarScroll)&&a>0&&(0,E.KG)(n,o,e.sessionId,a))}}),e.children):null})),C=n(67009),T=n(81614),A=function(e){return(0,d.tZ)(a.Fragment,null,e.children)},_=function(e){var t=e.Component,n=e.onClick,r=e.selected,o=e.title,i=a.useMemo((function(){return(0,d.tZ)(C.Z,{label:o})}),[o]);if(!t&&!n)return null;var c=t||A;return(0,d.tZ)("div",{css:g},(0,d.tZ)(c,null,(0,d.tZ)(T.Z,{className:"invite-to-edit",onClick:n,selected:r,title:o,titlePosition:"bottom",iconBefore:i})))};const P=(0,c.ZP)((function(e){var t=e.intl.formatMessage(l.ZP.inviteToEditButtonTitle),n=e.isInviteToEditButtonSelected,r=e.inviteToEditHandler,o=e.inviteToEditComponent,i=e.editorView,c=e.featureFlags,d=a.useCallback((function(e){var s=e.data;return s?a.createElement(S,{sessionId:s.sessionId,participants:s.activeParticipants,editorView:i,featureFlags:c},a.createElement(_,{title:t,selected:n,onClick:r,Component:o})):null}),[n,r,o,t,i,c]);return a.createElement(s.Z,{plugins:{data:u.u},render:d,editorView:i})}))},33089:(e,t,n)=>{"use strict";n.d(t,{KG:()=>m,O9:()=>d,Wu:()=>g,hx:()=>p,od:()=>h,w5:()=>f,xE:()=>v});var r=n(86522),o=n(16037),i=n(6565),a=n(39151),c=n(9091),s=n(35345),u=n(50104),l=n(19589),d=[a.S5,a.rt,a.gR,a.ii,a.Z3,a.zx,a.M8,a.eE,a.VB,a.N_,a.hv,a.tu,a.vP,a.M5,a.YC,a.Vi,a.Wn,a.J1,a.n2,a.iw,a.q2].map((function(e){return{solid:e,selection:(0,c.a7)(e,.2)}})),p=function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;var r=Math.abs(t)%d.length;return{index:r,color:d[r]}},f=function(e,t){return t.find().reduce((function(t,n){return n.spec.pointer.sessionId===e?t.concat(n):t}),[])};var h=function(e,t,n,r,o){var a=[],c=p(n),u=c.index.toString();if(r){var l="telepointer color-".concat(u," telepointer-selection");a.push(i.p.inline(e,t,{class:l,"data-initial":o},{pointer:{sessionId:n}}))}var d=document.createElement("span");d.textContent=s.V;var f=document.createElement("span");f.textContent=s.V;var h=document.createElement("span");return h.textContent=s.V,h.className="telepointer color-".concat(u," telepointer-selection-badge"),h.style.cssText="".concat(function(e){var t=e&&e.color||"black";return"border-left: 1px solid ".concat(t,"; border-right: 1px solid ").concat(t,"; margin-right: -2px;")}({color:c.color.solid}),";"),h.setAttribute("data-initial",o),a.concat(i.p.widget(t,f,{pointer:{sessionId:n},key:"telepointer-".concat(n,"-zero")})).concat(i.p.widget(t,h,{pointer:{sessionId:n},key:"telepointer-".concat(n)})).concat(i.p.widget(t,d,{pointer:{sessionId:n},key:"telepointer-".concat(n,"-zero")}))},v=function(e,t,n,i,a){var c=t.schema,s=t.tr,u=(e.content||[]).map((function(e){return c.nodeFromJSON(e)}));if(!!u.length){s.setMeta("addToHistory",!1),s.replaceWith(0,t.doc.nodeSize-2,u);var l=t.selection;if(a){if(l.to<s.doc.content.size-2){var d=s.doc.resolve(l.from),p=s.doc.resolve(l.to),f=new o.TextSelection(d,p);s.setSelection(f)}}else s.setSelection(o.Selection.atStart(s.doc));if(s.setMeta("replaceDocument",!0),void 0!==(0,r.Z)(n)&&i&&i.useNativePlugin){var h={version:n,unconfirmed:[]};s.setMeta("collab$",h)}}return s},m=function(e,t,n,r){var i=t[r];if(i&&void 0!==i.cursorPos&&i.sessionId!==n){var a=e.state,c=a.tr,s={action:l.om.MATCHED,actionSubject:l.Wt.SELECTION,eventType:l.Ze.TRACK};c.setSelection(o.Selection.near(c.doc.resolve(i.cursorPos))),(c=(0,u.Gs)(a,c,s)).scrollIntoView(),e.dispatch(c),e.hasFocus()||e.focus()}},g=function(e,t){var n;return t.find().forEach((function(t){t.type.spec.pointer.sessionId===e&&(n=t.from)})),n}},14508:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,u:()=>c});var r=n(56666),o=n(6131);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=new(n(16037).PluginKey)("contextPanelPluginKey");const s=function(){return{name:"contextPanel",pmPlugins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{name:"contextPanel",plugin:function(t){var n=t.dispatch;return function(e,t){return new o.J({key:c,state:{init:function(t,n){return{handlers:e,contents:e.map((function(e){return e(n)}))}},apply:function(e,n,r,o){var i=n,s=e.getMeta(c);if(e.docChanged||e.selectionSet||s&&s.changed){var u=n.handlers.map((function(e){return e(o)}));(u.length!==i.contents.length||u.some((function(e){return i.contents.indexOf(e)<0})))&&(i=a(a({},i),{},{contents:u}))}return i!==n&&t(c,i),i}}})}(e.filter(Boolean),n)}}]}}}},15791:(e,t,n)=>{"use strict";n.d(t,{RM:()=>a,ZR:()=>c,cw:()=>o,v2:()=>i});var r=n(96463);function o(e,t){try{var n=(0,r.q)(t).parseDate(e);if(isNaN(n.getTime()))return null;var o=n.getFullYear();return o<1e3||o>9999?null:{day:n.getDate(),month:n.getMonth()+1,year:o}}catch(e){return null}}function i(e,t){var n=e.day,o=e.month,i=e.year,a=(0,r.q)(t),c=new Date(i,o-1,n);return a.formatDate(c)}function a(e){var t=e.day,n=e.month,r=e.year;return new Date(r,n-1,t)}function c(e){return{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}},27502:(e,t,n)=>{"use strict";n.d(t,{hY:()=>f,NU:()=>p,$5:()=>d,zk:()=>h});var r=n(15791),o=n(42765),i=n(66700),a=n(19785);function c(e,t){(0,a.Z)(2,arguments);var n=(0,i.Z)(e),r=(0,o.Z)(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var c=n.getDate(),s=new Date(n.getTime());return s.setMonth(n.getMonth()+r+1,0),c>=s.getDate()?s:(n.setFullYear(s.getFullYear(),s.getMonth(),c),n)}function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return void 0!==e&&(e>="0"&&e<="9")}function d(e){var t,n=s(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r>="0"&&r<="9",i=-1!==". ,/".indexOf(r);if(!o&&!i)return!1}}catch(e){n.e(e)}finally{n.f()}return!0}function p(e,t,n){if(!(e>t.length)){var o=function(e){var t={day:7,month:1,year:1992},n=(0,r.v2)(t,e);return n.replace(/\d+/g,(function(e){if(!e)return"";switch(parseInt(e)%100){case 92:return e.replace(/.{1}/g,"y");case 1:return 1===e.length?"m":"mm";case 7:return 1===e.length?"d":"dd"}return""}))}(n);if(o){var i=o.replace(/[^ymd]+$/g,""),a={d:"day",m:"month",y:"year"},c=a[i[0]],s=a[i[i.length-1]],u=["day","month","year"].filter((function(e){return e!==c&&e!==s}))[0];return function(e,t){for(var n=e-1,r=!0,o=t.replace(/[^0-9]+$/g,"");n>=0&&r;)l(o[n])||(r=!1),n-=1;return r}(e,t)?c:function(e,t){for(var n=e,r=!0,o=t.replace(/[^0-9]+$/g,"");n<o.length&&r;)l(o[n])||(r=!1),n+=1;return r}(e,t)?s:u}}}function f(e,t,n){var s=(0,r.RM)(e),u="day"===t?function(e,t){(0,a.Z)(2,arguments);var n=(0,i.Z)(e),r=(0,o.Z)(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}(s,n):"month"===t?c(s,n):function(e,t){return(0,a.Z)(2,arguments),c(e,12*(0,o.Z)(t))}(s,n);return(0,r.ZR)(u)}function h(e){var t=new Date;return void 0!==e&&t.getDate()===e.day&&e.month===t.getMonth()+1&&e.year===t.getFullYear()}},64586:(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var r="ak-editor-expand",o={prefix:r,expanded:"".concat(r,"__expanded"),titleContainer:"".concat(r,"__title-container"),inputContainer:"".concat(r,"__input-container"),iconContainer:"".concat(r,"__icon-container"),icon:"".concat(r,"__icon"),titleInput:"".concat(r,"__title-input"),content:"".concat(r,"__content"),type:function(e){return"".concat(r,"__type-").concat(e)}}},25356:(e,t,n)=>{"use strict";n.d(t,{AR:()=>h,PT:()=>v,FC:()=>y,yZ:()=>g,vq:()=>f,CO:()=>m,xq:()=>p});var r=n(56666),o=n(41396),i=n(14508),a=function(e){return e.setMeta(i.u,{changed:!0})},c=n(80006),s=n(89247),u=n(65599);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return(0,c.fA)({type:"UPDATE_STATE",data:e})}function f(e,t){return(0,c.fA)({type:"UPDATE_STATE",data:{showContextPanel:!0,processParametersBefore:e,processParametersAfter:t}},a)}var h=(0,c.fA)({type:"UPDATE_STATE",data:{showContextPanel:!1,processParametersBefore:void 0,processParametersAfter:void 0}},a),v=function(e,t){return(0,c.fA)({type:"UPDATE_STATE",data:{autoSaveResolve:e,autoSaveReject:t}},a)},m=function(e){return(0,c.fA)({type:"UPDATE_STATE",data:{layout:e}},(function(t,n){var r=(0,s.Mm)(n,!0);if(r){var o=t.setNodeMarkup(r.pos,void 0,d(d({},r.node.attrs),{},{layout:e}));return o.setMeta("scrollIntoView",!1),o}return t}))},g=function(){return(0,c.fA)({type:"UPDATE_STATE",data:{element:void 0}},(function(e,t){return(0,s.Mm)(t)?(0,o.au)(e):(0,o.NQ)(t.schema.nodes.bodiedExtension)(e)}))},y=function(e){return(0,c.fA)({type:"UPDATE_STATE",data:{element:void 0}},(function(t,n){return e?(0,u.ku)(n,e):t}))}},78735:(e,t,n)=>{"use strict";n.d(t,{P:()=>y,y:()=>m});var r=n(86522),o=n(64815),i=n(58526),a=n(75730),c=n(16037),s=n(13838),u=n(83149),l=n(79155),d=n(25356),p=n(89247),f=n(19589),h=n(50104),v=n(41396),m=function(e){var t=e.view,n=e.macroProvider;return function(){if(!t)throw new Error("Missing view. Can't update without EditorView");if(!n)throw new Error("Missing macroProvider. Can't use the macro browser for updates");var e=(0,p.Mm)(t.state,!0);if(!e)throw new Error("Missing nodeWithPos. Can't determine position of node");(0,s.Hg)(n,e.node,!0)(t)}},g=function(e){return{action:f.om.INVOKED,actionSubject:f.Wt.EXTENSION,actionSubjectId:f.VJ.EXTENSION_API,attributes:{functionName:e},eventType:f.Ze.TRACK}},y=function(e){var t=e.editorView.state.schema,n=Object.keys(t.nodes),s=Object.keys(t.marks),y=(0,o.s)(n,s,{allowPrivateAttributes:!0}),b=function(t,n){var r=n.opName;if("string"!=typeof t||""===t)throw new Error("".concat(r,"(): Invalid localId '").concat(t,"'."));var o=e.editorView.state,i=(0,p.MV)(o,t);if(!i)throw new Error("".concat(r,"(): Could not find node with ID '").concat(t,"'."));return i},w={insertAfter:function(t,n,r){try{y(n)}catch(e){throw new Error("insertAfter(): Invalid ADF given.")}var o=b(t,{opName:"insertAfter"}),i=e.editorView,s=i.dispatch,u=i.state,l=u.tr,d=u.schema,v=d.nodes[n.type];if(!v)throw new Error("insertAfter(): Invalid ADF type '".concat(n.type,"'."));var m=a.Fragment.fromJSON(d,n.content),w=(n.marks||[]).map((function(e){return a.Mark.fromJSON(d,e)})),k=null==v?void 0:v.createChecked(n.attrs,m,w);if(!k)throw new Error("insertAfter(): Could not create a node for given ADFEntity.");var E=o.pos+o.node.nodeSize;l.insert(E,k);try{l.doc.check()}catch(e){throw new Error("insertAfter(): The given ADFEntity cannot be inserted in the current position.\n".concat(e))}var x=g("insertAfter");(0,h.Gs)(u,l,x);var O=[k];k.descendants((function(e){return O.push(e),!0})),O.forEach((function(e){var t=e.attrs,n=t.extensionKey,r=t.extensionType,o=(0,p.h5)(e),i=(null==o?void 0:o.attrs.sources.map((function(e){return e})))||[],a=!!o,c=a?(0,p.Cd)(i,u):void 0,s={action:f.om.INSERTED,actionSubject:f.Wt.DOCUMENT,attributes:{nodeType:e.type.name,inputMethod:f.Jq.EXTENSION_API,hasReferentiality:a,nodeTypesReferenced:c,layout:e.attrs.layout,extensionType:r,extensionKey:n},eventType:f.Ze.TRACK};(0,h.Gs)(u,l,s)})),r&&r.allowSelectionToNewNode&&l.setSelection(new c.NodeSelection(l.doc.resolve(E))),s(l)},scrollTo:function(t){var n=b(t,{opName:"scrollTo"}),r=g("scrollTo"),o=e.editorView,i=o.dispatch,a=o.state,c=a.tr;c=(0,h.Gs)(a,c,r),i(c=(c=(0,v.B0)(n.pos)(c)).scrollIntoView())},update:function(t,n){var o,s=b(t,{opName:"update"}),u=s.node,d=s.pos,p=e.editorView,f=p.dispatch,v=p.state,m=v.tr,w=v.schema,k=n({content:(0,l.Jq)(u).content,attrs:u.attrs,marks:u.marks.map((function(e){return{type:e.type.name,attrs:e.attrs}}))}),E=k.hasOwnProperty("marks")?null===(o=k.marks)||void 0===o?void 0:o.map((function(e){if("object"!==(0,r.Z)(e)||Array.isArray(e))throw new Error("update(): Invalid mark given.");var t=v.doc.resolve(d).parent,n=w.marks[e.type];if(!n)throw new Error("update(): Invalid ADF mark type '".concat(e.type,"'."));if(!t.type.allowsMarkType(n))throw new Error("update(): Parent of type '".concat(t.type.name,"' does not allow marks of type '").concat(e.type,"'."));return{mark:n,attrs:e.attrs}})).map((function(e){var t=e.mark,n=e.attrs;return t.create(n)})):u.marks,x=k.hasOwnProperty("content")?a.Fragment.fromJSON(w,k.content):u.content,O=k.hasOwnProperty("attrs")?k.attrs:u.attrs;try{var S=u.type.createChecked(O,x,E),C=(new i.x).encodeNode(S);y(C),m.replaceWith(d,d+u.nodeSize,S),x===u.content&&m.setSelection(c.Selection.fromJSON(m.doc,v.selection.toJSON()))}catch(e){throw new Error("update(): The given ADFEntity cannot be inserted in the current position.\n".concat(e))}var T=g("update");(0,h.Gs)(v,m,T),f(m)}};return{editInContextPanel:function(t,n){var r=e.editorView;(0,d.vq)(t,n)(r.state,r.dispatch,r)},_editInLegacyMacroBrowser:function(){var t=e.editorView,n=e.editInLegacyMacroBrowser;if(!n){var r=u.u.getState(t.state);n=m({view:e.editorView,macroProvider:(null==r?void 0:r.macroProvider)||void 0})}n()},doc:w}}},80006:(e,t,n)=>{"use strict";n.d(t,{fA:()=>p,Ln:()=>d,Lk:()=>f});var r=n(56666),o=n(72132);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=n(62800);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=(0,o.H)(c.u,(function(e,t){return"UPDATE_STATE"===t.type?a(a({},e),t.data):e}),{mapping:function(e,t){var n=t.positions;if(!n)return t;var r=u({},n);for(var o in r)r[o]=e.mapping.map(r[o]);return u(u({},t),{},{positions:r})}}),d=l.createPluginState,p=l.createCommand,f=l.getPluginState},62800:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=new(n(16037).PluginKey)("extensionPlugin")},89247:(e,t,n)=>{"use strict";n.d(t,{Cd:()=>l,MV:()=>d,Mm:()=>a,aN:()=>c,fM:()=>s,h5:()=>u});var r=n(41396),o=n(26305),i=n(33701),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.schema.nodes,o=n.inlineExtension,i=[n.extension,n.bodiedExtension,o];return(0,r.a1)(i)(e.selection)||t&&(0,r.Tr)(i)(e.selection)||void 0},c=function(e,t){var n=a(e,!0);if(!t)return n;if(n&&n.node.attrs.localId===t)return n;var r,o=e.schema.nodes,i=o.inlineExtension,c=[o.extension,o.bodiedExtension,i];return e.doc.descendants((function(e,n){c.includes(e.type)&&e.attrs.localId===t&&(r={node:e,pos:n})})),r},s=function(e,t,n){var i=(0,r.TM)(n.pos,t);return(n.node.type!==e.nodes.bodiedExtension?i.querySelector(".extension-container"):(0,o.pE)(i,".extension-container")||i.querySelector(".extension-container"))||i},u=function(e){var t;return null===(t=e.marks)||void 0===t?void 0:t.find((function(e){return"dataConsumer"===e.type.name}))},l=function(e,t){return(0,i.b)(t,e,{includeDocNode:!0}).map((function(e){return e.node.type.name}))},d=function(e,t){var n=(0,i.b)(e,[t]);return n.length>=1?n[0]:void 0}},34037:(e,t,n)=>{"use strict";n.d(t,{Z:()=>de});var r,o=n(2784),i=n(57343),a=n(672),c=n(22051),s=n(99107),u=n(7896),l=n(9249),d=n(87371),p=n(80753),f=n(45754),h=n(11987),v=n(95058),m=n(56666),g=n(71171),y=n(28165),b=n(63470),w=n(89274),k=n(54345),E=n(8357),x=n(81614),O=n(18886),S=n(50263),C=n(72007),T=n(14014),A=n(22652),_=n(28956),P=n(21532),D=n(39151),Z=(0,y.iv)({marginLeft:"4px"}),I=(0,y.iv)({width:"100%",border:"none",backgroundColor:"".concat("var(--ds-border, ".concat(D.kd,")")),margin:"4px 0px",height:"1px",borderRadius:"1px"}),L=(0,y.iv)({display:"flex",flexDirection:"column","> *:not(#replace-hr-element)":{margin:"0px 4px"}}),M=(0,y.iv)(r||(r=(0,g.Z)(["\n  display: flex;\n\n  & > * {\n    display: inline-flex;\n    height: 32px;\n    flex: 0 0 auto;\n  }\n\n  & > [data-ds--text-field--container] {\n    display: flex;\n    flex: 1 1 auto;\n  }\n"]))),R=(0,y.iv)({color:"".concat("var(--ds-text-subtlest, ".concat(D.ip,")")),fontSize:"".concat((0,E.Gh)(12)),flex:"0 0 auto",justifyContent:"center",alignItems:"center",marginLeft:"4px",marginRight:"8px"}),N=n(19589),j=n(86779),F=n(21561),B=n(24221);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var o=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var V=function(e){(0,f.Z)(n,e);var t=U(n);function n(){var e;(0,l.Z)(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i)),(0,m.Z)((0,p.Z)(e),"buttonRef",o.createRef()),(0,m.Z)((0,p.Z)(e),"handleClick",(function(){e.props.onClick(e.buttonRef)})),e}return(0,d.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.icon,r=e.keymapDescription,i=e.disabled,a=e.isPressed,c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},"boolean"==typeof a&&{"aria-pressed":a});return o.createElement(j.Z,{content:o.createElement(F.wn,{description:t,keymap:(0,F.$Z)(r)}),hideTooltipOnClick:!0,position:"top"},o.createElement(B.Z,(0,u.Z)({label:t,appearance:"subtle",testId:t,ref:this.buttonRef,iconBefore:n,isDisabled:i,onClick:this.handleClick,isSelected:a,shouldFitContainer:!0},c)))}}]),n}(o.PureComponent);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var o=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}(0,m.Z)(V,"defaultProps",{keymapDescription:"no-keymap"});var W=(0,b.vU)({find:{id:"fabric.editor.find",defaultMessage:"Find",description:"The word or phrase to search for on the document"},matchCase:{id:"fabric.editor.matchCase",defaultMessage:"Match case",description:"Toggle whether should also match case when searching for text"},findNext:{id:"fabric.editor.findNext",defaultMessage:"Find next",description:"Locate the next occurrence of the word or phrase that was searched for"},findPrevious:{id:"fabric.editor.findPrevious",defaultMessage:"Find previous",description:"Locate the previous occurrence of the word or phrase that was searched for"},closeFindReplaceDialog:{id:"fabric.editor.closeFindReplaceDialog",defaultMessage:"Close",description:'Cancel search and close the "Find and Replace" dialog'},noResultsFound:{id:"fabric.editor.noResultsFound",defaultMessage:"No results",description:"No matches were found for the word or phrase that was searched for"},resultsCount:{id:"fabric.editor.resultsCount",description:"Text for selected search match position and total results count",defaultMessage:"{selectedMatchPosition} of {totalResultsCount}"}}),G=function(e){(0,f.Z)(n,e);var t=H(n);function n(e){var r;(0,l.Z)(this,n),r=t.call(this,e),(0,m.Z)((0,p.Z)(r),"findTextfieldRef",o.createRef()),(0,m.Z)((0,p.Z)(r),"isComposing",!1),(0,m.Z)((0,p.Z)(r),"syncFindText",(function(){var e;r.isComposing||r.props.findText===(null===(e=r.state)||void 0===e?void 0:e.localFindText)||r.updateFindValue(r.props.findText||"")})),(0,m.Z)((0,p.Z)(r),"skipWhileComposing",(function(e){r.isComposing||e()})),(0,m.Z)((0,p.Z)(r),"focusFindTextfield",(function(){var e=r.findTextfieldRef.current;r.props.shouldFocus&&e&&e.select()})),(0,m.Z)((0,p.Z)(r),"handleFindChange",(function(e){r.updateFindValue(e.target.value)})),(0,m.Z)((0,p.Z)(r),"updateFindValue",(function(e){r.setState({localFindText:e}),r.skipWhileComposing((function(){r.props.onFind(e)}))})),(0,m.Z)((0,p.Z)(r),"handleFindKeyDown",(function(e){return r.skipWhileComposing((function(){"Enter"===e.key?e.shiftKey?r.props.onFindPrev({triggerMethod:N.ID.KEYBOARD}):r.props.onFindNext({triggerMethod:N.ID.KEYBOARD}):"ArrowDown"===e.key&&r.props.onArrowDown()}))})),(0,m.Z)((0,p.Z)(r),"handleFindNextClick",(function(e){return r.skipWhileComposing((function(){r.props.onFindNext({triggerMethod:N.ID.BUTTON})}))})),(0,m.Z)((0,p.Z)(r),"handleFindPrevClick",(function(e){return r.skipWhileComposing((function(){r.props.onFindPrev({triggerMethod:N.ID.BUTTON})}))})),(0,m.Z)((0,p.Z)(r),"handleCompositionStart",(function(){r.isComposing=!0})),(0,m.Z)((0,p.Z)(r),"handleCompositionEnd",(function(e){r.isComposing=!1,r.updateFindValue(e.target.value)})),(0,m.Z)((0,p.Z)(r),"clearSearch",(function(){r.props.onCancel({triggerMethod:N.ID.BUTTON})})),(0,m.Z)((0,p.Z)(r),"handleMatchCaseClick",(function(e){r.props.allowMatchCase&&r.props.onToggleMatchCase&&(r.props.onToggleMatchCase(),r.props.onFind(r.props.findText))}));var i=e.intl.formatMessage;return r.find=i(W.find),r.closeFindReplaceDialog=i(W.closeFindReplaceDialog),r.noResultsFound=i(W.noResultsFound),r.findNext=i(W.findNext),r.findPrevious=i(W.findPrevious),r.matchCase=i(W.matchCase),r.matchCaseIcon=(0,y.tZ)(_.Z,{label:r.matchCase}),r.findNextIcon=(0,y.tZ)(T.Z,{label:r.findNext}),r.findPrevIcon=(0,y.tZ)(A.Z,{label:r.findPrevious}),r.closeIcon=(0,y.tZ)(C.Z,{label:r.closeFindReplaceDialog}),r.state={localFindText:""},r}return(0,d.Z)(n,[{key:"componentDidMount",value:function(){this.props.onFindTextfieldRefSet(this.findTextfieldRef),this.focusFindTextfield(),this.syncFindText()}},{key:"componentDidUpdate",value:function(){this.focusFindTextfield(),this.syncFindText()}},{key:"render",value:function(){var e=this.props,t=e.findText,n=e.count,r=e.allowMatchCase,o=e.shouldMatchCase,i=(0,e.intl.formatMessage)(W.resultsCount,{selectedMatchPosition:n.index+1,totalResultsCount:n.total});return(0,y.tZ)("div",{css:M},(0,y.tZ)(P.Z,{name:"find",appearance:"none",placeholder:this.find,value:this.state.localFindText,ref:this.findTextfieldRef,autoComplete:"off",onChange:this.handleFindChange,onKeyDown:this.handleFindKeyDown,onBlur:this.props.onFindBlur,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),t&&(0,y.tZ)("span",{"data-testid":"textfield-count",css:R},0===n.total?this.noResultsFound:i),r&&(0,y.tZ)(V,{title:this.matchCase,icon:this.matchCaseIcon,onClick:this.handleMatchCaseClick,isPressed:o}),(0,y.tZ)(V,{title:this.findNext,icon:this.findNextIcon,keymapDescription:"Enter",onClick:this.handleFindNextClick,disabled:n.total<=1}),(0,y.tZ)(V,{title:this.findPrevious,icon:this.findPrevIcon,keymapDescription:"Shift Enter",onClick:this.handleFindPrevClick,disabled:n.total<=1}),(0,y.tZ)(V,{title:this.closeFindReplaceDialog,icon:this.closeIcon,keymapDescription:"Escape",onClick:this.clearSearch}))}}]),n}(o.Component);const q=(0,w.ZP)(G);function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var o=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var $=(0,b.vU)({replaceWith:{id:"fabric.editor.replaceWith",defaultMessage:"Replace with",description:"The value that will replace the word or phrase that was searched for"},replace:{id:"fabric.editor.replace",defaultMessage:"Replace",description:"Replace only the currently selected instance of the word or phrase"},replaceAll:{id:"fabric.editor.replaceAll",defaultMessage:"Replace all",description:"Replace all instances of the word or phrase throughout the entire document"}}),J=function(e){(0,f.Z)(n,e);var t=K(n);function n(e){var r;(0,l.Z)(this,n),r=t.call(this,e),(0,m.Z)((0,p.Z)(r),"replaceTextfieldRef",o.createRef()),(0,m.Z)((0,p.Z)(r),"skipWhileComposing",(function(e){r.state.isComposing||e()})),(0,m.Z)((0,p.Z)(r),"handleReplaceClick",(function(){return r.skipWhileComposing((function(){r.props.onReplace({triggerMethod:N.ID.BUTTON,replaceText:r.state.replaceText})}))})),(0,m.Z)((0,p.Z)(r),"handleReplaceChange",(function(e){return r.skipWhileComposing((function(){r.updateReplaceValue(e.target.value)}))})),(0,m.Z)((0,p.Z)(r),"updateReplaceValue",(function(e){var t=r.props.dispatchAnalyticsEvent;t&&t({eventType:N.Ze.TRACK,action:N.om.CHANGED_REPLACEMENT_TEXT,actionSubject:N.Wt.FIND_REPLACE_DIALOG}),r.setState({replaceText:e})})),(0,m.Z)((0,p.Z)(r),"handleReplaceKeyDown",(function(e){return r.skipWhileComposing((function(){"Enter"===e.key?r.props.onReplace({triggerMethod:N.ID.KEYBOARD,replaceText:r.state.replaceText}):"ArrowUp"===e.key&&r.props.onArrowUp()}))})),(0,m.Z)((0,p.Z)(r),"handleReplaceAllClick",(function(){return r.skipWhileComposing((function(){r.props.onReplaceAll({replaceText:r.state.replaceText})}))})),(0,m.Z)((0,p.Z)(r),"handleCompositionStart",(function(){r.setState({isComposing:!0})})),(0,m.Z)((0,p.Z)(r),"handleCompositionEnd",(function(e){r.setState({isComposing:!1}),r.updateReplaceValue(e.target.value)}));var i=e.replaceText,a=e.intl.formatMessage;return r.state={replaceText:i||"",isComposing:!1},r.replaceWith=a($.replaceWith),r.replace=a($.replace),r.replaceAll=a($.replaceAll),r}return(0,d.Z)(n,[{key:"componentDidMount",value:function(){this.props.onReplaceTextfieldRefSet(this.replaceTextfieldRef)}},{key:"componentDidUpdate",value:function(e){var t=e.replaceText,n=this.props.replaceText;n&&n!==t&&this.setState({replaceText:n,isComposing:!1})}},{key:"render",value:function(){var e=this.state.replaceText,t=this.props.canReplace;return(0,y.tZ)("div",{css:M},(0,y.tZ)(P.Z,{name:"replace",appearance:"none",placeholder:this.replaceWith,defaultValue:e,ref:this.replaceTextfieldRef,autoComplete:"off",onChange:this.handleReplaceChange,onKeyDown:this.handleReplaceKeyDown,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),(0,y.tZ)(B.Z,{css:Z,testId:this.replace,onClick:this.handleReplaceClick,isDisabled:!t},this.replace),(0,y.tZ)(B.Z,{css:Z,testId:this.replaceAll,onClick:this.handleReplaceAllClick,isDisabled:!t},this.replaceAll))}}]),n}(o.PureComponent);const Y=(0,w.ZP)(J);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var o=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}const Q=function(e){(0,f.Z)(n,e);var t=X(n);function n(){var e;(0,l.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,m.Z)((0,p.Z)(e),"findTextfield",null),(0,m.Z)((0,p.Z)(e),"replaceTextfield",null),(0,m.Z)((0,p.Z)(e),"setFindTextfieldRef",(function(t){e.findTextfield=t.current})),(0,m.Z)((0,p.Z)(e),"setReplaceTextfieldRef",(function(t){e.replaceTextfield=t.current})),(0,m.Z)((0,p.Z)(e),"setFocusToFind",(function(){e.findTextfield&&e.findTextfield.focus()})),(0,m.Z)((0,p.Z)(e),"setFocusToReplace",(function(){e.replaceTextfield&&e.replaceTextfield.focus()})),e}return(0,d.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.findText,n=e.count,r=e.shouldFocus,o=e.onFind,i=e.onFindBlur,a=e.onFindNext,c=e.onFindPrev,s=e.onCancel,u=e.replaceText,l=e.onReplace,d=e.onReplaceAll,p=e.dispatchAnalyticsEvent,f=e.allowMatchCase,h=e.shouldMatchCase,v=e.onToggleMatchCase;return(0,y.tZ)("div",{css:L},(0,y.tZ)(q,{allowMatchCase:f,shouldMatchCase:h,onToggleMatchCase:v,findText:t,count:n,shouldFocus:r,onFind:o,onFindBlur:i,onFindPrev:c,onFindNext:a,onFindTextfieldRefSet:this.setFindTextfieldRef,onCancel:s,onArrowDown:this.setFocusToReplace}),(0,y.tZ)("hr",{css:I,id:"replace-hr-element"}),(0,y.tZ)(Y,{canReplace:n.total>0,replaceText:u,onReplace:l,onReplaceAll:d,onReplaceTextfieldRefSet:this.setReplaceTextfieldRef,onArrowUp:this.setFocusToFind,dispatchAnalyticsEvent:p}))}}]),n}(o.PureComponent);var ee,te,ne,re=n(81278);function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var o=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var ie=(0,y.iv)(ee||(ee=(0,g.Z)(["\n  display: flex;\n  flex: 1 1 auto;\n  flex-grow: 0;\n  justify-content: flex-end;\n  align-items: center;\n  padding: 0 8px;\n  @media (max-width: ","px) {\n    justify-content: center;\n    padding: 0;\n  }\n"])),E.iF),ae=(0,y.iv)(te||(te=(0,g.Z)(["\n  flex-grow: 1;\n"]))),ce=(0,y.iv)(ne||(ne=(0,g.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),se=(0,b.vU)({findReplaceToolbarButton:{id:"fabric.editor.findReplaceToolbarButton",defaultMessage:"Find and replace",description:'"Find" highlights all instances of a word or phrase on the document, and "Replace" changes one or all of those instances to something else'}}),ue=function(e){(0,f.Z)(n,e);var t=oe(n);function n(){var e;(0,l.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,m.Z)((0,p.Z)(e),"toggleOpen",(function(){e.props.isActive?e.props.onCancel({triggerMethod:N.ID.TOOLBAR}):e.props.onActivate()})),e}return(0,d.Z)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.popupsMountPoint,r=t.popupsBoundariesElement,o=t.popupsScrollableElement,i=t.isReducedSpacing,a=t.findText,c=t.replaceText,s=t.isActive,l=t.index,d=t.numMatches,p=t.intl.formatMessage,f=t.takeFullWidth,h=p(se.findReplaceToolbarButton),v=E.Zr-1,m=(0,F.$Z)("Find");return(0,y.tZ)("div",{css:[ie,f&&ae]},(0,y.tZ)(S.Z,{mountTo:n,boundariesElement:r,scrollableElement:o,isOpen:s,handleEscapeKeydown:function(){s&&e.props.onCancel({triggerMethod:N.ID.KEYBOARD})},fitWidth:352,zIndex:v,arrowKeyNavigationProviderOptions:{type:re.i.MENU,disableArrowKeyNavigation:!0},trigger:(0,y.tZ)(x.Z,{buttonId:O.s.FIND_REPLACE,spacing:i?"none":"default",selected:s,title:(0,y.tZ)(F.wn,{description:h,keymap:m}),iconBefore:(0,y.tZ)(k.Z,{label:h}),onClick:this.toggleOpen,"aria-expanded":s,"aria-haspopup":!0,"aria-label":m?(0,F.Md)(m,h):h,"aria-keyshortcuts":(0,F.Tm)(m)})},(0,y.tZ)("div",{css:ce},(0,y.tZ)(Q,(0,u.Z)({findText:a,replaceText:c,count:{index:l,total:d}},this.props)))))}}]),n}(o.PureComponent);const le=(0,w.ZP)(ue);const de=function(e){var t=e.popupsBoundariesElement,n=e.popupsMountPoint,r=e.popupsScrollableElement,u=e.isToolbarReducedSpacing,l=e.editorView,d=e.containerElement,p=e.dispatchAnalyticsEvent,f=e.featureFlags;if(!l)return null;var h=function(e){var t=document.activeElement;l.focus(),e(),null==t||t.focus()},v=function(e){e(l.state,l.dispatch)},m=function(){h((function(){return v((0,c.iu)({triggerMethod:N.ID.TOOLBAR}))}))},g=function(e){h((function(){return v((0,c.np)({editorView:l,containerElement:d,keyword:e}))}))},y=function(e){var t=e.triggerMethod;h((function(){return v((0,c.Dp)({triggerMethod:t}))}))},b=function(e){var t=e.triggerMethod;h((function(){return v((0,c.Pf)({triggerMethod:t}))}))},w=function(e){var t=e.triggerMethod,n=e.replaceText;h((function(){return v((0,c.dz)({triggerMethod:t,replaceText:n}))}))},k=function(e){var t=e.replaceText;h((function(){return v((0,c.Vj)({replaceText:t}))}))},E=function(){v((0,s.yv)())},x=function(e){var t=e.triggerMethod;v((0,c.EJ)({triggerMethod:t})),l.focus()},O=function(){v((0,s.Qo)())},S=f.findReplaceMatchCase;return o.createElement(a.Z,{debounce:!1,plugins:{findReplaceState:i.v},render:function(i){var a=i.findReplaceState;return a?o.createElement(le,{allowMatchCase:S,shouldMatchCase:a.shouldMatchCase,onToggleMatchCase:O,isActive:a.isActive,findText:a.findText,index:a.index,numMatches:a.matches.length,replaceText:a.replaceText,shouldFocus:a.shouldFocus,popupsBoundariesElement:t,popupsMountPoint:n,popupsScrollableElement:r,isReducedSpacing:!!u,dispatchAnalyticsEvent:p,onFindBlur:E,onCancel:x,onActivate:m,onFind:g,onFindNext:y,onFindPrev:b,onReplace:w,onReplaceAll:k,takeFullWidth:!!e.takeFullWidth}):null}})}},96941:(e,t,n)=>{"use strict";var r;n.d(t,{L:()=>r}),function(e){e.ACTIVATE="ACTIVATE",e.FIND="FIND",e.UPDATE_DECORATIONS="UPDATE_DECORATIONS",e.FIND_NEXT="FIND_NEXT",e.FIND_PREVIOUS="FIND_PREVIOUS",e.REPLACE="REPLACE",e.REPLACE_ALL="REPLACE_ALL",e.CANCEL="CANCEL",e.BLUR="BLUR",e.TOGGLE_MATCH_CASE="TOGGLE_MATCH_CASE"}(r||(r={}))},22051:(e,t,n)=>{"use strict";n.d(t,{Dp:()=>u,EJ:()=>f,Pf:()=>l,Vj:()=>p,dz:()=>d,iu:()=>c,np:()=>s});var r=n(16037),o=n(50104),i=n(19589),a=n(99107),c=function(e){var t=e.triggerMethod;return(0,o.wi)((function(e){return{eventType:i.Ze.UI,action:i.om.ACTIVATED,actionSubject:i.Wt.FIND_REPLACE_DIALOG,attributes:{inputMethod:e.selection instanceof r.TextSelection&&!e.selection.empty?i.Jq.PREFILL:i.Jq.KEYBOARD,triggerMethod:t}}}))((0,a.QZ)())},s=function(e){var t=e.editorView,n=e.containerElement,r=e.keyword;return(0,o.wi)({eventType:i.Ze.TRACK,action:i.om.FIND_PERFORMED,actionSubject:i.Wt.TEXT})((0,a.sE)(t,n,r))},u=function(e){var t=e.triggerMethod;return(0,o.wi)({eventType:i.Ze.TRACK,action:i.om.FIND_NEXT_PERFORMED,actionSubject:i.Wt.TEXT,attributes:{triggerMethod:t}})((0,a.g)())},l=function(e){var t=e.triggerMethod;return(0,o.wi)({eventType:i.Ze.TRACK,action:i.om.FIND_PREV_PERFORMED,actionSubject:i.Wt.TEXT,attributes:{triggerMethod:t}})((0,a.a7)())},d=function(e){var t=e.triggerMethod,n=e.replaceText;return(0,o.wi)({eventType:i.Ze.TRACK,action:i.om.REPLACED_ONE,actionSubject:i.Wt.TEXT,attributes:{triggerMethod:t}})((0,a.gx)(n))},p=function(e){var t=e.replaceText;return(0,o.wi)({eventType:i.Ze.TRACK,action:i.om.REPLACED_ALL,actionSubject:i.Wt.TEXT})((0,a.ko)(t))},f=function(e){var t=e.triggerMethod;return(0,o.wi)({eventType:i.Ze.UI,action:i.om.DEACTIVATED,actionSubject:i.Wt.FIND_REPLACE_DIALOG,attributes:{triggerMethod:t}})((0,a.WT)())}},99107:(e,t,n)=>{"use strict";n.d(t,{QZ:()=>y,yv:()=>A,WT:()=>T,sE:()=>b,g:()=>w,a7:()=>k,gx:()=>x,ko:()=>O,Qo:()=>_});var r=n(16037),o=n(6565),i=n(6537),a=n(96941),c=n(45629),s=n(31446),u=n(86522),l=n(34795),d=n(9249),p=n(87371);function f(){f=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,o){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(o||[]);return r(a,"_invoke",{value:x(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function h(){}function v(){}function m(){}var g={};s(g,i,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,i)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(r,i,a,c){var s=d(e[r],e,i);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==(0,u.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(p).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(s.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=s(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,s(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),s(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),s(w,c,"Generator"),s(w,i,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var h=100,v=2e3,m=function(){function e(){(0,d.Z)(this,e)}var t,n,r,o;return(0,p.Z)(e,[{key:"stop",value:function(){this.rafId&&cancelAnimationFrame(this.rafId)}},{key:"applyAllSearchDecorations",value:(o=(0,l.Z)(f().mark((function e(t,n,r,o){var i,a,c,s,u,l,d,p,h,m;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stop(),this.addDecorations=r,this.removeDecorations=o,n){e.next=5;break}return e.abrupt("return");case 5:if(i=n.querySelector(".ProseMirror")){e.next=8;break}return e.abrupt("return");case 8:return a=this.calcDecorationPositions(t,n,i),c=a.startPos,s=a.endPos,u=a.viewportStartPos,l=a.viewportEndPos,d=0,p=u,h=l-v,e.next=15,this.updateDecorationsBetween(t,u,l);case 15:if(!(p>c||h<s)){e.next=28;break}if(!(d++%2==0&&p>c||h>=s)){e.next=23;break}return m=p-c,p=Math.max(p-v,c),e.next=21,this.updateDecorationsBetween(t,p,p+Math.min(m,v));case 21:e.next=26;break;case 23:return h=Math.min(h+v,s),e.next=26,this.updateDecorationsBetween(t,h,Math.min(h+v,s));case 26:e.next=15;break;case 28:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return o.apply(this,arguments)})},{key:"updateDecorationsBetween",value:(r=(0,l.Z)(f().mark((function e(t,n,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.removeDecorationsBetween(t,n,r);case 2:return e.next=4,this.addDecorationsBetween(t,n,r);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"addDecorationsBetween",value:(n=(0,l.Z)(f().mark((function e(t,n,r){var o,a,s,u,l,d,p,v=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.state.selection,a=(0,i.Lk)(t.state),s=a.matches,u=a.decorationSet,0!==s.length){e.next=4;break}return e.abrupt("return");case 4:return l=s.filter((function(e){return e.start>=n&&(void 0===r||e.start<r)})),d=s.find((function(e){return e.start>=o.from})),p=l.findIndex((function(e){return e===d})),e.next=9,this.batchRequests((function(e){var t=l.slice(e,e+h);if(0===t.length)return!1;var n=p>=e&&p<e+h;d&&n&&(0,c.oh)(u,d)&&(t.splice(p%h,1),n=!1),v.addDecorations&&v.addDecorations((0,c.yf)(n?p%h:-1,t))}),{increment:h,until:l.length});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"removeDecorationsBetween",value:(t=(0,l.Z)(f().mark((function e(t,n,r){var o,a,c,s=this;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,i.Lk)(t.state),a=o.decorationSet,0!==(c=a.find(n,r)).length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.batchRequests((function(e){var t=c.slice(e,e+h);if(0===t.length)return!1;for(var r=0;r<t.length&&!(t[r].from>=n);r++)t=t.slice(1);s.removeDecorations&&s.removeDecorations(t)}),{increment:h,until:c.length});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"calcDecorationPositions",value:function(e,t,n){var r=t.getBoundingClientRect(),o=n.getBoundingClientRect();return{viewportStartPos:this.getStartPos(e,0,o.left),viewportEndPos:this.getEndPos(e,r.top+r.height,o.left),startPos:1,endPos:e.state.doc.nodeSize}}},{key:"getStartPos",value:function(e,t,n){var r=e.posAtCoords({top:t,left:n});return r?r.pos:1}},{key:"getEndPos",value:function(e,t,n){var r=e.state.doc.nodeSize,o=e.posAtCoords({top:t,left:n});return o?o.pos:r}},{key:"batchRequests",value:function(e,t){var n=this,r=0,o=t.increment,i=t.until;return new Promise((function(t){n.rafId=requestAnimationFrame((function a(){for(var c=e(r);!1===c&&r<i;)c=e(r+=o);r<i?(r+=o,n.rafId=requestAnimationFrame(a)):(n.rafId=void 0,t())}))}))}}]),e}();const g=new m;var y=function(){return(0,i.fA)((function(e){var t,n,o,s=e.selection;if(s instanceof r.TextSelection&&!s.empty){t=(0,c.ZT)(s);var u=(0,i.Lk)(e).shouldMatchCase;n=(0,c.JD)(e.doc,t,u),o=(0,c.px)(s.from,n)}return{type:a.L.ACTIVATE,findText:t,matches:n,index:o}}))},b=function(e,t,n){return(0,s.O3)((0,i.fA)((function(r){var o=r.selection,s=(0,i.Lk)(r).shouldMatchCase,u=void 0!==n?(0,c.JD)(r.doc,n,s):[],l=(0,c.px)(o.from,u);return g.applyAllSearchDecorations(e,t,(function(t){return S(t)(e.state,e.dispatch)}),(function(t){return C(t)(e.state,e.dispatch)})),{type:a.L.FIND,findText:n||"",matches:u,index:l}}),(function(e,t){var r=t.selection,o=(0,i.Lk)(t).shouldMatchCase,a=void 0!==n?(0,c.JD)(t.doc,n,o):[];if(a.length>0){var s=(0,c.px)(r.from,a);return e.setSelection((0,c.w7)(e.selection,e.doc,s,a))}return e})))},w=function(){return(0,s.O3)((0,i.fA)((function(e){return E(e,"next")}),(function(e,t){var n=(0,i.Lk)(t),r=n.matches,o=n.index,a=(0,c.px)(t.selection.from,r);return a===o&&(a=(0,c.d5)(a,r.length)),e.setSelection((0,c.w7)(e.selection,e.doc,a,r))})))},k=function(){return(0,s.O3)((0,i.fA)((function(e){return E(e,"previous")}),(function(e,t){var n=(0,i.Lk)(t).matches,r=(0,c.px)(t.selection.from,n,!0);return e.setSelection((0,c.w7)(e.selection,e.doc,r,n))})))},E=function(e,t){var n=(0,i.Lk)(e),r=n.matches,o=n.findText,s=n.decorationSet,u=n.index;if(o){var l=(0,c.px)(e.selection.from,r,"previous"===t);u=u===l?"next"===t?(0,c.d5)(u,r.length):(0,c.Sm)(u,r.length):l,s=P(e,u)}return{type:"next"===t?a.L.FIND_NEXT:a.L.FIND_PREVIOUS,index:u,decorationSet:s}},x=function(e){return(0,s.O3)((0,i.fA)((function(t){var n=(0,i.Lk)(t),r=n.findText,o=n.decorationSet,s=n.matches,u=n.index;return o=P(t,(0,c.d5)(u,s.length)),-1===e.toLowerCase().indexOf(r.toLowerCase())?(o=(0,c.Ll)(o,[s[u]],t.doc),s.splice(u,1),u>s.length-1&&(u=0)):u=(0,c.d5)(u,s.length),{type:a.L.REPLACE,replaceText:e,decorationSet:o,matches:s,index:u}}),(function(t,n){var r=(0,i.Lk)(n),o=r.matches,a=r.index,s=r.findText;if(o[a]){var u=o[a],l=u.start,d=u.end,p=(0,c.d5)(a,o.length);t.insertText(e,l,d).setSelection((0,c.w7)(t.selection,t.doc,p,o,0===p?0:e.length-s.length))}return t})))},O=function(e){return(0,i.fA)({type:a.L.REPLACE_ALL,replaceText:e,decorationSet:o.EH.empty,matches:[],index:0},(function(t,n){return(0,i.Lk)(n).matches.forEach((function(n){t.insertText(e,t.mapping.map(n.start),t.mapping.map(n.end))})),t.setMeta("scrollIntoView",!1),t}))},S=function(e){return(0,i.fA)((function(t){var n=(0,i.Lk)(t).decorationSet;return{type:a.L.UPDATE_DECORATIONS,decorationSet:n.add(t.doc,e)}}))},C=function(e){return(0,i.fA)((function(t){var n=(0,i.Lk)(t).decorationSet;return{type:a.L.UPDATE_DECORATIONS,decorationSet:(0,c.vT)(n,e,t.doc)}}))},T=function(){return(0,i.fA)((function(){return g.stop(),{type:a.L.CANCEL}}))},A=function(){return(0,i.fA)({type:a.L.BLUR})},_=function(){return(0,i.fA)({type:a.L.TOGGLE_MATCH_CASE})},P=function(e,t){var n=(0,i.Lk)(e),r=n.decorationSet,o=n.index,a=n.matches,s=a[o],u=a[t];if(o===t)return r;var l=(0,c.oh)(r,s),d=(0,c.oh)(r,u),p=[];return l&&p.push(l),d&&p.push(d),p.length>0&&(p.sort((function(e,t){return e.from<t.from?-1:1})),r=(0,c.vT)(r,p,e.doc)),s&&(r=r.add(e.doc,[(0,c.c)(s.start,s.end)])),u&&(r=r.add(e.doc,[(0,c.c)(u.start,u.end,!0)])),r}},6537:(e,t,n)=>{"use strict";n.d(t,{fA:()=>w,rx:()=>x,Lk:()=>k});var r=n(56666),o=n(68079),i=n(6131),a=n(6565),c=n(72132),s=n(96941);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d=function(e){return function(t,n){switch(n.type){case s.L.ACTIVATE:case s.L.FIND:return l(l({},t),{},{isActive:!0,shouldFocus:n.type===s.L.ACTIVATE,findText:void 0!==n.findText?n.findText:t.findText,matches:n.matches||t.matches,index:void 0!==n.index?n.index:t.index});case s.L.UPDATE_DECORATIONS:return l(l({},t),{},{decorationSet:n.decorationSet});case s.L.FIND_NEXT:case s.L.FIND_PREVIOUS:return l(l({},t),{},{index:n.index,decorationSet:n.decorationSet});case s.L.REPLACE:case s.L.REPLACE_ALL:return l(l({},t),{},{replaceText:n.replaceText,decorationSet:n.decorationSet,matches:n.matches,index:n.index});case s.L.CANCEL:return e();case s.L.BLUR:return l(l({},t),{},{shouldFocus:!1});case s.L.TOGGLE_MATCH_CASE:return l(l({},t),{},{shouldMatchCase:!t.shouldMatchCase});default:return t}}};var p=n(57343),f=n(45629),h=n(14269),v=n(41595);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={isActive:!1,shouldFocus:!1,findText:"",replaceText:"",index:0,matches:[],decorationSet:a.EH.empty,shouldMatchCase:!1},b=(0,c.H)(p.v,d((function(){return y})),{onDocChanged:function(e,t){var n=t.isActive,r=t.findText;if(!n||!r)return t;if(!e.steps.find(v.Ws))return t;var i=t.index,c=t.decorationSet,s=t.matches,u=t.shouldMatchCase,l=(0,f.JD)(e.doc,r,u),d=(c=c.map(e.mapping,e.doc)).find().length,p=s.map((function(t){return{start:e.mapping.map(t.start),end:e.mapping.map(t.end)}})),m=[],y=[];if(l.length>0&&0===d?m=l:0===l.length&&d>0?c=a.EH.empty:(l.length>0||d>0)&&e.steps.forEach((function(t){(0,v.Ws)(t)&&(m=[].concat((0,o.Z)(m),(0,o.Z)(l.filter((function(n){return(0,f.y1)(n,t,e)&&!(0,f.oh)(c,n)})))),y=[].concat((0,o.Z)(y),(0,o.Z)((0,h.U)(p.filter((function(n){return(0,f.y1)(n,t,e)&&!!(0,f.oh)(c,n)})),l,(function(e,t){return e.start===t.start&&e.end===t.end})))))})),y.length>0){var b=y.reduce((function(e,t){return[].concat((0,o.Z)(e),(0,o.Z)(c.find(t.start,t.end)))}),[]);c=(0,f.vT)(c,b,e.doc)}m.length>0&&(c=c.add(e.doc,(0,f.yf)(e.selection.from,m)));var w=i,k=p[i];k&&(w=l.findIndex((function(e){return e.start===k.start}))),void 0!==w&&-1!==w||(w=(0,f.px)(e.selection.from,l));var E=l[w];return c=(0,f.Ll)(c,[k,E],e.doc),E&&(c=c.add(e.doc,(0,f.yf)(0,[E]))),g(g({},t),{},{matches:l,index:w,decorationSet:c})}}),w=b.createCommand,k=b.getPluginState,E=b.createPluginState,x=function(e){return new i.J({key:p.v,state:E(e,(function(){return y})),props:{decorations:function(e){var t=k(e),n=t.isActive,r=t.findText,o=t.decorationSet;if(n&&r)return o}}})}},14998:(e,t,n)=>{"use strict";n.d(t,{MG:()=>u,T1:()=>s,Vx:()=>c});var r,o=n(71171),i=n(28165),a=n(39151),c="search-match",s="selected-search-match",u=(0,i.iv)(r||(r=(0,o.Z)(["\n  ."," {\n    background-color: ",";\n  }\n\n  ."," {\n    background-color: ",";\n    color: white;\n  }\n"])),c,a.tE,s,a.VY)},57343:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});var r=new(n(16037).PluginKey)("findReplace")},45629:(e,t,n)=>{"use strict";n.d(t,{JD:()=>u,Ll:()=>m,Sm:()=>p,ZT:()=>a,c:()=>s,d5:()=>d,oh:()=>h,px:()=>l,vT:()=>v,w7:()=>f,y1:()=>b,yf:()=>c});var r=n(6565),o=n(16037),i=n(14998);function a(e){for(var t="",n=e.content().content,r=0;r<n.childCount;r++)t+=n.child(r).textContent;return t}var c=function(e,t){return t.map((function(t,n){var r=t.start,o=t.end;return s(r,o,n===e)}))},s=function(e,t,n){var o=i.Vx;return n&&(o+=" ".concat(i.T1)),r.p.inline(e,t,{class:o})};function u(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=[],i=t.length,a=null,c=function(e){if(e){var a=e.text,c=e.pos,s=r+c;n||(t=t.toLowerCase(),a=a.toLowerCase());for(var u=a.indexOf(t);-1!==u;){var l=u+i;o.push({start:s+u,end:s+l}),u=a.indexOf(t,l)}}};return i>0&&(e.descendants((function(e,t){e.isText?null===a?a={text:e.text,pos:t}:a.text=a.text+e.text:(c(a),a=null)})),a&&c(a)),o}function l(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){var n=t.findIndex((function(t){return t.start>=e}))-1;return n<0&&(n=t.length-1),n}return Math.max(t.findIndex((function(t){return t.start>=e})),0)}var d=function(e,t){return(e+1)%t},p=function(e,t){return(e-1+t)%t},f=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return r[n]?o.TextSelection.create(t,r[n].start+i):e},h=function(e,t){if(t){var n=e.find(t.start,t.end);return n.length?n.find((function(e){return e.from===t.start&&e.to===t.end})):void 0}},v=function(e,t,n){var r=e.find(),o=(e=e.remove(t.map((function(e){return e.copy(e.from,e.to)})))).find(),i=g(t,r,o);return i.length>0&&(e=e.add(n,i)),e},m=function(e,t,n){return t.filter((function(e){return!!e})).map((function(t){return h(e,t)})).forEach((function(t){t&&(e=v(e,[t],n))})),e},g=function(e,t,n){var r=[];if(t.length-e.length>n.length){for(var o=e.length>0?e[0].from:0,i=y(t,o),a=y(n,o),c=Math.min(i,a),s=t.slice(c),u=n.slice(c),l=[],d=s.length-u.length,p=!1,f=0,h=function(t){var n=s[t];if(e.find((function(e){return e.from===n.from})))return f-=1,"continue";var r=t+f;for(r>=u.length&&(l.push(n),l.length===d&&(p=!0));r<u.length;r++){var o=u[r];if(n.from===o.from)break;if(o.from>n.from||r===u.length-1){l.push(n),f-=1,l.length===d&&(p=!0);break}}return p?"break":void 0},v=0;v<s.length;v++){var m=h(v);if("continue"!==m&&"break"===m)break}r=l.filter((function(t){return!e.find((function(e){return t.from===e.from}))}))}return r},y=function(e,t){for(var n=0,r=e.length-1;r>=0;r-=100){if(e[r].from<t){n=r;for(var o=r;o<=e.length-1&&e[o].from<=t;o++)n=o;break}r<100&&r>0&&(r=100)}return n},b=function(e,t,n){var r=t.from,o=t.to,i=t.slice.content.size;return r+i>=e.start&&o-i<=e.end||n.mapping.map(r)+i>=e.start&&n.mapping.map(o)-i<=e.end}},11178:(e,t,n)=>{"use strict";n.d(t,{Hm:()=>c,QP:()=>a,ZP:()=>i});var r=n(6131),o=new(n(16037).PluginKey)("forceFocusStatePlugin");const i=function(){return new r.J({key:o,state:{init:function(){return{selector:null}},apply:function(e,t){var n=e.getMeta(o);return n&&"selector"in n?{selector:n.selector}:t}}})};function a(e,t){if(t)return t.dispatch(t.state.tr.setMeta(o,{selector:e}))}function c(e){var t=null==e?void 0:e.state;if(t){var n=o.getState(t).selector;if(n){var r=document.querySelector(n);r&&(r.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}),r.focus(),a(null,e))}}}},39849:(e,t,n)=>{"use strict";n.d(t,{W:()=>o,v:()=>i});var r=n(94350),o=function(e){return(0,r.fA)({type:"SHOW_CONFIRM_DIALOG",data:{buttonIndex:e}},(function(e){return e.setMeta("addToHistory",!1)}))},i=function(){return(0,r.fA)({type:"HIDE_CONFIRM_DIALOG"},(function(e){return e.setMeta("addToHistory",!1)}))}},94350:(e,t,n)=>{"use strict";n.d(t,{fA:()=>l,Ln:()=>u});var r=n(72132),o=n(37209),i=n(56666);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,r.H)(o.u,(function(e,t){switch(t.type){case"SHOW_CONFIRM_DIALOG":return c(c({},e),{},{confirmDialogForItem:t.data.buttonIndex});case"HIDE_CONFIRM_DIALOG":return c(c({},e),{},{confirmDialogForItem:void 0});default:return e}})),u=s.createPluginState,l=s.createCommand;s.getPluginState},37209:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=new(n(16037).PluginKey)("floatingToolbarData")},70890:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(56666),o=n(59740),i=n(2784),a=n(86779),c=n(95834),s=n(39151),u=n(9091),l={danger:{default:{light:"inherit",dark:"inherit"},hover:{light:"var(--ds-background-neutral-subtle-hovered, ".concat(s.kd,")"),dark:"var(--ds-background-neutral-subtle-hovered, ".concat(s.kd,")")},active:{light:"var(--ds-background-neutral-pressed, ".concat("".concat((0,u.a7)(s.tE,.6)),")"),dark:"var(--ds-background-neutral-pressed, ".concat("".concat((0,u.a7)(s.tE,.6)),")")}}},d={danger:{default:{light:"var(--ds-icon, ".concat(s.zN,")"),dark:"var(--ds-icon, ".concat(s.oe,")")},hover:{light:"var(--ds-icon-danger, ".concat(s.$H,")"),dark:"var(--ds-icon-danger, ".concat(s.$H,")")},active:{light:"var(--ds-icon-danger, ".concat(s.$H,")"),dark:"var(--ds-icon-danger, ".concat(s.$H,")")}}},p=function(e,t){var n=t.appearance,r=void 0===n?"default":n,o=t.state,i=void 0===o?"default":o,a=t.mode,c=void 0===a?"light":a;return e[r]&&e[r][i]?e[r][i][c]:"initial"},f={"&&":{padding:"0px","&&[href]":{padding:"0 2px"}},"& > span":{margin:"0px"}},h=["buttonStyles"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const g=function(e){var t=e.title,n=e.icon,r=e.iconAfter,s=e.onClick,u=e.onKeyDown,v=e.onMouseEnter,g=e.onMouseLeave,y=e.onFocus,b=e.onBlur,w=e.selected,k=e.disabled,E=e.href,x=e.target,O=e.appearance,S=void 0===O?"subtle":O,C=e.children,T=e.className,A=e.tooltipContent,_=e.testId,P=e.hideTooltipOnClick,D=void 0===P||P,Z=e.ariaHasPopup,I=e.tabIndex,L=e.areaControls,M=e.ariaLabel,R=(n||r)&&!C?f:{};return i.createElement(a.Z,{content:A||t,hideTooltipOnClick:D,position:"top"},i.createElement("div",{onMouseEnter:v,onMouseLeave:g},i.createElement(c.Z,{className:T,theme:function(e,t){var n,r=e(t),i=r.buttonStyles,a=(0,o.Z)(r,h);return m({buttonStyles:m(m(m({},i),R),"danger"===S&&(n={appearance:S,state:t.state,mode:t.mode},{background:p(l,n),color:p(d,n)}))},a)},"aria-label":M||t,"aria-pressed":Z?void 0:w,"aria-expanded":Z?w:void 0,"aria-controls":Z?L:void 0,spacing:"compact",href:E,target:x,appearance:S,"aria-haspopup":Z,iconBefore:n||void 0,iconAfter:r,onClick:s,onKeyDown:u,isSelected:w,isDisabled:k,testId:_,onFocus:y,onBlur:b,tabIndex:I},C)))}},2846:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r,o=n(71171),i=n(28165),a=n(39151),c=(0,i.iv)(r||(r=(0,o.Z)(["\n  background: ",";\n  width: 1px;\n  height: 20px;\n  margin: 0 4px;\n  align-self: center;\n"])),"var(--ds-border, ".concat(a.gt,")"));const s=function(){return(0,i.tZ)("div",{css:c,className:"separator"})}},99354:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=(0,n(63470).vU)({confirmModalDefaultHeading:{id:"fabric.editor.floatingToolbar.confirmModalHeading",defaultMessage:"Are you sure?",description:"Default heading of floating toolbar confirmation modal."},confirmModalOK:{id:"fabric.editor.floatingToolbar.confirmModalOK",defaultMessage:"OK",description:"OK button for floating toolbar confirmation modal."},confirmModalCancel:{id:"fabric.editor.floatingToolbar.confirmModalCancel",defaultMessage:"Cancel",description:"Cancel button for floating toolbar confirmation modal."},confirmModalListUnit:{id:"fabric.editor.floatingToolbar.confirmModalConnectedUnit",defaultMessage:"{name}{amount, plural, =0 {} one { (+1 connected element)} other { (+# connected elements)}}",description:"Text displayed in confirmation modal which highlights the nodes and the amount of connected nodes that will be deleted"},confirmDeleteLinkedModalMessage:{id:"fabric.editor.extension.confirmDeleteLinkedModalMessage",defaultMessage:"Deleting {nodeName} will break anything connected to it.",description:"Message for confirm modal when deleting a extension linked to an data consumer."},floatingToolbarAriaLabel:{id:"fabric.editor.floatingToolbar.floatingToolbarAriaLabel",defaultMessage:"Floating Toolbar",description:"a floating toolbar's aria label"},floatingToolbarAnnouncer:{id:"fabric.editor.floatingToolbar.floatingToolbarAnnouncer",defaultMessage:"Floating toolbar controls have been opened",description:"message that will be announced to screenreaders that the floating toolbar is opened"},floatingToolbarScrollLeft:{id:"fabric.editor.floatingToolbar.scrollLeft",defaultMessage:"Scroll left",description:"Button to scroll left when the toolbar is in the overflow state"},floatingToolbarScrollRight:{id:"fabric.editor.floatingToolbar.scrollRight",defaultMessage:"Scroll right",description:"Button to scroll right when the toolbar is in the overflow state"}})},97007:(e,t,n)=>{"use strict";n.d(t,{DY:()=>i,Rt:()=>o,wU:()=>r});var r=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),i=0;i<n.length;i++){var a=n[i];if(!o(a))return!1;if(e[a]!==t[a])return!1}return!0},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(!n(e[o],t[o]))return!1;return!0};function i(e,t){var n;return e.descendants((function(e){return!n&&(!t(e)||(n=e,!1))})),n}},85029:(e,t,n)=>{"use strict";n.d(t,{K:()=>o,U:()=>i});var r=n(87789),o=function(e,t){return e=e.setMeta(r.u,!0),!!t&&(t(e),!0)},i=function(e,t){t(e=e.setMeta(r.u,!1))}},87789:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=new(n(16037).PluginKey)("helpDialogPlugin")},59285:(e,t,n)=>{"use strict";n.d(t,{W:()=>u,J:()=>l});var r,o,i,a=n(71171),c=n(28165),s=(0,c.iv)(r||(r=(0,a.Z)(["\n  a.blockLink {\n    display: block;\n  }\n"]))),u=(0,c.iv)(o||(o=(0,a.Z)(["\n  .ProseMirror {\n    ","\n  }\n"])),s),l=(0,c.iv)(i||(i=(0,a.Z)(["\n  clip: rect(1px, 1px, 1px, 1px);\n  clip-path: inset(50%);\n  height: 1px;\n  width: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n"])))},18041:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=(0,n(63470).vU)({unorderedList:{id:"fabric.editor.unorderedList",defaultMessage:"Bullet list",description:"A list with bullets. Also known as an “unordered” list"},unorderedListDescription:{id:"fabric.editor.unorderedList.description",defaultMessage:"Create an unordered list",description:""},orderedList:{id:"fabric.editor.orderedList",defaultMessage:"Numbered list",description:"A list with ordered items 1… 2… 3…"},orderedListDescription:{id:"fabric.editor.orderedList.description",defaultMessage:"Create an ordered list",description:""},lists:{id:"fabric.editor.lists",defaultMessage:"Lists",description:"Menu shows ordered/bullet list and unordered/numbered lists"}})},13838:(e,t,n)=>{"use strict";n.d(t,{Hg:()=>w,WK:()=>E,ZI:()=>x});var r=n(86522),o=n(56666),i=n(34795),a=n(71696),c=n.n(a),s=n(16037),u=n(41396),l=n(30581),d=n(35986),p=n(80006),f=n(50104),h=n(19589),v=n(74183),m=n(83149);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(){b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(A([])));y&&y!==t&&n.call(y,a)&&(m=y);var w=v.prototype=f.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,r.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=v,o(w,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var w=function(e,t,n){return function(){var r=(0,i.Z)(b().mark((function r(o){var i,a,c,l,d,m,g,y,w,E,x,O,S,C,T,A,_,P,D,Z,I;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",!1);case 2:return r.next=4,e.openMacroBrowser(t);case 4:if(!(i=r.sent)||!t){r.next=20;break}if(a=o.state,c=o.dispatch,l=t&&t.attrs.layout||"default",d=k(i,a,{layout:l})){r.next=11;break}return r.abrupt("return",!1);case 11:return m=a.selection,g=a.schema,y=g.nodes,w=y.extension,E=y.inlineExtension,x=y.bodiedExtension,O=(0,p.Lk)(a),S=v.F.CURRENT_SELECTION,C=a.tr,T=!!(0,u.a1)([x])(m),t.type!==x||T?(0,u.a1)([w,x,E])(m)?(C=(0,u.Ig)(d)(C)).setSelection(s.NodeSelection.create(C.doc,C.mapping.map(a.selection.anchor))):O.element&&(A=o.posAtDOM(O.element,-1))>-1&&((C=C.replaceWith(A,A+t.nodeSize,d)).setSelection(s.Selection.near(C.doc.resolve(A))),S=v.F.HTML_ELEMENT):(C=n?(0,u.BX)(x,d)(C):(0,u.Z3)(d)(C)).setSelection(s.TextSelection.create(C.doc,a.selection.anchor)),c&&C.docChanged&&(_=t.attrs,P=_.extensionType,D=_.extensionKey,Z=_.layout,I=_.localId,(0,f.Gs)(a,C,{action:h.om.UPDATED,actionSubject:h.Wt.EXTENSION,actionSubjectId:t.type.name,eventType:h.Ze.TRACK,attributes:{inputMethod:n?h.Jq.MACRO_BROWSER:h.Jq.TOOLBAR,extensionType:P,extensionKey:D,layout:Z,localId:I,selection:C.selection.toJSON(),targetSelectionSource:S}}),c(C.scrollIntoView())),r.abrupt("return",!0);case 20:return r.abrupt("return",!1);case 21:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},k=function(e,t,n){if(!e||!t)return null;var r,o=t.schema,i=(0,l.Rr)(e,o),a=i.type,c=i.attrs;return"extension"===a?r=o.nodes.extension.create(y(y({},c),n)):"bodiedExtension"===a?r=o.nodes.bodiedExtension.create(y(y({},c),n),o.nodeFromJSON(e).content):"inlineExtension"===a&&(r=o.nodes.inlineExtension.create(c)),(0,d.vU)(t,r)},E=function(e,t){var n=m.u.getState(e),r=n&&n.macroProvider;if(!r||!r.autoConvert)return null;var o=r.autoConvert(t);return o?k(o,e):null},x=function(e){return function(){var t=(0,i.Z)(b().mark((function t(n){var r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e;case 3:r=t.sent,c()(r&&r.openMacroBrowser,"MacroProvider promise did not resolve to a valid instance of MacroProvider - ".concat(r)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r=null;case 10:return n.dispatch(n.state.tr.setMeta(m.u,{macroProvider:r})),t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}},83149:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=new(n(16037).PluginKey)("macroPlugin")},16336:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>i,ux:()=>o});var r=n(6131),o=new(n(16037).PluginKey)("maxContentSizePlugin");const i=function(e){return{name:"maxContentSize",pmPlugins:function(){return[{name:"maxContentSize",plugin:function(t){return function(e,t){if(t){var n=!1;return new r.J({filterTransaction:function(r){var i=r.doc&&r.doc.nodeSize>t;return(i||i!==n)&&e(o,{maxContentSizeReached:i}),n=i,!i}})}}(t.dispatch,e)}}]}}}},94622:(e,t,n)=>{"use strict";n.d(t,{m:()=>r});var r={FLOATING_TOOLBAR_COMPONENT:"".concat("pm-alt-text","-alt-text-floating-toolbar")}},62416:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});var r=new(n(16037).PluginKey)("mediaPlugin")},64729:(e,t,n)=>{"use strict";n.d(t,{E:()=>d,Z:()=>p});var r,o=n(71171),i=n(2784),a=n(28165),c=n(42670),s=n(39151),u=(0,n(63470).vU)({placeholder:{id:"fabric.editor.captionPlaceholder",defaultMessage:"Add a caption",description:"Placeholder description for an empty (new) caption in the editor"}}),l=(0,a.iv)(r||(r=(0,o.Z)(["\n  color: ",";\n  width: 100%;\n  text-align: center;\n  margin-top: 8px !important;\n  display: block;\n"])),"var(--ds-text-subtlest, ".concat(s.iw,")")),d="caption-placeholder";const p=i.forwardRef((function(e,t){var n=e.onClick;return(0,a.tZ)("span",{ref:t,css:l,onClick:n,"data-id":d,"data-testid":"caption-placeholder"},(0,a.tZ)(c.Z,u.placeholder))}))},86447:(e,t,n)=>{"use strict";var r;n.d(t,{o:()=>r}),function(e){e.SET_KEYBOARD_HEIGHT="SET_KEYBOARD_HEIGHT",e.SET_WINDOW_HEIGHT="SET_WINDOW_HEIGHT",e.SET_MOBILE_PADDING_TOP="SET_MOBILE_PADDING_TOP",e.SET_IS_EXPANDED="SET_IS_EXPANDED"}(r||(r={}))},49253:(e,t,n)=>{"use strict";n.d(t,{fA:()=>p,Ln:()=>d,DW:()=>u});var r=n(16037),o=n(72132),i=n(56666),a=n(86447);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=new r.PluginKey("mobileDimensions"),l=(0,o.H)(u,(function(e,t){switch(t.type){case a.o.SET_KEYBOARD_HEIGHT:return s(s({},e),{},{keyboardHeight:t.keyboardHeight});case a.o.SET_WINDOW_HEIGHT:return s(s({},e),{},{windowHeight:t.windowHeight});case a.o.SET_MOBILE_PADDING_TOP:return s(s({},e),{},{mobilePaddingTop:t.paddingTop});case a.o.SET_IS_EXPANDED:return s(s({},e),{},{isExpanded:t.isExpanded})}return e})),d=l.createPluginState,p=(l.getPluginState,l.createCommand)},98859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);function o(){return r.createElement("svg",{focusable:"false","aria-hidden":!0,width:40,height:40},r.createElement("defs",null,r.createElement("linearGradient",{x1:"-26.046%",y1:"100%",x2:"62.626%",y2:"0%",id:"fallback-a"},r.createElement("stop",{stopColor:"#B3BAC5",offset:"0%"}),r.createElement("stop",{stopColor:"#A5ADBA",offset:"100%"}))),r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{fill:"#FFF",d:"M0 0h40v40H0z"}),r.createElement("path",{fill:"#DFE1E6",d:"M20 16h12v12H20z"}),r.createElement("path",{fill:"url(#fallback-a)",d:"M8 16h12v12H8z"}),r.createElement("path",{d:"M20 16c-4 .5-6.029 2.5-6.086 6-.057 3.5-2.028 5.5-5.914 6h12V16z",fill:"#A5ADBA"}),r.createElement("path",{fill:"#B3BAC5",d:"M17.5 13h5v3h-5z"}),r.createElement("path",{fill:"#A5ADBA",d:"M10 13h5v3h-5z"}),r.createElement("path",{fill:"#DFE1E6",d:"M25 13h5v3h-5z"})))}},47351:(e,t,n)=>{"use strict";n.d(t,{IK:()=>v,ai:()=>y,g2:()=>m,gs:()=>g,x7:()=>h});var r=n(16037),o=n(41396),i=n(35345),a=n(41299),c=n(92264),s=n(28939),u=n(73497),l=n(85286),d=n(11896),p=n(91094),f=n(97816);var h=function(e,t){return function(n,d,h){var v=n.doc,m=n.selection,g=n.tr,y=(0,a.Yr)(e)?m.$from:m.$to,b=m.empty;if(m instanceof r.TextSelection){if(!t||!t(e.toString()))return!1;if(function(e,t,n){var r,o=t.doc,i=t.schema;switch(e){case a.Nm.UP:return!(0,l.Km)(t)&&((0,p.T)(n,i,"before")||(0,s.Qm)(o,i,n,-1)||(0,f.AK)(n,t));case a.Nm.DOWN:return(0,l.hX)(t)||(0,s.Qm)(o,i,n,1)||(0,p.T)(n,i,"after")||"text"===(null===(r=n.nodeBefore)||void 0===r?void 0:r.type.name)&&!n.nodeAfter;default:return!1}}(e,n,y))return!1;y=v.resolve((0,a.Yr)(e)?y.before():y.after()),b=!1}if(m instanceof r.NodeSelection){if(m.node.isInline)return!1;if(e===a.Nm.UP&&!(0,l.Km)(n)&&!(0,f.AK)(y,n)||e===a.Nm.DOWN)return!1}if(function(e,t){var n,r=t.selection,o=r instanceof c.WD&&e===a.Nm.UP&&r.$from.nodeBefore&&(0,f.fP)(r.$from.nodeBefore),i=r instanceof c.WD&&e===a.Nm.DOWN&&"mediaGroup"===(null===(n=r.$from.nodeAfter)||void 0===n?void 0:n.type.name);return o||i}(e,n)){var w=function(e,t){var n=t.selection,i=t.tr,s=(0,a.Yr)(e)?n.$from:n.$to;if(e===a.Nm.UP&&n.$from.nodeBefore&&(0,f.fP)(n.$from.nodeBefore)){var u,l=(0,o.Ez)(i.selection);l&&"right"===n.side&&"mediaSingle"===(null===(u=i.doc.nodeAt(l))||void 0===u?void 0:u.type.name)?i.setSelection(new r.NodeSelection(i.doc.resolve(l))).scrollIntoView():(l||0===l)&&i.setSelection(new c.WD(i.doc.resolve(l),c.MF.LEFT)).scrollIntoView()}if(e===a.Nm.DOWN&&n.$from.nodeAfter){var d="right"===n.side?s.pos:s.pos+n.$from.nodeAfter.nodeSize;d&&i.setSelection(new c.WD(i.doc.resolve(d),c.MF.LEFT)).scrollIntoView()}return i}(e,n);return d&&d(w),!0}if(m instanceof c.WD&&(0,u.w)((0,a.Yr)(e)?y.nodeBefore:y.nodeAfter)&&((0,a.Yr)(e)&&m.side===c.MF.LEFT||(0,a.qD)(e)&&m.side===c.MF.RIGHT))return d&&d(g.setSelection(new c.WD(y,m.side===c.MF.RIGHT?c.MF.LEFT:c.MF.RIGHT)).scrollIntoView()),!0;if(h){var k=h.domAtPos.bind(h),E=(0,o.TM)(y.pos,k);if(E&&E.textContent===i.$)return!1}var x=c.WD.findFrom(y,(0,a.Yr)(e)?-1:1,b);return!!x&&((0,u.w)((0,a.qD)(e)?x.$from.nodeBefore:x.$from.nodeAfter)?(d&&d(g.setSelection(x).scrollIntoView()),!0):(d&&d(g.setSelection(new c.WD(x.$from,(0,a.qD)(e)?c.MF.LEFT:c.MF.RIGHT)).scrollIntoView()),!0))}},v=function(e){return function(t,n){if(t.selection instanceof c.WD){var i=t.selection,s=i.$from,u=i.$anchor,l=t.tr;if((0,a.Yr)(e)){if("left"===t.selection.side)return l.setSelection(new c.WD(u,c.MF.RIGHT)),n&&n(l),!0;l=(0,o.EB)(t.tr)}else s.nodeAfter&&(l=l.delete(s.pos,s.pos+s.nodeAfter.nodeSize));return n&&n(l.setSelection(r.Selection.near(l.doc.resolve(l.mapping.map(t.selection.$from.pos)))).scrollIntoView()),!0}return!1}},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.MF.LEFT;return function(n,r){if(e>n.doc.content.size)return!1;var o=n.doc.resolve(e);return!!c.WD.valid(o)&&(r&&r(n.tr.setSelection(new c.WD(o,t))),!0)}},g=function(e,t,n,o,i){var a=function(e,t,n,r){var o=t.getBoundingClientRect();if(e.clientY<o.top)return{position:0,side:c.MF.LEFT};if(o.left>0){var i=n({left:o.left,top:e.clientY});if(i&&i.inside>-1){var a,s=r.doc.resolve(i.inside).before(1),u=e.clientX<o.left?c.MF.LEFT:c.MF.RIGHT;if(u===c.MF.LEFT)a=s;else{var l=r.doc.nodeAt(s);l&&(a=s+l.nodeSize)}return{position:a,side:u}}}return null}(t,n,o,e);if(a){var s=void 0!==a.position?e.doc.resolve(a.position):null;if(null!==s)if((a.side===c.MF.LEFT?(0,u.w)(s.nodeAfter):(0,u.w)(s.nodeBefore))&&c.WD.valid(s))e.selection instanceof c.WD?e.setSelection(r.Selection.near(s)):e.setSelection(new c.WD(s,a.side));else if(!1===i){var l=r.Selection.findFrom(s,a.side===c.MF.LEFT?1:-1,!0);l&&e.setSelection(l)}}},y=function(e){return Boolean(d.H.get(e))}},41299:(e,t,n)=>{"use strict";var r;function o(e){return-1!==[r.UP,r.LEFT,r.BACKWARD].indexOf(e)}function i(e){return-1!==[r.RIGHT,r.DOWN,r.FORWARD].indexOf(e)}n.d(t,{Nm:()=>r,Yr:()=>o,qD:()=>i}),function(e){e.UP="up",e.RIGHT="right",e.DOWN="down",e.LEFT="left",e.BACKWARD="backward",e.FORWARD="forward"}(r||(r={}))},28536:(e,t,n)=>{"use strict";n.d(t,{a:()=>s,b:()=>f});var r,o,i=n(71171),a=n(28165),c=(0,a.F4)(r||(r=(0,i.Z)(["\n  from, to {\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n"]))),s="ProseMirror-hide-gapcursor",u=".ProseMirror-gapcursor",l=".ProseMirror-widget",d='[layout="wrap-left"]',p='[layout="wrap-right"]',f=(0,a.iv)(o||(o=(0,i.Z)(["\n  /* =============== GAP CURSOR ================== */\n  .ProseMirror {\n    &."," {\n      caret-color: transparent;\n    }\n\n    "," {\n      display: none;\n      pointer-events: none;\n      position: relative;\n\n      & span {\n        caret-color: transparent;\n        position: absolute;\n        height: 100%;\n        width: 100%;\n        display: block;\n      }\n\n      & span::after {\n        animation: 1s "," step-end infinite;\n        border-left: 1px solid;\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        height: 100%;\n      }\n      &.-left span::after {\n        left: -3px;\n      }\n      &.-right span::after {\n        right: -3px;\n      }\n      & span[layout='full-width'],\n      & span[layout='wide'] {\n        margin-left: 50%;\n        transform: translateX(-50%);\n      }\n      &"," {\n        float: right;\n      }\n\n      /* fix vertical alignment of gap cursor */\n      &:first-of-type + ul,\n      &:first-of-type + span + ul,\n      &:first-of-type + ol,\n      &:first-of-type + span + ol,\n      &:first-of-type + pre,\n      &:first-of-type + span + pre,\n      &:first-of-type + blockquote,\n      &:first-of-type + span + blockquote {\n        margin-top: 0;\n      }\n    }\n    &.ProseMirror-focused "," {\n      display: block;\n      border-color: transparent;\n    }\n  }\n\n  /* This hack below is for two images aligned side by side */\n  ",""," + span + ",",\n  ",""," + span + ",",\n  "," + "," + ",",\n  "," + "," + span + ",",\n  "," + "," + ",",\n  "," + "," + span + ",",\n  "," + "," + ",",\n  "," + "," + span ",",\n  "," + "," + ",",\n  "," + "," + span + ",",\n  "," + "," {\n    clear: none;\n  }\n\n  "," + "," + "," > div,\n  "," + "," + span + "," > div,\n  "," + "," + "," > div,\n  "," + "," + span + "," > div,\n  "," + "," + "," > div,\n  "," + "," + span + "," > div,\n  "," + "," + "," > div,\n  "," + "," + span + "," > div {\n    margin-right: 0;\n    margin-left: 0;\n    margin-bottom: 0;\n  }\n\n  "," + ",",\n  "," + "," {\n    float: left;\n  }\n\n  "," + "," + span + ","::after,\n  "," + "," + span + ","::after,\n  "," + "," + ","::after,\n  "," + "," + span + ","::after,\n  "," + "," + ","::after,\n  "," + "," + span + ","::after {\n    visibility: hidden;\n    display: block;\n    font-size: 0;\n    content: ' ';\n    clear: both;\n    height: 0;\n  }\n\n  "," + "," + "," + *,\n  "," + "," + "," + span + *,\n  "," + "," + "," + *,\n  "," + "," + "," + span + *,\n  "," + "," + span + "," + *,\n  "," + "," + span + "," + *,\n  "," + "," + span + "," + *,\n  "," + "," + span + "," + *,\n  "," + "," + "," + * > *,\n  "," + "," + "," + span + * > *,\n  "," + "," + "," + * > *,\n  "," + "," + "," + span + * > *,\n  "," + "," + span + "," + * > *,\n  "," + "," + span + "," + * > *,\n  "," + "," + span + "," + * > *,\n  "," + "," + span + "," + * > *,\n  "," + "," + *,\n  "," + "," + span + * {\n    margin-top: 0;\n  }\n"])),s,u,c,p,u,u,d,d,u,p,p,u,d,p,u,d,p,u,p,d,u,p,d,d,u,p,d,u,p,p,u,d,p,u,d,d,u,d,u,p,d,u,p,p,u,d,p,u,d,u,p,d,u,p,d,u,d,p,u,d,p,d,u,p,u,u,d,p,u,p,d,d,u,p,d,u,p,p,u,d,p,u,d,d,u,p,d,u,p,p,u,d,p,u,d,d,u,p,p,u,d,u,d,p,u,p,d,d,u,p,d,u,p,p,u,d,p,u,d,d,u,p,p,u,d,u,d,p,u,p,d,l,u,l,u)},28939:(e,t,n)=>{"use strict";n.d(t,{A2:()=>c,Mp:()=>l,Qm:()=>s,TK:()=>u});var r=n(44683),o=n(92264),i=n(58054),a=n(64729),c=function(e){return e===o.MF.LEFT};var s=function(e,t,n,r){var o=n,i=-1===r?o.nodeBefore:o.nodeAfter;if(i&&(i.isTextblock||i.isText))return!0;for(;o.depth>0;){if(!(o=e.resolve(-1===r?o.before():o.after())))return!1;if(!(i=(-1===r?o.nodeBefore:o.nodeAfter)||o.parent)||i.type===t.nodes.doc)return!1;if(i.isTextblock)return!0}for(var a=i;a&&a.firstChild;)if((a=a.firstChild)&&(a.isTextblock||a.isText))return!0;return!1};function u(e){var t;return e.attrs.layout&&(t=e.attrs.layout),e.marks&&e.marks.length&&(t=(e.marks.find((function(e){return"breakout"===e.type.name}))||{attrs:{mode:""}}).attrs.mode),-1===["wide","full-width"].indexOf(t)?"":t}var l=function(e){if("BUTTON"===e.nodeName||e.closest("button"))return!0;if(e.closest('[data-id="'.concat(a.E,'"]')))return!0;for(var t,n=e;n;){if(n.className&&(n.getAttribute("class")||"").indexOf(r.Up.TABLE_CONTAINER)>-1){t=n;break}n=n.parentNode}if(t){var o=t.querySelector(".".concat(r.Up.TABLE_ROW_CONTROLS_WRAPPER)),c=e&&e.classList&&e.classList.contains(r.Up.TABLE_COLUMN_CONTROLS_DECORATIONS);return o&&o.contains(e)||c}return!!e.closest(".".concat(i.m.BLOCK_CONTAINER))}},11896:(e,t,n)=>{"use strict";n.d(t,{H:()=>r});var r=new(n(16037).PluginKey)("gapCursorPlugin")},52640:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(79155),o={"…":"...","→":"->","←":"<-","–":"--","“":'"',"”":'"',"‘":"'","’":"'"},i=new RegExp("[".concat(Object.keys(o).join(""),"]"),"g"),a=function(e,t,n){var a=n.doc.type.schema,c=a.nodes,s=c.mention,u=c.text,l=c.emoji,d=(0,r.uM)(n.doc,e,t,function(e){var t=e.nodes,n=t.mention,r=t.text,o=t.emoji;return function(e,t,i){if(e.type===n||e.type===o||e.type===r)return i.isTextblock}}(a));d.forEach((function(t){var r=t.node,a=t.pos;if(r.type===s||r.type===l)!function(e,t,n,r){var o=r.mapping.map(e),i=r.doc.type.schema;r.replaceWith(o,o+t,i.text(n))}(a,r.nodeSize,r.attrs.text,n);else if(r.type===u&&r.text){!function(e,t,n){for(var r,a=n.doc.type.schema;r=i.exec(t);){var c=r,s=c[0],u=c.index,l=n.mapping.map(e+u),d=a.text(o[s]);n.replaceWith(l,l+s.length,d)}}(a>e?a:e,a>e?r.text:r.text.substr(e-a),n)}}))}},59291:(e,t,n)=>{"use strict";n.d(t,{r:()=>r});var r=(0,n(63470).vU)({underline:{id:"fabric.editor.underline",defaultMessage:"Underline",description:"Whether the text selection has underlined text"},strike:{id:"fabric.editor.strike",defaultMessage:"Strikethrough",description:"Whether the text selection has crossed out text"},code:{id:"fabric.editor.code",defaultMessage:"Code",description:"Whether the text selection has monospaced/code font"},codeOn:{id:"fabric.editor.code.on",defaultMessage:"{textFormattingOff}, Code On",description:"Reports that code formatting has been turned on"},subscript:{id:"fabric.editor.subscript",defaultMessage:"Subscript",description:"Whether the text selection is written below the line in a slightly smaller size"},subscriptOffSuperscriptOn:{id:"fabric.editor.subscript.off.superscript.on",defaultMessage:"Subscript Off, Superscript On",description:"Reports text formatting in case when subscript off and superscript on"},superscript:{id:"fabric.editor.superscript",defaultMessage:"Superscript",description:"Whether the text selection is written above the line in a slightly smaller size"},superscriptOffSubscriptOn:{id:"fabric.editor.superscript.off.subscript.on",defaultMessage:"Superscript Off, Subscript On",description:"Describe text formatting in case when Superscript Off and Subscript on"},clearFormatting:{id:"fabric.editor.clearFormatting",defaultMessage:"Clear formatting",description:"Remove all rich text formatting from the selected text"},moreFormatting:{id:"fabric.editor.moreFormatting",defaultMessage:"More formatting",description:"Clicking this will show a menu with additional formatting options"},bold:{id:"fabric.editor.bold",defaultMessage:"Bold",description:"This refers to bold or “strong” formatting, indicates that its contents have strong importance, seriousness, or urgency."},italic:{id:"fabric.editor.italic",defaultMessage:"Italic",description:"This refers to italics or emphasized formatting."},on:{id:"fabric.editor.on",defaultMessage:"{formattingType} On",description:"Reports that text formatting has been turned on"},off:{id:"fabric.editor.off",defaultMessage:"{formattingType} Off",description:"Reports that text formatting has been turned off"},textFormattingOff:{id:"fabric.editor.text.formatting.off",defaultMessage:"Text formatting Off",description:"Reports that text formatting has been turned off"},navigateToEditorToolbar:{id:"fabric.editor.navigate.toolbar.editor",defaultMessage:"Navigate to editor toolbar",description:"Navigate to the main editor toolbar."},navigateToFloatingToolbar:{id:"fabric.editor.navigate.toolbar.floating",defaultMessage:"Navigate to floating toolbar",description:"Navigate to a floating toolbar for relevant nodes (e.g. tables or panels)."}})},1313:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=(0,n(63470).vU)({typeAheadPopupLabel:{id:"fabric.editor.typeAhead.popupLabel",defaultMessage:"Typeahead results",description:"the result of a typeahead, similar to autocomplete results+"},quickInsertPopupLabel:{id:"fabric.editor.typeAhead.quickInsertPopupLabel",defaultMessage:"Shortcuts for inserts and formatting",description:"the result of a quick insert typeahead, similar to autocomplete results+"},quickInsertInputLabel:{id:"fabric.editor.typeAhead.quickInsertInputLabel",defaultMessage:"Begin typing to search or filter shortcut options",description:"assisitve text for typeahed input field"},emojiPopupLabel:{id:"fabric.editor.typeahead.emojiPopupLabel",defaultMessage:"Emoji shortcuts",description:"the result of a emoji typeahead, similar to autocomplete results+"},emojiInputLabel:{id:"fabric.editor.typeahead.emojiInputLabel",defaultMessage:"Begin typing to search or filter emoji options",description:"assisitve text for typeahed input field"},mentionPopupLabel:{id:"fabric.editor.typeahead.mentionPopupLabel",defaultMessage:"Users you can tag",description:"the aria label of a mention typeahead popup"},mentionInputLabel:{id:"fabric.editor.typeahead.mentionInputLabel",defaultMessage:"Begin typing to search for users to tag",description:"assisitve text for typeahed input field"},metionListItemLabel:{id:"fabric.editor.typeahead.metionListItemLabel",defaultMessage:"User {name} @{shortName}",description:"assistive text for user mention items username and nickname"},emojiListItemLabel:{id:"fabric.editor.typeahead.emojiListItemLabel",defaultMessage:"Emoji {name} Text Shortcut {shortcut}",description:"assistive text for emoji name and shortcut"},inputQueryAssistiveLabel:{id:"fabric.editor.inputQueryAssistiveTxt",defaultMessage:"When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures.",description:"Assistive text to the user when using typeahead shortcut"},searchResultsLabel:{id:"fabric.editor.searchResults",defaultMessage:"{itemsLength, plural, one {# search result} other {# search results}} available",description:"Assistive text to the user when using typeahead shortcut and it preceeds with a number - Ex: 10 search results available"},noSearchResultsLabel:{id:"fabric.editor.noSearchResults",defaultMessage:"No search results",description:"Assistive text to the user when using typeahead shortcut"},descriptionLabel:{id:"fabric.editor.description",defaultMessage:"Description",description:"Description"},shortcutLabel:{id:"fabric.editor.shortcut",defaultMessage:"Text shortcut",description:"Text shortcut"}})},93740:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=new(n(16037).PluginKey)("typeAheadPlugin")},34605:(e,t,n)=>{"use strict";n.d(t,{$z:()=>L,Mj:()=>O,XP:()=>E,hN:()=>x});var r,o,i,a,c,s,u=n(71171),l=n(2784),d=n(28165),p=n(39151),f=n(56734),h=n(84534),v=n(17131),m=n(8357),g=n(98859),y=n(35747),b=n(72315),w=n(83112),k=n(1313),E=40,x=12,O=(0,d.iv)(r||(r=(0,u.Z)(["\n  width: ","px;\n  height: ","px;\n  overflow: hidden;\n  border: 1px solid ","; /* N60 at 50% */\n  border-radius: ","px;\n  box-sizing: border-box;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  div {\n    width: ","px;\n    height: ","px;\n  }\n"])),40,E,"var(--ds-border, rgba(223, 225, 229, 0.5))",(0,h.E0)(),40,E),S=(0,d.iv)(o||(o=(0,u.Z)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n"]))),C=function(e){return(0,d.iv)(i||(i=(0,u.Z)(["\n  white-space: initial;\n  color: ",";\n  .item-title {\n    line-height: 1.4;\n  }\n  .item-description {\n    font-size: ",";\n    color: ",";\n    margin-top: 3px;\n  }\n"])),(0,f.Z)({light:"var(--ds-text, ".concat(p.q2,")"),dark:"var(--ds-text, ".concat(p.ly,")")})(e),(0,m.Gh)(12),"var(--ds-text-subtlest, ".concat(p.iw,")"))},T=(0,d.iv)(a||(a=(0,u.Z)(["\n  flex: 0 0 auto;\n"]))),A=(0,d.iv)(c||(c=(0,u.Z)(["\n  overflow: hidden;\n  &:hover {\n    background-color: ",";\n  }\n  &:focus {\n    box-shadow: inset 0px 0px 0px 2px ",";\n    outline: none;\n  }\n"])),"var(--ds-background-selected, ".concat(p.gt,")"),"var(--ds-border-focused, ".concat(p.vP,")")),_={"& > button:focus":{boxShadow:"inset 0px 0px 0px 2px ".concat("var(--ds-border-focused, ".concat(p.vP,")")),outline:"none","&:active":{boxShadow:"none"}}},P=(0,d.iv)(s||(s=(0,u.Z)(["\n  background-color: ",";\n"])),"var(--ds-background-selected, ".concat(p.gt,")")),D=l.memo((function(e){e.label;return(0,d.tZ)(g.Z,null)})),Z=function(){},I=function(e){var t=e.title,n=e.description,r=e.shortcut,o=(0,w.Z)(),i=n?" ".concat(o.formatMessage(k.s.descriptionLabel)," ").concat(n,"."):"",a=r?" ".concat(o.formatMessage(k.s.shortcutLabel)," ").concat(r,"."):"";return(0,d.tZ)("span",{className:"assistive"},"".concat(t,". ").concat(i," ").concat(a))},L=function(e){var t=e.item,n=e.itemsLength,r=e.selectedIndex,o=e.onItemClick,i=e.itemIndex,a=e.ariaLabel,c=i===r||-1===r&&0===i,s=t.icon,u=t.title,p=t.render,f=(0,l.useMemo)((function(){return(0,d.tZ)("div",{css:O},s?s():(0,d.tZ)(D,{label:u}))}),[s,u]),h=(0,l.useCallback)((function(){o(b.P.SELECTED,i)}),[o,i]),m=l.createRef(),g=l.createRef(),w=r===i;(0,l.useLayoutEffect)((function(){var e;w&&(null==m||null===(e=m.current)||void 0===e||e.focus())}),[m,w]),(0,l.useLayoutEffect)((function(){var e;w&&(null==g||null===(e=g.current)||void 0===e||e.focus())}),[g,w]);var k=(0,l.useMemo)((function(){if(!p)return null;var e=p,t=[A,c&&P];return(0,d.tZ)("div",{"aria-selected":c,role:"option","aria-label":a,"aria-setsize":n,tabIndex:0,css:t,className:"ak-typeahead-item ".concat(c?"typeahead-selected-item":""),ref:m},(0,d.tZ)("div",{"aria-hidden":!0},(0,d.tZ)(e,{onClick:h,isSelected:!1,onHover:Z})))}),[p,c,a,n,m,h]);return k||(0,d.tZ)("span",{css:_},(0,d.tZ)(v.Z,{onClick:h,iconBefore:f,isSelected:c,"aria-selected":c,"aria-label":u,"aria-setsize":n,role:"option",ref:g},(0,d.tZ)("div",{"aria-hidden":!0},(0,d.tZ)("div",{css:C},(0,d.tZ)("div",{css:S},(0,d.tZ)("div",{className:"item-title"},t.title),(0,d.tZ)("div",{css:T},t.keyshortcut&&(0,d.tZ)("div",{css:y.d},t.keyshortcut))),(0,d.tZ)("div",{className:"item-description"},t.description))),(0,d.tZ)(I,{title:t.title,description:t.description,shortcut:t.keyshortcut})))}},31219:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=(0,n(63470).vU)({undo:{id:"fabric.editor.undo",defaultMessage:"Undo",description:"Undo the previously performed action."},redo:{id:"fabric.editor.redo",defaultMessage:"Redo",description:"Redo the previously undone action."}})},58054:(e,t,n)=>{"use strict";n.d(t,{g:()=>p,m:()=>u});var r,o=n(71171),i=n(28165),a=n(8357),c=n(67093),s=n(27452),u={BLOCK_CONTAINER:"unsupportedBlockView-content-wrap",INLINE_CONTAINER:"unsupportedInlineView-content-wrap"},l=".".concat(u.INLINE_CONTAINER," > span:nth-of-type(2)"),d=".".concat(u.BLOCK_CONTAINER," > div"),p=(0,i.iv)(r||(r=(0,o.Z)(["\n  ",", "," {\n    cursor: pointer;\n  }\n\n  .","",",\n    .",""," {\n    ","\n  }\n\n  .danger {\n    .","",",\n      .",""," {\n      border: ","px solid\n        ",";\n      background-color: ",";\n    }\n  }\n"])),d,l,a.ur,d,a.ur,l,(0,c.H)([s.a.Background,s.a.Border]),a.ur,d,a.ur,l,a.H5,"var(--ds-border-danger, ".concat(a.dY,")"),"var(--ds-blanket-danger, ".concat(a.Rt,")"))},99840:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,ux:()=>c});var r=n(56666),o=n(6131);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=new(n(16037).PluginKey)("widthPlugin");const s=function(){return{name:"width",pmPlugins:function(){return[{name:"width",plugin:function(e){return function(e){return new o.J({key:c,state:{init:function(){return{width:document.body.offsetWidth,containerWidth:document.body.offsetWidth}},apply:function(t,n){var r=t.getMeta(c);if(!r)return n;var o=a(a({},n),r);return o&&(n.width!==o.width||n.lineLength!==o.lineLength)||n.containerWidth!==o.containerWidth?(e(c,o),o):n}}})}(e.dispatch)}}]},contentComponent:function(e){var t,n=e.editorView,r=e.containerElement,o={lineLength:n.dom.clientWidth};r&&(o.width=r.offsetWidth,o.containerWidth=null===(t=r.parentElement)||void 0===t?void 0:t.offsetWidth);var i=n.state.tr.setMeta(c,o);return n.dispatch(i),null}}}},16827:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});var r=(0,n(63470).vU)({alignLeft:{id:"fabric.editor.alignLeft",defaultMessage:"Align left",description:"Action to align/justify text to the left"},alignCenter:{id:"fabric.editor.alignCenter",defaultMessage:"Align center",description:"Action to align/justify text to the center/middle"},alignRight:{id:"fabric.editor.alignRight",defaultMessage:"Align right",description:"Action to align/justify text to the right"}})},2274:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r});const r=n(4099).Z},59222:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r,o=n(71171),i=n(28165),a=n(79131),c=(0,i.iv)(r||(r=(0,o.Z)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 64px;\n"])));const s=function(){return(0,i.tZ)("div",{css:c},(0,i.tZ)(a.Z,{size:"small"}))}},50263:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(56666),o=n(7896),i=n(9249),a=n(87371),c=n(80753),s=n(45754),u=n(11987),l=n(95058),d=n(2784),p=n(54053),f=n(9937),h=n(4035),v=n(18202);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var g=function(e){(0,s.Z)(n,e);var t=m(n);function n(e){var o;return(0,i.Z)(this,n),o=t.call(this,e),(0,r.Z)((0,c.Z)(o),"handleRef",(function(e){o.setState({target:e||void 0})})),(0,r.Z)((0,c.Z)(o),"updatePopupPlacement",(function(e){o.setState({popupPlacement:e})})),(0,r.Z)((0,c.Z)(o),"handleCloseAndFocus",(function(e){var t,n;null===(t=o.state.target)||void 0===t||null===(n=t.querySelector("button"))||void 0===n||n.focus(),o.handleClose(e)})),(0,r.Z)((0,c.Z)(o),"handleClose",(function(e){o.props.onOpenChange&&o.props.onOpenChange({isOpen:!1,event:e})})),o.state={popupPlacement:["bottom","left"]},o}return(0,a.Z)(n,[{key:"renderDropdown",value:function(){var e=this.state,t=e.target,n=e.popupPlacement,r=this.props,i=r.children,a=r.mountTo,c=r.boundariesElement,s=r.scrollableElement,u=r.onOpenChange,l=r.fitHeight,p=r.fitWidth,m=r.zIndex,g=r.arrowKeyNavigationProviderOptions,y=r.dropdownListId;return d.createElement(h.Z,{target:t,mountTo:a,boundariesElement:c,scrollableElement:s,onPlacementChanged:this.updatePopupPlacement,fitHeight:l,fitWidth:p,zIndex:m},d.createElement(v.J,(0,o.Z)({},g,{closeOnTab:!0,handleClose:this.handleCloseAndFocus}),d.createElement("div",{style:{height:0,minWidth:p||0}},d.createElement(f.Z,{isOpen:!0,onOpenChange:u,position:n.join(" "),shouldFitContainer:!0,id:y},i))))}},{key:"render",value:function(){var e=this.props,t=e.trigger,n=e.isOpen;return d.createElement(d.Fragment,null,d.createElement("div",{ref:this.handleRef},t),n?this.renderDropdown():null)}}]),n}(d.PureComponent);const y=(0,p.Z)(g);var b=n(10762);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const E=d.memo((function(e){var t=(0,o.Z)({},e),n=(0,d.useContext)(b.Z);return d.createElement(y,(0,o.Z)({arrowKeyNavigationProviderOptions:k(k({},t.arrowKeyNavigationProviderOptions),{},{keyDownHandlerContext:n})},t))}))},32958:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m,_:()=>v});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058),s=n(56666),u=n(2784),l=n(13980),d=n.n(l),p=n(69626);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var h=u.createContext({}),v=function(){return u.useContext(h)},m=function(e){(0,i.Z)(n,e);var t=f(n);function n(e){var o;return(0,r.Z)(this,n),(o=t.call(this,e)).editorActions=e.editorActions||new p.Z,o}return(0,o.Z)(n,[{key:"getChildContext",value:function(){return{editorActions:this.editorActions}}},{key:"render",value:function(){return u.createElement(h.Provider,{value:this.getChildContext()},this.props.children)}}]),n}(u.Component);(0,s.Z)(m,"childContextTypes",{editorActions:d().object})},18895:(e,t,n)=>{"use strict";n.d(t,{Ah:()=>i,BZ:()=>f,Ig:()=>s,L1:()=>p,SS:()=>c,Ti:()=>h,VG:()=>u,ZR:()=>a,dl:()=>l,k:()=>r,nn:()=>d,uo:()=>o});var r=(0,n(84534).ww)(),o={small:40*r,medium:75*r,large:128*r},i={small:50*r,medium:o.medium,large:o.large},a="".concat(25*r,"px"),c="".concat(6*r,"px"),s="12px",u="54px",l="20px",d=15,p=2,f=16,h=75},76298:(e,t,n)=>{"use strict";n.d(t,{S:()=>f});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(19589);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var f=function(e){(0,a.Z)(n,e);var t=p(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"state",{errorCaptured:!1}),e}return(0,o.Z)(n,[{key:"hasFallback",value:function(){return void 0!==this.props.fallbackComponent}},{key:"shouldRecover",value:function(){return this.hasFallback()&&this.state.errorCaptured}},{key:"componentDidCatch",value:function(e,t){this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent({action:d.om.EDITOR_CRASHED,actionSubject:this.props.component,actionSubjectId:this.props.componentId,eventType:d.Ze.OPERATIONAL,attributes:{error:e,errorInfo:t,errorRethrown:!this.hasFallback()}}),this.hasFallback()&&this.setState({errorCaptured:!0})}},{key:"render",value:function(){return this.shouldRecover()?this.props.fallbackComponent:this.props.children}}]),n}(l.Component)},20183:(e,t,n)=>{"use strict";n.d(t,{J:()=>u,v:()=>l});var r,o,i=n(71171),a=n(28165),c=n(39151),s=n(8357),u=(0,a.iv)(r||(r=(0,i.Z)(["\n  input& {\n    background: transparent;\n    border: 0;\n    border-radius: 0;\n    box-sizing: content-box;\n    color: ",";\n    flex-grow: 1;\n    font-size: ",";\n    line-height: 20px;\n    padding: 0;\n    min-width: 145px;\n\n    /* Hides IE10+ built-in [x] clear input button */\n    &::-ms-clear {\n      display: none;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n    }\n  }\n"])),"var(--ds-text-subtle, ".concat(c.zN,")"),(0,s.Gh)(13),"var(--ds-text-subtlest, ".concat(c.Y8,")")),l=function(e){return(0,a.iv)(o||(o=(0,i.Z)(["\n  input& {\n    width: ","px;\n  }\n"])),e)}},56729:(e,t,n)=>{"use strict";n.d(t,{Nl:()=>_,SA:()=>D});var r=n(96234),o=n(9249),i=n(87371),a=n(80753),c=n(45754),s=n(11987),u=n(95058),l=n(56666),d=n(2784),p=n(28316),f=n(13980),h=n.n(f),v=n(46674),m=n(60652),g=n(19589),y=n(89274),b=n(83112),w=n(42571),k=n(84534),E=n(66330);function x(e){var t=e.children,n=e.mode,r=d.useMemo((function(){var e;return e={},(0,l.Z)(e,k.GV,{mode:n}),(0,l.Z)(e,"theme",(0,l.Z)({},k.GV,{mode:n})),e}),[n]),o=d.useCallback((function(){return{mode:n}}),[n]);return d.createElement(E.a,{theme:r},d.createElement(w.Z.Provider,{value:o},t))}var O,S=n(95847);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var T=function(e){(0,c.Z)(n,e);var t=C(n);function n(e,r,i,c){var s;return(0,o.Z)(this,n),s=t.call(this),(0,l.Z)((0,a.Z)(s),"portals",new Map),(0,l.Z)((0,a.Z)(s),"setContext",(function(e){s.context=e})),s.intl=e,s.onAnalyticsEvent=r,s.useAnalyticsContext=i,s.themeMode=c,s}return(0,i.Z)(n,[{key:"render",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.portals.set(t,{children:e,hasAnalyticsContext:n,hasIntlContext:r});var o=d.createElement(x,{mode:this.themeMode},e()),i=this.useAnalyticsContext?d.createElement(I,null,o):o;r&&(i=d.createElement(y.zt,{value:this.intl},i)),(0,p.unstable_renderSubtreeIntoContainer)(this.context,i,t)}},{key:"forceUpdate",value:function(e){var t=this,n=e.intl,r=e.themeMode;this.intl=n,this.themeMode=r,this.portals.forEach((function(e,n){if(e.hasAnalyticsContext||t.useAnalyticsContext||e.hasIntlContext){var o=e.children(),i=d.createElement(x,{mode:r},o);e.hasAnalyticsContext&&t.useAnalyticsContext&&(o=d.createElement(I,null,i)),e.hasIntlContext&&(o=d.createElement(y.zt,{value:t.intl},i)),(0,p.unstable_renderSubtreeIntoContainer)(t.context,o,n)}}))}},{key:"remove",value:function(e){this.portals.delete(e);try{(0,p.unmountComponentAtNode)(e)}catch(t){this.onAnalyticsEvent&&this.onAnalyticsEvent({payload:{action:g.om.FAILED_TO_UNMOUNT,actionSubject:g.Wt.EDITOR,actionSubjectId:g.VJ.REACT_NODE_VIEW,attributes:{error:t,domNodes:{container:e?e.className:void 0,child:e.firstElementChild?e.firstElementChild.className:void 0}},eventType:g.Ze.OPERATIONAL}})}}}]),n}(m.p),A=function(e){(0,c.Z)(n,e);var t=C(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).portalProviderAPI=new T(e.intl,e.onAnalyticsEvent,e.useAnalyticsContext,e.themeMode),r}return(0,i.Z)(n,[{key:"render",value:function(){return this.props.render(this.portalProviderAPI)}},{key:"componentDidUpdate",value:function(){this.portalProviderAPI.forceUpdate({intl:this.props.intl,themeMode:this.props.themeMode})}}]),n}(d.Component);(0,l.Z)(A,"displayName","PortalProvider");(0,y.ZP)(A);var _=function(e){var t=e.onAnalyticsEvent,n=e.useAnalyticsContext,r=e.render;return d.createElement(S.Z,null,d.createElement(P,{onAnalyticsEvent:t,useAnalyticsContext:n,render:r}))},P=function(e){var t=e.onAnalyticsEvent,n=e.useAnalyticsContext,r=e.render,o=(0,b.Z)(),i=(0,w.m)();return d.createElement(A,{intl:o,themeMode:i.mode,onAnalyticsEvent:t,useAnalyticsContext:n,render:r})},D=function(e){(0,c.Z)(n,e);var t=C(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e),(0,l.Z)((0,a.Z)(r),"handleUpdate",(function(e){return r.setState({portals:e})})),e.portalProviderAPI.setContext((0,a.Z)(r)),e.portalProviderAPI.on("update",r.handleUpdate),r.state={portals:new Map},r}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.state.portals;return d.createElement(d.Fragment,null,Array.from(e.entries()).map((function(e){var t=(0,r.Z)(e,2),n=t[0],o=t[1];return(0,p.createPortal)(o,n)})))}}]),n}(d.Component),Z={getAtlaskitAnalyticsContext:function(){},getAtlaskitAnalyticsEventHandlers:function(){}},I=(O=function(e){(0,c.Z)(n,e);var t=C(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=(this.context.contextAdapter.analytics||{value:Z}).value;return d.createElement(v.Z.Provider,{value:e},this.props.children)}}]),n}(d.Component),(0,l.Z)(O,"contextTypes",{contextAdapter:h().object}),O)},10762:(e,t,n)=>{"use strict";n.d(t,{U:()=>c,Z:()=>a});var r=n(28165),o=n(65195),i=n(2784),a=i.createContext({handleArrowLeft:function(){},handleArrowRight:function(){},handleTab:function(){}}),c=function(e){var t=e.children,n=e.editorView,c=e.childComponentSelector,u=e.handleEscape,l=e.disableArrowKeyNavigation,d=e.isShortcutToFocusToolbar,p=e.editorAppearance,f=e.useStickyToolbar,h=(0,i.useRef)(null),v=(0,i.useRef)(0),m=(0,i.useCallback)((function(e){var t=0;document.activeElement&&(t=((t=e.indexOf(document.activeElement))+1)%e.length),v.current=t}),[]),g=(0,i.useCallback)((function(e){var t=0;document.activeElement&&(t=e.indexOf(document.activeElement),t=(e.length+t-1)%e.length),v.current=t}),[]),y=function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(null==e||e.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})),e.focus()},b={handleArrowLeft:function(){var e,t=s(null==h?void 0:h.current);g(t),null===(e=t[v.current])||void 0===e||e.focus()},handleArrowRight:function(){var e,t=s(null==h?void 0:h.current);m(t),null===(e=t[v.current])||void 0===e||e.focus()},handleTab:function(){var e;null===(e=s(null==h?void 0:h.current)[v.current])||void 0===e||e.focus()}};return(0,i.useLayoutEffect)((function(){if(h.current&&!l){var e=h.current,t=function(e){var t,n,r,o=e.target;if(o.closest("".concat(c))&&!(null!==(t=document.querySelector('[data-role="droplistContent"], [data-test-id="color-picker-menu"], [data-emoji-picker-container="true"]'))&&void 0!==t&&t.contains(o)||null!==(n=document.querySelector('[data-test-id="color-picker-menu"]'))&&void 0!==n&&n.contains(o)||"ArrowUp"===e.key||"ArrowDown"===e.key||l||document.querySelector(".menu-key-handler-wrapper"))){var i=s(null==h?void 0:h.current);if(i&&0!==(null==i?void 0:i.length)){null!==(r=h.current)&&void 0!==r&&r.contains(o)?v.current=i.indexOf(o)>-1?i.indexOf(o):v.current:v.current=-1;var a=!("comment"===p&&f);switch(e.key){case"ArrowRight":m(i),y(i[v.current],a),e.preventDefault();break;case"ArrowLeft":g(i),y(i[v.current],a),e.preventDefault();break;case"Escape":u(e)}}}},r=function(e){if(d(e)){var t,n,r=s(null==h?void 0:h.current);null===(t=r[0])||void 0===t||t.focus(),null===(n=r[0])||void 0===n||n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}};null==e||e.addEventListener("keydown",t);var o=null==n?void 0:n.dom;return d&&(null==o||o.addEventListener("keydown",r)),function(){null==e||e.removeEventListener("keydown",t),d&&(null==o||o.removeEventListener("keydown",r))}}}),[v,h,n,l,u,c,m,g,d,p,f]),(0,r.tZ)("div",{css:"comment"===p&&o.IW,className:"custom-key-handler-wrapper",ref:h},(0,r.tZ)(a.Provider,{value:b},t))};function s(e){return function(e){if(!e)return[];var t=e.querySelectorAll('a[href], button:not([disabled]), textarea, input, select, div[tabindex="-1"], div[tabindex="0"]')||[];return Array.from(t)}(e).filter((function(e){return!(e.closest('[data-role="droplistContent"]')||e.closest('[data-emoji-picker-container="true"]')||e.closest('[data-test-id="color-picker-menu"]')||e.closest(".scroll-buttons"))}))}},81614:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(18886).Z},4852:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(13980),p=n.n(d);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var h=function(e){(0,a.Z)(n,e);var t=f(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"onContextUpdate",(function(){e.forceUpdate()})),e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.context.editorActions._privateSubscribe(this.onContextUpdate)}},{key:"componentWillUnmount",value:function(){this.context.editorActions._privateUnsubscribe(this.onContextUpdate)}},{key:"render",value:function(){return this.props.render(this.context.editorActions)}}]),n}(l.Component);(0,u.Z)(h,"contextTypes",{editorActions:p().object.isRequired})},672:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(83836).f},65195:(e,t,n)=>{"use strict";n.d(t,{EX:()=>b,IW:()=>S,NA:()=>g,SG:()=>k,Vm:()=>m,W$:()=>w,Yz:()=>x,cR:()=>O,cw:()=>E,wz:()=>y});var r,o,i,a,c,s,u,l,d,p,f=n(71171),h=n(28165),v=n(39151),m=(0,h.iv)(r||(r=(0,f.Z)(["\n  display: inline-flex;\n  align-items: center;\n\n  & > div {\n    display: flex;\n  }\n"]))),g=(0,h.iv)(o||(o=(0,f.Z)(["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n  user-select: none;\n"])),"var(--ds-border, ".concat(v.gt,")")),y=(0,h.iv)(i||(i=(0,f.Z)(["\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n\n  margin-left: 0;\n  min-width: auto;\n"]))),b=(0,h.iv)(a||(a=(0,f.Z)(["\n  margin-left: 4px;\n  min-width: 40px;\n"]))),w=(0,h.iv)(c||(c=(0,f.Z)(["\n  margin-left: -8px;\n"]))),k=(0,h.iv)(s||(s=(0,f.Z)(["\n  display: flex;\n"]))),E=(0,h.iv)(u||(u=(0,f.Z)(["\n  display: flex;\n  min-width: 80px;\n  align-items: center;\n  overflow: hidden;\n  justify-content: center;\n  flex-direction: column;\n  padding: 6px;\n"]))),x=(0,h.iv)(l||(l=(0,f.Z)(["\n  padding: 8px;\n"]))),O=(0,h.iv)(d||(d=(0,f.Z)(["\n  user-select: all;\n"]))),S=(0,h.iv)(p||(p=(0,f.Z)(["\n  display: flex;\n  width: 100%;\n  align-items: center;\n"])))},28796:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(54053).Z},58733:(e,t,n)=>{"use strict";n.d(t,{E3:()=>h,SB:()=>p,V$:()=>l});var r=n(86522),o=n(34795),i=n(16037),a=n(62800),c=n(25356),s=n(62416);function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,s,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function l(e){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.state&&a.u.getState(t.state))||!n.showContextPanel){e.next=4;break}return e.next=4,new Promise((function(e){(0,c.PT)(e)(t.state,t.dispatch)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=t.state&&s.S.getState(t.state))||!n.waitForMediaUpload){e.next=4;break}return e.next=4,n.waitForPendingTasks();case 4:return e.abrupt("return",t.state.doc);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return function(t,n){var r=t.tr,o=!1,a=function(e){var t=e.selection.toJSON();r.setSelection(i.Selection.fromJSON(r.doc,t)),e.steps.forEach((function(e){r.step(e)})),o=!0};return e.forEach((function(e){return e(t,a)})),!(!n||!o)&&(n(r),!0)}}},51062:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r,o=n(96234),i=n(2784),a=(0,i.forwardRef)((function(e,t){var n=e.ariaAtomic,a=void 0===n?"true":n,c=e.ariaLive,s=void 0===c?"polite":c,u=e.ariaRelevant,l=void 0===u?"all":u,d=e.role,p=void 0===d?"status":d,f=e.text,h=void 0===f?"":f,v=e.delay,m=void 0===v?0:v,g=(0,i.useState)(!1),y=(0,o.Z)(g,2),b=y[0],w=y[1];return(0,i.useEffect)((function(){return clearTimeout(r),w(!1),r=setTimeout((function(){w(!0)}),m),function(){return clearTimeout(r)}}),[h,m]),i.createElement("div",{className:"assistive",ref:t,role:p,"aria-atomic":a,"aria-relevant":l,"aria-live":s},b&&i.createElement("span",null,h))}));const c=(0,i.memo)(a)},14269:(e,t,n)=>{"use strict";function r(e,t,n){return e.filter((function(e){return-1===t.findIndex((function(t){return n?n(e,t):e===t}))}))}function o(e,t){return e.filter((function(e,n,r){return r.findIndex((function(n){return t?t(e,n):e===n}))===n}))}n.d(t,{U:()=>r,z:()=>o})},31446:(e,t,n)=>{"use strict";n.d(t,{Di:()=>l,ES:()=>y,O3:()=>g,Rd:()=>p,Ro:()=>b,UG:()=>k,fo:()=>h,hX:()=>u,kk:()=>f,sp:()=>E,w9:()=>m,wQ:()=>d,xi:()=>w});var r=n(96234),o=n(16037),i=n(90430),a=n(52640),c=n(92264),s=n(68982),u=function(e,t){return function(n,r,o){return Array.isArray(e)||(e=[e]),!e.some((function(e){return!e(n,o)}))&&(t(n,r,o)||!1)}},l=function(e){var t=e.selection,n=t.empty,r=t.$from;return n&&(0===r.parentOffset||e.selection instanceof c.WD)},d=function(e){var t=e.selection,n=t.empty,r=t.$from;return n&&(r.end()===r.pos||e.selection instanceof c.WD)},p=function(e){var t=e.selection.$from;return!(t.depth>1)||(e.selection instanceof c.WD&&0===t.parentOffset||0===t.index(t.depth-1))};function f(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}var h=function(e,t,n,r,o){var i=o.doc.type.schema.marks.code;return r.type===i&&(0,a.i)(e,t,o),o.doc.nodesBetween(o.mapping.map(e),o.mapping.map(t),(function(i,a){if(!i.isText)return!0;var c=Math.max(a,o.mapping.map(e)),s=Math.min(a+i.nodeSize,o.mapping.map(t));return n?o.removeMark(c,s,r):o.addMark(c,s,r),!0})),o},v=function(e,t,n,r){var o=!0;return t.nodesBetween(n,r,(function(t){if(!o)return!1;t.isText&&o&&(o=e.isInSet(t.marks))})),o},m=function(e,t){return function(n,r){var a=e.create(t);if(n.selection instanceof o.TextSelection&&n.selection.$cursor){var c=n.tr;return a.isInSet(n.storedMarks||n.selection.$cursor.marks())?c.removeStoredMark(a):c.addStoredMark(a),!!r&&(r(c),!0)}return function(e){return function(t,n){var r=t.tr;if(t.selection instanceof i.X){var o=!0,a=[];t.selection.forEachCell((function(n,r){a.push({node:n,pos:r});var i=r,c=r+n.nodeSize;o&&(o=v(e,t.doc,i,c))}));for(var c=a.length-1;c>=0;c--){var s=a[c],u=s.pos,l=u+s.node.nodeSize;h(u,l,o,e,r)}}else{var d=t.selection,p=d.$from,f=d.$to,m=v(e,t.doc,p.pos,f.pos);h(p.pos,f.pos,m,e,r)}return!!r.docChanged&&(n&&n(r),!0)}}(a)(n,r)}},g=function(e){return function(t,n,r){return e(t,(function(e){e.scrollIntoView(),n&&n(e)}),r)}},y=function(e){for(var t=e;t.pos<t.doc.nodeSize-2&&(t.pos===e.pos||t.parentOffset>0);)t=t.doc.resolve(t.pos+1);return{$pos:t,foundNode:t.pos<t.doc.nodeSize-2}},b=function(e){for(var t=e;t.pos>0&&(t.pos===e.pos||t.parentOffset<t.parent.nodeSize-2);)t=t.doc.resolve(t.pos-1);return{$pos:t,foundNode:t.pos>0}},w=function(e,t,n,i){n.forEach((function(t){var n=(0,r.Z)(t,2),o=n[0],i=n[1];e.insert(e.mapping.map(i),o)})),i.forEach((function(t){var n=(0,r.Z)(t,2),o=n[0],i=n[1];e.delete(e.mapping.map(o),e.mapping.map(i))})),e.setSelection(new o.TextSelection(t(e)))},k=function(e){return function(t,n){return n&&n(t.tr.setSelection(new o.NodeSelection(t.doc.resolve(e)))),!0}},E=function(e){return function(t,n,r){var o=t.selection,i=o.$from,a=i.pos,c=i.parent,u=o.$head,l=o.empty,d=t.tr,p=t.doc,f=y(u).$pos,h=p.nodeAt(f.pos-1);return!!(l&&h&&e(h)&&(0,s.bG)(c)&&null!=r&&r.endOfTextblock("right"))&&(d.deleteRange(a-1,a+1),n&&n(d),!0)}}},49904:(e,t,n)=>{"use strict";function r(e){var t,n,r,o={},i={},a=e.schema.nodes,c=[null===(t=a.extension)||void 0===t?void 0:t.name,null===(n=a.inlineExtension)||void 0===n?void 0:n.name,null===(r=a.bodiedExtension)||void 0===r?void 0:r.name];return e.doc.descendants((function(e){var t,n=e.type.name;n in o?o[n]++:o[n]=1;var r,a=n;c.includes(a)&&null!==(t=e.attrs)&&void 0!==t&&t.extensionType&&((a="".concat(e.attrs.extensionType," - ").concat(null===(r=e.attrs)||void 0===r?void 0:r.extensionKey))in i?i[a]++:i[a]=1);return!0})),{nodeCount:o,extensionNodeCount:i}}n.d(t,{u:()=>r})},49001:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r={nodes:{doc:"doc",paragraph:"p",text:"t",bulletList:"ul",orderedList:"ol",listItem:"li",heading:"h",blockquote:"blockq",codeBlock:"codebl",panel:"pnl",rule:"rl",hardBreak:"br",mention:"ment",emoji:"emj",image:"img",caption:"cap",media:"media",mediaGroup:"mediag",mediaSingle:"medias",plain:"pln",table:"table",tableCell:"td",tableHeader:"th",tableRow:"tr",decisionList:"dl",decisionItem:"di",taskList:"tl",taskItem:"ti",extension:"ext",inlineExtension:"exti",bodiedExtension:"extb",status:"sts",placeholder:"plh",inlineCard:"cardi",blockCard:"cardb",embedCard:"carde",expand:"exp",nestedExpand:"expn",unsupportedBlock:"unsupb",unsupportedInline:"unsupi",unknownBlock:"unkb",date:"date"},marks:{em:"em",strong:"strong",code:"code",strike:"strike",underline:"undline",link:"lnk",subsup:"subsup",textColor:"txtclr",unsupportedMark:"unsupmrk",unsupportedNodeAttribute:"unsupnattr",annotation:"anno"}};function o(e,t){var n=r[t?"marks":"nodes"][e];return n||e}function i(e){var t,n,r,a=!e.content,c="text"===(null==e?void 0:e.type),s=null===(t=e.marks)||void 0===t?void 0:t.length,u=Array.isArray(e.content);return c?n=String(e.nodeSize):a?n="":u&&(n=e.content.map((function(e){return i(e)})).join(",")),r="".concat(o(e.type,!1),"(").concat(n,")"),s?e.marks.reduce((function(e,t){return"".concat(o(t,!0),"(").concat(e,")")}),r):r}var a=function(e,t){try{var n=c(e,0);return null!=t&&t.compact?i(n):n}catch(e){return"Error logging document structure: ".concat(e)}},c=function(e,t){var n={type:e.type.name,pos:t,nodeSize:e.nodeSize},r=s(e.content,t);r.length>0&&(n.content=r);var o=l(e);return o.length>0&&(n.marks=o),n},s=function(e,t){if(!e||!e.content||!e.content.length)return[];var n=[],r=e.content;if(r[0].isBlock){var o;n=r.map((function(e){return t+=o?o.nodeSize:1,o=e,c(e,t)}))}else{var i=u(r,t);n=i.inlineNodes,t=i.pos}return n},u=function(e,t){return{inlineNodes:e.map((function(e){var n=e.nodeSize,r={type:e.type.name,pos:t,nodeSize:n},o=l(e);return o.length>0&&(r.marks=o),t+=n,r})),pos:t}},l=function(e){return e.marks.map((function(e){return e.type.name}))}},68982:(e,t,n)=>{"use strict";n.d(t,{yZ:()=>Q,yp:()=>oe,EK:()=>se,aZ:()=>ce,O3:()=>re,Fp:()=>K,RL:()=>J,bG:()=>q,VZ:()=>X,bR:()=>$,Lf:()=>ie,wt:()=>ae,Ps:()=>ee,wy:()=>te});var r=n(68079),o=n(75730),i=n(53657),a=n(56666),c=n(18499);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=!1;return{transformedAdf:(0,c.f)(e,{text:function(e){if(function(e){var t,n=null===(t=e.marks)||void 0===t?void 0:t.map((function(e){return e.type}));return(null==n?void 0:n.includes("link"))&&(null==n?void 0:n.includes("code"))}(e))return t=!0,function(e){return e.marks?u(u({},e),{},{marks:e.marks.filter((function(e){return"code"!==e.type}))}):e}(e)}}),isTransformed:t}};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=new Set(["strong","underline","textColor","link","em","subsup","strike"]),h=function(e){var t=!1,n=[],o=(0,c.f)(e,{text:function(e){if(function(e){var t,n,r=null===(t=e.marks)||void 0===t||null===(n=t.map((function(e){return e.type})))||void 0===n?void 0:n.filter((function(e){return f.has(e)||"annotation"===e}));return!(null==r||!r.length)&&new Set(r).size!==r.length}(e)){var o=function(e){var t=new Map,n=new Map,r=[];if(f.forEach((function(e){t.set(e,!1)})),!e.marks)return{discardedMarks:r};var o=e.marks.filter((function(e){var o=e.type;if("annotation"===o){var i,a=null===(i=e.attrs)||void 0===i?void 0:i.id;return n.has(a)?(r.push(e),!1):(n.set(a,!0),!0)}return!t.has(o)||(t.get(o)?(r.push(e),!1):(t.set(o,!0),!0))}));return{node:p(p({},e),{},{marks:o}),discardedMarks:r}}(e),i=o.discardedMarks;if(i.length)return n.push.apply(n,(0,r.Z)(i)),t=!0,o.node}}});return{transformedAdf:o,isTransformed:t,discardedMarks:n}},v=function(e){return{type:"text",text:e}};function m(e){return"string"==typeof e?v(e):e}var g=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"paragraph",content:(r=t,r.map(m))};var r},y=function(e){return{type:"listItem",content:e}},b=function(e){return{type:"tableRow",content:e}},w=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return{type:"tableCell",attrs:e,content:n}}},k=function(e){var t;return!(null!=e&&null!==(t=e.content)&&void 0!==t&&t.length)};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){return"tableCell"===e.type?[g()]:[]},S=function(e){return function(t){if(k(t))return e(),x(x({},t),{},{content:O(t)})}},C=function(e){return function(t){if(function(e){var t;return null===(t=e.content)||void 0===t?void 0:t.some((function(e){return"listItem"!==(null==e?void 0:e.type)}))}(t)||function(e){var t;return null===(t=e.content)||void 0===t?void 0:t.some((function(e){var t;return"listItem"===(null==e?void 0:e.type)&&!(null!==(t=e.content)&&void 0!==t&&t.length)}))}(t))return e(),x(x({},t),{},{content:(n=t,null===(r=n.content)||void 0===r?void 0:r.map((function(e){if(e)switch(e.type){case"listItem":return k(e)?y([g()]):e;case"text":return y([g(e)]);default:return y([e])}return e})))});var n,r}},T=function(e){return function(t){if(function(e){var t;return null==e||null===(t=e.content)||void 0===t?void 0:t.some((function(e){var t;return"tableRow"===(null==e?void 0:e.type)&&0===(null==e||null===(t=e.content)||void 0===t?void 0:t.length)}))}(t)||function(e){var t;return null===(t=e.content)||void 0===t?void 0:t.some((function(e){return"tableRow"!==(null==e?void 0:e.type)}))}(t))return e(),x(x({},t),{},{content:(n=t,a=1,null===(i=n.content)||void 0===i||i.forEach((function(e){var t;"tableRow"===(null==e?void 0:e.type)&&"number"==typeof(null===(t=e.content)||void 0===t?void 0:t.length)&&e.content.length>a&&(a=e.content.length)})),c=a,null===(o=n.content)||void 0===o?void 0:o.map((function(e){if(e)switch(e.type){case"text":return b([w({})(g(e))].concat((0,r.Z)(new Array(c-1).fill(w({})(g())))));case"tableCell":return b([e]);case"tableRow":return k(e)?b((0,r.Z)(new Array(c).fill(w({})(g())))):e;default:return e}return e})))});var n,o,i,a,c}},A=function(e){return function(t){if(k(t))return e(),!1}},_=function(e){var t=!1,n=function(){t=!0},r=(0,c.f)(e,{tableCell:S(n)});return{transformedAdf:r=(0,c.f)(r||e,{bulletList:C(n),orderedList:C(n),table:T(n),mediaSingle:A(n)}),isTransformed:t}};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){var t,n;return null!==(t=null===(n=e.content)||void 0===n?void 0:n.some((function(e){var t;return"heading"===(null==e?void 0:e.type)&&(null==e||null===(t=e.marks)||void 0===t?void 0:t.some((function(e){return"indentation"===e.type})))})))&&void 0!==t&&t},I=function(e){var t;return D(D({},e),{},{content:null===(t=e.content)||void 0===t?void 0:t.map((function(e){var t;return"heading"===(null==e?void 0:e.type)?D(D({},e),{},{marks:null===(t=e.marks)||void 0===t?void 0:t.filter((function(e){return"indentation"!==e.type}))}):e}))})},L=function(e){var t=!1;return{transformedAdf:(0,c.f)(e,{tableCell:function(e){if(Z(e))return t=!0,I(e)},tableHeader:function(e){if(Z(e))return t=!0,I(e)}}),isTransformed:t}};function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e,t){var n={};return e.forEach((function(e,r){null!=e&&e.type&&t.includes(e.type)&&(n[e.type]?n[e.type]++:n[e.type]=1)})),n},j=function(e,t,n){for(var r=10,o=N(t,[e])[e],i=t.findIndex(n);o>1&&i>-1&&r-- >0;)t.splice(i,1),i=t.findIndex(n),o=N(t,[e])[e]},F=function(e){var t=!1;return{transformedAdf:(0,c.f)(e,{mediaSingle:function(e){var n;if(null!=e&&null!==(n=e.content)&&void 0!==n&&n.length){var o=N(e.content,["media","caption"]);return Object.values(o).some((function(e){return e>1}))?(t=!0,function(e,t){if(e.content){var n=(0,r.Z)(e.content);return Object.keys(t).forEach((function(e){j(e,n,(function(t){return(null==t?void 0:t.type)===e&&k(t)})),j(e,n,(function(t){return(null==t?void 0:t.type)===e}))})),R(R({},e),{},{content:n})}}(e,o)):void 0}}}),isTransformed:t}},B=n(13278);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=n(98684),H=n(33249),W=function(e,t){var n=t&&t.isInSet(e.marks);return n?n.attrs.mode:e.attrs.layout},G=n(19589);function q(e){return!!e&&"paragraph"===e.type.name&&!e.childCount}function K(e){var t;if(e.isInline)return(t=e).isText?!!t.textContent.trim():"hardBreak"!==t.type.name;if(e.isBlock&&(e.isLeaf||e.isAtom))return!0;if(!e.childCount)return!1;for(var n=0;n<e.childCount;n++){var r=e.child(n);if(!["paragraph","text","hardBreak"].includes(r.type.name)||K(r))return!0}return!1}function $(e){if(e&&e.textContent)return!1;if(!e||!e.childCount||1===e.childCount&&q(e.firstChild))return!0;var t=[],n=[];return e.forEach((function(e){e.isInline?n.push(e):t.push(e)})),!n.length&&!t.filter((function(e){return!!e.childCount&&!(1===e.childCount&&q(e.firstChild))||e.isAtom})).length}function J(e){var t=e.content.firstChild;return!(1!==e.childCount||!t)&&q(t)}function Y(e){return 1===e.depth}function X(e){var t=e.selection,n=t.$cursor,r=t.$anchor;if(!n)return!1;var o=n.node();return!!o&&(q(o)&&Y(r))}function Q(e){var t=e.selection,n=t.$cursor,r=t.$anchor;if(!n)return!1;var o=n.nodeBefore;return!!o&&("text"===o.type.name&&"{"===o.text&&(0===r.node().marks.length&&Y(r)))}function ee(e,t,n,r,i,a){if(t){var c=t.map((function(t){return te(e,t,n,r,i,a)})).filter((function(e){return Boolean(e)}));if(0!==c.length)return o.Fragment.from(c)}}function te(e,t,n,r,a,c){if(t){var s,u;if("string"==typeof t)try{if(a)s=a.parse(t).toJSON();else s=JSON.parse(t)}catch(e){return void console.error("Error processing value: ".concat(t," isn't a valid JSON"))}else s=t;if(Array.isArray(s))console.error("Error processing value: ".concat(s," is an array, but it must be an object."));else try{if("doc"===s.type&&(Array.isArray(s.content)&&0===s.content.length&&s.content.push({type:"paragraph",content:[]}),s.version||(s.version=1)),a)return o.Node.fromJSON(e,s);var d=(0,i.e)(s),p=d.transformedAdf,f=d.isTransformed;f&&c&&c({action:G.om.MEDIA_LINK_TRANSFORMED,actionSubject:G.Wt.EDITOR,eventType:G.Ze.OPERATIONAL});var v=l(p);p=v.transformedAdf,(f=v.isTransformed)&&c&&c({action:G.om.TEXT_LINK_MARK_TRANSFORMED,actionSubject:G.Wt.EDITOR,eventType:G.Ze.OPERATIONAL});var m=[],g=h(p);p=g.transformedAdf,f=g.isTransformed,m=g.discardedMarks,f&&c&&c({action:G.om.DEDUPE_MARKS_TRANSFORMED_V2,actionSubject:G.Wt.EDITOR,eventType:G.Ze.OPERATIONAL,attributes:{discardedMarkTypes:m.map((function(e){return e.type}))}});var y=_(p);p=y.transformedAdf,(f=y.isTransformed)&&c&&c({action:G.om.NODES_MISSING_CONTENT_TRANSFORMED,actionSubject:G.Wt.EDITOR,eventType:G.Ze.OPERATIONAL});var b=L(p);p=b.transformedAdf,(f=b.isTransformed)&&c&&c({action:G.om.INDENTATION_MARKS_TRANSFORMED,actionSubject:G.Wt.EDITOR,eventType:G.Ze.OPERATIONAL});var w=F(p);p=w.transformedAdf,(f=w.isTransformed)&&c&&c({action:G.om.INVALID_MEDIA_CONTENT_TRANSFORMED,actionSubject:G.Wt.EDITOR,eventType:G.Ze.OPERATIONAL});var k=(0,V.gh)(e,p||s,c),E=ne(k,n,r),x=o.Node.fromJSON(e,E);try{x.check()}catch(e){throw c&&c({action:G.om.INVALID_PROSEMIRROR_DOCUMENT,actionSubject:G.Wt.EDITOR,eventType:G.Ze.OPERATIONAL,attributes:{errorStack:e instanceof Error?e.stack:String(e)}}),e}return c&&(0,H.cn)(x,e,c),x}catch(e){if(c&&c({action:G.om.DOCUMENT_PROCESSING_ERROR,actionSubject:G.Wt.EDITOR,eventType:G.Ze.OPERATIONAL,nonPrivacySafeAttributes:{errorStack:e instanceof Error?e.stack:String(e)}}),console.error("Error processing document:\n".concat(e instanceof Error?e.message:String(e),"\n\n"),JSON.stringify(s)),(u=e)instanceof RangeError&&(u.message.match(/^Invalid collection of marks for node/)||u.message.match(/^Invalid content for node/)))throw e;return}}}var ne=function(e,t,n){return n&&t?function(e,t){var n=new Map,r=!1,o=(0,c.f)(e,{mention:function(e){if(e.attrs&&e.attrs.text){r=!0;var t=e.attrs.text,o=t.startsWith("@")?t.slice(1):t;n.set(e.attrs.id,o)}return U(U({},e),{},{attrs:U(U({},e.attrs),{},{text:""})})}});r&&t&&t.subscribe("mentionProvider",(function e(r,o){o&&o.then((function(r){(0,B.bj)(r)&&(n.forEach((function(e,t){r.cacheMentionName(t,e)})),n.clear(),t.unsubscribe("mentionProvider",e))}))}));return o}(e,t):e},re=function(e){var t=-1,n=-1;return e.mapping.maps.forEach((function(r,o){r.forEach((function(r,i){var a=e.mapping.slice(o).map(r,-1),c=e.mapping.slice(o).map(i);t=a<t||-1===t?a:t,n=c>n||-1===n?c:n}))})),-1!==t?{from:t,to:n}:null},oe=function(e){return function(t){for(var n=null,r=t.depth;r>0;r--){var o=t.node(r);e(o)&&(n={pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:o})}return n}},ie=function(e){return e.selection.$to.parent.type===e.schema.nodes.paragraph&&e.selection.$to.pos===e.doc.resolve(e.selection.$to.pos).end()};function ae(e,t,n){var r=re(e);r&&e.doc.nodesBetween(r.from,r.to,t,n)}function ce(e){var t={};return e.nodesBetween(0,e.nodeSize-2,(function(e){t[e.type.name]=(t[e.type.name]||0)+1})),t}function se(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["wide","full-width"],o=new Set;if("doc"===e.type.name&&e.childCount)for(var i=0;i<e.childCount&&o.size!==n.length;++i){var a=W(e.child(i),t.marks.breakout);a&&n.includes(a)&&o.add(a)}return(0,r.Z)(o)}},79155:(e,t,n)=>{"use strict";n.d(t,{CS:()=>x,D8:()=>C,DL:()=>f,Jq:()=>m,KI:()=>w,KR:()=>g,Lp:()=>p,OH:()=>d,OL:()=>k,S4:()=>l,Sm:()=>P,_j:()=>u,au:()=>v,fi:()=>O,o:()=>E,qC:()=>T,sb:()=>b,u8:()=>y,uM:()=>S,wU:()=>_,zG:()=>A});n(19353);var r=n(16037),o=n(58526),i=n(41396),a=n(68982),c=n(85286),s=n(97816);function u(e){var t=e.selection;return!!(t instanceof r.NodeSelection&&(0,s.fP)(t.node))||(t instanceof r.TextSelection&&!t.empty||!(0,c.Km)(e))}function l(e){var t=e.selection;return!!(t instanceof r.NodeSelection&&(0,s.fP)(t.node))||(t instanceof r.TextSelection&&!t.empty||!(0,c.hX)(e))}function d(e){var t=e.$anchor.node(0),n=e.$anchor.node(1);return t.lastChild===n}function p(e){return e.$cursor||void 0}function f(e,t,n){var r=function(e,t){var n=["blockquote","bulletList","orderedList"];if(1===t.depth)return t;var r=t.node(t.depth),o=t;for(;t.depth>=1;)(r=(t=e.resolve(t.before(t.depth))).node(t.depth))&&-1!==n.indexOf(r.type.name)&&(o=t);return o}(t,e.$to).depth;if(0===r)return!1;var o=t.resolve(e.$to.after(r));return!!o.nodeAfter&&n(o.nodeAfter)}var h=new o.x;function v(e){return h.encode(e)}function m(e){return h.encodeNode(e)}function g(){var e=document.createElement("fakeelement"),t={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}function y(e){var t=function(e){var t=[];if(e.selection){var n=e.selection,r=n.$from,o=n.$to,i=e.schema.nodes,a=i.blockquote,c=i.panel,s=i.orderedList,u=i.bulletList,l=i.listItem,d=i.codeBlock,p=i.decisionItem,f=i.decisionList,h=i.taskItem,v=i.taskList;e.doc.nodesBetween(r.pos,o.pos,(function(e){e.isBlock&&[a,c,s,u,l,d,p,f,h,v].indexOf(e.type)>=0&&t.push(e.type)}))}return t}(e),n=e.schema.nodes.panel;return t.filter((function(e){return e!==n})).length>0}var b=function(e){return 0===e.indexOf("temporary:")},w=function(e){var t=e.nodes,n=t.doc,r=t.paragraph,o=t.codeBlock,i=t.blockquote,c=t.panel,s=t.heading,u=t.listItem,l=t.bulletList,d=t.orderedList,p=t.taskList,f=t.taskItem,h=t.decisionList,v=t.decisionItem,m=t.media,g=t.mediaGroup,y=t.mediaSingle;return function e(t){switch(t.type){case m:case g:case y:return!1;case r:case o:case s:case f:case v:return 0===t.content.size;case i:case c:case u:return 2===t.content.size&&e(t.content.firstChild);case l:case d:return 4===t.content.size&&e(t.content.firstChild);case p:case h:return 2===t.content.size&&e(t.content.firstChild);case n:var b=!0;return t.content.forEach((function(t){b=b&&e(t)})),b;default:return(0,a.bR)(t)}}},k=function(e){var t=e.schema.nodes,n=t.tableCell,r=t.tableHeader;return(0,i.bw)([n,r])(e.selection)},E=function(e){return(0,i.bw)(e.schema.nodes.layoutSection)(e.selection)},x=function(e){return(0,i.bw)(e.schema.nodes.listItem)(e.selection)},O=function(e){var t=e.schema.nodes.blockquote;return(0,i.bw)(t)(e.selection)};function S(e,t,n,r){var o=[];return e.nodesBetween(t,n,(function(e,t,n){r(e,t,n)&&o.push({node:e,pos:t})})),o}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new Set;return e.forEach((function(e){return n.add(t(e))})),e.filter((function(e){var r=t(e);return!!n.has(r)&&(n.delete(r),!0)}))}function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=[e].concat(n);return function(e){return o.reduceRight((function(e,t){return t(e)}),e)}}function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return t(e.apply(void 0,arguments))}}))}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.reduce((function(n,r){return n&&e[r]===t[r]}),!0)}function P(e,t){return e.reduce((function(e,n){return e+t(n)}),0)}},53270:(e,t,n)=>{"use strict";function r(e){return"full-page"===e||"full-width"===e}n.d(t,{R:()=>r})},75173:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});var r=n(6131),o=n(77156),i=n(16453);function a(e){return new r.J({props:{handleKeyDown:function(t,n){var r=(0,i.YG)(n),a=n;return n.ctrlKey&&1===r.length&&/[^\u0000-\u007f]/.test(r)&&(a=new KeyboardEvent("keydown",{key:i.ue[n.keyCode],code:n.code,ctrlKey:!0})),(0,o.$)(e)(t,a)}}})}},33701:(e,t,n)=>{"use strict";n.d(t,{b:()=>r,t:()=>o});var r=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===t.length)return[];var o=[],i=new Set(t);return r.includeDocNode&&i.has(null===(n=e.doc.attrs)||void 0===n?void 0:n.localId)&&o.push({node:e.doc,pos:0}),e.doc.descendants((function(e,t){var n;return i.has(null===(n=e.attrs)||void 0===n?void 0:n.localId)&&o.push({node:e,pos:t}),i.size!==o.length})),o},o=function(e,t){if(0===t.length)return[];var n=[],r=new Set(t);return e.doc.descendants((function(e,t){var o;return(null===(o=e.marks)||void 0===o?void 0:o.filter((function(e){return"fragment"===e.type.name})).map((function(e){var t;return null===(t=e.attrs)||void 0===t?void 0:t.localId})).filter((function(e){return e&&r.has(e)}))).length>0&&n.push({node:e,pos:t}),r.size!==n.length})),n}},6784:(e,t,n)=>{"use strict";n.d(t,{R:()=>s});var r=n(2784),o=n(54073),i=n.n(o),a=n(89832),c=n(19589);function s(e){var t=(0,r.useMemo)((function(){return i()(e.handleAnalyticsEvent,500)}),[e.handleAnalyticsEvent]);return(0,a.n)({onRender:function(n){var r=n.renderCount,o=n.propsDifference;r&&t({payload:{action:e.action,actionSubject:e.actionSubject,attributes:{count:r,propsDifference:o},eventType:c.Ze.OPERATIONAL}})},propsDiffingOptions:{enabled:!0,props:e.componentProps,propsToIgnore:e.propsToIgnore,useShallow:e.useShallow},zeroBasedCount:!0}),null}},25421:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r=function(e){return performance.now()-e}},39332:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={EDITOR_MOUNTED:"Editor Component Mount Time",PROSEMIRROR_RENDERED:"ProseMirror Render Time",PROSEMIRROR_CONTENT_RENDERED:"ProseMirror Content Render Time",ON_EDITOR_READY_CALLBACK:"onEditorReady Callback Duration",PASTE:"Editor Paste Plugin Paste Duration"}},46393:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(53341);const o=function(e){var t=(0,r.Z)(e),n=t.invokeSingle,o=t.invokeList;return{getExtensions:function(){return o("getExtensions")},getExtension:function(e,t){return n("getExtension",[e,t])},search:function(e){return o("search",[e])},getAutoConverter:function(){return o("getAutoConverter")}}};var i=n(12813);const a=function(e){return(0,i.Z)((function(t){return function(e,t){if(t)return o("function"==typeof t?t(e):t)}(e(),t)}))}},5870:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(86522),o=n(34795),i=n(2784),a=n(89028),c=n.n(a),s=n(8421),u=n(96767),l=n(53341),d=n(8639),p=n(19589);function f(){f=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function h(){}function v(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,r.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function h(e,t){t&&(0,d.Z)(t)({payload:{action:p.om.INSERTED,actionSubject:p.Wt.DOCUMENT,actionSubjectId:p.VJ.EXTENSION,attributes:{extensionType:e.extensionType,key:e.key,inputMethod:p.Jq.QUICK_INSERT},eventType:p.Ze.TRACK}})}function v(){return(v=(0,o.Z)(f().mark((function e(t,n,r){var o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getExtensions();case 2:return o=e.sent,e.abrupt("return",{getItems:function(){var e=(0,s.bU)(o,(function(e){var t=c()({loader:e.icon,loading:function(){return null}});return{title:e.title,description:e.description,icon:function(){return i.createElement(t,{label:""})},keywords:e.keywords,featured:e.featured,categories:e.categories,action:function(t){return"function"==typeof e.node?((0,u.B8)(e.node()).then((function(t){h(e,r),t&&n.replaceSelection(t)})),t("")):(h(e,r),t(e.node))}}}));return Promise.all(e)}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=(0,o.Z)(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,l.Z)(t),r=n.invokeList,e.abrupt("return",{getItems:function(){return r("getItems")}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,n,r){var o=n&&"boolean"!=typeof n&&n.provider,i=t&&function(e,t,n){return v.apply(this,arguments)}(t,e,r);return o&&i?function(e){return m.apply(this,arguments)}([o,i]):o||i}},85286:(e,t,n)=>{"use strict";n.d(t,{Km:()=>a,Mv:()=>u,UU:()=>c,hX:()=>i,kR:()=>s,oY:()=>l});var r=n(16037),o=n(92264);function i(e){var t=e.selection;return e.doc.nodeSize-t.$to.pos-2===t.$to.depth}function a(e){var t=e.selection;return t.$from.pos===t.$from.depth}function c(e){var t=e.selection,n=t.$to;return!(t instanceof o.WD)&&(!!(t instanceof r.NodeSelection&&t.node.isBlock)||l(n)===n.pos+1)}function s(e){var t=e.selection,n=t.$from;return!(t instanceof o.WD)&&(!!(t instanceof r.NodeSelection&&t.node.isBlock)||u(n)===n.pos)}function u(e){return e.start(e.depth)}function l(e){return e.end(e.depth)+1}},35986:(e,t,n)=>{"use strict";n.d(t,{iI:()=>u,tx:()=>d,vU:()=>l});var r=n(56666),o=n(90430),i=n(16037),a=n(92264);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){var r=e.state;e.dispatch(r.tr.setSelection(new a.WD(r.doc.resolve(t),n)))}var l=function(e,t){var n=e.selection,r=e.doc;if(n.$from.depth>1){if(t.attrs.layout&&"default"!==t.attrs.layout)return t.type.createChecked(s(s({},t.attrs),{},{layout:"default"}),t.content,t.marks);var o=r.type.schema.marks.breakout;if(o&&o.isInSet(t.marks)){var i=o.removeFromSet(t.marks);return t.type.createChecked(t.attrs,t.content,i)}}return t},d=function(e,t){return e instanceof i.NodeSelection?i.NodeSelection.create(t,e.from):e instanceof i.TextSelection?i.TextSelection.create(t,e.from,e.to):e instanceof a.WD?new a.WD(t.resolve(e.from),e.side):e instanceof o.X?new o.X(t.resolve(e.$anchorCell.pos),t.resolve(e.$headCell.pos)):void 0}},91094:(e,t,n)=>{"use strict";function r(e,t,n){if(!t.nodes.tableRow)return!1;for(var r=e.doc,o=e,i="before"===n?"nodeBefore":"nodeAfter";o.depth>0;){var a;if((null===(a=o[i])||void 0===a?void 0:a.type)===t.nodes.tableRow)return!0;o=r.resolve(o[n]())}return!1}n.d(t,{T:()=>r})},15574:(e,t,n)=>{"use strict";n.d(t,{g1:()=>i,i8:()=>o,u2:()=>r});var r="@atlaskit/editor-core",o="182.1.1",i=function(){return[Number(o.split(".")[0])+1,0,0].join(".")}},38850:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(68079),o=n(9249),i=n(87371),a=n(80753),c=n(45754),s=n(11987),u=n(95058),l=n(56666),d=n(2784),p=n(13980),f=n.n(p),h=n(46674);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var m={getAtlaskitAnalyticsContext:f().func,getAtlaskitAnalyticsEventHandlers:f().func},g=function(){return[]},y=function(e){(0,c.Z)(n,e);var t=v(n);function n(e){var i;return(0,o.Z)(this,n),i=t.call(this,e),(0,l.Z)((0,a.Z)(i),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:i.getAnalyticsContext}})),(0,l.Z)((0,a.Z)(i),"getAnalyticsContext",(function(){var e=i.props.data,t=i.context.getAtlaskitAnalyticsContext,n=void 0===t?g:t;return[].concat((0,r.Z)(n()),[e])})),(0,l.Z)((0,a.Z)(i),"getAnalyticsEventHandlers",(function(){var e=i.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?g:e)()})),i.contextValue={getAtlaskitAnalyticsContext:i.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:i.getAnalyticsEventHandlers},i}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props.children;return d.createElement(h.Z.Provider,{value:this.contextValue},e)}}]),n}(d.Component);(0,l.Z)(y,"contextTypes",m),(0,l.Z)(y,"childContextTypes",m);const b=y;var w=n(43875),k=n(73549);const E=function(e){var t=e.data,n=e.children,o=(0,k.V)(t),i=(0,w.O)(),a=(0,d.useCallback)((function(){return[].concat((0,r.Z)(i.getAtlaskitAnalyticsContext()),[o.current])}),[i,o]),c=(0,d.useMemo)((function(){return{getAtlaskitAnalyticsContext:a,getAtlaskitAnalyticsEventHandlers:i.getAtlaskitAnalyticsEventHandlers}}),[i,a]);return d.createElement(h.Z.Provider,{value:c},n)};var x,O=n(34406);const S=null!=O&&null!==(x=O.env)&&void 0!==x&&x.ANALYTICS_NEXT_MODERN_CONTEXT?E:b},9695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(68079),o=n(9249),i=n(87371),a=n(80753),c=n(93069),s=n(45754),u=n(11987),l=n(95058),d=n(56666),p=n(86522);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(){function e(t){var n=this;(0,o.Z)(this,e),(0,d.Z)(this,"_isAnalyticsEvent",!0),(0,d.Z)(this,"clone",(function(){return new e({payload:h({},n.payload)})})),this.payload=t.payload}return(0,i.Z)(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===(0,p.Z)(e)&&(this.payload=h(h({},this.payload),e)),this}}]),e}();function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var g=function(e){(0,s.Z)(n,e);var t=m(n);function n(e){var i;return(0,o.Z)(this,n),i=t.call(this,e),(0,d.Z)((0,a.Z)(i),"_isUIAnalyticsEvent",!0),(0,d.Z)((0,a.Z)(i),"clone",(function(){return i.hasFired?null:new n({context:(0,r.Z)(i.context),handlers:(0,r.Z)(i.handlers),payload:JSON.parse(JSON.stringify(i.payload))})})),(0,d.Z)((0,a.Z)(i),"fire",(function(e){i.hasFired||(i.handlers.forEach((function(t){return t((0,a.Z)(i),e)})),i.hasFired=!0)})),i.context=e.context||[],i.handlers=e.handlers||[],i.hasFired=!1,i}return(0,i.Z)(n,[{key:"update",value:function(e){return this.hasFired?this:(0,c.Z)((0,l.Z)(n.prototype),"update",this).call(this,e)}}]),n}(v)},63741:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7896),o=n(2784),i=n(17375),a=n(56666),c=n(86522);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=(0,o.forwardRef)((function(n,s){var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=(0,i._)().createAnalyticsEvent,r=(0,o.useRef)({}),s=(0,o.useMemo)((function(){var o=r.current;return Object.keys(o).filter((function(t){return!(t in e)})).forEach((function(e){return delete o[e]})),Object.keys(e).reduce((function(r,i){var s=e[i];if(!["object","function"].includes((0,c.Z)(s)))return r;var l=t[i];if(i in o&&o[i].eventCreator===s&&o[i].propValue===l)return u(u({},r),{},(0,a.Z)({},i,o[i].wrappedCallback));var d=function(){var e="function"==typeof s?s(n,t):n(s);if(l&&"function"==typeof l){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];l.apply(void 0,o.concat([e]))}};return o[i]={eventCreator:s,wrappedCallback:d,propValue:l},u(u({},r),{},(0,a.Z)({},i,d))}),{})}),[e,t,n,r]);return{patchedEventProps:s}}(e,n),d=l.patchedEventProps,p=(0,i._)().createAnalyticsEvent;return o.createElement(t,(0,r.Z)({},n,d,{createAnalyticsEvent:p,ref:s}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}},43875:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(2784),o=n(46674),i=function(){return(0,r.useContext)(o.Z)}},17375:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(31118),o=n(9695),i=n(43875);function a(){var e=(0,i.O)();return{createAnalyticsEvent:(0,r.vl)((function(t){return new o.Z({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}},37918:(e,t,n)=>{"use strict";n.d(t,{B:()=>s});var r=n(56666),o=n(2784),i=n(17375),a=n(73549);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){var t=e.fn,n=e.action,s=e.componentName,u=e.actionSubject,l=e.packageName,d=e.packageVersion,p=e.analyticsData,f=(0,i._)().createAnalyticsEvent,h=(0,a.V)(p),v=(0,a.V)(t),m=(0,o.useCallback)((function(e){var t=f({action:n,actionSubject:u||s,attributes:{componentName:s,packageName:l,packageVersion:d}}),o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({componentName:s,packageName:l,packageVersion:d},h.current);t.context.push(o);var i=t.clone();i&&i.fire("atlaskit"),v.current(e,t)}),[n,s,u,l,d,f,h,v]);return m}},73549:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(2784),o=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t}},61632:(e,t,n)=>{"use strict";n.d(t,{Z:()=>U});var r=n(56666),o=n(71171),i=n(2784),a=n(28165),c=n(17375),s=n(39151),u=n(96234),l=n(13775),d=n(75104),p=n(84534),f={xsmall:2*(0,p.ww)(),small:3*(0,p.ww)(),medium:4*(0,p.ww)(),large:5*(0,p.ww)(),xlarge:12*(0,p.ww)(),xxlarge:16*(0,p.ww)()},h={xsmall:2,small:2,medium:3,large:3,xlarge:6,xxlarge:12},v={small:12,medium:14,large:15,xlarge:18},m={small:0,medium:0,large:1,xlarge:7},g="var(--ds-icon-inverse, ".concat((0,s.Oq)(),")"),y="var(--ds-icon-subtle, ".concat(s.WA,")"),b=(0,a.iv)({display:"block",width:"100%",height:"100%",backgroundColor:y}),w=(0,a.iv)({display:"flex",width:"100%",height:"100%",flex:"1 1 100%"});const k=function(e){var t=e.alt,n=void 0===t?"":t,r=e.src,o=e.appearance,c=e.size,s=e.testId,p=(0,i.useState)(!1),v=(0,u.Z)(p,2),m=v[0],k=v[1],E="circle"===o?"50%":"".concat(h[c],"px");return(0,i.useEffect)((function(){k(!1)}),[r]),!r||m?(0,a.tZ)("span",{css:[b,{"& svg":{width:"".concat(f[c],"px"),height:"".concat(f[c],"px")}}]},"circle"===o?(0,a.tZ)(l.Z,{label:n,primaryColor:g,secondaryColor:y,testId:s&&"".concat(s,"--person")}):(0,a.tZ)(d.Z,{label:n,primaryColor:g,secondaryColor:y,testId:s&&"".concat(s,"--ship")})):(0,a.tZ)("img",{src:r,alt:n,"data-testid":s&&"".concat(s,"--image"),css:w,style:{borderRadius:E},onError:function(){return k(!0)}})};var E=(0,a.iv)({display:"flex",boxSizing:"border-box",width:"100%",height:"100%",alignItems:"center",alignContent:"center",borderRadius:"50%",overflow:"hidden"});const x=function(e){var t=e.bgColor,n=void 0===t?"var(--ds-surface-overlay, ".concat((0,s.Oq)(),")"):t,r=e.children,o=e.label;return(0,a.tZ)("span",{"aria-label":o||void 0,css:E,role:o?"img":"presentation",style:{border:"".concat(2,"px solid ").concat(n),backgroundColor:n}},r)};var O=i.createElement(i.Fragment,null,i.createElement("circle",{fill:"var(--ds-icon-danger, ".concat(s.rt,")"),cx:"4",cy:"4",r:"4"}),i.createElement("path",{fill:"var(--ds-surface-overlay, ".concat((0,s.Oq)(),")"),d:"M3.3,1.9l2.8,2.8c0.2,0.2,0.2,0.5,0,0.7L5.4,6.1c-0.2,0.2-0.5,0.2-0.7,0L1.9,3.3c-0.2-0.2-0.2-0.5,0-0.7l0.7-0.7C2.8,1.7,3.1,1.7,3.3,1.9z"})),S=i.createElement(i.Fragment,null,i.createElement("path",{fill:"var(--ds-icon-discovery, ".concat((0,s.jk)(),")"),d:"M4,8 C1.790861,8 0,6.209139 0,4 C0,1.790861 1.790861,0 4,0 C6.209139,0 8,1.790861 8,4 C8,6.209139 6.209139,8 4,8 Z M4,6.66666667 C5.47275933,6.66666667 6.66666667,5.47275933 6.66666667,4 C6.66666667,2.52724067 5.47275933,1.33333333 4,1.33333333 C2.52724067,1.33333333 1.33333333,2.52724067 1.33333333,4 C1.33333333,5.47275933 2.52724067,6.66666667 4,6.66666667 Z M4,5.33333333 C3.26362033,5.33333333 2.66666667,4.73637967 2.66666667,4 C2.66666667,3.26362033 3.26362033,2.66666667 4,2.66666667 C4.73637967,2.66666667 5.33333333,3.26362033 5.33333333,4 C5.33333333,4.73637967 4.73637967,5.33333333 4,5.33333333 Z"})),C=i.createElement(i.Fragment,null,i.createElement("path",{fill:"var(--ds-text-subtlest, ".concat(s.iw,")"),d:"M4,8 C6.209139,8 8,6.209139 8,4 C8,1.790861 6.209139,0 4,0 C1.790861,0 0,1.790861 0,4 C0,6.209139 1.790861,8 4,8 Z M4,6 C5.1045695,6 6,5.1045695 6,4 C6,2.8954305 5.1045695,2 4,2 C2.8954305,2 2,2.8954305 2,4 C2,5.1045695 2.8954305,6 4,6 Z"}),i.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(s.YS,")"),d:"M4,6 C5.1045695,6 6,5.1045695 6,4 C6,2.8954305 5.1045695,2 4,2 C2.8954305,2 2,2.8954305 2,4 C2,5.1045695 2.8954305,6 4,6 Z"})),T=i.createElement("circle",{fill:"var(--ds-icon-success, ".concat(s.eE,")"),cx:"4",cy:"4",r:"4"});var A=function(e){var t=e.borderColor,n=e.children,r=e.presence;return i.createElement(x,{bgColor:t,label:"string"==typeof r?r:void 0},r?i.createElement("svg",{"aria-hidden":"true",height:"100%",version:"1.1",viewBox:"0 0 8 8",width:"100%",xmlns:"http://www.w3.org/2000/svg"},function(e){switch(e){case"busy":return O;case"focus":return S;case"offline":return C;case"online":return T}}(r)):n)};var _=function(e){var t=e.size,n=e.appearance,r=e.children,o=e.borderColor,a=e.presence,c=e.testId,s="square"===n?-4:m[t];return i.createElement("span",{"aria-hidden":"true","data-testid":c&&"".concat(c,"--presence"),style:{pointerEvents:"none",position:"absolute",bottom:"".concat(s,"px"),height:"".concat(v[t],"px"),right:"".concat(s,"px"),width:"".concat(v[t],"px")}},i.createElement(A,{borderColor:o,presence:!r&&a},r))},P=i.createElement(i.Fragment,null,i.createElement("circle",{fill:"var(--ds-icon-success, ".concat(s.ak,")"),cx:"4",cy:"4",r:"4"}),i.createElement("path",{fill:"var(--ds-surface-overlay, ".concat((0,s.Oq)(),")"),d:"M2.47140452,3.52859548 C2.21105499,3.26824595 1.78894501,3.26824595 1.52859548,3.52859548 C1.26824595,3.78894501 1.26824595,4.21105499 1.52859548,4.47140452 L2.86192881,5.80473785 C3.12227834,6.06508738 3.54438833,6.06508738 3.80473785,5.80473785 L6.47140452,3.13807119 C6.73175405,2.87772166 6.73175405,2.45561167 6.47140452,2.19526215 C6.21105499,1.93491262 5.78894501,1.93491262 5.52859548,2.19526215 L3.33333333,4.39052429 L2.47140452,3.52859548 Z"})),D=i.createElement(i.Fragment,null,i.createElement("circle",{fill:"var(--ds-icon-danger, ".concat(s.$H,")"),cx:"4",cy:"4",r:"4"}),i.createElement("path",{fill:"var(--ds-surface-overlay, ".concat((0,s.Oq)(),")"),d:"M4.890661,4.0088336 L5.81806461,3.07802178 C6.06167933,2.83351177 6.06048933,2.43826992 5.81540668,2.19522442 C5.57032402,1.95217891 5.17415651,1.95336612 4.93054179,2.19787613 L4.00765946,3.12415007 L3.06906871,2.18377143 C2.82523777,1.93947602 2.42906937,1.93863765 2.18420182,2.18189887 C1.93933427,2.42516008 1.93849394,2.82040282 2.18232488,3.06469822 L3.12544091,4.00961077 L2.20275024,4.93569234 C1.95913552,5.18020236 1.96032551,5.5754442 2.20540817,5.81848971 C2.45049083,6.06153521 2.84665833,6.060348 3.09027306,5.81583799 L4.00844245,4.89429431 L4.9092123,5.79678001 C5.15304324,6.04107541 5.54921164,6.04191379 5.79407919,5.79865257 C6.03894674,5.55539135 6.03978708,5.16014862 5.79595614,4.91585321 L4.890661,4.0088336 Z"})),Z=i.createElement(i.Fragment,null,i.createElement("circle",{fill:"var(--ds-text-subtlest, ".concat(s.YS,")"),cx:"4",cy:"4",r:"4"}),i.createElement("path",{fill:"var(--ds-surface-overlay, ".concat(s.Mx,")"),d:"M4.13074827,1.21766493 L4.10368158,1.21766493 C3.36340745,1.21766493 2.76388015,1.80793503 2.76388015,2.5367787 L2.76388015,3.21632216 L3.44054754,3.21632216 L3.44054754,2.54344089 C3.44054754,2.17901906 3.74031119,1.88388401 4.11044825,1.88388401 L4.1239816,1.88388401 C4.49411866,1.88388401 4.79388232,2.17901906 4.79388232,2.54344089 L4.79388232,3.21632216 L5.47054971,3.21632216 L5.47054971,2.5367787 C5.47054971,1.80793503 4.8710224,1.21766493 4.13074827,1.21766493 M2.76388015,3.21632216 L3.44054754,3.21632216 L3.44054754,3.88254123 L2.76388015,3.88254123 L2.76388015,3.21632216 Z M4.79388232,3.21632216 L5.47054971,3.21632216 L5.47054971,3.88254123 L4.79388232,3.88254123 L4.79388232,3.21632216 Z M4.79401765,3.88254123 L3.44068287,3.88254123 L2.76401548,3.88254123 C2.39049508,3.88254123 2.08734809,4.18100738 2.08734809,4.54876031 L2.08734809,5.54808892 C2.08734809,6.10000287 2.53735205,6.54741753 3.09094491,6.54741753 L5.14375561,6.54741753 C5.69802683,6.54741753 6.14735243,6.10385072 6.14735243,5.54808892 L6.14735243,4.54876031 C6.14735243,4.18100738 5.84420544,3.88254123 5.47068504,3.88254123 L4.79401765,3.88254123 Z"}));var I=function(e){var t=e.borderColor,n=e.children,r=e.status;return i.createElement(x,{bgColor:t,label:"string"==typeof r?r:void 0},r?i.createElement("svg",{"aria-hidden":"true",height:"100%",version:"1.1",viewBox:"0 0 8 8",width:"100%",xmlns:"http://www.w3.org/2000/svg"},function(e){switch(e){case"approved":return P;case"declined":return D;case"locked":return Z}}(r)):n)};var L,M=function(e){var t=e.size,n=e.status,r=e.appearance,o=e.borderColor,a=e.children,c=e.testId,s="square"===r?0:m[t];return i.createElement("span",{"aria-hidden":"true","data-testid":c&&"".concat(c,"--status"),style:{position:"absolute",height:"".concat(v[t],"px"),right:"".concat(s,"px"),top:"".concat(s,"px"),width:"".concat(v[t],"px")}},i.createElement(I,{borderColor:o,status:!a&&n},a))};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j="@atlaskit/avatar",F="21.2.1",B=function(e,t){var n=t.size,r=t.radius,i=t.appearance,a=t.borderColor,c=void 0===a?"var(--ds-surface-overlay, ".concat(s.N0,")"):a,u=t.stackIndex,l=t.isInteractive,d=t.isDisabled;return e(L||(L=(0,o.Z)(["\n    height: ","px;\n    width: ","px;\n    align-items: stretch;\n    background-color: ",";\n    border-radius: ",";\n    box-sizing: content-box;\n    cursor: inherit;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    outline: none;\n    overflow: hidden;\n    position: static;\n    transform: translateZ(0);\n    transition: transform 200ms, opacity 200ms;\n    box-shadow: 0 0 0 ","px ",";\n    border: none;\n    margin: ",";\n    padding: ",";\n\n    /* Added font-size and font-family styles to fix alignment issue in firefox for interactive button avatar */\n    font-size: inherit;\n    font-family: inherit;\n\n    &::-moz-focus-inner {\n      border: 0;\n      margin: ",";\n      padding: ",";\n    }\n\n    &::after {\n      background-color: transparent;\n      inset: 0px;\n\n      /* Added border-radius style to fix hover issue in safari */\n      border-radius: ",";\n      content: ' ';\n      opacity: 0;\n      pointer-events: none;\n      position: absolute;\n      transition: opacity 200ms;\n      width: 100%;\n    }\n\n    ","\n\n    ","\n\n    ","\n  "])),n,n,c,"circle"===i?"50%":"".concat(r,"px"),2,c,"var(--ds-space-025, 2px)","var(--ds-space-0, 0px)","var(--ds-space-0, 0px)","var(--ds-space-0, 0px)","circle"===i?"50%":"".concat(r,"px"),u&&"position: relative;",l&&"\n      cursor: pointer;\n\n      :focus {\n        outline: none;\n        box-shadow: 0 0 0 ".concat(2,"px ","var(--ds-border-focused, ".concat(s.M5,")"),"\n      }\n\n      :hover {\n        &::after {\n          background-color: ","var(--ds-interaction-hovered, ".concat(s.lG,")"),";\n          opacity: 1;\n        }\n      }\n\n      :active {\n        &::after {\n          background-color: ","var(--ds-interaction-pressed, ".concat(s.lG,")"),";\n          opacity: 1;\n        }\n      }\n\n      :active {\n        transform: scale(").concat(.9,");\n      }\n\n      @media screen and (forced-colors: active) {\n        &:focus-visible {\n          outline: 1px solid\n        }\n      }\n    "),d&&"\n        cursor: not-allowed;\n\n        &::after {\n          opacity: ".concat("var(--ds-opacity-disabled, 0.7)",";\n          pointer-events: none;\n          background-color: ","var(--ds-surface, ".concat(s.N0,")"),";\n        }\n      "))},z=(0,i.forwardRef)((function(e,t){var n=e.analyticsContext,r=e.appearance,o=void 0===r?"circle":r,s=e.label,u=e.borderColor,l=e.children,d=e.href,p=e.isDisabled,v=e.name,m=e.onClick,g=e.presence,y=e.size,b=void 0===y?"medium":y,w=e.src,E=e.stackIndex,x=e.status,O=e.target,S=e.testId,C=(0,c._)().createAnalyticsEvent,T=(0,i.isValidElement)(g)?g:null,A=(0,i.isValidElement)(x)?x:null,P="xxlarge"!==b&&"xsmall"!==b,D=(0,i.useRef)(n);(0,i.useEffect)((function(){D.current=n}),[n]);var Z=(0,i.useCallback)((function(e){if(!p&&"function"==typeof m){var t=C({action:"clicked",actionSubject:"avatar",attributes:{componentName:"avatar",packageName:j,packageVersion:F}}),n=N({componentName:"avatar",packageName:j,packageVersion:F},D.current);t.context.push(n);var r=t.clone();r&&r.fire("atlaskit"),m(e,t)}}),[C,p,m]);return(0,a.tZ)("div",{"data-testid":S,style:{display:"inline-block",position:"relative",outline:0,zIndex:E}},(0,a.tZ)(a.ms,null,(function(e){var n=e.css,r=N(N(N(N({className:B(n,{size:f[b],radius:h[b],appearance:o,borderColor:u,stackIndex:E,isInteractive:Boolean(d||m)&&!p,isDisabled:p})},p?{disabled:!0}:N(N({},d&&function(e,t){return{href:e,rel:"_blank"===t?"noopener noreferrer":null,target:t}}(d,O)),m&&!d?function(e){return{type:"button",onClick:e}}(Z):{onClick:m})),S&&function(e,t){return t?{testId:"".concat(e,"--inner")}:{"data-testid":"".concat(e,"--inner")}}(S,l)),(m||d)&&{"aria-label":s}),{},{children:(0,a.tZ)(k,{alt:v,appearance:o,size:b,src:w,testId:S}),ref:t});return l?l(r):(0,i.createElement)(function(e,t,n){return t&&!e?"a":n||e?"button":"span"}(p,d,m),r)})),P&&g&&!x&&(0,a.tZ)(_,{appearance:o,size:b,presence:!T&&g,testId:S},T),P&&x&&(0,a.tZ)(M,{appearance:o,size:b,borderColor:u,status:!A&&x,testId:S},A))}));z.displayName="Avatar";const U=z},56925:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2784),o=n(28165),i=(0,o.iv)({display:"inline-flex",gap:"var(--ds-space-050, 4px)","> *":{flex:"1 0 auto"}});function a(e){var t=e.appearance,n=e.children;return(0,o.tZ)("div",{css:i},r.Children.map(r.Children.toArray(n),(function(e,n){return e?(0,o.tZ)(r.Fragment,{key:n},t?r.cloneElement(e,{appearance:t}):e):null})))}},24221:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(7896),o=n(96234),i=n(59740),a=n(2784),c=n(70520),s=n(42571),u=n(23408),l=n(73527),d=n(93205),p=["onMouseDown","onMouseUp"],f="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,h=a.memo(a.forwardRef((function(e,t){var n=e.onMouseDown,h=void 0===n?c.Z:n,v=e.onMouseUp,m=void 0===v?c.Z:v,g=(0,i.Z)(e,p),y=(0,s.m)().mode,b=g.appearance||"default",w=g.spacing||"default",k=Boolean(g.shouldFitContainer),E=Boolean(g.isSelected),x=(0,d.Z)(g),O=(0,a.useState)(!1),S=(0,o.Z)(O,2),C=S[0],T=S[1],A=(0,a.useCallback)((function(e){h(e),f&&T(!0)}),[h,T]),_=(0,a.useCallback)((function(e){m(e),f&&T(!1)}),[m,T]),P=(0,a.useMemo)((function(){return(0,l.gb)({appearance:b,spacing:w,mode:y,isSelected:E,shouldFitContainer:k,isOnlySingleIcon:x})}),[b,w,y,E,k,x]);return a.createElement(u.Z,(0,r.Z)({},g,{ref:t,buttonCss:P,"data-firefox-is-active":!!C||void 0,onMouseDown:A,onMouseUp:_}))})));h.displayName="Button";const v=h},95834:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(7896),o=n(96234),i=n(56666),a=n(59740),c=n(2784),s=n(42571),u=n(23408),l=n(93205),d=n(79131),p=["spacing"];function f(e){var t,n,r,o,i=e.spacing,s=void 0===i?"default":i,u=(0,a.Z)(e,p),l="default"===s?"medium":"small";return c.createElement(d.Z,{size:l,appearance:(t=u,n=t.appearance,r=t.isDisabled,o=t.isSelected,r?"inherit":o||"primary"===n||"danger"===n?"invert":"inherit")})}var h=n(89872),v=n(73527);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={focus:"&:focus",focusSelected:"&:focus",hover:"&:hover",active:"&:active",disabled:"&[disabled]"};function b(e){var t=e.appearance,n=void 0===t?"default":t,r=e.spacing,o=void 0===r?"default":r,i=e.mode,a=void 0===i?"light":i,c=e.isSelected,s=void 0!==c&&c,u=e.shouldFitContainer,l=void 0!==u&&u,d=e.iconIsOnlyChild,p=void 0!==d&&d,f=e.isLoading,h=void 0!==f&&f,m=e.state,b=(0,v.gb)({appearance:n,spacing:o,mode:a,isSelected:s,shouldFitContainer:l,isOnlySingleIcon:p});b.outline="none";var w=y[m];return w&&(b=g(g({},b),b[w])),h&&(b=g(g({},b),b['&[data-has-overlay="true"]'])),Object.keys(b).forEach((function(e){"&::-moz-focus-inner"!==e&&0===e.indexOf("&")&&delete b[e]})),b}function w(e,t){return e(t)}const k=(0,h.j)((function(e){return{buttonStyles:b(e),spinnerStyles:{}}}));var E=["appearance","autoFocus","isDisabled","isSelected","shouldFitContainer","spacing","isLoading","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","theme"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=e.isDisabled,n=void 0!==t&&t,r=e.isActive,o=void 0!==r&&r,i=e.isFocus,a=void 0!==i&&i,c=e.isHover,s=void 0!==c&&c,u=e.isSelected,l=void 0!==u&&u,d=e.isLoading,p=void 0!==d&&d;return n?"disabled":l&&a?"focusSelected":l?"selected":!p&&o?"active":!p&&s?"hover":a?"focus":"default"}var C={isHover:!1,isActive:!1,isFocus:!1},T=c.memo(c.forwardRef((function(e,t){var n=e.appearance,i=void 0===n?"default":n,d=e.autoFocus,p=void 0!==d&&d,h=e.isDisabled,v=void 0!==h&&h,m=e.isSelected,g=void 0!==m&&m,y=e.shouldFitContainer,b=void 0!==y&&y,x=e.spacing,T=void 0===x?"default":x,A=e.isLoading,_=void 0!==A&&A,P=e.onMouseEnter,D=e.onMouseLeave,Z=e.onMouseDown,I=e.onMouseUp,L=e.onFocus,M=e.onBlur,R=e.theme,N=void 0===R?w:R,j=O({appearance:i,autoFocus:p,isDisabled:v,isSelected:g,shouldFitContainer:b,spacing:T},(0,a.Z)(e,E)),F=(0,c.useState)(C),B=(0,o.Z)(F,2),z=B[0],U=B[1],V=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isHover:!0})})),P&&P(e)}),[P]),H=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isHover:!1,isActive:!1})})),D&&D(e)}),[D]),W=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isActive:!0})})),Z&&Z(e)}),[Z]),G=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isActive:!1})})),I&&I(e)}),[I]),q=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isFocus:!0})})),L&&L(e)}),[L]),K=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isFocus:!1})})),M&&M(e)}),[M]);return c.createElement(k.Provider,{value:N},c.createElement(s.Z.Consumer,null,(function(e){var n=e.mode;return c.createElement(k.Consumer,(0,r.Z)({mode:n,state:S(O(O({},z),{},{isLoading:_,isSelected:j.isSelected,isDisabled:j.isDisabled})),iconIsOnlyChild:(0,l.Z)(j),isLoading:_},j),(function(e){var n,o=e.buttonStyles;return c.createElement(u.Z,(0,r.Z)({},j,{ref:t,overlay:_?c.createElement(f,j):null,onMouseEnter:V,onMouseLeave:H,onMouseDown:W,onMouseUp:G,onFocus:q,onBlur:K,buttonCss:(n=o,{"&, &:hover, &:active, &:focus, &:focus-visible, &:visited, &:disabled, &[disabled]":n})}))}))})))})));T.displayName="CustomThemeButton";const A=T},23408:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(7896),o=n(59740),i=n(2784),a=n(28165),c=n(37918),s=n(70520),u=n(42494),l=n(98273),d=n(28),p=n(39151);function f(e){e.preventDefault(),e.stopPropagation()}function h(e){9!==e.keyCode&&f(e)}var v={onMouseDownCapture:f,onMouseUpCapture:f,onKeyDownCapture:h,onKeyUpCapture:h,onTouchStartCapture:f,onTouchEndCapture:f,onPointerDownCapture:f,onPointerUpCapture:f,onClickCapture:f,onClick:f},m={};var g=n(73527),y=["appearance","buttonCss","spacing","autoFocus","isDisabled","shouldFitContainer","isSelected","iconBefore","iconAfter","children","className","href","overlay","tabIndex","type","onMouseDown","onClick","component","testId","interactionName","analyticsContext"],b={"> *":{pointerEvents:"none"}};const w=i.forwardRef((function(e,t){var n=e.appearance,f=void 0===n?"default":n,h=e.buttonCss,w=e.spacing,k=void 0===w?"default":w,E=e.autoFocus,x=void 0!==E&&E,O=e.isDisabled,S=void 0!==O&&O,C=(e.shouldFitContainer,e.isSelected),T=void 0!==C&&C,A=e.iconBefore,_=e.iconAfter,P=e.children,D=e.className,Z=e.href,I=e.overlay,L=e.tabIndex,M=void 0===L?0:L,R=e.type,N=void 0===R?Z?void 0:"button":R,j=e.onMouseDown,F=void 0===j?s.Z:j,B=e.onClick,z=void 0===B?s.Z:B,U=e.component,V=void 0===U?Z?"a":"button":U,H=e.testId,W=e.interactionName,G=e.analyticsContext,q=(0,o.Z)(e,y),K=(0,i.useRef)(),$=(0,i.useCallback)((function(e){K.current=e,null!=t&&("function"!=typeof t?t.current=e:t(e))}),[K,t]);(0,u.Z)(K,x);var J=(0,i.useContext)(d.Z),Y=(0,i.useCallback)((function(e,t){J&&J.tracePress(W,e.timeStamp),z(e,t)}),[z,J,W]),X=(0,c.B)({fn:Y,action:"clicked",componentName:"button",packageName:"@atlaskit/button",packageVersion:"16.6.0",analyticsData:G}),Q=(0,i.useCallback)((function(e){e.preventDefault(),F(e)}),[F]);(0,i.useEffect)((function(){var e=K.current;S&&e&&e===document.activeElement&&e.blur()}),[S]);var ee=Boolean(I),te=(0,a.iv)((0,g.aX)({hasOverlay:ee})),ne=!S&&!ee,re={};return(T||S||"warning"===f)&&(re={"[data-theme] & circle":{stroke:"".concat(T||S?"var(--ds-icon-subtle, ".concat(p.Mx,")"):"var(--ds-icon-warning-inverse, ".concat(p.Mx,")")," !important")}}),(0,a.tZ)(l.Z,null,(0,a.tZ)(V,(0,r.Z)({},q,{css:[h,ne?null:b],className:D,ref:$,onClick:X,onMouseDown:Q,disabled:S,href:ne?Z:void 0,"data-has-overlay":!!ee||void 0,"data-testid":H,type:N,tabIndex:S?-1:M},{isInteractive:ne}.isInteractive?m:v),A?(0,a.tZ)("span",{css:[te,(0,g.CS)({spacing:k})]},A):null,P?(0,a.tZ)("span",{css:[te,(0,g.jn)({spacing:k})]},P):null,_?(0,a.tZ)("span",{css:[te,(0,g.CS)({spacing:k})]},_):null,I?(0,a.tZ)("span",{css:[g.fd,re]},I):null))}))},73527:(e,t,n)=>{"use strict";n.d(t,{jn:()=>O,gb:()=>E,aX:()=>S,CS:()=>x,fd:()=>C});var r=n(56666),o=n(28165),i=n(84534),a=n(39151),c="rgba(179, 212, 255, 0.6)";const s={background:{default:{default:{light:"var(--ds-background-neutral, ".concat(a.os,")"),dark:"var(--ds-background-neutral, ".concat(a.nA,")")},hover:{light:"var(--ds-background-neutral-hovered, ".concat(a.kd,")"),dark:"var(--ds-background-neutral-hovered, ".concat(a.mn,")")},active:{light:"var(--ds-background-neutral-pressed, ".concat(c,")"),dark:"var(--ds-background-neutral-pressed, ".concat(a.tE,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.os,")"),dark:"var(--ds-background-disabled, ".concat(a.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")}},primary:{default:{light:"var(--ds-background-brand-bold, ".concat(a.AX,")"),dark:"var(--ds-background-brand-bold, ".concat(a.vP,")")},hover:{light:"var(--ds-background-brand-bold-hovered, ".concat(a.M5,")"),dark:"var(--ds-background-brand-bold-hovered, ".concat(a.tE,")")},active:{light:"var(--ds-background-brand-bold-pressed, ".concat(a.YC,")"),dark:"var(--ds-background-brand-bold-pressed, ".concat(a.VY,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.os,")"),dark:"var(--ds-background-disabled, ".concat(a.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")}},warning:{default:{light:"var(--ds-background-warning-bold, ".concat(a.Z3,")"),dark:"var(--ds-background-warning-bold, ".concat(a.Z3,")")},hover:{light:"var(--ds-background-warning-bold-hovered, ".concat(a.cS,")"),dark:"var(--ds-background-warning-bold-hovered, ".concat(a.cS,")")},active:{light:"var(--ds-background-warning-bold-pressed, ".concat(a.jC,")"),dark:"var(--ds-background-warning-bold-pressed, ".concat(a.jC,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.os,")"),dark:"var(--ds-background-disabled, ".concat(a.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(a.jC,")"),dark:"var(--ds-background-selected, ".concat(a.jC,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.jC,")"),dark:"var(--ds-background-selected, ".concat(a.jC,")")}},danger:{default:{light:"var(--ds-background-danger-bold, ".concat(a.$H,")"),dark:"var(--ds-background-danger-bold, ".concat(a.$H,")")},hover:{light:"var(--ds-background-danger-bold-hovered, ".concat(a.rt,")"),dark:"var(--ds-background-danger-bold-hovered, ".concat(a.rt,")")},active:{light:"var(--ds-background-danger-bold-pressed, ".concat(a.gR,")"),dark:"var(--ds-background-danger-bold-pressed, ".concat(a.gR,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.os,")"),dark:"var(--ds-background-disabled, ".concat(a.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(a.gR,")"),dark:"var(--ds-background-selected, ".concat(a.gR,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.gR,")"),dark:"var(--ds-background-selected, ".concat(a.gR,")")}},link:{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.IR,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.IR,")")}},subtle:{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},hover:{light:"var(--ds-background-neutral-subtle-hovered, ".concat(a.kd,")"),dark:"var(--ds-background-neutral-subtle-hovered, ".concat(a.mn,")")},active:{light:"var(--ds-background-neutral-subtle-pressed, ".concat(c,")"),dark:"var(--ds-background-neutral-subtle-pressed, ".concat(a.tE,")")},disabled:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")}},"subtle-link":{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.IR,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.IR,")")}}},color:{default:{default:{light:"var(--ds-text, ".concat(a.Mx,")"),dark:"var(--ds-text, ".concat(a.oe,")")},active:{light:"var(--ds-text, ".concat(a.AX,")"),dark:"var(--ds-text, ".concat(a.AX,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")}},primary:{default:{light:"var(--ds-text-inverse, ".concat(a.N0,")"),dark:"var(--ds-text-inverse, ".concat(a.Dw,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")}},warning:{default:{light:"var(--ds-text-warning-inverse, ".concat(a.q2,")"),dark:"var(--ds-text-warning-inverse, ".concat(a.q2,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(a.q2,")"),dark:"var(--ds-text-selected, ".concat(a.q2,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.q2,")"),dark:"var(--ds-text-selected, ".concat(a.q2,")")}},danger:{default:{light:"var(--ds-text-inverse, ".concat(a.N0,")"),dark:"var(--ds-text-inverse, ".concat(a.N0,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(a.N0,")"),dark:"var(--ds-text-selected, ".concat(a.N0,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.N0,")"),dark:"var(--ds-text-selected, ".concat(a.N0,")")}},link:{default:{light:"var(--ds-link, ".concat(a.AX,")"),dark:"var(--ds-link, ".concat(a.vP,")")},hover:{light:"var(--ds-link, ".concat(a.M5,")"),dark:"var(--ds-link, ".concat(a.tE,")")},active:{light:"var(--ds-link-pressed, ".concat(a.YC,")"),dark:"var(--ds-link-pressed, ".concat(a.VY,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Sk,")")},selected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.TG,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.TG,")")}},subtle:{default:{light:"var(--ds-text, ".concat(a.Mx,")"),dark:"var(--ds-text, ".concat(a.oe,")")},active:{light:"var(--ds-text, ".concat(a.AX,")"),dark:"var(--ds-text, ".concat(a.AX,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Sk,")")},selected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")}},"subtle-link":{default:{light:"var(--ds-text-subtle, ".concat(a.iw,")"),dark:"var(--ds-text-subtle, ".concat(a.oe,")")},hover:{light:"var(--ds-text-subtle, ".concat(a.WA,")"),dark:"var(--ds-text-subtle, ".concat(a.BA,")")},active:{light:"var(--ds-text, ".concat(a.zN,")"),dark:"var(--ds-text, ".concat(a.Tx,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Sk,")")},selected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")}}}};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,i.E0)(),p=(0,i.ww)(),f=(0,i.JB)(),h={default:"".concat(4*p/f,"em"),compact:"".concat(3*p/f,"em"),none:"auto"},v={default:h.default,compact:h.compact,none:"inherit"},m={default:"0 ".concat(p+p/4,"px"),compact:"0 ".concat(p+p/4,"px"),none:"0"},g={compact:"0 ".concat(p/4,"px"),default:"0 ".concat(p/4,"px"),none:"0"},y={default:"middle",compact:"middle",none:"baseline"},b={content:"0 ".concat(p/4,"px"),icon:"0 ".concat(p/4,"px")};function w(e){var t=e.group,n=e.key,r=e.mode;return(t[n]||t.default)[r]}function k(e){var t=e.appearance,n=e.key,r=e.mode;return{background:w({group:s.background[t],key:n,mode:r}),color:"".concat(w({group:s.color[t],key:n,mode:r})," !important")}}function E(e){var t=e.appearance,n=e.spacing,r=e.mode,o=e.isSelected,i=e.shouldFitContainer,a=e.isOnlySingleIcon,c=k({appearance:t,key:o?"selected":"default",mode:r});return l(l({alignItems:"baseline",borderWidth:0,borderRadius:d,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontFamily:"inherit",fontWeight:500,maxWidth:"100%",position:"relative",textAlign:"center",textDecoration:"none",transition:"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",whiteSpace:"nowrap"},c),{},{cursor:"pointer",height:h[n],lineHeight:v[n],padding:a?g[n]:m[n],verticalAlign:y[n],width:i?"100%":"auto",justifyContent:"center","&:visited":l({},c),"&:hover":l(l({},k({appearance:t,key:o?"selected":"hover",mode:r})),{},{textDecoration:o||"link"!==t&&"subtle-link"!==t?"inherit":"underline",transitionDuration:"0s, 0.15s"}),"&:active":l(l({},k({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),'&[data-firefox-is-active="true"]':l(l({},k({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),"&[disabled]":l(l({},k({appearance:t,key:"disabled",mode:r})),{},{cursor:"not-allowed",textDecoration:"none"}),'&[data-has-overlay="true"]':{cursor:"default",textDecoration:"none"},'&[data-has-overlay="true"]:not([disabled]):hover, &[data-has-overlay="true"]:not([disabled]):active':l({},k({appearance:t,key:o?"selected":"default",mode:r})),"&::-moz-focus-inner":{border:0,margin:0,padding:0}})}function x(e){var t=e.spacing;return(0,o.iv)({display:"flex",margin:"none"===t?0:b.icon,flexGrow:0,flexShrink:0,alignSelf:"center",fontSize:0,lineHeight:0,userSelect:"none"})}function O(e){var t=e.spacing;return(0,o.iv)({margin:"none"===t?0:b.content,flexGrow:1,flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})}function S(e){var t=e.hasOverlay;return(0,o.iv)({opacity:t?0:1,transition:"opacity 0.3s"})}var C={position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"}},93205:(e,t,n)=>{"use strict";function r(e){var t=e.children,n=e.iconBefore,r=e.iconAfter;return!t&&(!(!n||r)||!(n||!r))}n.d(t,{Z:()=>r})},13278:(e,t,n)=>{"use strict";n.d(t,{bj:()=>r});n(87307),n(54073);var r=function(e){return!!(e&&e.supportsMentionNameResolving&&e.supportsMentionNameResolving())}},69557:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=(0,n(63470).vU)({unknownUserError:{id:"fabric.mention.unknow.user.error",defaultMessage:"Unknown user {userId}",description:"Mention user name could not be found or look up failed"},noAccessWarning:{id:"fabric.mention.noAccess.warning",defaultMessage:"{name} won't be notified as they have no access",description:"Warning message to show that the mentioned user won't be notified"},noAccessLabel:{id:"fabric.mention.noAccess.label",defaultMessage:"No access",description:"Label for no access icon"},defaultHeadline:{id:"fabric.mention.error.defaultHeadline",defaultMessage:"Something went wrong",description:"Error message shown when there is an error communicating with backend"},defaultAdvisedAction:{id:"fabric.mention.error.defaultAction",defaultMessage:"Try again in a few seconds",description:"Default advised action when an error occurs"},loginAgain:{id:"fabric.mention.error.loginAgain",defaultMessage:"Try logging out then in again",description:"Login again message when there is an authentication error occurs"},differentText:{id:"fabric.mention.error.differentText",defaultMessage:"Try entering different text",description:"Enter different text message when a forbidden error occurs"},memberCountWithoutYou:{id:"fabric.elements.mentions.team.member.count",defaultMessage:"Team • {0, plural, one {1 member} other {{0} members}}",description:"Byline to show the number of members in the team when the current user is not a member of the team"},memberCountWithYou:{id:"fabric.elements.mentions.team.member.count.including.you",defaultMessage:"Team • {0, plural, one {1 member} other {{0} members}}, including you",description:"Byline to show the number of members in the team when the current user is also a member of the team"},plus50MembersWithoutYou:{id:"fabric.elements.mentions.team.member.50plus",defaultMessage:"Team • 50+ members",description:"Byline to show the number of members in the team when the number exceeds 50"},plus50MembersWithYou:{id:"fabric.elements.mentions.team.member.50plus.including.you",defaultMessage:"Team • 50+ members, including you",description:"Byline to show the number of members in the team when the number exceeds 50 and also includes the current user"}})},91687:(e,t,n)=>{"use strict";n.d(t,{CT:()=>h,eA:()=>p,fW:()=>v,rW:()=>f});var r=n(86522),o=n(34795),i=n(7896),a=n(2784),c=n(83112),s=n(42670),u=n(69557);function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var d=function(e){return function(t){var n=t.values,r=t.children,o=(0,(0,c.Z)().formatMessage)(e,n);return"function"==typeof r?r(o):a.createElement(s.Z,(0,i.Z)({values:n},e))}},p=d(u.s.unknownUserError),f=d(u.s.noAccessWarning),h=d(u.s.noAccessLabel),v=(d(u.s.defaultHeadline),d(u.s.defaultAdvisedAction),d(u.s.loginAgain),d(u.s.differentText),function(){var e=(0,o.Z)(l().mark((function e(t){var r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="cs"===e.t0?3:"da"===e.t0?4:"de"===e.t0?5:"en"===e.t0?6:"en_GB"===e.t0?7:"es"===e.t0?8:"et"===e.t0?9:"fi"===e.t0?10:"fr"===e.t0?11:"hu"===e.t0?12:"is"===e.t0?13:"it"===e.t0?14:"ja"===e.t0?15:"ko"===e.t0?16:"nb"===e.t0?17:"nl"===e.t0?18:"pl"===e.t0?19:"pt_BR"===e.t0||"pt-BR"===e.t0?20:"pt_PT"===e.t0||"pt-PT"===e.t0?21:"ro"===e.t0?22:"ru"===e.t0?23:"sk"===e.t0?24:"sv"===e.t0?25:"th"===e.t0?26:"tr"===e.t0?27:"uk"===e.t0?28:"vi"===e.t0?29:"zh_TW"===e.t0?30:"zh"===e.t0?31:32;break;case 3:return e.abrupt("return",n.e(3744).then(n.bind(n,78804)).then((function(e){return e.default})));case 4:return e.abrupt("return",n.e(6180).then(n.bind(n,46737)).then((function(e){return e.default})));case 5:return e.abrupt("return",n.e(9150).then(n.bind(n,92513)).then((function(e){return e.default})));case 6:case 37:return e.abrupt("return",n.e(668).then(n.bind(n,15547)).then((function(e){return e.default})));case 7:return e.abrupt("return",n.e(7712).then(n.bind(n,89186)).then((function(e){return e.default})));case 8:return e.abrupt("return",n.e(7181).then(n.bind(n,93352)).then((function(e){return e.default})));case 9:return e.abrupt("return",n.e(2702).then(n.bind(n,99070)).then((function(e){return e.default})));case 10:return e.abrupt("return",n.e(6095).then(n.bind(n,20590)).then((function(e){return e.default})));case 11:return e.abrupt("return",n.e(7649).then(n.bind(n,7657)).then((function(e){return e.default})));case 12:return e.abrupt("return",n.e(7854).then(n.bind(n,66138)).then((function(e){return e.default})));case 13:return e.abrupt("return",n.e(2335).then(n.bind(n,11578)).then((function(e){return e.default})));case 14:return e.abrupt("return",n.e(2412).then(n.bind(n,98974)).then((function(e){return e.default})));case 15:return e.abrupt("return",n.e(1041).then(n.bind(n,99308)).then((function(e){return e.default})));case 16:return e.abrupt("return",n.e(6574).then(n.bind(n,47144)).then((function(e){return e.default})));case 17:return e.abrupt("return",n.e(5036).then(n.bind(n,87459)).then((function(e){return e.default})));case 18:return e.abrupt("return",n.e(8143).then(n.bind(n,42251)).then((function(e){return e.default})));case 19:return e.abrupt("return",n.e(2374).then(n.bind(n,25986)).then((function(e){return e.default})));case 20:return e.abrupt("return",n.e(945).then(n.bind(n,77293)).then((function(e){return e.default})));case 21:return e.abrupt("return",n.e(9930).then(n.bind(n,40515)).then((function(e){return e.default})));case 22:return e.abrupt("return",n.e(1481).then(n.bind(n,36889)).then((function(e){return e.default})));case 23:return e.abrupt("return",n.e(6358).then(n.bind(n,69887)).then((function(e){return e.default})));case 24:return e.abrupt("return",n.e(3280).then(n.bind(n,68468)).then((function(e){return e.default})));case 25:return e.abrupt("return",n.e(9629).then(n.bind(n,75590)).then((function(e){return e.default})));case 26:return e.abrupt("return",n.e(8496).then(n.bind(n,48239)).then((function(e){return e.default})));case 27:return e.abrupt("return",n.e(5692).then(n.bind(n,53600)).then((function(e){return e.default})));case 28:return e.abrupt("return",n.e(237).then(n.bind(n,45281)).then((function(e){return e.default})));case 29:return e.abrupt("return",n.e(4804).then(n.bind(n,75982)).then((function(e){return e.default})));case 30:return e.abrupt("return",n.e(6971).then(n.bind(n,10528)).then((function(e){return e.default})));case 31:return e.abrupt("return",n.e(656).then(n.bind(n,67540)).then((function(e){return e.default})));case 32:if(2!==(r=t.split(/[_-]/)).length){e.next=37;break}return e.abrupt("return",v(r[0]));case 38:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},37938:(e,t,n)=>{"use strict";n.d(t,{d:()=>i});var r=n(2784),o=n(70738),i=function(){var e=(0,r.useContext)(o.t);if(null==e)throw Error("@atlaskit/modal-dialog: Modal context unavailable – this component needs to be a child of ModalDialog.");return e}},42735:(e,t,n)=>{"use strict";n.d(t,{E0:()=>s,HV:()=>p,Kh:()=>d,Mq:()=>u,RC:()=>f,bf:()=>i,e2:()=>v,o3:()=>l,v5:()=>a,zP:()=>h});var r=n(39151),o=n(84534),i={values:["small","medium","large","x-large"],widths:{small:400,medium:600,large:800,"x-large":968},defaultValue:"medium"},a=60,c=(0,o.ww)(),s=(0,o.E0)(),u=2*c,l=3*c,d=c,p=2,f="var(--ds-border, ".concat(r.gt,")"),h="var(--ds-text, ".concat((0,r.fL)(),")"),v={danger:"var(--ds-icon-danger, ".concat(r.$H,")"),warning:"var(--ds-icon-warning, ".concat(r.jC,")")}},70738:(e,t,n)=>{"use strict";n.d(t,{$:()=>i,t:()=>o});var r=n(2784),o=(0,r.createContext)(null),i=(0,r.createContext)(null)},97592:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(2784),o=n(31790);const i=function(e){return r.createElement(o.Z,{appear:!0},e.children)}},38951:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$});var r=n(7896),o=n(2784),i=n(28165),a=n(80691),c=n(19233),s=n(37918),u=n(58285),l=n(70520),d=n(65146),p=n(68378),f=n(396),h=n(84534),v=n(96234),m=n(86522),g=n(63031),y=n(83908),b=n(42494),w=n(98273),k=n(39151),E=n(42735),x=n(70738);var O=function(e){if(!e)return"auto";var t=-1!==E.bf.values.indexOf(e.toString())&&e;return t?"".concat(E.bf.widths[t],"px"):"number"==typeof e?"".concat(e,"px"):e},S=n(10908),C=n(35675),T="calc(100vw - ".concat(2*E.v5,"px)"),A="calc(100vh - ".concat(2*E.v5-1,"px)"),_=(0,i.iv)({display:"flex",width:"100%",maxWidth:"100%",height:"100%",position:"fixed",zIndex:h.ug.modal(),top:0,left:0,flexDirection:"column"}),P=(0,i.iv)({height:"auto",position:"relative","@media (min-width: 480px)":{margin:"".concat(E.v5,"px auto"),pointerEvents:"none"}}),D=(0,i.iv)({"@media (min-width: 480px)":{maxWidth:T,maxHeight:A,marginRight:"auto",marginLeft:"auto",position:"absolute",top:"".concat(E.v5,"px"),right:0,left:0,pointerEvents:"none"}}),Z=(0,i.iv)({transitionDuration:"".concat(C.MH,"ms"),transitionProperty:"transform",transitionTimingFunction:S.mZ,"@media (prefers-reduced-motion: reduce)":{animation:"none",transition:"none"}}),I=(0,i.iv)({transform:"translateY(var(--modal-dialog-translate-y))"}),L=(0,i.iv)({transform:"none"});const M=function(e){var t=e.children,n=e.stackIndex,r=e.shouldScrollInViewport,o=e.testId;return(0,i.tZ)("div",{style:{"--modal-dialog-translate-y":"".concat(n*(E.Mq/2),"px")},css:[_,Z,n>0?I:L,r?P:D],"data-testid":o&&"".concat(o,"--positioner")},t)};var R=(0,i.iv)({display:"flex",width:"100%",maxWidth:"100vw",height:"100%",minHeight:0,maxHeight:"100vh",flex:"0 1 auto",flexDirection:"column",backgroundColor:"var(--ds-surface-overlay, ".concat(k.N0,")"),color:E.zP,pointerEvents:"auto","@media (min-width: 480px)":{width:"var(--modal-dialog-width)",maxWidth:"inherit",marginRight:"inherit",marginLeft:"inherit",borderRadius:E.E0,boxShadow:"var(--ds-shadow-overlay, ".concat("0 0 0 1px ".concat(k.kd,", 0 2px 1px ").concat(k.kd,", 0 0 20px -6px ").concat(k.VG),")")},"& > form:only-child":{display:"inherit",maxHeight:"inherit",flexDirection:"inherit"}}),N=(0,i.iv)({minHeight:"100vh",maxHeight:"none","@media (min-width: 480px)":{minHeight:"var(--modal-dialog-height)"}}),j=(0,i.iv)({"@media (min-width: 480px)":{height:"var(--modal-dialog-height)",maxHeight:"inherit"}});const F=function(e){var t=e.width,n=void 0===t?"medium":t,a=e.shouldScrollInViewport,c=void 0!==a&&a,s=e.autoFocus,u=e.stackIndex,l=e.onClose,d=e.onCloseComplete,f=e.onOpenComplete,h=e.height,k=e.children,E=e.testId,S=(0,g.D)(),C="modal-dialog-title-".concat(S);(0,b.Z)("object"===(0,m.Z)(s)?s:void 0,"object"===(0,m.Z)(s));var T=function(e){var t=e.onOpenComplete,n=e.onCloseComplete,r=(0,o.useRef)(null),i=(0,o.useCallback)((function(e){"entering"===e&&t&&t(r.current,!0),"exiting"===e&&n&&n(r.current)}),[t,n]);return[r,i]}({onOpenComplete:f,onCloseComplete:d}),A=(0,v.Z)(T,2),_=A[0],P=A[1],D=(0,o.useMemo)((function(){return{testId:E,titleId:C,onClose:l}}),[E,C,l]);return(0,i.tZ)(M,{stackIndex:u,shouldScrollInViewport:c,testId:E},(0,i.tZ)(x.t.Provider,{value:D},(0,i.tZ)(x.$.Provider,{value:c},(0,i.tZ)(p.ZP,{entranceDirection:"bottom",onFinish:P},(function(e){return(0,i.tZ)(w.Z,null,(0,i.tZ)("section",(0,r.Z)({},e,{ref:(0,y.Z)([e.ref,_]),style:{"--modal-dialog-width":O(n),"--modal-dialog-height":(t=h,t?"number"==typeof t?"".concat(t,"px"):t:"auto")},css:[R,c?N:j],role:"dialog","aria-labelledby":C,"data-testid":E,"data-modal-stack":u,tabIndex:-1,"aria-modal":!0}),k));var t})))))};var B=n(19652),z=n(78920),U=n(96943),V=n(31790),H=[];var W=n(31060);function G(){var e,t;return window.pageYOffset||(null===(e=document.documentElement)||void 0===e?void 0:e.scrollTop)||(null===(t=document.body)||void 0===t?void 0:t.scrollTop)||0}var q=(0,i.iv)({width:"100vw",height:"100vh",position:"fixed",top:0,left:0,overflowY:"auto",WebkitOverflowScrolling:"touch"}),K=function(e){return!e.hasAttribute("data-atlas-extension")};const $=function(e){var t=e.autoFocus,n=void 0===t||t,m=e.shouldCloseOnEscapePress,g=void 0===m||m,y=e.shouldCloseOnOverlayClick,b=void 0===y||y,w=e.shouldScrollInViewport,k=void 0!==w&&w,E=e.stackIndex,x=e.onClose,O=void 0===x?l.Z:x,S=e.onStackChange,C=void 0===S?l.Z:S,T=e.isBlanketHidden,A=e.children,_=e.height,P=e.width,D=e.onCloseComplete,Z=e.onOpenComplete,I=e.testId,L=function(e){var t=e.onStackChange,n=(0,V._)().isExiting,r=(0,U.Z)(0),i=(0,v.Z)(r,2),a=i[0],c=i[1],s=a.current,u=(0,z.Z)(a.current),l=(0,B.Z)((function(){var e=H.indexOf(l);a.current!==e&&(c(e),a.current=e)}));return(0,o.useEffect)((function(){var e=H.indexOf(l);n||-1!==e||H.unshift(l),n&&-1!==e&&H.splice(e,1),H.forEach((function(e){return e()}))}),[l,n]),(0,o.useEffect)((function(){return function(){var e=H.indexOf(l);-1!==e&&(H.splice(e,1),H.forEach((function(e){return e()})))}}),[l]),(0,o.useEffect)((function(){void 0!==u&&u!==s&&t(s)}),[t,u,s]),s}({onStackChange:C}),M=E||L,R=0===M,N="boolean"==typeof n&&n,j=(0,s.B)({fn:O,action:"closed",componentName:"modalDialog",packageName:"@atlaskit/modal-dialog",packageVersion:"12.4.12"}),$=(0,o.useCallback)((function(e){b&&j(e)}),[b,j]);!function(){var e=(0,o.useState)(0),t=(0,v.Z)(e,2),n=t[0],r=t[1];(0,o.useLayoutEffect)((function(){r(G())}),[]);var i=(0,o.useCallback)((function(){G()!==n&&window.scrollTo(window.pageXOffset,n)}),[n]);(0,o.useEffect)((function(){return(0,W.ak)(window,{type:"scroll",listener:i})}),[i])}(),(0,d.Z)({onClose:j,isDisabled:!g||!R});var J=(0,i.tZ)(u.Z,{isTinted:!T,onBlanketClicked:$,testId:I&&"".concat(I,"--blanket")},(0,i.tZ)(F,{testId:I,autoFocus:n,stackIndex:M,onClose:j,shouldScrollInViewport:k,height:_,width:P,onCloseComplete:D,onOpenComplete:Z},A));return(0,i.tZ)(f.Z,{zIndex:h.ug.modal()},(0,i.tZ)(p.ZP,null,(function(e){return(0,i.tZ)("div",(0,r.Z)({},e,{css:q,"aria-hidden":!R}),(0,i.tZ)(a.ZP,{autoFocus:N,disabled:!R,returnFocus:!0,whiteList:K},(0,i.tZ)(c.ZP,null),k?(0,i.tZ)(c.in,null,J):J))})))}},39151:(e,t,n)=>{"use strict";n.d(t,{$H:()=>u,AX:()=>S,BA:()=>w,Bn:()=>z,Dw:()=>ve,EZ:()=>de,H8:()=>he,H_:()=>re,IR:()=>M,J1:()=>_,M5:()=>O,M8:()=>m,Mx:()=>q,N0:()=>L,N_:()=>D,Nx:()=>ee,Oq:()=>ge,S5:()=>a,Sk:()=>le,TG:()=>K,Tx:()=>ue,VB:()=>b,VG:()=>te,VY:()=>x,Vi:()=>T,WA:()=>U,Wn:()=>A,Xd:()=>i,Y8:()=>V,YC:()=>C,YS:()=>N,Z3:()=>f,Zk:()=>c,ak:()=>y,ap:()=>ae,bt:()=>Q,cS:()=>p,eE:()=>g,fL:()=>ye,fR:()=>oe,gR:()=>l,gt:()=>R,hH:()=>W,hv:()=>Z,ii:()=>d,ip:()=>F,iw:()=>H,jC:()=>h,jk:()=>be,kd:()=>X,lG:()=>ne,ly:()=>ce,mn:()=>fe,n2:()=>B,nA:()=>pe,oe:()=>se,os:()=>Y,q2:()=>$,r6:()=>o,rt:()=>s,tE:()=>k,tu:()=>I,u7:()=>P,uv:()=>j,vP:()=>E,vs:()=>ie,xA:()=>J,xU:()=>me,zN:()=>G,zx:()=>v});var r=n(56734),o="#FFEBE6",i="#FFBDAD",a="#FF8F73",c="#FF7452",s="#FF5630",u="#DE350B",l="#BF2600",d="#FFE380",p="#FFC400",f="#FFAB00",h="#FF991F",v="#FF8B00",m="#79F2C0",g="#36B37E",y="#00875A",b="#006644",w="#DEEBFF",k="#B3D4FF",E="#4C9AFF",x="#2684FF",O="#0065FF",S="#0052CC",C="#0747A6",T="#998DD9",A="#6554C0",_="#403294",P="#E6FCFF",D="#79E2F2",Z="#00B8D9",I="#008DA6",L="#FFFFFF",M="#F4F5F7",R="#EBECF0",N="#DFE1E6",j="#C1C7D0",F="#B3BAC5",B="#A5ADBA",z="#97A0AF",U="#8993A4",V="#7A869A",H="#6B778C",W="#5E6C84",G="#505F79",q="#42526E",K="#253858",$="#172B4D",J="#091E42",Y="rgba(9, 30, 66, 0.04)",X="rgba(9, 30, 66, 0.08)",Q="rgba(9, 30, 66, 0.13)",ee="rgba(9, 30, 66, 0.25)",te="rgba(9, 30, 66, 0.31)",ne="rgba(9, 30, 66, 0.36)",re="rgba(9, 30, 66, 0.42)",oe="#E6EDFA",ie="#DCE5F5",ae="#CED9EB",ce="#B8C7E0",se="#9FB0CC",ue="#8C9CB8",le="#67758F",de="#455166",pe="#3B475C",fe="#313D52",he="#283447",ve="#1B2638",me="#0D1424",ge=(0,r.Z)({light:"var(--ds-surface, ".concat(L,")"),dark:"var(--ds-surface, ".concat(ve,")")}),ye=((0,r.Z)({light:"var(--ds-background-selected, ".concat(w,")"),dark:"var(--ds-background-selected, ".concat(k,")")}),(0,r.Z)({light:"var(--ds-background-neutral-hovered, ".concat(R,")"),dark:"var(--ds-background-neutral-hovered, ".concat(pe,")")}),(0,r.Z)({light:"var(--ds-surface-overlay, ".concat(L,")"),dark:"var(--ds-surface-overlay, ".concat(he,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(J,")"),dark:"var(--ds-text, ".concat(ce,")")})),be=((0,r.Z)({light:"var(--ds-text, ".concat($,")"),dark:"var(--ds-text, ".concat(ce,")")}),(0,r.Z)({light:"var(--ds-text-selected, ".concat(S,")"),dark:"var(--ds-text-selected, ".concat(S,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(H,")"),dark:"var(--ds-text-subtlest, ".concat(ue,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(V,")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),(0,r.Z)({light:"var(--ds-text, ".concat($,")"),dark:"var(--ds-text, ".concat(ce,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(H,")"),dark:"var(--ds-text-subtlest, ".concat(ue,")")}),(0,r.Z)({light:M,dark:he}),(0,r.Z)({light:"var(--ds-link, ".concat(S,")"),dark:"var(--ds-link, ".concat(E,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat(O,")"),dark:"var(--ds-link-pressed, ".concat(x,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat(C,")"),dark:"var(--ds-link-pressed, ".concat(E,")")}),(0,r.Z)({light:"var(--ds-border-focused, ".concat(E,")"),dark:"var(--ds-border-focused, ".concat(x,")")}),(0,r.Z)({light:"var(--ds-background-brand-bold, ".concat(S,")"),dark:"var(--ds-background-brand-bold, ".concat(E,")")}),(0,r.Z)({light:S,dark:E}),(0,r.Z)({light:Z,dark:"#00C7E6"}),(0,r.Z)({light:A,dark:T}));(0,r.Z)({light:s,dark:s}),(0,r.Z)({light:f,dark:f}),(0,r.Z)({light:g,dark:g})},42571:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,m:()=>a});var r=(0,n(89872).j)((function(){return{mode:"light"}})),o=r.Provider,i=r.Consumer,a=r.useTheme;const c={Provider:o,Consumer:i}},84534:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,GV:()=>r,I8:()=>l,JB:()=>s,MU:()=>o,_V:()=>u,oc:()=>i,ug:()=>d,ww:()=>c});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 8},s=function(){return 14},u=function(){return 11},l=function(){return"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"},d={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}},89872:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var r=n(59740),o=n(2784),i=["children"];function a(e){var t=function(e,t){return e(t)},n=(0,o.createContext)(e);function a(e){return((0,o.useContext)(n)||t)(e)}return{Consumer:function(e){var t=e.children,n=a((0,r.Z)(e,i));return o.createElement(o.Fragment,null,t(n))},Provider:function(e){var r=(0,o.useContext)(n),i=e.value||t,a=(0,o.useCallback)((function(e){return i(r,e)}),[r,i]);return o.createElement(n.Provider,{value:a},e.children)},useTheme:a}}},56734:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(84534);function o(e){if(e&&e.theme){if(r.GV in e.theme)return e.theme[r.GV];if("mode"in e.theme&&r.oc.includes(e.theme.mode))return e.theme}return{mode:r.MU}}function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}},12813:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(o=e[n],i=t[n],!(o===i||r(o)&&r(i)))return!1;var o,i;return!0}function i(e,t){void 0===t&&(t=o);var n=null;function r(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}},58526:(e,t,n)=>{"use strict";n.d(t,{x:()=>ne});var r=n(9249),o=n(87371),i=n(86522),a=n(59740),c=n(56666),s=n(18149),u=n.n(s),l=n(69824),d=n(61332),p=n(63053),f=n(99017),h=n(43726),v=n(19757),m=n(65635),g=n(76402),y=n(59629),b=n(89896),w={canOverrideUnsupportedMark:function(){return!0}},k={canOverrideUnsupportedMark:function(){return!1}},E=n(18499);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete t.marks,t}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){return(0,E.f)(e,{text:function(e){return e&&Array.isArray(e.marks)?C(C({},e),{},{marks:e.marks.filter((function(e){return"typeAheadQuery"!==e.type}))}):e},status:function(e){return!(!e.attrs||!e.attrs.text)&&O(e)},caption:function(e){return!!e.content&&e},emoji:O,mention:O,date:O,hardBreak:O,inlineCard:O})}function A(e){var t=function(e,t){if("object"!==(0,i.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==(0,i.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,i.Z)(t)?t:String(t)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){return e.FINAL="final",e.STAGE_0="stage0",e}({}),Z=function(e){return function(t){return t.type.name===e}},I=Z("codeBlock"),L=Z("media"),M=Z("mediaInline"),R=Z("mediaSingle"),N=Z("mention"),j=Z("paragraph"),F=Z("heading"),B=Z("table"),z=Z("tableCell"),U=Z("tableHeader"),V=Z("link"),H=Z("unsupportedMark"),W=Z("unsupportedNodeAttribute"),G=Z("expand"),q=Z("nestedExpand"),K=Z("dataConsumer"),$=Z("fragment"),J=function e(t){var n=P({},t);for(var r in n){var o=n[r];if(null===o){var c=n;c[r];n=(0,a.Z)(c,[r].map(A))}else"object"!==(0,i.Z)(o)||Array.isArray(o)||(n[r]=e(o))}return n},Y=function(e){return{version:1,type:"doc",content:e||[]}},X=Y([{type:"paragraph",content:[]}]),Q=function e(t){var n={type:t.type.name};if(function(e){return Z("unsupportedBlock")(e)||Z("unsupportedInline")(e)}(t))return t.attrs.originalValue;if(L(t)?n.attrs=(0,l.au)(t).attrs:R(t)?n.attrs=(0,d.au)(t).attrs:M(t)?n.attrs=(0,l.au)(t).attrs:N(t)?n.attrs=(0,p.au)(t).attrs:I(t)?n.attrs=(0,f.a)(t).attrs:B(t)?n.attrs=(0,h.oc)(t).attrs:z(t)?n.attrs=(0,h.pp)(t).attrs:U(t)?n.attrs=(0,h.Ae)(t).attrs:G(t)||q(t)?n.attrs=(0,v.a)(t).attrs:t.attrs&&Object.keys(t.attrs).length&&(n.attrs=t.attrs),n.attrs&&(n.attrs=J(n.attrs)),t.isText?n.text=t.textContent:t.content.forEach((function(t){n.content=n.content||[],n.content.push(e(t))})),(j(t)||F(t))&&(n.content=n.content||[]),t.marks.length){var r=t.marks.map((function(e){if(H(e))return ee(e,t.marks)?null:e.attrs.originalValue;if(W(e))return null;if(V(e))return(0,m.a)(e);if(K(e)){var n,r=(0,g.a)(e);return r.attrs.sources&&0!==(null===(n=r.attrs.sources)||void 0===n?void 0:n.length)?r:null}if($(e)){var o=(0,y.a)(e);return o.attrs.localId?o:null}return e.toJSON()})).filter((function(e){return null!==e}));n.marks=(null==r?void 0:r.length)>0?r:void 0;var o=t.marks.find(W);o&&o.attrs.type.nodeType===n.type&&(n.attrs=P({},te(t,o,n)))}return n},ee=function(e,t){return!!t.some((function(t){return e.attrs.originalValue.type===t.type.name}))&&function(e){switch(e){case"link":case"em":case"strong":case"strike":case"subsup":case"underline":case"code":case"textColor":case"confluenceInlineComment":case"breakout":case"alignment":case"indentation":return w;default:return k}}(e.attrs.originalValue.type).canOverrideUnsupportedMark()},te=function(e,t,n){var r=e.type.spec.attrs,o=P(P({},t.attrs.unsupported),n.attrs);for(var i in n.attrs)if(n.attrs.hasOwnProperty(i)){var a=r?r[i]:null;if(a&&a.default===e.attrs[i]&&t.attrs.unsupported[i])return P(P({},o),{},(0,c.Z)({},i,t.attrs.unsupported[i]))}return o},ne=function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,[{key:"encode",value:function(e){var t=[];return e.content.forEach((function(e){t.push(T(Q(e)))})),!t||u()(t,X.content)?Y([]):Y(t)}},{key:"internalParse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D.FINAL,n=(0,b.kp)(t).nodeFromJSON(e);return n.check(),n}},{key:"parse",value:function(e,t){if("doc"!==e.type)throw new Error("Expected content format to be ADF");return e.content&&0!==e.content.length?this.internalParse(e,t):this.internalParse(X,t)}},{key:"encodeNode",value:function(e){return T(Q(e))}}]),e}()},14413:(e,t,n)=>{"use strict";n.d(t,{ES:()=>i,c9:()=>a});var r,o=n(56666);function i(e){var t=c[e.toUpperCase()];return t?t.token:void 0}function a(e){var t=c[e.toUpperCase()];return t?t.tokenName:void 0}var c=(r={},(0,o.Z)(r,"#DEEBFF",{tokenName:"color.background.accent.blue.subtlest",token:"var(--ds-background-accent-blue-subtlest, #DEEBFF)"}),(0,o.Z)(r,"#B3D4FF",{tokenName:"color.background.accent.blue.subtler",token:"var(--ds-background-accent-blue-subtler, #B3D4FF)"}),(0,o.Z)(r,"#4C9AFF",{tokenName:"color.background.accent.blue.subtle",token:"var(--ds-background-accent-blue-subtle, #4C9AFF)"}),(0,o.Z)(r,"#E6FCFF",{tokenName:"color.background.accent.teal.subtlest",token:"var(--ds-background-accent-teal-subtlest, #E6FCFF)"}),(0,o.Z)(r,"#B3F5FF",{tokenName:"color.background.accent.teal.subtler",token:"var(--ds-background-accent-teal-subtler, #B3F5FF)"}),(0,o.Z)(r,"#79E2F2",{tokenName:"color.background.accent.teal.subtle",token:"var(--ds-background-accent-teal-subtle, #79E2F2)"}),(0,o.Z)(r,"#E3FCEF",{tokenName:"color.background.accent.green.subtlest",token:"var(--ds-background-accent-green-subtlest, #E3FCEF)"}),(0,o.Z)(r,"#ABF5D1",{tokenName:"color.background.accent.green.subtler",token:"var(--ds-background-accent-green-subtler, #ABF5D1)"}),(0,o.Z)(r,"#57D9A3",{tokenName:"color.background.accent.green.subtle",token:"var(--ds-background-accent-green-subtle, #57D9A3)"}),(0,o.Z)(r,"#FFFAE6",{tokenName:"color.background.accent.yellow.subtlest",token:"var(--ds-background-accent-yellow-subtlest, #FFFAE6)"}),(0,o.Z)(r,"#FFF0B3",{tokenName:"color.background.accent.yellow.subtler",token:"var(--ds-background-accent-yellow-subtler, #FFF0B3)"}),(0,o.Z)(r,"#FFC400",{tokenName:"color.background.accent.orange.subtle",token:"var(--ds-background-accent-orange-subtle, #FFC400)"}),(0,o.Z)(r,"#FFEBE6",{tokenName:"color.background.accent.red.subtlest",token:"var(--ds-background-accent-red-subtlest, #FFEBE6)"}),(0,o.Z)(r,"#FFBDAD",{tokenName:"color.background.accent.red.subtler",token:"var(--ds-background-accent-red-subtler, #FFBDAD)"}),(0,o.Z)(r,"#FF8F73",{tokenName:"color.background.accent.red.subtle",token:"var(--ds-background-accent-red-subtle, #FF8F73)"}),(0,o.Z)(r,"#EAE6FF",{tokenName:"color.background.accent.purple.subtlest",token:"var(--ds-background-accent-purple-subtlest, #EAE6FF)"}),(0,o.Z)(r,"#C0B6F2",{tokenName:"color.background.accent.purple.subtler",token:"var(--ds-background-accent-purple-subtler, #C0B6F2)"}),(0,o.Z)(r,"#998DD9",{tokenName:"color.background.accent.purple.subtle",token:"var(--ds-background-accent-purple-subtle, #998DD9)"}),(0,o.Z)(r,"#FFFFFF",{tokenName:"elevation.surface",token:"var(--ds-surface, #FFFFFF)"}),(0,o.Z)(r,"#F4F5F7",{tokenName:"color.background.accent.gray.subtlest",token:"var(--ds-background-accent-gray-subtlest, #F4F5F7)"}),(0,o.Z)(r,"#B3BAC5",{tokenName:"color.background.accent.gray.subtle",token:"var(--ds-background-accent-gray-subtle, #B3BAC5)"}),r);Object.keys(c).map((function(e){return c[e].tokenName}))},4322:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r,o=n(56666);function i(e){return a[e.toUpperCase()]}var a=(r={},(0,o.Z)(r,"#091E4224","var(--ds-border, #091E4224)"),(0,o.Z)(r,"#758195","var(--ds-border-bold, #758195)"),(0,o.Z)(r,"#172B4D","var(--ds-text, #172B4D)"),r)},10665:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r,o=n(56666);function i(e){return a[e.toUpperCase()]}var a=(r={},(0,o.Z)(r,"#B3D4FF","var(--ds-background-accent-blue-subtler, #B3D4FF)"),(0,o.Z)(r,"#4C9AFF","var(--ds-icon-accent-blue, #4C9AFF)"),(0,o.Z)(r,"#0747A6","var(--ds-text-accent-blue, #0747A6)"),(0,o.Z)(r,"#B3F5FF","var(--ds-background-accent-teal-subtler, #B3F5FF)"),(0,o.Z)(r,"#00B8D9","var(--ds-icon-accent-teal, #00B8D9)"),(0,o.Z)(r,"#008DA6","var(--ds-text-accent-teal, #008DA6)"),(0,o.Z)(r,"#ABF5D1","var(--ds-background-accent-green-subtler, #ABF5D1)"),(0,o.Z)(r,"#36B37E","var(--ds-icon-accent-green, #36B37E)"),(0,o.Z)(r,"#006644","var(--ds-text-accent-green, #006644)"),(0,o.Z)(r,"#FFF0B3","var(--ds-background-accent-yellow-subtler, #FFF0B3)"),(0,o.Z)(r,"#FFC400","var(--ds-background-accent-orange-subtle, #FFC400)"),(0,o.Z)(r,"#FF991F","var(--ds-icon-accent-orange, #FF991F)"),(0,o.Z)(r,"#FFBDAD","var(--ds-background-accent-red-subtler, #FFBDAD)"),(0,o.Z)(r,"#FF5630","var(--ds-icon-accent-red, #FF5630)"),(0,o.Z)(r,"#BF2600","var(--ds-text-accent-red, #BF2600)"),(0,o.Z)(r,"#EAE6FF","var(--ds-background-accent-purple-subtler, #EAE6FF)"),(0,o.Z)(r,"#6554C0","var(--ds-icon-accent-purple, #6554C0)"),(0,o.Z)(r,"#403294","var(--ds-text-accent-purple, #403294)"),(0,o.Z)(r,"#FFFFFF","var(--ds-text-inverse, #FFFFFF)"),(0,o.Z)(r,"#97A0AF","var(--ds-icon-accent-gray, #97A0AF)"),(0,o.Z)(r,"#172B4D","var(--ds-text, #172B4D)"),r)},18360:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>v,Kp:()=>f,Z4:()=>b,_6:()=>y,iZ:()=>m,jF:()=>h,yR:()=>g});var r=n(14409),o=n(52304),i=n(57740),a=n(84934),c=n(85269),s=n(79300),u=n(19009),l=n(53633),d=n(4840),p=function(e){return Array.from(Array(e).keys())},f=function(){return(0,c.fA)((function(e){var t=(0,u.k)(e.tr);if(!t.length)return!1;var n=(0,o.AG)(e.tr.selection);if(!n)return!1;var r=t.map((function(e){return{pos:e+n.start,start:e+n.start+1,node:n.node.nodeAt(e)}})),i=(0,l.F_)(r,"warning");return{type:"HOVER_CELLS",data:{decorationSet:(0,d.a)(e,i,s.fe.CELL_CONTROLS_HOVER)}}}),(function(e){return e.setMeta("addToHistory",!1)}))},h=function(e,t){return(0,c.fA)((function(n){var r=(0,i.y)(e)(n.tr.selection);if(!r)return!1;var o=(0,l.Tw)(r,"column",n.tr,t);return{type:"HOVER_COLUMNS",data:{decorationSet:(0,d.a)(n,o,s.fe.COLUMN_CONTROLS_HOVER),hoveredColumns:e,isInDanger:t}}}),(function(e){return e.setMeta("addToHistory",!1)}))},v=function(e,t){return(0,c.fA)((function(n){var r=(0,a.u)(e)(n.selection);if(!r)return!1;var o=(0,l.Tw)(r,"row",n.tr,t);return{type:"HOVER_ROWS",data:{decorationSet:(0,d.a)(n,o,s.fe.ROW_CONTROLS_HOVER),hoveredRows:e,isInDanger:t}}}),(function(e){return e.setMeta("addToHistory",!1)}))},m=function(e,t){return(0,c.fA)((function(n){var i=(0,o.AG)(n.selection);if(!i)return!1;var c=r.rU.get(i.node),u=p(c.width),f=p(c.height),h=(0,a.u)(f)(n.selection);if(!h)return!1;var v=(0,l.Tw)(h,"table",n.tr,e,t);return{type:"HOVER_TABLE",data:{decorationSet:(0,d.a)(n,v,s.fe.TABLE_CONTROLS_HOVER),hoveredColumns:u,hoveredRows:f,isInDanger:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))},g=function(){return(0,c.fA)((function(e){return{type:"CLEAR_HOVER_SELECTION",data:{decorationSet:(0,d.a)(e,[],s.fe.ALL_CONTROLS_HOVER),isInDanger:!1}}}))},y=function(e){return(0,c.fA)((function(t){return{type:"SHOW_RESIZE_HANDLE_LINE",data:{decorationSet:(0,d.a)(t,(0,l.a_)(t.selection,e),s.fe.COLUMN_RESIZING_HANDLE_LINE)}}}))},b=function(){return(0,c.fA)((function(e){return{type:"HIDE_RESIZE_HANDLE_LINE",data:{decorationSet:(0,d.a)(e,[],s.fe.COLUMN_RESIZING_HANDLE_LINE)}}}))}},26624:(e,t,n)=>{"use strict";n.d(t,{rx:()=>w,hP:()=>y,ux:()=>g});var r=n(6131),o=n(16037),i=n(90430),a=n(6565),c=n(37038),s=n(52304),u=n(79300),l=n(53633),d=n(56125),p=function(e){var t=e.decorationSet;return t.remove((0,l.I$)(t))},f=function(e){var t=e.decorationSet,n=e.tr;return function(e){return e.selection instanceof i.X&&e.selection.isColSelection()}(n)?(0,l.qQ)(n.doc,t,(0,l.Dh)(n),u.fe.COLUMN_SELECTED):t},h=function(e){var t=e.decorationSet,n=e.tr;return(0,s.AG)(n.selection)?(0,l.qQ)(n.doc,t,(0,l.tE)(n.selection),u.fe.COLUMN_CONTROLS_DECORATIONS):t},v=function(e){var t=e.decorationSet;return t.remove((0,l.ut)(t))},m=function(e){var t=e.decorationSet,n=e.tr;return function(e){return!!(0,l.ut)(e).length}(t)?v({decorationSet:t,tr:n}):t},g=new o.PluginKey("tableDecorationsPlugin"),y=function(e){return g.getState(e)},b=function(e,t,n){return e.docChanged||e.selection instanceof i.X?function(e){var t=e.decorationSet,n=e.tr;return(0,d.u)([v,p,f,h])({decorationSet:t,tr:n})}({decorationSet:t,tr:e}):e.selectionSet&&(!e.docChanged&&e.selectionSet&&e.getMeta("pointer")||n.selection instanceof i.X)?m({decorationSet:t,tr:e}):t},w=function(){return new r.J({state:{init:function(){return a.EH.empty},apply:function(e,t,n){var r=t,o=e.getMeta(c.u);return o&&o.data&&o.data.decorationSet&&(r=o.data.decorationSet),e.docChanged||e.selectionSet?(r=r.map(e.mapping,e.doc),b(e,r,n)):r}},key:g,props:{decorations:function(e){return y(e)}}})}},56125:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=function(e){return function(t){var n=t.decorationSet,r=t.tr;return e.reduce((function(e,t){return t({decorationSet:e,tr:r})}),n)}}},76841:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var r={hoveredColumns:[],hoveredRows:[]}},85269:(e,t,n)=>{"use strict";n.d(t,{fA:()=>_,Ln:()=>A,Lk:()=>P});var r=n(56666),o=n(72132),i=n(41396),a=n(52304),c=n(96234),s=n(30709),u=n(15989),l=n(76841),d=n(66516),p=n(76942),f=n(38505);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(e,t){var n=e.steps.find((function(e){return e instanceof p.l}));return n&&t&&t.pos===n.pos?n.next:void 0},g=function(e,t){if(!e.getMeta(d.u))return t},y=function(e){var t=e.tr,n=e.table;return function(e){if(!(n&&n.node))return v(v({},e),{},{targetCellPosition:void 0});var r=t.doc.type.schema.nodes,o=r.tableCell,a=r.tableHeader,c=(0,i.Tr)([o,a])(t.selection),s=c?c.pos:void 0;return e.targetCellPosition===s?e:v(v({},e),{},{targetCellPosition:s})}},b=function(e){var t=e.tr,n=e.table;return function(e){var r=n&&n.node;return!r||function(e){var t=(0,c.Z)(e.steps,1)[0];if(!(t&&t instanceof s.Pu))return!1;var n=t,r=n.slice.content,o=n.from,i=n.to,a=r.firstChild;return o===i&&1===r.childCount&&!!a&&!!a.text&&1===a.text.length}(t)?e:v(v(v({},e),l.a),{},{tableNode:r,ordering:m(t,n),resizeHandleColumnIndex:g(t,e.resizeHandleColumnIndex),isNumberColumnEnabled:(0,f.kf)(t.selection),isHeaderColumnEnabled:(0,f.Le)(t.selection),isHeaderRowEnabled:(0,f.R8)(t.selection)})}},w=function(e){var t=e.tr,n=e.table;return function(e){var r=n&&n.node,o=t.doc.type.schema,a=e.pluginConfig.allowCollapse,c=void 0!==o.nodes.expand,s=a&&c;if(!e.editorHasFocus||!s||!r)return e;var l=o.nodes.expand,d=l&&!!(0,i.Tr)(l)(t.selection),p=(0,u.C)(t).tableIsCollapsible,f=!!e.tableNode&&!d&&!!p;return e.isTableCollapsed!==d||e.canCollapseTable!==f?v(v({},e),{},{isTableCollapsed:d,canCollapseTable:f}):e}},k=function(e,t){return(n=[y,b,w],function(e){return function(t){return e.table?n.reduce((function(t,n){return n(e)(t)}),t):t.targetCellPosition?v(v({},t),{},{targetCellPosition:void 0}):t}})({tr:e,table:(0,a.AG)(e.selection)})(t);var n};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=n(37038);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=(0,o.H)(O.u,(function(e,t){switch(t.type){case"TOGGLE_HEADER_COLUMN":return x(x({},e),{},{isHeaderColumnEnabled:!e.isHeaderColumnEnabled});case"TOGGLE_HEADER_ROW":return x(x({},e),{},{isHeaderRowEnabled:!e.isHeaderRowEnabled});case"CLEAR_HOVER_SELECTION":return x(x(x({},e),t.data),l.a);case"SELECT_COLUMN":case"SET_TARGET_CELL_POSITION":return x(x(x({},e),t.data),{},{isContextualMenuOpen:!1});case"SET_TABLE_LAYOUT":case"SET_TABLE_REF":case"HOVER_ROWS":case"HOVER_COLUMNS":case"HOVER_TABLE":case"HOVER_CELLS":case"SHOW_RESIZE_HANDLE_LINE":case"SET_EDITOR_FOCUS":return x(x({},e),t.data);case"TOGGLE_CONTEXTUAL_MENU":return x(x({},e),{},{isContextualMenuOpen:!e.isContextualMenuOpen});case"SHOW_INSERT_ROW_BUTTON":return t.data.insertRowButtonIndex===e.insertRowButtonIndex?e:x(x(x({},e),t.data),{},{insertColumnButtonIndex:void 0});case"SHOW_INSERT_COLUMN_BUTTON":return t.data.insertColumnButtonIndex===e.insertColumnButtonIndex?e:x(x(x({},e),t.data),{},{insertRowButtonIndex:void 0});case"HIDE_INSERT_COLUMN_OR_ROW_BUTTON":return void 0!==e.insertRowButtonIndex||void 0!==e.insertColumnButtonIndex?x(x({},e),{},{insertRowButtonIndex:void 0,insertColumnButtonIndex:void 0}):e;case"HIDE_RESIZE_HANDLE_LINE":return x(x(x({},e),t.data),{},{resizeHandleColumnIndex:void 0,resizeHandleRowIndex:void 0});case"ADD_RESIZE_HANDLE_DECORATIONS":return t.data.resizeHandleColumnIndex===e.resizeHandleColumnIndex&&t.data.resizeHandleRowIndex===e.resizeHandleRowIndex?e:x(x({},e),t.data);default:return e}}),{mapping:function(e,t){if(e.docChanged){var n={};if(t.targetCellPosition){var r=e.mapping.mapResult(t.targetCellPosition),o=r.pos;n={targetCellPosition:r.deleted?void 0:o}}var i={};if(t.tablePos){var a=e.mapping.mapResult(t.tablePos,-1),c=a.pos;i={tablePos:a.deleted?void 0:c}}return C(C(C({},t),n),i)}return t},onDocChanged:k,onSelectionChanged:k}),A=T.createPluginState,_=T.createCommand,P=T.getPluginState},37038:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=new(n(16037).PluginKey)("tablePlugin")},66516:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});var r=new(n(16037).PluginKey)("tableFlexiColumnResizing")},79300:(e,t,n)=>{"use strict";n.d(t,{CF:()=>d,fe:()=>s,lO:()=>l,rR:()=>u});var r=n(56666),o=n(43726),i=n(44683);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s,u=30;!function(e){e.ALL_CONTROLS_HOVER="CONTROLS_HOVER",e.ROW_CONTROLS_HOVER="ROW_CONTROLS_HOVER",e.COLUMN_CONTROLS_HOVER="COLUMN_CONTROLS_HOVER",e.TABLE_CONTROLS_HOVER="TABLE_CONTROLS_HOVER",e.CELL_CONTROLS_HOVER="CELL_CONTROLS_HOVER",e.COLUMN_CONTROLS_DECORATIONS="COLUMN_CONTROLS_DECORATIONS",e.COLUMN_SELECTED="COLUMN_SELECTED",e.COLUMN_RESIZING_HANDLE="COLUMN_RESIZING_HANDLE",e.COLUMN_RESIZING_HANDLE_LINE="COLUMN_RESIZING_HANDLE_LINE",e.LAST_CELL_ELEMENT="LAST_CELL_ELEMENT"}(s||(s={}));var l,d=c(c({},i.Up),{},{COLUMN_CONTROLS:"".concat(o.Yf,"-column-controls"),COLUMN_CONTROLS_DECORATIONS:"".concat(o.Yf,"-column-controls-decoration"),COLUMN_SELECTED:"".concat(o.Yf,"-column__selected"),ROW_CONTROLS_WRAPPER:"".concat(o.Yf,"-row-controls-wrapper"),ROW_CONTROLS:"".concat(o.Yf,"-row-controls"),ROW_CONTROLS_INNER:"".concat(o.Yf,"-row-controls__inner"),ROW_CONTROLS_BUTTON_WRAP:"".concat(o.Yf,"-row-controls__button-wrap"),ROW_CONTROLS_BUTTON:"".concat(o.Yf,"-row-controls__button"),CONTROLS_BUTTON:"".concat(o.Yf,"-controls__button"),CONTROLS_BUTTON_ICON:"".concat(o.Yf,"-controls__button-icon"),CONTROLS_INSERT_BUTTON:"".concat(o.Yf,"-controls__insert-button"),CONTROLS_INSERT_BUTTON_INNER:"".concat(o.Yf,"-controls__insert-button-inner"),CONTROLS_INSERT_BUTTON_WRAP:"".concat(o.Yf,"-controls__insert-button-wrap"),CONTROLS_INSERT_LINE:"".concat(o.Yf,"-controls__insert-line"),CONTROLS_BUTTON_OVERLAY:"".concat(o.Yf,"-controls__button-overlay"),LAYOUT_BUTTON:"".concat(o.Yf,"-layout-button"),CONTROLS_INSERT_MARKER:"".concat(o.Yf,"-controls__insert-marker"),CONTROLS_INSERT_COLUMN:"".concat(o.Yf,"-controls__insert-column"),CONTROLS_INSERT_ROW:"".concat(o.Yf,"-controls__insert-row"),CONTROLS_DELETE_BUTTON_WRAP:"".concat(o.Yf,"-controls__delete-button-wrap"),CONTROLS_DELETE_BUTTON:"".concat(o.Yf,"-controls__delete-button"),CONTROLS_FLOATING_BUTTON_COLUMN:"".concat(o.Yf,"-controls-floating__button-column"),CONTROLS_FLOATING_BUTTON_ROW:"".concat(o.Yf,"-controls-floating__button-row"),CORNER_CONTROLS:"".concat(o.Yf,"-corner-controls"),CORNER_CONTROLS_INSERT_ROW_MARKER:"".concat(o.Yf,"-corner-controls__insert-row-marker"),CORNER_CONTROLS_INSERT_COLUMN_MARKER:"".concat(o.Yf,"-corner-controls__insert-column-marker"),CONTROLS_CORNER_BUTTON:"".concat(o.Yf,"-corner-button"),NUMBERED_COLUMN:"".concat(o.Yf,"-numbered-column"),NUMBERED_COLUMN_BUTTON:"".concat(o.Yf,"-numbered-column__button"),HOVERED_COLUMN:"".concat(o.Yf,"-hovered-column"),HOVERED_ROW:"".concat(o.Yf,"-hovered-row"),HOVERED_TABLE:"".concat(o.Yf,"-hovered-table"),HOVERED_CELL:"".concat(o.Yf,"-hovered-cell"),HOVERED_CELL_IN_DANGER:"danger",HOVERED_CELL_ACTIVE:"active",HOVERED_CELL_WARNING:"".concat(o.Yf,"-hovered-cell__warning"),HOVERED_DELETE_BUTTON:"".concat(o.Yf,"-hovered-delete-button"),WITH_CONTROLS:"".concat(o.Yf,"-with-controls"),RESIZING_PLUGIN:"".concat(o.Yf,"-resizing-plugin"),RESIZE_CURSOR:"".concat(o.Yf,"-resize-cursor"),IS_RESIZING:"".concat(o.Yf,"-is-resizing"),RESIZE_HANDLE:"".concat(o.Yf,"-resize-handle"),RESIZE_HANDLE_DECORATION:"".concat(o.Yf,"-resize-decoration"),CONTEXTUAL_SUBMENU:"".concat(o.Yf,"-contextual-submenu"),CONTEXTUAL_MENU_BUTTON_WRAP:"".concat(o.Yf,"-contextual-menu-button-wrap"),CONTEXTUAL_MENU_BUTTON:"".concat(o.Yf,"-contextual-menu-button"),CONTEXTUAL_MENU_ICON:"".concat(o.Yf,"-contextual-submenu-icon"),SELECTED_CELL:"selectedCell",NODEVIEW_WRAPPER:"tableView-content-wrap",TABLE_SELECTED:"".concat(o.Yf,"-table__selected"),TABLE_CELL:o.fY,TABLE_HEADER_CELL:o.Vz,TABLE_STICKY:"".concat(o.Yf,"-sticky"),TOP_LEFT_CELL:"table > tbody > tr:nth-child(2) > td:nth-child(1)",LAST_ITEM_IN_CELL:"".concat(o.Yf,"-last-item-in-cell"),WITH_RESIZE_LINE:"".concat(o.Yf,"-column-resize-line"),WITH_RESIZE_LINE_LAST_COLUMN:"".concat(o.Yf,"-column-resize-line-last-column")});!function(e){e.SHOW_BEFORE_SHADOW="showBeforeShadow",e.SHOW_AFTER_SHADOW="showAfterShadow"}(l||(l={}))},45531:(e,t,n)=>{"use strict";n.d(t,{C4:()=>te,QV:()=>ce,TZ:()=>ae,VX:()=>ie});var r,o,i,a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O,S,C,T,A,_=n(71171),P=n(28165),D=n(44683),Z=n(10007),I=n(24264),L=n(8357),M=n(67093),R=n(27452),N=n(23110),j=n(79300),F=n(77398),B=function(e){return(0,P.iv)(r||(r=(0,_.Z)(["\n  ."," {\n    background: ",";\n    display: none;\n    position: absolute;\n    z-index: ",";\n    ","\n  }\n"])),j.CF.CONTROLS_INSERT_LINE,F.T7,L.wX,e)},z=function(e,t){return(0,P.iv)(i||(i=(0,_.Z)(["\n  ."," {\n    ",";\n    ","\n  }\n"])),j.CF.CONTROLS_INSERT_MARKER,function(e){return(0,P.iv)(o||(o=(0,_.Z)(["\n  background-color: ",";\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  border-radius: 50%;\n  pointer-events: none;\n"])),(0,F.Vi)(e),F.u5,F.u5)}(e),t)},U=function(e){return(0,P.iv)(a||(a=(0,_.Z)(["\n  border-radius: ","px;\n  border-width: 0px;\n  display: inline-flex;\n  max-width: 100%;\n  text-align: center;\n  margin: 0px;\n  padding: 0px;\n  text-decoration: none;\n  transition: background 0.1s ease-out 0s,\n    box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38) 0s;\n  outline: none !important;\n  cursor: none;\n\n  > ."," {\n    display: inline-flex;\n    max-height: 100%;\n    max-width: 100%;\n  }\n  ","\n"])),(0,Z.E0)(),j.CF.CONTROLS_BUTTON_ICON,e)},V=function(){return(0,P.iv)(l||(l=(0,_.Z)(["\n  ."," {\n    position: absolute;\n    z-index: ",";\n    bottom: 0;\n  }\n  .",",\n    ."," {\n    height: ","px;\n    width: ","px;\n  }\n  ."," {\n    ","\n  }\n  ."," {\n    display: none;\n  }\n  &:hover ."," {\n    display: flex;\n  }\n"])),j.CF.CONTROLS_INSERT_BUTTON_INNER,L.wX+10,j.CF.CONTROLS_INSERT_BUTTON_INNER,j.CF.CONTROLS_INSERT_BUTTON,F.z_,F.z_,j.CF.CONTROLS_INSERT_BUTTON,U("\n      background: ".concat("var(--ds-surface-overlay, white)",";\n      box-shadow: ","var(--ds-shadow-overlay, ".concat("0 4px 8px -2px ".concat(I.VG,", 0 0 1px ").concat(I.VG),")"),";\n      color: ","var(--ds-icon, ".concat(I.hH,")"),";\n    ")),j.CF.CONTROLS_INSERT_LINE,j.CF.CONTROLS_INSERT_LINE)},H=function(){return(0,P.iv)(d||(d=(0,_.Z)(["\n  .",":hover {\n    background: ",";\n    color: ",";\n    cursor: pointer;\n  }\n"])),j.CF.CONTROLS_INSERT_BUTTON,"var(--ds-background-brand-bold, ".concat(I.M5,")"),"var(--ds-icon-inverse, white)")},W=(0,P.iv)(p||(p=(0,_.Z)(["\n  ","\n  ","\n  ","\n"])),V(),H(),B("\n    width: 2px;\n    left: 9px;\n  ")),G=(0,P.iv)(f||(f=(0,_.Z)(["\n  ","\n  ","\n  ","\n"])),V(),H(),B("\n    height: 2px;\n    top: -11px;\n    left: ".concat(F.z_-1,"px;\n  "))),q=(0,P.iv)(v||(v=(0,_.Z)(["\n  .",",\n    ."," {\n    height: ","px;\n    width: ","px;\n  }\n  ."," {\n    ."," {\n      ","\n    }\n  }\n\n  .",":hover {\n    background: ",";\n    color: ",";\n    cursor: pointer;\n  }\n"])),j.CF.CONTROLS_DELETE_BUTTON_WRAP,j.CF.CONTROLS_DELETE_BUTTON,F.pi,F.pi,j.CF.CONTROLS_DELETE_BUTTON_WRAP,j.CF.CONTROLS_DELETE_BUTTON,U("\n        background: ".concat("var(--ds-background-neutral, ".concat(I.os,")"),";\n        color: ","var(--ds-icon, ".concat(I.hH,")"),";\n      ")),j.CF.CONTROLS_DELETE_BUTTON,"var(--ds-background-danger-bold, ".concat(I.rt,")"),"var(--ds-icon-inverse, white)"),K=(0,P.iv)(y||(y=(0,_.Z)(["\n  color: ",";\n  background-color: ",";\n  border-color: ",";\n  z-index: ",";\n"])),"var(--ds-text-inverse, ".concat(I.N0,")"),"var(--ds-background-selected, ".concat(F.M2,")"),F.T7,F.rJ),$=function(e){return(0,P.iv)(b||(b=(0,_.Z)(["\n  ."," {\n    display: none;\n    cursor: pointer;\n    position: absolute;\n    width: calc(100% + ","px);\n    left: -1px;\n    top: -","px;\n    height: ","px;\n    z-index: 0;\n\n    &::before {\n      content: ' ';\n      background-color: ",";\n      position: absolute;\n      height: ","px;\n      width: ","px;\n      border-radius: 50%;\n      pointer-events: none;\n      top: 2px;\n      right: -1px;\n    }\n\n    &::after {\n      content: ' ';\n\n      ","\n    }\n  }\n\n  div.",">.","::after {\n    content: ' ';\n    background-color: ",";\n    position: absolute;\n    height: ","px;\n    width: ","px;\n    border-radius: 50%;\n    pointer-events: none;\n    top: -","px;\n    right: -1px;\n  }\n\n  ."," ."," {\n    display: block;\n  }\n\n  table\n    tr:first-of-type\n    td.",",\n    table\n    tr:first-of-type\n    th."," {\n    &.",",\n      &.",",\n      &."," {\n      .","::after {\n        ",";\n      }\n\n      &.","\n        .","::after {\n        background-color: ",";\n        border: 1px solid ",";\n        border-bottom: none;\n        z-index: ",";\n      }\n    }\n  }\n\n  .","\n    table\n    tr:first-of-type\n    td.",",\n    .","\n    table\n    tr:first-of-type\n    th."," {\n    .","::after {\n      ",";\n    }\n  }\n"])),j.CF.COLUMN_CONTROLS_DECORATIONS,2*D.Ok,F.XT+D.Ok,F.XT,(0,F.Vi)(e),F.u5,F.u5,function(e,t){return(0,P.iv)(g||(g=(0,_.Z)(["\n  background: ",";\n  border: 1px solid ",";\n  display: block;\n  box-sizing: border-box;\n  padding: 0;\n\n  :focus {\n    outline: none;\n  }\n\n  ","\n"])),(0,F.iM)(e),(0,F.Vi)(e),t)}(e,"\n        border-right: ".concat(D.Ok,"px solid ").concat((0,F.Vi)(e),";\n        border-bottom: none;\n        height: ").concat(F._K,"px;\n        width: 100%;\n        position: absolute;\n        top: ").concat(F.XT-F._K,"px;\n        left: 0px;\n        z-index: ").concat(F.xS,";\n      ")),j.CF.WITH_CONTROLS,j.CF.ROW_CONTROLS_WRAPPER,(0,F.Vi)(e),F.u5,F.u5,F._K+D.Ok,j.CF.WITH_CONTROLS,j.CF.COLUMN_CONTROLS_DECORATIONS,j.CF.TABLE_CELL,j.CF.TABLE_HEADER_CELL,j.CF.COLUMN_SELECTED,j.CF.HOVERED_COLUMN,j.CF.HOVERED_TABLE,j.CF.COLUMN_CONTROLS_DECORATIONS,K,j.CF.HOVERED_CELL_IN_DANGER,j.CF.COLUMN_CONTROLS_DECORATIONS,"var(--ds-background-danger, ".concat(F.KD,")"),F.Lj,100*L.wX,j.CF.TABLE_SELECTED,j.CF.TABLE_CELL,j.CF.TABLE_SELECTED,j.CF.TABLE_HEADER_CELL,j.CF.COLUMN_CONTROLS_DECORATIONS,K)},J=(0,P.iv)(w||(w=(0,_.Z)(["\n  .","."," {\n    .",",\n      .",",\n      ."," {\n      border: 1px solid ",";\n    }\n    .","::after {\n      background: ",";\n    }\n  }\n"])),j.CF.TABLE_CONTAINER,j.CF.HOVERED_DELETE_BUTTON,j.CF.SELECTED_CELL,j.CF.COLUMN_SELECTED,j.CF.HOVERED_CELL,F.Lj,j.CF.SELECTED_CELL,F.ad),Y=(0,P.iv)(k||(k=(0,_.Z)(["\n  :not(.",")\n    .",":not(.",") {\n    ."," {\n      position: relative;\n      border: 1px solid ",";\n    }\n  }\n"])),j.CF.IS_RESIZING,j.CF.TABLE_CONTAINER,j.CF.HOVERED_DELETE_BUTTON,j.CF.HOVERED_CELL,F.T7),X=(0,P.iv)(E||(E=(0,_.Z)(["\n  :not(.",")\n    .",":not(.",") {\n    td."," {\n      background-color: "," !important; // We need to override the background-color added to the cell\n      border: 1px solid ",";\n    }\n  }\n"])),j.CF.IS_RESIZING,j.CF.TABLE_CONTAINER,j.CF.HOVERED_DELETE_BUTTON,j.CF.HOVERED_CELL_WARNING,"var(--ds-background-warning, ".concat(I.S_,")"),"var(--ds-border-warning, ".concat(I.cS,")")),Q=(0,P.iv)(x||(x=(0,_.Z)(["\n  ."," {\n    ."," {\n      background-color: transparent;\n      position: absolute;\n      width: ","px;\n      height: 100%;\n      top: 0;\n      right: -","px;\n      cursor: col-resize;\n      z-index: ",";\n    }\n\n    td.","::before {\n      content: ' ';\n      position: absolute;\n      left: -2px;\n      top: -1px;\n      width: ","px;\n      height: calc(100% + 2px);\n      background-color: ",";\n      z-index: ",";\n    }\n\n    th.","::before {\n      content: ' ';\n      left: -2px;\n      position: absolute;\n      width: ","px;\n      height: calc(100% + ","px);\n      background-color: ",";\n      z-index: ",";\n      top: -","px;\n    }\n\n    td.","::before {\n      content: ' ';\n      position: absolute;\n      right: -1px;\n      top: -1px;\n      width: ","px;\n      height: calc(100% + 2px);\n      background-color: ",";\n      z-index: ",";\n    }\n\n    th.","::before {\n      content: ' ';\n      right: -1px;\n      position: absolute;\n      width: ","px;\n      height: calc(100% + ","px);\n      background-color: ",";\n      z-index: ",";\n      top: -","px;\n    }\n\n    table\n      tr:first-of-type\n      th.","\n      .","::after,\n      table\n      tr:first-of-type\n      td.","\n      .","::after {\n      top: -","px;\n      height: calc(100% + ","px);\n    }\n  }\n"])),j.CF.TABLE_CONTAINER,j.CF.RESIZE_HANDLE_DECORATION,F.OF,F.OF/2,F.zO,j.CF.WITH_RESIZE_LINE,F.qV,F.T7,2*F.xS,j.CF.WITH_RESIZE_LINE,F.qV,F._K+D.Ok,F.T7,2*F.xS,F._K+D.Ok,j.CF.WITH_RESIZE_LINE_LAST_COLUMN,F.qV,F.T7,2*F.xS,j.CF.WITH_RESIZE_LINE_LAST_COLUMN,F.qV,F._K+D.Ok,F.T7,2*F.xS,F._K+D.Ok,j.CF.WITH_RESIZE_LINE,j.CF.RESIZE_HANDLE_DECORATION,j.CF.WITH_RESIZE_LINE,j.CF.RESIZE_HANDLE_DECORATION,F._K+D.Ok,F._K+D.Ok),ee=F._K+1,te=F.z_/2,ne="\n.".concat(j.CF.NODEVIEW_WRAPPER,".").concat(L.ur," table tbody tr {\n  th,td {\n    ").concat((0,M.H)([R.a.Blanket,R.a.Border]),"\n  }\n}\n"),re=".".concat(j.CF.TABLE_CONTAINER," {\n  > .").concat(j.CF.TABLE_STICKY_SENTINEL_TOP,", > .").concat(j.CF.TABLE_STICKY_SENTINEL_BOTTOM," {\n    position: absolute;\n    width: 100%;\n    height: 1px;\n    margin-top: -1px;\n    // need this to avoid sentinel being focused via keyboard\n    // this still allows it to be detected by intersection observer\n    visibility: hidden;\n  }\n  > .").concat(j.CF.TABLE_STICKY_SENTINEL_TOP," {\n    top: ").concat(F.XT,"px;\n  }\n  > .").concat(j.CF.TABLE_STICKY_SENTINEL_BOTTOM," {\n      bottom: ").concat(F.nI+F.fp+2*F.NC+23,"px;\n  }\n  &.").concat(j.CF.WITH_CONTROLS," {\n    > .").concat(j.CF.TABLE_STICKY_SENTINEL_TOP," {\n      top: 0px;\n    }\n    > .").concat(j.CF.TABLE_STICKY_SENTINEL_BOTTOM," {\n      margin-bottom: ").concat(F.XT,"px;\n    }\n  }\n}"),oe="\n  .".concat(j.CF.TABLE_SHADOW_SENTINEL_LEFT,",\n  .").concat(j.CF.TABLE_SHADOW_SENTINEL_RIGHT," {\n    position: absolute;\n    top: 0;\n    height: 100%;\n    width: 1px;\n    visibility: hidden;\n  }\n  .").concat(j.CF.TABLE_SHADOW_SENTINEL_LEFT," {\n    left: 0;\n  }\n  .").concat(j.CF.TABLE_SHADOW_SENTINEL_RIGHT," {\n    right: 0;\n  }\n"),ie=function(e){var t,n,r,o;return(0,P.iv)(C||(C=(0,_.Z)(["\n  ."," button {\n    background: ",";\n    color: ",";\n    cursor: none;\n  }\n\n  .",":not(.",") button:hover {\n    background: ",";\n    color: "," !important;\n    cursor: pointer;\n  }\n\n  .ProseMirror {\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n\n    ."," {\n      margin-bottom: 0;\n    }\n\n    ."," {\n      td.",", th."," {\n        position: relative;\n        overflow: visible;\n      }\n\n      td."," {\n        background-color: ",";\n\n        // ED-15246: Trello card is visible through a border of a table border\n        // This fixes a border issue caused by relative positioned table cells\n        &::after {\n          height: 100%;\n          content: '';\n          border-left: 1px solid ",";\n          border-bottom: 1px solid ",";\n          position: absolute;\n          right: 0px;\n          top: 0px;\n          bottom: 0;\n          width: 100%;\n          display: inline-block;\n          pointer-events: none;\n        }\n      }\n    }\n\n    ."," {\n      ","\n    }\n\n    ."," {\n      ","\n    }\n\n    /* Delete button */\n    ","\n    /* Ends Delete button */\n\n    /* sticky styles */\n    ."," ."," .",":first-of-type {\n      margin-top: ","px;\n      width: ","px;\n\n      position: fixed !important;\n      z-index: "," !important;\n      box-shadow: 0px -","px ",";\n      border-right: 0 none;\n      /* top set by NumberColumn component */\n    }\n\n    ."," .",".sticky {\n      position: fixed !important;\n      /* needs to be above row controls */\n      z-index: "," !important;\n      background: ",";\n\n      width: ","px;\n      height: ","px;\n    }\n\n    .",".sticky ."," {\n      border-bottom: 0px none;\n      border-right: 0px none;\n\n      height: ","px;\n      width: ","px;\n    }\n\n    ."," ."," {\n      z-index: 0;\n    }\n\n    .","\n      .","\n      .",".sticky {\n      position: fixed !important;\n      z-index: "," !important;\n      display: flex;\n      border-left: ","px solid\n        ",";\n      margin-left: -","px;\n    }\n\n    ."," col:first-of-type {\n      /* moving rows out of a table layout does weird things in Chrome */\n      border-right: 1px solid ",";\n    }\n\n    tr.sticky {\n      padding-top: ","px;\n      position: fixed;\n      display: grid;\n\n      /* to keep it above cell selection */\n      z-index: ",";\n\n      overflow-y: visible;\n      overflow-x: hidden;\n\n      grid-auto-flow: column;\n\n      /* background for where controls apply */\n      background: ",";\n      box-sizing: content-box;\n\n      margin-top: 2px;\n\n      box-shadow: ",";\n      margin-left: -1px;\n\n      &.no-pointer-events {\n        pointer-events: none;\n      }\n    }\n\n    ."," ."," {\n      left: unset;\n      position: fixed;\n      z-index: ",";\n    }\n\n    .",".","\n      ."," {\n      padding-bottom: ","px;\n    }\n\n    tr.sticky th {\n      border-bottom: ","px solid\n        ",";\n      margin-right: -1px;\n    }\n\n    ."," tr.sticky > th:last-child {\n      border-right-width: 1px;\n    }\n\n    /* add left edge for first cell */\n    ."," tr.sticky > th:first-of-type {\n      margin-left: 0px;\n    }\n\n    /* add a little bit so the scroll lines up with the table */\n    ."," tr.sticky::after {\n      content: ' ';\n      width: ","px;\n    }\n\n    /* To fix jumpiness caused in Chrome Browsers for sticky headers */\n    ."," .sticky + tr {\n      min-height: 0px;\n    }\n\n    /* move resize line a little in sticky bar */\n    .","."," {\n      tr.sticky\n        td.",",\n        tr.sticky\n        th."," {\n        .","::after {\n          right: ","px;\n        }\n      }\n\n      /* when selected put it back to normal -- :not selector would be nicer */\n      tr.sticky\n        td.",".",",\n        tr.sticky\n        th.","."," {\n        .","::after {\n          right: ","px;\n        }\n      }\n    }\n\n    tr.sticky\n      .",",\n      tr.sticky\n      ."," {\n      z-index: 1;\n    }\n\n    ."," tr.sticky {\n      padding-top: ","px;\n    }\n\n    .",".","\n      .","\n      .",":first-of-type {\n      margin-top: ","px;\n    }\n\n    .",".sticky {\n      border-top: ","px solid\n        ",";\n    }\n\n    ","\n    ","\n\n    ."," ."," {\n      height: 0; // stop overflow flash & set correct height in update-overflow-shadows.ts\n    }\n\n    .less-padding {\n      padding: 0 ","px;\n\n      ."," {\n        padding: 0 ","px;\n\n        // https://product-fabric.atlassian.net/browse/ED-16386\n        // Fixes issue where the extra padding that is added here throws off the position\n        // of the rows control dot\n        &::after {\n          right: 6px !important;\n        }\n      }\n\n      &.","[data-number-column='true'] {\n        padding-left: ","px;\n      }\n\n      ."," {\n        left: 6px;\n      }\n\n      ."," {\n        left: calc(100% - 6px);\n      }\n    }\n\n    > ."," {\n      /**\n       * Prevent margins collapsing, aids with placing the gap-cursor correctly\n       * @see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing\n       *\n       * TODO: Enable this, many tests will fail!\n       * border-top: 1px solid transparent;\n       */\n    }\n\n    /* Breakout only works on top level unless wrapped in fragment mark */\n    ","\n\n    ",";\n\n    /* Corner controls */\n    ."," {\n      width: ","px;\n      height: ","px;\n      display: none;\n\n      ."," {\n        position: relative;\n\n        ",";\n      }\n    }\n\n    .",".sticky {\n      ."," {\n        /* sticky row insert dot overlaps other row insert and messes things up */\n        display: none !important;\n      }\n    }\n\n    ."," {\n      position: absolute;\n      top: 0;\n      width: ","px;\n      height: ","px;\n      border: 1px solid ",";\n      border-radius: 0;\n      border-top-left-radius: ","px;\n      background: ",";\n      box-sizing: border-box;\n      padding: 0;\n      :focus {\n        outline: none;\n      }\n    }\n    .active ."," {\n      border-color: ",";\n      background: ",";\n    }\n\n    .","[data-number-column='true'] {\n      .",", ."," {\n        width: ","px;\n      }\n      ."," ."," {\n        border-right-width: 0;\n      }\n    }\n\n    :not(.",") .",":hover {\n      border-color: ",";\n      background: ",";\n      cursor: pointer;\n    }\n\n    :not(.",")\n      .","."," {\n      border-color: ",";\n      background: ",";\n    }\n\n    /* Row controls */\n    ."," {\n      width: ","px;\n      box-sizing: border-box;\n      display: none;\n      position: relative;\n\n      ",";\n\n      ."," {\n        display: flex;\n        flex-direction: column;\n      }\n      .",":last-child > button {\n        border-bottom-left-radius: ","px;\n      }\n      ."," {\n        position: relative;\n        margin-top: -1px;\n      }\n      .",":hover,\n        .",".active,\n        .",":hover {\n        z-index: ",";\n      }\n\n      ","\n    }\n\n    :not(.",") ."," {\n      ","\n      ","\n    }\n\n    /* Numbered column */\n    ."," {\n      position: relative;\n      float: right;\n      margin-left: ","px;\n      top: ","px;\n      width: ","px;\n      box-sizing: border-box;\n    }\n\n    ."," {\n      border: 1px solid ",";\n      box-sizing: border-box;\n      margin-top: -1px;\n      padding-bottom: 2px;\n      padding: 10px 2px;\n      text-align: center;\n      font-size: ",";\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n\n      :first-child:not(style),\n      style:first-child + * {\n        margin-top: 0;\n      }\n      :last-child {\n        border-bottom: 1px solid ",";\n      }\n    }\n\n    ."," {\n      .",", ."," {\n        display: block;\n      }\n      ."," {\n        padding-left: 1px;\n        ."," {\n          border-left: 0 none;\n        }\n\n        .",".active {\n          border-bottom: 1px solid ",";\n          border-color: ",";\n          background-color: ",";\n          position: relative;\n          z-index: ",";\n          color: ",";\n        }\n      }\n    }\n    :not(.",") ."," {\n      ."," {\n        cursor: pointer;\n      }\n      .",":hover {\n        border-bottom: 1px solid ",";\n        border-color: ",";\n        background-color: ",";\n        position: relative;\n        z-index: ",";\n        color: ",";\n      }\n      .","."," {\n        background-color: ",";\n        border: 1px solid ",";\n        border-left: 0;\n        color: ",";\n        position: relative;\n        z-index: ",";\n      }\n    }\n\n    /* Table */\n    ."," > table {\n      table-layout: fixed;\n      white-space: normal;\n      border-top: none;\n      // 1px border width offset added here to prevent unwanted overflow and scolling - ED-16212\n      margin-right: -1px;\n      // Allows better positioning for the shadow sentinels - ED-16668\n      position: relative;\n\n      > tbody > tr {\n        white-space: pre-wrap;\n      }\n\n      ."," + * {\n        margin-top: 0;\n      }\n\n      /*\n       * Headings have a top margin by default, but we don't want this on the\n       * first heading within table header cells.\n       *\n       * This specifically sets margin-top for the first heading within a header\n       * cell when center/right aligned.\n       */\n      th."," > .fabric-editor-block-mark {\n        > h1:first-of-type,\n        > h2:first-of-type,\n        > h3:first-of-type,\n        > h4:first-of-type,\n        > h5:first-of-type,\n        > h6:first-of-type {\n          margin-top: 0;\n        }\n      }\n\n      .",", ."," {\n        position: relative;\n      }\n      /* Give selected cells a blue overlay */\n      .","::after,\n        .","::after {\n        z-index: ",";\n        position: absolute;\n        content: '';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        width: 100%;\n        pointer-events: none;\n      }\n      ."," {\n        border: 1px solid ",";\n      }\n      .","::after {\n        background: ",";\n        z-index: ",";\n      }\n      th.","::after,\n        td.","::after {\n        background: ",";\n        z-index: ",";\n      }\n      // ED-15246: Trello card is visible through a border of a table border\n      td.",", td."," {\n        &::after {\n          height: 100%;\n          width: 100%;\n          border: 1px solid ",";\n          content: '';\n          position: absolute;\n          left: -1px;\n          top: -1px;\n          bottom: 0;\n          z-index: ",";\n          display: inline-block;\n          pointer-events: none;\n        }\n        &.","::after {\n          border: 1px solid ",";\n          z-index: ",";\n        }\n      }\n    }\n    ."," {\n      position: absolute;\n      /* top of corner control is table margin top - corner control height + 1 pixel of table border. */\n      top: ","px;\n    }\n    .","."," {\n      z-index: ",";\n    }\n    ."," {\n      left: -","px;\n    }\n    ."," {\n      padding-right: ","px;\n      margin-right: -","px;\n      padding-bottom: 0px;\n      /* fixes gap cursor height */\n      overflow: auto;\n      overflow-y: hidden;\n      position: relative;\n    }\n  }\n\n  .ProseMirror."," {\n    ."," {\n      overflow-x: auto;\n      ",";\n    }\n  }\n\n  .ProseMirror."," {\n    cursor: col-resize;\n  }\n\n  /*\n  ED-15882: When custom start numbers is enabled for lists, we have\n  styles that handle this generally (in editor-common) so we can\n  throw away the older table-specific styles here.\n  */\n  ","\n\n  ","\n"])),j.CF.LAYOUT_BUTTON,"var(--ds-background-neutral, ".concat(I.os,")"),"var(--ds-icon, ".concat(I.hH,")"),j.CF.LAYOUT_BUTTON,j.CF.IS_RESIZING,"var(--ds-background-neutral-hovered, ".concat(I.M5,")"),"var(--ds-icon, white)",(0,D.nP)(e),(0,P.iv)(h||(h=(0,_.Z)(["\n  .",".","\n    table\n    tr:first-of-type\n    td,\n  .",".","\n    table\n    tr:first-of-type\n    th {\n    position: relative;\n  }\n"])),j.CF.TABLE_CONTAINER,j.CF.WITH_CONTROLS,j.CF.TABLE_CONTAINER,j.CF.WITH_CONTROLS),J,Y,X,Q,ne,j.CF.LAST_ITEM_IN_CELL,j.CF.TABLE_NODE_WRAPPER,j.CF.TABLE_CELL,j.CF.TABLE_HEADER_CELL,j.CF.TABLE_CELL,(0,F.qY)(e),(0,F.Vi)(e),(0,F.Vi)(e),j.CF.CONTROLS_FLOATING_BUTTON_COLUMN,W,j.CF.CONTROLS_FLOATING_BUTTON_ROW,G,q,j.CF.TABLE_STICKY,j.CF.NUMBERED_COLUMN,j.CF.NUMBERED_COLUMN_BUTTON,F.fp+2,L.XV,L.r0,F.fp,"var(--ds-surface, white)",j.CF.TABLE_STICKY,j.CF.CORNER_CONTROLS,L.aE,"var(--ds-surface, white)",F._K,F._K,j.CF.CORNER_CONTROLS,j.CF.CONTROLS_CORNER_BUTTON,F._K,F._K,j.CF.TABLE_STICKY,j.CF.COLUMN_CONTROLS_DECORATIONS,j.CF.TABLE_STICKY,j.CF.ROW_CONTROLS,j.CF.ROW_CONTROLS_BUTTON_WRAP,L.r0,F._K,"var(--ds-surface, white)",F._K,j.CF.TABLE_STICKY,"var(--ds-surface, green)",F.fp,F.zf,"var(--ds-surface, white)","var(--ds-shadow-overflow, ".concat("0 6px 4px -4px ".concat(I.bt),")"),j.CF.TABLE_STICKY,j.CF.TABLE_STICKY_SHADOW,F.zf+1,j.CF.WITH_CONTROLS,j.CF.TABLE_STICKY,j.CF.TABLE_STICKY_SHADOW,F._K,F.vm,(0,F.Vi)(e),j.CF.TABLE_STICKY,j.CF.TABLE_STICKY,j.CF.TABLE_STICKY,te+1,j.CF.TABLE_STICKY,j.CF.TABLE_CONTAINER,j.CF.TABLE_STICKY,j.CF.WITH_RESIZE_LINE,j.CF.WITH_RESIZE_LINE,j.CF.RESIZE_HANDLE_DECORATION,(F.OF-F.qV)/2+1,j.CF.WITH_RESIZE_LINE,j.CF.SELECTED_CELL,j.CF.WITH_RESIZE_LINE,j.CF.SELECTED_CELL,j.CF.RESIZE_HANDLE_DECORATION,(F.OF-F.qV)/2,j.CF.HOVERED_CELL,j.CF.SELECTED_CELL,j.CF.WITH_CONTROLS,F.zP,j.CF.WITH_CONTROLS,j.CF.TABLE_STICKY,j.CF.NUMBERED_COLUMN,j.CF.NUMBERED_COLUMN_BUTTON,F.zP+2,j.CF.CORNER_CONTROLS,F.zP-F._K+2,"var(--ds-surface, white)",null!==(t=e.featureFlags)&&void 0!==t&&t.stickyHeadersOptimization?re:"",function(e){return(0,P.iv)(m||(m=(0,_.Z)(["\n  .",", ."," {\n    display: block;\n    height: calc(100% - ","px);\n    position: absolute;\n    pointer-events: none;\n    top: ","px;\n    z-index: ",";\n    width: 8px;\n  }\n  ."," {\n    background: linear-gradient(\n        to left,\n        transparent 0,\n        "," 100%\n      ),\n      linear-gradient(\n        to right,\n        "," 0px,\n        transparent 1px\n      );\n    left: 0px;\n  }\n  .","[data-number-column='true'] > :not(.",")."," {\n    left: ","px;\n  }\n  ."," {\n    background: linear-gradient(\n        to right,\n        transparent 0,\n        "," 100%\n      ),\n      linear-gradient(\n        to left,\n        "," 0px,\n        transparent 1px\n      );\n    left: calc(100% + 2px);\n  }\n  ."," {\n    z-index: 0;\n  }\n  ."," {\n    .",", ."," {\n      height: calc(100% - ","px);\n      top: ","px;\n    }\n    ."," {\n      border-left: 1px solid ",";\n    }\n  }\n"])),j.CF.TABLE_RIGHT_SHADOW,j.CF.TABLE_LEFT_SHADOW,D.MZ,D.MZ,L.yV,j.CF.TABLE_LEFT_SHADOW,"var(--ds-shadow-overflow-spread, ".concat(I.bt,")"),"var(--ds-shadow-overflow-perimeter, transparent)",j.CF.TABLE_CONTAINER,j.CF.TABLE_STICKY_SHADOW,j.CF.TABLE_LEFT_SHADOW,L.XV-1,j.CF.TABLE_RIGHT_SHADOW,"var(--ds-shadow-overflow-spread, ".concat(I.bt,")"),"var(--ds-shadow-overflow-perimeter, transparent)",j.CF.TABLE_COLUMN_CONTROLS_DECORATIONS,j.CF.WITH_CONTROLS,j.CF.TABLE_RIGHT_SHADOW,j.CF.TABLE_LEFT_SHADOW,D.tB,D.tB,j.CF.TABLE_LEFT_SHADOW,(0,F.Vi)(e))}(e),j.CF.TABLE_STICKY,j.CF.TABLE_STICKY_SHADOW,F.NC,j.CF.ROW_CONTROLS_WRAPPER,F.NC,j.CF.TABLE_CONTAINER,L.XV+F.NC-1,j.CF.TABLE_LEFT_SHADOW,j.CF.TABLE_RIGHT_SHADOW,j.CF.NODEVIEW_WRAPPER,null===(n=null===(r=e.featureFlags)||void 0===r?void 0:r.useFragmentMarkBreakoutWidthStylingFix)||void 0===n||n?(0,P.iv)(O||(O=(0,_.Z)(["\n      > *:not([data-mark-type='fragment'])\n        .","\n        ."," {\n        margin-left: unset !important;\n        width: 100% !important;\n      }\n\n      > [data-mark-type='fragment']\n        *\n        .","\n        ."," {\n        margin-left: unset !important;\n        width: 100% !important;\n      }\n    "])),j.CF.NODEVIEW_WRAPPER,j.CF.TABLE_CONTAINER,j.CF.NODEVIEW_WRAPPER,j.CF.TABLE_CONTAINER):(0,P.iv)(S||(S=(0,_.Z)(["\n    > * ."," ."," {\n      margin-left: unset !important;\n      width: 100% !important;\n    }\n  "])),j.CF.NODEVIEW_WRAPPER,j.CF.TABLE_CONTAINER),$(e),j.CF.CORNER_CONTROLS,F._K+1,ee,j.CF.CORNER_CONTROLS_INSERT_ROW_MARKER,z(e,"\n          left: -11px;\n          top: 9px;\n        "),j.CF.CORNER_CONTROLS,j.CF.CORNER_CONTROLS_INSERT_ROW_MARKER,j.CF.CONTROLS_CORNER_BUTTON,F._K+1,F._K+1,(0,F.Vi)(e),F.X9,(0,F.iM)(e),j.CF.CONTROLS_CORNER_BUTTON,F.T7,"var(--ds-background-selected, ".concat(F.M2,")"),j.CF.TABLE_CONTAINER,j.CF.CORNER_CONTROLS,j.CF.CONTROLS_CORNER_BUTTON,L.cF+L.XV,j.CF.ROW_CONTROLS,j.CF.CONTROLS_BUTTON,j.CF.IS_RESIZING,j.CF.CONTROLS_CORNER_BUTTON,F.T7,"var(--ds-background-selected, ".concat(F.M2,")"),j.CF.IS_RESIZING,j.CF.CONTROLS_CORNER_BUTTON,j.CF.HOVERED_CELL_IN_DANGER,F.Lj,"var(--ds-background-danger, ".concat(F.KD,")"),j.CF.ROW_CONTROLS,F._K,z(e,"\n        bottom: -1px;\n        left: -11px;\n      "),j.CF.ROW_CONTROLS_INNER,j.CF.ROW_CONTROLS_BUTTON_WRAP,F.X9,j.CF.ROW_CONTROLS_BUTTON_WRAP,j.CF.ROW_CONTROLS_BUTTON_WRAP,j.CF.ROW_CONTROLS_BUTTON_WRAP,j.CF.CONTROLS_BUTTON,L.wX,function(e,t){return(0,P.iv)(c||(c=(0,_.Z)(["\n  ."," {\n    background: ",";\n    border: 1px solid ",";\n    display: block;\n    box-sizing: border-box;\n    padding: 0;\n\n    :focus {\n      outline: none;\n    }\n    ","\n  }\n\n  .","::after {\n    content: ' ';\n    background-color: transparent;\n    left: -15px;\n    top: 0;\n    position: absolute;\n    width: 15px;\n    height: 100%;\n    z-index: 1;\n  }\n\n  .active ."," {\n    color: ",";\n    background-color: ",";\n    border-color: ",";\n  }\n"])),j.CF.CONTROLS_BUTTON,(0,F.iM)(e),(0,F.Vi)(e),t,j.CF.ROW_CONTROLS_BUTTON,j.CF.CONTROLS_BUTTON,"var(--ds-icon-inverse, ".concat(I.N0,")"),"var(--ds-background-selected, ".concat(F.M2,")"),F.T7)}(e,"\n        border-bottom: 1px solid ".concat((0,F.Vi)(e),";\n        border-right: 0px;\n        border-radius: 0;\n        height: 100%;\n        width: ").concat(F._K,"px;\n\n        .").concat(j.CF.CONTROLS_BUTTON_OVERLAY," {\n          position: absolute;\n          width: 30px;\n          height: 50%;\n          right: 0;\n          bottom: 0;\n        }\n        .").concat(j.CF.CONTROLS_BUTTON_OVERLAY,":first-of-type {\n          top: 0;\n        }\n      ")),j.CF.IS_RESIZING,j.CF.ROW_CONTROLS,(0,P.iv)(s||(s=(0,_.Z)(["\n  .",":hover {\n    color: ",";\n    background-color: ",";\n    border-color: ",";\n    cursor: pointer;\n  }\n"])),j.CF.CONTROLS_BUTTON,"var(--ds-icon-inverse, ".concat(I.N0,")"),"var(--ds-background-selected, ".concat(F.M2,")"),F.T7),(0,P.iv)(u||(u=(0,_.Z)(["\n  ."," ."," {\n    background-color: ",";\n    border-color: ",";\n    position: relative;\n    z-index: ",";\n  }\n"])),j.CF.HOVERED_CELL_IN_DANGER,j.CF.CONTROLS_BUTTON,"var(--ds-background-danger, ".concat(F.KD,")"),F.Lj,L.wX),j.CF.NUMBERED_COLUMN,L.cF-1,L.cF,L.XV+1,j.CF.NUMBERED_COLUMN_BUTTON,(0,F.Vi)(e),(0,L.Gh)((0,Z.JB)()),(0,F.iM)(e),(0,F.o$)(e),(0,F.Vi)(e),(0,F.Vi)(e),j.CF.WITH_CONTROLS,j.CF.CORNER_CONTROLS,j.CF.ROW_CONTROLS,j.CF.NUMBERED_COLUMN,j.CF.NUMBERED_COLUMN_BUTTON,j.CF.NUMBERED_COLUMN_BUTTON,F.T7,F.T7,"var(--ds-background-selected, ".concat(F.M2,")"),L.wX,"var(--ds-text-selected, ".concat(I.N0,")"),j.CF.IS_RESIZING,j.CF.WITH_CONTROLS,j.CF.NUMBERED_COLUMN_BUTTON,j.CF.NUMBERED_COLUMN_BUTTON,F.T7,F.T7,"var(--ds-background-selected, ".concat(F.M2,")"),L.wX,"var(--ds-text-selected, ".concat(I.N0,")"),j.CF.NUMBERED_COLUMN_BUTTON,j.CF.HOVERED_CELL_IN_DANGER,"var(--ds-background-danger, ".concat(F.KD,")"),F.Lj,"var(--ds-text-danger, ".concat(I.gR,")"),L.wX,j.CF.TABLE_NODE_WRAPPER,j.CF.COLUMN_CONTROLS_DECORATIONS,j.CF.TABLE_HEADER_CELL,j.CF.SELECTED_CELL,j.CF.HOVERED_CELL_IN_DANGER,j.CF.SELECTED_CELL,j.CF.HOVERED_CELL_IN_DANGER,L.aE,j.CF.SELECTED_CELL,F.T7,j.CF.SELECTED_CELL,F.mi,L.aE,j.CF.HOVERED_CELL_IN_DANGER,j.CF.HOVERED_CELL_IN_DANGER,F.ad,100*L.wX,j.CF.HOVERED_CELL,j.CF.SELECTED_CELL,F.T7,L.aE,j.CF.HOVERED_CELL_IN_DANGER,F.Lj,100*L.wX,j.CF.ROW_CONTROLS_WRAPPER,D.MZ-ee+1,j.CF.ROW_CONTROLS_WRAPPER,j.CF.TABLE_LEFT_SHADOW,L.wX,j.CF.ROW_CONTROLS_WRAPPER,F._K,j.CF.TABLE_NODE_WRAPPER,te,te,j.CF.IS_RESIZING,j.CF.TABLE_NODE_WRAPPER,N.n,j.CF.RESIZE_CURSOR,null!=e&&null!==(o=e.featureFlags)&&void 0!==o&&o.restartNumberedLists?"":"\n  .ProseMirror .pm-table-cell-content-wrap ol[data-child-count='100+'] {\n    padding-left: revert;\n  }\n",oe)},ae=(0,P.iv)(T||(T=(0,_.Z)(["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    // 1px border width offset added here to prevent unwanted overflow and scolling - ED-16212\n    margin-right: -1px;\n    width: 100%;\n  }\n"])),j.CF.TABLE_NODE_WRAPPER),ce=(0,P.iv)(A||(A=(0,_.Z)(["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n    ",";\n  }\n"])),j.CF.TABLE_NODE_WRAPPER,N.n)},77398:(e,t,n)=>{"use strict";n.d(t,{A1:()=>T,KD:()=>g,Lj:()=>m,M2:()=>f,NC:()=>b,OF:()=>Z,SV:()=>O,T7:()=>h,Vi:()=>d,X9:()=>y,XT:()=>_,YJ:()=>k,YP:()=>M,_K:()=>S,ad:()=>v,fp:()=>j,iM:()=>u,mi:()=>p,nI:()=>w,o$:()=>l,pi:()=>x,qV:()=>I,qY:()=>s,rJ:()=>D,u5:()=>A,vm:()=>F,vn:()=>R,xS:()=>P,zO:()=>L,zP:()=>C,z_:()=>E,zf:()=>N});var r=n(24264),o=n(44683),i=n(8357),a=n(79300),c=n(95281),s=(0,c.Z)({light:"var(--ds-surface, ".concat(r.N0,")"),dark:"var(--ds-surface, ".concat(r.Dw,")")}),u=(0,c.Z)({light:"var(--ds-background-neutral-subtle, ".concat(i.Zs,")"),dark:"var(--ds-background-neutral-subtle, ".concat(i.SX,")")}),l=(0,c.Z)({light:"var(--ds-text-subtlest, ".concat(r.iw,")"),dark:"var(--ds-text-subtlest, ".concat(r.oe,")")}),d=(0,c.Z)({light:"var(--ds-border, ".concat(i.aX,")"),dark:"var(--ds-border, ".concat(i.Q9,")")}),p=("var(--ds-background-neutral, ".concat(r.IR,")"),"var(--ds-blanket-selected, rgba(179, 212, 255, 0.3))"),f="var(--ds-background-selected-bold, ".concat(r.VY,")"),h="var(--ds-border-selected, ".concat(r.M5,")"),v="var(--ds-blanket-danger, rgba(255, 235, 230, 0.3))",m="var(--ds-border-danger, ".concat(r.$H,")"),g="var(--ds-background-danger-bold, ".concat(r.Xd,")"),y=3,b=8,w=15,k=2,E=20,x=16,O=6,S=i.cF,C=o.MZ+b-o.Ok,T=3,A=4,_=25,P=10*i.wX,D=P+1,Z=a.rR/3,I=2,L=P+i.dA,M=16,R=180,N=L+2,j=8,F=1},15989:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,n:()=>c});var r=n(75730),o=n(30709),i=n(52304),a=function(e){var t=e.selection,n=e.doc.type.schema,a=(0,i.AG)(t);if(!a)return{tableIsCollapsible:!1};var c=n.nodes.expand,s=a.node,u=a.pos,l=e.doc.resolve(u),d=new r.NodeRange(l,e.doc.resolve(u+s.nodeSize),l.depth);if(!d)return{tableIsCollapsible:!1};var p=(0,o.nd)(d,c);return null===p?{tableIsCollapsible:!1}:{tableIsCollapsible:!0,range:d,findWrappingRes:p}},c=function(e){var t=a(e),n=e.doc.type.schema.nodes.expand;if(t.range&&t.tableIsCollapsible)return e.wrap(t.range,[{type:n}]).setMeta("scrollIntoView",!0),e}},53633:(e,t,n)=>{"use strict";n.d(t,{Dh:()=>m,F_:()=>h,I$:()=>f,Tw:()=>v,_z:()=>b,a_:()=>w,qQ:()=>y,tE:()=>g,ut:()=>p});var r=n(96234),o=n(14409),i=n(52304),a=n(90461),c=n(84934),s=n(6565),u=n(41595),l=n(79300),d=function(e,t){return t.find(void 0,void 0,(function(t){return t.key.indexOf(e)>-1}))},p=function(e){return d(l.fe.COLUMN_SELECTED,e)},f=function(e){return d(l.fe.ALL_CONTROLS_HOVER,e)},h=function(e,t){return e.map((function(e){return s.p.node(e.pos,e.pos+e.node.nodeSize,{class:l.CF.HOVERED_CELL_WARNING},{key:l.fe.CELL_CONTROLS_HOVER})}))},v=function(e,t,n,a,c){var u=(0,i.AG)(n.selection);if(!u)return[];var d=o.rU.get(u.node),p=e.reduce((function(e,t){var n=(0,r.Z)(e,2),o=n[0],i=n[1];return(null===o||t.pos<o)&&(o=t.pos),(null===i||t.pos>i)&&(i=t.pos),[o,i]}),[null,null]),f=(0,r.Z)(p,2),h=f[0],v=f[1];if(null===h||null===v)return[];var m=e.map((function(e){return e.pos}));if(a){var g=e.reduce((function(e,t){var n=d.findCell(t.pos-u.start),r=n.left,o=n.right,i=n.bottom,a=n.top;return{recLeft:Math.min(e.recLeft,r),recTop:Math.min(e.recTop,a),recRight:Math.max(e.recRight,o),recBottom:Math.max(e.recBottom,i)}}),{recLeft:1/0,recTop:1/0,recRight:-1/0,recBottom:-1/0}),y=g.recLeft,b=g.recTop,w=g.recRight,k=g.recBottom,E=new o.UL(y,b,w,k);m=d.cellsInRect(E).map((function(e){return e+u.start}))}return m.map((function(e){var r,o=n.doc.nodeAt(e),i=[l.CF.HOVERED_CELL];switch(a&&i.push(l.CF.HOVERED_CELL_IN_DANGER),c&&i.push(l.CF.SELECTED_CELL),i.push("column"===t?l.CF.HOVERED_COLUMN:"row"===t?l.CF.HOVERED_ROW:l.CF.HOVERED_TABLE),t){case"row":r=l.fe.ROW_CONTROLS_HOVER;break;case"column":r=l.fe.COLUMN_CONTROLS_HOVER;break;default:r=l.fe.TABLE_CONTROLS_HOVER}return s.p.node(e,e+o.nodeSize,{class:i.join(" ")},{key:r})}))},m=function(e){var t=e.selection,n=e.doc,r=(0,i.AG)(t),c=(0,a.T)(t);return r&&c?o.rU.get(r.node).cellsInRect(c).map((function(e,t){var o=n.nodeAt(e+r.start);return s.p.node(e+r.start,e+r.start+o.nodeSize,{class:l.CF.COLUMN_SELECTED},{key:"".concat(l.fe.COLUMN_SELECTED,"_").concat(t)})})):[]},g=function(e){var t=(0,c.u)(0)(e)||[],n=0;return t.map((function(e){var t=e.node.attrs.colspan||1,r=n,o=r+t;return n=o,s.p.widget(e.pos+1,(function(){var e=document.createElement("div");return e.classList.add(l.CF.COLUMN_CONTROLS_DECORATIONS),e.dataset.startIndex="".concat(r),e.dataset.endIndex="".concat(o),e}),{key:"".concat(l.fe.COLUMN_CONTROLS_DECORATIONS,"_").concat(o),side:-100})}))},y=function(e,t,n,r){var o=d(r,t);return t.remove(o).add(e,n)},b=function(e,t,n){var r=[[],[]],a=(0,i.AG)(e.selection);if(!a||!a.node)return r;var c=o.rU.get(a.node);if(!c.width)return r;for(var d=function(e,t,n,r,o){var i=r+o.nodeSize-1;return s.p.widget(i,(function(){var t=document.createElement("div");return t.classList.add(l.CF.RESIZE_HANDLE_DECORATION),t.dataset.startIndex="".concat(e.left),t.dataset.endIndex="".concat(e.right),t}),{key:"".concat(l.fe.COLUMN_RESIZING_HANDLE,"_").concat(n,"_").concat(t)})},p=function(e,t,n){var r;return n.forEach((function(e,o,i){if(i===n.childCount-1){var a=o+t+1;r={from:a,to:a+e.nodeSize}}})),r?s.p.node(r.from,r.to,{class:l.CF.LAST_ITEM_IN_CELL},{key:"".concat(l.fe.LAST_CELL_ELEMENT,"_").concat(e.left,"_").concat(e.right)}):null},f=[],h=[],v=0;v<c.height;v++){var m={};if(v===t)for(var g=0;g<c.width;g++){var y=c.map[c.width*v+g];if(!m[y]){m[y]=!0;var b=a.start+y,w=e.doc.nodeAt(b);if(w){var k=g,E=(w.attrs.colspan||1)+k;if(E===n.right){var x=d({left:k,right:E},g,v,b,w),O=p({left:k,right:E},b,w);f.push(x),h.push(O)}}}}}return[f,h.filter(u.vJ)]},w=function(e,t){var n=(0,i.AG)(e);if(!n||null===t.right)return[];var r=t.right,a=o.rU.get(n.node),c=r===a.width;c&&(r-=1);var d,p=c?l.CF.WITH_RESIZE_LINE_LAST_COLUMN:l.CF.WITH_RESIZE_LINE;return(d=a.height,Array.from(Array(d).keys())).map((function(e){return a.map[a.width*e+r]})).filter((function(e,t){return!!c||e!==a.map[a.width*t+r-1]})).map((function(e){return{pos:e+n.start,node:n.node.nodeAt(e)}})).map((function(e,n){if(e&&e.node)return s.p.node(e.pos,e.pos+e.node.nodeSize,{class:p},{key:"".concat(l.fe.COLUMN_RESIZING_HANDLE_LINE,"_").concat(t.right,"_").concat(n)})})).filter(u.vJ)}},38505:(e,t,n)=>{"use strict";n.d(t,{Le:()=>d,R5:()=>v,R8:()=>p,jQ:()=>s,kf:()=>f,pB:()=>h,pv:()=>g,qj:()=>l,xh:()=>m});var r=n(68079),o=n(14409),i=n(41396),a=n(52304),c=n(37038),s=function(e){return!!e.type.spec.isolating},u=function(e){for(var t=o.rU.get(e),n=t.cellsInRect({left:0,top:0,right:1,bottom:t.height}),r=0;r<n.length;r++)try{var i=e.nodeAt(n[r]);if(i&&i.type!==e.type.schema.nodes.tableHeader)return!1}catch(e){return!1}return!0},l=function(e){for(var t=o.rU.get(e),n=0;n<t.width;n++){var r=e.nodeAt(t.map[n]);if(r&&r.type!==e.type.schema.nodes.tableHeader)return!1}return!0},d=function(e){return y(e,a.AG,u,!1)},p=function(e){return y(e,a.AG,l,!1)},f=function(e){return y(e,a.AG,(function(e){return!!e.attrs.isNumberColumnEnabled}),!1)},h=function(e){var t=c.u.getState(e).pluginConfig.permittedLayouts,n=e.schema.nodes,r=n.bodiedExtension,o=n.layoutSection,a=n.expand;return!(0,i.bw)([a,o,r])(e.selection)&&t&&("all"===t||t.indexOf("default")>-1&&t.indexOf("wide")>-1&&t.indexOf("full-page")>-1)},v=function(e){return b(e).reduce((function(e,t){return e+t}),0)},m=function(e,t){var n=b(e),r=b(t);return n.length!==r.length||!1===n.every((function(e,t){return e===r[t]}))},g=function(e,t){var n=o.rU.get(t),r=o.rU.get(e);return n.width!==r.width};function y(e,t,n,r){var o=t(e);return o?n(o.node,o.pos):r}function b(e){if(!e.content.firstChild)return[];var t=[];return e.content.firstChild.content.forEach((function(e){if(Array.isArray(e.attrs.colwidth)){var n=e.attrs.colspan||1;t.push.apply(t,(0,r.Z)(e.attrs.colwidth.slice(0,n)))}})),t}},19009:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(14409),o=n(52304),i=function(e){var t=(0,o.AG)(e.selection);if(!t)return[];var n=r.rU.get(t.node),i=new Set,a=[];return n.map.forEach((function(e){i.has(e)?a.push(e):i.add(e)})),a}},4840:(e,t,n)=>{"use strict";n.d(t,{a:()=>i});var r=n(26624),o=n(53633),i=function(e,t,n){return(0,o.qQ)(e.doc,(0,r.hP)(e),t,n)}},24264:(e,t,n)=>{"use strict";n.d(t,{$H:()=>a,Dw:()=>I,IR:()=>y,M5:()=>v,N0:()=>g,S_:()=>s,TG:()=>E,VG:()=>T,VY:()=>h,WA:()=>b,Xd:()=>o,bt:()=>C,cS:()=>u,gR:()=>c,hH:()=>k,iw:()=>w,kd:()=>S,mn:()=>D,oe:()=>_,os:()=>O,rt:()=>i,tE:()=>p,xU:()=>L});var r=n(95281),o="#FFBDAD",i="#FF5630",a="#DE350B",c="#BF2600",s="#FFFAE6",u="#FFC400",l="#FFAB00",d="#36B37E",p="#B3D4FF",f="#4C9AFF",h="#2684FF",v="#0065FF",m="#0052CC",g="#FFFFFF",y="#F4F5F7",b="#8993A4",w="#6B778C",k="#5E6C84",E="#253858",x="#172B4D",O="rgba(9, 30, 66, 0.04)",S="rgba(9, 30, 66, 0.08)",C="rgba(9, 30, 66, 0.13)",T="rgba(9, 30, 66, 0.31)",A="#B8C7E0",_="#9FB0CC",P="#8C9CB8",D="#313D52",Z="#283447",I="#1B2638",L="#0D1424";(0,r.Z)({light:"var(--ds-surface, ".concat(g,")"),dark:"var(--ds-surface, ".concat(I,")")}),(0,r.Z)({light:"var(--ds-background-selected, ".concat("#DEEBFF",")"),dark:"var(--ds-background-selected, ".concat(p,")")}),(0,r.Z)({light:"var(--ds-background-neutral-hovered, ".concat("#EBECF0",")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),(0,r.Z)({light:"var(--ds-surface-overlay, ".concat(g,")"),dark:"var(--ds-surface-overlay, ".concat(Z,")")}),(0,r.Z)({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(A,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(x,")"),dark:"var(--ds-text, ".concat(A,")")}),(0,r.Z)({light:"var(--ds-text-selected, ".concat(m,")"),dark:"var(--ds-text-selected, ".concat(m,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(w,")"),dark:"var(--ds-text-subtlest, ".concat(P,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),(0,r.Z)({light:"var(--ds-text, ".concat(x,")"),dark:"var(--ds-text, ".concat(A,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(w,")"),dark:"var(--ds-text-subtlest, ".concat(P,")")}),(0,r.Z)({light:y,dark:Z}),(0,r.Z)({light:"var(--ds-link, ".concat(m,")"),dark:"var(--ds-link, ".concat(f,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat(v,")"),dark:"var(--ds-link-pressed, ".concat(h,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(f,")")}),(0,r.Z)({light:"var(--ds-border-focused, ".concat(f,")"),dark:"var(--ds-border-focused, ".concat(h,")")}),(0,r.Z)({light:"var(--ds-background-brand-bold, ".concat(m,")"),dark:"var(--ds-background-brand-bold, ".concat(f,")")}),(0,r.Z)({light:m,dark:f}),(0,r.Z)({light:"#00B8D9",dark:"#00C7E6"}),(0,r.Z)({light:"#6554C0",dark:"#998DD9"}),(0,r.Z)({light:i,dark:i}),(0,r.Z)({light:l,dark:l}),(0,r.Z)({light:d,dark:d})},10007:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,GV:()=>r,JB:()=>c,MU:()=>o,oc:()=>i});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 14}},95281:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(10007);function o(e){if(e&&e.theme){if(r.GV in e.theme)return e.theme[r.GV];if("mode"in e.theme&&r.oc.includes(e.theme.mode))return e.theme}return{mode:r.MU}}function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}},75363:(e,t,n)=>{"use strict";n.d(t,{u:()=>a});var r,o=n(71171),i=n(28165),a=function(e){var t=e.background,n=e.width,a=void 0===n?"var(--ds-space-100, 8px)":n,c=e.leftCoverWidth||a,s=e.rightCoverWidth||a;return(0,i.iv)(r||(r=(0,o.Z)(["\n/* shadow cover left */\n  linear-gradient(\n    to right,\n    "," ",",\n    transparent ","\n  ),\n/* shadow cover background left */\n  linear-gradient(\n    to right,\n    "," ",",\n    transparent ","\n  ),\n/* shadow cover right */\n  linear-gradient(\n    to left,\n    "," ",",\n    transparent ","\n  ),\n/* shadow cover background right */\n  linear-gradient(\n    to left,\n    "," ",",\n    transparent ","\n  ),\n/* overflow shadow right spread */\n  linear-gradient(\n    to left,\n    "," 0,\n    ","  ","\n  ),\n  /* overflow shadow right perimeter */\n  linear-gradient(\n    to left,\n    "," 0,\n    ","  ","\n  ),\n  /* overflow shadow left spread */\n  linear-gradient(\n    to right,\n    "," 0,\n    ","  ","\n  ),\n  /* overflow shadow left perimeter */\n  linear-gradient(\n    to right,\n    "," 0,\n    ","  ","\n  )\n"])),t,c,c,"var(--ds-surface-raised, transparent)",c,c,t,s,s,"var(--ds-surface-raised, transparent)",s,s,"var(--ds-shadow-overflow-spread, rgba(9, 30, 66, 0.13))","var(--ds-UNSAFE-transparent, rgba(99, 114, 130, 0))",a,"var(--ds-shadow-overflow-perimeter, transparent)","var(--ds-UNSAFE-transparent, transparent)",a,"var(--ds-shadow-overflow-spread, rgba(9, 30, 66, 0.13))","var(--ds-UNSAFE-transparent, rgba(99, 114, 130, 0))",a,"var(--ds-shadow-overflow-perimeter, transparent)","var(--ds-UNSAFE-transparent, transparent)",a)}},23110:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var r="\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n\n  &::-webkit-scrollbar {\n    height: ".concat("var(--ds-space-100, 8px)",";\n    width: ","var(--ds-space-100, 8px)",";\n  }\n\n  &::-webkit-scrollbar-corner {\n    display: none;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: ","var(--ds-background-neutral-subtle, rgba(0, 0, 0, 0))",";\n  }\n\n  &:hover::-webkit-scrollbar-thumb {\n    background-color: ","var(--ds-background-neutral-bold, rgba(0, 0, 0, 0.2))",";\n    border-radius: 8px;\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background-color: ","var(--ds-background-neutral-bold-hovered, rgba(0, 0, 0, 0.4))",";\n  }\n")},27452:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});var r=function(e){return e[e.Border=0]="Border",e[e.BoxShadow=1]="BoxShadow",e[e.Background=2]="Background",e[e.Blanket=3]="Blanket",e}({})},67093:(e,t,n)=>{"use strict";n.d(t,{G:()=>a,H:()=>i});var r=n(8357),o=n(27452),i=function(e){return e.map((function(e){return c(e)})).concat(a).join("\n")},a="\n  ::selection,*::selection {\n    background-color: transparent;\n  }\n  ::-moz-selection,*::-moz-selection {\n    background-color: transparent;\n  }\n",c=function(e){switch(e){case o.a.Border:return"\n        border: ".concat(r.fO,";\n\n        // Fixes ED-15246: Trello card is visible through a border of a table border\n        &::after {\n          height: 100%;\n          content: '\\00a0';\n          background: ").concat(r.EG,";\n          position: absolute;\n          right: -1px;\n          top: 0;\n          bottom: 0;\n          width: 1px;\n          border: none;\n          display: inline-block;\n        }\n      ");case o.a.BoxShadow:return"\n        box-shadow: ".concat(r.qR,";\n        border-color: transparent;\n        ");case o.a.Background:return"background-color: ".concat("var(--ds-background-selected, ".concat(r.pX,")"),";");case o.a.Blanket:return"\n        position: relative;\n\n        // Fixes ED-9263, where emoji or inline card in panel makes selection go outside the panel\n        // in Safari. Looks like it's caused by user-select: all in the emoji element\n        -webkit-user-select: text;\n\n        ::before {\n          position: absolute;\n          content: '';\n          left: 0;\n          right: 0;\n          top: 0;\n          bottom: 0;\n          width: 100%;\n          pointer-events: none;\n          z-index: ".concat(r.aE,";\n          background-color: ","var(--ds-blanket-selected, #B3D4FF4C)","\n        }");default:return""}}},35747:(e,t,n)=>{"use strict";n.d(t,{d:()=>u});var r,o=n(71171),i=n(28165),a=n(69862),c=n(35433),s=n(8357),u=(0,i.iv)(r||(r=(0,o.Z)(["\n  background-color: ","; /* N60 at 50% */\n  color: ",";\n  border-radius: ","px;\n  padding: 4px;\n  line-height: 12px;\n  font-size: ",";\n  align-self: flex-end;\n  @media (max-width: ","px) {\n    display: none;\n  }\n"])),"var(--ds-background-neutral, rgba(223, 225, 229, 0.5))","var(--ds-text-subtle, ".concat(a.Y8,")"),(0,c.E0)(),(0,s.Gh)(11.67),s.iF)},69862:(e,t,n)=>{"use strict";n.d(t,{M5:()=>h,BA:()=>d,H8:()=>C,nA:()=>S,Y8:()=>w,IR:()=>g,YS:()=>y,uv:()=>b,rt:()=>c,$H:()=>s,r6:()=>a});var r=n(35433);function o(e){if(e&&e.theme){if(r.GV in e.theme)return e.theme[r.GV];if("mode"in e.theme&&r.oc.includes(e.theme.mode))return e.theme}return{mode:r.MU}}function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}var a="#FFEBE6",c="#FF5630",s="#DE350B",u="#FFAB00",l="#36B37E",d="#DEEBFF",p="#4C9AFF",f="#2684FF",h="#0065FF",v="#0052CC",m="#FFFFFF",g="#F4F5F7",y="#DFE1E6",b="#C1C7D0",w="#7A869A",k="#6B778C",E="#172B4D",x="#B8C7E0",O="#8C9CB8",S="#3B475C",C="#283447";i({light:"var(--ds-surface, ".concat(m,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),i({light:"var(--ds-background-selected, ".concat(d,")"),dark:"var(--ds-background-selected, ".concat("#B3D4FF",")")}),i({light:"var(--ds-background-neutral-hovered, ".concat("#EBECF0",")"),dark:"var(--ds-background-neutral-hovered, ".concat(S,")")}),i({light:"var(--ds-surface-overlay, ".concat(m,")"),dark:"var(--ds-surface-overlay, ".concat(C,")")}),i({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(x,")")}),i({light:"var(--ds-text, ".concat(E,")"),dark:"var(--ds-text, ".concat(x,")")}),i({light:"var(--ds-text-selected, ".concat(v,")"),dark:"var(--ds-text-selected, ".concat(v,")")}),i({light:"var(--ds-text-subtlest, ".concat(k,")"),dark:"var(--ds-text-subtlest, ".concat(O,")")}),i({light:"var(--ds-text-subtlest, ".concat(k,")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),i({light:"var(--ds-text, ".concat(E,")"),dark:"var(--ds-text, ".concat(x,")")}),i({light:"var(--ds-text-subtlest, ".concat(k,")"),dark:"var(--ds-text-subtlest, ".concat(O,")")}),i({light:g,dark:C}),i({light:"var(--ds-link, ".concat(v,")"),dark:"var(--ds-link, ".concat(p,")")}),i({light:"var(--ds-link-pressed, ".concat(h,")"),dark:"var(--ds-link-pressed, ".concat(f,")")}),i({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(p,")")}),i({light:"var(--ds-border-focused, ".concat(p,")"),dark:"var(--ds-border-focused, ".concat(f,")")}),i({light:"var(--ds-background-brand-bold, ".concat(v,")"),dark:"var(--ds-background-brand-bold, ".concat(p,")")}),i({light:v,dark:p}),i({light:"#00B8D9",dark:"#00C7E6"}),i({light:"#6554C0",dark:"#998DD9"}),i({light:c,dark:c}),i({light:u,dark:u}),i({light:l,dark:l})},35433:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,GV:()=>r,JB:()=>s,MU:()=>o,Vj:()=>u,oc:()=>i,ug:()=>l,ww:()=>c});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 8},s=function(){return 14},u=function(){return"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace"},l={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}},90430:(e,t,n)=>{"use strict";n.d(t,{X:()=>b});var r=n(56666),o=n(9249),i=n(87371),a=n(45754),c=n(11987),s=n(95058),u=n(95539),l=n(16037),d=n(60553),p=function(){function e(t,n){(0,o.Z)(this,e),this.anchor=t,this.head=n}return(0,i.Z)(e,[{key:"map",value:function(t){return new e(t.map(this.anchor),t.map(this.head))}},{key:"resolve",value:function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);if("row"===t.parent.type.spec.tableRole&&"row"===n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&(0,d.y)(t,n)){var r={type:"cell",anchor:t.pos,head:n.pos};return l.Selection.fromJSON(e,r)}return l.Selection.near(n,1)}}]),e}(),f=n(14409),h=n(89293),v=n(83294);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var b=function(e){(0,a.Z)(n,e);var t=y(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;(0,o.Z)(this,n);var a=function(e,t){var n=e.node(-1),r=f.rU.get(n),o=e.start(-1),i=r.rectBetween(e.pos-o,t.pos-o),a=e.node(0),c=r.cellsInRect(i).filter((function(e){return e!==t.pos-o}));return c.unshift(t.pos-o),c.map((function(e){var t=n.nodeAt(e);if(null===t)throw new Error("No cell at position ".concat(e));var r=e+o+1;return new l.SelectionRange(a.resolve(r),a.resolve(r+t.content.size))}))}(e,i);return(r=t.call(this,a[0].$from,a[0].$to,a)).$anchorCell=e,r.$headCell=i,r.visible=!1,r}return(0,i.Z)(n,[{key:"map",value:function(e,t){var r=e.resolve(t.map(this.$anchorCell.pos)),o=e.resolve(t.map(this.$headCell.pos));if((0,h.Fn)(r)&&(0,h.Fn)(o)&&(0,d.y)(r,o)){var i=this.$anchorCell.node(-1)!==r.node(-1);return i&&this.isRowSelection()?n.rowSelection(r,o):i&&this.isColSelection()?n.colSelection(r,o):new n(r,o)}return l.TextSelection.between(r,o)}},{key:"content",value:function(){for(var e=this.$anchorCell.node(-1),t=f.rU.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],a=r.top;a<r.bottom;a++){for(var c=[],s=a*t.width+r.left,l=r.left;l<r.right;l++,s++){var d=t.map[s];if(!o[d]){o[d]=!0;var p=t.findCell(d),h=e.nodeAt(d);if(null==h)throw new Error("No cell at position ".concat(d));var m=r.left-p.left,y=p.right-r.right;if(m>0||y>0){var b=h.attrs;if(!b)throw new Error("No cell at position ".concat(d));m>0&&(b=(0,v.H6)(b,0,m)),y>0&&(b=(0,v.H6)(b,b.colspan-y,y)),h=p.left<r.left?h.type.createAndFill(b):h.type.create(b,h.content)}if(null==h)throw new Error("No cell at position after create/createAndFill");if(p.top<r.top||p.bottom>r.bottom){var w=g(g({},h.attrs),{},{rowspan:Math.min(p.bottom,r.bottom)-Math.max(p.top,r.top)});h=p.top<r.top?h.type.createAndFill(w):h.type.create(w,h.content)}if(null==h)throw new Error("No cell at position before rowContent.push");c.push(h)}}i.push(e.child(a).copy(u.HY.from(c)))}var k=this.isColSelection()&&this.isRowSelection()?e:i;return new u.p2(u.HY.from(k),1,1)}},{key:"replace",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.p2.empty,n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,c=i.$to,s=e.mapping.slice(n);e.replace(s.map(a.pos),s.map(c.pos),o?u.p2.empty:t)}var d=l.Selection.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);d&&e.setSelection(d)}},{key:"replaceWith",value:function(e,t){this.replace(e,new u.p2(u.HY.from(t),0,0))}},{key:"forEachCell",value:function(e){for(var t=this.$anchorCell.node(-1),n=f.rU.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++){var a=t.nodeAt(o[i]);if(null==a)throw new Error("undefined cell at pos ".concat(o[i]));e(a,r+o[i])}}},{key:"isColSelection",value:function(){if(!this.$anchorCell||!this.$headCell)throw new Error("invalid $anchorCell or $headCell");var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)===this.$headCell.node(-1).childCount}},{key:"isRowSelection",value:function(){if(!this.$anchorCell||!this.$headCell)return!1;var e=this.$anchorCell.start(-1),t=f.rU.get(this.$anchorCell.node(-1)),n=t.rowCount(this.$anchorCell.pos-e)===t.rowCount(this.$headCell.pos-e),r=t.getMaxColInRow(this.$anchorCell);if(n&&this.ranges.length<=t.width&&!t.isPosMerged(this.$anchorCell.pos-e)&&!t.isPosMerged(this.$headCell.pos-e))return this.ranges.length===r;var o=t.colCount(this.$anchorCell.pos-e),i=t.colCount(this.$headCell.pos-e);if(Math.min(o,i)>0)return!1;var a=o+this.$anchorCell.nodeAfter.attrs.colspan,c=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(a,c)===t.width}},{key:"eq",value:function(e){return e instanceof n&&e.$anchorCell.pos===this.$anchorCell.pos&&e.$headCell.pos===this.$headCell.pos}},{key:"toJSON",value:function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}},{key:"getBookmark",value:function(){return new p(this.$anchorCell.pos,this.$headCell.pos)}}],[{key:"colSelection",value:function(e){var t=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=f.rU.get(t.node(-1)),i=t.start(-1),a=o.findCell(t.pos-i),c=o.findCell(r.pos-i),s=t.node(0);return a.top<=c.top?(a.top>0&&(t=s.resolve(i+o.map[a.left])),c.bottom<o.height&&(r=s.resolve(i+o.map[o.width*(o.height-1)+c.right-1]))):(c.top>0&&(r=s.resolve(i+o.map[c.left])),a.bottom<o.height&&(t=s.resolve(i+o.map[o.width*(o.height-1)+a.right-1]))),new n(t,r)}},{key:"rowSelection",value:function(e){var t=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=f.rU.get(t.node(-1)),i=t.start(-1),a=o.findCell(t.pos-i),c=o.findCell(r.pos-i),s=t.node(0);return a.left<=c.left?(a.left>0&&(t=s.resolve(i+o.map[a.top*o.width])),c.right<o.width&&(r=s.resolve(i+o.map[o.width*(c.top+1)-1]))):(c.left>0&&(r=s.resolve(i+o.map[c.top*o.width])),a.right<o.width&&(t=s.resolve(i+o.map[o.width*(a.top+1)-1]))),new n(t,r)}},{key:"fromJSON",value:function(e,t){return new n(e.resolve(t.anchor),e.resolve(t.head))}},{key:"create",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return new n(e.resolve(t),e.resolve(r))}}]),n}(l.Selection);l.Selection.jsonID("cell",b)},14409:(e,t,n)=>{"use strict";n.d(t,{M2:()=>d,UL:()=>l,rU:()=>p});var r,o,i=n(87371),a=n(9249);if("undefined"!=typeof WeakMap){var c=new WeakMap;r=function(e){return c.get(e)},o=function(e,t){return c.set(e,t),t}}else{var s=[],u=0;r=function(e){for(var t=0;t<s.length;t+=2)if(s[t]===e)return s[t+1]},o=function(e,t){return 10===u&&(u=0),s[u++]=e,s[u++]=t}}var l=(0,i.Z)((function e(t,n,r,o){(0,a.Z)(this,e),this.left=t,this.top=n,this.right=r,this.bottom=o})),d=function(e){return e.COLLISION="collision",e.OVERLONG_ROWSPAN="overlong_rowspan",e.MISSING="missing",e.COLWIDTH_MISMATCH="colwidth mismatch",e}({}),p=function(){function e(t,n,r,o){(0,a.Z)(this,e),this.width=t,this.height=n,this.map=r,this.problems=o}return(0,i.Z)(e,[{key:"findCell",value:function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n===e){for(var r=t%this.width,o=t/this.width|0,i=r+1,a=o+1,c=1;i<this.width&&this.map[t+c]===n;c++)i++;for(var s=1;a<this.height&&this.map[t+this.width*s]===n;s++)a++;return new l(r,o,i,a)}}throw new RangeError("No cell with offset "+e+" found")}},{key:"colCount",value:function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]===e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")}},{key:"rowCount",value:function(e){if(this.width<=0)throw new RangeError("Wrong table width found");for(var t=0;t<this.map.length;t++)if(this.map[t]===e)return Math.floor(t/this.width);throw new RangeError("No cell with offset "+e+" found")}},{key:"isPosMerged",value:function(e){return this.map.filter((function(t){return t===e})).length>1}},{key:"nextCell",value:function(e,t,n){var r=this.findCell(e),o=r.left,i=r.right,a=r.top,c=r.bottom;return"horiz"===t?(n<0?0===o:i===this.width)?null:this.map[a*this.width+(n<0?o-1:i)]:(n<0?0===a:c===this.height)?null:this.map[o+this.width*(n<0?a-1:c)]}},{key:"rectBetween",value:function(e,t){var n=this.findCell(e),r=n.left,o=n.right,i=n.top,a=n.bottom,c=this.findCell(t),s=c.left,u=c.right,d=c.top,p=c.bottom;return new l(Math.min(r,s),Math.min(i,d),Math.max(o,u),Math.max(a,p))}},{key:"cellsInRect",value:function(e){for(var t=[],n={},r=e.top;r<e.bottom;r++)for(var o=e.left;o<e.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o===e.left&&o&&this.map[i-1]===a||r===e.top&&r&&this.map[i-this.width]===a||t.push(a))}return t}},{key:"positionAt",value:function(e,t,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r===e){for(var a=t+e*this.width,c=(e+1)*this.width;a<c&&this.map[a]<o;)a++;return a===c?i-1:this.map[a]}o=i}}},{key:"getMaxColInRow",value:function(e){var t=e.parent;if("tableRow"===t.type.name)return t.childCount}}],[{key:"get",value:function(e){return r(e)||o(e,f(e))}}]),e}();function f(e){if("table"!==e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var o=e.child(r),i=0;if(n)for(var a=0;a<r;a++)for(var c=e.child(a),s=0;s<c.childCount;s++){var u=c.child(s);a+u.attrs.rowspan>r&&(i+=u.attrs.colspan)}for(var l=0;l<o.childCount;l++){var d=o.child(l);i+=d.attrs.colspan,d.attrs.rowspan>1&&(n=!0)}-1===t?t=i:t!==i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[],o=0,i=null,a=[],c=0,s=t*n;c<s;c++)r[c]=0;for(var u=0,l=0;u<n;u++){var f=e.child(u);l++;for(var v=0;;v++){for(;o<r.length&&0!==r[o];)o++;if(v===f.childCount)break;for(var m=f.child(v),g=m.attrs,y=g.colspan,b=g.rowspan,w=g.colwidth,k=0;k<b;k++){if(k+u>=n){(i||(i=[])).push({type:d.OVERLONG_ROWSPAN,pos:l,n:b-k});break}for(var E=o+k*t,x=0;x<y;x++){0===r[E+x]?r[E+x]=l:(i||(i=[])).push({type:d.COLLISION,row:u,pos:l,n:y-x});var O=w&&w[x];if(O){var S=(E+x)%t*2,C=a[S];null==C||C!==O&&1===a[S+1]?(a[S]=O,a[S+1]=1):C===O&&a[S+1]++}}}o+=y,l+=m.nodeSize}for(var T=(u+1)*t,A=0;o<T;)0===r[o++]&&A++;A&&(i||(i=[])).push({type:d.MISSING,row:u,n:A}),l++}for(var _=new p(t,n,r,i),P=!1,D=0;!P&&D<a.length;D+=2)null!=a[D]&&a[D+1]<n&&(P=!0);if(a.length>0&&a.length!==2*t){for(var Z=0;Z<2*t-a.length;Z++)a.push(140,0);P=!0}return P&&function(e,t,n){e.problems||(e.problems=[]);for(var r={},o=0;o<e.map.length;o++){var i=e.map[o];if(!r[i]){r[i]=!0;for(var a=n.nodeAt(i),c=null,s=0;s<a.attrs.colspan;s++){var u=t[2*((o+s)%e.width)];null==u||a.attrs.colwidth&&a.attrs.colwidth[s]===u||((c||(c=h(a.attrs)))[s]=u)}c&&e.problems.unshift({type:d.COLWIDTH_MISMATCH,pos:i,colwidth:c})}}}(_,a,e),_}function h(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}},89293:(e,t,n)=>{"use strict";n.d(t,{Fn:()=>o,Zm:()=>i,li:()=>c,m9:()=>a});var r=n(14409);function o(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}function i(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if("cell"===r||"header_cell"===r)return e.doc.resolve(n)}for(var o=e.nodeBefore,i=e.pos;o;o=o.lastChild,i--){var a=o.type.spec.tableRole;if("cell"===a||"header_cell"===a)return e.doc.resolve(i-o.nodeSize)}return null}function a(e){for(var t=e.depth-1;t>0;t--)if("row"===e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function c(e,t,n){var o=e.start(-1),i=r.rU.get(e.node(-1)).nextCell(e.pos-o,t,n);return null==i?null:e.node(0).resolve(o+i)}},83294:(e,t,n)=>{"use strict";n.d(t,{H6:()=>a,S9:()=>c,hl:()=>s});var r=n(56666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e.colspan)throw new Error("removeColSpan(): attrs.colspan not defined");var r=i(i({},e),{},{colspan:e.colspan-n});return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((function(e){return e>0}))||(r.colwidth=void 0)),r}function c(e){if(void 0===e.colspan)throw new Error("addColSpan: attrs.colspan is not defined");if("number"!=typeof e.colspan||Number.isNaN(e.colspan)||e.colspan<1)throw new Error("addColSpan: attrs.colspan must be number >= 1, received: ".concat(e.colspan))}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;c(e);var r=i(i({},e),{},{colspan:e.colspan+n});if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}},52304:(e,t,n)=>{"use strict";n.d(t,{AG:()=>i,g$:()=>a,vy:()=>c});var r=n(41396),o=n(14409),i=function(e){return(0,r.Kk)((function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))(e)},a=function(e){return(0,r.qv)(e,(function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)}))},c=function(e){var t=a(e);if(t){var n=function(e){return(0,r.qv)(e,(function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))}(e);if(n){var i=o.rU.get(n.node),c=t.pos-n.start;return i.rectBetween(c,c)}}}},57740:(e,t,n)=>{"use strict";n.d(t,{y:()=>i});var r=n(14409),o=n(52304),i=function(e){return function(t){var n=(0,o.AG)(t);if(n){var i=r.rU.get(n.node);return(Array.isArray(e)?e:[e]).filter((function(e){return e>=0&&e<=i.width-1})).reduce((function(e,t){var r=i.cellsInRect({left:t,right:t+1,top:0,bottom:i.height});return e.concat(r.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t,depth:n.depth+2}})))}),[])}}}},84934:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});var r=n(14409),o=n(52304),i=function(e){return function(t){var n=(0,o.AG)(t);if(n){var i=r.rU.get(n.node);return(Array.isArray(e)?e:[e]).filter((function(e){return e>=0&&e<=i.height-1})).reduce((function(e,t){var r=i.cellsInRect({left:0,right:i.width,top:t,bottom:t+1});return e.concat(r.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t,depth:n.depth+2}})))}),[])}}}},90461:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var r=n(14409),o=n(98643),i=function(e){if((0,o.u)(e,"cell")){var t=e.$anchorCell.start(-1);return r.rU.get(e.$anchorCell.node(-1)).rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}}},98643:(e,t,n)=>{"use strict";function r(e,t){return!!e&&e.toJSON().type===t}n.d(t,{u:()=>r})},60553:(e,t,n)=>{"use strict";function r(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"===t.node(n).type.spec.tableRole)return!0;return!1}function o(e,t){return e.depth===t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}n.d(t,{L:()=>r,y:()=>o})},95539:(e,t,n)=>{"use strict";n.d(t,{HY:()=>a,PW:()=>ye,ZQ:()=>C,aw:()=>ie,p2:()=>f,vc:()=>d});var r=n(86403);function o(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var i=e.child(r),a=t.child(r);if(i!=a){if(!i.sameMarkup(a))return n;if(i.isText&&i.text!=a.text){for(var c=0;i.text[c]==a.text[c];c++)n++;return n}if(i.content.size||a.content.size){var s=o(i.content,a.content,n+1);if(null!=s)return s}n+=i.nodeSize}else n+=i.nodeSize}}function i(e,t,n,r){for(var o=e.childCount,a=t.childCount;;){if(0==o||0==a)return o==a?null:{a:n,b:r};var c=e.child(--o),s=t.child(--a),u=c.nodeSize;if(c!=s){if(!c.sameMarkup(s))return{a:n,b:r};if(c.isText&&c.text!=s.text){for(var l=0,d=Math.min(c.text.length,s.text.length);l<d&&c.text[c.text.length-l-1]==s.text[s.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(c.content.size||s.content.size){var p=i(c.content,s.content,n-1,r-1);if(p)return p}n-=u,r-=u}else n-=u,r-=u}}var a=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};a.prototype.nodesBetween=function(e,t,n,r,o){void 0===r&&(r=0);for(var i=0,a=0;a<t;i++){var c=this.content[i],s=a+c.nodeSize;if(s>e&&!1!==n(c,r+a,o,i)&&c.content.size){var u=a+1;c.nodesBetween(Math.max(0,e-u),Math.min(c.content.size,t-u),n,r+u)}a=s}},a.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},a.prototype.textBetween=function(e,t,n,r){var o="",i=!0;return this.nodesBetween(e,t,(function(a,c){a.isText?(o+=a.text.slice(Math.max(e,c)-c,t-c),i=!n):a.isLeaf&&r?(o+="function"==typeof r?r(a):r,i=!n):!i&&a.isBlock&&(o+=n,i=!0)}),0),o},a.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new a(r,this.size+e.size)},a.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],r=0;if(t>e)for(var o=0,i=0;i<t;o++){var c=this.content[o],s=i+c.nodeSize;s>e&&((i<e||s>t)&&(c=c.isText?c.cut(Math.max(0,e-i),Math.min(c.text.length,t-i)):c.cut(Math.max(0,e-i-1),Math.min(c.content.size,t-i-1))),n.push(c),r+=c.nodeSize),i=s}return new a(n,r)},a.prototype.cutByIndex=function(e,t){return e==t?a.empty:0==e&&t==this.content.length?this:new a(this.content.slice(e,t))},a.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new a(r,o)},a.prototype.addToStart=function(e){return new a([e].concat(this.content),this.size+e.nodeSize)},a.prototype.addToEnd=function(e){return new a(this.content.concat(e),this.size+e.nodeSize)},a.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},a.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},a.prototype.maybeChild=function(e){return this.content[e]},a.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}},a.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),o(this,e,t)},a.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),i(this,e,t,n)},a.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return u(0,e);if(e==this.size)return u(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?u(n+1,o):u(n,r);r=o}},a.prototype.toString=function(){return"<"+this.toStringInner()+">"},a.prototype.toStringInner=function(){return this.content.join(", ")},a.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},a.fromJSON=function(e,t){if(!t)return a.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(t.map(e.nodeFromJSON))},a.fromArray=function(e){if(!e.length)return a.empty;for(var t,n=0,r=0;r<e.length;r++){var o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new a(t||e,n)},a.from=function(e){if(!e)return a.empty;if(e instanceof a)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new a([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(a.prototype,c);var s={index:0,offset:0};function u(e,t){return s.index=e,s.offset=t,s}function l(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!l(e[r],t[r]))return!1}else{for(var o in e)if(!(o in t)||!l(e[o],t[o]))return!1;for(var i in t)if(!(i in e))return!1}return!0}a.empty=new a([],0);var d=function(e,t){this.type=e,this.attrs=t};function p(e){var t=Error.call(this,e);return t.__proto__=p.prototype,t}d.prototype.addToSet=function(e){for(var t,n=!1,r=0;r<e.length;r++){var o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t},d.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},d.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},d.prototype.eq=function(e){return this==e||this.type==e.type&&l(this.attrs,e.attrs)},d.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},d.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},d.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},d.setFrom=function(e){if(!e||0==e.length)return d.none;if(e instanceof d)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},d.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="ReplaceError";var f=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},h={size:{configurable:!0}};function v(e,t,n){var r=e.findIndex(t),o=r.index,i=r.offset,a=e.maybeChild(o),c=e.findIndex(n),s=c.index,u=c.offset;if(i==t||a.isText){if(u!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(o!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(o,a.copy(v(a.content,t-i-1,n-i-1)))}function m(e,t,n,r){var o=e.findIndex(t),i=o.index,a=o.offset,c=e.maybeChild(i);if(a==t||c.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));var s=m(c.content,t-a-1,n);return s&&e.replaceChild(i,c.copy(s))}function g(e,t,n){if(n.openStart>e.depth)throw new p("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new p("Inconsistent open depths");return y(e,t,n,0)}function y(e,t,n,r){var o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){var c=y(e,t,n,r+1);return i.copy(i.content.replaceChild(o,c))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){var s=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),o=n-1;o>=0;o--)r=t.node(o).copy(a.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return x(i,O(e,s.start,s.end,t,r))}var u=e.parent,l=u.content;return x(u,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}return x(i,S(e,t,r))}function b(e,t){if(!t.type.compatibleContent(e.type))throw new p("Cannot join "+t.type.name+" onto "+e.type.name)}function w(e,t,n){var r=e.node(n);return b(r,t.node(n)),r}function k(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function E(e,t,n,r){var o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(k(e.nodeAfter,r),i++));for(var c=i;c<a;c++)k(o.child(c),r);t&&t.depth==n&&t.textOffset&&k(t.nodeBefore,r)}function x(e,t){if(!e.type.validContent(t))throw new p("Invalid content for node "+e.type.name);return e.copy(t)}function O(e,t,n,r,o){var i=e.depth>o&&w(e,t,o+1),c=r.depth>o&&w(n,r,o+1),s=[];return E(null,e,o,s),i&&c&&t.index(o)==n.index(o)?(b(i,c),k(x(i,O(e,t,n,r,o+1)),s)):(i&&k(x(i,S(e,t,o+1)),s),E(t,n,o,s),c&&k(x(c,S(n,r,o+1)),s)),E(r,null,o,s),new a(s)}function S(e,t,n){var r=[];(E(null,e,n,r),e.depth>n)&&k(x(w(e,t,n+1),S(e,t,n+1)),r);return E(t,null,n,r),new a(r)}h.size.get=function(){return this.content.size-this.openStart-this.openEnd},f.prototype.insertAt=function(e,t){var n=m(this.content,e+this.openStart,t,null);return n&&new f(n,this.openStart,this.openEnd)},f.prototype.removeBetween=function(e,t){return new f(v(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},f.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},f.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},f.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},f.fromJSON=function(e,t){if(!t)return f.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new f(a.fromJSON(e,t.content),n,r)},f.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,r=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new f(e,n,r)},Object.defineProperties(f.prototype,h),f.empty=new f(a.empty,0,0);var C=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},T={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};C.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},T.parent.get=function(){return this.node(this.depth)},T.doc.get=function(){return this.node(0)},C.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},C.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},C.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},C.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},C.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},C.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},C.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},T.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},T.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r},T.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},C.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)r+=n.child(o).nodeSize;return r},C.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return d.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i},C.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},C.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},C.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new D(this,e,n)},C.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},C.prototype.max=function(e){return e.pos>this.pos?e:this},C.prototype.min=function(e){return e.pos<this.pos?e:this},C.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},C.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],r=0,o=t,i=e;;){var a=i.content.findIndex(o),c=a.index,s=a.offset,u=o-s;if(n.push(i,c,r+s),!u)break;if((i=i.child(c)).isText)break;o=u-1,r+=s+1}return new C(t,n,o)},C.resolveCached=function(e,t){for(var n=0;n<A.length;n++){var r=A[n];if(r.pos==t&&r.doc==e)return r}var o=A[_]=C.resolve(e,t);return _=(_+1)%P,o},Object.defineProperties(C.prototype,T);var A=[],_=0,P=12,D=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},Z={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Z.start.get=function(){return this.$from.before(this.depth+1)},Z.end.get=function(){return this.$to.after(this.depth+1)},Z.parent.get=function(){return this.$from.node(this.depth)},Z.startIndex.get=function(){return this.$from.index(this.depth)},Z.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(D.prototype,Z);var I=Object.create(null),L=function(e,t,n,r){this.type=e,this.attrs=t,this.content=n||a.empty,this.marks=r||d.none},M={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};M.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},M.childCount.get=function(){return this.content.childCount},L.prototype.child=function(e){return this.content.child(e)},L.prototype.maybeChild=function(e){return this.content.maybeChild(e)},L.prototype.forEach=function(e){this.content.forEach(e)},L.prototype.nodesBetween=function(e,t,n,r){void 0===r&&(r=0),this.content.nodesBetween(e,t,n,r,this)},L.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},M.textContent.get=function(){return this.textBetween(0,this.content.size,"")},L.prototype.textBetween=function(e,t,n,r){return this.content.textBetween(e,t,n,r)},M.firstChild.get=function(){return this.content.firstChild},M.lastChild.get=function(){return this.content.lastChild},L.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},L.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},L.prototype.hasMarkup=function(e,t,n){return this.type==e&&l(this.attrs,t||e.defaultAttrs||I)&&d.sameSet(this.marks,n||d.none)},L.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},L.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},L.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},L.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return f.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),c=r.node(i).content.cut(r.pos-a,o.pos-a);return new f(c,r.depth-i,o.depth-i)},L.prototype.replace=function(e,t,n){return g(this.resolve(e),this.resolve(t),n)},L.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(!(t=t.maybeChild(r)))return null;if(o==e||t.isText)return t;e-=o+1}},L.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},L.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},L.prototype.resolve=function(e){return C.resolveCached(this,e)},L.prototype.resolveNoCache=function(e){return C.resolve(this,e)},L.prototype.rangeHasMark=function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r},M.isBlock.get=function(){return this.type.isBlock},M.isTextblock.get=function(){return this.type.isTextblock},M.inlineContent.get=function(){return this.type.inlineContent},M.isInline.get=function(){return this.type.isInline},M.isText.get=function(){return this.type.isText},M.isLeaf.get=function(){return this.type.isLeaf},M.isAtom.get=function(){return this.type.isAtom},L.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),N(this.marks,e)},L.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},L.prototype.canReplace=function(e,t,n,r,o){void 0===n&&(n=a.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(e).matchFragment(n,r,o),c=i&&i.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(var s=r;s<o;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},L.prototype.canReplaceWith=function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd},L.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},L.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=d.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!d.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(e){return e.type.name})));this.content.forEach((function(e){return e.check()}))},L.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},L.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=a.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)},Object.defineProperties(L.prototype,M);var R=function(e){function t(t,n,r,o){if(e.call(this,t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):N(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(L);function N(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var j=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},F={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};j.parse=function(e,t){var n=new B(e,t);if(null==n.next)return j.empty;var r=U(n);n.next&&n.err("Unexpected trailing text");var o=function(e){var t=Object.create(null);return n(K(e,0));function n(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){var i=o.indexOf(n),a=i>-1&&o[i+1];K(e,r).forEach((function(e){a||o.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var i=t[r.join(",")]=new j(r.indexOf(e.length-1)>-1),a=0;a<o.length;a+=2){var c=o[a+1].sort(q);i.next.push(o[a],t[c.join(",")]||n(c))}return i}}(function(e){var t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}function i(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(i(n,t))}),[]);if("seq"==e.type)for(var a=0;;a++){var c=i(e.exprs[a],t);if(a==e.exprs.length-1)return c;o(c,t=n())}else{if("star"==e.type){var s=n();return r(t,s),o(i(e.expr,s),s),[r(s)]}if("plus"==e.type){var u=n();return o(i(e.expr,t),u),o(i(e.expr,u),u),[r(u)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){for(var l=t,d=0;d<e.min;d++){var p=n();o(i(e.expr,l),p),l=p}if(-1==e.max)o(i(e.expr,l),l);else for(var f=e.min;f<e.max;f++){var h=n();r(l,h),o(i(e.expr,l),h),l=h}return[r(l)]}if("name"==e.type)return[r(t,null,e.value)]}}}(r));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],c=0;c<o.next.length;c+=2){var s=o.next[c],u=o.next[c+1];a.push(s.name),!i||s.isText||s.hasRequiredAttrs()||(i=!1),-1==r.indexOf(u)&&r.push(u)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},j.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},j.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r},F.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},F.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},j.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},j.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var r=[this];return function o(i,c){var s=i.matchFragment(e,n);if(s&&(!t||s.validEnd))return a.from(c.map((function(e){return e.createAndFill()})));for(var u=0;u<i.next.length;u+=2){var l=i.next[u],d=i.next[u+1];if(!l.isText&&!l.hasRequiredAttrs()&&-1==r.indexOf(d)){r.push(d);var p=o(d,c.concat(l));if(p)return p}}}(this,[])},j.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},j.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var c=0;c<o.next.length;c+=2){var s=o.next[c];s.isLeaf||s.hasRequiredAttrs()||s.name in t||r.type&&!o.next[c+1].validEnd||(n.push({match:s.contentMatch,type:s,via:r}),t[s.name]=!0)}}},F.edgeCount.get=function(){return this.next.length>>1},j.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},j.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)-1==e.indexOf(n.next[r])&&t(n.next[r])}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)r+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return r})).join("\n")},Object.defineProperties(j.prototype,F),j.empty=new j(!0);var B=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},z={next:{configurable:!0}};function U(e){var t=[];do{t.push(V(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function V(e){var t=[];do{t.push(H(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function H(e){for(var t=function(e){if(e.eat("(")){var t=U(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&o.push(a)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=G(e,t)}return t}function W(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function G(e,t){var n=W(e),r=n;return e.eat(",")&&(r="}"!=e.next?W(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function q(e,t){return t-e}function K(e,t){var n=[];return function t(r){var o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var a=o[i],c=a.term,s=a.to;c||-1!=n.indexOf(s)||t(s)}}(t),n.sort(q)}function $(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function J(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function Y(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new ee(e[n]);return t}z.next.get=function(){return this.tokens[this.pos]},B.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},B.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(B.prototype,z);var X=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=Y(n.attrs),this.defaultAttrs=$(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},Q={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};Q.isInline.get=function(){return!this.isBlock},Q.isTextblock.get=function(){return this.isBlock&&this.inlineContent},Q.isLeaf.get=function(){return this.contentMatch==j.empty},Q.isAtom.get=function(){return this.isLeaf||this.spec.atom},Q.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")},X.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},X.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},X.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:J(this.attrs,e)},X.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new L(this,this.computeAttrs(e),a.from(t),d.setFrom(n))},X.prototype.createChecked=function(e,t,n){if(t=a.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new L(this,this.computeAttrs(e),t,d.setFrom(n))},X.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=a.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(a.empty,!0);return o?new L(this,e,t.append(o),d.setFrom(n)):null},X.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},X.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},X.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},X.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:d.empty:e},X.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,r){return n[e]=new X(e,t,r)}));var r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(X.prototype,Q);var ee=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},te={isRequired:{configurable:!0}};te.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(ee.prototype,te);var ne=function(e,t,n,r){this.name=e,this.schema=n,this.spec=r,this.attrs=Y(r.attrs),this.rank=t,this.excluded=null;var o=$(this.attrs);this.instance=o&&new d(this,o)};ne.prototype.create=function(e){return!e&&this.instance?this.instance:new d(this,J(this.attrs,e))},ne.compile=function(e,t){var n=Object.create(null),r=0;return e.forEach((function(e,o){return n[e]=new ne(e,r++,t,o)})),n},ne.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e},ne.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},ne.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var re=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=r.Z.from(e.nodes),this.spec.marks=r.Z.from(e.marks),this.nodes=X.compile(this.spec.nodes,this),this.marks=ne.compile(this.spec.marks,this);var n=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var i=this.nodes[o],a=i.spec.content||"",c=i.spec.marks;i.contentMatch=n[a]||(n[a]=j.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==c?null:c?oe(this,c.split(" ")):""!=c&&i.inlineContent?null:[]}for(var s in this.marks){var u=this.marks[s],l=u.spec.excludes;u.excluded=null==l?[u]:""==l?[]:oe(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function oe(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(var c in e.marks){var s=e.marks[c];("_"==o||s.spec.group&&s.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=s)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}re.prototype.node=function(e,t,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof X))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)},re.prototype.text=function(e,t){var n=this.nodes.text;return new R(n,n.defaultAttrs,e,d.setFrom(t))},re.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},re.prototype.nodeFromJSON=function(e){return L.fromJSON(this,e)},re.prototype.markFromJSON=function(e){return d.fromJSON(this,e)},re.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var ie=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};ie.prototype.parse=function(e,t){void 0===t&&(t={});var n=new fe(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},ie.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new fe(this,t,!0);return n.addAll(e,null,t.from,t.to),f.maxOpen(n.finish())},ie.prototype.matchTag=function(e,t,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(ve(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i}return o}}},ie.prototype.matchStyle=function(e,t,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(e)||i.context&&!n.matchesContext(i.context)||i.style.length>e.length&&(61!=i.style.charCodeAt(e.length)||i.style.slice(e.length+1)!=t))){if(i.getAttrs){var a=i.getAttrs(t);if(!1===a)continue;i.attrs=a}return i}}},ie.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var o=t[r];if((null==o.priority?50:o.priority)<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=me(e)),e.mark=t}))};for(var o in e.marks)r(o);var i;for(var a in e.nodes)i=void 0,(i=e.nodes[a].spec.parseDOM)&&i.forEach((function(e){n(e=me(e)),e.node=a}));return t},ie.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new ie(e,ie.schemaRules(e)))};var ae={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ce={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},se={ol:!0,ul:!0},ue=1,le=2;function de(e,t){return(t?ue:0)|("full"===t||null==t&&e&&"pre"==e.whitespace?le:0)}var pe=function(e,t,n,r,o,i,a){this.type=e,this.attrs=t,this.solid=o,this.match=i||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=d.none,this.pendingMarks=r,this.stashMarks=[]};pe.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(a.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},pe.prototype.finish=function(e){if(!(this.options&ue)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var r=a.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},pe.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]},pe.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):ge(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},pe.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!ae.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var fe=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var r,o=t.topNode,i=de(null,t.preserveWhitespace)|(n?4:0);r=o?new pe(o.type,o.attrs,d.none,d.none,!0,t.topMatch||o.type.contentMatch,i):new pe(n?null:e.schema.topNodeType,null,d.none,d.none,!0,null,i),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1},he={top:{configurable:!0},currentPos:{configurable:!0}};function ve(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function me(e){var t={};for(var n in e)t[n]=e[n];return t}function ge(e,t){var n=t.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(e)){var i=[],a=function(e){i.push(e);for(var n=0;n<e.edgeCount;n++){var r=e.edge(n),o=r.type,c=r.next;if(o==t)return!0;if(i.indexOf(c)<0&&a(c))return!0}};return a(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}he.top.get=function(){return this.nodes[this.open]},fe.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},fe.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(n.options&le||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&ue)t=n.options&le?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},fe.prototype.addElement=function(e,t){var n,r=e.nodeName.toLowerCase();se.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&se.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:ce.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var i,a=this.top,c=this.needsBlock;if(ae.hasOwnProperty(r))i=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),i&&this.sync(a),this.needsBlock=c}else this.addElementByRule(e,o,!1===o.consuming?n:null)},fe.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},fe.prototype.ignoreFallback=function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},fe.prototype.readStyles=function(e){var t=d.none;e:for(var n=0;n<e.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(e[n],e[n+1],this,r);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;r=o}return t},fe.prototype.addElementByRule=function(e,t,n){var r,o,i,a=this;t.node?(o=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs,t.preserveWhitespace):(i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i));var c=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var s=t.contentElement;"string"==typeof s?s=e.querySelector(s):"function"==typeof s&&(s=s(e)),s||(s=e),this.findAround(e,s,!0),this.addAll(s,r)}r&&(this.sync(c),this.open--),i&&this.removePendingMark(i,c)},fe.prototype.addAll=function(e,t,n,r){for(var o=n||0,i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i),t&&ae.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)},fe.prototype.findPlace=function(e){for(var t,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},fe.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1},fe.prototype.enter=function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r},fe.prototype.enterInner=function(e,t,n,r){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var i=null==r?-5&o.options:de(e,r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new pe(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},fe.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},fe.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},fe.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},he.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e},fe.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},fe.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},fe.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node))t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},fe.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},fe.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=function(e,c){for(;e>=0;e--){var s=n[e];if(""==s){if(e==n.length-1||0==e)continue;for(;c>=i;c--)if(a(e-1,c))return!0;return!1}var u=c>0||0==c&&o?t.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!u||u.name!=s&&-1==u.groups.indexOf(s))return!1;c--}return!0};return a(n.length-1,this.open)},fe.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},fe.prototype.addPendingMark=function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},fe.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var o=r.popFromStashMark(e);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==t)break}},Object.defineProperties(fe.prototype,he);var ye=function(e,t){this.nodes=e||{},this.marks=t||{}};function be(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function we(e){return e.document||window.document}ye.prototype.serializeFragment=function(e,t,n){var r=this;void 0===t&&(t={}),n||(n=we(t).createDocumentFragment());var o=n,i=null;return e.forEach((function(e){if(i||e.marks.length){i||(i=[]);for(var n=0,a=0;n<i.length&&a<e.marks.length;){var c=e.marks[a];if(r.marks[c.type.name]){if(!c.eq(i[n])||!1===c.type.spec.spanning)break;n+=2,a++}else a++}for(;n<i.length;)o=i.pop(),i.pop();for(;a<e.marks.length;){var s=e.marks[a++],u=r.serializeMark(s,e.isInline,t);u&&(i.push(s,o),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(r.serializeNodeInner(e,t))})),n},ye.prototype.serializeNodeInner=function(e,t){void 0===t&&(t={});var n=ye.renderSpec(we(t),this.nodes[e.type.name](e)),r=n.dom,o=n.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return r},ye.prototype.serializeNode=function(e,t){void 0===t&&(t={});for(var n=this.serializeNodeInner(e,t),r=e.marks.length-1;r>=0;r--){var o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},ye.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var r=this.marks[e.type.name];return r&&ye.renderSpec(we(n),r(e,t))},ye.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var r=t[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,a=n?e.createElementNS(n,r):e.createElement(r),c=t[1],s=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c))for(var u in s=2,c)if(null!=c[u]){var l=u.indexOf(" ");l>0?a.setAttributeNS(u.slice(0,l),u.slice(l+1),c[u]):a.setAttribute(u,c[u])}for(var d=s;d<t.length;d++){var p=t[d];if(0===p){if(d<t.length-1||d>s)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var f=ye.renderSpec(e,p,n),h=f.dom,v=f.contentDOM;if(a.appendChild(h),v){if(i)throw new RangeError("Multiple content holes");i=v}}return{dom:a,contentDOM:i}},ye.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new ye(this.nodesFromSchema(e),this.marksFromSchema(e)))},ye.nodesFromSchema=function(e){var t=be(e.nodes);return t.text||(t.text=function(e){return e.text}),t},ye.marksFromSchema=function(e){return be(e.marks)}},98712:(e,t,n)=>{"use strict";n.d(t,{E2:()=>g,R1:()=>k,UX:()=>h,ud:()=>w});var r=n(56666),o=n(59740),i=n(87307),a=n(25834),c=n(92011),s=["getRatio"],u=["queryParams"],l=["representation","altRepresentations"],d=["representation","skinVariations","altRepresentations"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e,t){var n=e.getRatio,r=void 0===n?m:n,a=(0,o.Z)(e,s),c=v(r),l=t||{},d=l.queryParams,p=void 0===d?{}:d,h=f(f({},(0,o.Z)(l,u)),{},{queryParams:f(f(f({},c),p),{},{preferredRepresentation:"IMAGE"})});return i.P6.requestService(a,h)},v=function(e){return e()>1?{scale:"XHDPI",altScale:"XXXHDPI"}:{altScale:"XHDPI"}},m=function(){return"undefined"==typeof window?0:window.devicePixelRatio},g=function(e){return e[v(m).altScale]},y=function(e,t){if((0,a.Aj)(e)&&t&&t.spriteSheets){var n=e,r=n.height,o=n.width,i=n.x,s=n.y,u=n.xIndex,l=n.yIndex,d=n.spriteRef,p=t.spriteSheets[d];if(p)return{sprite:p,height:r,width:o,x:i,y:s,xIndex:u,yIndex:l}}else if((0,a.Cy)(e)){var f=e.height,h=e.width,v=e.imagePath;return function(e,t){return!(!t||!t.mediaApiToken||0!==e.indexOf(t.mediaApiToken.url))}(v,t)?(0,a.oX)(e):{height:f,width:h,imagePath:v}}(0,c.ZP)("failed conversion for representation",e,t)},b=function(e,t){return e&&0!==Object.keys(e).length?y(g(e),t):void 0},w=function(e){return{emojis:e.emojis.map((function(t){var n=y(t.representation,e.meta),r=b(t.altRepresentations,e.meta),i=function(e,t){if(!e.skinVariations)return[];var n=e.skinVariations,r=e.id;return n.map((function(e){var n=e.representation,i=e.altRepresentations,a=(0,o.Z)(e,l);return f({baseId:r,representation:y(n,t),altRepresentation:b(i,t)},a)}))}(t,e.meta),c=(t.representation,t.skinVariations,t.altRepresentations,f(f({},(0,o.Z)(t,d)),{},{representation:n,skinVariations:i}));return(0,a._p)(c,r)})),mediaApiToken:e.meta&&e.meta.mediaApiToken}},k=function(e,t){return!!(t&&e.altRepresentation&&function(e){return m()>1?2*e:e}(t)>e.representation.height)}},26501:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>E});var r=n(96234),o=n(7896),i=n(59740),a=n(2784),c=n(25834),s=n(99604),u=n(92011),l=n(20013),d=n(96227),p=n(63915),f=n(47969),h=n(74173),v=n(79169),m=n(97664),g=n(1527),y=["emoji","placeholderSize"],b=["emoji","placeholderSize","showTooltip","fitToHeight","children"],w=function(e){var t=e.emoji,n=e.placeholderSize,r=(0,i.Z)(e,y);(0,f.k)(h.vb["emoji-rendered"].getInstance(t.id||t.shortName),v.VO,{source:"CachingEmoji",emojiId:t.id}),(0,a.useEffect)((function(){(0,h.R6)((0,h.oY)(t),"fmp")||(0,h.oY)(t).markFMP()}),[]);return a.createElement(p.t,{experiences:[h.vb["emoji-rendered"].getInstance(e.emoji.id||e.emoji.shortName)]},(0,c.tE)(t)?a.createElement(k,(0,o.Z)({emoji:t,placeholderSize:n},r)):a.createElement(l.ZP,(0,o.Z)({emoji:t},r)))},k=function(e){var t=e.emoji,n=e.placeholderSize,c=e.showTooltip,p=e.fitToHeight,f=(e.children,(0,i.Z)(e,b)),v=t.shortName,y=t.representation,w=(0,a.useState)(),k=(0,r.Z)(w,2),E=k[0],x=k[1],O=(0,a.useState)(!1),S=(0,r.Z)(O,2),C=S[0],T=S[1],A=(0,m.x)().emojiProvider,_=(0,a.useCallback)((function(e){(0,u.ZP)("Loading image via media cache",t.shortName),(0,h.oY)(t).mark(s.Uz.MEDIA_START),e.getMediaEmojiDescriptionURLWithInlineToken(t).then((function(e){x(e),T(!1),(0,h.oY)(t).mark(s.Uz.MEDIA_END)})).catch((function(e){x(void 0),T(!0),(0,h.oY)(t).failure({metadata:{error:(0,g.dg)(e),reason:"failed to load media emoji",source:"CachingMediaEmoji",emojiId:t.id}})}))}),[t]);(0,a.useEffect)((function(){A&&_(A)}),[A,_]);return E&&!C?a.createElement(l.ZP,(0,o.Z)({},f,{showTooltip:c,fitToHeight:p,emoji:E,onLoadError:function(e){(0,h.oY)(e).failure({metadata:{reason:"load error",source:"CachingMediaEmoji",emojiId:e.id}}),T(!0)}})):a.createElement(d.Z,{size:p||n,shortName:v,showTooltip:c,representation:y})};const E=(0,a.memo)(w)},20013:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>te});var r=n(59740),o=n(96234),i=n(7896),a=n(56666),c=n(2784),s=n(28165),u=n(86779),l=n(98712),d=n(79169),p=n(25834),f=n(99604),h=n(76751),v=n(31043),m=n(64932),g=n(30076),y=n(55339);const b=function(e){return(0,s.tZ)("span",{css:y.lM,className:y.og,"data-testid":"render-emoji-delete-button"},(0,s.tZ)(v.Z,{iconBefore:(0,s.tZ)(m.Z,{label:d.BR,primaryColor:"var(--ds-text-subtle, ".concat(g.Mx,")"),size:"small"}),onClick:e.onClick,appearance:"subtle-link",spacing:"none",testId:"emoji-delete-button",tabIndex:-1}))};var w=n(74173),k=n(47969),E={mac:!1,supportsIntersectionObserver:!1};"undefined"!=typeof navigator&&(E.mac=/Mac/.test(navigator.platform),E.supportsIntersectionObserver="undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype);const x=E;function O(){return O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O.apply(this,arguments)}function S(e,t){return S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},S(e,t)}var C=new Map,T=new WeakMap,A=0,_=void 0;function P(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(T.has(n)||(A+=1,T.set(n,A.toString())),T.get(n)):"0":e[t]);var n})).toString()}function D(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=_),void 0===window.IntersectionObserver&&void 0!==r){var o=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),function(){}}var i=function(e){var t=P(e),n=C.get(t);if(!n){var r,o=new Map,i=new IntersectionObserver((function(t){t.forEach((function(t){var n,i=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(n=o.get(t.target))||n.forEach((function(e){e(i,t)}))}))}),e);r=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:o},C.set(t,n)}return n}(n),a=i.id,c=i.observer,s=i.elements,u=s.get(e)||[];return s.has(e)||s.set(e,u),u.push(t),c.observe(e),function(){u.splice(u.indexOf(t),1),0===u.length&&(s.delete(e),c.unobserve(e)),0===s.size&&(c.disconnect(),C.delete(a))}}var Z=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function I(e){return"function"!=typeof e.children}var L=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),I(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,S(t,n);var o=r.prototype;return o.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},o.componentWillUnmount=function(){this.unobserve(),this.node=null},o.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,o=e.trackVisibility,i=e.delay,a=e.fallbackInView;this._unobserveCb=D(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:o,delay:i},a)}},o.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},o.render=function(){if(!I(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var r=this.props,o=r.children,i=r.as,a=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(r,Z);return c.createElement(i||"div",O({ref:this.handleNode},a),o)},r}(c.Component);L.displayName="InView",L.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};var M,R,N,j,F=function(e){var t=function(e){var t=void 0===e?{}:e,n=t.threshold,r=t.delay,o=t.trackVisibility,i=t.rootMargin,a=t.root,s=t.triggerOnce,u=t.skip,l=t.initialInView,d=t.fallbackInView,p=c.useRef(),f=c.useState({inView:!!l}),h=f[0],v=f[1],m=c.useCallback((function(e){void 0!==p.current&&(p.current(),p.current=void 0),u||e&&(p.current=D(e,(function(e,t){v({inView:e,entry:t}),t.isIntersecting&&s&&p.current&&(p.current(),p.current=void 0)}),{root:a,rootMargin:i,threshold:n,trackVisibility:o,delay:r},d))}),[Array.isArray(n)?n.toString():n,a,i,s,u,o,d,r]);(0,c.useEffect)((function(){p.current||!h.entry||s||u||v({inView:!!l})}));var g=[m,h.inView,h.entry];return g.ref=g[0],g.inView=g[1],g.entry=g[2],g}(e);return x.supportsIntersectionObserver?t:[void 0,!0]},B=n(83112),z=n(42670),U=n(16497),V=(M="Backspace",N=(R="Backspace").replace(/Mod/i,"Ctrl"),j=R.replace(/Mod/i,"Cmd"),function(e,t,n,r){return{description:e,windows:t.replace(/Mod/i,"Ctrl"),mac:n.replace(/Mod/i,"Cmd"),common:r}}(M,N,j,R));var H={ARROWLEFT:"←",ARROWRIGHT:"→",ARROWUP:"↑",ARROWDOWN:"↓"};var W=c.memo((function(e){var t=e.description,n=e.shortcutOverride,r=e.keymap,o=n||r&&function(e){var t=(x.mac?e.mac.replace(/Cmd/i,"⌘").replace(/Shift/i,"⇧").replace(/Ctrl/i,"⌃").replace(/Alt/i,"⌥").replace(/Backspace/i,"⌫").replace(/Enter/i,"⏎"):e.windows.replace(/Backspace/i,"⌫")).split("-"),n=t[t.length-1];return 1===n.length&&(n=n.toUpperCase()),t[t.length-1]=H[n.toUpperCase()]||n,t.join(x.mac?"":"+")}(r);return o||t?(0,s.tZ)(c.Fragment,null,t,o&&t&&" ",o&&(0,s.tZ)("span",{css:y.QB},o)):null})),G=n(71499),q=function(){var e=(0,B.Z)().formatMessage;return c.createElement(W,{description:e(U.s.deleteEmojiTooltip),keymap:V})},K=function(e){var t=e.emoji;return c.createElement(G.Z,{id:"screenreader-emoji-".concat(t.id)},c.createElement(z.Z,(0,i.Z)({},U.s.deleteEmojiTooltipForScreenreader,{values:{shortName:t.shortName}})))},$=["emoji","fitToHeight","selected","selectOnHover","className","showTooltip","showDelete","shouldBeInteractive","tabIndex","onSelected","onMouseMove","onFocus","onDelete","onLoadError","onLoadSuccess","disableLazyLoad","autoWidth","children","type"];function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Y=function(e,t){var n=e.emoji,r=e.onDelete;r&&r((0,p.Vo)(n),n,t)},X=function(e){var t=e.emoji,n=e.fitToHeight,r=e.selected,o=e.selectOnHover,c=e.className,u=t.representation,l=u.sprite,d="".concat(y.ux," ").concat(r?y.a8:""," ").concat(o?y.Tz:""," ").concat(c||""),p={};n&&(p={width:"".concat(n,"px"),height:"".concat(n,"px"),minHeight:"".concat(n,"px"),minWidth:"".concat(n,"px")});var f=100/(l.column-1)*(u.xIndex-0),h=100/(l.row-1)*(u.yIndex-0),v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({backgroundImage:"url(".concat(l.url,")"),backgroundPosition:"".concat(f,"% ").concat(h,"%"),backgroundSize:"".concat(100*l.column,"% ").concat(100*l.row,"%")},p);return(0,s.tZ)(ee,(0,i.Z)({},e,{type:"sprite",className:d}),(0,s.tZ)("span",{className:y.Lc,style:v}," "))},Q=function(e){var t,n,r,a=e.emoji,d=e.fitToHeight,h=e.selected,v=e.selectOnHover,m=e.className,g=e.showDelete,k=e.onLoadSuccess,E=e.disableLazyLoad,O=e.autoWidth,S=F({triggerOnce:!0}),C=(0,o.Z)(S,2),T=C[0],A=C[1],_=(0,w.oY)(a),P="".concat(y.EE," ").concat(y.ux," ").concat(h?y.a8:""," ").concat(v?y.Tz:""," ").concat(y.rZ," ").concat(m||""," ").concat(g?y.pE:""),D=(0,l.R1)(a,d)?a.altRepresentation:a.representation;(0,p.Cy)(D)?(r=D.imagePath,t=D.width,n=D.height):(0,p.$m)(D)&&(r=D.mediaPath,t=D.width,n=D.height);var Z={};d&&t&&n&&(Z={width:O?"auto":d/n*t,height:d});var I=(0,c.useCallback)((function(){(0,w.R6)(_,f.Uz.ONLOAD_START)||_.mark(f.Uz.ONLOAD_START)}),[_]);(0,c.useEffect)((function(){A&&I()}),[A,I]);var L=(0,s.tZ)("img",(0,i.Z)({loading:E?"eager":"lazy",src:r,key:r,alt:a.shortName,"data-emoji-short-name":a.shortName,"data-emoji-id":a.id,"data-emoji-text":a.fallback||a.shortName,className:"emoji",style:{visibility:"visible"},onError:function(t){!function(e,t){var n=e.emoji,r=e.onLoadError;t.target&&(t.target.style.visibility="hidden"),r&&r((0,p.Vo)(n),n,t)}(e,t)},onLoad:function(){var e=_.metrics.marks.find((function(e){return e.name===f.Uz.MOUNTED_END}));(0,w.R6)(_,f.Uz.ONLOAD_START)||_.mark(f.Uz.ONLOAD_START,null==e?void 0:e.time);var t=_.metrics.marks.find((function(e){return e.name===f.Uz.ONLOAD_START}));e&&t&&_.addMetadata({lazyLoad:t.time>e.time}),(0,w.R6)(_,f.Uz.ONLOAD_END)||_.mark(f.Uz.ONLOAD_END),_.success({metadata:{IBSupported:x.supportsIntersectionObserver}}),k&&k(a)}},Z));return g?(0,s.tZ)(u.Z,{content:(0,s.tZ)(q,null),position:"right-start",tag:"span"},(0,s.tZ)(ee,(0,i.Z)({},e,{"aria-labelledby":"screenreader-emoji-".concat(a.id),type:"image",className:P,ref:T,showTooltip:!1,onMouseOver:function(e){var t;null!==(t=document.activeElement)&&void 0!==t&&t.contains(e.target)||e.stopPropagation()}}),L,(0,s.tZ)(b,{onClick:function(t){return Y(e,t)}}),(0,s.tZ)(K,{emoji:a}))):(0,s.tZ)(ee,(0,i.Z)({},e,{type:"image",className:P,ref:T}),L)},ee=(0,c.forwardRef)((function(e,t){var n=e.emoji,o=(e.fitToHeight,e.selected,e.selectOnHover,e.className),a=e.showTooltip,c=(e.showDelete,e.shouldBeInteractive),u=void 0!==c&&c,l=e.tabIndex,f=(e.onSelected,e.onMouseMove,e.onFocus,e.onDelete,e.onLoadError,e.onLoadSuccess,e.disableLazyLoad,e.autoWidth,e.children),v=e.type,m=(0,r.Z)(e,$);return(0,s.tZ)("span",(0,i.Z)({ref:t,"data-testid":"".concat(v,"-emoji-").concat(n.shortName),"data-emoji-type":v,tabIndex:u?l||0:void 0,role:u?"button":"img",css:"sprite"===v?y.Ro:y.cB,className:o,onKeyDown:function(t){return function(e,t){if(d.N2.includes(t.key)){t.preventDefault(),t.stopPropagation();var n=e.emoji,r=e.onSelected,o=e.showDelete;!r||t.key!==d.yX.Enter&&t.key!==d.yX.Space||r((0,p.Vo)(n),n,t),o&&t.key===d.yX.Backspace&&Y(e,t)}}(e,t)},onMouseDown:function(t){!function(e,t){if(!(t.target instanceof Element&&t.target.getAttribute("aria-label")===d.BR)){var n=e.emoji,r=e.onSelected;t.preventDefault(),r&&(0,h.du)(t)&&r((0,p.Vo)(n),n,t)}}(e,t)},onMouseEnter:function(t){!function(e,t){var n=e.emoji,r=e.onMouseMove;r&&r((0,p.Vo)(n),n,t)}(e,t)},onFocus:function(t){!function(e,t){var n=e.emoji,r=e.onFocus;r&&r((0,p.Vo)(n),n,t)}(e,t)},"aria-label":n.shortName,title:a?n.shortName:void 0},m),f)}));const te=function(e){var t=e.emoji;return(0,k.k)(w.vb["emoji-rendered"].getInstance(t.id||t.shortName),d.VO,{source:"Emoji",emojiId:t.id}),(0,c.useEffect)((function(){var e=(0,w.oY)(t);(0,w.R6)(e,"fmp")||e.markFMP(),(0,w.R6)(e,f.Uz.MOUNTED_END)||e.mark(f.Uz.MOUNTED_END)}),[]),(0,p.bf)(t.representation)?(0,s.tZ)(X,e):(0,s.tZ)(Q,e)}},96227:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(28165),o=n(79169),i=n(55339),a=function(e){return"emoji-placeholder-".concat(e)};const c=function(e){var t,n,c=e.shortName,s=e.size,u=void 0===s?o.z6:s,l=e.showTooltip,d=e.representation,p=e.loading,f=void 0!==p&&p;if(d&&u){var h=d.width,v=d.height;h&&v&&(t=u/v*h,n=u)}var m=t||u,g=n||u,y={fill:"f7f7f7",minWidth:"".concat(m,"px"),width:"".concat(m,"px"),height:"".concat(g,"px")};return(0,r.tZ)("span",{"data-testid":a(c),"aria-busy":f,role:"status","aria-label":c,className:i.W$,css:f?[i.e4,i.Xs]:i.e4,style:y,title:l?c:""})}},81187:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(28165),o=n(26501),i=n(55339),a=function(e){var t=e.emoji;return(0,r.tZ)("div",{css:i.RN},(0,r.tZ)("span",{css:i.RC},(0,r.tZ)(o.ZP,{key:t.id||t.shortName,emoji:t})),(0,r.tZ)("div",{css:i.Fb},t.name&&(0,r.tZ)("div",{css:i.kd},t.name),(0,r.tZ)("div",{css:i.$C},t.shortName)))}},63915:(e,t,n)=>{"use strict";n.d(t,{t:()=>d});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058);function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var d=function(e){(0,i.Z)(n,e);var t=l(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"componentDidCatch",value:function(e,t){var n,r=s(this.props.experiences);try{for(r.s();!(n=r.n()).done;){n.value.failure({metadata:{source:"UfoErrorBoundary",reason:"error",error:{name:e.name,message:e.message,infoStack:t.componentStack}}})}}catch(e){r.e(e)}finally{r.f()}}},{key:"render",value:function(){return this.props.children}}]),n}(n(2784).Component)},55339:(e,t,n)=>{"use strict";n.d(t,{$C:()=>F,$e:()=>X,AB:()=>R,Bz:()=>ie,Ce:()=>q,Dj:()=>ae,EE:()=>x,EP:()=>V,E_:()=>L,FU:()=>K,Fb:()=>N,G0:()=>me,JQ:()=>le,Lc:()=>b,M_:()=>ee,Mh:()=>W,OW:()=>U,Ox:()=>ne,QB:()=>ge,QC:()=>fe,RC:()=>z,RN:()=>B,Ro:()=>A,Tu:()=>he,Tz:()=>y,W$:()=>_,Xo:()=>M,Xs:()=>Z,ZM:()=>de,a8:()=>g,al:()=>I,c2:()=>te,cB:()=>T,e4:()=>P,hu:()=>J,jk:()=>$,kd:()=>j,lL:()=>H,lM:()=>S,mD:()=>ce,nX:()=>re,oF:()=>Y,og:()=>E,p:()=>ue,pC:()=>pe,pE:()=>O,qx:()=>oe,rZ:()=>k,tM:()=>Q,ty:()=>ve,u0:()=>G,ux:()=>w,vH:()=>C,wJ:()=>se});var r,o,i,a,c,s,u,l=n(71171),d=n(56666),p=n(28165),f=n(79169),h=n(17295),v=n(30076),m=n(9003),g="emoji-common-selected",y="emoji-common-select-on-hover",b="emoji-common-emoji-sprite",w="emoji-common-node",k="emoji-common-emoji-image",E="emoji-common-deleteButton",x="emoji-common-main-styles",O="emoji-common-deletable",S=(0,p.iv)({visibility:"hidden",display:"flex",position:"absolute",top:"-8px",right:"-8px",zIndex:1}),C=(0,p.iv)({flex:1,display:"flex",justifyContent:"flex-end",padding:"10px 10px 11px 0"}),T=(0,p.iv)((r={borderRadius:"var(--ds-radius-100, 3px)",backgroundColor:"transparent",display:"inline-block",verticalAlign:"middle",margin:"-1px 0",img:{display:"block"}},(0,d.Z)(r,"&.".concat(g,",&.").concat(y,":hover"),{backgroundColor:h.n_}),(0,d.Z)(r,"&.".concat(g,",&.").concat(y,":hover .").concat(E),{visibility:"visible"}),(0,d.Z)(r,"&.".concat(O),{position:"relative"}),(0,d.Z)(r,"&.".concat(O,":focus-within .").concat(E),{visibility:"visible"}),(0,d.Z)(r,"&:focus",{boxShadow:"0 0 0 2px ".concat("var(--ds-border-focused, ".concat(v.vP,")")),transitionDuration:"0s, 0.2s",outline:"none"}),r)),A=(0,p.iv)((o={display:"inline-block",margin:"-1px 0"},(0,d.Z)(o,"&.".concat(g,",&.").concat(y,":hover"),{backgroundColor:h.n_}),(0,d.Z)(o,".".concat(b),{background:"transparent no-repeat",display:"inline-block",minHeight:"".concat(f.z6,"px"),minWidth:"".concat(f.z6,"px"),verticalAlign:"middle"}),(0,d.Z)(o,"&:focus",{boxShadow:"0 0 0 2px ".concat("var(--ds-border-focused, ".concat(v.vP,")")),transitionDuration:"0s, 0.2s",outline:"none"}),o)),_="emoji-common-placeholder",P=(0,p.iv)({position:"relative",margin:"-1px 0",display:"inline-block",background:"var(--ds-border, #f7f7f7)",borderRadius:"var(--ds-radius-100, 3px)",overflow:"hidden",verticalAlign:"middle",whiteSpace:"nowrap",textAlign:"center"}),D=(0,p.F4)(i||(i=(0,l.Z)(["\n  from {\n    transform: translateX(-100%);\n  }\n  to   {\n    transform: translateX(100%);\n  }\n"]))),Z=(0,p.iv)({"&::before":{content:'""',display:"block",position:"absolute",background:"var(--ds-background-neutral, ".concat(v.os,")"),height:"100%",width:"100%",animation:"".concat(D," 1s cubic-bezier(0.4, 0.0, 0.2, 1) infinite")}}),I=(0,p.iv)({opacity:0,visibility:"hidden",display:"none"}),L=(0,p.iv)((c={backgroundColor:"transparent",border:"0",borderRadius:"var(--ds-radius-100, 3px)",cursor:"pointer",padding:0,position:"relative",display:"inline-block"},(0,d.Z)(c,"&::-moz-focus-inner",{border:"0 none",padding:0}),(0,d.Z)(c,"&>span",(a={padding:"6px"},(0,d.Z)(a,"&>.".concat(b),{height:"24px",width:"24px"}),(0,d.Z)(a,"&>img",{height:"24px",width:"24px"}),a)),(0,d.Z)(c,"&:focus",{boxShadow:"0 0 0 2px ".concat("var(--ds-border-focused, ".concat(v.vP,")")),transitionDuration:"0s, 0.2s",outline:"none"}),c)),M=(0,p.iv)({opacity:0,position:"absolute",top:"-10px",left:"-10px","+span":{borderRadius:"var(--ds-radius-100, 3px)"},"&:focus + span":{boxShadow:"0 0 0 2px ".concat("var(--ds-border-focused, ".concat(v.vP,")")),transitionDuration:"0s, 0.2s",outline:"none"}}),R="emoji-picker-add-emoji",N=(0,p.iv)({display:"flex",flexDirection:"column",alignSelf:"center",marginTop:"-2px",marginLeft:"10px",maxWidth:"285px",width:"285px",flexGrow:1,flexShrink:1}),j=(0,p.iv)((0,d.Z)({display:"block",color:"var(--ds-text, ".concat(v.xA,")"),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},"&:first-letter",{textTransform:"uppercase"})),F=(0,p.iv)((0,d.Z)({display:"block",color:"var(--ds-text-subtle, ".concat(v.iw,")"),fontSize:"12px",lineHeight:1,marginBottom:"-2px",overflow:"hidden",paddingBottom:"2px",textOverflow:"ellipsis",whiteSpace:"nowrap"},"&:first-of-type",{color:"var(--ds-text, ".concat(v.xA,")"),fontSize:"14px"})),B=(0,p.iv)({display:"flex",flexDirection:"row",flexWrap:"nowrap",padding:"10px",height:"32px",alignItems:"center"}),z=(0,p.iv)((s={display:"inline-block",flex:"initial",width:"32px"},(0,d.Z)(s,"& .".concat(b,', span[role="img"]'),{width:"32px",height:"32px",padding:0,maxHeight:"inherit"}),(0,d.Z)(s,'& span[role="img"] > img',{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"32px",maxWidth:"32px",padding:0,display:"block"}),s)),U=((0,p.iv)({border:"1px solid ".concat("var(--ds-border, #fff)"),borderRadius:"var(--ds-radius-100, 3px)",display:"block",margin:"0",overflowX:"hidden",overflowY:"auto",padding:"0"}),(0,p.iv)({height:"78px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"space-around"})),V=(0,p.iv)({paddingBottom:"7px",display:"flex",justifyContent:"space-between",alignItems:"flex-end",fontSize:"12px"}),H=(0,p.iv)({"&&":{color:"var(--ds-text-subtle, ".concat(v.hH,")")}}),W=(0,p.iv)({display:"flex"}),G=(0,p.iv)({fontSize:"11px"}),q=(0,p.iv)({display:"flex",justifyContent:"space-between",paddingBottom:"7px"}),K=(0,p.iv)({flex:"1 1 auto",marginRight:"5px",input:(u={background:"transparent",border:0,outline:"none"},(0,d.Z)(u,"&:invalid",{boxShadow:"none"}),(0,d.Z)(u,"&::-ms-clear",{display:"none"}),u)}),$=(0,p.iv)({flex:"0 0 auto"}),J=(0,p.iv)({display:"flex",flexDirection:"column",height:"100px",padding:"10px"}),Y=(0,p.iv)({display:"flex",justifyContent:"space-between",alignItems:"center",background:"var(--ds-background-neutral, ".concat(v.IR,")"),borderRadius:"var(--ds-radius-100, 3px)",padding:"10px"}),X=(0,p.iv)({h5:{color:"var(--ds-text-subtle, ".concat(v.hH,")"),paddingBottom:"4px",fontSize:"12px"},img:{maxHeight:"20px",maxWidth:"50px"}}),Q=(0,p.iv)({paddingLeft:"4px",img:{maxHeight:"40px",maxWidth:"100px"}}),ee=(0,p.iv)({display:"flex",justifyContent:"flex-end",alignItems:"center",paddingTop:"10px"}),te=(0,p.iv)({alignSelf:"center",marginLeft:"10px",marginBottom:"10px"}),ne=(0,p.iv)({height:"100px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"flex-end"}),re=(0,p.iv)({height:"64px",fontSize:"12px","&:first-of-type":{color:"var(--ds-text-subtle, ".concat(v.hH,")"),lineHeight:"16px"}}),oe=(0,p.iv)({"&&":{fontSize:"var(--ds-font-size-075, 12px)",fontWeight:"var(--ds-font-weight-semibold, 600)",letterSpacing:"-0.003em",lineHeight:"var(--ds-font-lineHeight-100, 16px)"}}),ie=(0,p.iv)({paddingLeft:"".concat((0,m.ww)()/4,"px"),color:"var(--ds-text-danger, ".concat(v.$H,")"),fontFamily:(0,m.I8)()}),ae=(0,p.iv)({display:"flex"}),ce=(0,p.iv)((0,d.Z)({display:"flex",height:"40px",alignItems:"center",justifyContent:"space-between",fontSize:"var(--ds-font-size-100, 14px)",img:{maxHeight:"32px",maxWidth:"72px"}},".".concat("emoji-submit-delete"),{width:"84px",fontWeight:"bold",marginRight:"4px"})),se=(0,p.iv)({display:"flex",color:"var(--ds-text-danger, ".concat(v.$H,")"),alignItems:"center",justifyContent:"flex-end",paddingRight:"4px"}),ue=(0,p.iv)({display:"flex",color:"var(--ds-text-danger, ".concat(v.rt,")"),paddingRight:"10px",justifyContent:"flex-start"}),le=(0,p.iv)({display:"inline-flex",color:"var(--ds-text-danger, ".concat(v.$H,")"),paddingRight:"10px",justifyContent:"flex-end",alignItems:"center"}),de=(0,p.iv)({maxWidth:"285px"}),pe=(0,p.iv)({maxWidth:"172px",justifyContent:"center",fontWeight:"bold",marginRight:"4px",div:{display:"flex"}}),fe=(0,p.iv)({maxWidth:"187px",justifyContent:"center",marginRight:"4px",div:{display:"flex"}}),he=(0,p.iv)({maxWidth:"100px"}),ve=(0,p.iv)({marginRight:"10px",marginLeft:"10px"}),me=(0,p.iv)({display:"flex",justifyContent:"flex-end",alignItems:"center"}),ge=(0,p.iv)({borderRadius:"3px",backgroundColor:"var(--ds-background-inverse-subtle, ".concat(v.zN,")"),padding:"0 2px",label:"tooltip-shortcut"})},16497:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=(0,n(63470).vU)({deleteEmojiTooltip:{id:"fabric.emoji.delete.tooltip",defaultMessage:"Delete",description:"Tooltip content for delete emoji when focus on deletable emoji"},deleteEmojiTooltipForScreenreader:{id:"fabric.emoji.delete.screenreader.tooltip",defaultMessage:"To delete {shortName} emoji, press Backspace",description:"Tooltip content for delete emoji when focus on deletable emoji"},deleteEmojiTitle:{id:"fabric.emoji.delete.title",defaultMessage:"Remove emoji",description:"Title for emoji removal dialog"},deleteEmojiDescription:{id:"fabric.emoji.delete.description",defaultMessage:"All existing instances of this emoji will be replaced with {emojiShortName}",description:"Description for emoji removal dialog"},deleteEmojiLabel:{id:"fabric.emoji.delete.label",defaultMessage:"Remove",description:"Button label to remove emoji"},addCustomEmojiLabel:{id:"fabric.emoji.add.custom.emoji.label",defaultMessage:"Add your own emoji",description:"Button label to add custom emoji"},emojiPlaceholder:{id:"fabric.emoji.placeholder",defaultMessage:"e.g. hello",description:"Placeholder for emoji that provides an example for emoji name"},emojiNameAriaLabel:{id:"fabric.emoji.name.ariaLabel",defaultMessage:"Enter a name for the new emoji",description:"Explains to enter a name for a new emoji"},emojiChooseFileTitle:{id:"fabric.emoji.choose.file.title",defaultMessage:"Choose file",description:"Choose custom emoji file"},emojiChooseFileScreenReaderDescription:{id:"fabric.emoji.choose.file.screenReaderDescription",defaultMessage:"Choose a file for the emoji. JPG, PNG or GIF. Max size 1 MB",description:"Message indicating the purpose of choosing the file and requirements for the file"},emojiSelectSkinToneButtonAriaLabelText:{id:"fabric.emoji.select.skin.tone.ariaLabel",defaultMessage:"Choose your skin tone, {selectedTone} selected",description:"Message indicating the purpose of the skin tone selection button and the selected tone"},emojiSelectSkinToneListAriaLabelText:{id:"fabric.emoji.select.skin.list.ariaLabel",defaultMessage:"Skin tone selector",description:"Message indicating the purpose of the skin tone list and make user to choose one tone"},emojiImageRequirements:{id:"fabric.emoji.image.requirements",defaultMessage:"JPG, PNG or GIF. Max size 1 MB.",description:"Message for emoji image requirements and maximum file size"},emojiPreviewTitle:{id:"fabric.emoji.preview.title",defaultMessage:"Preview",description:"Emoji preview title"},emojiPreview:{id:"fabric.emoji.preview",defaultMessage:"Your new emoji {emoji} looks great",description:"Emoji preview"},addEmojiLabel:{id:"fabric.emoji.add.label",defaultMessage:"Add emoji",description:"verb - Button label to add emoji"},retryLabel:{id:"fabric.emoji.retry.label",defaultMessage:"Retry",description:"verb - Button label to retry upload"},cancelLabel:{id:"fabric.emoji.cancel.label",defaultMessage:"Cancel",description:"verb - button label to cancel operation"},searchPlaceholder:{id:"fabric.emoji.search.placeholder",defaultMessage:"Search",description:"Placeholder for search emoji field"},searchLabel:{id:"fabric.emoji.search.label",defaultMessage:"Emoji name",description:"verb - button label to search"},searchResultsStatus:{id:"fabric.emoji.search.status",defaultMessage:"Found {count} emojis",description:"search results status for screenreader to read out"},searchResultsStatusSeeAll:{id:"fabric.emoji.search.status",defaultMessage:"Seeing all emojis",description:"search results status when no search query for screenreader to read out"},categoriesSelectorLabel:{id:"fabric.emoji.categories.label",defaultMessage:"Choose an emoji category",description:"Aria label for Emoji categories selector at the top of emoji picker"},categoriesSearchResults:{id:"fabric.emoji.categories.search.results",defaultMessage:"Search results",description:"Emoji categories search results"},frequentCategory:{id:"fabric.emoji.category.frequent",defaultMessage:"Frequent",description:"Emoji frequent category"},peopleCategory:{id:"fabric.emoji.category.people",defaultMessage:"People",description:"Emoji frequent category"},natureCategory:{id:"fabric.emoji.category.nature",defaultMessage:"Nature",description:"Emoji nature category"},foodsCategory:{id:"fabric.emoji.category.foods",defaultMessage:"Food & Drink",description:"Emoji Foods category"},activityCategory:{id:"fabric.emoji.category.activity",defaultMessage:"Activity",description:"Emoji activity category"},placesCategory:{id:"fabric.emoji.category.places",defaultMessage:"Travel & Places",description:"Emoji Places category"},objectsCategory:{id:"fabric.emoji.category.objects",defaultMessage:"Objects",description:"Emoji objects category"},symbolsCategory:{id:"fabric.emoji.category.symbols",defaultMessage:"Symbols",description:"Emoji symbols category"},flagsCategory:{id:"fabric.emoji.category.flags",defaultMessage:"Flags",description:"Emoji flags category"},productivityCategory:{id:"fabric.emoji.category.productivity",defaultMessage:"Productivity",description:"Emoji productivity category"},userUploadsCustomCategory:{id:"fabric.emoji.category.user.uploads",defaultMessage:"Your uploads",description:"User uploads in the custom category"},allUploadsCustomCategory:{id:"fabric.emoji.category.all.uploads",defaultMessage:"All uploads",description:"All uploads in the custom category"},deleteEmojiFailed:{id:"fabric.emoji.error.delete.failed",defaultMessage:"Remove failed",description:"Error message when custom emoji failed to be removed"},emojiInvalidImage:{id:"fabric.emoji.error.invalid.image",defaultMessage:"Selected image is invalid",description:"Error message for invalid selected image"},emojiUploadFailed:{id:"fabric.emoji.error.upload.failed",defaultMessage:"Upload failed",description:"Failed to upload emoji image"},emojiImageTooBig:{id:"fabric.emoji.error.image.too.big",defaultMessage:"Selected image is more than 1 MB",description:"Error message for image too big, beyond the size limit"},emojiPickerTitle:{id:"fabric.emoji.picker",defaultMessage:"Emoji picker",description:"Aria label for emoji picker"},emojiPickerListPanel:{id:"fabric.emoji.pickerlist.tabpanel",defaultMessage:"Emojis actions and list panel",description:"Aria lable for tabpanel of emoji picker, which shows emojis actions and list"},emojiPickerGrid:{id:"fabric.emoji.pickerlist.grid",defaultMessage:"{showSearchResults, select, true{Search results} other{Emojis}}",description:'Aria label for emoji picker grid, showSearchResults is a boolean variable, message will be "Entering Emojis table", or "Leaving Emojis"'},emojiButtonRoleDescription:{id:"fabric.emoji.emojipicker.emoi.roledescription",defaultMessage:"emoji button",description:"Aria roledescription for emoji button, used in emoji picker."},error:{id:"fabric.emoji.emojipicker.error",defaultMessage:"Error!",description:"Aria label for error icon, apperaed in emoji uploader screens and delete emoji screens of emoji picker"}})},33991:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(59740),o=n(9249),i=n(87371),a=n(80753),c=n(45754),s=n(11987),u=n(95058),l=n(56666),d=n(28165),p=n(32280),f=n(74173);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var v=function(e){(0,c.Z)(n,e);var t=h(n);function n(e,r){var i;return(0,o.Z)(this,n),i=t.call(this,e),(0,l.Z)((0,a.Z)(i),"isUnmounted",!1),(0,l.Z)((0,a.Z)(i),"loaded",(function(e){return!!e.asyncLoadedComponent&&!!e.loadedEmojiProvider})),i.state=r,i.loadEmojiProvider(i.props.emojiProvider),i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.state.asyncLoadedComponent||this.asyncLoadComponent()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.loadEmojiProvider(e.emojiProvider)}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0}},{key:"loadEmojiProvider",value:function(e){var t=this;e.then((function(e){t.isUnmounted||t.setState({loadedEmojiProvider:e})})).catch((function(){t.isUnmounted||t.setState({loadedEmojiProvider:void 0})}))}},{key:"setAsyncState",value:function(e){this.isUnmounted||this.setState({asyncLoadedComponent:e})}},{key:"renderLoading",value:function(){return null}},{key:"render",value:function(){if(this.loaded(this.state)){var e=this.state,t=e.loadedEmojiProvider,n=e.asyncLoadedComponent;return this.renderLoaded(t,n)}return this.renderLoading()}}]),n}(n(2784).Component),m=n(27307),g=n(32481),y=n(63915),b=n(79169),w=n(72838),k=["emojiProvider"];function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var x=function(){return Promise.all([n.e(7170),n.e(5839)]).then(n.bind(n,27555)).then((function(e){return e.default}))},O=function(e){(0,c.Z)(n,e);var t=E(n);function n(e){var r;return(0,o.Z)(this,n),r=t.call(this,e,{}),(0,l.Z)((0,a.Z)(r),"state",{asyncLoadedComponent:n.AsyncLoadedComponent}),f.vb["emoji-picker-opened"].start(),r}return(0,i.Z)(n,[{key:"asyncLoadComponent",value:function(){var e=this;x().then((function(t){n.AsyncLoadedComponent=t,e.setAsyncState(t)}))}},{key:"renderLoading",value:function(){var e=this,t=new m.Yq;return f.vb["emoji-picker-opened"].markFMP(),(0,d.tZ)("div",{css:(0,g.yO)(),ref:function(t){e.props.onPickerRef&&e.props.onPickerRef(t)}},t.renderItem())}},{key:"renderLoaded",value:function(e,t){var n=this.props,o=(n.emojiProvider,(0,r.Z)(n,k));return(0,d.tZ)(y.t,{experiences:[f.vb["emoji-picker-opened"]]},(0,d.tZ)(w.E,{emojiProvider:e},(0,d.tZ)(t,o)))}}]),n}(v);(0,l.Z)(O,"defaultProps",{size:b.Xr});const S=(0,p.Z)()(O)},957:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(79169),o={listHeight:r.JN,listWidth:r.$u,searchHeight:52,categoryHeadingHeight:30,emojiRowHeight:40,addEmojiHeight:32,loadingRowHeight:150,uploadActionHeight:40,emojiPerRow:8}},27307:(e,t,n)=>{"use strict";n.d(t,{vB:()=>_,VP:()=>T,Yq:()=>A,si:()=>P});var r=n(7896),o=n(80753),i=n(45754),a=n(11987),c=n(95058),s=n(56666),u=n(87371),l=n(9249),d=n(28165),p=n(79131),f=n(42670),h=n(25834),v=n(16497),m=n(32481);const g=function(e){var t=e.id,n=e.title,r=e.className;return(0,d.tZ)("div",{id:t,"data-category-id":t,className:r,"data-testid":"render-emoji-picker-categorty-heading",role:"rowheader"},(0,d.tZ)("div",{css:m.f2},(0,h.c5)(n)?(0,d.tZ)(f.Z,v.s[n]):n))};var y=n(2784),b=n(83112),w=n(26501),k=n(20574),E=function(e){var t=e.emojis,n=e.onSelected,r=e.onMouseMove,o=e.onFocus,i=e.title,a=e.showDelete,c=e.onDelete,s=e.virtualItemContext,u=(0,k.M)(),l=u.currentEmojisFocus,p=u.setEmojisFocus,f=(null==s?void 0:s.index)||0,h=(0,b.Z)().formatMessage,g=function(e){return function(t,n,r){p({rowIndex:f,columnIndex:e}),o&&o(t,n,r)}};return(0,d.tZ)("div",{css:m.ii,role:"presentation"},t.map((function(e,t){var o=e.shortName,s=e.id,u=s?"".concat(s,"-").concat(i):"".concat(o,"-").concat(i),p=l.rowIndex===f&&l.columnIndex===t;return(0,d.tZ)("span",{css:m.vZ,key:u,role:"gridcell","aria-colindex":t+1},(0,d.tZ)(w.ZP,{emoji:e,selectOnHover:!0,onSelected:n,onMouseMove:r,onFocus:g(t),showDelete:a,onDelete:c,placeholderSize:24,"data-focus-index":"".concat(f,"-").concat(t),tabIndex:p?0:-1,"aria-roledescription":h(v.s.emojiButtonRoleDescription),shouldBeInteractive:!0}))})))};const x=(0,y.memo)(E);var O=n(957);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var C=(0,u.Z)((function e(t,n){(0,l.Z)(this,e),this.props=t,this.height=n})),T=function(e){(0,i.Z)(n,e);var t=S(n);function n(e){var i;return(0,l.Z)(this,n),i=t.call(this,e,O.J.emojiRowHeight),(0,s.Z)((0,o.Z)(i),"renderItem",(function(e){return(0,d.tZ)(x,(0,r.Z)({},i.props,{virtualItemContext:e}))})),i}return(0,u.Z)(n)}(C),A=function(e){(0,i.Z)(n,e);var t=S(n);function n(){var e;return(0,l.Z)(this,n),e=t.call(this,{},O.J.loadingRowHeight),(0,s.Z)((0,o.Z)(e),"renderItem",(function(){return(0,d.tZ)("div",{css:m.KF},(0,d.tZ)("div",null,(0,d.tZ)(p.Z,{size:"medium"})))})),e}return(0,u.Z)(n)}(C),_=function(e){(0,i.Z)(n,e);var t=S(n);function n(e){var r;return(0,l.Z)(this,n),r=t.call(this,e,O.J.categoryHeadingHeight),(0,s.Z)((0,o.Z)(r),"renderItem",(function(){return(0,d.tZ)(g,r.props)})),r}return(0,u.Z)(n)}(C),P=function(e,t){var n=t.index,r=t.key,o=e[n];return(0,d.tZ)("div",{key:r},o&&o.renderItem(t))}},32481:(e,t,n)=>{"use strict";n.d(t,{KF:()=>O,M2:()=>P,Qi:()=>x,RL:()=>k,YV:()=>_,bB:()=>m,dL:()=>b,eJ:()=>w,f2:()=>C,g$:()=>y,h$:()=>g,ii:()=>S,jy:()=>v,kJ:()=>A,qH:()=>E,uT:()=>h,vZ:()=>T,yO:()=>f});var r,o,i,a=n(56666),c=n(28165),s=n(17295),u=n(55339),l=n(79169),d=n(30076),p=n(96961),f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.Xr,n=(0,p.E)(t);return(0,c.iv)({display:"flex",flexDirection:"column",justifyContent:"space-between",background:"var(--ds-surface-overlay, white)",border:"".concat(s.bx," 1px solid"),borderRadius:"var(--ds-radius-100, 3px)",boxShadow:s.sV,height:"".concat(e?l.gK+n:l.P$+n,"px"),width:"".concat(l.$u,"px"),minWidth:"".concat(l.$u,"px"),minHeight:"".concat(l.DV+n,"px"),maxHeight:"calc(80vh - 86px)"})},h=(0,c.iv)({flex:"0 0 auto",backgroundColor:"var(--ds-surface-sunken, ".concat(d.gt,")"),button:{display:"flex"}}),v=(0,c.iv)({padding:"var(--ds-space-075, 6px)".concat(" ","var(--ds-space-100, 8px)"),display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center"}),m=(0,c.iv)((0,a.Z)({color:"var(--ds-text-selected, ".concat(d.M5,")")},"&:hover",{color:"var(--ds-text-selected, ".concat(d.M5,")")})),g=(0,c.iv)((0,a.Z)({color:"var(--ds-text-subtlest, ".concat(d.uv,")"),cursor:"default"},"&:hover",{color:"var(--ds-text-subtlest, ".concat(d.uv,")")})),y=(0,c.iv)((r={backgroundColor:"transparent",border:0,borderRadius:"var(--ds-radius-100, 3px)",color:"var(--ds-text-subtlest, ".concat(d.Kz,")"),cursor:"pointer",padding:"var(--ds-space-0, 0px)",transition:"color 0.2s ease"},(0,a.Z)(r,"&::-moz-focus-inner",{border:"0 none",padding:"var(--ds-space-0, 0px)"}),(0,a.Z)(r,"&:hover",{color:"var(--ds-text-selected, ".concat(d.VY,")")}),(0,a.Z)(r,"&:focus-visible",{boxShadow:"0 0 0 2px ".concat("var(--ds-border-focused, ".concat(d.vP,")")),transitionDuration:"0s, 0.2s",outline:"none"}),r)),b=(0,c.iv)({display:"flex",flexDirection:"column",flex:"1 1 auto",height:"0"}),w=(0,c.iv)({overflowX:"hidden",overflowY:"auto","&:focus":{outline:"none"},paddingBottom:"var(--ds-space-100, 8px)"}),k=(0,c.iv)({opacity:.5}),E=(0,c.iv)((o={boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:"14px",outline:"none",padding:"1px ".concat("var(--ds-space-0, 0px)"," ","var(--ds-space-025, 2px)"," ","var(--ds-space-075, 6px)"),width:"100%"},(0,a.Z)(o,"&:invalid",{boxShadow:"none"}),(0,a.Z)(o,"&::-ms-clear",{display:"none"}),o)),x=(0,c.iv)({boxSizing:"border-box",padding:"10px 10px 11px 10px",width:"100%"}),O=(0,c.iv)({display:"flex",width:"100%",height:"150px",justifyContent:"center",alignItems:"center",">div":{flex:"0 0 auto"}}),S=(0,c.iv)({marginLeft:"var(--ds-space-100, 8px)"}),C=(0,c.iv)({boxSizing:"border-box",color:"var(--ds-text, ".concat(d.xA,")"),fontSize:"14px",padding:"5px ".concat("var(--ds-space-100, 8px)"),textTransform:"lowercase","&:first-letter":{textTransform:"uppercase"}}),T=(0,c.iv)((i={display:"inline-block",textAlign:"center",width:"40px"},(0,a.Z)(i,"& .".concat(u.ux),{cursor:"pointer",padding:"var(--ds-space-100, 8px)",borderRadius:"5px",width:"24px",height:"24px"}),(0,a.Z)(i,"& .".concat(u.W$),{padding:"var(--ds-space-0, 0px)",margin:"7px",minWidth:"24px",maxWidth:"24px"}),(0,a.Z)(i,"& .".concat(u.ux," .").concat(u.W$),{margin:"var(--ds-space-0, 0px)"}),(0,a.Z)(i,"& .".concat(u.ux," > img"),{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"24px",maxWidth:"24px",display:"block"}),(0,a.Z)(i,"& .".concat(u.ux," > .").concat(u.Lc),{height:"24px",width:"24px"}),i)),A=(0,c.iv)({flex:"0 0 auto"}),_=(0,c.iv)({borderTop:"2px solid ".concat("var(--ds-border, ".concat(d.kd,")")),boxShadow:"0px -1px 1px 0px ".concat("var(--ds-border, rgba(0, 0, 0, 0.1))")}),P=(0,c.iv)({borderBottom:"2px solid ".concat("var(--ds-border, ".concat(d.kd,")")),boxShadow:"0px 1px 1px 0px ".concat("var(--ds-border, rgba(0, 0, 0, 0.1))")})},96961:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});var r=n(79169),o=function(e){return"medium"===e?r.nD:"large"===e?2*r.nD:0}},72838:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var r=n(2784),o=n(34795),i=n(82841),a=n.n(i),c=n(97201),s=n(92011),u=function(e){var t=e.children,n=e.emojiContextValue,i=(0,r.useMemo)((function(){return n}),[n]);return(0,r.useEffect)((function(){function e(){return(e=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null==i?void 0:i.emoji.emojiProvider.fetchEmojiProvider();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),(0,s.ZP)("fetchEmojiProvider error catched from outside",e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i]),r.createElement(c.W.Provider,{value:i},t)},l=function(e){return e.emojiProvider?r.createElement(u,{emojiContextValue:{emoji:{emojiProvider:e.emojiProvider}}},e.children):r.createElement(r.Fragment,null,e.children)}},97201:(e,t,n)=>{"use strict";n.d(t,{W:()=>r});var r=(0,n(2784).createContext)(null)},89472:(e,t,n)=>{"use strict";n.d(t,{e:()=>i,m:()=>a});var r=n(96234),o=n(2784),i=(0,o.createContext)({currentEmojisFocus:{rowIndex:0,columnIndex:0},setEmojisFocus:function(){}}),a=function(e){var t=(0,o.useState)(e.initialEmojisFocus),n=(0,r.Z)(t,2),a=n[0],c=n[1];return o.createElement(i.Provider,{value:{currentEmojisFocus:a,setEmojisFocus:c}},e.children)}},97664:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r=n(34795),o=n(96234),i=n(82841),a=n.n(i),c=n(2784),s=n(97201),u=function(){var e=(0,c.useContext)(s.W),t=(0,c.useState)(!1),n=(0,o.Z)(t,2),i=n[0],u=n[1];if(!e)throw new Error("useEmoji must be used within EmojiContext");var l=e.emoji.emojiProvider;return(0,c.useEffect)((function(){if(function(e){var t=e;return!!t.isUploadSupported&&!!t.uploadCustomEmoji&&!!t.prepareForUpload}(l)){var e=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.isUploadSupported();case 3:t=e.sent,u(t),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}}),[l]),{emojiProvider:l,isUploadSupported:i}}},20574:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(2784),o=n(89472),i=function(){return(0,r.useContext)(o.e)}},99604:(e,t,n)=>{"use strict";n.d(t,{Gr:()=>r,RG:()=>c,Uz:()=>u,_I:()=>o,pr:()=>a,sY:()=>s,yI:()=>i});var r=function(e){return e[e.None=0]="None",e[e.Default=1]="Default",e[e.UsageFrequency=2]="UsageFrequency",e}({}),o=function(e){return e.PICKER="picker",e.TYPEAHEAD="typeahead",e}({}),i=function(e){return e.SITE="SITE",e.STANDARD="STANDARD",e.ATLASSIAN="ATLASSIAN",e.UNKNOWN="UNKNOWN",e.SINGLE="SINGLE",e}({}),a=function(e){return e.EMOJI_RENDERED="emoji-rendered",e.EMOJI_RESOURCE_FETCHED="emoji-resource-fetched",e.EMOJI_PICKER_OPENED="emoji-picker-opened",e.EMOJI_SELECTION_RECORDED="emoji-selection-recorded",e.EMOJI_UPLOADED="emoji-uploaded",e.EMOJI_SEARCHED="emoji-searched",e}({}),c=function(e){return e.EMOJI="emoji",e.EMOJI_PICKER="emoji-picker",e.EMOJI_PROVIDER="emoji-provider",e}({}),s=function(e){return e.FMP="fmp",e.MOUNTED="emoji-mount",e.METADATA="emoji-metadata",e.MEDIADATA="emoji-media",e.ONLOAD="emoji-onload",e}({}),u=function(e){return e.FMP_END="fmp",e.MOUNTED_END="emoji-mount_end",e.METADATA_START="emoji-metadata_start",e.METADATA_END="emoji-metadata_end",e.MEDIA_START="emoji-media_start",e.MEDIA_END="emoji-media_end",e.ONLOAD_START="emoji-onload_start",e.ONLOAD_END="emoji-onload_end",e}({})},1527:(e,t,n)=>{"use strict";n.d(t,{O5:()=>y,Yt:()=>h,_O:()=>s,KI:()=>P,z8:()=>Z,Gv:()=>D,dg:()=>R,MS:()=>f,lc:()=>g,Iv:()=>b,iQ:()=>d,PW:()=>M,G_:()=>L,N6:()=>l,XW:()=>I,gl:()=>k,zD:()=>x,cs:()=>E,v1:()=>S,NJ:()=>T,mm:()=>C,_C:()=>_,NU:()=>A});var r=n(56666);const o=function(e){return function(t){return function(n){var r=n(t),o=r.clone();return o&&o.fire(e),r}}},i=JSON.parse('{"u2":"@atlaskit/emoji","i8":"67.4.4"}');function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=o("fabric-elements"),u=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{eventType:e,action:t,actionSubject:n,actionSubjectId:r,attributes:c({packageName:i.u2,packageVersion:i.i8},o)}},l=function(e){return u("operational","succeeded","recordEmojiSelection",void 0,{source:e})},d=function(e){return u("operational","failed","recordEmojiSelection",void 0,{source:e})},p=function(e){return u("ui",e,"emojiPicker",arguments.length>2?arguments[2]:void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},f=function(){return p("opened")},h=function(e){return p("closed",e)},v=[{id:"-1f3fb",skinToneModifier:"light"},{id:"-1f3fc",skinToneModifier:"mediumLight"},{id:"-1f3fd",skinToneModifier:"medium"},{id:"-1f3fe",skinToneModifier:"mediumDark"},{id:"-1f3ff",skinToneModifier:"dark"}],m=function(e){if(!e)return{};for(var t=0,n=v;t<n.length;t++){var r=n[t],o=r.id,i=r.skinToneModifier;if(-1!==e.indexOf(o))return{skinToneModifier:i,baseEmojiId:e.replace(o,"")}}return{}},g=function(e){return p("clicked",c(c({},m(e.emojiId)),e),"emoji")},y=function(e){return p("clicked",e,"category")},b=function(e){return p("searched",e,"query")},w=function(e){return u("ui",e,"emojiSkintoneSelector",void 0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})},k=function(e){return w("clicked",e)},E=function(e){return w("opened",e)},x=function(){return w("cancelled")},O=function(e,t,n){return u("ui",e,"emojiUploader",t,n)},S=function(){return O("clicked","addButton")},C=function(e){return O("clicked","confirmButton",e)},T=function(){return O("clicked","cancelButton")},A=function(e){return u("operational","finished","emojiUploader",void 0,e)},_=function(e){return u("operational","failed","emojiUploader",void 0,e)},P=function(e){return u("ui","clicked","emojiPicker","deleteEmojiTrigger",e)},D=function(e){return u("ui","clicked","emojiPicker","deleteEmojiConfirm",e)},Z=function(e){return u("ui","clicked","emojiPicker","deleteEmojiCancel",e)},I=function(){return u("ui","clicked","emojiUploader","selectFile")},L=function(e){return function(){e&&e.createAnalyticsEvent&&o("editor")(l("typeahead"))(e.createAnalyticsEvent)}},M=function(e){return function(t){return e&&e.createAnalyticsEvent&&o("editor")(d("typeahead"))(e.createAnalyticsEvent),Promise.reject(t)}},R=function(e){return e instanceof Error?{name:e.name,message:e.message}:e}},75324:(e,t,n)=>{"use strict";n.d(t,{x3:()=>p});var r=n(56666),o=n(34795),i=n(82841),a=n.n(i);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={},l=function(e){return 1===e||0!==e&&Math.random()*e<=1},d=function(e){return!!u[e.id]&&(e.instanceId?u[e.id].sampledInstance[e.instanceId]:u[e.id].sampled)},p=function(e){var t=function(){var t=(0,o.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!d(e)){t.next=2;break}return t.abrupt("return");case 2:if((n.samplingFunc||l)(n.samplingRate)){t.next=7;break}return e.instanceId&&(u[e.id].sampledInstance[e.instanceId]=!1),u[e.id].sampled=!1,t.abrupt("return");case 7:return e.instanceId&&(u[e.id].sampledInstance[e.instanceId]=!0,u[e.id].sampled=!0),t.abrupt("return",e.start(n.startTime));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=(0,o.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(e)){t.next=2;break}return t.abrupt("return",null);case 2:return t.abrupt("return",e.success(n));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=(0,o.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(e)){t.next=2;break}return t.abrupt("return",null);case 2:return t.abrupt("return",e.failure(n));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(){var t=(0,o.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d(e)){t.next=2;break}return t.abrupt("return",null);case 2:return t.abrupt("return",e.abort(n));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return u[e.id]||(u[e.id]={sampled:!1,sampledInstance:{}}),s(s({},e),{},{start:t,addMetadata:function(t){if(d(e))return e.addMetadata(t)},success:n,failure:r,abort:i,mark:function(t,n){if(d(e))return e.mark(t,n)},markFMP:function(t){if(d(e))return e.markFMP(t)},markInlineResponse:function(t){if(d(e))return e.markInlineResponse(t)}})}},74173:(e,t,n)=>{"use strict";n.d(t,{R6:()=>Q,PI:()=>ee,oY:()=>X,vb:()=>Y});var r=n(99604),o=function(e){return e.Load="load",e.Experience="experience",e.Operation="operation",e}({}),i=function(e){return e.PageLoad="page-load",e.PageSegmentLoad="page-segment-load",e.InlineResult="inline-result",e.Custom="custom",e}({}),a=n(9249),c=n(87371),s=n(56666),u=function(){function e(){(0,a.Z)(this,e),(0,s.Z)(this,"enabled",!1)}return(0,c.Z)(e,[{key:"log",value:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];this.enabled&&(t=console).log.apply(t,[e.UFOprefix].concat(r))}},{key:"warn",value:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];this.enabled&&(t=console).warn.apply(t,[e.UFOprefix].concat(r))}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}}]),e}();(0,s.Z)(u,"UFOprefix","[ufo🛸]");var l,d=new u,p=function(){d.log.apply(d,arguments)},f=function(){d.warn.apply(d,arguments)},h=n(45754),v=n(11987),m=n(95058),g=n(68079),y=n(34795),b=n(82841),w=n.n(b),k=n(98022),E=function(e){return e[e.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",e[e.SUBSCRIBE=1]="SUBSCRIBE",e[e.UNSUBSCRIBE=2]="UNSUBSCRIBE",e}({}),x=function(e){return e.VISIBLE="visible",e.HIDDEN="hidden",e.MIXED="mixed",e}({}),O="__SUBSCRIBE_ALL__",S="inline-response",C=function(){if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){var e=(t=[],{__buffer_only__:!0,push:function(e){t.length<250&&t.push(e)},getStream:function(){return t}});globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}var t;return globalThis.__UFO_GLOBAL_EVENT_STREAM__},T=function(e){return{type:E.EXPERIENCE_PAYLOAD,payload:e}},A=function(){return"undefined"!=typeof window},_=new(function(){function e(){var t=this;(0,a.Z)(this,e),(0,s.Z)(this,"started",!1),(0,s.Z)(this,"observers",[]),(0,s.Z)(this,"broadcast",(function(){t.observers.forEach((function(e){return e()})),t.observers=[]}))}return(0,c.Z)(e,[{key:"start",value:function(){this.started||(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),A()&&window.addEventListener("pagehide",this.broadcast))}},{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"unsubscribe",value:function(e){this.observers=this.observers.filter((function(t){return t!==e}))}}]),e}()),P={id:"NOT_STARTED",final:!0},D={id:"STARTED"},Z={id:"IN_PROGRESS"},I={id:"BLOCKED"},L={id:"RECOVERED"},M={id:"SUCCEEDED",final:!0,success:!0},R={id:"SUCCEEDED_WAITING_FOR_DEPS"},N={id:"FAILED",final:!0},j={id:"ABORTED",final:!0},F=(l={},(0,s.Z)(l,P.id,[D.id]),(0,s.Z)(l,D.id,[Z.id,I.id,M.id,R.id,N.id,j.id]),(0,s.Z)(l,Z.id,[I.id,M.id,R.id,N.id,j.id]),(0,s.Z)(l,I.id,[L.id,j.id]),(0,s.Z)(l,L.id,[D.id,M.id,R.id,N.id,j.id]),(0,s.Z)(l,M.id,[D.id]),(0,s.Z)(l,R.id,[M.id,N.id,j.id]),(0,s.Z)(l,N.id,[D.id]),(0,s.Z)(l,j.id,[D.id]),l);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U=function(){return A()&&window.document&&"visible"!==window.document.visibilityState?x.HIDDEN:x.VISIBLE},V=function(e){return void 0!==e?~~e:~~performance.now()};function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,m.Z)(e);if(t){var o=(0,m.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,v.Z)(this,n)}}var W=function(e){(0,h.Z)(n,e);var t=H(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n)}(function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,a.Z)(this,e),(0,s.Z)(this,"state",P),(0,s.Z)(this,"instanceId",null),(0,s.Z)(this,"parent",null),(0,s.Z)(this,"category",null),(0,s.Z)(this,"metadata",{}),(0,s.Z)(this,"onDoneCallbacks",[]),(0,s.Z)(this,"childExperiences",[]),(0,s.Z)(this,"explicitTimings",{}),(0,s.Z)(this,"isSSROutputAsFMP",!1),(0,s.Z)(this,"uuid",null),(0,s.Z)(this,"_until",null),(0,s.Z)(this,"metrics",{startTime:null,endTime:null,marks:[]}),(0,s.Z)(this,"performanceConfig",{}),(0,s.Z)(this,"setPageVisibleStateToMixed",(function(){r.pageVisibleState=x.MIXED,_.unsubscribe(r.setPageVisibleStateToMixed)})),this.id=t,this.category=(null==n?void 0:n.category)||null,this.until=(null==n?void 0:n.until)||null,this.instanceId=o,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=n.type,this.performanceType=n.performanceType,this.performanceConfig=n.performanceConfig||{},this.config=n,this.pageVisibleState=U(),this.featureFlags=n.featureFlags||[],this.timings=n.timings||[],n.performanceType!==i.PageLoad&&n.performanceType!==i.PageSegmentLoad||(this.isSSROutputAsFMP=n.isSSROutputAsFMP||!1)}var t,n,r,o,u,l,d;return(0,c.Z)(e,[{key:"transition",value:(d=(0,y.Z)(w().mark((function e(t,n){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p("async transition",this.id,this.state.id,t.id),a=this.state,c=t,!F[a.id]||!F[a.id].includes(c.id)){e.next=15;break}if(p("TRANSITION: ".concat(this.id," from ").concat(this.state.id," to ").concat(t.id," successful"),this.state.final,!t.final),t===D&&this._reset(),this.state.final&&!t.final&&(this.metrics.startTime=V(n),this.uuid=(0,k.v4)()),this.state=t,!t.final){e.next=14;break}return this.metrics.endTime=V(n),this._isManualStateEnabled()||C().push((o=O,i=this.handleDoneBind,{type:E.UNSUBSCRIBE,payload:{experienceId:o,callback:i}})),e.next=11,this.exportData();case 11:r=e.sent,p("this.parent",this.parent),C().push(T(r));case 14:return e.abrupt("return",!0);case 15:return p("TRANSITION: ".concat(this.id," from ").concat(this.state.id," to ").concat(t.id," unsuccessful")),f("transition of ".concat(this.id," from ").concat(this.state," to ").concat(t," is not possible")),e.abrupt("return",!1);case 18:case"end":return e.stop()}var o,i,a,c}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"start",value:(l=(0,y.Z)(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transition(D,t);case 2:e.sent&&(this.pageVisibleState=U(),_.subscribe(this.setPageVisibleStateToMixed),this._isManualStateEnabled()||(p("subscribed",this.id),C().push((n=O,r=this.handleDoneBind,{type:E.SUBSCRIBE,payload:{experienceId:n,callback:r}}))));case 4:case"end":return e.stop()}var n,r}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"mark",value:function(e,t){"fmp"!==e&&e!==S?this._mark(e,t):f("please use markFMP or markInlineResponse for specialised marks")}},{key:"_mark",value:function(e,t){this.metrics.marks.push({name:e,time:V(t)}),this.transition(Z)}},{key:"markFMP",value:function(e){this._mark("fmp",e)}},{key:"markInlineResponse",value:function(e){this._mark(S,e)}},{key:"_isManualStateEnabled",value:function(){return null===this.until}},{key:"_validateManualState",value:function(){return!!this._isManualStateEnabled()||(f('manual change of state not allowed as "until" is defined'),!1)}},{key:"switchToEndState",value:function(e,t){return null!=t&&t.force||this._validateManualState()?(null!=t&&t.metadata&&this.addMetadata(t.metadata),_.unsubscribe(this.setPageVisibleStateToMixed),this.transition(e)):null}},{key:"success",value:(u=(0,y.Z)(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(M,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"failure",value:(o=(0,y.Z)(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(N,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"abort",value:(r=(0,y.Z)(w().mark((function e(t){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(j,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"addMetadata",value:function(e){Object.assign(this.metadata,e)}},{key:"_handleDoneExperience",value:function(e){if(p("_handleDoneExperience in",this.id,e.state,e,this._until),e.state.final&&null!==this._until){var t=this._until(e),n=t.done,r=t.state;n&&!this.state.final&&this.transition(r)}}},{key:"getId",value:(n=(0,y.Z)(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.id);case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"exportData",value:(t=(0,y.Z)(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getId();case 2:return e.t0=e.sent,e.t1=this.uuid,e.t2=this.type,e.t3="0.1.5",e.t4=this.performanceType,e.t5=this.category,e.t6=this.state,e.t7=z({},this.metadata),e.t8=z({},this.metrics),e.t9=(0,g.Z)(this.childExperiences),e.t10={success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},e.t11=this.config.platform||null,e.t12=this.pageVisibleState,e.t13=this.featureFlags,e.t14=this.isSSROutputAsFMP,e.t15=this.timings,e.t16=this.explicitTimings,e.t17=this.performanceConfig,e.abrupt("return",{id:e.t0,uuid:e.t1,type:e.t2,schemaVersion:e.t3,performanceType:e.t4,category:e.t5,state:e.t6,metadata:e.t7,metrics:e.t8,children:e.t9,result:e.t10,platform:e.t11,pageVisibleState:e.t12,featureFlags:e.t13,isSSROutputAsFMP:e.t14,timings:e.t15,explicitTimings:e.t16,performanceConfig:e.t17});case 21:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_reset",value:function(){this.parent=null,this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}]),e}()),G=function(){function e(t,n){(0,a.Z)(this,e),(0,s.Z)(this,"instances",{}),this.experienceId=t,this.config=n}return(0,c.Z)(e,[{key:"getInstance",value:function(e){return this.instances[e]||(this.instances[e]=new W(this.experienceId,this.config,e)),this.instances[e]}},{key:"release",value:function(e){p("instanceId",e),this.instances[e]&&this.instances[e].abort(),delete this.instances[e]}}]),e}(),q=n(75324),K=function(e){return{platform:{component:e},type:o.Load,performanceType:i.PageSegmentLoad}},$=function(e){return{platform:{component:e},type:o.Experience,performanceType:i.InlineResult}},J=[{key:r.sY.FMP,endMark:r.Uz.FMP_END},{key:r.sY.METADATA,component:"resourced-emoji",startMark:r.Uz.METADATA_START,endMark:r.Uz.METADATA_END},{key:r.sY.MEDIADATA,component:"caching-emoji",startMark:r.Uz.MEDIA_START,endMark:r.Uz.MEDIA_END},{key:r.sY.MOUNTED,component:"emoji",endMark:r.Uz.MOUNTED_END},{key:r.sY.ONLOAD,startMark:r.Uz.ONLOAD_START,endMark:r.Uz.ONLOAD_END}],Y={"emoji-rendered":new G(r.pr.EMOJI_RENDERED,{platform:{component:r.RG.EMOJI},type:o.Operation,performanceType:i.Custom,timings:J}),"emoji-resource-fetched":new G(r.pr.EMOJI_RESOURCE_FETCHED,K(r.RG.EMOJI_PROVIDER)),"emoji-picker-opened":new W(r.pr.EMOJI_PICKER_OPENED,K(r.RG.EMOJI_PICKER)),"emoji-selection-recorded":new W(r.pr.EMOJI_SELECTION_RECORDED,$(r.RG.EMOJI_PROVIDER)),"emoji-uploaded":new W(r.pr.EMOJI_UPLOADED,$(r.RG.EMOJI_PICKER)),"emoji-searched":new W(r.pr.EMOJI_SEARCHED,$(r.RG.EMOJI_PICKER))},X=function(e){return(0,q.x3)(Y["emoji-rendered"].getInstance(e.id||e.shortName))},Q=function(e,t){return e.metrics.marks.some((function(e){return e.name===t}))},ee=function(e){return(0,q.x3)(Y["emoji-resource-fetched"].getInstance(e))}},47969:(e,t,n)=>{"use strict";n.d(t,{k:()=>i});var r=n(2784),o=n(75324),i=function(e,t,n){var i,a;return(0,r.useEffect)((function(){return function(){(0,o.x3)(e).abort()}}),[]),i=function(){(0,o.x3)(e).start({samplingRate:t});var r=0===Object.keys(e.metadata).length;n&&r&&e.addMetadata(n)},(a=(0,r.useRef)(!1)).current||(i(),a.current=!0),null}},79169:(e,t,n)=>{"use strict";n.d(t,{$u:()=>f,Ap:()=>o,BR:()=>l,BT:()=>d,D$:()=>E,DV:()=>m,FL:()=>_,Gv:()=>i,Hn:()=>P,Ib:()=>S,JN:()=>y,M4:()=>c,N0:()=>r,N2:()=>C,P$:()=>g,Qz:()=>k,UI:()=>A,VO:()=>I,XZ:()=>Z,Xr:()=>v,c4:()=>D,er:()=>a,gK:()=>b,kB:()=>u,lD:()=>w,nD:()=>h,qI:()=>O,sZ:()=>s,u6:()=>T,uC:()=>L,yX:()=>x,z6:()=>p});var r="CUSTOM",o="FREQUENT",i="SEARCH",a="USER_CUSTOM",c="allUploadsCustomCategory",s="userUploadsCustomCategory",u="data:",l="delete-emoji",d=1e5,p=20,f=350,h=80,v="medium",m=260,g=295,y=g-58,b=g+54,w="fabric.emoji",k="".concat(w,".selectedTone"),E=["PEOPLE","NATURE","FOODS","ACTIVITY","PLACES","OBJECTS","SYMBOLS","FLAGS"],x=function(e){return e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Tab="Tab",e.Space=" ",e.Backspace="Backspace",e}({}),O=function(e){return e.Down="Down",e.Up="Up",e.Left="Left",e.Right="Right",e}({}),S=[x.ArrowRight,x.ArrowLeft,x.Home,x.End],C=[x.Enter,x.Backspace,x.Space],T=[x.Enter,x.Tab,x.Space],A=[x.ArrowRight,x.ArrowLeft,x.Home,x.End,x.ArrowUp,x.ArrowDown,x.PageUp,x.PageDown],_=0,P=8,D=5,Z=150,I=20,L=100},92011:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>o});var r=!1;function o(e){if(r){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(t=console).log.apply(t,[e].concat(o))}}},76751:(e,t,n)=>{"use strict";function r(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}n.d(t,{du:()=>r})},17295:(e,t,n)=>{"use strict";n.d(t,{EL:()=>l,Hb:()=>s,Kq:()=>c,bx:()=>o,kE:()=>d,n_:()=>u,rN:()=>p,sD:()=>a,sV:()=>i});var r=n(30076),o="var(--ds-border, ".concat(r.YS,")"),i="var(--ds-shadow-overlay, 0 3px 6px rgba(0, 0, 0, 0.2))",a="var(--ds-border, ".concat(r.YS,")"),c="var(--ds-radius-100, 3px)",s="var(--ds-shadow-overlay, 0 3px 6px rgba(0, 0, 0, 0.2))",u="var(--ds-background-neutral-subtle-hovered, ".concat(r.gt,")"),l="var(--ds-background-neutral, ".concat(r.gt,")"),d=350,p=350},25834:(e,t,n)=>{"use strict";n.d(t,{$m:()=>d,AP:()=>w,Aj:()=>s,Cy:()=>l,Ez:()=>x,Hf:()=>m,Vo:()=>b,WN:()=>S,Xt:()=>f,_p:()=>O,bf:()=>u,c5:()=>y,k0:()=>v,oX:()=>k,q0:()=>g,tE:()=>h,tI:()=>p});var r=n(56666),o=n(16497),i=n(79169);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=function(e){return!(!e||!e.spriteRef)},u=function(e){return!(!e||!e.sprite)},l=function(e){return!(!e||!e.imagePath)},d=function(e){return!(!e||!e.mediaPath)},p=function(e){return!(!e||!e.then)},f=function(e){return e&&e.shortName&&e.type},h=function(e){return d(e.representation)},v=function(e){return e.category===i.N0&&(t=e.representation,l(t)&&0===t.imagePath.indexOf(i.kB));var t},m=function(e){return!(!e||!e.skinVariations)},g=function(e){return"baseId"in e},y=function(e){return e in o.s},b=function(e){return{shortName:e.shortName,id:e.id,fallback:e.fallback}},w=function(e,t){if(!t)return!1;for(var n=0;n<e.length;n++)if((r=e[n])===(o=t)||r&&o&&r.id===o.id&&r.shortName===o.shortName)return!0;var r,o;return!1},k=function(e){return{mediaPath:e.imagePath,height:e.height,width:e.width}},E=function(e,t){return{imagePath:t||e.mediaPath,height:e.height,width:e.width}},x=function(e,t,n){var r=e.representation,o=e.altRepresentation,i=n?void 0:t,a=n?t:void 0;if(!d(r)&&!d(o))return e;var s=d(r)?E(r,i):r,u=d(o)?E(o,a):o,l=c(c({},e),{},{representation:s});return O(l,u)},O=function(e,t){return t?c(c({},e),{},{altRepresentation:t}):e},S=function(e){return e.category}},32280:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7896),o=n(2784),i=n(88410),a=n(56666),c=n(86522);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=(0,o.forwardRef)((function(n,s){var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=(0,i._)().createAnalyticsEvent,r=(0,o.useRef)({}),s=(0,o.useMemo)((function(){var o=r.current;return Object.keys(o).filter((function(t){return!(t in e)})).forEach((function(e){return delete o[e]})),Object.keys(e).reduce((function(r,i){var s=e[i];if(!["object","function"].includes((0,c.Z)(s)))return r;var l=t[i];if(i in o&&o[i].eventCreator===s&&o[i].propValue===l)return u(u({},r),{},(0,a.Z)({},i,o[i].wrappedCallback));var d=function(){var e="function"==typeof s?s(n,t):n(s);if(l&&"function"==typeof l){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];l.apply(void 0,o.concat([e]))}};return o[i]={eventCreator:s,wrappedCallback:d,propValue:l},u(u({},r),{},(0,a.Z)({},i,d))}),{})}),[e,t,n,r]);return{patchedEventProps:s}}(e,n),d=l.patchedEventProps,p=(0,i._)().createAnalyticsEvent;return o.createElement(t,(0,r.Z)({},n,d,{createAnalyticsEvent:p,ref:s}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}},88410:(e,t,n)=>{"use strict";n.d(t,{_:()=>E});var r=n(31118),o=n(68079),i=n(9249),a=n(87371),c=n(80753),s=n(93069),u=n(45754),l=n(11987),d=n(95058),p=n(56666),f=n(86522);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){function e(t){var n=this;(0,i.Z)(this,e),(0,p.Z)(this,"_isAnalyticsEvent",!0),(0,p.Z)(this,"clone",(function(){return new e({payload:v({},n.payload)})})),this.payload=t.payload}return(0,a.Z)(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===(0,f.Z)(e)&&(this.payload=v(v({},this.payload),e)),this}}]),e}();function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var y=function(e){(0,u.Z)(n,e);var t=g(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,p.Z)((0,c.Z)(r),"_isUIAnalyticsEvent",!0),(0,p.Z)((0,c.Z)(r),"clone",(function(){return r.hasFired?null:new n({context:(0,o.Z)(r.context),handlers:(0,o.Z)(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),(0,p.Z)((0,c.Z)(r),"fire",(function(e){r.hasFired||(r.handlers.forEach((function(t){return t((0,c.Z)(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return(0,a.Z)(n,[{key:"update",value:function(e){return this.hasFired?this:(0,s.Z)((0,d.Z)(n.prototype),"update",this).call(this,e)}}]),n}(m),b=n(2784),w=n(46674),k=function(){return(0,b.useContext)(w.Z)};function E(){var e=k();return{createAnalyticsEvent:(0,r.vl)((function(t){return new y({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}},31043:(e,t,n)=>{"use strict";n.d(t,{Z:()=>A});var r=n(7896),o=n(96234),i=n(56666),a=n(59740),c=n(2784),s=n(77950),u=n(43231),l=n(80948),d=n(79131),p=["spacing"];function f(e){var t,n,r,o,i=e.spacing,s=void 0===i?"default":i,u=(0,a.Z)(e,p),l="default"===s?"medium":"small";return c.createElement(d.Z,{size:l,appearance:(t=u,n=t.appearance,r=t.isDisabled,o=t.isSelected,r?"inherit":o||"primary"===n||"danger"===n?"invert":"inherit")})}var h=n(1705),v=n(61260);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={focus:"&:focus",focusSelected:"&:focus",hover:"&:hover",active:"&:active",disabled:"&[disabled]"};function b(e){var t=e.appearance,n=void 0===t?"default":t,r=e.spacing,o=void 0===r?"default":r,i=e.mode,a=void 0===i?"light":i,c=e.isSelected,s=void 0!==c&&c,u=e.shouldFitContainer,l=void 0!==u&&u,d=e.iconIsOnlyChild,p=void 0!==d&&d,f=e.isLoading,h=void 0!==f&&f,m=e.state,b=(0,v.gb)({appearance:n,spacing:o,mode:a,isSelected:s,shouldFitContainer:l,isOnlySingleIcon:p});b.outline="none";var w=y[m];return w&&(b=g(g({},b),b[w])),h&&(b=g(g({},b),b['&[data-has-overlay="true"]'])),Object.keys(b).forEach((function(e){"&::-moz-focus-inner"!==e&&0===e.indexOf("&")&&delete b[e]})),b}function w(e,t){return e(t)}const k=(0,h.j)((function(e){return{buttonStyles:b(e),spinnerStyles:{}}}));var E=["appearance","autoFocus","isDisabled","isSelected","shouldFitContainer","spacing","isLoading","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","theme"];function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=e.isDisabled,n=void 0!==t&&t,r=e.isActive,o=void 0!==r&&r,i=e.isFocus,a=void 0!==i&&i,c=e.isHover,s=void 0!==c&&c,u=e.isSelected,l=void 0!==u&&u,d=e.isLoading,p=void 0!==d&&d;return n?"disabled":l&&a?"focusSelected":l?"selected":!p&&o?"active":!p&&s?"hover":a?"focus":"default"}var C={isHover:!1,isActive:!1,isFocus:!1},T=c.memo(c.forwardRef((function(e,t){var n=e.appearance,i=void 0===n?"default":n,d=e.autoFocus,p=void 0!==d&&d,h=e.isDisabled,v=void 0!==h&&h,m=e.isSelected,g=void 0!==m&&m,y=e.shouldFitContainer,b=void 0!==y&&y,x=e.spacing,T=void 0===x?"default":x,A=e.isLoading,_=void 0!==A&&A,P=e.onMouseEnter,D=e.onMouseLeave,Z=e.onMouseDown,I=e.onMouseUp,L=e.onFocus,M=e.onBlur,R=e.theme,N=void 0===R?w:R,j=O({appearance:i,autoFocus:p,isDisabled:v,isSelected:g,shouldFitContainer:b,spacing:T},(0,a.Z)(e,E)),F=(0,c.useState)(C),B=(0,o.Z)(F,2),z=B[0],U=B[1],V=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isHover:!0})})),P&&P(e)}),[P]),H=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isHover:!1,isActive:!1})})),D&&D(e)}),[D]),W=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isActive:!0})})),Z&&Z(e)}),[Z]),G=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isActive:!1})})),I&&I(e)}),[I]),q=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isFocus:!0})})),L&&L(e)}),[L]),K=(0,c.useCallback)((function(e){U((function(e){return O(O({},e),{},{isFocus:!1})})),M&&M(e)}),[M]);return c.createElement(k.Provider,{value:N},c.createElement(s.Z.Consumer,null,(function(e){var n=e.mode;return c.createElement(k.Consumer,(0,r.Z)({mode:n,state:S(O(O({},z),{},{isLoading:_,isSelected:j.isSelected,isDisabled:j.isDisabled})),iconIsOnlyChild:(0,l.Z)(j),isLoading:_},j),(function(e){var n,o=e.buttonStyles;return c.createElement(u.Z,(0,r.Z)({},j,{ref:t,overlay:_?c.createElement(f,j):null,onMouseEnter:V,onMouseLeave:H,onMouseDown:W,onMouseUp:G,onFocus:q,onBlur:K,buttonCss:(n=o,{"&, &:hover, &:active, &:focus, &:focus-visible, &:visited, &:disabled, &[disabled]":n})}))}))})))})));T.displayName="CustomThemeButton";const A=T},43231:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});var r=n(7896),o=n(59740),i=n(2784),a=n(28165),c=n(56666),s=n(88410),u=function(e){var t=(0,i.useRef)(e);return(0,i.useEffect)((function(){t.current=e}),[e]),t};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){var t=e.fn,n=e.action,r=e.componentName,o=e.actionSubject,a=e.packageName,d=e.packageVersion,p=e.analyticsData,f=(0,s._)().createAnalyticsEvent,h=u(p),v=u(t),m=(0,i.useCallback)((function(e){var t=f({action:n,actionSubject:o||r,attributes:{componentName:r,packageName:a,packageVersion:d}}),i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({componentName:r,packageName:a,packageVersion:d},h.current);t.context.push(i);var s=t.clone();s&&s.fire("atlaskit"),v.current(e,t)}),[n,r,o,a,d,f,h,v]);return m}var p=n(70520),f=n(42494),h=n(98273),v=n(28),m=n(30076);function g(e){e.preventDefault(),e.stopPropagation()}function y(e){9!==e.keyCode&&g(e)}var b={onMouseDownCapture:g,onMouseUpCapture:g,onKeyDownCapture:y,onKeyUpCapture:y,onTouchStartCapture:g,onTouchEndCapture:g,onPointerDownCapture:g,onPointerUpCapture:g,onClickCapture:g,onClick:g},w={};var k=n(61260),E=["appearance","buttonCss","spacing","autoFocus","isDisabled","shouldFitContainer","isSelected","iconBefore","iconAfter","children","className","href","overlay","tabIndex","type","onMouseDown","onClick","component","testId","interactionName","analyticsContext"],x={"> *":{pointerEvents:"none"}};const O=i.forwardRef((function(e,t){var n=e.appearance,c=void 0===n?"default":n,s=e.buttonCss,u=e.spacing,l=void 0===u?"default":u,g=e.autoFocus,y=void 0!==g&&g,O=e.isDisabled,S=void 0!==O&&O,C=(e.shouldFitContainer,e.isSelected),T=void 0!==C&&C,A=e.iconBefore,_=e.iconAfter,P=e.children,D=e.className,Z=e.href,I=e.overlay,L=e.tabIndex,M=void 0===L?0:L,R=e.type,N=void 0===R?Z?void 0:"button":R,j=e.onMouseDown,F=void 0===j?p.Z:j,B=e.onClick,z=void 0===B?p.Z:B,U=e.component,V=void 0===U?Z?"a":"button":U,H=e.testId,W=e.interactionName,G=e.analyticsContext,q=(0,o.Z)(e,E),K=(0,i.useRef)(),$=(0,i.useCallback)((function(e){K.current=e,null!=t&&("function"!=typeof t?t.current=e:t(e))}),[K,t]);(0,f.Z)(K,y);var J=(0,i.useContext)(v.Z),Y=d({fn:(0,i.useCallback)((function(e,t){J&&J.tracePress(W,e.timeStamp),z(e,t)}),[z,J,W]),action:"clicked",componentName:"button",packageName:"@atlaskit/button",packageVersion:"16.7.3",analyticsData:G}),X=(0,i.useCallback)((function(e){e.preventDefault(),F(e)}),[F]);(0,i.useEffect)((function(){var e=K.current;S&&e&&e===document.activeElement&&e.blur()}),[S]);var Q=Boolean(I),ee=(0,a.iv)((0,k.aX)({hasOverlay:Q})),te=!S&&!Q,ne={};return(T||S||"warning"===c)&&(ne={"[data-theme] & circle":{stroke:"".concat(T||S?"var(--ds-icon-subtle, ".concat(m.Mx,")"):"var(--ds-icon-warning-inverse, ".concat(m.Mx,")")," !important")}}),(0,a.tZ)(h.Z,null,(0,a.tZ)(V,(0,r.Z)({},q,{css:[s,te?null:x],className:D,ref:$,onClick:Y,onMouseDown:X,disabled:S,href:te?Z:void 0,"data-has-overlay":!!Q||void 0,"data-testid":H,type:N,tabIndex:S?-1:M},{isInteractive:te}.isInteractive?w:b),A?(0,a.tZ)("span",{css:[ee,(0,k.CS)({spacing:l})]},A):null,P?(0,a.tZ)("span",{css:[ee,(0,k.jn)({spacing:l})]},P):null,_?(0,a.tZ)("span",{css:[ee,(0,k.CS)({spacing:l})]},_):null,I?(0,a.tZ)("span",{css:[k.fd,ne]},I):null))}))},61260:(e,t,n)=>{"use strict";n.d(t,{jn:()=>O,gb:()=>E,aX:()=>S,CS:()=>x,fd:()=>C});var r=n(56666),o=n(28165),i=n(9003),a=n(30076),c="rgba(179, 212, 255, 0.6)";const s={background:{default:{default:{light:"var(--ds-background-neutral, ".concat(a.os,")"),dark:"var(--ds-background-neutral, ".concat(a.nA,")")},hover:{light:"var(--ds-background-neutral-hovered, ".concat(a.kd,")"),dark:"var(--ds-background-neutral-hovered, ".concat(a.mn,")")},active:{light:"var(--ds-background-neutral-pressed, ".concat(c,")"),dark:"var(--ds-background-neutral-pressed, ".concat(a.tE,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.os,")"),dark:"var(--ds-background-disabled, ".concat(a.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")}},primary:{default:{light:"var(--ds-background-brand-bold, ".concat(a.AX,")"),dark:"var(--ds-background-brand-bold, ".concat(a.vP,")")},hover:{light:"var(--ds-background-brand-bold-hovered, ".concat(a.M5,")"),dark:"var(--ds-background-brand-bold-hovered, ".concat(a.tE,")")},active:{light:"var(--ds-background-brand-bold-pressed, ".concat(a.YC,")"),dark:"var(--ds-background-brand-bold-pressed, ".concat(a.VY,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.os,")"),dark:"var(--ds-background-disabled, ".concat(a.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")}},warning:{default:{light:"var(--ds-background-warning-bold, ".concat(a.Z3,")"),dark:"var(--ds-background-warning-bold, ".concat(a.Z3,")")},hover:{light:"var(--ds-background-warning-bold-hovered, ".concat(a.cS,")"),dark:"var(--ds-background-warning-bold-hovered, ".concat(a.cS,")")},active:{light:"var(--ds-background-warning-bold-pressed, ".concat(a.jC,")"),dark:"var(--ds-background-warning-bold-pressed, ".concat(a.jC,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.os,")"),dark:"var(--ds-background-disabled, ".concat(a.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(a.jC,")"),dark:"var(--ds-background-selected, ".concat(a.jC,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.jC,")"),dark:"var(--ds-background-selected, ".concat(a.jC,")")}},danger:{default:{light:"var(--ds-background-danger-bold, ".concat(a.$H,")"),dark:"var(--ds-background-danger-bold, ".concat(a.$H,")")},hover:{light:"var(--ds-background-danger-bold-hovered, ".concat(a.rt,")"),dark:"var(--ds-background-danger-bold-hovered, ".concat(a.rt,")")},active:{light:"var(--ds-background-danger-bold-pressed, ".concat(a.gR,")"),dark:"var(--ds-background-danger-bold-pressed, ".concat(a.gR,")")},disabled:{light:"var(--ds-background-disabled, ".concat(a.os,")"),dark:"var(--ds-background-disabled, ".concat(a.nA,")")},selected:{light:"var(--ds-background-selected, ".concat(a.gR,")"),dark:"var(--ds-background-selected, ".concat(a.gR,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.gR,")"),dark:"var(--ds-background-selected, ".concat(a.gR,")")}},link:{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.IR,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.IR,")")}},subtle:{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},hover:{light:"var(--ds-background-neutral-subtle-hovered, ".concat(a.kd,")"),dark:"var(--ds-background-neutral-subtle-hovered, ".concat(a.mn,")")},active:{light:"var(--ds-background-neutral-subtle-pressed, ".concat(c,")"),dark:"var(--ds-background-neutral-subtle-pressed, ".concat(a.tE,")")},disabled:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.xU,")")}},"subtle-link":{default:{light:"var(--ds-background-neutral-subtle, none)",dark:"var(--ds-background-neutral-subtle, none)"},selected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.IR,")")},focusSelected:{light:"var(--ds-background-selected, ".concat(a.TG,")"),dark:"var(--ds-background-selected, ".concat(a.IR,")")}}},color:{default:{default:{light:"var(--ds-text, ".concat(a.Mx,")"),dark:"var(--ds-text, ".concat(a.oe,")")},active:{light:"var(--ds-text, ".concat(a.AX,")"),dark:"var(--ds-text, ".concat(a.AX,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")}},primary:{default:{light:"var(--ds-text-inverse, ".concat(a.N0,")"),dark:"var(--ds-text-inverse, ".concat(a.Dw,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")}},warning:{default:{light:"var(--ds-text-warning-inverse, ".concat(a.q2,")"),dark:"var(--ds-text-warning-inverse, ".concat(a.q2,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(a.q2,")"),dark:"var(--ds-text-selected, ".concat(a.q2,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.q2,")"),dark:"var(--ds-text-selected, ".concat(a.q2,")")}},danger:{default:{light:"var(--ds-text-inverse, ".concat(a.N0,")"),dark:"var(--ds-text-inverse, ".concat(a.N0,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Dw,")")},selected:{light:"var(--ds-text-selected, ".concat(a.N0,")"),dark:"var(--ds-text-selected, ".concat(a.N0,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.N0,")"),dark:"var(--ds-text-selected, ".concat(a.N0,")")}},link:{default:{light:"var(--ds-link, ".concat(a.AX,")"),dark:"var(--ds-link, ".concat(a.vP,")")},hover:{light:"var(--ds-link, ".concat(a.M5,")"),dark:"var(--ds-link, ".concat(a.tE,")")},active:{light:"var(--ds-link-pressed, ".concat(a.YC,")"),dark:"var(--ds-link-pressed, ".concat(a.VY,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Sk,")")},selected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.TG,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.TG,")")}},subtle:{default:{light:"var(--ds-text, ".concat(a.Mx,")"),dark:"var(--ds-text, ".concat(a.oe,")")},active:{light:"var(--ds-text, ".concat(a.AX,")"),dark:"var(--ds-text, ".concat(a.AX,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Sk,")")},selected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")}},"subtle-link":{default:{light:"var(--ds-text-subtle, ".concat(a.iw,")"),dark:"var(--ds-text-subtle, ".concat(a.oe,")")},hover:{light:"var(--ds-text-subtle, ".concat(a.WA,")"),dark:"var(--ds-text-subtle, ".concat(a.BA,")")},active:{light:"var(--ds-text, ".concat(a.zN,")"),dark:"var(--ds-text, ".concat(a.Tx,")")},disabled:{light:"var(--ds-text-disabled, ".concat(a.n2,")"),dark:"var(--ds-text-disabled, ".concat(a.Sk,")")},selected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")},focusSelected:{light:"var(--ds-text-selected, ".concat(a.IR,")"),dark:"var(--ds-text-selected, ".concat(a.oe,")")}}}};function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=(0,i.E0)(),p=(0,i.ww)(),f=(0,i.JB)(),h={default:"".concat(4*p/f,"em"),compact:"".concat(3*p/f,"em"),none:"auto"},v={default:h.default,compact:h.compact,none:"inherit"},m={default:"0 ".concat(p+p/4,"px"),compact:"0 ".concat(p+p/4,"px"),none:"0"},g={compact:"0 ".concat(p/4,"px"),default:"0 ".concat(p/4,"px"),none:"0"},y={default:"middle",compact:"middle",none:"baseline"},b={content:"0 ".concat(p/4,"px"),icon:"0 ".concat(p/4,"px")};function w(e){var t=e.group,n=e.key,r=e.mode;return(t[n]||t.default)[r]}function k(e){var t=e.appearance,n=e.key,r=e.mode;return{background:w({group:s.background[t],key:n,mode:r}),color:"".concat(w({group:s.color[t],key:n,mode:r})," !important")}}function E(e){var t=e.appearance,n=e.spacing,r=e.mode,o=e.isSelected,i=e.shouldFitContainer,a=e.isOnlySingleIcon,c=k({appearance:t,key:o?"selected":"default",mode:r});return l(l({alignItems:"baseline",borderWidth:0,borderRadius:d,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontFamily:"inherit",fontWeight:500,maxWidth:"100%",position:"relative",textAlign:"center",textDecoration:"none",transition:"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",whiteSpace:"nowrap"},c),{},{cursor:"pointer",height:h[n],lineHeight:v[n],padding:a?g[n]:m[n],verticalAlign:y[n],width:i?"100%":"auto",justifyContent:"center","&:visited":l({},c),"&:hover":l(l({},k({appearance:t,key:o?"selected":"hover",mode:r})),{},{textDecoration:o||"link"!==t&&"subtle-link"!==t?"inherit":"underline",transitionDuration:"0s, 0.15s"}),"&:active":l(l({},k({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),'&[data-firefox-is-active="true"]':l(l({},k({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),"&[disabled]":l(l({},k({appearance:t,key:"disabled",mode:r})),{},{cursor:"not-allowed",textDecoration:"none"}),'&[data-has-overlay="true"]':{cursor:"default",textDecoration:"none"},'&[data-has-overlay="true"]:not([disabled]):hover, &[data-has-overlay="true"]:not([disabled]):active':l({},k({appearance:t,key:o?"selected":"default",mode:r})),"&::-moz-focus-inner":{border:0,margin:0,padding:0}})}function x(e){var t=e.spacing;return(0,o.iv)({display:"flex",margin:"none"===t?0:b.icon,flexGrow:0,flexShrink:0,alignSelf:"center",fontSize:0,lineHeight:0,userSelect:"none"})}function O(e){var t=e.spacing;return(0,o.iv)({margin:"none"===t?0:b.content,flexGrow:1,flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})}function S(e){var t=e.hasOverlay;return(0,o.iv)({opacity:t?0:1,transition:"opacity 0.3s"})}var C={position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"}},80948:(e,t,n)=>{"use strict";function r(e){var t=e.children,n=e.iconBefore,r=e.iconAfter;return!t&&(!(!n||r)||!(n||!r))}n.d(t,{Z:()=>r})},30076:(e,t,n)=>{"use strict";n.d(t,{vP:()=>v,VY:()=>m,M5:()=>g,AX:()=>y,BA:()=>f,YC:()=>b,tE:()=>h,xU:()=>W,Sk:()=>B,Dw:()=>H,Tx:()=>F,oe:()=>j,mn:()=>U,nA:()=>z,N0:()=>w,Kz:()=>R,IR:()=>k,iw:()=>T,os:()=>L,gt:()=>E,hH:()=>A,kd:()=>M,YS:()=>x,zN:()=>_,uv:()=>O,Mx:()=>P,n2:()=>S,TG:()=>D,q2:()=>Z,WA:()=>C,xA:()=>I,rt:()=>a,$H:()=>c,gR:()=>s,cS:()=>u,Z3:()=>l,jC:()=>d});var r=n(9003);function o(e){if(e&&e.theme){if(r.GV in e.theme)return e.theme[r.GV];if("mode"in e.theme&&r.oc.includes(e.theme.mode))return e.theme}return{mode:r.MU}}function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}var a="#FF5630",c="#DE350B",s="#BF2600",u="#FFC400",l="#FFAB00",d="#FF991F",p="#36B37E",f="#DEEBFF",h="#B3D4FF",v="#4C9AFF",m="#2684FF",g="#0065FF",y="#0052CC",b="#0747A6",w="#FFFFFF",k="#F4F5F7",E="#EBECF0",x="#DFE1E6",O="#C1C7D0",S="#A5ADBA",C="#8993A4",T="#6B778C",A="#5E6C84",_="#505F79",P="#42526E",D="#253858",Z="#172B4D",I="#091E42",L="rgba(9, 30, 66, 0.04)",M="rgba(9, 30, 66, 0.08)",R="rgba(9, 30, 66, 0.54)",N="#B8C7E0",j="#9FB0CC",F="#8C9CB8",B="#67758F",z="#3B475C",U="#313D52",V="#283447",H="#1B2638",W="#0D1424";i({light:"var(--ds-surface, ".concat(w,")"),dark:"var(--ds-surface, ".concat(H,")")}),i({light:"var(--ds-background-selected, ".concat(f,")"),dark:"var(--ds-background-selected, ".concat(h,")")}),i({light:"var(--ds-background-neutral-hovered, ".concat(E,")"),dark:"var(--ds-background-neutral-hovered, ".concat(z,")")}),i({light:"var(--ds-surface-overlay, ".concat(w,")"),dark:"var(--ds-surface-overlay, ".concat(V,")")}),i({light:"var(--ds-text, ".concat(I,")"),dark:"var(--ds-text, ".concat(N,")")}),i({light:"var(--ds-text, ".concat(Z,")"),dark:"var(--ds-text, ".concat(N,")")}),i({light:"var(--ds-text-selected, ".concat(y,")"),dark:"var(--ds-text-selected, ".concat(y,")")}),i({light:"var(--ds-text-subtlest, ".concat(T,")"),dark:"var(--ds-text-subtlest, ".concat(F,")")}),i({light:"var(--ds-text-subtlest, ".concat(T,")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),i({light:"var(--ds-text, ".concat(Z,")"),dark:"var(--ds-text, ".concat(N,")")}),i({light:"var(--ds-text-subtlest, ".concat(T,")"),dark:"var(--ds-text-subtlest, ".concat(F,")")}),i({light:k,dark:V}),i({light:"var(--ds-link, ".concat(y,")"),dark:"var(--ds-link, ".concat(v,")")}),i({light:"var(--ds-link-pressed, ".concat(g,")"),dark:"var(--ds-link-pressed, ".concat(m,")")}),i({light:"var(--ds-link-pressed, ".concat(b,")"),dark:"var(--ds-link-pressed, ".concat(v,")")}),i({light:"var(--ds-border-focused, ".concat(v,")"),dark:"var(--ds-border-focused, ".concat(m,")")}),i({light:"var(--ds-background-brand-bold, ".concat(y,")"),dark:"var(--ds-background-brand-bold, ".concat(v,")")}),i({light:y,dark:v}),i({light:"#00B8D9",dark:"#00C7E6"}),i({light:"#6554C0",dark:"#998DD9"}),i({light:a,dark:a}),i({light:l,dark:l}),i({light:p,dark:p})},77950:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,m:()=>a});var r=(0,n(1705).j)((function(){return{mode:"light"}})),o=r.Provider,i=r.Consumer,a=r.useTheme;const c={Provider:o,Consumer:i}},9003:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,GV:()=>r,I8:()=>u,JB:()=>s,MU:()=>o,oc:()=>i,ww:()=>c});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 8},s=function(){return 14},u=function(){return"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"}},1705:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var r=n(59740),o=n(2784),i=["children"];function a(e){var t=function(e,t){return e(t)},n=(0,o.createContext)(e);function a(e){return((0,o.useContext)(n)||t)(e)}return{Consumer:function(e){var t=e.children,n=a((0,r.Z)(e,i));return o.createElement(o.Fragment,null,t(n))},Provider:function(e){var r=(0,o.useContext)(n),i=e.value||t,a=(0,o.useCallback)((function(e){return i(r,e)}),[r,i]);return o.createElement(n.Provider,{value:a},e.children)},useTheme:a}}},27940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>q});var r=n(2784),o=n(28165),i=(0,o.iv)({display:"inline-flex",gap:"var(--ds-space-050, 4px)","> *":{flex:"1 0 auto"}});function a(e){var t=e.appearance,n=e.children;return(0,o.tZ)("div",{css:i},r.Children.map(r.Children.toArray(n),(function(e,n){return e?(0,o.tZ)(r.Fragment,{key:n},t?r.cloneElement(e,{appearance:t}):e):null})))}var c=n(79131),s=(0,o.iv)({display:"flex",marginBottom:"var(--ds-space-100, 8px)",paddingLeft:"var(--ds-space-500, 40px)",alignItems:"center",justifyContent:"center"});const u=function(e){var t=e.children;return(0,o.tZ)("div",{css:s},t)};var l=(0,o.iv)({width:"var(--ds-space-300, 24px)",marginLeft:"var(--ds-space-200, 16px)"});const d=function(e){var t=e.children;return(0,o.tZ)("div",{css:l},t)};var p="__ATLASKIT_THEME__",f="light",h=["light","dark"],v=(0,o.iv)({margin:"".concat("var(--ds-space-600, 48px)"," auto"),textAlign:"center"}),m=(0,o.iv)({maxWidth:"".concat(464,"px")}),g=(0,o.iv)({maxWidth:"".concat(304,"px")});const y=function(e){var t=e.children,n=e.width,r=e.testId;return(0,o.tZ)("div",{"data-testid":r,css:[v,"narrow"===n?g:m]},t)};var b=n(56666),w="--max-width",k="--max-height",E=(0,o.iv)({display:"block",maxWidth:"var(".concat(w,")"),maxHeight:"var(".concat(k,")"),margin:"0 auto ".concat("var(--ds-space-300, 24px)")});const x=function(e){var t,n=e.maxHeight,r=e.maxWidth,i=e.height,a=void 0===i?"auto":i,c=e.width,s=void 0===c?"auto":c,u=e.src;return(0,o.tZ)("img",{style:(t={},(0,b.Z)(t,w,"".concat(r,"px")),(0,b.Z)(t,k,"".concat(n,"px")),t),width:s,height:a,alt:"",role:"presentation",css:E,src:u})};function O(e){if(e&&e.theme){if(p in e.theme)return e.theme[p];if("mode"in e.theme&&h.includes(e.theme.mode))return e.theme}return{mode:f}}function S(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=O(e);if(e&&e[n]&&r){var o=r[e[n]];if(o&&o[t.mode]){var i=o[t.mode];if(i)return i}}return""};var n,r,o=e;return function(e){var t=O(e);if(t.mode in o){var n=o[t.mode];if(n)return n}return""}}var C="#FF5630",T="#FFAB00",A="#36B37E",_="#4C9AFF",P="#2684FF",D="#0052CC",Z="#FFFFFF",I="#6B778C",L="#172B4D",M="#B8C7E0",R="#8C9CB8",N="#283447",j=(S({light:"var(--ds-surface, ".concat(Z,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),S({light:"var(--ds-background-selected, ".concat("#DEEBFF",")"),dark:"var(--ds-background-selected, ".concat("#B3D4FF",")")}),S({light:"var(--ds-background-neutral-hovered, ".concat("#EBECF0",")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),S({light:"var(--ds-surface-overlay, ".concat(Z,")"),dark:"var(--ds-surface-overlay, ".concat(N,")")}),S({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(M,")")}),S({light:"var(--ds-text, ".concat(L,")"),dark:"var(--ds-text, ".concat(M,")")}),S({light:"var(--ds-text-selected, ".concat(D,")"),dark:"var(--ds-text-selected, ".concat(D,")")}),S({light:"var(--ds-text-subtlest, ".concat(I,")"),dark:"var(--ds-text-subtlest, ".concat(R,")")}),S({light:"var(--ds-text-subtlest, ".concat(I,")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),S({light:"var(--ds-text, ".concat(L,")"),dark:"var(--ds-text, ".concat(M,")")}));S({light:"var(--ds-text-subtlest, ".concat(I,")"),dark:"var(--ds-text-subtlest, ".concat(R,")")}),S({light:"#F4F5F7",dark:N}),S({light:"var(--ds-link, ".concat(D,")"),dark:"var(--ds-link, ".concat(_,")")}),S({light:"var(--ds-link-pressed, ".concat("#0065FF",")"),dark:"var(--ds-link-pressed, ".concat(P,")")}),S({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(_,")")}),S({light:"var(--ds-border-focused, ".concat(_,")"),dark:"var(--ds-border-focused, ".concat(P,")")}),S({light:"var(--ds-background-brand-bold, ".concat(D,")"),dark:"var(--ds-background-brand-bold, ".concat(_,")")}),S({light:D,dark:_}),S({light:"#00B8D9",dark:"#00C7E6"}),S({light:"#6554C0",dark:"#998DD9"}),S({light:C,dark:C}),S({light:T,dark:T}),S({light:A,dark:A});function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(e,t){return{fontSize:"".concat(e/14,"em"),fontStyle:"inherit",lineHeight:t/e}},U={size:20,lineHeight:24},V=(0,o.iv)([function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return B(B({},z(U.size,U.lineHeight)),{},{color:"var(--ds-text, ".concat(j(e),")"),fontWeight:"var(--ds-font-weight-medium, 500)",letterSpacing:"-0.008em",marginTop:"".concat(28,"px")})}(),{marginTop:"var(--ds-space-0, 0px)",marginBottom:"var(--ds-space-200, 16px)"}]);const H=function(e){var t=e.children;return(0,o.tZ)("h4",{css:V},t)};var W=(0,o.iv)({marginTop:"var(--ds-space-0, 0px)",marginBottom:"var(--ds-space-300, 24px)",color:"var(--ds-text, ".concat(L,")")});const G=function(e){var t=e.children;return(0,o.tZ)("p",{css:W},t)};const q=function(e){var t=e.description,n=e.header,o=e.imageHeight,i=e.imageUrl,s=e.imageWidth,l=e.isLoading,p=e.maxImageHeight,f=void 0===p?160:p,h=e.maxImageWidth,v=void 0===h?160:h,m=e.primaryAction,g=e.renderImage,b=e.secondaryAction,w=e.width,k=e.size,E=e.tertiaryAction,O=e.testId,S=m||b||l?r.createElement(u,null,r.createElement(a,null,b,m),r.createElement(d,null,l&&r.createElement(c.Z,{testId:"empty-state-spinner"}))):null;return r.createElement(y,{testId:O,width:w||k||"wide"},i?r.createElement(x,{src:i,maxWidth:v,maxHeight:f,width:s,height:o}):g&&g({maxImageWidth:v,maxImageHeight:f,imageWidth:s,imageHeight:o}),r.createElement(H,null,n),t&&r.createElement(G,null,t),S,E)}},41630:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M6.972 6.128a2.5 2.5 0 10-2.37 2.87c-.277.394-.616.815-1.016 1.265a.916.916 0 00-.058 1.147.607.607 0 00.948.043c1.939-2.221 2.77-3.996 2.496-5.325zm7 0a2.5 2.5 0 10-2.37 2.87c-.277.394-.616.815-1.016 1.265a.916.916 0 00-.058 1.147.607.607 0 00.948.043c1.939-2.221 2.77-3.996 2.496-5.325zM2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2z"/></svg>'},e,{size:"small"}));a.displayName="Blog16Icon";var c=a;t.Z=c},53431:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm6 12a4 4 0 100-8 4 4 0 000 8z"/></svg>'},e,{size:"small"}));a.displayName="Bug16Icon";var c=a;t.default=c},26623:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 4a1 1 0 00-1 1v6a1 1 0 001 1h10a1 1 0 001-1V5a1 1 0 00-1-1H3zm1 2v4h8V6H4z"/></svg>'},e,{size:"small"}));a.displayName="Issue16Icon";var c=a;t.default=c},82933:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm2 3a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 000 2h4a1 1 0 000-2H4z"/></svg>'},e,{size:"small"}));a.displayName="Page16Icon";var c=a;t.Z=c},88876:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm6 11l-2.863 1.822c-.42.38-1.137.111-1.137-.427v-8.19C4 3.54 4.596 3 5.333 3h5.334C11.403 3 12 3.539 12 4.206v8.19c0 .537-.719.806-1.139.426L8 11zm0-2.371l2 1.274V5H6v4.902L8 8.63z"/></svg>'},e,{size:"small"}));a.displayName="Story16Icon";var c=a;t.default=c},60741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M0 1.994C0 .893.895 0 1.994 0h12.012C15.107 0 16 .895 16 1.994v12.012A1.995 1.995 0 0114.006 16H1.994A1.995 1.995 0 010 14.006V1.994zM4.667 3C3.747 3 3 3.746 3 4.667v6.666C3 12.253 3.746 13 4.667 13h6.666c.92 0 1.667-.746 1.667-1.667V4.667C13 3.747 12.254 3 11.333 3H4.667zM5 5v6h6V5H5z"/></svg>'},e,{size:"small"}));a.displayName="Task16Icon";var c=a;t.default=c},10977:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 11V3.993A.997.997 0 0012 3c-.556 0-1 .445-1 .993V11H3.993A.997.997 0 003 12c0 .557.445 1 .993 1H11v7.007c0 .548.448.993 1 .993.556 0 1-.445 1-.993V13h7.007A.997.997 0 0021 12c0-.556-.445-1-.993-1H13z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="AddIcon";var c=a;t.Z=c},33071:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11.793 5.793a.999.999 0 000 1.414L15.586 11H6a1 1 0 000 2h9.586l-3.793 3.793a.999.999 0 000 1.414c.39.39 1.024.39 1.415 0l5.499-5.5a.997.997 0 00.293-.679v-.057a.996.996 0 00-.293-.678l-5.499-5.5a1 1 0 00-1.415 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="ArrowRightIcon";var c=a;t.Z=c},85304:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M10.294 9.698a.988.988 0 010-1.407 1.01 1.01 0 011.419 0l2.965 2.94a1.09 1.09 0 010 1.548l-2.955 2.93a1.01 1.01 0 01-1.42 0 .988.988 0 010-1.407l2.318-2.297-2.327-2.307z" fill="inherit"/></g></svg>'},e));a.displayName="ChevronRightCircleIcon";var c=a;t.Z=c},27448:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.998 11.513c0-3.038 3.141-5.51 7.002-5.51 3.861 0 7.002 2.472 7.002 5.51 0 3.039-3.141 5.51-7.002 5.51-3.861 0-7.002-2.471-7.002-5.51zm14.84 7.771v-.002s-1.564-2.26-.767-3.116l-.037.02C20.261 14.902 21 13.279 21 11.513 21 7.371 16.963 4 12 4s-9 3.37-9 7.513 4.037 7.514 9 7.514c1.42 0 2.76-.285 3.957-.776 1.003 1.022 2.287 1.572 3.24 1.719l.002-.003a.524.524 0 00.164.033.515.515 0 00.474-.716z"/><rect x="7" y="9" width="10" height="2" rx="1"/><rect x="7" y="12" width="5" height="2" rx="1"/></g></svg>'},e));a.displayName="CommentIcon";var c=a;t.default=c},70358:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor"><path d="M10 19h8V8h-8v11zM8 7.992C8 6.892 8.902 6 10.009 6h7.982C19.101 6 20 6.893 20 7.992v11.016c0 1.1-.902 1.992-2.009 1.992H10.01A2.001 2.001 0 018 19.008V7.992z"/><path d="M5 16V4.992C5 3.892 5.902 3 7.009 3H15v13H5zm2 0h8V5H7v11z"/></g></svg>'},e));a.displayName="CopyIcon";var c=a;t.Z=c},28653:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18.99 8.99l.01 1.015V19a2 2 0 01-2 2H7a2 2 0 01-2-2V5a2 2 0 012-2h5.275c.469 0 .922.164 1.282.464L18.631 7.7c.227.19.359.471.359.768v.521zM12.02 5L12 8.192a.99.99 0 00.994.991h4L12.02 5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="DocumentFilledIcon";var c=a;t.default=c},11966:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M10.687 17.292a.983.983 0 00-1.397 0 1 1 0 000 1.407l1.964 1.98a1.082 1.082 0 001.538 0l1.919-1.933a1 1 0 000-1.408.983.983 0 00-1.398 0l-1.29 1.3-1.336-1.346z" fill-rule="nonzero"/><path d="M13.001 19.993L13 10.006C13 9.451 12.552 9 12 9s-1 .45-1 1.007l.001 9.987c0 .555.448 1.006 1 1.006s1-.45 1-1.007z" fill-rule="nonzero"/><path d="M7.938 5.48a4.8 4.8 0 00-.777-.062C4.356 5.418 2 7.62 2 10.498 2 13.409 4.385 16 7.1 16h2.881v-1.993H7.1c-1.657 0-3.115-1.663-3.115-3.508 0-1.778 1.469-3.087 3.104-3.087h.012c.389 0 .686.05.97.15l.17.063c.605.248.875-.246.875-.246l.15-.267c.73-1.347 2.201-2.096 3.716-2.12a4.14 4.14 0 014.069 3.645l.046.34s.071.525.665.525c.013 0 .012.005.023.005h.254c1.136 0 1.976.959 1.976 2.158 0 1.207-.987 2.342-2.07 2.342h-3.964V16h3.964C20.105 16 22 13.955 22 11.665c0-2-1.312-3.663-3.138-4.074-.707-2.707-3.053-4.552-5.886-4.591-1.975.02-3.901.9-5.038 2.48z"/></g></svg>'},e));a.displayName="DownloadIcon";var c=a;t.Z=c},67009:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 11V7a1 1 0 00-2 0v4H7a1 1 0 000 2h4v4a1 1 0 002 0v-4h4a1 1 0 000-2h-4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAddIcon";var c=a;t.Z=c},72797:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm2.5 4h5a1 1 0 010 2h-5a1 1 0 010-2zm0-8h5a1 1 0 010 2h-5a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignCenterIcon";var c=a;t.Z=c},5253:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm4-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignImageCenterIcon";var c=a;t.Z=c},29664:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignImageLeftIcon";var c=a;t.Z=c},94935:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignImageRightIcon";var c=a;t.Z=c},62991:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm0 4h10a1 1 0 010 2H7a1 1 0 010-2zm0 4h5a1 1 0 010 2H7a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignLeftIcon";var c=a;t.Z=c},69703:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm5 4h5a1 1 0 010 2h-5a1 1 0 010-2zM7 7h10a1 1 0 010 2H7a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignRightIcon";var c=a;t.Z=c},34040:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M17.222 11.557L12.11 16.64a3.012 3.012 0 01-4.238.004 2.97 2.97 0 01.002-4.21L13.339 7a1.75 1.75 0 012.472-.002c.683.679.684 1.775.002 2.452l-5.126 5.095a.493.493 0 01-.699-.007.488.488 0 010-.701l4.764-4.735a.74.74 0 000-1.052.752.752 0 00-1.058 0L8.93 12.785a1.97 1.97 0 000 2.805c.781.777 2.038.78 2.816.007l5.126-5.094a3.206 3.206 0 00-.003-4.557 3.253 3.253 0 00-4.589.002l-5.466 5.433a4.451 4.451 0 00-.001 6.314 4.516 4.516 0 006.355-.004l5.113-5.081a.74.74 0 000-1.053.752.752 0 00-1.059 0z" fill="currentColor"/></svg>'},e));a.displayName="EditorAttachmentIcon";var c=a;t.Z=c},56403:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h4.832C13.908 6 16 6.5 16 9c0 1.333-.333 2.167-1 2.5 1.333.333 2 1.333 2 3 0 .5 0 3.5-4 3.5H8a1 1 0 01-1-1V7a1 1 0 011-1zm1 10h3.5c1 0 2-.25 2-1.5s-1.104-1.5-2-1.5H9v3zm0-4.975h3c.504 0 2 0 2-1.525S12 8 12 8H9v3.025z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorBoldIcon";var c=a;t.Z=c},62694:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorBulletListIcon";var c=a;t.Z=c},59921:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10.208 7.308a1.09 1.09 0 010 1.483l-3.515 3.71 3.515 3.708a1.09 1.09 0 010 1.483.957.957 0 01-1.405 0l-3.866-4.08a1.635 1.635 0 010-2.225l3.866-4.08a.957.957 0 011.405 0zm3.584 0a.957.957 0 011.405 0l3.866 4.08c.583.614.583 1.61 0 2.225l-3.866 4.08a.957.957 0 01-1.405 0 1.09 1.09 0 010-1.484l3.515-3.708-3.515-3.71a1.09 1.09 0 010-1.483z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorCodeIcon";var c=a;t.Z=c},63895:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.062 11L6.5 9.914A1 1 0 017.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L7.914 15.5A1 1 0 116.5 14.086L8.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zm5.408 1.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L16.086 8.5A1 1 0 0117.5 9.914L15.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68l1.562 1.086a1 1 0 01-1.414 1.414l-2.616-2.616z" fill="currentColor"/></svg>'},e));a.displayName="EditorCollapseIcon";var c=a;t.Z=c},39152:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8.51c0-.282.229-.51.5-.51h11c.276 0 .5.228.5.51v8.98c0 .282-.229.51-.5.51h-11a.505.505 0 01-.5-.51V8.51zm2 2.995v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 11h-.99a.497.497 0 00-.505.505zm3 0v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99a.497.497 0 00-.505-.505h-.99a.497.497 0 00-.505.505zm-3 3v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 14h-.99a.497.497 0 00-.505.505zM7.5 8v1h3V8h-3zm6 0v1h3V8h-3zm.5-1.495c0-.279.214-.505.505-.505h.99c.279 0 .505.214.505.505V8h-2V6.505zm-6 0C8 6.226 8.214 6 8.505 6h.99c.279 0 .505.214.505.505V8H8V6.505z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorDateIcon";var c=a;t.Z=c},8375:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9.414 8l3.293 3.293c.187.187.293.442.293.707v5a1 1 0 01-2 0v-4.586l-3-3V10.5a1 1 0 01-2 0V7a1 1 0 011-1h3.5a1 1 0 010 2H9.414zm8.293-1.707a.999.999 0 010 1.414l-2.5 2.5a.997.997 0 01-1.414 0 .999.999 0 010-1.414l2.5-2.5a.999.999 0 011.414 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorDecisionIcon";var c=a;t.Z=c},46947:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M15.148 6.852a.502.502 0 01.708.004l2.288 2.288a.5.5 0 01.004.708L11 17l-3-3 7.148-7.148zM7 15l3 3-3.51.877c-.27.068-.436-.092-.367-.367L7 15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorEditIcon";var c=a;t.Z=c},46270:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 5a7 7 0 110 14 7 7 0 010-14zm0 12.5c3.033 0 5.5-2.467 5.5-5.5S15.033 6.5 12 6.5A5.506 5.506 0 006.5 12c0 3.033 2.467 5.5 5.5 5.5zm-1.5-6a1 1 0 110-2 1 1 0 010 2zm3 0a1 1 0 110-2 1 1 0 010 2zm.27 1.583a.626.626 0 01.932.834A3.63 3.63 0 0112 15.125a3.63 3.63 0 01-2.698-1.204.625.625 0 01.93-.835c.901 1.003 2.639 1.003 3.538-.003z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorEmojiIcon";var c=a;t.Z=c},29285:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13.485 11.929l2.122-2.121a1 1 0 00-1.415-1.415l-2.12 2.122L9.95 8.393a1 1 0 00-1.414 1.415l2.12 2.12-2.12 2.122a1 1 0 001.414 1.414l2.121-2.12 2.121 2.12a1 1 0 101.415-1.414l-2.122-2.121zM12 20a8 8 0 110-16 8 8 0 010 16z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorErrorIcon";var c=a;t.Z=c},12440:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18.062 11L16.5 9.914A1 1 0 1117.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L17.914 15.5a1 1 0 01-1.414-1.414L18.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zM3.47 12.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L6.086 8.5A1 1 0 017.5 9.914L5.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68L7.5 14.086A1 1 0 016.086 15.5L3.47 12.884z" fill="currentColor"/></svg>'},e));a.displayName="EditorExpandIcon";var c=a;t.Z=c},15228:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path fill="#fff" fill-opacity=".01" d="M0 0h24v24H0z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 18h3a1 1 0 010 2H6a2 2 0 01-2-2v-3a1 1 0 112 0v3zm12 2h-3a1 1 0 010-2h3v-3a1 1 0 012 0v3a2 2 0 01-2 2zM6 4h3a1 1 0 010 2H6v3a1 1 0 01-2 0V6a2 2 0 012-2zm12 2h-3a1 1 0 110-2h3a2 2 0 012 2v3a1 1 0 01-2 0V6z" fill="currentColor"/><path d="M10.55 12.061l-1.873.337a.998.998 0 01-.718-1.713 1 1 0 01.718-.287h3.7c.316-.08.686.021.957.293.272.271.373.641.293.957v3.7a1 1 0 01-2 0l.337-1.873-2.602 2.603c-.345.344-.94.306-1.33-.084-.391-.39-.429-.986-.084-1.33l2.602-2.603z" fill="currentColor"/></svg>'},e));a.displayName="EditorFilePreviewIcon";var c=a;t.Z=c},25256:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 6.5c0-.276.228-.5.491-.5H13l4 4v7.5c0 .276-.228.5-.51.5H7.51a.508.508 0 01-.51-.5v-11zm5 1v2.999c0 .271.225.501.501.501H15.5L12 7.5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorFileIcon";var c=a;t.Z=c},94715:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M14 16h-4s0-.5-1-2-2.5-3-2.5-5S7 4 12 4s5.5 3 5.5 5-1.5 3.5-2.5 5-1 2-1 2zm-4 1h4v1l-1.5 2h-1L10 18v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorHintIcon";var c=a;t.Z=c},27856:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect fill="currentColor" x="5" y="11" width="14" height="2" rx="1" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorHorizontalRuleIcon";var c=a;t.Z=c},45076:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 15l-1-1-2 2h8v-1.8L14 12l-3 3zM6 6.5c0-.276.229-.5.5-.5h11c.276 0 .5.229.5.5v11c0 .276-.229.5-.5.5h-11a.504.504 0 01-.5-.5v-11zM9.5 11a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorImageIcon";var c=a;t.Z=c},83188:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9 9H6.49a.495.495 0 00-.49.505v.99c0 .291.22.505.49.505H9v2l3-3-3-3v2zm4-1.495c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018A.49.49 0 0113 8.495v-.99zm0 4c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018a.49.49 0 01-.491-.505v-.99zm-6 4c0-.279.229-.505.5-.505h11c.276 0 .5.214.5.505v.99a.506.506 0 01-.5.505h-11a.495.495 0 01-.5-.505v-.99z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorIndentIcon";var c=a;t.Z=c},45428:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 20a8 8 0 110-16 8 8 0 010 16zm0-8.5a1 1 0 00-1 1V15a1 1 0 002 0v-2.5a1 1 0 00-1-1zm0-1.125a1.375 1.375 0 100-2.75 1.375 1.375 0 000 2.75z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorInfoIcon";var c=a;t.Z=c},88906:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10 6h6a1 1 0 010 2h-6a1 1 0 110-2zM8 16h6a1 1 0 010 2H8a1 1 0 010-2zm4-8h2l-2 8h-2l2-8z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorItalicIcon";var c=a;t.Z=c},12230:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect x="4" y="5" width="16" height="14" rx="2" fill="currentColor"/></svg>'},e));a.displayName="EditorLayoutSingleIcon";var c=a;t.Z=c},3906:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h2a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutThreeEqualIcon";var c=a;t.Z=c},36688:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1zm4 0h6a1 1 0 011 1v12a1 1 0 01-1 1H9a1 1 0 01-1-1V6a1 1 0 011-1zm10 0a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutThreeWithSidebarsIcon";var c=a;t.Z=c},13990:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h5a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm9 0h5a1 1 0 011 1v12a1 1 0 01-1 1h-5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutTwoEqualIcon";var c=a;t.Z=c},92760:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h1a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm5 0h9a1 1 0 011 1v12a1 1 0 01-1 1h-9a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutTwoLeftSidebarIcon";var c=a;t.Z=c},81161:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18 5h1a1 1 0 011 1v12a1 1 0 01-1 1h-1a1 1 0 01-1-1V6a1 1 0 011-1zM5 5h9a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutTwoRightSidebarIcon";var c=a;t.Z=c},84766:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.654 8.764a.858.858 0 01-1.213-1.213l1.214-1.214a3.717 3.717 0 015.257 0 3.714 3.714 0 01.001 5.258l-1.214 1.214-.804.804a3.72 3.72 0 01-5.263.005.858.858 0 011.214-1.214c.781.782 2.05.78 2.836-.005l.804-.803 1.214-1.214a1.998 1.998 0 00-.001-2.831 2 2 0 00-2.83 0l-1.215 1.213zm-.808 6.472a.858.858 0 011.213 1.213l-1.214 1.214a3.717 3.717 0 01-5.257 0 3.714 3.714 0 01-.001-5.258l1.214-1.214.804-.804a3.72 3.72 0 015.263-.005.858.858 0 01-1.214 1.214 2.005 2.005 0 00-2.836.005l-.804.803L7.8 13.618a1.998 1.998 0 00.001 2.831 2 2 0 002.83 0l1.215-1.213z" fill="currentColor"/></svg>'},e));a.displayName="EditorLinkIcon";var c=a;t.Z=c},65264:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 5h12a1 1 0 010 2H6a1 1 0 110-2zm0 12h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h12a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaCenterIcon";var c=a;t.Z=c},85651:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 17h10a1 1 0 010 2H7a1 1 0 010-2zM4 5h16a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaFullWidthIcon";var c=a;t.Z=c},10421:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 5h10a1 1 0 010 2H7a1 1 0 110-2zm0 12h10a1 1 0 010 2H7a1 1 0 010-2zM4 9h16a1 1 0 011 1v4a1 1 0 01-1 1H4a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaWideIcon";var c=a;t.Z=c},45646:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 010 2h-4a1 1 0 010-2zm0 4h4a1 1 0 010 2h-4a1 1 0 010-2zM6 9h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaWrapLeftIcon";var c=a;t.Z=c},19214:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 010 2H6a1 1 0 010-2zm0 4h4a1 1 0 010 2H6a1 1 0 010-2zm8-4h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaWrapRightIcon";var c=a;t.Z=c},12913:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.062 13.93c-.904 0-1.451-.734-1.451-1.945 0-1.226.538-1.952 1.466-1.952.928 0 1.422.764 1.422 1.967 0 1.195-.502 1.93-1.438 1.93M12 5c-3.925 0-7 3.075-7 7 0 4.596 3.522 7 7 7 .874 0 1.614-.09 2.26-.279a.751.751 0 00-.42-1.44c-.508.147-1.11.22-1.84.22-2.648 0-5.5-1.722-5.5-5.5 0-3.085 2.417-5.5 5.5-5.5 3.24 0 5.5 1.952 5.5 4.75 0 2.045-1.043 3-1.748 3-.008 0-.752-.11-.752-.75v-4a.75.75 0 10-1.5 0v.187c-.346-.585-1.016-.952-1.795-.952C10.102 8.736 9 10.04 9 11.938c0 1.984 1.103 3.312 2.753 3.312.865 0 1.51-.387 1.865-1.076.334 1.016 1.37 1.576 2.132 1.576 1.598 0 3.25-1.683 3.25-4.5C19 7.628 16.058 5 12 5" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMentionIcon";var c=a;t.Z=c},4715:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 14a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm-4.5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm9 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMoreIcon";var c=a;t.Z=c},37060:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 4h8a2 2 0 012 2v12a2 2 0 01-2 2H8a2 2 0 01-2-2V6a2 2 0 012-2zm1.5 4a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h5a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-5zm0 4a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorNoteIcon";var c=a;t.Z=c},95871:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 7h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 0h3v1H6v-1zm0 2h3v1H6v-1zm1-9H6V7h2v3H7V8zm-1 3h3v1.333h-.6V13H7.2v-.667H6V11zm0 2h3v1H6v-1zm2 3h2v1H8v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorNumberListIcon";var c=a;t.Z=c},1762:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9 9V7l-3 3 3 3v-2h2.51a.49.49 0 00.49-.505v-.99A.495.495 0 0011.51 9H9zm4-1.495c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018A.49.49 0 0113 8.495v-.99zm0 4c0-.279.228-.505.491-.505h5.018a.49.49 0 01.491.505v.99a.503.503 0 01-.491.505h-5.018a.49.49 0 01-.491-.505v-.99zm-6 4c0-.279.229-.505.5-.505h11c.276 0 .5.214.5.505v.99a.506.506 0 01-.5.505h-11a.495.495 0 01-.5-.505v-.99z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorOutdentIcon";var c=a;t.Z=c},96176:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect width="24" height="24" rx="3" fill="#fff" fill-opacity=".01"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.842 8.67a7 7 0 009.487 9.488l-1.12-1.121A5.47 5.47 0 0112 17.5 5.506 5.506 0 016.5 12a5.5 5.5 0 01.464-2.207L5.842 8.67zm11.195 5.539A5.47 5.47 0 0017.5 12c0-3.033-2.467-5.5-5.5-5.5a5.5 5.5 0 00-2.207.464L8.67 5.842a7 7 0 019.487 9.487l-1.12-1.12z" fill="currentColor"/><rect x="4.319" y="5.556" width="1.75" height="19.976" rx=".875" transform="rotate(-45 4.319 5.556)" fill="currentColor"/></svg>'},e));a.displayName="EditorRemoveEmojiIcon";var c=a;t.Z=c},2546:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm2.78 11a1 1 0 01-.97-.757L7.156 10.62A.5.5 0 017.64 10h8.72a.5.5 0 01.485.621l-1.656 6.622a1 1 0 01-.97.757H9.781zM11 6h2a1 1 0 011 1h-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorRemoveIcon";var c=a;t.Z=c},54345:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M14.823 15.883a5.5 5.5 0 111.06-1.06l2.647 2.647c.293.293.53.59 0 1.06-.53.47-.767.293-1.06 0l-2.647-2.647zM11.5 15.5a4 4 0 100-8 4 4 0 000 8z" fill="currentColor"/></svg>'},e));a.displayName="EditorSearchIcon";var c=a;t.Z=c},84342:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.002 15.504a3.502 3.502 0 110-7.004 3.502 3.502 0 010 7.004m6.732-1.987a1.605 1.605 0 01-.001-3.034.386.386 0 00.253-.462 7.2 7.2 0 00-.672-1.604.384.384 0 00-.481-.156c-.31.127-.668.16-1.039.065a1.6 1.6 0 01-1.129-1.124 1.641 1.641 0 01.061-1.043.385.385 0 00-.157-.48 7.225 7.225 0 00-1.59-.665.385.385 0 00-.461.252 1.604 1.604 0 01-3.032 0 .387.387 0 00-.463-.252c-.57.16-1.11.39-1.613.677a.378.378 0 00-.159.468 1.611 1.611 0 01-2.088 2.108.385.385 0 00-.479.158 7.2 7.2 0 00-.67 1.604.386.386 0 00.248.46 1.605 1.605 0 010 3.021.385.385 0 00-.249.46c.143.504.34.986.582 1.44.096.179.318.24.502.156.479-.22 1.08-.213 1.693.191a.881.881 0 01.243.242c.424.643.412 1.272.16 1.76a.381.381 0 00.134.506 7.197 7.197 0 001.697.721.381.381 0 00.459-.251A1.605 1.605 0 0112 17.645c.707 0 1.302.457 1.518 1.09.066.19.265.306.459.251a7.212 7.212 0 001.677-.71.38.38 0 00.134-.508c-.256-.49-.271-1.12.154-1.766a.884.884 0 01.243-.243c.62-.411 1.228-.413 1.71-.185a.384.384 0 00.505-.153c.244-.454.441-.937.585-1.443a.385.385 0 00-.252-.461" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorSettingsIcon";var c=a;t.Z=c},32282:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h8a2 2 0 012 2v8a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2zm0 2v3h3V8H8zm5 0v3h3V8h-3zm-5 5v3h3v-3H8zm5 0v3h3v-3h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorTableIcon";var c=a;t.Z=c},8333:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.5 6h9A1.5 1.5 0 0118 7.5v9a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 016 16.5v-9A1.5 1.5 0 017.5 6zm3.072 8.838l.143.154a.5.5 0 00.769-.042l.13-.175 3.733-5.045a.8.8 0 00-.11-1.064.665.665 0 00-.984.118l-3.243 4.387-1.315-1.422a.663.663 0 00-.99 0 .801.801 0 000 1.07l1.867 2.019z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorTaskIcon";var c=a;t.Z=c},19045:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.26 6.678l-3.237 9.534a.5.5 0 00.473.66h1.032a.75.75 0 00.717-.53l.648-2.107H9.63l.647 2.107a.75.75 0 00.717.53h1.113a.5.5 0 00.473-.66L9.337 6.677A1 1 0 008.39 6H7.207a1 1 0 00-.947.678zM7.736 8.08h.051l1.364 4.453H6.372L7.736 8.08zm11.113 2.043v-.327a1 1 0 011-1H20a1 1 0 011 1v6.078a1 1 0 01-1 1h-.151a1 1 0 01-1-1v-.312h-.088c-.392.874-1.232 1.439-2.418 1.439-1.975 0-3.221-1.613-3.221-4.182 0-2.546 1.254-4.15 3.221-4.15 1.172 0 2.026.595 2.418 1.454h.088zm-.045 2.712c0-1.47-.685-2.404-1.754-2.404-1.068 0-1.725.92-1.725 2.404 0 1.491.657 2.395 1.725 2.395 1.076 0 1.754-.911 1.754-2.395z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorTextStyleIcon";var c=a;t.Z=c},41045:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 10V9h2v1H5zm4-5h1v2H9V5zm7.646 12.354l.708-.708 2 2-.708.708-2-2zM17 15v-1h2v1h-2zm-3 2h1v2h-1v-2zM7.354 6.646l-.708.708-2-2 .708-.708 2 2zm3.567 9.037l1.061-1.062a.75.75 0 111.06 1.061l-1.06 1.061a3.249 3.249 0 01-4.596 0 3.247 3.247 0 010-4.596l1.06-1.061.703-.703c.793-.63 1.773.35 1.06 1.06l-.702.703-1.06 1.062a1.747 1.747 0 000 2.474 1.749 1.749 0 002.474 0zm2.658-7.608l-1.061 1.061a.75.75 0 01-1.06-1.06l1.06-1.062a3.249 3.249 0 014.596 0 3.247 3.247 0 010 4.596l-1.06 1.062-.703.702c-.565.565-1.581-.45-1.06-1.06l.702-.703 1.06-1.061a1.747 1.747 0 000-2.475 1.749 1.749 0 00-2.474 0z" fill="currentColor"/></svg>'},e));a.displayName="EditorUnlinkIcon";var c=a;t.Z=c},46211:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13.31 5.343l7.359 13.17A1 1 0 0119.796 20H4.204a1 1 0 01-.873-1.488l7.36-13.169a1.5 1.5 0 012.618 0zM12 8.5a1.091 1.091 0 00-1.081 1.239l.513 3.766a.573.573 0 001.136 0l.513-3.766A1.091 1.091 0 0012 8.5zm0 8.63a1.125 1.125 0 100-2.25 1.125 1.125 0 000 2.25z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorWarningIcon";var c=a;t.Z=c},28956:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5.836 6.95l-3.825 9.97a.5.5 0 00.467.68h1.208a.5.5 0 00.47-.33l.683-1.877a.5.5 0 01.47-.33H9.12a.5.5 0 01.47.33l.683 1.878a.5.5 0 00.47.329h1.272a.5.5 0 00.468-.678L8.685 6.95a.7.7 0 00-.655-.45H6.49a.7.7 0 00-.654.45zm1.566 2.457l1.25 3.414a.2.2 0 01-.188.269H5.966a.2.2 0 01-.188-.269l1.249-3.414a.2.2 0 01.375 0zm10.148 6.465c1.222 0 2.142-1.01 2.142-2.603 0-1.594-.902-2.532-2.142-2.532-1.256 0-2.178.938-2.178 2.532 0 1.575.904 2.603 2.178 2.603zm2.161.602c-.372.833-1.276 1.433-2.445 1.433-2.567 0-4.266-2-4.266-4.638 0-2.551 1.664-4.569 4.195-4.569 1.56 0 2.284.833 2.497 1.329v-.34c0-.247.007-.392.213-.576.137-.122.344-.177.62-.165h.764a.581.581 0 01.496.165c.213.203.192.421.192.577v6.394c0 .227.008.526.023.899 0 .191-.041.336-.124.434a.628.628 0 01-.508.242h-.93c-.193 0-.45-.084-.533-.184-.083-.1-.165-.23-.183-.532a6.342 6.342 0 01-.01-.364v-.105z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EmojiKeyboardIcon";var c=a;t.Z=c},20708:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><path d="M13.416 4.417a2.002 2.002 0 00-2.832 0l-6.168 6.167a2.002 2.002 0 000 2.833l6.168 6.167a2.002 2.002 0 002.832 0l6.168-6.167a2.002 2.002 0 000-2.833l-6.168-6.167z" fill="currentColor"/><path d="M12 14a1 1 0 01-1-1V8a1 1 0 012 0v5a1 1 0 01-1 1m0 3a1 1 0 010-2 1 1 0 010 2" fill="inherit"/></g></svg>'},e));a.displayName="ErrorIcon";var c=a;t.default=c},23879:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M17 10.005V19H7V5h5.99v2.49a1.5 1.5 0 001.5 1.5h4.5v-.522c0-.297-.132-.578-.359-.768l-5.074-4.236c-.36-.3-.813-.464-1.282-.464H7a2 2 0 00-2 2v14a2 2 0 002 2h10a2 2 0 002-2v-8.995h-2z"/><rect x="8" y="12" width="8" height="2" rx="1"/><rect x="8" y="15" width="4" height="2" rx="1"/></g></svg>'},e));a.displayName="FileIcon";var c=a;t.Z=c},73172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M12.856 5.457l-.937.92a1.002 1.002 0 000 1.437 1.047 1.047 0 001.463 0l.984-.966c.967-.95 2.542-1.135 3.602-.288a2.54 2.54 0 01.203 3.81l-2.903 2.852a2.646 2.646 0 01-3.696 0l-1.11-1.09L9 13.57l1.108 1.089c1.822 1.788 4.802 1.788 6.622 0l2.905-2.852a4.558 4.558 0 00-.357-6.82c-1.893-1.517-4.695-1.226-6.422.47"/><path d="M11.144 19.543l.937-.92a1.002 1.002 0 000-1.437 1.047 1.047 0 00-1.462 0l-.985.966c-.967.95-2.542 1.135-3.602.288a2.54 2.54 0 01-.203-3.81l2.903-2.852a2.646 2.646 0 013.696 0l1.11 1.09L15 11.43l-1.108-1.089c-1.822-1.788-4.802-1.788-6.622 0l-2.905 2.852a4.558 4.558 0 00.357 6.82c1.893 1.517 4.695 1.226 6.422-.47"/></g></svg>'},e));a.displayName="LinkIcon";var c=a;t.default=c},63021:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M11 7h2v11h-2zM6 5h12v2H6z"/><path d="M5 5h2v3H5zm5 13h4v2h-4zm7-13h2v3h-2z"/></g></svg>'},e));a.displayName="MediaServicesTextIcon";var c=a;t.Z=c},93250:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><circle fill="inherit" cx="12" cy="18" r="1"/><path d="M15.89 9.05a3.975 3.975 0 00-2.957-2.942C10.321 5.514 8.017 7.446 8 9.95l.005.147a.992.992 0 00.982.904c.552 0 1-.447 1.002-.998a2.004 2.004 0 014.007-.002c0 1.102-.898 2-2.003 2H12a1 1 0 00-1 .987v2.014a1.001 1.001 0 002.004 0v-.782c0-.217.145-.399.35-.472A3.99 3.99 0 0015.89 9.05" fill="inherit"/></g></svg>'},e));a.displayName="QuestionCircleIcon";var c=a;t.Z=c},66929:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M16.051 6c-1.571 0-2.847 1.312-2.847 2.93 0 1.617 1.276 2.93 2.847 2.93 2.699 0 1.135 5.088-2.269 5.618a.68.68 0 00-.578.671c0 .416.372.745.784.682 6.187-.938 8.387-12.83 2.063-12.83M7.848 6C6.275 6 5 7.311 5 8.93c0 1.616 1.275 2.928 2.848 2.928 2.698 0 1.134 5.09-2.27 5.62a.68.68 0 00-.578.67c0 .416.372.745.783.682C11.972 17.892 14.172 6 7.848 6" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="QuoteIcon";var c=a;t.Z=c},9847:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.101 13.569c-.247.5-.026 1.095.493 1.333.52.237 1.142.025 1.388-.473C7.011 12.351 9.193 11 11.63 11c2.266 0 4.319 1.167 5.425 3.021.286.479.922.645 1.421.371a.98.98 0 00.386-1.366C17.389 10.557 14.65 9 11.63 9c-3.247 0-6.158 1.802-7.529 4.569z"/><path d="M17.497 10v3h-2.995a1 1 0 100 2h3.896c.608 0 1.102-.493 1.102-1.1V10a1.001 1.001 0 00-2.003 0z"/></g></svg>'},e));a.displayName="RedoIcon";var c=a;t.Z=c},62906:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor"><path d="M19.005 19c-.003 0-.005.002-.005.002l.005-.002zM5 19.006c0-.004-.002-.006-.005-.006H5v.006zM5 4.994V5v-.006zM19 19v-6h2v6.002A1.996 1.996 0 0119.005 21H4.995A1.996 1.996 0 013 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2H5v14h14zM5 4.994V5v-.006zm0 14.012c0-.004-.002-.006-.005-.006H5v.006zM11 5H5v14h14v-6h2v6.002A1.996 1.996 0 0119.005 21H4.995A1.996 1.996 0 013 19.006V4.994C3 3.893 3.896 3 4.997 3H11v2zm8 0v3a1 1 0 002 0V4a1 1 0 00-1-1h-4a1 1 0 000 2h3z"/><path d="M12.707 12.707l8-8a1 1 0 10-1.414-1.414l-8 8a1 1 0 001.414 1.414z"/></g></svg>'},e));a.displayName="ShortcutIcon";var c=a;t.Z=c},19720:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M4 5h16c1.105 0 2 1.045 2 2.333v9.334C22 17.955 21.105 19 20 19H4c-1.105 0-2-1.045-2-2.333V7.333C2 6.045 2.895 5 4 5zm3.465 9.887h1.278L6.786 9.251H5.399l-1.957 5.636h1.183l.434-1.343h1.98l.426 1.343zM6.02 10.423h.07l.7 2.21H5.313l.707-2.21zm6.215 4.464c1.203 0 1.95-.625 1.95-1.613 0-.726-.544-1.289-1.29-1.344v-.07a1.219 1.219 0 001.02-1.203c0-.871-.653-1.406-1.747-1.406H9.704v5.636h2.53zm-1.352-4.734h.985c.562 0 .886.27.886.719 0 .453-.347.715-.984.715h-.887v-1.434zm0 3.832v-1.601h1.024c.695 0 1.074.273 1.074.789 0 .527-.367.812-1.047.812h-1.05zm6.762 1.047c1.36 0 2.352-.84 2.45-2.059h-1.15c-.112.621-.62 1.02-1.296 1.02-.89 0-1.441-.738-1.441-1.926 0-1.187.55-1.922 1.437-1.922.672 0 1.184.426 1.297 1.074h1.148c-.086-1.226-1.109-2.113-2.445-2.113-1.637 0-2.645 1.13-2.645 2.961 0 1.836 1.012 2.965 2.645 2.965z" fill="currentColor"/></svg>'},e));a.displayName="StatusIcon";var c=a;t.Z=c},99501:(e,t,n)=>{"use strict";t.Z=void 0;var r,o=(r=n(2784))&&r.__esModule?r:{default:r},i=n(60378);const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M5.138 13.026a.98.98 0 00.386 1.366 1.066 1.066 0 001.421-.371C8.051 12.167 10.104 11 12.37 11c2.437 0 4.619 1.351 5.648 3.429.246.498.868.71 1.388.473.519-.238.74-.833.493-1.333C18.528 10.802 15.618 9 12.37 9c-3.02 0-5.759 1.557-7.232 4.026z"/><path d="M4.5 10v3.9c0 .607.494 1.1 1.102 1.1h3.896a1 1 0 100-2H6.503v-3A1 1 0 004.5 10z"/></g></svg>'},e));a.displayName="UndoIcon";var c=a;t.Z=c},54573:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){var n=e.split(".");return{eventType:n[0],actionSubject:n[1],action:n[2],actionSubjectId:n[3],attributes:t}}},47377:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var r="media"},51383:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t){var n=e.split(".");return{eventType:n[0],actionSubject:n[1],action:n[2],actionSubjectId:n[3],attributes:t}}},88956:(e,t,n)=>{"use strict";n.d(t,{E1:()=>d,Hz:()=>a,Lt:()=>s,bm:()=>u,jR:()=>l});var r=n(56666),o=n(67336),i=n(25548),a={mounted:"component-mounted"},c=(0,r.Z)({},a.mounted,new o.I(a.mounted,{type:i.Z.Load,performanceType:i.R.PageSegmentLoad,platform:{component:"link-picker"}})),s=function(e,t,n){var r=c[e].getInstance(t);r.start(),n&&r.addMetadata(n)},u=function(e,t,n){c[e].getInstance(t).success({metadata:n})},l=function(e,t,n){c[e].getInstance(t).failure({metadata:n})},d=function(e,t,n){c[e].getInstance(t).abort({metadata:n})}},38600:(e,t,n)=>{"use strict";n.d(t,{D:()=>r,l:()=>o});var r="media",o="linkPicker"},91243:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r,o=n(7896),i=n(28165),a=n(71171),c=(0,i.iv)(r||(r=(0,a.Z)(["\n  height: ","px;\n  margin: 0 auto ",";\n  display: block;\n"])),90,"var(--ds-space-300, 24px)");const s=function(e){var t="link-picker-ui-generic-error-svg";return(0,i.tZ)("svg",(0,o.Z)({height:"90",viewBox:"0 0 164 212",fill:"none",xmlns:"http://www.w3.org/2000/svg",css:c},e),(0,i.tZ)("path",{d:"m95.43 74.16 66.44 115.08c5.84 10.12-1.46 22.76-13.14 22.76H15.85c-11.68 0-18.98-12.65-13.14-22.76L69.15 74.16c5.84-10.12 20.44-10.12 26.28 0Zm-7.56 83.55 2.88-44.35c.34-5.29-3.86-9.78-9.16-9.78-5.31 0-9.51 4.48-9.16 9.78l2.88 44.35a6.3 6.3 0 0 0 6.28 5.89c3.31 0 6.06-2.58 6.28-5.89Zm-15.84 23.54c0 5.66 4.76 10.1 10.39 9.58 4.85-.45 8.73-4.5 8.83-9.37.11-5.45-4.31-9.94-9.73-9.94-5.23-.01-9.49 4.37-9.49 9.73Z",fill:"url(#".concat(t,")")}),(0,i.tZ)("path",{opacity:".6",d:"M93.35 27.17 85.94.45c-.17-.62-1.07-.58-1.19.05l-4.66 25.1-5.8-1.08a.612.612 0 0 0-.7.76L81 52c.17.62 1.07.58 1.19-.05l4.66-25.1 5.8 1.08c.45.08.82-.33.7-.76ZM66.77 41.81 55.9 33.26c-.22-.18-.53.07-.41.33l5.53 11.43-2.66 1.29c-.18.09-.2.33-.05.45l10.87 8.55c.22.18.53-.07.41-.33l-5.53-11.43 2.66-1.29c.17-.08.2-.33.05-.45Z",fill:"#C1C7D0"}),(0,i.tZ)("path",{opacity:".6",d:"M102.78 56.75a.993.993 0 0 1-.92-1.38c-.24-.77-2.29-2.85-3.54-4.11-2.97-3.01-4.93-5-3.84-6.49 1.09-1.48 3.58-.22 7.35 1.7 1.32.67 3.35 1.7 4.45 2.03-.64-.95-2.24-2.58-3.28-3.63-2.97-3.01-4.93-5-3.84-6.49 1.08-1.48 3.58-.22 7.34 1.7 1.32.67 3.34 1.7 4.45 2.03-.64-.95-2.24-2.57-3.28-3.62-2.97-3.01-4.93-5-3.84-6.49 1.08-1.48 3.57-.22 7.34 1.7 1.58.8 4.18 2.13 4.98 2.13a1.005 1.005 0 0 1 1.46 1.36c-1.09 1.48-3.57.22-7.34-1.7-1.32-.67-3.34-1.7-4.44-2.03.64.95 2.24 2.57 3.28 3.62 2.97 3.01 4.93 5 3.84 6.49-1.08 1.48-3.57.22-7.34-1.7-1.32-.67-3.35-1.7-4.45-2.03.64.95 2.24 2.57 3.28 3.63 2.97 3.01 4.93 5 3.84 6.49-1.09 1.48-3.58.22-7.35-1.7-1.32-.67-3.35-1.71-4.45-2.03.64.95 2.24 2.58 3.28 3.63 2.97 3.01 4.93 5 3.84 6.49-.21.26-.51.4-.82.4Zm5.56 14.32c-.35 0-.69-.19-.88-.52-1.04-1.88-2.22-4.02-.91-5.21 1.31-1.2 3.34.18 5.49 1.63.87.59 2.26 1.53 2.93 1.71-.12-.68-.93-2.15-1.45-3.07-1.26-2.27-2.45-4.41-1.14-5.61 1.31-1.2 3.34.18 5.49 1.63.96.65 2.54 1.72 3.1 1.74a1 1 0 0 1 1.27 1.54c-1.31 1.2-3.34-.17-5.49-1.63-.87-.59-2.26-1.53-2.93-1.71.12.68.93 2.15 1.45 3.07 1.26 2.27 2.45 4.41 1.14 5.61-1.31 1.2-3.34-.18-5.49-1.63-.87-.59-2.26-1.53-2.93-1.71.12.68.93 2.14 1.22 2.67.27.48.09 1.09-.39 1.36-.15.09-.32.13-.48.13Zm-54.32-2.89c-.22 0-.44-.04-.67-.14-1.64-.69-1.24-3.11-.81-5.67.17-1.04.45-2.7.33-3.38-.57.39-1.56 1.75-2.18 2.6-1.53 2.09-2.99 4.07-4.62 3.38a.991.991 0 0 1-.53-1.31c.2-.48.73-.72 1.21-.57.52-.21 1.65-1.75 2.34-2.68 1.53-2.09 2.98-4.08 4.62-3.38 1.64.69 1.24 3.11.81 5.67-.17 1.04-.45 2.7-.33 3.38.57-.39 1.56-1.75 2.18-2.6 1.53-2.09 2.98-4.08 4.62-3.38 1.63.69 1.24 3.09.89 5.21-.09.54-.6.91-1.15.83-.54-.09-.92-.6-.83-1.15.1-.59.37-2.24.26-2.92-.57.39-1.56 1.75-2.18 2.6-1.33 1.79-2.59 3.51-3.96 3.51Z",fill:"#B3BAC5"}),(0,i.tZ)("defs",null,(0,i.tZ)("linearGradient",{id:t,x1:"26.169",y1:"228.621",x2:"138.408",y2:"116.382",gradientUnits:"userSpaceOnUse"},(0,i.tZ)("stop",{stopColor:"#C1C7D0"}),(0,i.tZ)("stop",{offset:".297",stopColor:"#C6CBD4",stopOpacity:".881"}),(0,i.tZ)("stop",{offset:".63",stopColor:"#D3D7DE",stopOpacity:".748"}),(0,i.tZ)("stop",{offset:".98",stopColor:"#E9EBEF",stopOpacity:".608"}),(0,i.tZ)("stop",{offset:"1",stopColor:"#EBECF0",stopOpacity:".6"}))))}},58872:(e,t,n)=>{"use strict";n.d(t,{ix:()=>c,mM:()=>s});var r=n(2784),o=n(98022),i=n(88956),a=(0,r.createContext)("SESSION_UNINITIALIZED"),c=function(e){var t,n,c=e.children,s=(0,r.useRef)((0,o.v4)()).current;return(0,r.useEffect)((function(){return function(){return(0,i.E1)(i.Hz.mounted,s)}}),[s]),t=function(){return(0,i.Lt)(i.Hz.mounted,s)},(n=(0,r.useRef)(!1)).current||(t(),n.current=!0),r.createElement(a.Provider,{value:s},c)},s=function(){return(0,r.useContext)(a)}},61799:(e,t,n)=>{"use strict";n.d(t,{$I:()=>h,HJ:()=>m,M2:()=>k,SH:()=>y,gc:()=>g,mb:()=>b,x6:()=>w});var r,o,i,a,c,s,u,l,d=n(71171),p=n(28165),f=n(75736),h=(0,p.iv)(r||(r=(0,d.Z)(["\n  width: ","px;\n  padding: "," ","\n    ",";\n  box-sizing: border-box;\n  line-height: initial;\n"])),342,"var(--ds-space-100, 8px)","var(--ds-space-200, 16px)","var(--ds-space-200, 16px)"),v=(0,p.iv)(o||(o=(0,d.Z)(["\n  ","\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),h),m=(0,p.iv)(i||(i=(0,d.Z)(["\n  ","\n  min-height: ","px;\n"])),v,220),g=(0,p.iv)(a||(a=(0,d.Z)(["\n  ","\n  min-height: ","px;\n"])),v,142),y=(0,p.iv)(c||(c=(0,d.Z)(["\n  margin-left: ",";\n  color: ",";\n  cursor: default;\n"])),"var(--ds-space-050, 4px)","var(--ds-icon, ".concat(f.Mx,")")),b=(0,p.iv)(s||(s=(0,d.Z)(["\n  margin-top: ",";\n  margin-left: calc(-1 * ",");\n  margin-right: calc(-1 * ",");\n"])),"var(--ds-space-150, 12px)","var(--ds-space-100, 8px)","var(--ds-space-100, 8px)"),w=(0,p.iv)(u||(u=(0,d.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),k=(0,p.iv)(l||(l=(0,d.Z)(["\n  margin-top: ",";\n"])),"var(--ds-space-200, 16px)")},42479:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(2784),o=n(46674),i=function(){return(0,r.useContext)(o.Z)}},54953:(e,t,n)=>{"use strict";n.d(t,{_:()=>w});var r=n(31118),o=n(68079),i=n(9249),a=n(87371),c=n(80753),s=n(93069),u=n(45754),l=n(11987),d=n(95058),p=n(56666),f=n(86522);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){function e(t){var n=this;(0,i.Z)(this,e),(0,p.Z)(this,"_isAnalyticsEvent",!0),(0,p.Z)(this,"clone",(function(){return new e({payload:v({},n.payload)})})),this.payload=t.payload}return(0,a.Z)(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===(0,f.Z)(e)&&(this.payload=v(v({},this.payload),e)),this}}]),e}();function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var y=function(e){(0,u.Z)(n,e);var t=g(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,p.Z)((0,c.Z)(r),"_isUIAnalyticsEvent",!0),(0,p.Z)((0,c.Z)(r),"clone",(function(){return r.hasFired?null:new n({context:(0,o.Z)(r.context),handlers:(0,o.Z)(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),(0,p.Z)((0,c.Z)(r),"fire",(function(e){r.hasFired||(r.handlers.forEach((function(t){return t((0,c.Z)(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return(0,a.Z)(n,[{key:"update",value:function(e){return this.hasFired?this:(0,s.Z)((0,d.Z)(n.prototype),"update",this).call(this,e)}}]),n}(m),b=n(42479);function w(){var e=(0,b.O)();return{createAnalyticsEvent:(0,r.vl)((function(t){return new y({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}},2670:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(2784),o=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t}},75736:(e,t,n)=>{"use strict";n.d(t,{vP:()=>v,VY:()=>m,M5:()=>g,AX:()=>y,BA:()=>f,YC:()=>b,tE:()=>h,xU:()=>z,Sk:()=>R,Dw:()=>B,Tx:()=>M,oe:()=>L,mn:()=>j,nA:()=>N,N0:()=>w,IR:()=>k,iw:()=>S,os:()=>D,gt:()=>E,hH:()=>C,kd:()=>Z,zN:()=>T,Mx:()=>A,n2:()=>x,TG:()=>_,q2:()=>P,WA:()=>O,rt:()=>a,$H:()=>c,gR:()=>s,cS:()=>u,Z3:()=>l,jC:()=>d,Pe:()=>U});var r=n(95007);function o(e){if(e&&e.theme){if(r.GV in e.theme)return e.theme[r.GV];if("mode"in e.theme&&r.oc.includes(e.theme.mode))return e.theme}return{mode:r.MU}}function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}var a="#FF5630",c="#DE350B",s="#BF2600",u="#FFC400",l="#FFAB00",d="#FF991F",p="#36B37E",f="#DEEBFF",h="#B3D4FF",v="#4C9AFF",m="#2684FF",g="#0065FF",y="#0052CC",b="#0747A6",w="#FFFFFF",k="#F4F5F7",E="#EBECF0",x="#A5ADBA",O="#8993A4",S="#6B778C",C="#5E6C84",T="#505F79",A="#42526E",_="#253858",P="#172B4D",D="rgba(9, 30, 66, 0.04)",Z="rgba(9, 30, 66, 0.08)",I="#B8C7E0",L="#9FB0CC",M="#8C9CB8",R="#67758F",N="#3B475C",j="#313D52",F="#283447",B="#1B2638",z="#0D1424",U=(i({light:"var(--ds-surface, ".concat(w,")"),dark:"var(--ds-surface, ".concat(B,")")}),i({light:"var(--ds-background-selected, ".concat(f,")"),dark:"var(--ds-background-selected, ".concat(h,")")}),i({light:"var(--ds-background-neutral-hovered, ".concat(E,")"),dark:"var(--ds-background-neutral-hovered, ".concat(N,")")}),i({light:"var(--ds-surface-overlay, ".concat(w,")"),dark:"var(--ds-surface-overlay, ".concat(F,")")}),i({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(I,")")}),i({light:"var(--ds-text, ".concat(P,")"),dark:"var(--ds-text, ".concat(I,")")}),i({light:"var(--ds-text-selected, ".concat(y,")"),dark:"var(--ds-text-selected, ".concat(y,")")}),i({light:"var(--ds-text-subtlest, ".concat(S,")"),dark:"var(--ds-text-subtlest, ".concat(M,")")}),i({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),i({light:"var(--ds-text, ".concat(P,")"),dark:"var(--ds-text, ".concat(I,")")}),i({light:"var(--ds-text-subtlest, ".concat(S,")"),dark:"var(--ds-text-subtlest, ".concat(M,")")}));i({light:k,dark:F}),i({light:"var(--ds-link, ".concat(y,")"),dark:"var(--ds-link, ".concat(v,")")}),i({light:"var(--ds-link-pressed, ".concat(g,")"),dark:"var(--ds-link-pressed, ".concat(m,")")}),i({light:"var(--ds-link-pressed, ".concat(b,")"),dark:"var(--ds-link-pressed, ".concat(v,")")}),i({light:"var(--ds-border-focused, ".concat(v,")"),dark:"var(--ds-border-focused, ".concat(m,")")}),i({light:"var(--ds-background-brand-bold, ".concat(y,")"),dark:"var(--ds-background-brand-bold, ".concat(v,")")}),i({light:y,dark:v}),i({light:"#00B8D9",dark:"#00C7E6"}),i({light:"#6554C0",dark:"#998DD9"}),i({light:a,dark:a}),i({light:l,dark:l}),i({light:p,dark:p})},95007:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,GV:()=>r,JB:()=>s,MU:()=>o,_V:()=>u,oc:()=>i,ww:()=>c});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 8},s=function(){return 14},u=function(){return 11}},40478:(e,t,n)=>{"use strict";n.d(t,{y:()=>o});var r=n(55975);function o(e){var t=(0,r.ap)().featureFlags;return t&&t[e]}},55975:(e,t,n)=>{"use strict";n.d(t,{ap:()=>i,wy:()=>o});var r=n(2784),o=(0,r.createContext)(void 0);function i(){var e=(0,r.useContext)(o);if(!e)throw Error("useSmartCard() must be wrapped in <SmartCardProvider>");return e}},39674:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=function(e,t){return e.getState()[t]||{status:"pending"}}},44097:(e,t,n)=>{"use strict";n.d(t,{X:()=>s});var r={mac:!1,ie:!1,ie_version:0,gecko:!1,chrome:!1,chrome_version:0,android:!1,ios:!1,webkit:!1,safari:!1,supportsIntersectionObserver:!1,supportsResizeObserver:!1};if("undefined"!=typeof navigator){var o=/Edge\/(\d+)/.exec(navigator.userAgent),i=/MSIE \d/.test(navigator.userAgent),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);r.mac=/Mac/.test(navigator.platform);var c=r.ie=!!(i||a||o);r.ie_version=i?document.documentMode||6:a?+a[1]:o?+o[1]:null,r.gecko=!c&&/gecko\/\d/i.test(navigator.userAgent),r.chrome=!c&&/Chrome\//.test(navigator.userAgent),r.chrome_version=parseInt((navigator.userAgent.match(/Chrome\/(\d+)/)||[])[1],10),r.android=/Android \d/.test(navigator.userAgent),r.ios=!c&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),r.webkit=!c&&!!document.documentElement&&"WebkitAppearance"in document.documentElement.style,r.safari=Boolean(navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS")),r.supportsIntersectionObserver="undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,r.supportsResizeObserver="undefined"!=typeof window&&"ResizeObserver"in window&&"ResizeObserverEntry"in window}function s(){return r}},22874:(e,t,n)=>{"use strict";n.d(t,{J7:()=>o,_C:()=>r});var r={iconColor:"inherit",iconGradientStart:"inherit",iconGradientStop:"inherit",label:"",size:"medium",textColor:"currentColor"},o={xsmall:16,small:24,medium:32,large:40,xlarge:48}},39082:(e,t,n)=>{"use strict";n.r(t),n.d(t,{JiraIcon:()=>u});var r=n(2784),o=n(88090),i=n(22874),a=n(391),c=n(26564),s=function(e){var t=e.appearance,n=(e.size,e.iconGradientStart),r=e.iconGradientStop,i={iconGradientStart:n,iconGradientStop:r,iconColor:e.iconColor},c=(0,o.h)({iconGradientStart:r});return t&&(i=(0,a.Z)(t)),'\n  <svg viewBox="0 0 32 32" height="32" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">\n    <defs>\n      <linearGradient x1="94.092%" x2="56.535%" y1="6.033%" y2="43.087%" id="'.concat(c,'">\n        <stop stop-color="').concat(i.iconGradientStart,'" ').concat("inherit"===i.iconGradientStart?'stop-opacity="0.4"':"",' offset="18%"></stop>\n        <stop stop-color="').concat(i.iconGradientStop,'" offset="100%"></stop>\n      </linearGradient>\n    </defs>\n    <g stroke="none" stroke-width="1" fill-rule="nonzero">\n      <path fill="').concat(i.iconColor,'" d="M26.0406546,5 L14.9983562,5 C14.9983562,6.32163748 15.5233746,7.58914413 16.4579134,8.52368295 C17.3924523,9.45822178 18.6599589,9.98324022 19.9815964,9.98324022 L22.0151159,9.98324022 L22.0151159,11.9465283 C22.0168782,14.6974491 24.2474348,16.9265768 26.9983562,16.9265762 L26.9983562,5.95770152 C26.9983562,5.42877757 26.5695786,5 26.0406546,5 Z"></path>\n      <path fill="url(#').concat(c,')" d="M20.0420436,11 L9,11 C9.00176139,13.7504065 11.2309666,15.9796117 13.9813731,15.9813731 L16.0154337,15.9813731 L16.0154337,17.9451836 C16.0154337,19.2671728 16.5405919,20.5350167 17.4753794,21.4698042 C18.4101669,22.4045917 19.6780108,22.9297499 21,22.9297499 L21,11.9579564 C21,11.4288917 20.5711083,11 20.0420436,11 Z"></path>\n      <path fill="url(#').concat(c,')" d="M14.0420436,17 L3,17 C3.00176275,19.7516528 5.23291286,21.9813736 7.98456626,21.9813731 L10.0250133,21.9813731 L10.0250133,23.9451836 C10.0250082,26.6943468 12.2508419,28.9244664 15,28.9297499 L15,17.9579564 C15,17.4288917 14.5711083,17 14.0420436,17 Z"></path>\n    </g>\n  </svg>')},u=function(e){var t=e.appearance,n=e.label,o=void 0===n?"Jira":n,a=e.size,u=void 0===a?i._C.size:a,l=e.testId,d=e.textColor,p=void 0===d?i._C.textColor:d,f=e.iconColor,h=void 0===f?i._C.iconColor:f,v=e.iconGradientStart,m=void 0===v?i._C.iconGradientStart:v,g=e.iconGradientStop,y=void 0===g?i._C.iconGradientStop:g;return r.createElement(c.Z,{appearance:t,label:o,svg:s({appearance:t,iconGradientStart:m,iconGradientStop:y,iconColor:h,size:u}),iconColor:h,iconGradientStart:m,iconGradientStop:y,size:u,testId:l,textColor:p})}},391:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"];function a(e){if(e&&e.theme){if(r in e.theme)return e.theme[r];if("mode"in e.theme&&i.includes(e.theme.mode))return e.theme}return{mode:o}}function c(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=a(e);if(e&&e[n]&&r){var o=r[e[n]];if(o&&o[t.mode]){var i=o[t.mode];if(i)return i}}return""};var n,r,o=e;return function(e){var t=a(e);if(t.mode in o){var n=o[t.mode];if(n)return n}return""}}var s="#FF5630",u="#FFAB00",l="#36B37E",d="#4C9AFF",p="#2684FF",f="#0052CC",h="#FFFFFF",v="#7A869A",m="#6B778C",g="#505F79",y="#172B4D",b="#B8C7E0",w="#8C9CB8",k="#283447",E=(c({light:"var(--ds-surface, ".concat(h,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),c({light:"var(--ds-background-selected, ".concat("#DEEBFF",")"),dark:"var(--ds-background-selected, ".concat("#B3D4FF",")")}),c({light:"var(--ds-background-neutral-hovered, ".concat("#EBECF0",")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),c({light:"var(--ds-surface-overlay, ".concat(h,")"),dark:"var(--ds-surface-overlay, ".concat(k,")")}),c({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(b,")")}),c({light:"var(--ds-text, ".concat(y,")"),dark:"var(--ds-text, ".concat(b,")")}),c({light:"var(--ds-text-selected, ".concat(f,")"),dark:"var(--ds-text-selected, ".concat(f,")")}),c({light:"var(--ds-text-subtlest, ".concat(m,")"),dark:"var(--ds-text-subtlest, ".concat(w,")")}),c({light:"var(--ds-text-subtlest, ".concat(m,")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),c({light:"var(--ds-text, ".concat(y,")"),dark:"var(--ds-text, ".concat(b,")")}),c({light:"var(--ds-text-subtlest, ".concat(m,")"),dark:"var(--ds-text-subtlest, ".concat(w,")")}),c({light:"#F4F5F7",dark:k}),c({light:"var(--ds-link, ".concat(f,")"),dark:"var(--ds-link, ".concat(d,")")}),c({light:"var(--ds-link-pressed, ".concat("#0065FF",")"),dark:"var(--ds-link-pressed, ".concat(p,")")}),c({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(d,")")}),c({light:"var(--ds-border-focused, ".concat(d,")"),dark:"var(--ds-border-focused, ".concat(p,")")}),c({light:"var(--ds-background-brand-bold, ".concat(f,")"),dark:"var(--ds-background-brand-bold, ".concat(d,")")}),c({light:f,dark:d}),c({light:"#00B8D9",dark:"#00C7E6"}),c({light:"#6554C0",dark:"#998DD9"}),c({light:s,dark:s}),c({light:u,dark:u}),c({light:l,dark:l}),function(e){var t,n,r,o,i;switch(e){case"brand":t=f,n=p,r=p,o="var(--ds-text, ".concat(y,")"),i=f;break;case"neutral":t="#344563",n=v,r=v,o=g,i=g;break;case"inverse":t="#C1C7D0",n=h,r=h,o="var(--ds-text-inverse, ".concat(h,")"),i="var(--ds-text-inverse, ".concat(h,")")}return{iconGradientStart:t,iconGradientStop:n,iconColor:r,textColor:o,atlassianLogoTextColor:i}})},26564:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(7896),o=n(56666),i=n(59740),a=n(96234),c=n(28165),s=n(22874),u=["label","svg","size","appearance","iconGradientStart","iconGradientStop","iconColor","textColor","testId"],l="--logo-color",d="--logo-fill",p=(0,c.iv)({display:"inline-block",position:"relative",color:"var(".concat(l,")"),fill:"var(".concat(d,")"),lineHeight:1,userSelect:"none",whiteSpace:"normal","> svg":{height:"100%",fill:"inherit"}}),f=(0,c.iv)({stop:{stopColor:"currentColor"}}),h=Object.entries(s.J7).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],o=n[1];return e[r]=(0,c.iv)({height:"".concat(o,"px")}),e}),{});const v=function(e){var t,n=e.label,a=e.svg,s=e.size,v=e.appearance,m=e.iconGradientStart,g=e.iconGradientStop,y=e.iconColor,b=e.textColor,w=e.testId,k=(0,i.Z)(e,u),E="inherit"===m&&"inherit"===g&&void 0===v,x=w&&"".concat(w,"--wrapper");return(0,c.tZ)("span",(0,r.Z)({css:[p,E&&f,s&&h[s]],"data-testid":x,style:(t={},(0,o.Z)(t,l,y),(0,o.Z)(t,d,b),t),"aria-label":n||void 0,role:n?"img":void 0,dangerouslySetInnerHTML:{__html:a}},k))}},95585:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var r="new-file-experience-wrapper"},39828:(e,t,n)=>{"use strict";n.d(t,{n:()=>r,z:()=>o});var r="media-file-card-view",o="media-file-card-view-selected"},13870:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(7896),o=n(2784),i=n(68467),a=n(89028),c=n.n(a),s=n(64638),u=o.createContext({}),l=function(){var e=(0,o.useContext)(u);return o.createElement(s.o,e)},d=c()({loader:function(){return Promise.all([n.e(8362),n.e(8719),n.e(8696),n.e(3858),n.e(9317),n.e(926)]).then(n.bind(n,55439)).then((function(e){return e.Card}))},loading:function(){return o.createElement(l,null)}}),p=c()({loader:function(){return Promise.all([n.e(3858),n.e(2669)]).then(n.bind(n,46884)).then((function(e){return e.default}))},loading:function(){return o.createElement(l,null)}}),f=c()({loader:function(){return n.e(5446).then(n.bind(n,69200))},loading:function(){return o.createElement(l,null)},render:function(e,t){return o.createElement(h,(0,r.Z)({},t,{withMediaClient:e.withMediaClient}))}}),h=function(e){var t=e.withMediaClient,n=e.dimensions,r=e.featureFlags,a=e.onClick,c=(0,i.jj)(r),s=o.useMemo((function(){return t(d,c)}),[t,c]);return o.createElement(p,{dimensions:n,onClick:a},o.createElement(s,e))};const v=function(e){return o.createElement(u.Provider,{value:e},o.createElement(f,e))}},56306:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(3455),o=n(67093),i=n(27452),a=function(e){var t=e.selected;return"\n    ".concat(o.G,"\n\n    &::after {\n      content: '';\n      width: 100%;\n      height: 100%;\n      position: absolute;\n      top: 0;\n      box-sizing: border-box;\n      pointer-events: none;\n      ").concat(r.E0,"\n      ").concat(t?(0,o.H)([i.a.Border]):"","\n    }\n  ")}},74798:(e,t,n)=>{"use strict";n.d(t,{ZU:()=>h,eZ:()=>f,lA:()=>p});var r,o,i=n(71171),a=n(28165),c=n(62569),s=n(87149),u=n(63817),l=n(56306),d=n(29152),p="media-card-inline-player",f=function(e){var t=e.dimensions,n=e.breakpointSize,o=void 0===n?"medium":n,c=e.shouldUsePointerCursor;return(0,a.iv)(r||(r=(0,i.Z)(["\n  ","\n  ","\n      ","\n  cursor: ",";\n"])),(0,u.pt)({breakpointSize:o}),function(e){return e&&e.height?"height: ".concat((0,s.g)(e.height),"; max-height: 100%;"):""}(t),function(e){return e&&e.width?"width: ".concat((0,s.g)(e.width),"; max-width: 100%;"):""}(t),c?"pointer":"default")};f.displayName="CardViewWrapper";var h=function(e){var t=e.dimensions,n=e.selected;return(0,a.iv)(o||(o=(0,i.Z)(["\n  width: ",";\n  height: ",";\n  overflow: hidden;\n  border-radius: ","px;\n  position: relative;\n  max-width: 100%;\n  max-height: 100%;\n\n  ","\n\n  video {\n    width: 100%;\n    height: 100%;\n  }\n"])),(0,d.M)(t).width||"100%",(0,d.M)(t).height||"auto",(0,c.E0)(),(0,l.W)(n))};h.displayName="InlinePlayerWrapper"},62513:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(86522),o=n(96234),i=n(34795),a=n(9249),c=n(87371),s=n(80753),u=n(45754),l=n(11987),d=n(95058),p=n(56666),f=n(2784),h=n(56177);function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=f.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,r.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:h,configurable:!0}),h.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var g=function(e){(0,u.Z)(d,e);var t,r,l=m(d);function d(){var e;(0,a.Z)(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=l.call.apply(l,[this].concat(n)),(0,p.Z)((0,s.Z)(e),"isMounted",!1),(0,p.Z)((0,s.Z)(e),"state",{MediaInlineCard:d.MediaInlineCard,ErrorBoundary:d.ErrorBoundary}),e}return(0,c.Z)(d,[{key:"componentDidMount",value:(r=(0,i.Z)(v().mark((function e(){var t,r,i,a,c;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isMounted=!0,this.state.MediaInlineCard){e.next=17;break}return e.prev=2,e.next=5,Promise.all([n.e(5446).then(n.bind(n,69200)),Promise.all([n.e(8362),n.e(1357)]).then(n.bind(n,86767)),Promise.all([n.e(3858),n.e(9745)]).then(n.bind(n,4441))]);case 5:t=e.sent,r=(0,o.Z)(t,3),i=r[0],a=r[1],c=r[2],d.MediaInlineCard=i.withMediaClient(a.MediaInlineCard),d.ErrorBoundary=c.default,this.isMounted&&this.setState({MediaInlineCard:d.MediaInlineCard,ErrorBoundary:d.ErrorBoundary}),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(2);case 17:case"end":return e.stop()}}),e,this,[[2,15]])}))),function(){return r.apply(this,arguments)})},{key:"componentWillUnmount",value:(t=(0,i.Z)(v().mark((function e(){return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isMounted=!1;case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.MediaInlineCard,n=e.ErrorBoundary;return t&&n?f.createElement(n,null,f.createElement(t,this.props)):f.createElement(h.y,{message:""})}}]),d}(f.PureComponent);(0,p.Z)(g,"displayName","MediaInlineCardLoader")},63817:(e,t,n)=>{"use strict";n.d(t,{M0:()=>o,pt:()=>a});var r=n(3455),o=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,r=parseInt("".concat(e),10),o=Object.keys(n),a=o[0];return o.forEach((function(e){r<n[e]&&!t&&(t=e)})),t||a},i={small:173,medium:225,large:300,xlarge:1/0},a=function(e){switch(e.breakpointSize){case"small":return"\n        .title {\n          font-size: 12px;\n        }\n        .file-type-icon span {\n          // We need to use important here since we can't use the dimensions provided by the Icon component\n          ".concat((0,r.dp)("14px !important"),"\n        }\n      ");case"medium":return"\n        .title {\n          font-size: 14px;\n        }\n        .file-type-icon span {\n          ".concat((0,r.dp)("16px !important"),"\n        }\n      ");case"large":return"\n        .overlay {\n          padding: 24px;\n        }\n        .title {\n          font-size: 14px;\n        }\n        .file-size {\n          font-size: 14px;\n        }\n        .file-type-icon span {\n          ".concat((0,r.dp)("18px !important"),"\n        }\n      ");case"xlarge":return"\n        border-radius: 2px;\n\n        .title {\n          font-size: 16px;\n        }\n\n        .file-size {\n          font-size: 14px;\n        }\n        \n        .wrapper, .img-wrapper {\n          border-radius: 2px;\n        }\n\n        .overlay {\n          padding: 24px;\n        }\n\n        .file-type-icon span {\n          ".concat((0,r.dp)("18px !important"),"\n        }\n      ")}}},67396:(e,t,n)=>{"use strict";n.d(t,{$0:()=>a,tN:()=>r});var r={width:156,height:125},o={width:435,height:125},i={width:300,height:300},a=function(e){return"image"===e?r:"square"===e?i:"horizontal"===e?o:r}},87149:(e,t,n)=>{"use strict";function r(e){return"string"==typeof e?e:"".concat(e,"px")}n.d(t,{g:()=>r})},64638:(e,t,n)=>{"use strict";n.d(t,{o:()=>v});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058),s=n(2784),u=n(29152),l=n(13704),d=n(79131),p=n(23879),f=n(68467);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var v=function(e){(0,i.Z)(n,e);var t=h(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.dimensions,n=e.testId,r=e.featureFlags,o=(0,u.M)(t);return(0,f.OC)("newCardExperience",r)?s.createElement(l.P,{"data-testid":n||"media-card-loading","data-test-loading":!0,dimensions:o},s.createElement(d.Z,null)):s.createElement(l.i,{"data-testid":n||"media-card-loading","data-test-loading":!0,dimensions:o},s.createElement(p.Z,{label:"loading",size:"medium"}))}}]),n}(s.Component)},29152:(e,t,n)=>{"use strict";n.d(t,{M:()=>r});var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{width:"100%",height:"100%"};return{height:"number"==typeof e.height?"".concat(e.height,"px"):e.height,width:"number"==typeof e.width?"".concat(e.width,"px"):e.width}}},13704:(e,t,n)=>{"use strict";n.d(t,{i:()=>g,P:()=>m});var r,o,i,a=n(7896),c=n(28165),s=n(71171),u=n(3455),l=n(11826),d=n(36487),p=(0,c.F4)(r||(r=(0,s.Z)(["\n  0%{\n    opacity: 1;\n  }\n\n  50%{\n    opacity: 0.6;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"]))),f=function(e){var t=e.dimensions,n=e.theme;return(0,c.iv)(o||(o=(0,s.Z)(["\n  ","\n  background: ",";\n  color: ",";\n  ","\n  max-height: 100%;\n  max-width: 100%;\n  width: ",";\n  height: ",";\n"])),u.be,(0,l.Z)({light:"var(--ds-background-neutral, ".concat(d.IR,")"),dark:"var(--ds-background-neutral, ".concat(d.H8,")")})({theme:n}),(0,l.Z)({light:"var(--ds-icon, ".concat(d.uv,")"),dark:"var(--ds-icon, ".concat(d.Sk,")")})({theme:n}),u.E0,t.width,t.height)},h=function(e){return(0,c.iv)(i||(i=(0,s.Z)(["\n  ","\n  > span {\n    animation: "," 0.8s infinite;\n  }\n"])),f(e),p)},v=n(38957),m=function(e){var t=(0,v.m)();return(0,c.tZ)("div",(0,a.Z)({css:f({dimensions:e.dimensions,theme:t})},e),e.children)},g=function(e){var t=(0,v.m)();return(0,c.tZ)("div",(0,a.Z)({css:h({dimensions:e.dimensions,theme:t})},e),e.children)}},36487:(e,t,n)=>{"use strict";n.d(t,{AX:()=>l,H8:()=>T,IR:()=>p,Mx:()=>y,N0:()=>d,Sk:()=>C,VG:()=>k,VY:()=>u,Y8:()=>v,fR:()=>x,hH:()=>g,n2:()=>h,q2:()=>b,rt:()=>o,uv:()=>f,xA:()=>w,xS:()=>E,zx:()=>a});var r=n(11826),o="#FF5630",i="#FFAB00",a="#FF8B00",c="#36B37E",s="#4C9AFF",u="#2684FF",l="#0052CC",d="#FFFFFF",p="#F4F5F7",f="#C1C7D0",h="#A5ADBA",v="#7A869A",m="#6B778C",g="#5E6C84",y="#42526E",b="#172B4D",w="#091E42",k="rgba(9, 30, 66, 0.31)",E="rgba(9, 30, 66, 0.48)",x="#E6EDFA",O="#B8C7E0",S="#8C9CB8",C="#67758F",T="#283447";(0,r.Z)({light:"var(--ds-surface, ".concat(d,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),(0,r.Z)({light:"var(--ds-background-selected, ".concat("#DEEBFF",")"),dark:"var(--ds-background-selected, ".concat("#B3D4FF",")")}),(0,r.Z)({light:"var(--ds-background-neutral-hovered, ".concat("#EBECF0",")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),(0,r.Z)({light:"var(--ds-surface-overlay, ".concat(d,")"),dark:"var(--ds-surface-overlay, ".concat(T,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(w,")"),dark:"var(--ds-text, ".concat(O,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(b,")"),dark:"var(--ds-text, ".concat(O,")")}),(0,r.Z)({light:"var(--ds-text-selected, ".concat(l,")"),dark:"var(--ds-text-selected, ".concat(l,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(m,")"),dark:"var(--ds-text-subtlest, ".concat(S,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(v,")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),(0,r.Z)({light:"var(--ds-text, ".concat(b,")"),dark:"var(--ds-text, ".concat(O,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(m,")"),dark:"var(--ds-text-subtlest, ".concat(S,")")}),(0,r.Z)({light:p,dark:T}),(0,r.Z)({light:"var(--ds-link, ".concat(l,")"),dark:"var(--ds-link, ".concat(s,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat("#0065FF",")"),dark:"var(--ds-link-pressed, ".concat(u,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(s,")")}),(0,r.Z)({light:"var(--ds-border-focused, ".concat(s,")"),dark:"var(--ds-border-focused, ".concat(u,")")}),(0,r.Z)({light:"var(--ds-background-brand-bold, ".concat(l,")"),dark:"var(--ds-background-brand-bold, ".concat(s,")")}),(0,r.Z)({light:l,dark:s}),(0,r.Z)({light:"#00B8D9",dark:"#00C7E6"}),(0,r.Z)({light:"#6554C0",dark:"#998DD9"}),(0,r.Z)({light:o,dark:o}),(0,r.Z)({light:i,dark:i}),(0,r.Z)({light:c,dark:c})},38957:(e,t,n)=>{"use strict";n.d(t,{m:()=>c});var r=n(59740),o=n(2784),i=["children"];var a=function(e){var t=function(e,t){return e(t)},n=(0,o.createContext)(e);function a(e){return((0,o.useContext)(n)||t)(e)}return{Consumer:function(e){var t=e.children,n=a((0,r.Z)(e,i));return o.createElement(o.Fragment,null,t(n))},Provider:function(e){var r=(0,o.useContext)(n),i=e.value||t,a=(0,o.useCallback)((function(e){return i(r,e)}),[r,i]);return o.createElement(n.Provider,{value:a},e.children)},useTheme:a}}((function(){return{mode:"light"}})),c=(a.Provider,a.Consumer,a.useTheme)},62569:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,GV:()=>r,I8:()=>s,JB:()=>c,MU:()=>o,oc:()=>i});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 14},s=function(){return"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"}},11826:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(62569);function o(e){if(e&&e.theme){if(r.GV in e.theme)return e.theme[r.GV];if("mode"in e.theme&&r.oc.includes(e.theme.mode))return e.theme}return{mode:r.MU}}function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}},22518:(e,t,n)=>{"use strict";n.d(t,{p:()=>l,y:()=>u});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var u=function(e){(0,i.Z)(n,e);var t=s(n);function n(e,o,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).reason=e,a.id=o,a.metadata=i,a}return(0,o.Z)(n,[{key:"attributes",get:function(){var e=this.reason,t=this.id,n=this.metadata;return{reason:e,id:t,collectionName:(n=void 0===n?{}:n).collectionName,occurrenceKey:n.occurrenceKey}}}]),n}(n(23695).tM);function l(e){return e instanceof u}},1294:(e,t,n)=>{"use strict";n.d(t,{oT:()=>z});var r=n(86522),o=n(34795),i=n(9249),a=n(87371),c=n(56666),s=n(43962),u=n(71049),l=n(80301),d=n(47551),p=n(26426),f=n.n(p),h=(n(66985),n(51021)),v=n(11373),m=n(38875),g=n(87057),y=n(22518),b=n(75211),w=n(5120),k=n(95694),E=n(68238),x=n(75639),O=n.n(x),S=n(20634),C=n(45262),T=function(e){if(e.content instanceof Blob){var t=e.content.type;return(0,C.L4)(t)}return"unknown"},A=function(e,t){return(0,g.f6)(e)||"unknown"!==e.mediaType?{}:{mediaType:t}},_=function(e){for(var t=e.split(",")[1],n=atob(t),r=[],o=function(e){var t=n.slice(e,e+512),o=t.split("").map((function(e,n){return t.charCodeAt(n)})),i=new Uint8Array(o);r.push(i)},i=0;i<n.length;i+=512)o(i);return new Blob(r,{type:"image/jpeg"})},P=n(98342),D=n(61660),Z=n(81028),I=n(83841),L=n(54675),M=n(77567),R=n(6997),N=n(68467);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(){B=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new C(r||[]);return o(a,"_invoke",{value:E(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(T([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function i(o,a,c,s){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,r.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function E(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return A()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,o(b,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new k(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var z=function(){function e(t,n){var r=this;(0,i.Z)(this,e),(0,c.Z)(this,"createDownloadFileStream",(function(e,t,n){var i=(0,Z.O)(),a=new M.D;return a.onError=function(e){return i.error(e)},a.execute((0,o.Z)(B().mark((function o(){var c,s;return B().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r.dataloader.load({id:e,collectionName:t});case 2:if(c=o.sent){o.next=5;break}throw new y.y("emptyItems",e,{collectionName:t,occurrenceKey:n});case 5:if(!(0,R.d)(c)){o.next=7;break}throw new y.y("zeroVersionFile",e,{collectionName:t,occurrenceKey:n});case 7:s=(0,g.L5)(e,c),i.next(s),o.t0=s.status,o.next="processing"===o.t0?12:"processed"===o.t0?14:16;break;case 12:return a.next(),o.abrupt("break",16);case 14:return i.complete(),o.abrupt("break",16);case 16:case"end":return o.stop()}}),o)})))),i})),(0,c.Z)(this,"getUploadingFileStateBase",(function(e,t){"string"==typeof e.content&&(e.content=_(e.content));var n,r=e.content,o=e.name,i=void 0===o?"":o,a=t.id,c=t.occurrenceKey,s=0,u="";return r instanceof Blob&&(s=r.size,u=r.type,(0,I.PU)(r.type)&&(n={value:r,origin:"local"})),{id:a,occurrenceKey:c,name:i,size:s,mediaType:T(e),mimeType:u,preview:n}})),this.mediaStore=t,this.featureFlags=n,this.dataloader=(0,S.dR)(t)}var t,n,r;return(0,a.Z)(e,[{key:"getFileState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.collectionName,o=n.occurrenceKey;if(!O()(e)){var i=(0,Z.O)();return i.error(new y.y("invalidFileId",e,{collectionName:r,occurrenceKey:o})),(0,P.u)(i)}return(0,P.u)((0,w.Q)().getOrInsert(e,(function(){return t.createDownloadFileStream(e,r)})))}},{key:"getCurrentState",value:function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new s.Subscription;return new Promise((function(n,r){return t.add(e.subscribe({next:function(e){n(e),t.unsubscribe()},error:function(e){r(e),t.unsubscribe()}}))}))}(this.getFileState(e,t))}},{key:"getArtifactURL",value:function(e,t,n){return this.mediaStore.getArtifactURL(e,t,n)}},{key:"getFileBinaryURL",value:function(e,t){return this.mediaStore.getFileBinaryURL(e,t)}},{key:"touchFiles",value:function(e,t,n){return this.mediaStore.touchFiles({descriptors:e},{collection:t},n).then((function(e){return e.data}))}},{key:"generateUploadableFileUpfrontIds",value:function(e,t){var n=f()(),r=f()(),o={fileId:n,occurrenceKey:r,collection:e};return{id:n,occurrenceKey:r,deferredUploadId:this.touchFiles([o],e,t).then((function(e){return e.created[0].uploadId}))}}},{key:"uploadExternal",value:(r=(0,o.Z)(B().mark((function e(t,n,r){var i,a,c,s,u,l,d,p,f=this;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.generateUploadableFileUpfrontIds(n,r),a=i.id,c=i.occurrenceKey,s=(0,Z.O)(),u=fetch(t).then((function(e){return e.blob()})).catch((function(){})),l=new Promise(function(){var e=(0,o.Z)(B().mark((function e(t,n){var r;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:(r=e.sent)||n("Could not fetch the blob"),t({value:r,origin:"remote"});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d=t.split("/").pop()||"",p={status:"processing",name:d,size:0,mediaType:"unknown",mimeType:"",id:a,occurrenceKey:c,preview:l},s.next(p),(0,w.Q)().set(a,s),e.abrupt("return",new Promise(function(){var e=(0,o.Z)(B().mark((function e(t,o){var p,h,v,m,g,y;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u;case 2:if(p=e.sent){e.next=5;break}return e.abrupt("return",o("Could not download remote file"));case 5:return h=p.type,v=p.size,m={content:p,mimeType:h,collection:n,name:d},g=(0,C.L4)(h),s.next({status:"processing",name:d,size:v,mediaType:g,mimeType:h,id:a,occurrenceKey:c,preview:l}),f.upload(m,void 0,i,r),e.next=12,(0,D.x)(g,p);case 12:y=e.sent,t({dimensions:y,uploadableFileUpfrontIds:i});case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 10:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"uploadAwlaysPullFileStates",value:function(e,t,n,r){var o=this,i=e.collection,a=n||this.generateUploadableFileUpfrontIds(i,r),c=a.id,u=a.occurrenceKey,d=this.getUploadingFileStateBase(e,a),p=(0,Z.O)();(0,w.Q)().set(c,p);var f=function(e){p.next(F(F({status:"uploading"},d),{},{progress:e}))},h=new s.Subscription,v=(0,b.c)(e,this.mediaStore,a,{onUploadFinish:function(e){if(e)return p.error(e);h=o.createDownloadFileStream(c,i,u).pipe((0,l.map)((function(e){return F(F(F({},d),e),A(e,d.mediaType))}))).subscribe(p)},onProgress:f},r),m=v.cancel;return null==t||t.setAbort((function(){m(),h.unsubscribe()})),setTimeout(f,0,0),(0,P.u)(p)}},{key:"uploadConditionallyPullFileStates",value:function(e,t,n,r){var o=this;"string"==typeof e.content&&(e.content=_(e.content));var i=e.content,a=e.name,c=void 0===a?"":a,p=e.collection;n||(n=this.generateUploadableFileUpfrontIds(p,r));var f,h=n.id,v=n.occurrenceKey,m="",g=0,y=T(e),k=(0,Z.O)(),E=new s.Subscription;i instanceof Blob&&(g=i.size,m=i.type,(0,I.PU)(i.type)&&(f={value:i,origin:"local"}));var x={id:h,occurrenceKey:v,name:c,size:g,mediaType:y,mimeType:m,preview:f},O=function(e){k.next(F(F({status:"uploading"},x),{},{progress:e}))},S=(0,b.c)(e,this.mediaStore,n,{onUploadFinish:function(e){if(e)return k.error(e);E.add((0,L.J)(y,m,f).pipe((0,d.b)((function(e){return e?o.createDownloadFileStream(h,p,v).pipe((0,l.map)((function(e){return F(F(F({},x),e),A(e,y))}))):(0,u.of)(F({status:"processing",representations:{}},x))}))).subscribe(k))},onProgress:O},r),C=S.cancel;return(0,w.Q)().set(h,k),setTimeout((function(){O(0)}),0),t&&t.setAbort((function(){C(),E.unsubscribe()})),(0,P.u)(k)}},{key:"upload",value:function(e,t,n,r,o){return(0,N.OC)("fetchFileStateAfterUpload",o||this.featureFlags)?this.uploadAwlaysPullFileStates(e,t,n,r):this.uploadConditionallyPullFileStates(e,t,n,r)}},{key:"downloadBinary",value:(n=(0,o.Z)(B().mark((function e(t){var n,r,o,i=arguments;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"download",r=i.length>2?i[2]:void 0,e.next=4,this.mediaStore.getFileBinaryURL(t,r);case 4:o=e.sent,(0,v.G)(o,{name:n}),k.h.emit("media-viewed",{fileId:t,isUserCollection:r===E.a1,viewingLevel:"download"});case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"copyFile",value:(t=(0,o.Z)(B().mark((function e(t,n){var r,o,i,a,c,s,u,l,d,p,f,v,y,b,k,E,x,O,S,T,_,P,D,I,M,R,N,j,z=arguments;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z.length>2&&void 0!==z[2]?z[2]:{},o=z.length>3?z[3]:void 0,i=t.authProvider,a=t.collection,c=t.id,s=n.authProvider,u=n.collection,l=n.replaceFileId,d=n.occurrenceKey,p=r.preview,f=r.mimeType,v=n.mediaStore||new m.Fq({authProvider:s}),e.t0=h.pl,e.next=9,i({collectionName:a});case 9:return e.t1=e.sent,y=(0,e.t0)(e.t1),b={sourceFile:{id:c,collection:a,owner:y}},k={collection:u,replaceFileId:l,occurrenceKey:d},E=(0,w.Q)(),e.prev=14,e.next=17,v.copyFileWithToken(b,k,o);case 17:if(O=e.sent,S=O.data,T=F(F({},S),f?{mimeType:f}:void 0),_=T.id,P=T.mimeType,D=P?(0,C.L4)(P):"unknown",I=(0,g.eS)({data:T}),M=E.get(_),R=M||(0,Z.O)(),N=!(0,g.f6)(I)&&p?{preview:p}:{},e.t2=!(0,g.nT)(I)&&P,!e.t2){e.next=31;break}return e.next=30,(0,L.M)(D,P,p);case 30:e.t2=e.sent;case 31:if(!e.t2){e.next=36;break}R.next(F(F(F({},I),A(I,D)),N)),x=this.createDownloadFileStream(_,u,d).subscribe({next:function(e){return R.next(F(F(F({},e),A(e,D)),!(0,g.f6)(e)&&N))},error:function(e){return R.error(e)},complete:function(){return R.complete()}}),e.next=37;break;case 36:(0,g.y2)(I)||R.next(F(F({},I),!(0,g.f6)(I)&&N));case 37:return E.has(_)||(0,w.Q)().set(_,R),e.abrupt("return",S);case 41:throw e.prev=41,e.t3=e.catch(14),x&&x.unsubscribe(),l&&((j=E.get(l))?j.error(e.t3):E.set(c,(0,Z.O)(e.t3))),e.t3;case 46:case"end":return e.stop()}}),e,this,[[14,41]])}))),function(e,n){return t.apply(this,arguments)})}]),e}()},16081:(e,t,n)=>{"use strict";n.d(t,{Q:()=>p});var r=n(86522),o=n(34795),i=n(9249),a=n(87371),c=n(91355),s=n(38875),u=n(1294),l=n(43595);function d(){d=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var f={};function h(){}function v(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var p=function(){function e(t,n){(0,i.Z)(this,e),this.mediaClientConfig=t,this.featureFlags=n,this.mediaStore=new s.Fq({authProvider:t.authProvider,initialAuth:t.initialAuth},n),this.config=t,this.file=new u.oT(this.mediaStore,n),this.eventEmitter=new c.EventEmitter2,this.stargate=new l.E(t.stargateBaseUrl)}var t,r,p;return(0,a.Z)(e,[{key:"getImage",value:function(e,t,n,r,o){return this.mediaStore.getImage(e,t,n,r,o)}},{key:"getImageUrl",value:function(e,t){return this.mediaStore.getFileImageURL(e,t)}},{key:"getImageUrlSync",value:function(e,t){return this.mediaStore.getFileImageURLSync(e,t)}},{key:"getImageMetadata",value:(p=(0,o.Z)(d().mark((function e(t,n){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mediaStore.getImageMetadata(t,n);case 2:return e.abrupt("return",e.sent.metadata);case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return p.apply(this,arguments)})},{key:"mobileUploadPromise",value:(r=(0,o.Z)(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.mobileUpload){e.next=2;break}return e.abrupt("return",this.mobileUpload);case 2:return e.next=4,Promise.all([n.e(7170),n.e(4761)]).then(n.bind(n,49933));case 4:return t=e.sent,this.mobileUpload=new t.MobileUploadImpl(this.mediaStore),e.abrupt("return",this.mobileUpload);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"removeFileFromCollection",value:(t=(0,o.Z)(d().mark((function e(t,n,r,o){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mediaStore.removeCollectionFile(t,n,r,o);case 2:case"end":return e.stop()}}),e,this)}))),function(e,n,r,o){return t.apply(this,arguments)})},{key:"on",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"off",value:function(e,t){this.eventEmitter.off(e,t)}},{key:"emit",value:function(e,t){return this.eventEmitter.emit(e,t)}}]),e}()},11405:(e,t,n)=>{"use strict";n.d(t,{W:()=>l,r:()=>u});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var u=function(e){(0,i.Z)(n,e);var t=s(n);function n(e,o){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).reason=e,i.innerError=o,i}return(0,o.Z)(n,[{key:"attributes",get:function(){return{reason:this.reason,innerError:this.innerError}}}]),n}(n(23695).tM);function l(e){return e instanceof u}},38875:(e,t,n)=>{"use strict";n.d(t,{Fq:()=>S,rl:()=>A,ro:()=>_});var r=n(86522),o=n(34795),i=n(9249),a=n(87371),c=n(56666),s=n(60160),u=n(68238),l=n(32765),d=n(21880),p=n(20909),f=n(11405),h=function(e,t){return new Promise((function(n,r){setTimeout(r,e,t)}))};function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=f.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,r.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:h,configurable:!0}),h.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var m=function(){var e=(0,o.Z)(v().mark((function e(t,n){var r,o,i=arguments;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:1e4,e.prev=1,e.next=4,Promise.race([t(n),h(r,new f.r("authProviderTimedOut"))]);case 4:o=e.sent,e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0 instanceof f.r)){e.next=11;break}throw e.t0;case 11:throw new f.r("failedAuthProvider",e.t0 instanceof Error?e.t0:void 0);case 12:if(o){e.next=14;break}throw new f.r("emptyAuth");case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(m=b);var w=v.prototype=f.prototype=Object.create(m);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,r.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=v,o(w,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w="media-api-region",k="media-api-environment",E={"max-age":u.NK,allowAnimated:!0,mode:"crop"},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b(b(b({},E),e),t?{width:u.xQ,height:u.xQ}:{})},O={Accept:"application/json","Content-Type":"application/json"},S=function(){function e(t,n){var r=this;(0,i.Z)(this,e),(0,c.Z)(this,"resolveAuth",(function(e){return m(r.config.authProvider,e)})),(0,c.Z)(this,"resolveInitialAuth",(function(){return function(e){if(!e)throw new f.r("missingInitialAuth");return e}(r.config.initialAuth)})),this.config=t,this.featureFlags=n}var t,n,r,h,v,y,E,S,C,A;return(0,a.Z)(e,[{key:"removeCollectionFile",value:(A=(0,o.Z)(g().mark((function e(t,n,r,o){var i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={actions:[{action:"remove",item:{type:"file",id:t,occurrenceKey:r}}]},a=b(b({},{method:"PUT",endpoint:"/collection/{collectionName}"}),{},{authContext:{collectionName:n},headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(i),traceContext:o}),e.next=5,this.request("/collection/".concat(n),a);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r){return A.apply(this,arguments)})},{key:"createUpload",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r={method:"POST",endpoint:"/upload"},o=b(b({},r),{},{authContext:{collectionName:t},params:{createUpTo:e},headers:{Accept:"application/json"},traceContext:n});return this.request("/upload",o).then((0,p.jV)(r))}},{key:"uploadChunk",value:(C=(0,o.Z)(g().mark((function e(t,n,r,o,i,a){var c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=b(b({},{method:"PUT",endpoint:"/chunk/{etag}"}),{},{params:{uploadId:r,partNumber:o},authContext:{collectionName:i},body:n,traceContext:a}),e.next=4,this.request("/chunk/".concat(t),c);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,o,i){return C.apply(this,arguments)})},{key:"probeChunks",value:function(e,t,n,r){var o={method:"POST",endpoint:"/chunk/probe"},i=b(b({},o),{},{params:{uploadId:t},authContext:{collectionName:n},headers:O,body:JSON.stringify({chunks:e}),traceContext:r});return this.request("/chunk/probe",i).then((0,p.jV)(o))}},{key:"createFileFromUpload",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r={method:"POST",endpoint:"/file/upload"},o=b(b({},r),{},{authContext:{collectionName:t.collection},params:t,headers:O,body:JSON.stringify(e),traceContext:n});return this.request("/file/upload",o).then((0,p.jV)(r))}},{key:"touchFiles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r={method:"POST",endpoint:"/upload/createWithFiles"},o=b(b({},r),{},{authContext:{collectionName:t.collection},headers:O,body:JSON.stringify(e),traceContext:n});return this.request("/upload/createWithFiles",o).then((0,p.jV)(r))}},{key:"getFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r={method:"GET",endpoint:"/file/{fileId}"},o=b(b({},r),{},{authContext:{collectionName:t.collection},params:t,traceContext:n});return this.request("/file/".concat(e),o).then((0,p.jV)(r))}},{key:"getFileImageURL",value:(S=(0,o.Z)(g().mark((function e(t,n){var r,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n||{}).collection,e.next=3,this.resolveAuth({collectionName:r});case 3:return o=e.sent,e.abrupt("return",this.createFileImageURL(t,o,n));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return S.apply(this,arguments)})},{key:"getFileImageURLSync",value:function(e,t){var n=this.resolveInitialAuth();return this.createFileImageURL(e,n,t)}},{key:"createFileImageURL",value:function(e,t,n){var r={params:x(n),auth:t};return(0,p.uJ)("".concat(t.baseUrl,"/file/").concat(e,"/image"),r)}},{key:"getFileBinaryURL",value:(E=(0,o.Z)(g().mark((function e(t,n){var r,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resolveAuth({collectionName:n});case 2:return r=e.sent,o={params:{dl:!0,collection:n,"max-age":u.NK},auth:r},e.abrupt("return",(0,p.uJ)("".concat(r.baseUrl,"/file/").concat(t,"/binary"),o));case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return E.apply(this,arguments)})},{key:"getArtifactURL",value:(y=(0,o.Z)(g().mark((function e(t,n,r){var o,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(0,l.l)(t,n)){e.next=3;break}throw new Error("artifact ".concat(n," not found"));case 3:return e.next=5,this.resolveAuth({collectionName:r});case 5:return i=e.sent,a={params:{collection:r,"max-age":u.NK},auth:i},e.abrupt("return",(0,p.uJ)("".concat(i.baseUrl).concat(o),a));case 8:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return y.apply(this,arguments)})},{key:"getImage",value:(v=(0,o.Z)(g().mark((function e(t,n,r,o,i){var a,c,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},s=b(b({},c={method:"GET",endpoint:"/file/{fileId}/image"}),{},{authContext:{collectionName:n&&n.collection},params:x(n,o),headers:a,traceContext:i}),e.abrupt("return",this.request("/file/".concat(t,"/image"),s,r).then((0,p.Yb)(c)));case 6:case"end":return e.stop()}}),e,this)}))),function(e,t,n,r,o){return v.apply(this,arguments)})},{key:"getItems",value:(h=(0,o.Z)(g().mark((function e(t,n,r){var o,i,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.map((function(e){return{type:"file",id:e,collection:n}})),a=b(b({},i={method:"POST",endpoint:"/items"}),{},{authContext:{collectionName:n},headers:O,body:JSON.stringify({descriptors:o}),traceContext:r}),e.abrupt("return",this.request("/items",a).then((0,p.jV)(i)));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return h.apply(this,arguments)})},{key:"getImageMetadata",value:(r=(0,o.Z)(g().mark((function e(t,n,r){var o,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=b(b({},o={method:"GET",endpoint:"/file/{fileId}/image/metadata"}),{},{authContext:{collectionName:n&&n.collection},params:n,traceContext:r}),e.abrupt("return",this.request("/file/".concat(t,"/image/metadata"),i).then((0,p.jV)(o)));case 3:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"appendChunksToUpload",value:(n=(0,o.Z)(g().mark((function e(t,n,r,o){var i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=b(b({},{method:"PUT",endpoint:"/upload/{uploadId}/chunks"}),{},{authContext:{collectionName:r},headers:O,body:JSON.stringify(n),traceContext:o}),e.next=4,this.request("/upload/".concat(t,"/chunks"),i);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r,o){return n.apply(this,arguments)})},{key:"copyFileWithToken",value:function(e,t,n){var r={method:"POST",endpoint:"/file/copy/withToken"},o=b(b({},r),{},{authContext:{collectionName:t.collection},params:t,headers:O,body:JSON.stringify(e),traceContext:n});return this.request("/file/copy/withToken",o).then((0,p.jV)(r))}},{key:"request",value:(t=(0,o.Z)(g().mark((function e(t){var n,r,o,i,a,c,u,l,p,f,h,v,m,y=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>2?y[2]:void 0,o=(n=y.length>1&&void 0!==y[1]?y[1]:{method:"GET",endpoint:void 0,authContext:{}}).method,i=n.endpoint,a=n.authContext,c=n.params,u=n.headers,l=n.body,p=n.clientOptions,f=n.traceContext,e.next=5,this.resolveAuth(a);case 5:return h=e.sent,v=f?b(b({},f),{},{spanId:(null==f?void 0:f.spanId)||(0,s.QB)(8)}):void 0,e.next=9,(0,d.WY)("".concat(h.baseUrl).concat(t),{method:o,endpoint:i,auth:h,params:c,headers:u,body:l,clientOptions:p,traceContext:v},r);case 9:return m=e.sent,T(w,m.headers.get("x-media-region")),T(k,m.headers.get("x-media-env")),e.abrupt("return",m);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),C=function(e){return window&&window.sessionStorage&&window.sessionStorage.getItem(e)||void 0},T=function(e,t){t&&window&&window.sessionStorage&&(window.sessionStorage.getItem(e)!==t&&window.sessionStorage.setItem(e,t))},A=function(){return C(k)},_=function(){return C(w)}},43595:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(86522),o=n(34795),i=n(9249),a=n(87371);function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,u,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var s=function(){function e(t){(0,i.Z)(this,e),this.baseUrl=t||"/gateway/api"}var t;return(0,a.Z)(e,[{key:"fetchToken",value:(t=(0,o.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.baseUrl,"/media/auth/smartedge"),{credentials:"include",headers:{"x-client-id":t}});case 2:return e.abrupt("return",e.sent.json());case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"isTokenExpired",value:function(e){var t=(new Date).getTime()/1e3;return e.data.iat+e.data.expiresIn-t<0}}]),e}()},68238:(e,t,n)=>{"use strict";n.d(t,{NK:()=>i,a1:()=>o,f0:()=>u,kr:()=>c,wl:()=>s,xQ:()=>a});var r=n(98675),o="recents",i=2592e3,a=4096,c=5*r.x.MB,s=1e3,u=2*r.x.TB},5120:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var r,o=n(9249),i=n(87371),a=function(){function e(t){(0,o.Z)(this,e),this.streams=t}return(0,i.Z)(e,[{key:"has",value:function(e){return!!this.streams.find(e)}},{key:"set",value:function(e,t){this.streams.set(e,t)}},{key:"get",value:function(e){return this.streams.get(e)}},{key:"getOrInsert",value:function(e,t){return this.has(e)||this.set(e,t()),this.get(e)}},{key:"removeAll",value:function(){this.streams.clear()}},{key:"remove",value:function(e){this.streams.delete(e)}},{key:"size",get:function(){return this.streams.size}}]),e}(),c=function(){if(!r){var e=n(51021).nA;r=new a(e.streams)}return r}},95694:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(51021),o={on:function(e,t){r.nA.eventEmitter&&r.nA.eventEmitter.on(e,t)},off:function(e,t){r.nA.eventEmitter&&r.nA.eventEmitter.off(e,t)},emit:function(e,t){if(r.nA.eventEmitter)return r.nA.eventEmitter.emit(e,t)}}},32765:(e,t,n)=>{"use strict";n.d(t,{l:()=>r});var r=function(e,t){var n=e[t];if(n&&n.url)return n.url}},23695:(e,t,n)=>{"use strict";n.d(t,{tM:()=>l});var r=n(87371),o=n(9249),i=n(80753),a=n(45754),c=n(11987),s=n(95058);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var l=function(e){(0,a.Z)(n,e);var t=u(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).message=e,Object.setPrototypeOf((0,i.Z)(r),(this instanceof n?this.constructor:void 0).prototype),"captureStackTrace"in Error&&Error.captureStackTrace((0,i.Z)(r),this instanceof n?this.constructor:void 0),r}return(0,r.Z)(n)}((0,n(30364).Z)(Error))},87057:(e,t,n)=>{"use strict";n.d(t,{L5:()=>h,__:()=>a,eS:()=>f,f6:()=>u,jL:()=>l,mo:()=>p,nT:()=>d,vh:()=>s,y2:()=>c});var r=n(56666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e){return"uploading"===e.status},c=function(e){return"processing"===e.status},s=function(e){return"processed"===e.status},u=function(e){return"error"===e.status},l=function(e){return!u(e)&&!!e.preview},d=function(e){return["processed","failed-processing","error"].includes(e.status)},p=function(e){switch(e.status){case"processing":case"processed":case"failed-processing":return!(!e.representations||!e.representations.image);default:return!1}},f=function(e){var t=e.data,n=t.id,r=t.name,o=t.size,a=t.processingStatus,c=t.artifacts,s={id:n,name:r,size:o,mediaType:t.mediaType,mimeType:t.mimeType,artifacts:c,representations:t.representations,createdAt:t.createdAt,metadataTraceContext:t.metadataTraceContext};switch(a){case"pending":case void 0:return i(i({},s),{},{status:"processing"});case"succeeded":return i(i({},s),{},{status:"processed"});case"failed":return i(i({},s),{},{status:"failed-processing"})}},h=function(e,t){return f({data:i({id:e},t)})}},98675:(e,t,n)=>{"use strict";n.d(t,{d:()=>i,x:()=>r});var r,o=n(68467),i=function(e,t){var n=["audio","video","image"];return(0,o.OC)("newCardExperience",t)?[].concat(n,["doc"]).indexOf(e)>-1:n.indexOf(e)>-1};!function(e){e[e.MB=1048576]="MB",e[e.GB=1073741824]="GB",e[e.TB=1099511627776]="TB"}(r||(r={}))},75211:(e,t,n)=>{"use strict";n.d(t,{c:()=>T});var r=n(86522),o=n(34795),i=n(65197),a=n(36119),c=n(47551);function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,u,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var u=null,l=function(){var e=(0,o.Z)(s().mark((function e(){var t,r,o,i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=3,u){e.next=17;break}return e.prev=2,e.next=5,n.e(8492).then(n.bind(n,18492));case 5:r=e.sent,o=r.WorkerHasher,u=new o(t),e.next=17;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,n.e(5074).then(n.bind(n,95074));case 14:i=e.sent,a=i.SimpleHasher,u=new a;case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),d=n(9249),p=n(87371),f=n(45754),h=n(11987),v=n(95058);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,v.Z)(e);if(t){var o=(0,v.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,h.Z)(this,n)}}var g=function(e){(0,f.Z)(n,e);var t=m(n);function n(e,r,o){var i;return(0,d.Z)(this,n),(i=t.call(this,e)).reason=e,i.id=r,i.metadata=o,i}return(0,p.Z)(n,[{key:"attributes",get:function(){var e=this.reason,t=this.id,n=this.metadata;return{reason:e,id:t,collectionName:(n=void 0===n?{}:n).collectionName,occurrenceKey:n.occurrenceKey}}}]),n}(n(23695).tM);var y=n(68238),b=n(98675),w="fileSizeExceedsLimit";function k(){k=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function v(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(A([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=v.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,r.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=v,o(b,"constructor",{value:v,configurable:!0}),o(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var E=function(){var e=(0,o.Z)(k().mark((function e(t){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:return n=e.sent,e.abrupt("return",n.hash(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e,t,n,r){return function(){var i=(0,o.Z)(k().mark((function o(i){var a,c;return k().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=e,o.t1=A(i),o.next=4,t;case 4:return o.t2=o.sent,o.t3=n,o.t4=r,o.next=9,o.t0.probeChunks.call(o.t0,o.t1,o.t2,o.t3,o.t4);case 9:return a=o.sent,c=a.data.results,o.abrupt("return",Object.values(c).map((function(e){return e.exists})));case 12:case"end":return o.stop()}}),o)})));return function(e){return i.apply(this,arguments)}}()},O=function(e,t,n,r){return function(){var i=(0,o.Z)(k().mark((function o(i){return k().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=e,o.t1=i.hash,o.t2=i.blob,o.next=5,t;case 5:return o.t3=o.sent,o.t4=i.partNumber,o.t5=n,o.t6=r,o.next=11,o.t0.uploadChunk.call(o.t0,o.t1,o.t2,o.t3,o.t4,o.t5,o.t6);case 11:return o.abrupt("return",o.sent);case 12:case"end":return o.stop()}}),o)})));return function(e){return i.apply(this,arguments)}}()},S=function(e,t,n,r){var i=0;return function(){var a=(0,o.Z)(k().mark((function o(a){return k().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.t0=e,o.next=3,t;case 3:return o.t1=o.sent,o.t2={chunks:A(a),offset:i},o.t3=n,o.t4=r,o.next=9,o.t0.appendChunksToUpload.call(o.t0,o.t1,o.t2,o.t3,o.t4);case 9:i+=a.length;case 10:case"end":return o.stop()}}),o)})));return function(e){return a.apply(this,arguments)}}()},C=function(){var e=(0,o.Z)(k().mark((function e(t,n,r,o,i){var a,c,s,u,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.collection,c=t.name,s=t.mimeType,u=r.id,l=r.occurrenceKey,e.abrupt("return",n.createFileFromUpload({uploadId:o,name:c,mimeType:s},{occurrenceKey:l,collection:a,replaceFileId:u},i));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,o,i){return e.apply(this,arguments)}}(),T=function(e,t,n,r,o){var s=e.content,u=e.collection,l=n.deferredUploadId,d=n.id,p=n.occurrenceKey,f=y.kr;try{s instanceof Blob&&(f=function(e){if(e>y.f0)throw new Error(w);return e<=5*b.x.GB?5*b.x.MB:e>5*b.x.GB&&e<=50*b.x.GB?50*b.x.MB:e>50*b.x.GB&&e<=.95*b.x.TB?100*b.x.MB:210*b.x.MB}(s.size))}catch(e){return e instanceof Error&&e.message===w&&(null==r||r.onUploadFinish(new g(e.message,d,{collectionName:u,occurrenceKey:p}))),{cancel:function(){null==r||r.onUploadFinish("canceled")}}}var h=(0,i.G)(s,{hashingFunction:E,hashingConcurrency:5,probingBatchSize:100,chunkSize:f,uploadingConcurrency:3,uploadingFunction:O(t,l,u,o),probingFunction:x(t,l,u,o),processingBatchSize:y.wl,processingFunction:S(t,l,u,o)},{onProgress:function(e){r&&r.onProgress(e)}}),v=r&&r.onUploadFinish||function(){},m=(0,a.D)(l).pipe((0,c.b)((function(r){return h.pipe((0,c.b)((function(){return(0,a.D)(C(e,t,n,r,o))})))}))).subscribe({error:function(e){return v(e)},complete:function(){return v()}});return{cancel:function(){m.unsubscribe(),v("canceled")}}},A=function(e){return e.map((function(e){return e.hash}))}},20634:(e,t,n)=>{"use strict";n.d(t,{dR:()=>m});var r=n(86522),o=n(68079),i=n(34795),a=n(56666),c=(n(66985),n(99798)),s=n.n(c),u=n(60160);function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=100,h=function(e,t){return t?"".concat(e,"-").concat(t):e},v=function(e,t){var n=t.reduce((function(e,t){var n=t.id,r=t.collection;return e[h(n,r)]=t.error instanceof Error?t.error:p(p({},t.details),{},{metadataTraceContext:t.metadataTraceContext}),e}),{});return e.map((function(e){var t=e.id,r=e.collectionName,o=h(t,r);return n[o]||null}))};function m(e){return new(s())(function(e){return function(){var t=(0,i.Z)(l().mark((function t(n){var r,a,c;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="__media-single-file-collection__",a=n.reduce((function(e,t){var n=t.collectionName||r,o=e[n]||[];return-1===o.indexOf(t.id)&&o.push(t.id),e[n]=o,e}),{}),c=[],t.next=5,Promise.all(Object.keys(a).map(function(){var t=(0,i.Z)(l().mark((function t(n){var i,s,d,f,h;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={traceId:(0,u.QB)(8),spanId:(0,u.QB)(8)},s=a[n],d=n===r?void 0:n,t.prev=3,t.next=6,e.getItems(s,d,i);case 6:f=t.sent,h=f.data.items.map((function(e){return p(p({},e),{},{metadataTraceContext:i})})),c.push.apply(c,(0,o.Z)(h)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),s.forEach((function(e){c.push({id:e,collection:d,error:t.t0})}));case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()));case 5:return t.abrupt("return",v(n,c));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e),{maxBatchSize:f})}},81028:(e,t,n)=>{"use strict";n.d(t,{O:()=>o});var r=n(28669);function o(e){var t=new r.ReplaySubject(1);return e instanceof Error?t.error(e):e&&t.next(e),t}},6997:(e,t,n)=>{"use strict";n.d(t,{d:()=>o});var r=432e5;function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=e.artifacts,o=e.mediaType,i=e.mimeType,a=e.name,c=e.processingStatus,s=e.representations,u=e.size,l=e.createdAt;if(!(n||o||i||a||c||s||u||"number"!=typeof l)&&t-l>r)return!0;return!1}},61660:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});var r=n(86522),o=n(34795),i=function(e){return new Promise((function(t,n){var r=new Image;r.src=e,r.onload=function(){return t({width:r.width,height:r.height})},r.onerror=n}))},a=n(88754);function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,u,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var s=function(){var e=(0,o.Z)(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="image"===e.t0?3:"video"===e.t0?11:12;break;case 3:return r=URL.createObjectURL(n),e.prev=4,e.next=7,i(r);case 7:return e.abrupt("return",e.sent);case 8:return e.prev=8,URL.revokeObjectURL(r),e.finish(8);case 11:return e.abrupt("return",(0,a.t)(n));case 12:throw new Error("Can't extract dimensions from ".concat(t));case 13:case"end":return e.stop()}}),e,null,[[4,,8,11]])})));return function(t,n){return e.apply(this,arguments)}}()},88754:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(86522),o=n(34795);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,c,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,c)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var a=function(){var e=(0,o.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=URL.createObjectURL(t),o=document.createElement("video");o.preload="metadata",o.src=r,o.muted=!0,o.addEventListener("loadedmetadata",(function t(){o.removeEventListener("loadedmetadata",t),e({width:o.videoWidth,height:o.videoHeight}),URL.revokeObjectURL(r)})),o.addEventListener("error",(function(){n(new Error("failed to load video")),URL.revokeObjectURL(r)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},98342:(e,t,n)=>{"use strict";n.d(t,{g:()=>i,u:()=>o});var r=n(81028);function o(e){return{subscribe:function(t){var n=e.subscribe(t);return{unsubscribe:function(){n.unsubscribe()}}}}}function i(e){return o((0,r.O)(e))}},91020:(e,t,n)=>{"use strict";n.d(t,{C:()=>l,k:()=>u});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var u=function(e){(0,i.Z)(n,e);var t=s(n);function n(e,o){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).reason=e,i.attempts=o,i}return(0,o.Z)(n,[{key:"attributes",get:function(){return{reason:this.reason,attempts:this.attempts}}}]),n}(n(23695).tM);function l(e){return e instanceof u}},77567:(e,t,n)=>{"use strict";n.d(t,{D:()=>f});var r=n(86522),o=n(34795),i=n(9249),a=n(87371),c=n(56666),s=n(91020);function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,s,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={poll_intervalMs:3e3,poll_maxAttempts:30,poll_backoffFactor:1.25,poll_maxIntervalMs:2e5},f=function(){function e(t){(0,i.Z)(this,e),(0,c.Z)(this,"poll_intervalMs",0),(0,c.Z)(this,"attempt",1),(0,c.Z)(this,"shouldIterate",!0),(0,c.Z)(this,"timeoutId",0),this.options=d(d({},p),t),this.poll_intervalMs=this.options.poll_intervalMs}var t;return(0,a.Z)(e,[{key:"execute",value:(t=(0,o.Z)(u().mark((function e(t){var n,r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(n=this.options.poll_maxAttempts)){e.next=3;break}return e.abrupt("return",this.fail(new s.k("pollingMaxAttemptsExceeded",this.attempt)));case 3:return e.prev=3,this.shouldIterate=!1,e.next=7,t();case 7:if(this.shouldIterate){e.next=9;break}return e.abrupt("return");case 9:if(!(this.attempt>=n)){e.next=11;break}return e.abrupt("return",this.fail(new s.k("pollingMaxAttemptsExceeded",this.attempt)));case 11:this.poll_intervalMs=this.getIntervalMsForIteration(this.attempt),this.attempt++,this.timeoutId=window.setTimeout((function(){return r.execute(t)}),this.poll_intervalMs),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),this.fail(e.t0);case 19:case"end":return e.stop()}}),e,this,[[3,16]])}))),function(e){return t.apply(this,arguments)})},{key:"fail",value:function(e){var t=this.onError;this.cancel(),t&&t(e)}},{key:"getIntervalMsForIteration",value:function(e){var t=this.options.poll_intervalMs;if(1===e)return t;for(var n=2;n<=e;n++)t*=this.options.poll_backoffFactor;return Math.min(Math.round(t),this.options.poll_maxIntervalMs)}},{key:"next",value:function(){this.shouldIterate=!0}},{key:"cancel",value:function(){window.clearTimeout(this.timeoutId),this.timeoutId=0}}]),e}()},69394:(e,t,n)=>{"use strict";n.d(t,{L:()=>u,N:()=>l});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058);function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var u=function(e){(0,i.Z)(n,e);var t=s(n);function n(e,o,i){var a;return(0,r.Z)(this,n),(a=t.call(this,e)).reason=e,a.metadata=o,a.innerError=i,a}return(0,o.Z)(n,[{key:"attributes",get:function(){var e=this.reason,t=this.metadata;return{reason:e,method:(t=void 0===t?{}:t).method,endpoint:t.endpoint,mediaRegion:t.mediaRegion,mediaEnv:t.mediaEnv,attempts:t.attempts,clientExhaustedRetries:t.clientExhaustedRetries,statusCode:t.statusCode,innerError:this.innerError}}}]),n}(n(23695).tM);function l(e){return e instanceof u}},20909:(e,t,n)=>{"use strict";n.d(t,{Yb:()=>T,jV:()=>C,j_:()=>Z,uJ:()=>b,B1:()=>w,Fr:()=>P,n0:()=>h,no:()=>v,wc:()=>x,nr:()=>k,pO:()=>S});var r=n(86522),o=n(34795),i=n(68079),a=n(96234),c=n(56666),s=n(51021);var u=n(69394);function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return new Promise((function(t){return setTimeout(t,e)}))}function h(e){return e instanceof Error&&"request_cancelled"===e.message||!!e&&"AbortError"===e.name}function v(e){return!!e&&(0,u.N)(e)&&429===e.attributes.statusCode||!!e&&!!e.message&&e.message.includes("429")}var m="x-b3-traceid",g="x-b3-spanid",y=function(e){var t;return e?(t={},(0,c.Z)(t,m,e.traceId),(0,c.Z)(t,g,e.spanId),t):{}};function b(e,t){var n=t.params,r=t.auth,o=new URL(e),c=r&&function(e){return(0,s.Wf)(e)?{client:e.clientId,token:e.token}:{issuer:e.asapIssuer,token:e.token}}(r)||{},u=p(p({},n),c);return Object.entries(u).filter((function(e){var t=(0,a.Z)(e,2);t[0];return null!=t[1]})).forEach((function(e){var t;(t=o.searchParams).append.apply(t,(0,i.Z)(e))})),o.searchParams.sort(),o.toString()}function w(e,t,n){if(t||n||e)return p(p(p({},null!=e?e:{}),function(e){return e?(0,s.Wf)(e)?{"X-Client-Id":e.clientId,Authorization:"Bearer ".concat(e.token)}:{"X-Issuer":e.asapIssuer,Authorization:"Bearer ".concat(e.token)}:{}}(t)),y(n))}function k(e){return E.apply(this,arguments)}function E(){return(E=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Helper is deprecated and will be remove in the next major version"),e.prev=1,e.next=4,t.json();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),new u.L("serverInvalidBody",{statusCode:t.status},e.t0 instanceof Error?e.t0:void 0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function x(e){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.warn("Helper is deprecated and will be remove in the next major version"),e.prev=1,e.next=4,t.blob();case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),new u.L("serverInvalidBody",{statusCode:t.status},e.t0 instanceof Error?e.t0:void 0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function S(){return console.warn("Helper is deprecated and will be remove in the next major version"),Promise.resolve()}function C(e){return function(){var t=(0,o.Z)(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.json();case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),new u.L("serverInvalidBody",p(p(p({},e),I(n)),{},{statusCode:n.status}),t.t0 instanceof Error?t.t0:void 0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}function T(e){return function(){var t=(0,o.Z)(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.blob();case 3:return t.abrupt("return",t.sent);case 6:throw t.prev=6,t.t0=t.catch(0),new u.L("serverInvalidBody",p(p(p({},e),I(n)),{},{statusCode:n.status}),t.t0 instanceof Error?t.t0:void 0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}var A={startTimeoutInMs:1e3,maxAttempts:5,factor:2};function _(e,t){var n=e.reason,r=e.metadata,o=e.innerError;return new u.L(n,p(p({},r),t),o)}function P(e,t){return D.apply(this,arguments)}function D(){return D=(0,o.Z)(l().mark((function e(t,n){var r,i,a,c,s,d,v,m,g,y=arguments;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=y.length>2&&void 0!==y[2]?y[2]:{},i=p(p({},A),r),a=i.startTimeoutInMs,c=i.maxAttempts,s=i.factor,d=0,v=a,g=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(v);case 2:v*=s,d+=1;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();case 6:if(!(d<c)){e.next=24;break}return e.prev=7,e.next=10,t();case 10:return e.abrupt("return",e.sent);case 13:if(e.prev=13,e.t0=e.catch(7),m=e.t0,!h(e.t0)){e.next=18;break}throw new u.L("clientAbortedRequest",n,e.t0);case 18:if((e.t0 instanceof TypeError||(0,u.N)(e.t0))&&(!(0,u.N)(e.t0)||e.t0.metadata&&e.t0.metadata.statusCode&&!(e.t0.metadata.statusCode<500))){e.next=20;break}throw e.t0;case 20:return e.next=22,g();case 22:e.next=6;break;case 24:if(!(0,u.N)(m)){e.next=26;break}throw _(m,{attempts:d,clientExhaustedRetries:!0});case 26:throw new u.L("serverUnexpectedError",p(p({},n),{},{attempts:d,clientExhaustedRetries:!0}),m);case 27:case"end":return e.stop()}}),e,null,[[7,13]])}))),D.apply(this,arguments)}function Z(e){return function(t){if(t.ok||t.status<400)return t;var n=function(e,t){var n=t.status,r=function(e){switch(e){case 400:return"serverBadRequest";case 401:return"serverUnauthorized";case 403:return"serverForbidden";case 404:return"serverNotFound";case 429:return"serverRateLimited";case 500:return"serverInternalError";case 502:return"serverBadGateway";default:return"serverUnexpectedError"}}(n);return new u.L(r,p(p(p({},e),I(t)),{},{statusCode:n}))}(e,t);throw n}}function I(e){var t=e.headers;return{mediaRegion:t.get("x-media-region")||"unknown",mediaEnv:t.get("x-media-env")||"unknown"}}},21880:(e,t,n)=>{"use strict";n.d(t,{WY:()=>c});var r=n(86522),o=n(34795),i=n(20909);function a(){a=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,c,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,c)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[c];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,u,"Generator"),l(w,c,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function c(e){return s.apply(this,arguments)}function s(){return s=(0,o.Z)(a().mark((function e(t){var n,r,o,c,s,u,l,d,p,f,h,v,m,g,y,b=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.length>2?b[2]:void 0,o=(n=b.length>1&&void 0!==b[1]?b[1]:{}).method,c=void 0===o?"GET":o,s=n.endpoint,u=n.auth,l=n.params,d=n.headers,p=n.body,f=n.clientOptions,h=void 0===f?{}:f,v=n.traceContext,m=h.retryOptions,g={method:c,endpoint:s,traceContext:v},y=function(){return fetch((0,i.uJ)(t,{params:l}),{method:c,body:p,headers:(0,i.B1)(d,u,v),signal:r&&r.signal}).then((0,i.j_)(g))},e.abrupt("return",(0,i.Fr)(y,g,m));case 7:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},54675:(e,t,n)=>{"use strict";n.d(t,{J:()=>p,M:()=>l});var r=n(86522),o=n(34795),i=n(36119),a=n(83841),c=n(798),s=n(88754);function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,s,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function l(e,t,n){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)(u().mark((function e(t,n,r){var o,i,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("doc"!==t&&(0,a.PU)(n)&&r||!(0,c.ld)(n)){e.next=2;break}return e.abrupt("return",!0);case 2:if("video"!==t||!r){e.next=20;break}return e.next=5,r;case 5:if((o=e.sent.value)instanceof Blob){e.next=8;break}return e.abrupt("return",!1);case 8:return e.prev=8,e.next=11,(0,s.t)(o);case 11:return i=e.sent,l=i.width,d=i.height,e.abrupt("return",!l&&!d);case 17:return e.prev=17,e.t0=e.catch(8),e.abrupt("return",!0);case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,null,[[8,17]])})))).apply(this,arguments)}function p(e,t,n){return(0,i.D)(l(e,t,n))}},99335:(e,t,n)=>{"use strict";n.d(t,{NI:()=>p,Ny:()=>l,WD:()=>c,nZ:()=>d});var r=n(56666);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a="media-blob-url",c=function(e){return e.indexOf("".concat(a,"=true"))>-1},s=function(e,t){var n=e.get(t);return"string"!=typeof n||isNaN(parseInt(n))?void 0:parseInt(n)},u=function(e,t){var n=e.get(t);if(n)return decodeURIComponent(n)},l=function(e){var t=new URL(e).hash.replace("#",""),n=new URLSearchParams(t),r=n.get("id"),o=n.get("contextId");if(r&&o)return{id:r,contextId:o,collection:u(n,"collection"),alt:u(n,"alt"),height:s(n,"height"),width:s(n,"width"),size:s(n,"size"),name:u(n,"name"),mimeType:u(n,"mimeType")}},d=function(e){return Object.keys(e).filter((function(t){return void 0!==e[t]&&null!==e[t]})).map((function(t){var n=e[t];if(null!=n)return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n.toString()))})).join("&")},p=function(e,t){if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e;var n=i(i({},(0,r.Z)({},a,"true")),t),o=d(n);return"".concat(e,"#").concat(o)}},92270:(e,t,n)=>{"use strict";n.d(t,{b:()=>m,y:()=>v});var r=n(7896),o=n(59740),i=n(9249),a=n(87371),c=n(45754),s=n(11987),u=n(95058),l=n(2784),d=n(16081),p=["mediaClientConfig"];function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var h=new Map,v=function(e,t){var n,r=t||"NO_FLAGS",o=null===(n=h.get(e))||void 0===n?void 0:n.get(r);if(!o){var i=h.get(e);i||(i=new Map,h.set(e,i)),o=new d.Q(e,t),i.set(r,o)}return o},m=function(e,t){return function(n){(0,c.Z)(u,n);var s=f(u);function u(){return(0,i.Z)(this,u),s.apply(this,arguments)}return(0,a.Z)(u,[{key:"render",value:function(){var n=this.props,i=n.mediaClientConfig,a=(0,o.Z)(n,p),c=i?v(i,t):function(e){var t={authProvider:function(){return Promise.resolve({clientId:"",token:"",baseUrl:""})}};return new d.Q(t,e)}(t);return l.createElement(e,(0,r.Z)({},a,{mediaClient:c}))}}]),u}(l.Component)}},11373:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=function(e,t){var n=!!window.MSInputMethodContext&&!!document.documentMode,r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o="media-download-iframe",i=document.createElement("a"),a=document.getElementById(o);a||((a=document.createElement("iframe")).style.display="none",a.id=o,a.name=o,document.body.appendChild(a)),i.href=e,t&&t.name&&(i.download=t.name),i.target=n||r?"_blank":o,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},68467:(e,t,n)=>{"use strict";n.d(t,{UQ:()=>u,OC:()=>d,jj:()=>p});var r=n(68079),o=n(2784),i=["confluence","jira"],a={confluence:{newCardExperience:"confluence.frontend.media.cards.new.experience",captions:"confluence.frontend.fabric.editor.media.captions",mediaInline:"confluence.frontend.fabric.editor.media.inline",folderUploads:"confluence.frontend.media.picker.folder.uploads",observedWidth:"",timestampOnVideo:"confluence.frontend.media.timestamp.on.video",memoryCacheLogging:"confluence-frontend-media-card-memory-cache-logging",fetchFileStateAfterUpload:"confluence-frontend-media-client-fetch-file-state-after-upload"},jira:{newCardExperience:"issue.details.media-cards-new-experience",captions:"issue.details.editor.media.captions",mediaInline:"",folderUploads:"issue.details.media-picker-folder-upload",observedWidth:"",timestampOnVideo:"issue.details.media-cards-timestamp-on-video",memoryCacheLogging:"jira-frontend-media-card-memory-cache-logging",fetchFileStateAfterUpload:"jira-frontend-media-client-fetch-file-state-after-upload"}},c=function(){return a},s=function(e){try{return"undefined"!=typeof window&&window.localStorage?window.localStorage.getItem(e):null}catch(e){}return null};var u=function(){var e=c(),t=[];return i.forEach((function(n){t=[].concat((0,r.Z)(t),(0,r.Z)(Object.values(e[n])))})),t.filter((function(e){return""!==e}))},l={newCardExperience:!1,captions:!1,mediaInline:!1,folderUploads:!1,observedWidth:!1,timestampOnVideo:!1,memoryCacheLogging:!1,fetchFileStateAfterUpload:!1};function d(e,t){return function(e,t,n){var r=s(e);if(null!==r)try{return JSON.parse(r)}catch(e){}return n&&e in n?n[e]:t[e]}(e,l,t)}var p=function(e){var t=(0,o.useRef)();return function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var n={newCardExperience:e.newCardExperience===t.newCardExperience,captions:e.captions===t.captions,mediaInline:e.mediaInline===t.mediaInline,folderUploads:e.folderUploads===t.folderUploads,observedWidth:e.observedWidth===t.observedWidth,timestampOnVideo:e.timestampOnVideo===t.timestampOnVideo,memoryCacheLogging:e.memoryCacheLogging===t.memoryCacheLogging,fetchFileStateAfterUpload:e.fetchFileStateAfterUpload===t.fetchFileStateAfterUpload};return Object.values(n).every((function(e){return e}))}(e,t.current)||(t.current=e),t.current}},45262:(e,t,n)=>{"use strict";n.d(t,{L4:()=>i});var r=n(83841),o=n(798),i=function(e){return function(e){return["application/x-archive","application/x-cpio","application/x-shar","application/x-iso9660-image","application/x-sbx","application/x-tar","application/x-bzip2","application/gzip","application/x-gzip","application/x-lzip","application/x-lzma","application/x-lzop","application/x-snappy-framed","application/x-xz","application/x-compress","application/zstd","application/x-7z-compressed","application/x-ace-compressed","application/x-astrotite-afa","application/x-alz-compressed","application/vnd.android.package-archive","application/x-freearc","application/x-arj","application/x-b1","application/vnd.ms-cab-compressed","application/x-cfs-compressed","application/x-dar","application/x-dgc-compressed","application/x-apple-diskimage","application/x-gca-compressed","application/java-archive","application/x-lzh","application/x-lzx","application/x-rar-compressed","application/x-stuffit","application/x-stuffitx","application/x-gtar","application/x-ms-wim","application/x-xar","application/zip","application/x-zoo","application/x-par2"].indexOf(e.toLowerCase())>-1}(e)?"archive":(0,r.$k)(e)||(0,o.$v)(e)?"image":(0,r.k_)(e)||(0,o.N5)(e)?"doc":(0,r.Fk)(e)||(0,o.p5)(e)?"audio":(0,r.AI)(e)||(0,o.a6)(e)?"video":"unknown"}},83841:(e,t,n)=>{"use strict";n.d(t,{$k:()=>r,AI:()=>a,Fk:()=>i,PU:()=>c,k_:()=>o});var r=function(e){return["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/webp"].indexOf(e.toLowerCase())>-1},o=function(e){return"application/pdf"===e.toLowerCase()},i=function(e){return["audio/aac","audio/flac","audio/mp4","audio/mpeg","audio/ogg","audio/x-ogg","audio/wav","audio/x-wav"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/mp4","video/quicktime"].indexOf(e.toLowerCase())>-1},c=function(e){return o(e)||r(e)||i(e)||a(e)}},798:(e,t,n)=>{"use strict";n.d(t,{$v:()=>r,N5:()=>o,a6:()=>a,ey:()=>c,ld:()=>s,p5:()=>i});var r=function(e){return["image/bmp","image/x-windows-bmp","application/dicom","image/gif","image/jpeg","image/jpg","image/jp_","application/jpg","application/x-jpg","image/png","application/png","application/x-png","application/vnd.adobe.photoshop","image/vnd.adobe.photoshop","image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd","image/tiff","image/x-tif","image/x-tiff","application/tif","application/x-tif","application/tiff","application/x-tiff","image/svg+xml","image/heif","image/heif-sequence","image/heic","image/heic-sequence"].indexOf(e.toLowerCase())>-1},o=function(e){return["application/pdf","application/x-pdf","application/acrobat","applications/vnd.pdf","text/pdf","text/x-pdf","application/vnd.adobe.illustrator","application/vnd.ms-office","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroenabled.12","application/vnd.ms-word.template.macroenabled.12","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroenabled.12","application/vnd.ms-excel.template.macroenabled.12","application/vnd.ms-excel.addin.macroenabled.12","application/vnd.ms-excel.sheet.macroenabled","application/vnd.ms-excel.template.macroenabled","application/vnd.ms-excel.addin.macroenabled","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.presentation.macroenabled.12","application/vnd.ms-powerpoint.template.macroenabled.12","application/vnd.ms-powerpoint.slideshow.macroenabled.12","application/vnd.sun.xml.writer","application/vnd.sun.xml.writer.template","application/vnd.sun.xml.draw","application/vnd.sun.xml.draw.template","application/vnd.oasis.opendocument.graphics","application/vnd.oasis.opendocument.presentation","application/x-vnd.oasis.opendocument.presentation","application/vnd.sun.xml.calc","application/vnd.sun.xml.calc.template","application/vnd.oasis.opendocument.spreadsheet","application/x-vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.spreadsheet-template","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.text-template","application/vnd.oasis.opendocument.text-master","application/x-vnd.oasis.opendocument.text","application/x-vnd.oasis.opendocument.text-template","application/x-vnd.oasis.opendocument.text-master","application/vnd.wordperfect","text/csv","text/x-diff","text/x-perl","text/x-python","text/x-ruby","text/rtf","text/richtext","text/plain","application/txt","application/rtf","application/x-rtf","application/postscript"].indexOf(e.toLowerCase())>-1},i=function(e){return["audio/aac","audio/x-hx-aac-adts","audio/vnd.dolby.dd-raw","audio/aiff","audio/x-aiff","audio/x-monkeys-audio","audio/x-ape","audio/basic","audio/flac","audio/mp4","audio/midi","audio/x-matroska","audio/x-mod","audio/mpeg","audio/ogg","audio/x-ogg","audio/x-pn-realaudio","audio/wav","audio/x-wav","audio/x-ms-wma"].indexOf(e.toLowerCase())>-1},a=function(e){return["video/3gpp","video/3gpp2","video/x-ms-asf","video/avi","video/msvideo","video/x-msvideo","video/x-dv","video/x-flv","video/m2ts","video/x-m4v","video/x-matroska","video/quicktime","video/mp4","video/mpeg","video/ogg","video/x-ogg","video/webm","video/x-ms-wmv"].indexOf(e.toLowerCase())>-1},c=function(e){return["binary/octet-stream"].indexOf(e.toLowerCase())>-1},s=function(e){return r(e)||o(e)||i(e)||a(e)||c(e)}},60160:(e,t,n)=>{"use strict";n.d(t,{GM:()=>a,QB:()=>s,o8:()=>i});var r=n(68079),o=n(96234),i=function(e){return void 0===e},a=function(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){var n=(0,o.Z)(e,2),r=(n[0],n[1]);return!t(r)})))};function c(e){return(0,r.Z)(Array(2*e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")}function s(e){var t,n;if(null!==(t=window)&&void 0!==t&&t.crypto)try{n=Array.from(window.crypto.getRandomValues(new Uint8Array(e))).map((function(e){return e.toString(16).padStart(2,"0")})).join("")}catch(t){n=c(e)}else n=c(e);return n}},51021:(e,t,n)=>{"use strict";n.d(t,{pl:()=>a,Wf:()=>i,nA:()=>o});var r=n(91355),o={streams:new(n(41427).LRUMap)(1e3),stateDeferreds:new Map,eventEmitter:new r.EventEmitter2};function i(e){return!!e.clientId}var a=function(e){return function(e){return!!e.asapIssuer}(e)?e:{id:e.clientId,baseUrl:e.baseUrl,token:e.token}}},57427:(e,t,n)=>{"use strict";n.d(t,{sA:()=>ve,A4:()=>he});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(36386),p=n.n(d),f=n(28165),h=n(24567),v=n(33071),m=n(71171),g="__ATLASKIT_THEME__",y="light",b=["light","dark"];function w(e){if(e&&e.theme){if(g in e.theme)return e.theme[g];if("mode"in e.theme&&b.includes(e.theme.mode))return e.theme}return{mode:y}}function k(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=w(e);if(e&&e[n]&&r){var o=r[e[n]];if(o&&o[t.mode]){var i=o[t.mode];if(i)return i}}return""};var n,r,o=e;return function(e){var t=w(e);if(t.mode in o){var n=o[t.mode];if(n)return n}return""}}var E,x,O,S,C,T,A,_,P,D,Z="#FF5630",I="#FFAB00",L="#36B37E",M="#DEEBFF",R="#4C9AFF",N="#2684FF",j="#0052CC",F="#FFFFFF",B="#F4F5F7",z="#6B778C",U="#172B4D",V="#B8C7E0",H="#8C9CB8",W="#283447",G=(k({light:"var(--ds-surface, ".concat(F,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),k({light:"var(--ds-background-selected, ".concat(M,")"),dark:"var(--ds-background-selected, ".concat("#B3D4FF",")")}),k({light:"var(--ds-background-neutral-hovered, ".concat("#EBECF0",")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),k({light:"var(--ds-surface-overlay, ".concat(F,")"),dark:"var(--ds-surface-overlay, ".concat(W,")")}),k({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(V,")")}),k({light:"var(--ds-text, ".concat(U,")"),dark:"var(--ds-text, ".concat(V,")")}),k({light:"var(--ds-text-selected, ".concat(j,")"),dark:"var(--ds-text-selected, ".concat(j,")")}),k({light:"var(--ds-text-subtlest, ".concat(z,")"),dark:"var(--ds-text-subtlest, ".concat(H,")")}),k({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),k({light:"var(--ds-text, ".concat(U,")"),dark:"var(--ds-text, ".concat(V,")")}),k({light:"var(--ds-text-subtlest, ".concat(z,")"),dark:"var(--ds-text-subtlest, ".concat(H,")")}),k({light:B,dark:W}),k({light:"var(--ds-link, ".concat(j,")"),dark:"var(--ds-link, ".concat(R,")")}),k({light:"var(--ds-link-pressed, ".concat("#0065FF",")"),dark:"var(--ds-link-pressed, ".concat(N,")")}),k({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(R,")")}),k({light:"var(--ds-border-focused, ".concat(R,")"),dark:"var(--ds-border-focused, ".concat(N,")")}),k({light:"var(--ds-background-brand-bold, ".concat(j,")"),dark:"var(--ds-background-brand-bold, ".concat(R,")")}),k({light:j,dark:R}),k({light:"#00B8D9",dark:"#00C7E6"}),k({light:"#6554C0",dark:"#998DD9"}),k({light:Z,dark:Z}),k({light:I,dark:I}),k({light:L,dark:L}),(0,f.iv)(E||(E=(0,m.Z)(["\n  position: relative;\n  padding: 3px 0;\n  border-radius: 3px;\n\n  &:hover .arrow {\n    opacity: 1;\n  }\n\n  .ellipsed-text {\n    white-space: initial;\n  }\n"])))),q=(0,f.iv)(x||(x=(0,m.Z)(["\n  width: inherit;\n  overflow: hidden;\n  padding: 2px 0;\n"]))),K=(0,f.iv)(O||(O=(0,m.Z)(["\n  margin: 0;\n  padding: 0;\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.77, 0, 0.175, 1);\n  white-space: nowrap;\n  display: inline-block;\n"]))),$=(0,f.iv)(S||(S=(0,m.Z)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0 4px;\n  display: inline-block;\n  vertical-align: middle;\n  /* Fixes issue with child Cards using inline-block */\n  font-size: 0;\n"]))),J=(0,f.iv)(C||(C=(0,m.Z)(["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: ",";\n  border-radius: 100%;\n  display: flex;\n  cursor: pointer;\n  transition: opacity 0.3s;\n  box-shadow: ",";\n  color: ",";\n  width: 30px;\n  height: 30px;\n  justify-content: center;\n  opacity: 0;\n\n  &:hover {\n    color: ",";\n    background-color: ",";\n  }\n\n  &:active {\n    color: ",";\n    background-color: ",";\n  }\n\n  svg {\n    height: 30px;\n    width: 20px;\n  }\n"])),"var(--ds-surface-overlay, ".concat(B,")"),"var(--ds-shadow-overlay, 0 1px 6px 0 rgba(0, 0, 0, 0.6))","var(--ds-icon, black)","var(--ds-text-subtle, black)","var(--ds-surface-overlay-hovered, ".concat("#DFE1E6",")"),"var(--ds-text-selected, ".concat(j,")"),"var(--ds-background-selected, ".concat(M,")")),Y=(0,f.iv)(T||(T=(0,m.Z)(["\n  ",";\n  left: 8px;\n  svg {\n    padding-right: 2px;\n  }\n"])),J),X=(0,f.iv)(A||(A=(0,m.Z)(["\n  ",";\n  right: 8px;\n  svg {\n    padding-left: 1px;\n  }\n"])),J),Q=(0,f.iv)(_||(_=(0,m.Z)(["\n  position: absolute;\n  z-index: 10;\n  height: 100%;\n  top: 0;\n  width: 2px;\n  background-color: ",";\n"])),"var(--ds-border, rgba(0, 0, 0, 0.2))"),ee=(0,f.iv)(P||(P=(0,m.Z)(["\n  ",";\n  left: 0;\n"])),Q),te=(0,f.iv)(D||(D=(0,m.Z)(["\n  ",";\n  right: 0;\n"])),Q),ne=function(e){var t=e.children;return(0,f.tZ)("div",{css:ee},t)},re=function(e){var t=e.children,n=e.onClick;return(0,f.tZ)("div",{css:Y,className:"arrow",onClick:n},t)},oe=function(e){var t=e.children;return(0,f.tZ)("div",{css:te},t)},ie=function(e){var t=e.children,n=e.onClick;return(0,f.tZ)("div",{css:X,className:"arrow",onClick:n},t)},ae=function(e){var t=e.onClick;return(0,f.tZ)(ne,null,(0,f.tZ)(re,{onClick:t},(0,f.tZ)(h.Z,{label:"left"})))},ce=function(e){var t=e.onClick;return(0,f.tZ)(oe,null,(0,f.tZ)(ie,{onClick:t},(0,f.tZ)(v.Z,{label:"right"})))},se=function(e){var t=e.children,n=e["data-testid"];return(0,f.tZ)("div",{css:G,"data-testid":n},t)},ue=(0,l.forwardRef)((function(e,t){var n=e.children,r=e.onWheel,o=e.onTouchStart,i=e.onTouchMove,a=e.onTouchEnd,c=e["data-testid"];return(0,f.tZ)("div",{css:q,ref:t,onWheel:r,onTouchStart:o,onTouchMove:i,onTouchEnd:a,"data-testid":c},n)})),le=l.forwardRef((function(e,t){var n=e.children,r=e.style;return(0,f.tZ)("ul",{css:K,ref:t,style:r},n)})),de=function(e){var t=e.children,n=e.index;return(0,f.tZ)("li",{css:$,className:he,"data-testid":"media-filmstrip-list-item",key:n},t)};function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var fe={attributes:!0,childList:!0,subtree:!0,characterData:!0},he="media-filmstrip-list-item",ve=function(e){(0,a.Z)(n,e);var t=pe(n);function n(e){var o;(0,r.Z)(this,n),o=t.call(this,e),(0,u.Z)((0,i.Z)(o),"previousOffset",0),(0,u.Z)((0,i.Z)(o),"state",{bufferWidth:0,windowWidth:0,touchMoveStartPosition:0,isTouchMoveInProgress:!1}),(0,u.Z)((0,i.Z)(o),"handleSizeChange",(function(){var e=(0,i.Z)(o),t=e.windowElement,n=e.bufferElement,r=0,a=0,c=[];if(t&&n){r=n.getBoundingClientRect().width,a=t.getBoundingClientRect().width;var s=Array.prototype.slice.call(n.children,0),u=0;c=s.map((function(e,t){var n=e.getBoundingClientRect().width,r={left:u,right:u+n-1};return u+=n,r}))}var l=o.state,d=l.bufferWidth,p=l.windowWidth;r===d&&a===p||o.setState({bufferWidth:r,windowWidth:a},(function(){o.childOffsets=c;var e=o.props.onSize;e&&e({offset:Math.min(o.maxOffset,o.offset),offsets:c,width:a,minOffset:o.minOffset,maxOffset:o.maxOffset})}))})),(0,u.Z)((0,i.Z)(o),"handleWindowElementChange",(function(e){o.windowElement=e,o.handleSizeChange()})),(0,u.Z)((0,i.Z)(o),"handleBufferElementChange",(function(e){e&&(o.bufferElement=e,o.handleSizeChange(),o.initMutationObserver())})),(0,u.Z)((0,i.Z)(o),"handleMutation",(function(e){o.handleSizeChange()})),(0,u.Z)((0,i.Z)(o),"handleLeftClick",(function(e){e.stopPropagation();var t=o.props.onScroll;if(t){var n=o.state.windowWidth;t({direction:"left",offset:o.getClosestForLeft(o.offset-n),animate:!0})}})),(0,u.Z)((0,i.Z)(o),"handleRightClick",(function(e){e.stopPropagation();var t=o.props.onScroll;if(t){var n=o.state.windowWidth;t({direction:"right",offset:o.getClosestForRight(o.offset+n),animate:!0})}})),(0,u.Z)((0,i.Z)(o),"handleScroll",(function(e){var t=Math.abs(e.deltaX)>Math.abs(e.deltaY);if(t){e.preventDefault();var n=o.props.onScroll;if(n&&t){var r=Math.max(o.minOffset,Math.min(o.maxOffset,o.offset+e.deltaX));n({direction:e.deltaX<0?"left":"right",offset:r,animate:!1})}}})),(0,u.Z)((0,i.Z)(o),"handleTouchStart",(function(e){e.touches[0]&&o.setState({touchMoveStartPosition:e.touches[0].clientX,isTouchMoveInProgress:!0})})),(0,u.Z)((0,i.Z)(o),"handleTouchEnd",(function(e){e.touches[0]&&o.setState({touchMoveStartPosition:e.touches[0].clientX,isTouchMoveInProgress:!1})})),(0,u.Z)((0,i.Z)(o),"handleTouchMove",(function(e){var t=o.props.onScroll;if(o.state.isTouchMoveInProgress&&t){var n=e.touches[0].clientX,r=o.state.touchMoveStartPosition?o.offset-(n-o.state.touchMoveStartPosition):o.offset;t({direction:r>o.offset?"left":"right",offset:r,animate:!1})}})),o.childOffsets=[];try{o.mutationObserver=new MutationObserver(p()(o.handleMutation,30,!0))}catch(e){}return o}return(0,o.Z)(n,[{key:"offset",get:function(){var e=this.props.offset;return e?Math.min(this.maxOffset,Math.max(this.minOffset,e)):0}},{key:"minOffset",get:function(){return 0}},{key:"maxOffset",get:function(){var e=this.state,t=e.bufferWidth,n=e.windowWidth;return Math.max(this.minOffset,t-n-1)}},{key:"canGoLeft",get:function(){return this.offset>this.minOffset}},{key:"canGoRight",get:function(){return this.offset<this.maxOffset}},{key:"transitionDuration",get:function(){var e=this.props.animate,t=this.state.windowWidth;if(!e)return 0;if(Math.abs(this.offset-this.previousOffset)<1e-6)return.5;var n=1-.5*(Math.abs(this.offset-this.previousOffset)/t);return Math.max(Math.min(n,1),.5)}},{key:"initMutationObserver",value:function(){var e=this.mutationObserver;e&&this.bufferElement&&(e.disconnect(),e.observe(this.bufferElement,fe))}},{key:"triggerScrollEvent",value:function(){if(this.windowElement){var e=document.createEvent("MouseEvents");e.initEvent("scroll",!0,!0),this.windowElement.dispatchEvent(e)}}},{key:"getClosestForLeft",value:function(e){for(var t=Math.min(this.maxOffset,Math.max(this.minOffset,e)),n=0;n<this.childOffsets.length;++n){var r=this.childOffsets[n];if(t>=r.left&&t<=r.right){var o=0===n?r.left:r.right;return o>=4?o-4:o}}return Math.min(this.maxOffset,Math.max(this.minOffset,e))}},{key:"getClosestForRight",value:function(e){for(var t=this.state.windowWidth,n=Math.min(this.maxOffset,Math.max(this.minOffset,e))+t,r=0;r<this.childOffsets.length;++r){var o=this.childOffsets[r];if(n>=o.left&&n<=o.right){var i=(r===this.childOffsets.length-1?o.right:o.left)-t;return i+4<=this.maxOffset?i+4:i}}return Math.min(this.maxOffset,Math.max(this.minOffset,e))}},{key:"renderLeftArrow",value:function(){return this.canGoLeft?l.createElement(ae,{onClick:this.handleLeftClick}):null}},{key:"renderRightArrow",value:function(){return this.canGoRight?l.createElement(ce,{onClick:this.handleRightClick}):null}},{key:"componentDidMount",value:function(){this.previousOffset=this.offset,window.addEventListener("resize",this.handleSizeChange)}},{key:"componentWillUnmount",value:function(){var e=this.mutationObserver;window.removeEventListener("resize",this.handleSizeChange),e&&e.disconnect()}},{key:"componentDidUpdate",value:function(){var e=this;this.previousOffset=this.offset,window.setTimeout((function(){return e.triggerScrollEvent()}),1e3*this.transitionDuration)}},{key:"render",value:function(){var e=this.props,t=e.animate,n=e.children,r=e.testId,o="translateX(".concat(-this.offset,"px)"),i=t?"transform":"none",a="".concat(this.transitionDuration,"s");return l.createElement(se,{"data-testid":r},this.renderLeftArrow(),l.createElement(ue,{ref:this.handleWindowElementChange,onWheel:this.handleScroll,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,"data-testid":"filmstrip-list-wrapper"},l.createElement(le,{ref:this.handleBufferElementChange,style:{transform:o,transitionProperty:i,transitionDuration:a}},l.Children.map(n,me))),this.renderRightArrow())}}]),n}(l.Component);function me(e,t){var n=function(e){return!!e.type}(e)&&e.key||t;return l.createElement(de,{key:n,index:n},e)}(0,u.Z)(ve,"defaultProps",{animate:!1,offset:0})},77700:(e,t,n)=>{"use strict";n.d(t,{R:()=>w});var r,o=n(9249),i=n(87371),a=n(80753),c=n(45754),s=n(11987),u=n(95058),l=n(56666),d=n(2784),p=n(71171),f=n(11971),h=n(938),v=n(64968),m=n(58229),g="\n  cursor: pointer;\n  box-shadow: 0 0 0 1px ".concat("var(--ds-border-selected, ".concat(h.M5,")"),";\n  outline: none;\n  user-select: none;\n  border-color: transparent;\n  &, :hover, :focus, :active {\n    text-decoration: none;\n  }\n"),y=f.Z.span(r||(r=(0,p.Z)(["\n  line-height: 16px;\n  padding: 2px 4px 2px 4px;\n  box-decoration-break: clone;\n  display: inline;\n  border-radius: ","px;\n  color: ",";\n  background-color: ",";\n  ",";\n  transition: 0.1s all ease-in-out;\n  -moz-user-select: none;\n  cursor: pointer;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(0,v.E0)(),(0,m.Z)({light:"var(--ds-text, ".concat(h.xA,")"),dark:"var(--ds-text, ".concat(h.ly,")")}),(0,m.Z)({light:"var(--ds-background-neutral, ".concat(h.kd,")"),dark:"var(--ds-background-neutral, ".concat(h.EZ,")")}),(function(e){return function(e){var t=e.isSelected;return t?g:"user-select: text"}(e)}),(0,m.Z)({light:"var(--ds-background-neutral-hovered, ".concat(h.bt,")"),dark:"var(--ds-background-neutral-hovered, ".concat(h.mn,")")}));function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var w=function(e){(0,c.Z)(n,e);var t=b(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),(0,l.Z)((0,a.Z)(e),"handleClick",(function(t){var n=e.props.onClick;n&&(t.preventDefault(),t.stopPropagation(),n(t))})),(0,l.Z)((0,a.Z)(e),"handleKeyPress",(function(t){if(" "===t.key||"Enter"===t.key){var n=e.props.onClick;n&&(t.preventDefault(),t.stopPropagation(),n(t))}})),(0,l.Z)((0,a.Z)(e),"handleMouseDown",(function(e){e.preventDefault()})),e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.isSelected,n=e.children,r=e.onClick,o=e.testId,i=Boolean(r);return d.createElement(y,{isSelected:t,tabIndex:i?0:void 0,role:i?"button":void 0,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onKeyPress:this.handleKeyPress,"data-testid":o},n)}}]),n}(d.Component)},67719:(e,t,n)=>{"use strict";n.d(t,{J:()=>c,m:()=>s});var r,o,i=n(71171),a=n(11971),c=a.Z.img(r||(r=(0,i.Z)(["\n  height: 14px;\n  width: 14px;\n  margin-right: 4px;\n  border-radius: 2px;\n  user-select: none;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),s=a.Z.span(o||(o=(0,i.Z)(["\n  margin-right: -2px;\n"])))},49295:(e,t,n)=>{"use strict";n.d(t,{G:()=>h});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058),s=n(2784),u=n(55436),l=n(67719),d=n(89086),p=n(73172);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var h=function(e){(0,i.Z)(n,e);var t=f(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"renderAtlaskitIcon",value:function(){var e=this.props,t=e.icon,n=e.emoji;return n?s.createElement(d.xo,null,n):t&&"string"!=typeof t?s.createElement(d.a1,null,t):null}},{key:"renderImageIcon",value:function(e,t){var n=this.props.icon;return n&&"string"==typeof n?s.createElement(u.Z,{src:n,loaded:s.createElement(l.J,{className:"smart-link-icon",src:n,"data-testid":"".concat(t,"-image")}),errored:e}):null}},{key:"renderIconPlaceholder",value:function(e){var t=this.props.defaultIcon;return t?s.createElement(d.a1,null,t):s.createElement(d.a1,null,s.createElement(p.default,{label:"link",size:"small",testId:"".concat(e,"-default")}))}},{key:"renderIcon",value:function(e){var t=this.renderAtlaskitIcon();if(t)return t;var n=this.renderIconPlaceholder(e);return this.renderImageIcon(n,e)||n}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.title,r=e.titleColor,o=e.testId,i=void 0===o?"media-inline-card-icon-and-title":o;return s.createElement(s.Fragment,null,s.createElement(d.qt,{style:r?{color:r}:void 0},s.createElement(d.zH,null,t||s.createElement(s.Fragment,null,s.createElement(d.Fe,null),this.renderIcon(i))),s.createElement(d.$t,null,n)))}}]),n}(s.Component)},89086:(e,t,n)=>{"use strict";n.d(t,{$t:()=>E,Fe:()=>k,a1:()=>m,qt:()=>y,vi:()=>b,xo:()=>g,zH:()=>w});var r,o,i,a,c,s,u,l,d,p=n(71171),f=n(11971),h="\n  & > span {\n    height: 16px;\n    width: 14px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    line-height: 14px;\n    & > svg {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n",v="\n  & > * > span {\n    height: 16px;\n    width: 14px;\n    position: absolute;\n    top: 0;\n    left: 0;\n    & > svg {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n    }\n  }\n",m=f.Z.span(r||(r=(0,p.Z)(["\n  user-select: none;\n  ","\n  ","\n"])),v,h),g=f.Z.span(o||(o=(0,p.Z)(["\n  display: inline-block;\n  margin-right: 2px;\n  user-select: none;\n  ","\n  ","\n"])),v,h),y=f.Z.span(i||(i=(0,p.Z)(["\n  white-space: pre-wrap;\n  word-break: break-all;\n"]))),b=(f.Z.span(a||(a=(0,p.Z)(["\n  display: inline-block;\n  vertical-align: 1px;\n  & > span {\n    margin-left: 4px;\n    padding: 2px 0 2px 0;\n  }\n"]))),f.Z.span(c||(c=(0,p.Z)(["\n  & > span {\n    margin-left: 4px;\n    padding: 2px 0 2px 0;\n  }\n"]))),f.Z.span(s||(s=(0,p.Z)(["\n  margin-left: 2px;\n  margin-right: 4px;\n  position: relative;\n  display: inline-block;\n"])))),w=f.Z.span(u||(u=(0,p.Z)(["\n  margin-right: 4px;\n  position: relative;\n  display: inline-block;\n"]))),k=f.Z.span(l||(l=(0,p.Z)(["\n  width: 14px;\n  height: 100%;\n  display: inline-block;\n  opacity: 0;\n"]))),E=f.Z.span(d||(d=(0,p.Z)(["\n  ::selection {\n    background: none;\n  }\n"])))},56177:(e,t,n)=>{"use strict";n.d(t,{y:()=>y});var r,o=n(9249),i=n(87371),a=n(45754),c=n(11987),s=n(95058),u=n(2784),l=n(77700),d=n(79131),p=n(49295),f=n(71171),h=n(11971),v=n(89086),m=(0,h.Z)(v.qt)(r||(r=(0,f.Z)(["\n  vertical-align: baseline;\n  margin-left: 2px;\n"])));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var y=function(e){(0,a.Z)(n,e);var t=g(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.onClick,r=e.isSelected,o=e.inlinePreloaderStyle,i=e.testId,a=void 0===i?"media-inline-card-loading-view":i;return"on-right-without-skeleton"===o?u.createElement(l.R,{testId:a,onClick:n,isSelected:r},u.createElement(v.qt,null,t,u.createElement(v.vi,null,u.createElement(m,{className:"inline-loading-spinner"},u.createElement(d.Z,{size:14}))))):u.createElement(l.R,{testId:a,onClick:n,isSelected:r},u.createElement(p.G,{title:t},u.createElement(m,{className:"inline-loading-spinner"},u.createElement(d.Z,{size:14}))))}}]),n}(u.Component)},82015:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var r=(0,n(63470).vU)({click_to_join:{id:"fabric.media.click_to_join",defaultMessage:"Join {context}",description:"Allows the user join the product or service immediately"},click_to_join_description:{id:"fabric.media.click_to_join_description",defaultMessage:"You've been approved, so you can join {context} right away.",description:"Informs the user that they have access to this product, and can sign up or join right away."},request_access:{id:"fabric.media.request_access",defaultMessage:"Request access",description:"Allows the user to request access to a product or service"},request_access_description:{id:"fabric.media.request_access_description",defaultMessage:"Request access to {context} view this preview.",description:"Allows the user to request access to a product"},request_access_pending:{id:"fabric.media.request_access_pending",defaultMessage:"Access pending",description:"Allows the user to try an action again with their current account"},request_access_pending_description:{id:"fabric.media.request_access_pending_description",defaultMessage:"Your access request is pending.",description:"Informs the user that their request to view this content is pending"},forbidden_description:{id:"fabric.media.forbidden_description",defaultMessage:"You don’t have access to this preview. Contact the site admin if you need access.",description:"Informs the user that they cannot view this content."},request_denied_description:{id:"fabric.media.request_denied_description",defaultMessage:"Your access request was denied. Contact the site admin if you still need access.",description:"Informs the user that their request to view this content was denied"},retry:{id:"fabric.media.retry",defaultMessage:"Retry",description:"Allows user to perform an action again"},failed_to_load:{id:"fabric.media.failed_to_load",defaultMessage:"Failed to load",description:"We show this message when we have an error loading a file"},failed_to_upload:{id:"fabric.media.failed_to_upload",defaultMessage:"Failed to upload",description:"We show this message when we have an error uploading a file"},recent_uploads:{id:"fabric.media.recent_uploads",defaultMessage:"Recent uploads",description:"Title of a section where we show the user recent uploaded files"},upload_file:{id:"fabric.media.upload_file",defaultMessage:"Upload a file",description:"Call to action that initiates the upload of a file"},drag_and_drop_your_files:{id:"fabric.media.drag_and_drop_your_files",defaultMessage:"Drag and drop your files anywhere or",description:"Used to describe the area where the user can drag and drop files to upload"},drag_and_drop_your_files_and_folders:{id:"fabric.media.drag_and_drop_your_files_and_folders",defaultMessage:"Drag and drop your files and folders anywhere or",description:"Used to describe the area where the user can drag and drop files AND folders to upload"},drop_your_files:{id:"fabric.media.drop_your_files",defaultMessage:"Drop your files to upload",description:"Indicates that the files will be uploaded when the user drops them in the drag and drop area"},upload:{id:"fabric.media.upload",defaultMessage:"Upload",description:"upload"},cancel:{id:"fabric.media.cancel",defaultMessage:"Cancel",description:"cancel"},search_all_gifs:{id:"fabric.media.search_all_gifs",defaultMessage:"Search all the GIFs!",description:"Used as input placeholder to let the user know that they can search for GIF image files"},cant_retrieve_gifs:{id:"fabric.media.cant_retrieve_gifs",defaultMessage:"Ouch! We could not retrieve any GIFs",description:"Error message when we can not find any GIF images for that text"},cant_retrieve_files:{id:"fabric.media.cant_retrieve_files",defaultMessage:"Ouch! We could not retrieve any files",description:"Error message when we can not find any files in dropbox/google drive"},check_your_network:{id:"fabric.media.check_your_network",defaultMessage:"Check your network connection",description:"Error message when network does not work"},try_again:{id:"fabric.media.try_again",defaultMessage:"Try again",description:"Allow the user to try an action again"},try_another_account:{id:"fabric.media.try_another_account",defaultMessage:"Try another account",description:"Allows the user to try an action again with a different account"},no_gifs_found:{id:"fabric.media.no_gifs_found",defaultMessage:"Hello? Was it me you're looking for?",description:"Not expected error that happens when searching for GIF images"},no_gifs_found_suggestion:{id:"fabric.media.no_gifs_found_suggestion",defaultMessage:'We couldn\'t find anything for "{query}"',description:"There are no results for GIFs matching that query"},load_more_gifs:{id:"fabric.media.load_more_gifs",defaultMessage:"Load more GIFs",description:"Used to load next page of GIF images"},add_account:{id:"fabric.media.add_account",defaultMessage:"Add account",description:"Allows to add a new account"},unlink_account:{id:"fabric.media.unlink_account",defaultMessage:"Unlink Account",description:"Allows to remove a connected account from the user"},upload_file_from:{id:"fabric.media.upload_file_from",defaultMessage:"Upload a file from {name}",description:"Allows to upload a file from different sources"},connect_to:{id:"fabric.media.connect_to",defaultMessage:"Connect to {name}",description:"Allows the user to connect with different types of external services"},connect_account_description:{id:"fabric.media.connect_account_description",defaultMessage:"We'll open a new page to help you connect your {name} account",description:"Explains what will happen when the users connects to a new account"},connect_link_account:{id:"fabric.media.connect_link_account",defaultMessage:"Connect to preview",description:"Shown when a user does not have access to a link, but can connect their external account to view the link."},connect_link_account_card:{id:"fabric.media.connect_link_account_card_view",defaultMessage:"Connect",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view."},connect_link_account_card_name:{id:"fabric.media.connect_link_account_card_view_name",defaultMessage:"Connect your {context} account",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view. Displayed in title."},connect_link_account_card_description:{id:"fabric.media.connect_link_account_card_view_description",defaultMessage:"To show a preview of this link, connect your {context} account.",description:"Shown when a user does not have access to a link, but can connect their external account to view the link on card view. Displayed in byline."},invalid_permissions:{id:"fabric.media.invalid_permissions",defaultMessage:"Restricted link",description:"Message shown when a user does not have permissions to view an item"},invalid_permissions_description:{id:"fabric.media.invalid_permissions_description",defaultMessage:"You'll need to request access or try a different account to view this preview.",description:"Message shown when a user does not have permissions to view an item. Displayed as description."},upload_an_avatar:{id:"fabric.media.upload_an_avatar",defaultMessage:"Upload an avatar",description:"Indicates that the user can upload a new avatar"},loading:{id:"fabric.media.loading",defaultMessage:"Loading...",description:"Indicates an element on a page is loading."},loading_file:{id:"fabric.media.loading_file",defaultMessage:"Loading file...",description:"Shown when a file is being fetched"},save:{id:"fabric.media.save",defaultMessage:"Save",description:'Just the "save" word'},or:{id:"fabric.media.or",defaultMessage:"or",description:'Just the "or" word'},upload_photo:{id:"fabric.media.upload_photo",defaultMessage:"Upload a photo",description:"Call to action for the user to upload a new photo"},default_avatars:{id:"fabric.media.default_avatars",defaultMessage:"Default avatars",description:"Showed above the default avatar list"},drag_and_drop_images_here:{id:"fabric.media.drag_and_drop_images_here",defaultMessage:"Drag and drop your images here",description:"Indicates that the user can drag and drop images in that area"},upload_image:{id:"fabric.media.upload_image",defaultMessage:"Upload image",description:"Call to action for the user to upload a new image"},image_url_invalid_error:{id:"fabric.media.image_url_invalid_error",defaultMessage:"Could not load image, the url is invalid.",description:"There was an error parsing the image url"},image_format_invalid_error:{id:"fabric.media.image_format_invalid_error",defaultMessage:"Could not load image, the format is invalid.",description:"The provided image format is not valid"},image_size_too_large_error:{id:"fabric.media.image_size_too_large_error",defaultMessage:"Image is too large, must be no larger than {MAX_SIZE_MB}Mb",description:"The provided image size is too big"},something_went_wrong:{id:"fabric.media.something_went_wrong",defaultMessage:"Something went wrong.",description:"Showed when an error happen but we dont have more info about it"},might_be_a_hiccup:{id:"fabric.media.might_be_a_hiccup",defaultMessage:"It might just be a hiccup.",description:"Used when an unknow error happens, just in a funny way of saying that we dont have more info about it"},couldnt_generate_preview:{id:"fabric.media.couldnt_generate_preview",defaultMessage:"We couldn't generate a preview for this file.",description:"Error case for when the backend cant generate a preview for that file"},couldnt_generate_encrypted_entry_preview:{id:"fabric.media.couldnt_generate_encrypted_entry_preview",defaultMessage:"We can't preview encrypted or password protected files.",description:"Error case for when an entry selected is encrypted"},cant_preview_file_type:{id:"fabric.media.cant_preview_file_type",defaultMessage:"We can't preview this file type.",description:"Error case for when we have no available preview for that file"},item_not_found_in_list:{id:"fabric.media.item_not_found_in_list",defaultMessage:"The selected item was not found on the list.",description:"Error case for when a provided item is not found within the list of items"},not_found_title:{id:"fabric.media.not_found_title",defaultMessage:"Uh oh. We can't find this link!",description:"Error case for when a provided link is not found"},not_found_description:{id:"fabric.media.not_found_description",defaultMessage:"We couldn't find the link. Check the url and try editing or paste again.",description:"Error case for when a provided item is not found within the list of items"},no_pdf_artifacts:{id:"fabric.media.no_pdf_artifacts",defaultMessage:"No PDF artifacts found for this file.",description:"Error case for when we cant preview a PDF file"},give_feedback:{id:"fabric.media.give_feedback",defaultMessage:"Give feedback",description:"Call to action that opens a popup to get feedback from the users"},try_downloading_file:{id:"fabric.media.try_downloading_file",defaultMessage:"Try downloading the file to view it.",description:"We show this message to allow users to download a file"},webgl_warning_description:{id:"fabric.media.webgl_warning_description",defaultMessage:"Your browser does not support WebGL. Use a WebGL enabled browser to annotate images.",description:"We show this error message when the browser doesnt support this feature"},unable_to_annotate_image:{id:"fabric.media.unable_to_annotate_image",defaultMessage:"You're unable to annotate this image",description:"If there is an error trying to annotate an image we show this"},learn_more:{id:"fabric.media.learn_more",defaultMessage:"Learn More",description:""},accounts:{id:"fabric.media.accounts",defaultMessage:"Accounts",description:""},actions:{id:"fabric.media.actions",defaultMessage:"Actions",description:""},error_hint_retry:{id:"fabric.media.error_hint_retry",defaultMessage:"Try again and we'll give it another shot.",description:"Generic message that we show if an action failed"},error_hint_critical:{id:"fabric.media.error_hint_critical",defaultMessage:"If the problem keeps happening contact support.",description:"We show this error message if we cant recover from the action"},close:{id:"fabric.media.close",defaultMessage:"Close",description:""},could_not_load_editor:{id:"fabric.media.could_not_load_editor",defaultMessage:"Ouch! We could not load the editor",description:"Error message to communicate that we cant load the editor"},could_not_save_image:{id:"fabric.media.could_not_save_image",defaultMessage:"Ouch! We could not save the image",description:"Error message to communicate that we cant save an image"},could_not_load_link:{id:"fabric.media.couldnt_load_link",defaultMessage:"We couldn't load this link for an unknown reason.",description:"Error case for card view - link could not be loaded."},annotate:{id:"fabric.media.annotate",defaultMessage:"Annotate",description:""},annotate_tool_arrow:{id:"fabric.media.annotate.tool.arrow",defaultMessage:"Arrow",description:""},annotate_tool_text:{id:"fabric.media.annotate.tool.text",defaultMessage:"Text",description:""},annotate_tool_shape:{id:"fabric.media.annotate.tool.shape",defaultMessage:"Shape",description:""},annotate_tool_brush:{id:"fabric.media.annotate.tool.brush",defaultMessage:"Brush",description:""},annotate_tool_blur:{id:"fabric.media.annotate.tool.blur",defaultMessage:"Blur",description:""},annotate_tool_line_thickness:{id:"fabric.media.annotate.tool.line.thickness",defaultMessage:"Line thickness",description:""},annotate_tool_color:{id:"fabric.media.annotate.tool.color",defaultMessage:"Color",description:""},annotate_confirmation_close_anyway:{id:"fabric.media.annotate.confirmation.close.anyway",defaultMessage:"Close anyway",description:""},annotate_confirmation_heading:{id:"fabric.media.annotate.confirmation.heading",defaultMessage:"Unsaved changes",description:""},annotate_confirmation_content:{id:"fabric.media.annotate.confirmation.content",defaultMessage:"You have some unsaved changes. Are you sure you want to leave?",description:""},drop_your_files_here:{id:"fabric.media.drop_your_files_here",defaultMessage:"Drop your files here",description:"Info message that we show to indicate that the user can drag and drop files"},share_files_instantly:{id:"fabric.media.share_files_instantly",defaultMessage:"We'll share them instantly",description:"It means that we will upload the files you drag and drop automatically"},insert_files:{id:"fabric.media.insert_files",defaultMessage:"Insert {0, plural, one {a file} other {{0} files}}",description:"Showed when the user selects 1 or more files to insert"},zoom_out:{id:"fabric.media.zoom_out",defaultMessage:"zoom out",description:"Indicates the user can zoom out a file"},zoom_in:{id:"fabric.media.zoom_in",defaultMessage:"zoom in",description:"Indicates the user can zoom in a file"},remove_image:{id:"fabric.media.remove_image",defaultMessage:"Remove image",description:"Allows the user to remove a file"},play:{id:"fabric.media.play",defaultMessage:"Play",description:""},pause:{id:"fabric.media.pause",defaultMessage:"Pause",description:""},disable_fullscreen:{id:"fabric.media.disable_fullscreen",defaultMessage:"disable fullscreen",description:"Hint to let the user know they can disable the fullscreen mode"},enable_fullscreen:{id:"fabric.media.enable_fullscreen",defaultMessage:"enable fullscreen",description:"Hint to let the user know they can enable the fullscreen mode"},error_loading_file:{id:"fabric.media.error_loading_file",defaultMessage:"Error loading file",description:"Message showed when we had an error trying to load the file"},error_generating_preview:{id:"fabric.media.error_generating_preview",defaultMessage:"Error generating preview",description:"Message showed when we had an error trying generate a preview for a file"},download:{id:"fabric.media.download",defaultMessage:"Download",description:""},unknown:{id:"fabric.media.unknown",defaultMessage:"unknown",description:""},document:{id:"fabric.media.document",defaultMessage:"document",description:""},audio:{id:"fabric.media.audio",defaultMessage:"audio",description:""},video:{id:"fabric.media.video",defaultMessage:"video",description:""},image:{id:"fabric.media.image",defaultMessage:"image",description:""},archive:{id:"fabric.media.archive",defaultMessage:"archive",description:""},email:{id:"fabric.media.email",defaultMessage:"email",description:""},text:{id:"fabric.media.text",defaultMessage:"text",description:""},displayThumbnail:{id:"fabric.media.display_thumbnail",defaultMessage:"Display thumbnail",description:"Display file with as a thumbnail."},search:{id:"fabric.media.search",defaultMessage:"search",description:""},view:{id:"fabric.media.view",defaultMessage:"View",description:"Go through to a piece of content to view it in its original context."},viewIn:{id:"fabric.media.srclink",defaultMessage:"View in",description:"We have a link in our preview modals to the original document. This text goes before the provider name"},viewOriginal:{id:"fabric.media.srclinkunknown",defaultMessage:"View Original",description:"We have a link in our preview modals to the original document. This is for when we don't know the provider name"},changeView:{id:"fabric.media.change_view",defaultMessage:"Change view",description:"In the context of a file, it allows the user to select a different way of displaying the file either as inline or a card"},playbackSpeed:{id:"fabric.media.playback_speed",defaultMessage:"Playback speed",description:"In the context of a video player, it allows user to switch the speed of the video"},skipBackward:{id:"fabric.media.skip_backward",defaultMessage:"Back 10 seconds",description:"In the context of a video player, it allows user to skip 10 seconds of play time backward."},skipForward:{id:"fabric.media.skip_forward",defaultMessage:"Forward 10 seconds",description:"In the context of a video player, it allows user to skip 10 seconds of play time forward."},playbackDefaultSpeed:{id:"fabric.media.playback_default_speed",defaultMessage:"Default",description:"In the context of a video player, it is a value of a default playback speed"},preview:{id:"fabric.media.preview",defaultMessage:"Preview",description:"Click to view a richer view of your content, without needing to navigate to it."},creating_preview:{id:"fabric.media.creating_preview",defaultMessage:"Creating preview...",description:"Preview is being created for a media card"},preview_unavailable:{id:"fabric.media.preview_unavailable",defaultMessage:"Preview unavailable",description:"Preview is unavailable for a media card"},preview_currently_unavailable:{id:"fabric.media.preview_currently_unavailable",defaultMessage:"Preview currently unavailable",description:"Preview is unavailable for a media card due to a temporary error"},couldnt_load_file:{id:"fabric.media.couldnt_load_file",defaultMessage:"We couldn't load the file.",description:"File is rate limited without metadata"},error_429:{id:"fabric.media.error_429",defaultMessage:"Error 429",description:"Error 429 is thrown"},close_and_reopen:{id:"fabric.media.close_and_reopen",defaultMessage:"Try closing this file and reopening.",description:"The preview is rate limited"},viewer_rateLimited:{id:"fabric.media.viewer_rateLimited",defaultMessage:"We're having difficulties loading your file.",description:"Mediaviewer has been rate limited"},zip_entry_load_fail:{id:"fabric.media.zip_entry_load_failed",defaultMessage:"We couldn't load that zip file item to preview",description:"Zip entry failed to load"}})},3455:(e,t,n)=>{"use strict";n.d(t,{AG:()=>l,E0:()=>d,LH:()=>c,be:()=>u,dp:()=>s});var r,o=n(71171),i=n(28165),a=n(64968),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t="number"==typeof e?"px":"";return"\n    max-width: ".concat(e).concat(t,";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  ")},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t="number"==typeof e?"px":"";return"\n    width: ".concat(e).concat(t,";\n    height: ").concat(e).concat(t,";\n  ")},u="\n  display: flex;\n  align-items: center;\n  justify-content: center;\n",l=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"\n  position: absolute;\n  top: ".concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,"px;\n  left: ").concat(e,"px;\n")},d="\n  border-radius: ".concat((0,a.E0)(),"px;\n"),p=("\n  border-bottom-left-radius: ".concat((0,a.E0)(),"px;\n  border-bottom-right-radius: ").concat((0,a.E0)(),"px;\n"),(0,i.F4)(r||(r=(0,o.Z)(["\n  0%{\n    opacity: 0;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"]))));"\n  animation: ".concat(p," .3s ").concat("cubic-bezier(0.645, 0.045, 0.355, 1)",";\n")},938:(e,t,n)=>{"use strict";n.d(t,{$H:()=>a,AX:()=>y,BA:()=>f,Bn:()=>S,Dw:()=>G,EZ:()=>U,IR:()=>k,M5:()=>g,Mx:()=>P,N0:()=>w,Sk:()=>z,TG:()=>Z,Tx:()=>B,VY:()=>m,WA:()=>C,Xd:()=>o,YC:()=>b,YS:()=>x,Z3:()=>u,ak:()=>p,bt:()=>N,cS:()=>s,gR:()=>c,gt:()=>E,hH:()=>A,iw:()=>T,jC:()=>l,kd:()=>R,ly:()=>j,mg:()=>D,mn:()=>H,n2:()=>O,nA:()=>V,oe:()=>F,os:()=>M,q2:()=>I,rt:()=>i,tE:()=>h,vP:()=>v,xA:()=>L,xU:()=>q,zN:()=>_});var r=n(58229),o="#FFBDAD",i="#FF5630",a="#DE350B",c="#BF2600",s="#FFC400",u="#FFAB00",l="#FF991F",d="#36B37E",p="#00875A",f="#DEEBFF",h="#B3D4FF",v="#4C9AFF",m="#2684FF",g="#0065FF",y="#0052CC",b="#0747A6",w="#FFFFFF",k="#F4F5F7",E="#EBECF0",x="#DFE1E6",O="#A5ADBA",S="#97A0AF",C="#8993A4",T="#6B778C",A="#5E6C84",_="#505F79",P="#42526E",D="#344563",Z="#253858",I="#172B4D",L="#091E42",M="rgba(9, 30, 66, 0.04)",R="rgba(9, 30, 66, 0.08)",N="rgba(9, 30, 66, 0.13)",j="#B8C7E0",F="#9FB0CC",B="#8C9CB8",z="#67758F",U="#455166",V="#3B475C",H="#313D52",W="#283447",G="#1B2638",q="#0D1424";(0,r.Z)({light:"var(--ds-surface, ".concat(w,")"),dark:"var(--ds-surface, ".concat(G,")")}),(0,r.Z)({light:"var(--ds-background-selected, ".concat(f,")"),dark:"var(--ds-background-selected, ".concat(h,")")}),(0,r.Z)({light:"var(--ds-background-neutral-hovered, ".concat(E,")"),dark:"var(--ds-background-neutral-hovered, ".concat(V,")")}),(0,r.Z)({light:"var(--ds-surface-overlay, ".concat(w,")"),dark:"var(--ds-surface-overlay, ".concat(W,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(L,")"),dark:"var(--ds-text, ".concat(j,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(I,")"),dark:"var(--ds-text, ".concat(j,")")}),(0,r.Z)({light:"var(--ds-text-selected, ".concat(y,")"),dark:"var(--ds-text-selected, ".concat(y,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(T,")"),dark:"var(--ds-text-subtlest, ".concat(B,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),(0,r.Z)({light:"var(--ds-text, ".concat(I,")"),dark:"var(--ds-text, ".concat(j,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(T,")"),dark:"var(--ds-text-subtlest, ".concat(B,")")}),(0,r.Z)({light:k,dark:W}),(0,r.Z)({light:"var(--ds-link, ".concat(y,")"),dark:"var(--ds-link, ".concat(v,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat(g,")"),dark:"var(--ds-link-pressed, ".concat(m,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat(b,")"),dark:"var(--ds-link-pressed, ".concat(v,")")}),(0,r.Z)({light:"var(--ds-border-focused, ".concat(v,")"),dark:"var(--ds-border-focused, ".concat(m,")")}),(0,r.Z)({light:"var(--ds-background-brand-bold, ".concat(y,")"),dark:"var(--ds-background-brand-bold, ".concat(v,")")}),(0,r.Z)({light:y,dark:v}),(0,r.Z)({light:"#00B8D9",dark:"#00C7E6"}),(0,r.Z)({light:"#6554C0",dark:"#998DD9"}),(0,r.Z)({light:i,dark:i}),(0,r.Z)({light:u,dark:u}),(0,r.Z)({light:d,dark:d})},64968:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,GV:()=>r,I8:()=>u,JB:()=>s,MU:()=>o,oc:()=>i,ug:()=>l,ww:()=>c});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 8},s=function(){return 14},u=function(){return"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"},l={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}},58229:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(64968);function o(e){if(e&&e.theme){if(r.GV in e.theme)return e.theme[r.GV];if("mode"in e.theme&&r.oc.includes(e.theme.mode))return e.theme}return{mode:r.MU}}function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}},32374:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(86522),o=n(96234),i=n(34795),a=n(9249),c=n(87371),s=n(80753),u=n(45754),l=n(11987),d=n(95058),p=n(56666),f=n(2784),h=n(41839);function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function f(){}function h(){}function m(){}var g={};u(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=f.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=d(e[o],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,r.Z)(p)&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=d(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:h,configurable:!0}),h.displayName=u(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),u(w,s,"Generator"),u(w,a,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var g=function(e){(0,u.Z)(l,e);var t,r=m(l);function l(){var e;(0,a.Z)(this,l);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,p.Z)((0,s.Z)(e),"state",{MediaViewer:l.MediaViewer,MediaViewerErrorBoundary:l.MediaViewerErrorBoundary}),e}return(0,c.Z)(l,[{key:"UNSAFE_componentWillMount",value:(t=(0,i.Z)(v().mark((function e(){var t,r,i,a,c,s;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.MediaViewer&&this.state.MediaViewerErrorBoundary){e.next=17;break}return e.prev=1,e.next=4,Promise.all([n.e(5446).then(n.bind(n,69200)),Promise.all([n.e(8362),n.e(8696),n.e(4925),n.e(9317),n.e(2161)]).then(n.bind(n,59121)),n.e(287).then(n.bind(n,1070))]);case 4:t=e.sent,r=(0,o.Z)(t,3),i=r[0],a=r[1],c=r[2],s=i.withMediaClient(a.MediaViewer),l.MediaViewer=s,l.MediaViewerErrorBoundary=c.default,this.setState({MediaViewer:s,MediaViewerErrorBoundary:l.MediaViewerErrorBoundary}),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(1);case 17:case"end":return e.stop()}}),e,this,[[1,15]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.state,t=e.MediaViewer,n=e.MediaViewerErrorBoundary;return t&&n?f.createElement(n,null,f.createElement(t,this.props)):f.createElement(h.Z,null)}}]),l}(f.PureComponent);(0,p.Z)(g,"displayName","AsyncMediaViewer");const y=g},41839:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I,t:()=>Z});var r,o,i=n(2784),a=n(71171),c=n(64968),s=n(79131),u=n(11971),l=c.ug.modal()+10,d=u.Z.div(r||(r=(0,a.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: ",";\n"])),l);d.displayName="Blanket";var p=u.Z.div(o||(o=(0,a.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"])));p.displayName="SpinnerWrapper";var f="none",h=!1;const v=function(e){var t=e.blankedColor,n=e.invertSpinnerColor;return i.createElement(d,{style:{backgroundColor:t||f}},i.createElement(p,null,i.createElement(s.Z,{size:"large",appearance:n||h?"invert":"inherit"})))};var m=n(96234),g=n(56666),y="data-theme",b="data-color-mode",w=("--".concat("ds","-token-not-found"),["light","dark","auto"]),k=["light","dark","legacy-light","legacy-dark","spacing","typography","shape"];var E=["light","dark","spacing","typography"],x=function(e){return void 0!==E.find((function(t){return t===e}))},O=function(e){return void 0!==k.find((function(t){return t===e}))},S=function(e){return["light","dark","auto"].includes(e)};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,g.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(){if("undefined"==typeof document)return{};var e=document.documentElement,t=e.getAttribute(b)||"",n=e.getAttribute(y)||"";return T(T({},n.split(" ").map((function(e){return e.split(":")})).reduce((function(e,t){var n=(0,m.Z)(t,2),r=n[0],o=n[1];return"colorMode"===r&&S(o)&&(e[r]=o),x(r)&&O(o)&&(e[r]=o),e}),{})),function(e){return void 0!==w.find((function(t){return t===e}))}(t)&&{colorMode:t})},_=n(9249),P=n(87371),D=function(){function e(t){(0,_.Z)(this,e),(0,g.Z)(this,"observer",null),(0,g.Z)(this,"mediaObserver",null),this.callback=t}return(0,P.Z)(e,[{key:"observe",value:function(){var e=this;this.observer||(this.observer=new MutationObserver((function(){e.callback(A())}))),this.observer.observe(document.documentElement,{attributeFilter:[y,b]})}},{key:"disconnect",value:function(){this.observer&&this.observer.disconnect()}}]),e}(),Z="#101214";const I=function(){var e,t,n,r,o=(e=(0,i.useState)(A()),t=(0,m.Z)(e,2),n=t[0],r=t[1],(0,i.useEffect)((function(){var e=new D((function(e){return r(e)}));return e.observe(),function(){return e.disconnect()}}),[]),n).colorMode;return i.createElement(v,{blankedColor:Z,invertSpinnerColor:"dark"!==o})}},70664:(e,t,n)=>{"use strict";n.d(t,{Hb:()=>d});n(82841);var r=n(45754),o=n(11987),i=n(95058),a=n(9249),c=n(87371),s=(n(87307),!1);function u(e){if(s){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).log.apply(t,[e].concat(r))}}n(54073);function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,i.Z)(e);if(t){var a=(0,i.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,o.Z)(this,n)}}var d=function(e){(0,r.Z)(n,e);var t=l(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"shouldHighlightMention",value:function(e){return!1}},{key:"filter",value:function(e){throw new Error("not yet implemented.\nParams: query=".concat(e))}},{key:"recordMentionSelection",value:function(e){}},{key:"isFiltering",value:function(e){return!1}},{key:"_notifyListeners",value:function(e,t){u("ak-mention-resource._notifyListeners",e&&e.mentions&&e.mentions.length,this.changeListeners),this.changeListeners.forEach((function(n,r){try{n(e.mentions.slice(0,20),e.query,t)}catch(e){u("error from listener '".concat(r,"', ignoring"),e)}}))}},{key:"_notifyAllResultsListeners",value:function(e){u("ak-mention-resource._notifyAllResultsListeners",e&&e.mentions&&e.mentions.length,this.changeListeners),this.allResultsListeners.forEach((function(t,n){try{t(e.mentions.slice(0,20),e.query)}catch(e){u("error from listener '".concat(n,"', ignoring"),e)}}))}},{key:"_notifyErrorListeners",value:function(e,t){this.errListeners.forEach((function(n,r){try{n(e,t)}catch(e){u("error from listener '".concat(r,"', ignoring"),e)}}))}},{key:"_notifyInfoListeners",value:function(e){this.infoListeners.forEach((function(t,n){try{t(e)}catch(e){u("error from listener '".concat(n,"', ignoring"),e)}}))}},{key:"_notifyAnalyticsListeners",value:function(e,t,n,r){this.analyticsListeners.forEach((function(o,i){try{o(e,t,n,r)}catch(e){u("error from listener '".concat(i,"', ignoring"),e)}}))}}]),n}(function(){function e(){(0,a.Z)(this,e),this.changeListeners=new Map,this.allResultsListeners=new Map,this.errListeners=new Map,this.infoListeners=new Map,this.analyticsListeners=new Map}return(0,c.Z)(e,[{key:"subscribe",value:function(e,t,n,r,o,i){t&&this.changeListeners.set(e,t),n&&this.errListeners.set(e,n),r&&this.infoListeners.set(e,r),o&&this.allResultsListeners.set(e,o),i&&this.analyticsListeners.set(e,i)}},{key:"unsubscribe",value:function(e){this.changeListeners.delete(e),this.errListeners.delete(e),this.infoListeners.delete(e),this.allResultsListeners.delete(e),this.analyticsListeners.delete(e)}}]),e}())},12724:(e,t,n)=>{"use strict";var r,o,i,a;n.d(t,{dP:()=>a}),function(e){e[e.SELF=0]="SELF",e[e.RESTRICTED=1]="RESTRICTED",e[e.DEFAULT=2]="DEFAULT"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.SITE=1]="SITE",e[e.APPLICATION=2]="APPLICATION",e[e.CONTAINER=3]="CONTAINER"}(o||(o={})),function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SPECIAL=1]="SPECIAL",e[e.APP=2]="APP",e[e.TEAM=3]="TEAM",e[e.SYSTEM=4]="SYSTEM"}(i||(i={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SERVICE_ERROR=1]="SERVICE_ERROR",e[e.OK=2]="OK"}(a||(a={}))},88886:(e,t,n)=>{"use strict";n.d(t,{Z:()=>re});var r=n(2784),o=n(95158),i=n(19532),a=n(92055),c=n(28165),s=n(56666),u={"space.0":"var(--ds-space-0, 0px)","space.025":"var(--ds-space-025, 2px)","space.050":"var(--ds-space-050, 4px)","space.075":"var(--ds-space-075, 6px)","space.100":"var(--ds-space-100, 8px)","space.150":"var(--ds-space-150, 12px)","space.200":"var(--ds-space-200, 16px)","space.250":"var(--ds-space-250, 20px)","space.300":"var(--ds-space-300, 24px)","space.400":"var(--ds-space-400, 32px)","space.500":"var(--ds-space-500, 40px)","space.600":"var(--ds-space-600, 48px)","space.800":"var(--ds-space-800, 64px)","space.1000":"var(--ds-space-1000, 80px)"},l=["padding","paddingBlock","paddingBlockStart","paddingBlockEnd","paddingInline","paddingInlineStart","paddingInlineEnd","gap","rowGap","columnGap"],d=function(e,t){return Object.keys(t).reduce((function(n,r){return n[r]=(0,c.iv)((0,s.Z)({},e,t[r])),n}),{})},p=(l.reduce((function(e,t){return e[t]=d(t,u),e}),{}),l.reduce((function(e,t){return e[t]=d(t,u),e}),{})),f=(d("backgroundColor",{"accent.red.subtlest":"var(--ds-background-accent-red-subtlest, #FF8F73)","accent.red.subtler":"var(--ds-background-accent-red-subtler, #FF7452)","accent.red.subtle":"var(--ds-background-accent-red-subtle, #DE350B)","accent.red.bolder":"var(--ds-background-accent-red-bolder, #DE350B)","accent.orange.subtlest":"var(--ds-background-accent-orange-subtlest, #F18D13)","accent.orange.subtler":"var(--ds-background-accent-orange-subtler, #B65C02)","accent.orange.subtle":"var(--ds-background-accent-orange-subtle, #5F3811)","accent.orange.bolder":"var(--ds-background-accent-orange-bolder, #43290F)","accent.yellow.subtlest":"var(--ds-background-accent-yellow-subtlest, #FFE380)","accent.yellow.subtler":"var(--ds-background-accent-yellow-subtler, #FFC400)","accent.yellow.subtle":"var(--ds-background-accent-yellow-subtle, #FF991F)","accent.yellow.bolder":"var(--ds-background-accent-yellow-bolder, #FF991F)","accent.green.subtlest":"var(--ds-background-accent-green-subtlest, #79F2C0)","accent.green.subtler":"var(--ds-background-accent-green-subtler, #57D9A3)","accent.green.subtle":"var(--ds-background-accent-green-subtle, #00875A)","accent.green.bolder":"var(--ds-background-accent-green-bolder, #00875A)","accent.teal.subtlest":"var(--ds-background-accent-teal-subtlest, #79E2F2)","accent.teal.subtler":"var(--ds-background-accent-teal-subtler, #00C7E6)","accent.teal.subtle":"var(--ds-background-accent-teal-subtle, #00A3BF)","accent.teal.bolder":"var(--ds-background-accent-teal-bolder, #00A3BF)","accent.blue.subtlest":"var(--ds-background-accent-blue-subtlest, #4C9AFF)","accent.blue.subtler":"var(--ds-background-accent-blue-subtler, #2684FF)","accent.blue.subtle":"var(--ds-background-accent-blue-subtle, #0052CC)","accent.blue.bolder":"var(--ds-background-accent-blue-bolder, #0052CC)","accent.purple.subtlest":"var(--ds-background-accent-purple-subtlest, #998DD9)","accent.purple.subtler":"var(--ds-background-accent-purple-subtler, #8777D9)","accent.purple.subtle":"var(--ds-background-accent-purple-subtle, #5243AA)","accent.purple.bolder":"var(--ds-background-accent-purple-bolder, #5243AA)","accent.magenta.subtlest":"var(--ds-background-accent-magenta-subtlest, #E774BB)","accent.magenta.subtler":"var(--ds-background-accent-magenta-subtler, #E774BB)","accent.magenta.subtle":"var(--ds-background-accent-magenta-subtle, #E774BB)","accent.magenta.bolder":"var(--ds-background-accent-magenta-bolder, #E774BB)","accent.gray.subtlest":"var(--ds-background-accent-gray-subtlest, #6B778C)","accent.gray.subtler":"var(--ds-background-accent-gray-subtler, #5E6C84)","accent.gray.subtle":"var(--ds-background-accent-gray-subtle, #42526E)","accent.gray.bolder":"var(--ds-background-accent-gray-bolder, #505F79)",disabled:"var(--ds-background-disabled, #091e4289)",input:"var(--ds-background-input, #FAFBFC)","input.hovered":"var(--ds-background-input-hovered, #EBECF0)","input.pressed":"var(--ds-background-input-pressed, #FFFFFF)","inverse.subtle":"var(--ds-background-inverse-subtle, #00000029)","inverse.subtle.hovered":"var(--ds-background-inverse-subtle-hovered, #0000003D)","inverse.subtle.pressed":"var(--ds-background-inverse-subtle-pressed, #00000052)",neutral:"var(--ds-background-neutral, #DFE1E6)","neutral.hovered":"var(--ds-background-neutral-hovered, #091e4214)","neutral.pressed":"var(--ds-background-neutral-pressed, #B3D4FF)","neutral.subtle":"var(--ds-background-neutral-subtle, transparent)","neutral.subtle.hovered":"var(--ds-background-neutral-subtle-hovered, #091e4214)","neutral.subtle.pressed":"var(--ds-background-neutral-subtle-pressed, #B3D4FF)","neutral.bold":"var(--ds-background-neutral-bold, #42526E)","neutral.bold.hovered":"var(--ds-background-neutral-bold-hovered, #505F79)","neutral.bold.pressed":"var(--ds-background-neutral-bold-pressed, #344563)",selected:"var(--ds-background-selected, #DEEBFF)","selected.hovered":"var(--ds-background-selected-hovered, #B3D4FF)","selected.pressed":"var(--ds-background-selected-pressed, #4C9AFF)","selected.bold":"var(--ds-background-selected-bold, #0052CC)","selected.bold.hovered":"var(--ds-background-selected-bold-hovered, #2684FF)","selected.bold.pressed":"var(--ds-background-selected-bold-pressed, #0052CC)","brand.bold":"var(--ds-background-brand-bold, #0052CC)","brand.bold.hovered":"var(--ds-background-brand-bold-hovered, #0065FF)","brand.bold.pressed":"var(--ds-background-brand-bold-pressed, #0747A6)",danger:"var(--ds-background-danger, #FFEBE6)","danger.hovered":"var(--ds-background-danger-hovered, #FFBDAD)","danger.pressed":"var(--ds-background-danger-pressed, #FF8F73)","danger.bold":"var(--ds-background-danger-bold, #DE350B)","danger.bold.hovered":"var(--ds-background-danger-bold-hovered, #FF5630)","danger.bold.pressed":"var(--ds-background-danger-bold-pressed, #BF2600)",warning:"var(--ds-background-warning, #FFFAE6)","warning.hovered":"var(--ds-background-warning-hovered, #FFF0B3)","warning.pressed":"var(--ds-background-warning-pressed, #FFE380)","warning.bold":"var(--ds-background-warning-bold, #FFAB00)","warning.bold.hovered":"var(--ds-background-warning-bold-hovered, #FFC400)","warning.bold.pressed":"var(--ds-background-warning-bold-pressed, #FF991F)",success:"var(--ds-background-success, #E3FCEF)","success.hovered":"var(--ds-background-success-hovered, #ABF5D1)","success.pressed":"var(--ds-background-success-pressed, #79F2C0)","success.bold":"var(--ds-background-success-bold, #00875A)","success.bold.hovered":"var(--ds-background-success-bold-hovered, #57D9A3)","success.bold.pressed":"var(--ds-background-success-bold-pressed, #00875A)",discovery:"var(--ds-background-discovery, #EAE6FF)","discovery.hovered":"var(--ds-background-discovery-hovered, #C0B6F2)","discovery.pressed":"var(--ds-background-discovery-pressed, #998DD9)","discovery.bold":"var(--ds-background-discovery-bold, #5243AA)","discovery.bold.hovered":"var(--ds-background-discovery-bold-hovered, #8777D9)","discovery.bold.pressed":"var(--ds-background-discovery-bold-pressed, #5243AA)",information:"var(--ds-background-information, #DEEBFF)","information.hovered":"var(--ds-background-information-hovered, #B3D4FF)","information.pressed":"var(--ds-background-information-pressed, #4C9AFF)","information.bold":"var(--ds-background-information-bold, #0052CC)","information.bold.hovered":"var(--ds-background-information-bold-hovered, #2684FF)","information.bold.pressed":"var(--ds-background-information-bold-pressed, #0052CC)","color.blanket":"var(--ds-blanket, #091e4289)","color.blanket.selected":"var(--ds-blanket-selected, #388BFF14)","color.blanket.danger":"var(--ds-blanket-danger, #EF5C4814)","elevation.surface":"var(--ds-surface, #FFFFFF)","elevation.surface.hovered":"var(--ds-surface-hovered, #FAFBFC)","elevation.surface.pressed":"var(--ds-surface-pressed, #F4F5F7)","elevation.surface.overlay":"var(--ds-surface-overlay, #FFFFFF)","elevation.surface.overlay.hovered":"var(--ds-surface-overlay-hovered, #FAFBFC)","elevation.surface.overlay.pressed":"var(--ds-surface-overlay-pressed, #F4F5F7)","elevation.surface.raised":"var(--ds-surface-raised, #FFFFFF)","elevation.surface.raised.hovered":"var(--ds-surface-raised-hovered, #FAFBFC)","elevation.surface.raised.pressed":"var(--ds-surface-raised-pressed, #F4F5F7)","elevation.surface.sunken":"var(--ds-surface-sunken, #F4F5F7)"}),{center:(0,c.iv)({alignItems:"center"}),baseline:(0,c.iv)({alignItems:"baseline"}),start:(0,c.iv)({alignItems:"flex-start"}),end:(0,c.iv)({alignItems:"flex-end"})}),h={start:(0,c.iv)({justifyContent:"flex-start"}),center:(0,c.iv)({justifyContent:"center"}),end:(0,c.iv)({justifyContent:"flex-end"}),"space-between":(0,c.iv)({justifyContent:"space-between"})},v={hug:(0,c.iv)({flexGrow:0}),fill:(0,c.iv)({width:"100%",flexGrow:1})},m=(0,c.iv)({flexWrap:"wrap"}),g=(0,c.iv)({display:"flex",boxSizing:"border-box",flexDirection:"row"}),y=(0,c.iv)({color:"var(--ds-text-subtle, #42526E)",marginBlock:"var(--ds-space-0, 0px)",marginInline:"calc(-1 * ".concat("var(--ds-space-025, 2px)",")"),pointerEvents:"none",userSelect:"none"}),b=function(e){var t=e.children;return(0,c.tZ)("span",{css:y},t)},w=(0,r.memo)((0,r.forwardRef)((function(e,t){var n=e.as,o=e.alignInline,i=e.alignBlock,a=e.shouldWrap,s=void 0!==a&&a,u=e.spread,l=e.grow,d=e.space,y=e.rowSpace,w=e.separator,k=e.testId,E=e.children,x=n||"div",O="string"==typeof w?(0,c.tZ)(b,null,w):w,S=O?r.Children.toArray(E).filter(Boolean).map((function(e,t){return(0,c.tZ)(r.Fragment,{key:t},w&&t>0?O:null,e)})):E,C=u||o;return(0,c.tZ)(x,{css:[g,d&&p.gap[d],C&&h[C],l&&v[l],i&&f[i],s&&m,y&&p.rowGap[y]],"data-testid":k,ref:t},S)})));w.displayName="Inline";const k=w;var E={start:(0,c.iv)({justifyContent:"start"}),center:(0,c.iv)({justifyContent:"center"}),end:(0,c.iv)({justifyContent:"end"}),"space-between":(0,c.iv)({justifyContent:"space-between"})},x={start:(0,c.iv)({alignItems:"start"}),center:(0,c.iv)({alignItems:"center"}),end:(0,c.iv)({alignItems:"end"})},O={hug:(0,c.iv)({flexGrow:0}),fill:(0,c.iv)({width:"100%",flexGrow:1})},S=(0,c.iv)({display:"flex",boxSizing:"border-box",flexDirection:"column"}),C=(0,r.memo)((0,r.forwardRef)((function(e,t){var n=e.as,r=e.alignInline,o=e.alignBlock,i=e.spread,a=e.grow,s=e.space,u=e.children,l=e.testId,d=n||"div",f=i||o;return(0,c.tZ)(d,{css:[S,s&&p.gap[s],r&&x[r],a&&O[a],f&&E[f]],"data-testid":l,ref:t},u)})));C.displayName="Stack";const T=C;var A=n(33068),_=n(20708),P=n(79235),D=n(93250),Z=n(13574),I="__ATLASKIT_THEME__",L="light",M=["light","dark"];function R(e){if(e&&e.theme){if(I in e.theme)return e.theme[I];if("mode"in e.theme&&M.includes(e.theme.mode))return e.theme}return{mode:L}}function N(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=R(e);if(e&&e[n]&&r){var o=r[e[n]];if(o&&o[t.mode]){var i=o[t.mode];if(i)return i}}return""};var n,r,o=e;return function(e){var t=R(e);if(t.mode in o){var n=o[t.mode];if(n)return n}return""}}var j="#FF5630",F="#FFAB00",B="#36B37E",z="#DEEBFF",U="#4C9AFF",V="#2684FF",H="#0052CC",W="#0747A6",G="#FFFFFF",q="#6B778C",K="#172B4D",$="#B8C7E0",J="#8C9CB8",Y="#283447";N({light:"var(--ds-surface, ".concat(G,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),N({light:"var(--ds-background-selected, ".concat(z,")"),dark:"var(--ds-background-selected, ".concat("#B3D4FF",")")}),N({light:"var(--ds-background-neutral-hovered, ".concat("#EBECF0",")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),N({light:"var(--ds-surface-overlay, ".concat(G,")"),dark:"var(--ds-surface-overlay, ".concat(Y,")")}),N({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat($,")")}),N({light:"var(--ds-text, ".concat(K,")"),dark:"var(--ds-text, ".concat($,")")}),N({light:"var(--ds-text-selected, ".concat(H,")"),dark:"var(--ds-text-selected, ".concat(H,")")}),N({light:"var(--ds-text-subtlest, ".concat(q,")"),dark:"var(--ds-text-subtlest, ".concat(J,")")}),N({light:"var(--ds-text-subtlest, ".concat(q,")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),N({light:"var(--ds-text, ".concat(K,")"),dark:"var(--ds-text, ".concat($,")")}),N({light:"var(--ds-text-subtlest, ".concat(q,")"),dark:"var(--ds-text-subtlest, ".concat(J,")")}),N({light:"#F4F5F7",dark:Y}),N({light:"var(--ds-link, ".concat(H,")"),dark:"var(--ds-link, ".concat(U,")")}),N({light:"var(--ds-link-pressed, ".concat("#0065FF",")"),dark:"var(--ds-link-pressed, ".concat(V,")")}),N({light:"var(--ds-link-pressed, ".concat(W,")"),dark:"var(--ds-link-pressed, ".concat(U,")")}),N({light:"var(--ds-border-focused, ".concat(U,")"),dark:"var(--ds-border-focused, ".concat(V,")")}),N({light:"var(--ds-background-brand-bold, ".concat(H,")"),dark:"var(--ds-background-brand-bold, ".concat(U,")")}),N({light:H,dark:U}),N({light:"#00B8D9",dark:"#00C7E6"}),N({light:"#6554C0",dark:"#998DD9"}),N({light:j,dark:j}),N({light:F,dark:F}),N({light:B,dark:B});function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee={information:{backgroundColor:"var(--ds-background-information, ".concat(z,")"),Icon:P.Z,primaryIconColor:"var(--ds-icon-information, ".concat(W,")")},warning:{backgroundColor:"var(--ds-background-warning, ".concat("#FFFAE6",")"),Icon:Z.Z,primaryIconColor:"var(--ds-icon-warning, ".concat("#FF8B00",")")},error:{backgroundColor:"var(--ds-background-danger, ".concat("#FFEBE6",")"),Icon:_.default,primaryIconColor:"var(--ds-icon-danger, ".concat("#BF2600",")")},success:{backgroundColor:"var(--ds-background-success, ".concat("#E3FCEF",")"),Icon:A.Z,primaryIconColor:"var(--ds-icon-success, ".concat("#006644",")")},discovery:{backgroundColor:"var(--ds-background-discovery, ".concat("#EAE6FF",")"),Icon:D.Z,primaryIconColor:"var(--ds-icon-discovery, ".concat("#403294",")")}};var te=(0,r.forwardRef)((function(e,t){var n=e.children,c=e.appearance,s=void 0===c?"information":c,u=e.actions,l=e.title,d=e.icon,p=e.testId,f=function(e,t){var n=ee[e]||ee.information,r=t||n.Icon;return Q(Q({},n),{},{Icon:r})}(s,d),h=f.primaryIconColor,v=f.backgroundColor,m=f.Icon,g=u&&u.type===r.Fragment?u.props.children:u,y=r.Children.toArray(g);return r.createElement(o.Z,{as:"section",backgroundColor:ne[s],padding:"space.200",borderRadius:"normal",testId:p,ref:t,UNSAFE_style:{wordBreak:"break-word"}},r.createElement(k,{space:"space.200"},r.createElement(o.Z,{UNSAFE_style:{margin:"-2px 0"}},r.createElement(m,{size:"medium",primaryColor:h,secondaryColor:v})),r.createElement(T,{space:"space.100",testId:p&&"".concat(p,"--content")},!!l&&r.createElement(a.Z,{as:"h2",level:"h500"},l),r.createElement(i.Z,null,n),y.length>0&&r.createElement(k,{shouldWrap:!0,testId:p&&"".concat(p,"--actions"),separator:"·",space:"space.100",rowSpace:"space.0"},y))))})),ne={information:"information",warning:"warning",error:"danger",success:"success",discovery:"discovery"};te.displayName="SectionMessage";const re=te},33277:(e,t,n)=>{"use strict";n.d(t,{Lt:()=>s,WS:()=>d,bm:()=>u,jR:()=>l});var r=n(25548),o=n(67336),i={platform:{component:"smart-links"},type:r.Z.Experience,performanceType:r.R.InlineResult},a={platform:{component:"smart-links"},type:r.Z.Load,performanceType:r.R.PageSegmentLoad},c={"smart-link-rendered":new o.I("smart-link-rendered",a),"smart-link-authenticated":new o.I("smart-link-authenticated",i),"smart-link-action-invocation":new o.I("smart-link-action-invocation",i)},s=function(e,t,n){var r=c[e].getInstance(t);r.start(),n&&r.addMetadata(n)},u=function(e,t,n){c[e].getInstance(t).success({metadata:n})},l=function(e,t,n){c[e].getInstance(t).failure({metadata:n})},d=function(e,t,n){c[e].getInstance(t).addMetadata(n)}},71880:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2784),o=n(71588),i=n(11530);const a=function(e){var t=(0,o._)().createAnalyticsEvent;return(0,r.useCallback)((function(n){null==e||e(n),0!==n.button&&(0,i.PJ)(t)(n)}),[e,t])}},13949:(e,t,n)=>{"use strict";n.d(t,{L:()=>y});var r=n(56666),o=n(96234),i=n(2784),a=n(39674),c=n(1725),s=n(75411);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=n(33277),p=n(67027),f=n(55975),h=n(71588);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(e,t){if(e&&e.attributes)for(var n=0,r=Object.entries(t);n<r.length;n++){var i=(0,o.Z)(r[n],2),a=i[0],c=i[1];void 0===e.attributes[a]&&(e.attributes[a]=c)}return e},y=function(e,t,n,r){var o,u,v=(o=t,u=(0,h._)().createAnalyticsEvent,{dispatchAnalytics:(0,i.useMemo)((function(){return o||function(e){u(e).fire(c.D_)}}),[o,u])}).dispatchAnalytics,y=n||"NULL",b=(0,f.ap)().store,w=b?(0,a.G)(b,e):void 0,k=w?w.details:void 0,E=(0,p.hZ)(k),x=(0,p.U)(k),O=(0,p.Q5)(k),S=(0,p.Yr)(k),C=(0,p.wv)(k),T=(0,i.useMemo)((function(){return{id:y,definitionId:E,extensionKey:x,resourceType:O,destinationSubproduct:S,destinationProduct:C,location:r}}),[y,E,x,O,S,C,r]),A=(0,i.useMemo)((function(){return{authEvent:function(e){var t=e.display,n=e.extensionKey,r=e.definitionId,o=e.resourceType,i=e.destinationProduct,a=e.destinationSubproduct,s=e.location;return v(g((0,c.hX)({display:t,extensionKey:n,definitionId:r,resourceType:o,destinationProduct:i,destinationSubproduct:a,location:s}),T))},authAlternateAccountEvent:function(e){var t=e.display,n=e.extensionKey,r=e.definitionId,o=e.resourceType,i=e.destinationProduct,a=e.destinationSubproduct,s=e.location;return v(g((0,c.xh)({display:t,extensionKey:n,definitionId:r,resourceType:o,destinationProduct:i,destinationSubproduct:a,location:s}),T))},buttonClickedEvent:function(e){return v(g({action:"clicked",actionSubject:"button",actionSubjectId:e.actionSubjectId,attributes:m(m({},c.Do),e.attributes),eventType:"ui"},T))},cardClickedEvent:function(e){var t=e.id,n=e.display,r=e.status,o=e.definitionId,i=e.extensionKey,a=e.isModifierKeyPressed,s=e.location,u=e.destinationProduct,l=e.destinationSubproduct,d=e.actionSubjectId;return v(g((0,c.AZ)({id:t,display:n,status:r,definitionId:o,extensionKey:i,isModifierKeyPressed:a,location:s,destinationProduct:u,destinationSubproduct:l,actionSubjectId:d}),T))},iframeDwelledEvent:function(e){var t=e.id,n=e.display,r=e.status,o=e.definitionId,i=e.extensionKey,a=e.location,s=e.destinationProduct,u=e.destinationSubproduct,l=e.dwellTime,d=e.dwellPercentVisible;return v(g((0,c.we)({id:t,display:n,status:r,definitionId:o,extensionKey:i,location:a,destinationProduct:s,destinationSubproduct:u,dwellTime:l,dwellPercentVisible:d}),T))},iframeFocusedEvent:function(e){var t=e.id,n=e.display,r=e.status,o=e.definitionId,i=e.extensionKey,a=e.location,s=e.destinationProduct,u=e.destinationSubproduct;return v(g((0,c.m$)({id:t,display:n,status:r,definitionId:o,extensionKey:i,location:a,destinationProduct:s,destinationSubproduct:u}),T))},actionClickedEvent:function(e){var t=e.id,n=e.actionType,r=e.display,o=e.invokeType,i=e.extensionKey,a=e.definitionId,s=e.resourceType,u=e.destinationProduct,l=e.destinationSubproduct,p=e.location;(0,d.Lt)("smart-link-action-invocation",t,{actionType:n,display:r,extensionKey:i,invokeType:o}),v(g((0,c.T0)({id:t,actionType:n,display:r,extensionKey:i,definitionId:a,resourceType:s,destinationProduct:u,destinationSubproduct:l,location:p}),T))},hoverCardOpenLinkClickedEvent:function(e){var t=e.previewDisplay,n=e.definitionId,r=e.extensionKey,o=e.destinationProduct,i=e.destinationSubproduct,a=e.location,s=e.previewInvokeMethod;v(g((0,c.$k)({id:y,previewDisplay:t,definitionId:n,extensionKey:r,destinationProduct:o,destinationSubproduct:i,location:a,previewInvokeMethod:s}),T))},closedAuthEvent:function(e){var t=e.display,n=e.extensionKey,r=e.definitionId,o=e.resourceType,i=e.destinationProduct,a=e.destinationSubproduct,s=e.location;return v(g((0,c.XU)({display:t,extensionKey:n,definitionId:r,resourceType:o,destinationProduct:i,destinationSubproduct:a,location:s}),T))},modalClosedEvent:function(e){return v(g({action:"closed",actionSubject:"modal",actionSubjectId:e.actionSubjectId,attributes:m(m({},c.Do),e.attributes),eventType:"ui"},T))},renderSuccessEvent:function(e){var t=e.display,n=e.status,r=e.id,o=e.extensionKey,i=e.definitionId,a=e.resourceType,s=e.destinationProduct,u=e.destinationSubproduct,l=e.location,p=r||y;(0,d.bm)("smart-link-rendered",p,{extensionKey:o,display:t}),(0,d.bm)("smart-link-authenticated",p,{display:t}),v(g((0,c.iD)({display:t,status:n,extensionKey:o,definitionId:i,resourceType:a,destinationProduct:s,destinationSubproduct:u,location:l}),T))},renderFailedEvent:function(e){var t=e.display,n=e.id,r=e.error,o=e.errorInfo,i=e.extensionKey,a=e.definitionId,s=e.resourceType,u=e.destinationProduct,l=e.destinationSubproduct,p=e.location,f=n||y;(0,d.Lt)("smart-link-rendered",f),(0,d.jR)("smart-link-rendered",f),(0,d.jR)("smart-link-authenticated",f),v(g((0,c.eU)({display:t,error:r,errorInfo:o,extensionKey:i,definitionId:a,resourceType:s,destinationProduct:u,destinationSubproduct:l,location:p}),T))},hoverCardViewedEvent:function(e){var t=e.previewDisplay,n=e.previewInvokeMethod,r=e.id,o=e.extensionKey,i=e.definitionId,a=e.resourceType,s=e.destinationProduct,u=e.destinationSubproduct,l=e.location,d=e.status;return v(g((0,c.Gi)({id:r,previewDisplay:t,extensionKey:o,definitionId:i,resourceType:a,destinationProduct:s,destinationSubproduct:u,location:l,previewInvokeMethod:n,status:d}),T))},hoverCardDismissedEvent:function(e){var t=e.id,n=e.previewDisplay,r=e.hoverTime,o=e.previewInvokeMethod,i=e.extensionKey,a=e.definitionId,s=e.resourceType,u=e.destinationProduct,l=e.destinationSubproduct,d=e.location,p=e.status;return v(g((0,c.$X)({previewDisplay:n,id:t,hoverTime:r,extensionKey:i,definitionId:a,resourceType:s,destinationProduct:u,destinationSubproduct:l,location:d,previewInvokeMethod:o,status:p}),T))},learnMoreClickedEvent:function(){return v(g((0,c._z)(),T))}}}),[y,T,v]),_=(0,i.useMemo)((function(){return{invokeSucceededEvent:function(e){var t=e.id,n=e.actionType,r=e.display,o=e.extensionKey,i=e.definitionId,a=e.resourceType,s=e.destinationProduct,u=e.destinationSubproduct,l=e.location;(0,d.bm)("smart-link-action-invocation",t),v(g((0,c.Ps)({id:t,actionType:n,display:r,extensionKey:o,definitionId:i,resourceType:a,destinationProduct:s,destinationSubproduct:u,location:l}),T))},invokeFailedEvent:function(e){var t=e.id,n=e.actionType,r=e.display,o=e.reason,i=e.extensionKey,a=e.definitionId,s=e.resourceType,u=e.destinationProduct,l=e.destinationSubproduct,p=e.location;(0,d.jR)("smart-link-action-invocation",t),v(g((0,c.VN)({id:t,actionType:n,display:r,reason:o,extensionKey:i,definitionId:a,resourceType:s,destinationProduct:u,destinationSubproduct:l,location:p}),T))},connectSucceededEvent:function(e){var t=e.id,n=e.extensionKey,r=e.definitionId,o=e.resourceType,i=e.destinationProduct,a=e.destinationSubproduct,s=e.location,u=t||y;(0,d.Lt)("smart-link-authenticated",u,{extensionKey:n,status:"success"}),v(g((0,c.i7)(m(m({},T),{},{id:u,extensionKey:n,definitionId:r,resourceType:o,destinationProduct:i,destinationSubproduct:a,location:s})),T))},connectFailedEvent:function(e){var t=e.id,n=e.reason,r=e.extensionKey,o=e.definitionId,i=e.resourceType,a=e.destinationProduct,s=e.destinationSubproduct,u=e.location,l=t||y;(0,d.Lt)("smart-link-authenticated",l,{extensionKey:r,status:n}),v(g((0,c.Jq)(m(m({},T),{},{id:l,reason:n,extensionKey:r,definitionId:o,resourceType:i,destinationProduct:a,destinationSubproduct:s,location:u})),T))},instrument:function(e){var t=e.id,n=e.status,r=e.extensionKey,o=e.definitionId,i=e.resourceType,a=e.destinationProduct,u=e.destinationSubproduct,d=e.location,p=e.error,f=function(e){var t=e.id,n=e.status,r=e.extensionKey,o=e.definitionId,i=e.resourceType,a=e.destinationProduct,u=e.destinationSubproduct,d=e.location,p=e.error,f=(0,s.tZ)(t,n)||{duration:void 0};if("resolved"===n){var h=(0,c.U3)({id:t,extensionKey:r,definitionId:o,resourceType:i,destinationProduct:a,destinationSubproduct:u,location:d});return l(l({},h),{},{attributes:l(l({},h.attributes),{},{duration:f.duration})})}if("ResolveUnsupportedError"!==(null==p?void 0:p.type)){var v=(0,c.bg)({id:t,status:n,extensionKey:r,definitionId:o,resourceType:i,destinationProduct:a,destinationSubproduct:u,location:d,error:p});return l(l({},v),{},{attributes:l(l({},v.attributes),{},{duration:f.duration})})}}(m(m({},T),{},{id:t,status:n,extensionKey:r,definitionId:o,resourceType:i,destinationProduct:a,destinationSubproduct:u,location:d,error:p}));f&&v(g(f,T))},chunkloadFailedEvent:function(e){var t=e.display,n=e.error,r=e.errorInfo,o=e.extensionKey,i=e.definitionId,a=e.resourceType,s=e.destinationProduct,u=e.destinationSubproduct,l=e.location;v(g((0,c.lw)({display:t,error:n,errorInfo:r,extensionKey:o,definitionId:i,resourceType:a,destinationProduct:s,destinationSubproduct:u,location:l}),T))}}}),[y,T,v]),P=(0,i.useMemo)((function(){return{appAccountConnected:function(e){var t=e.extensionKey,n=e.definitionId,r=e.resourceType,o=e.destinationProduct,i=e.destinationSubproduct,a=e.location;return v(g((0,c.tk)(m(m({},T),{},{extensionKey:t,definitionId:n,resourceType:r,destinationProduct:o,destinationSubproduct:i,location:a})),T))},appAccountAuthStarted:function(e){var t=e.extensionKey,n=e.location;return v(g((0,c.sH)(m(m({},T),{},{extensionKey:t,location:n})),T))},linkUpdated:function(e){return v(g((0,c._1)(m(m({},T),e)),T))}}}),[T,v]),D=(0,i.useMemo)((function(){return{authPopupEvent:function(e){var t=e.extensionKey,n=e.definitionId,r=e.resourceType,o=e.destinationProduct,i=e.destinationSubproduct,a=e.location;return v(g((0,c.TF)(m(m({},T),{},{extensionKey:t,definitionId:n,resourceType:r,destinationProduct:o,destinationSubproduct:i,location:a})),T))},modalViewedEvent:function(e){return v(g({action:"viewed",actionSubject:e.name,attributes:m(m({},c.Do),e.attributes),eventType:"screen",name:e.name},T))}}}),[T,v]);return(0,i.useMemo)((function(){return{ui:A,operational:_,track:P,screen:D}}),[A,_,P,D])}},67027:(e,t,n)=>{"use strict";n.d(t,{Eb:()=>r,vG:()=>o,hZ:()=>i,U:()=>a,wv:()=>s,Q5:()=>c,U2:()=>l,lR:()=>d,Yr:()=>u,ir:()=>p});var r=function(e,t){return Object.keys(t).filter((function(n){var r=t[n].details;return r&&r.meta.definitionId===e}))},o=function(e,t){if(t&&t.data){var n=function(e){return e["atlassian:visitUrl"]}(t.data);if(n)return n}return e},i=function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.definitionId},a=function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.key},c=function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.resourceType},s=function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.product},u=function(e){var t;return null==e||null===(t=e.meta)||void 0===t?void 0:t.subproduct},l=function(e){return e&&e.meta.auth||[]},d=function(e){var t=e.meta,n=t.access,r=t.visibility;switch(n){case"forbidden":return"not_found"===r?"not_found":"forbidden";case"unauthorized":return"unauthorized";default:return"resolved"}},p=function(e){return["unauthorized","forbidden","errored","resolved","not_found"].indexOf(e)>-1}},1725:(e,t,n)=>{"use strict";n.d(t,{$X:()=>N,$k:()=>j,AZ:()=>A,D_:()=>p,Do:()=>f,Er:()=>v,Gi:()=>R,Jq:()=>E,Ps:()=>b,T0:()=>D,TF:()=>I,U3:()=>g,VN:()=>w,XU:()=>Z,_1:()=>S,_z:()=>F,bg:()=>y,eU:()=>M,hX:()=>C,i7:()=>k,iD:()=>L,lw:()=>B,m$:()=>P,sH:()=>O,tk:()=>x,vU:()=>m,we:()=>_,xh:()=>T});var r=n(59740),o=n(56666),i=n(9249),a=n(87371),c=n(73268),s=n(75411),u=["actionSubjectId"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="media",f={componentName:"smart-cards",packageName:c.u2,packageVersion:c.i8},h={DownloadAction:"downloadDocument",PreviewAction:"invokePreviewScreen",ViewAction:"shortcutGoToLink",StatusAction:"issueStatusUpdate"},v=function(){function e(){(0,i.Z)(this,e)}return(0,a.Z)(e,[{key:"insertSmartLink",value:function(e,t,n){m({action:"inserted",actionSubject:"smartLink",eventType:"track",attributes:{type:t},nonPrivacySafeAttributes:{domainName:e}},n)}}]),e}(),m=function(e,t){t&&t(e).fire(p)},g=function(e){return{action:"resolved",actionSubject:"smartLink",eventType:"operational",attributes:d(d({},e),f)}},y=function(e){var t=e.id,n=e.definitionId,r=e.extensionKey,o=e.resourceType,i=e.destinationSubproduct,a=e.destinationProduct,c=e.error,s=e.status,u=e.location;return{action:"unresolved",actionSubject:"smartLink",eventType:"operational",attributes:d(d(d(d(d(d(d(d({id:t},f),n?{definitionId:n}:{}),r?{extensionKey:r}:{}),o?{resourceType:o}:{}),i?{destinationSubproduct:i}:{}),a?{destinationProduct:a}:{}),u?{location:u}:{}),{},{reason:s,error:c?{message:null==c?void 0:c.message,kind:null==c?void 0:c.kind,type:null==c?void 0:c.type}:void 0})}},b=function(e){var t=e.id,n=e.actionType,r=e.display,o=e.extensionKey,i=e.definitionId,a=e.destinationProduct,c=e.destinationSubproduct,u=e.location,l=(0,s.tZ)(t,"resolved")||{duration:void 0};return{action:"resolved",actionSubject:"smartLinkAction",eventType:"operational",attributes:d(d({},f),{},{id:t,actionType:n,display:r,definitionId:i,destinationProduct:a,destinationSubproduct:c,location:u,extensionKey:o,duration:l.duration})}},w=function(e){var t=e.id,n=e.actionType,r=e.display,o=e.reason,i=e.extensionKey,a=e.definitionId,c=e.destinationProduct,u=e.destinationSubproduct,l=e.location,p=(0,s.tZ)(t,"errored")||{duration:void 0};return{action:"unresolved",actionSubject:"smartLinkAction",eventType:"operational",attributes:d(d({},f),{},{id:t,actionType:n,display:r,extensionKey:i,definitionId:a,destinationProduct:c,destinationSubproduct:u,location:l,duration:p.duration,reason:o})}},k=function(e){var t=e.definitionId,n=e.extensionKey,r=e.destinationProduct,o=e.destinationSubproduct,i=e.location;return{action:"connectSucceeded",actionSubject:"smartLink",eventType:"operational",attributes:d(d({},f),{},{definitionId:t,extensionKey:n,destinationProduct:r,destinationSubproduct:o,location:i})}},E=function(e){var t=e.definitionId,n=e.extensionKey,r=e.destinationProduct,o=e.destinationSubproduct,i=e.location,a=e.reason;return{action:"connectFailed",actionSubject:"smartLink",actionSubjectId:a,eventType:"operational",attributes:d(d({},f),{},{reason:a,extensionKey:n,definitionId:t,destinationProduct:r,destinationSubproduct:o,location:i})}},x=function(e){var t=e.definitionId,n=e.extensionKey,r=e.destinationProduct,o=e.destinationSubproduct,i=e.location;return{action:"connected",actionSubject:"applicationAccount",eventType:"track",attributes:d(d({},f),{},{definitionId:t,extensionKey:n,destinationProduct:r,destinationSubproduct:o,location:i})}},O=function(e){var t=e.extensionKey,n=e.location;return{action:"authStarted",actionSubject:"applicationAccount",eventType:"track",attributes:d(d({},f),{},{extensionKey:t,location:n})}},S=function(e){var t=e.actionSubjectId,n=(0,r.Z)(e,u);return{action:"updated",actionSubject:"link",actionSubjectId:t,eventType:"track",attributes:d(d({},f),n)}},C=function(e){var t=e.definitionId,n=e.extensionKey,r=e.destinationProduct,o=e.destinationSubproduct,i=e.location,a=e.display;return{action:"clicked",actionSubject:"button",actionSubjectId:"connectAccount",eventType:"ui",attributes:d(d({},f),{},{definitionId:t,extensionKey:n,destinationProduct:r,destinationSubproduct:o,location:i,display:a})}},T=function(e){var t=e.definitionId,n=e.extensionKey,r=e.destinationProduct,o=e.destinationSubproduct,i=e.location,a=e.display;return{action:"clicked",actionSubject:"smartLink",actionSubjectId:"tryAnotherAccount",eventType:"ui",attributes:d(d({},f),{},{definitionId:t,extensionKey:n,destinationProduct:r,destinationSubproduct:o,location:i,display:a})}},A=function(e){var t=e.id,n=e.display,r=e.status,o=e.definitionId,i=e.extensionKey,a=e.isModifierKeyPressed,c=e.location,s=e.destinationProduct,u=e.destinationSubproduct;return{action:"clicked",actionSubject:"smartLink",actionSubjectId:e.actionSubjectId,eventType:"ui",attributes:d(d({},f),{},{id:t,status:r,definitionId:o,extensionKey:i,display:n,isModifierKeyPressed:a,location:c,destinationProduct:s,destinationSubproduct:u})}},_=function(e){var t=e.id,n=e.display,r=e.status,o=e.definitionId,i=e.extensionKey,a=e.location,c=e.destinationProduct,s=e.destinationSubproduct,u=e.dwellTime,l=e.dwellPercentVisible;return{action:"dwelled",actionSubject:"smartLinkIframe",eventType:"ui",attributes:d(d({},f),{},{id:t,status:r,definitionId:o,extensionKey:i,display:n,location:a,destinationProduct:c,destinationSubproduct:s,dwellTime:u,dwellPercentVisible:l})}},P=function(e){var t=e.id,n=e.display,r=e.status,o=e.definitionId,i=e.extensionKey,a=e.location,c=e.destinationProduct,s=e.destinationSubproduct;return{action:"focused",actionSubject:"smartLinkIframe",eventType:"ui",attributes:d(d({},f),{},{id:t,status:r,definitionId:o,extensionKey:i,display:n,location:a,destinationProduct:c,destinationSubproduct:s})}},D=function(e){var t=e.id,n=e.actionType,r=e.extensionKey,o=e.display,i=e.definitionId,a=e.destinationProduct,c=e.destinationSubproduct,s=e.location;return{action:"clicked",actionSubject:"button",actionSubjectId:h[n],eventType:"ui",attributes:d(d({},f),{},{id:t,display:o,actionType:n,extensionKey:r,definitionId:i,destinationProduct:a,destinationSubproduct:c,location:s})}},Z=function(e){var t=e.display,n=e.extensionKey,r=e.definitionId,o=e.destinationProduct,i=e.destinationSubproduct,a=e.location;return{action:"closed",actionSubject:"consentModal",eventType:"ui",attributes:d(d({},f),{},{extensionKey:n,definitionId:r,destinationProduct:o,destinationSubproduct:i,location:a,display:t})}},I=function(e){var t=e.extensionKey,n=e.definitionId,r=e.destinationProduct,o=e.destinationSubproduct,i=e.location;return{actionSubject:"consentModal",eventType:"screen",attributes:d(d({},f),{},{extensionKey:t,definitionId:n,destinationProduct:r,destinationSubproduct:o,location:i})}},L=function(e){var t=e.display,n=e.status,r=e.extensionKey,o=e.definitionId,i=e.destinationProduct,a=e.destinationSubproduct,c=e.location;return{action:"renderSuccess",actionSubject:"smartLink",eventType:"ui",attributes:d(d({},f),{},{status:n,extensionKey:r,definitionId:o,destinationProduct:i,destinationSubproduct:a,location:c,display:t})}},M=function(e){var t=e.display,n=e.error,r=e.errorInfo,o=e.extensionKey,i=e.definitionId,a=e.destinationProduct,c=e.destinationSubproduct,s=e.location;return{actionSubject:"smartLink",action:"renderFailed",eventType:"ui",attributes:d(d({},f),{},{error:n,errorInfo:r,display:t,extensionKey:o,definitionId:i,destinationProduct:a,destinationSubproduct:c,location:s})}},R=function(e){var t=e.id,n=e.previewDisplay,r=e.extensionKey,o=e.definitionId,i=e.destinationProduct,a=e.destinationSubproduct,c=e.location,s=e.previewInvokeMethod,u=e.status;return{action:"viewed",actionSubject:"hoverCard",eventType:"ui",attributes:d(d({},f),{},{id:t,previewDisplay:n,extensionKey:r,definitionId:o,destinationProduct:i,destinationSubproduct:a,location:c,previewInvokeMethod:s,status:u})}},N=function(e){var t=e.id,n=e.previewDisplay,r=e.hoverTime,o=e.extensionKey,i=e.definitionId,a=e.destinationProduct,c=e.destinationSubproduct,s=e.location,u=e.previewInvokeMethod,l=e.status;return{action:"dismissed",actionSubject:"hoverCard",eventType:"ui",attributes:d(d({},f),{},{id:t,previewDisplay:n,hoverTime:r,extensionKey:o,definitionId:i,destinationProduct:a,destinationSubproduct:c,location:s,previewInvokeMethod:u,status:l})}},j=function(e){var t=e.id,n=e.previewDisplay,r=e.extensionKey,o=e.definitionId,i=e.destinationProduct,a=e.destinationSubproduct,c=e.location,s=e.previewInvokeMethod;return{action:"clicked",actionSubject:"button",actionSubjectId:"shortcutGoToLink",eventType:"ui",attributes:d(d({},f),{},{id:t,previewDisplay:n,extensionKey:r,definitionId:o,destinationProduct:i,destinationSubproduct:a,location:c,previewInvokeMethod:s})}},F=function(){return{action:"clicked",actionSubject:"button",actionSubjectId:"learnMore",eventType:"ui",attributes:d({},f)}},B=function(e){var t=e.display,n=e.error,r=e.errorInfo,o=e.extensionKey,i=e.definitionId,a=e.destinationProduct,c=e.destinationSubproduct,s=e.location;return{action:"chunkLoadFailed",actionSubject:"smartLink",eventType:"operational",attributes:d(d({},f),{},{error:n,errorInfo:r,display:t,extensionKey:o,definitionId:i,destinationProduct:a,destinationSubproduct:c,location:s})}}},11530:(e,t,n)=>{"use strict";n.d(t,{PJ:()=>l});var r=n(56666),o=n(44097),i=n(1725);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=new Map([[void 0,"none"],[0,"left"],[1,"middle"],[2,"right"]]);function u(e,t){var n,r=(0,o.X)(),i=r.mac,a=r.safari;if((n=e.currentTarget)instanceof HTMLElement&&n.isContentEditable&&["left","middle"].includes(t))return"contentEditable";switch(t){case"left":return e.metaKey?i?"clickThroughNewTabOrWindow":"clickThrough":e.shiftKey?a?"alt":"clickThroughNewTabOrWindow":e.ctrlKey?i?"clickThrough":"clickThroughNewTabOrWindow":e.altKey?"alt":"_blank"===e.currentTarget.getAttribute("target")?"clickThroughNewTabOrWindow":"clickThrough";case"middle":return"clickThroughNewTabOrWindow";case"right":return"contextMenu"}return"unknown"}var l=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){var t=s.get(e.button);if(t){var n,r;return{action:"clicked",actionSubject:"link",eventType:"ui",attributes:{clickType:(r={clickType:t,clickOutcome:u(e,t),keysHeld:(n=e,["alt","ctrl","meta","shift"].filter((function(e){return!0===n["".concat(e,"Key")]}))),defaultPrevented:e.defaultPrevented}).clickType,clickOutcome:r.clickOutcome,keysHeld:r.keysHeld,defaultPrevented:r.defaultPrevented}}}}(t);r&&e(c(c(c({},r),n),{},{attributes:c(c({},r.attributes),null==n?void 0:n.attributes)})).fire(i.D_)}}},10770:(e,t,n)=>{"use strict";n.d(t,{A5:()=>v,Hk:()=>d,K8:()=>l,XM:()=>g,aA:()=>b,dg:()=>y,wE:()=>k});var r=n(86522),o=n(34795),i=n(96234),a=n(2784),c=n(89028),s=n.n(c);function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,a=Object.create(i.prototype),c=new T(r||[]);return o(a,"_invoke",{value:x(e,n,c)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var f={};function h(){}function v(){}function m(){}var g={};l(g,a,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(A([])));b&&b!==t&&n.call(b,a)&&(g=b);var w=m.prototype=h.prototype=Object.create(g);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(o,a,c,s){var u=p(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==(0,r.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return i("throw",e,c,s)}))}s(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function x(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return _()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=O(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=p(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function O(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=p(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:_}}function _(){return{value:void 0,done:!0}}return v.prototype=m,o(w,"constructor",{value:m,configurable:!0}),o(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new E(d(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(w),l(w,s,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var l=function(e){return!!e.data},d=function(e){return e.isDefaultPrevented()&&(p()||f(e)||h(e))},p=function(){return window.parent!==parent},f=function(e){return e.metaKey||e.ctrlKey},h=function(e){return 1===e.button},v=function(e){if(e){var t=m[e.toLowerCase()];if(t){var n=(0,i.Z)(t,2),r=n[0],o=n[1];if(o){var c=s()({loader:function(){return o().then((function(e){return e.default}))},loading:function(){return null}});return a.createElement(c,{label:r,testId:"document-file-format-icon"})}}}},m={"text/plain":["Document",function(){return n.e(3477).then(n.bind(n,83477))}],"application/vnd.oasis.opendocument.text":["Document",function(){return n.e(3477).then(n.bind(n,83477))}],"application/vnd.apple.pages":["Document",function(){return n.e(3477).then(n.bind(n,83477))}],"application/vnd.google-apps.document":["Google Doc",function(){return n.e(3142).then(n.bind(n,35163))}],"application/msword":["Word document",function(){return n.e(3727).then(n.bind(n,54967))}],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["Word document",function(){return n.e(3727).then(n.bind(n,54967))}],"application/pdf":["PDF document",function(){return n.e(3717).then(n.bind(n,30105))}],"application/vnd.oasis.opendocument.spreadsheet":["Spreadsheet",function(){return n.e(3193).then(n.bind(n,52412))}],"application/vnd.apple.numbers":["Spreadsheet",function(){return n.e(3193).then(n.bind(n,52412))}],"application/vnd.google-apps.spreadsheet":["Google Sheet",function(){return n.e(874).then(n.bind(n,5047))}],"application/vnd.ms-excel":["Excel spreadsheet",function(){return n.e(4113).then(n.bind(n,3838))}],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["Excel spreadsheet",function(){return n.e(4113).then(n.bind(n,3838))}],"application/vnd.oasis.opendocument.presentation":["Presentation",function(){return n.e(1809).then(n.bind(n,1809))}],"application/vnd.apple.keynote":["Presentation",function(){return n.e(1809).then(n.bind(n,1809))}],"application/vnd.google-apps.presentation":["Google Slide",function(){return n.e(6317).then(n.bind(n,80064))}],"application/vnd.ms-powerpoint":["PowerPoint presentation",function(){return n.e(6243).then(n.bind(n,96723))}],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["PowerPoint presentation",function(){return n.e(6243).then(n.bind(n,96723))}],"application/vnd.google-apps.form":["Google Form",function(){return n.e(3336).then(n.bind(n,48516))}],"image/png":["Image",function(){return n.e(172).then(n.bind(n,87408))}],"image/jpeg":["Image",function(){return n.e(172).then(n.bind(n,87408))}],"image/bmp":["Image",function(){return n.e(172).then(n.bind(n,87408))}],"image/webp":["Image",function(){return n.e(172).then(n.bind(n,87408))}],"image/svg+xml":["Image",function(){return n.e(172).then(n.bind(n,87408))}],"image/gif":["GIF",function(){return n.e(2203).then(n.bind(n,20575))}],"audio/midi":["Audio",function(){return n.e(293).then(n.bind(n,89655))}],"audio/mpeg":["Audio",function(){return n.e(293).then(n.bind(n,89655))}],"audio/webm":["Audio",function(){return n.e(293).then(n.bind(n,89655))}],"audio/ogg":["Audio",function(){return n.e(293).then(n.bind(n,89655))}],"audio/wav":["Audio",function(){return n.e(293).then(n.bind(n,89655))}],"video/mp4":["Video",function(){return n.e(330).then(n.bind(n,69146))}],"video/quicktime":["Video",function(){return n.e(330).then(n.bind(n,69146))}],"video/mov":["Video",function(){return n.e(330).then(n.bind(n,69146))}],"video/webm":["Video",function(){return n.e(330).then(n.bind(n,69146))}],"video/ogg":["Video",function(){return n.e(330).then(n.bind(n,69146))}],"video/x-ms-wmv":["Video",function(){return n.e(330).then(n.bind(n,69146))}],"video/x-msvideo":["Video",function(){return n.e(330).then(n.bind(n,69146))}],"application/zip":["Archive",function(){return n.e(1061).then(n.bind(n,1121))}],"application/x-tar":["Archive",function(){return n.e(1061).then(n.bind(n,1121))}],"application/x-gtar":["Archive",function(){return n.e(1061).then(n.bind(n,1121))}],"application/x-7z-compressed":["Archive",function(){return n.e(1061).then(n.bind(n,1121))}],"application/x-apple-diskimage":["Archive",function(){return n.e(1061).then(n.bind(n,1121))}],"application/vnd.rar":["Archive",function(){return n.e(1061).then(n.bind(n,1121))}],"application/dmg":["Executable",function(){return n.e(2526).then(n.bind(n,10824))}],"text/css":["Source Code",function(){return n.e(654).then(n.bind(n,35596))}],"text/html":["Source Code",function(){return n.e(654).then(n.bind(n,35596))}],"application/javascript":["Source Code",function(){return n.e(654).then(n.bind(n,35596))}],"application/octet-stream":["Binary file",function(){return n.e(5242).then(n.bind(n,25242))}],"application/invision.prototype":["Prototype",function(){return n.e(5242).then(n.bind(n,25242))}],"application/sketch":["Sketch",function(){return n.e(4919).then(n.bind(n,56369))}],folder:["Folder",function(){return n.e(5048).then(n.bind(n,59985))}]},g=function(e){return e?void 0:"allow-downloads allow-forms allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts"},y=function(e){return function(t){t.preventDefault(),t.stopPropagation(),e()}},b=function(){return"undefined"!=typeof IntersectionObserver},w=function(e){return new Promise((function(t){return setTimeout(t,e)}))},k=function(){var e=(0,o.Z)(u().mark((function e(t){var n,r,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:2,r=o.length>2&&void 0!==o[2]?o[2]:500,e.prev=2,e.next=5,t();case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),!("ChunkLoadError"===e.t0.name&&n>0)){e.next=16;break}return e.next=13,w(r);case 13:return e.abrupt("return",k(t,n-1,r));case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},75411:(e,t,n)=>{"use strict";n.d(t,{B1:()=>l,Ip:()=>c,Ue:()=>d,tZ:()=>u,tl:()=>a});var r="undefined"!=typeof window&&"performance"in window&&["measure","clearMeasures","clearMarks","getEntriesByName","getEntriesByType"].every((function(e){return!!performance[e]})),o=function(e,t){return"".concat(t,":").concat(e)},i=function(e,t){return"time-to-".concat(t,":").concat(e)},a=function(e){if(r){var t=performance.getEntriesByType("mark").filter((function(t){return t.name.includes(e)}));t.forEach((function(e){return performance.clearMarks(e.name)}))}},c=function(e){r&&performance.getEntriesByType("measure").filter((function(t){return t.name.includes(e)})).forEach((function(e){return performance.clearMeasures(e.name)}))},s=function(e,t){if(r){var n=o(e,t),i=performance.getEntriesByName(n);return i.length>0?i[0]:void 0}},u=function(e,t){if(r){var n=i(e,t),o=performance.getEntriesByName(n);return o.length>0?o[0]:void 0}},l=function(e,t){if(r){var n=o(e,t);performance.mark(n)}},d=function(e,t){if(r){var n=i(e,t);if(!u(e,t)){var o=s(e,"pending"),a=s(e,t);o&&a&&performance.measure(n,o.name,a.name)}}}},73523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(9249),o=n(87371),i=n(45754),a=n(11987),c=n(95058),s=n(2784),u=n(11100),l=n(61417),d=n(56666);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var f=function(e){(0,i.Z)(a,e);var t=p(a);function a(){return(0,r.Z)(this,a),t.apply(this,arguments)}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){null===a.CardContent&&(this.props.importer||a.moduleImporter)(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.appearance,r=e.data,o=e.isSelected,i=e.onClick,c=e.onResolve,u=e.testId,l=e.showActions,d=e.inlinePreloaderStyle;if(!r)throw new Error("@atlaskit/smart-cards: you are trying to render a card with data, but does not provide any");return a.CardContent?s.createElement(a.CardContent,{id:t,inlinePreloaderStyle:d,appearance:n,data:r,isSelected:o,onClick:i,onResolve:c,testId:u,showActions:l}):s.createElement("div",{"data-card-with-data":!0})}}],[{key:"moduleImporter",value:function(e){Promise.all([n.e(880),n.e(5297),n.e(8635)]).then(n.bind(n,2382)).then((function(t){a.CardContent=t.CardWithDataContent,e.forceUpdate()}))}}]),a}(s.PureComponent);(0,d.Z)(f,"CardContent",null);var h=n(96234),v=n(98022),m=n.n(v),g=n(1725),y=n(75411),b=n(80589),w=n(13949),k=n(86155),E=n(10770),x=(0,s.lazy)((function(){return(0,E.wE)((function(){return Promise.all([n.e(880),n.e(5297),n.e(359),n.e(2909)]).then(n.bind(n,10776))}))}));function O(e){var t=(0,s.useState)((function(){return e.id?e.id:m()()})),n=(0,h.Z)(t,1)[0];(0,s.useEffect)((function(){return function(){(0,y.tl)(n),(0,y.Ip)(n)}}),[n]);var r=e.url,o=e.appearance,i=e.isSelected,a=e.isFrameVisible,c=e.frameStyle,u=e.onClick,l=e.container,d=e.onResolve,p=e.onError,f=e.testId,v=e.showActions,E=e.showServerActions,O=e.inheritDimensions,C=e.platform,T=e.embedIframeRef,A=e.embedIframeUrlType,_=e.inlinePreloaderStyle,P=e.createAnalyticsEvent,D=e.children,Z=e.ui,I=e.showHoverPreview,L=e.showAuthTooltip,M=e.analyticsEvents,R=e.placeholder,N=(0,s.useCallback)((function(e){e&&e.attributes&&(e.attributes.display||(e.attributes.display=o)),(0,g.vU)(e,P)}),[o,P]),j=(0,w.L)(null!=r?r:"",N,n),F=(0,s.useCallback)((function(e,t){var r={componentStack:t.componentStack};throw"ChunkLoadError"===e.name?j.operational.chunkloadFailedEvent({display:o,error:e,errorInfo:r}):"APIError"!==e.name&&j.ui.renderFailedEvent({display:o,id:n,error:e,errorInfo:r}),e}),[j.operational,j.ui,o,n]);if(!r)throw new Error("@atlaskit/smart-card: url property is missing.");var B={id:n,url:r,appearance:o,onClick:u,isSelected:i,isFrameVisible:a,frameStyle:c,dispatchAnalytics:N,container:l,onResolve:d,onError:p,testId:f,showActions:v,showServerActions:E,inheritDimensions:O,platform:C,embedIframeRef:T,embedIframeUrlType:A,inlinePreloaderStyle:_,ui:Z,showHoverPreview:I,showAuthTooltip:L,analyticsEvents:M,placeholder:R};return s.createElement(b.ErrorBoundary,{FallbackComponent:S,onError:F},s.createElement(s.Suspense,{fallback:s.createElement(k.E,B)},s.createElement(x,B,D)))}var S=function(){return null},C=n(14605),T=n(89274);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.Z)(e);if(t){var o=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var _=function(e){(0,i.Z)(n,e);var t=A(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,o.Z)(n,[{key:"render",value:function(){var e=(0,E.K8)(this.props)?s.createElement(f,this.props):s.createElement(O,this.props);return this.props.intl?e:s.createElement(C.Z,{locale:"en"},e)}}]),n}(s.PureComponent),P=(0,u.Z)(g.Do)((0,l.Z)()((0,T.ZP)(_,{enforceContext:!1})))},86155:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,U:()=>i});var r=n(2784),o=n(3024),i="smart-link-loading-placeholder",a=function(e){var t=e.isSelected,n=e.url,a=e.placeholder;return r.createElement(o.O,{key:"lazy-render-key",testId:"lazy-render-placeholder","data-trello-do-not-use-override":"lazy-render-placeholder-trello",isSelected:t,link:n,className:i,placeholder:a})}},67106:(e,t,n)=>{"use strict";n.d(t,{s:()=>f});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(32803);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var f=function(e){(0,a.Z)(n,e);var t=p(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"messageCallback",(function(t){var n=e.props.embedIframeRef,r=n.current&&t.source===n.current.contentWindow,o="string"==typeof t.data;if(r&&o)try{var i=JSON.parse(t.data);"resize"===i.method&&"number"==typeof i.height&&e.onEmbedHeightChange({height:i.height})}catch(e){}})),(0,u.Z)((0,i.Z)(e),"onEmbedHeightChange",(function(t){(0,e.props.onHeightUpdate)(t.height+d.ZF)})),e}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.messageCallback)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.messageCallback)}},{key:"render",value:function(){return this.props.children}}]),n}(l.Component)},32803:(e,t,n)=>{"use strict";n.d(t,{Ee:()=>N,OP:()=>M,VY:()=>R,ZF:()=>Z,a1:()=>L,gM:()=>P,h4:()=>I,im:()=>D,ok:()=>O});var r,o,i,a,c,s,u,l,d,p,f,h,v,m,g,y,b=n(71171),w=n(11971),k=n(12883),E=n(68821),x=n(18116),O="media-card-frame",S="\n  border-radius: ".concat((0,k.E0)(),"px;\n"),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t="number"==typeof e?"px":"";return"\n    max-width: ".concat(e).concat(t,";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  ")},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t="number"==typeof e?"px":"";return"\n    width: ".concat(e).concat(t,";\n    height: ").concat(e).concat(t,";\n  ")};var A=function(e){return"\n  ".concat(S,"\n  ").concat(function(e){var t=e.minWidth;return t?"min-width: ".concat(t,"px;"):""}(e),"\n  ").concat(function(e){var t=e.maxWidth;return t?"max-width: ".concat(t,"px; margin: 0 auto;"):"margin: 0 auto;"}(e),"\n  ").concat((n=e,r=n.isInteractive,o=n.frameStyle,r?"\n      &:hover {\n        ".concat("hide"!==o&&_,"\n      }\n      &:active {\n        background-color: ","var(--ds-background-selected, ".concat(E.BA,")"),";\n      }\n    "):""),"\n  ").concat(function(e){var t=e.frameStyle;return"show"===t?_:""}(e),"\n  display: inline-flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  font-family: ").concat((0,k.I8)(),";\n  width: 100%;\n  user-select: none;\n  line-height: initial;\n  transition: background 0.3s;\n  position: relative;\n  ").concat((t=e,t.inheritDimensions?"height: 100%;":"height: ".concat((0,x.gs)(54))),";\n  ").concat(function(e){var t=e.isSelected,n=e.frameStyle;return t&&"hide"!==n?"\n    ".concat(_,"\n    &::after {\n      cursor: pointer;\n      box-shadow: 0 0 0 3px ","var(--ds-border-selected, ".concat(E.vP,")"),";\n      content: '';\n      outline: none;\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      left: 0;\n      ").concat(S,"\n    }\n    "):t&&"hide"===n?"\n        box-shadow: 0 0 0 3px ".concat("var(--ds-border-selected, ".concat(E.vP,")"),";\n        ",S,"\n      "):""}(e),"\n\n  &:after {\n    content: '';\n    background: transparent;\n    transition: background 0.3s, box-shadow 0.3s;\n    position: absolute;\n    width: calc(100% + ","var(--ds-space-200, 16px)",");\n    height: calc(100% + ","var(--ds-space-100, 8px)",");\n    left: calc(-1 * ","var(--ds-space-100, 8px)",");\n    ").concat(S,"\n  }\n");var t,n,r,o},_="\n  background-color: ".concat("var(--ds-background-neutral-subtle, ".concat(E.gt,")"),";\n\n  &:after {\n    background: ","var(--ds-background-neutral, ".concat(E.gt,")")," !important;\n  }\n  .embed-header {\n    opacity: 1;\n  }");var P=w.Z.div(r||(r=(0,b.Z)(["\n  "," &:hover {\n    text-decoration: none;\n  }\n"])),(function(e){return A(e)})),D=w.Z.div(o||(o=(0,b.Z)(["\n  ",";\n  margin-top: 10px;\n"])),(function(e){return A(e)})),Z=32,I=w.Z.div(i||(i=(0,b.Z)(["\n  height: ","px;\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  color: ",";\n  opacity: 0;\n  transition: 300ms opacity cubic-bezier(0.15, 1, 0.3, 1);\n"])),Z,"var(--ds-icon, ".concat(E.hH,")")),L=w.Z.div(a||(a=(0,b.Z)(["\n  ","\n  ","\n  "," margin-right: 4px;\n"])),S,T(16),(function(e){return e.isPlaceholder?"\n      background-color: ".concat("var(--ds-skeleton, ".concat(E.gt,")"),";\n    "):""})),M=w.Z.div(c||(c=(0,b.Z)(["\n  "," color: ",";\n  font-size: 12px;\n  line-height: 16px;\n  ",";\n"])),(function(e){return e.isPlaceholder?"\n        ".concat(S,"\n        width: 125px;\n        height: 12px;\n        background-color: ","var(--ds-skeleton, ".concat(E.gt,")"),";\n      "):""}),"var(--ds-text-subtlest, ".concat(E.hH,")"),C("none")),R=w.Z.div(s||(s=(0,b.Z)(["\n  ","\n  ","\n  background-color: ",";\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  transition: box-shadow 0.3s;\n\n  > .calc-height > div > div {\n    left: unset !important;\n    width: unset !important;\n    height: unset !important;\n    position: initial !important;\n    padding-bottom: unset !important;\n  }\n  > .embed-preview > div {\n    margin: 0 auto;\n  }\n\n  ",";\n\n  ","\n\n  ","\n"])),S,"","var(--ds-surface-raised, white)",(function(e){return e.isInteractive?"\n          .".concat(O,":hover & {\n            box-shadow: ","var(--ds-shadow-overlay, 0 4px 8px -2px rgba(23, 43, 77, 0.32), 0 0 1px rgba(23, 43, 77, 0.25))",";\n          }\n        "):""}),(function(e){return e.allowScrollBar?"overflow: auto;":"overflow: hidden;"}),(function(e){return"hide"===e.frameStyle?"height: 100%;":"\n        height: calc(100% - ".concat("var(--ds-space-400, 32px)",");\n        top: ","var(--ds-space-400, 32px)",";\n      ")})),N=w.Z.img(u||(u=(0,b.Z)(["\n  ","\n  ","\n\n  /* hide the alt text when the image cannot be found */\n  overflow: hidden;\n"])),(function(e){var t=e.size;return T(t)}),S);w.Z.div(l||(l=(0,b.Z)(["\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  padding: 8px 12px 12px 12px;\n"]))),w.Z.div(d||(d=(0,b.Z)(["\n  color: ",";\n  font-size: 16px;\n  font-weight: 500;\n  line-height: ",";\n  max-height: ","px;\n  overflow: hidden;\n"])),"var(--ds-text, ".concat(E.xA,")"),1.25,80),w.Z.div(p||(p=(0,b.Z)(["\n  margin-top: 4px;\n  color: ",";\n  font-size: 12px;\n  font-weight: normal;\n  line-height: ",";\n  ",";\n"])),"var(--ds-text-subtlest, ".concat(E.hH,")"),16/12,C("100%")),w.Z.div(f||(f=(0,b.Z)(["\n  margin-top: 7px;\n  color: ",";\n  font-size: 12px;\n  font-weight: normal;\n  line-height: ",";\n  max-height: ","px;\n  overflow: hidden;\n"])),"var(--ds-text, ".concat(E.q2,")"),1.5,54),w.Z.div(h||(h=(0,b.Z)(["\n  margin-top: 4px;\n"]))),w.Z.div(v||(v=(0,b.Z)(["\n  ","\n  ","\n  float: right;\n  margin: 4px 0 12px 12px;\n  background-color: ",";\n  background-image: url(",");\n  background-size: cover;\n"])),S,T(48),"var(--ds-skeleton, ".concat(E.gt,")"),(function(e){return e.src})),w.Z.div(m||(m=(0,b.Z)(["\n  margin-top: 8px;\n"]))),w.Z.div(g||(g=(0,b.Z)(["\n  margin-top: 8px;\n  text-align: right;\n\n  > * {\n    margin-top: 4px;\n  }\n\n  > * + * {\n    margin-left: 4px;\n  }\n"]))),w.Z.div(y||(y=(0,b.Z)(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  pointer-events: none;\n  /* z-index has to be 1 higher than the number of avatars in the avatar stack */\n  z-index: ",";\n"])),7)},78349:(e,t,n)=>{"use strict";n.d(t,{R:()=>y});var r,o,i=n(2784),a=n(54355),c=n(71171),s=n(11971),u=n(68821),l=n(12883),d=n(1370),p="#262B31",f="\n  cursor: pointer;\n  box-shadow: 0 0 0 2px ".concat("var(--ds-border-selected, ".concat(u.vP,")"),";\n  outline: none;\n  user-select: none;\n  &, :hover, :focus, :active {\n    text-decoration: none;\n  }\n"),h=function(e){return"\n  line-height: 16px;\n  padding: 1px 0.24em 2px 0.24em;\n  ".concat(e.withoutBackground?"padding-left: 0; margin-left:-2px;":"","\n  display: inline;\n  box-decoration-break: clone;\n  border-radius: ").concat((0,l.E0)(),"px;\n  color: ").concat((0,d.Z)({light:"var(--ds-link, ".concat(u.AX,")"),dark:"var(--ds-link, #4794FF)"})(e),";\n  background-color: ").concat(e.withoutBackground?"":(0,d.Z)({light:"var(--ds-surface-raised, white)",dark:"var(--ds-surface-raised, ".concat(p,")")})(e),";\n  ").concat(e.withoutBackground?"":(0,d.Z)({light:"box-shadow: ".concat("var(--ds-shadow-raised, ".concat("0 1px 1px ".concat(u.Nx,", 0 0 1px 1px ").concat(u.bt),")"),";"),dark:"box-shadow: ".concat("var(--ds-shadow-raised, ".concat("0 1px 1px ".concat(u.Pl,", 0 0 1px 1px ").concat(u.JU),")"),";")})(e),"\n  ").concat(function(e){var t=e.isSelected;return t?f:"user-select: text"}(e),";\n  transition: 0.1s all ease-in-out;\n  -moz-user-select: none;\n")},v=s.Z.a(r||(r=(0,c.Z)(["\n  ","\n  ","\n"])),h,(function(e){var t=e.isInteractive;return t?"\n      :hover {\n        background-color: ".concat((0,d.Z)({light:"var(--ds-background-neutral-subtle-hovered, ".concat(u.IR,")"),dark:"var(--ds-background-neutral-subtle-hovered, ".concat(p,")")}),";\n      }\n      :active {\n        background-color: ").concat((0,d.Z)({light:"var(--ds-background-selected, ".concat(u.BA,")"),dark:"var(--ds-background-selected, ".concat(p,")")}),";\n      }\n      :focus {\n        ").concat(f,"\n      }\n    "):""}));v.displayName="WrapperAnchor";var m=s.Z.span(o||(o=(0,c.Z)(["\n  ","\n"])),h);m.displayName="WrapperSpan";var g=n(71880),y=function(e){var t=e.isSelected,n=e.children,r=e.onClick,o=e.link,c=e.withoutBackground,s=e.testId,u=e.className,l=(0,i.useCallback)((function(e){r&&(e.preventDefault(),e.stopPropagation(),r(e))}),[r]),d=(0,i.useCallback)((function(e){" "!==e.key&&"Enter"!==e.key||r&&(e.preventDefault(),e.stopPropagation(),r(e))}),[r]),p=(0,g.Z)(),f=Boolean(r),h=o||r?v:m;return i.createElement(h,{theme:(0,a.m)(),href:o,withoutBackground:c,isSelected:t,isInteractive:f,tabIndex:f?0:void 0,role:f?"button":void 0,onClick:l,onMouseDown:p,onKeyPress:d,"data-testid":s,className:u},n)}},3024:(e,t,n)=>{"use strict";n.d(t,{O:()=>p});var r=n(7896),o=n(9249),i=n(87371),a=n(45754),c=n(11987),s=n(95058),u=n(2784),l=n(78349);function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var p=function(e){(0,a.Z)(n,e);var t=d(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"render",value:function(){return u.createElement(l.R,(0,r.Z)({withoutBackground:!0},this.props),this.props.placeholder||this.props.link)}}]),n}(u.PureComponent)},18116:(e,t,n)=>{"use strict";n.d(t,{br:()=>a,gs:()=>i,mq:()=>c});var r=n(12883);const o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.literal,r=t.overlap,o=n?e:["&"].concat(e);function i(e){if("object"!=typeof e||null==e)return[];if(Array.isArray(e))return e.map(i);var t={},a={},c={};return Object.keys(e).forEach((function(s){var u=e[s];if(!Array.isArray(u)&&n&&(u=[u]),(n||Array.isArray(u))&&38!==s.charCodeAt(0)){var l=void 0;u.forEach((function(e,i){if((!r||l!==e)&&null!=e)if(l=e,0!==i||n)if(void 0===t[o[i]]){var a;t[o[i]]=((a={})[s]=e,a)}else t[o[i]][s]=e;else c[s]=e}))}else"object"==typeof u?a[s]=i(u):c[s]=u})),o.forEach((function(e){t[e]&&(c[e]=t[e])})),Object.assign(c,a),c}return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(i)}};var i=function(e){return"".concat((0,r.ww)()*e,"px")},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"".concat((0,r.E0)()*e,"px")},c=o(["@media(min-width: 576px)"])},11100:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var r=n(7896),o=n(56666),i=n(59740),a=n(2784),c=n(68079),s=n(9249),u=n(87371),l=n(80753),d=n(45754),p=n(11987),f=n(95058),h=n(13980),v=n.n(h),m=n(46674);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,p.Z)(this,n)}}var y={getAtlaskitAnalyticsContext:v().func,getAtlaskitAnalyticsEventHandlers:v().func},b=function(){return[]},w=function(e){(0,d.Z)(n,e);var t=g(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this,e),(0,o.Z)((0,l.Z)(r),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:r.getAnalyticsContext}})),(0,o.Z)((0,l.Z)(r),"getAnalyticsContext",(function(){var e=r.props.data,t=r.context.getAtlaskitAnalyticsContext,n=void 0===t?b:t;return[].concat((0,c.Z)(n()),[e])})),(0,o.Z)((0,l.Z)(r),"getAnalyticsEventHandlers",(function(){var e=r.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?b:e)()})),r.contextValue={getAtlaskitAnalyticsContext:r.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:r.getAnalyticsEventHandlers},r}return(0,u.Z)(n,[{key:"render",value:function(){var e=this.props.children;return a.createElement(m.Z.Provider,{value:this.contextValue},e)}}]),n}(a.Component);(0,o.Z)(w,"contextTypes",y),(0,o.Z)(w,"childContextTypes",y);const k=w;var E=n(68168),x=n(29556);const O=function(e){var t=e.data,n=e.children,r=(0,x.V)(t),o=(0,E.O)(),i=(0,a.useCallback)((function(){return[].concat((0,c.Z)(o.getAtlaskitAnalyticsContext()),[r.current])}),[o,r]),s=(0,a.useMemo)((function(){return{getAtlaskitAnalyticsContext:i,getAtlaskitAnalyticsEventHandlers:o.getAtlaskitAnalyticsEventHandlers}}),[o,i]);return a.createElement(m.Z.Provider,{value:s},n)};var S,C=n(34406);const T=null!=C&&null!==(S=C.env)&&void 0!==S&&S.ANALYTICS_NEXT_MODERN_CONTEXT?O:k;var A=["analyticsContext"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const D=function(e){return function(t){var n=(0,a.forwardRef)((function(n,o){var c=n.analyticsContext,s=(0,i.Z)(n,A),u=(0,a.useMemo)((function(){return P(P({},e),c)}),[c]);return a.createElement(T,{data:u},a.createElement(t,(0,r.Z)({},s,{ref:o})))}));return n.displayName="WithAnalyticsContext(".concat(t.displayName||t.name,")"),n}}},61417:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7896),o=n(2784),i=n(71588),a=n(56666),c=n(86522);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=(0,o.forwardRef)((function(n,s){var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=(0,i._)().createAnalyticsEvent,r=(0,o.useRef)({}),s=(0,o.useMemo)((function(){var o=r.current;return Object.keys(o).filter((function(t){return!(t in e)})).forEach((function(e){return delete o[e]})),Object.keys(e).reduce((function(r,i){var s=e[i];if(!["object","function"].includes((0,c.Z)(s)))return r;var l=t[i];if(i in o&&o[i].eventCreator===s&&o[i].propValue===l)return u(u({},r),{},(0,a.Z)({},i,o[i].wrappedCallback));var d=function(){var e="function"==typeof s?s(n,t):n(s);if(l&&"function"==typeof l){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];l.apply(void 0,o.concat([e]))}};return o[i]={eventCreator:s,wrappedCallback:d,propValue:l},u(u({},r),{},(0,a.Z)({},i,d))}),{})}),[e,t,n,r]);return{patchedEventProps:s}}(e,n),d=l.patchedEventProps,p=(0,i._)().createAnalyticsEvent;return o.createElement(t,(0,r.Z)({},n,d,{createAnalyticsEvent:p,ref:s}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}}},68168:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});var r=n(2784),o=n(46674),i=function(){return(0,r.useContext)(o.Z)}},71588:(e,t,n)=>{"use strict";n.d(t,{_:()=>w});var r=n(31118),o=n(68079),i=n(9249),a=n(87371),c=n(80753),s=n(93069),u=n(45754),l=n(11987),d=n(95058),p=n(56666),f=n(86522);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,p.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){function e(t){var n=this;(0,i.Z)(this,e),(0,p.Z)(this,"_isAnalyticsEvent",!0),(0,p.Z)(this,"clone",(function(){return new e({payload:v({},n.payload)})})),this.payload=t.payload}return(0,a.Z)(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===(0,f.Z)(e)&&(this.payload=v(v({},this.payload),e)),this}}]),e}();function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var y=function(e){(0,u.Z)(n,e);var t=g(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,p.Z)((0,c.Z)(r),"_isUIAnalyticsEvent",!0),(0,p.Z)((0,c.Z)(r),"clone",(function(){return r.hasFired?null:new n({context:(0,o.Z)(r.context),handlers:(0,o.Z)(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})})),(0,p.Z)((0,c.Z)(r),"fire",(function(e){r.hasFired||(r.handlers.forEach((function(t){return t((0,c.Z)(r),e)})),r.hasFired=!0)})),r.context=e.context||[],r.handlers=e.handlers||[],r.hasFired=!1,r}return(0,a.Z)(n,[{key:"update",value:function(e){return this.hasFired?this:(0,s.Z)((0,d.Z)(n.prototype),"update",this).call(this,e)}}]),n}(m),b=n(68168);function w(){var e=(0,b.O)();return{createAnalyticsEvent:(0,r.vl)((function(t){return new y({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}},29556:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(2784),o=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t}},68821:(e,t,n)=>{"use strict";n.d(t,{$H:()=>i,AX:()=>m,BA:()=>d,Dw:()=>H,IR:()=>b,JU:()=>q,M5:()=>v,Mx:()=>T,N0:()=>y,Nx:()=>M,Pl:()=>G,Sk:()=>B,TG:()=>_,Tx:()=>F,VG:()=>R,VY:()=>h,WA:()=>x,YC:()=>g,Z3:()=>s,bt:()=>L,cS:()=>c,fL:()=>K,gR:()=>a,gt:()=>w,hH:()=>S,iw:()=>O,jC:()=>u,kd:()=>I,mg:()=>A,mn:()=>U,n2:()=>E,nA:()=>z,oe:()=>j,os:()=>Z,q2:()=>P,rt:()=>o,tE:()=>p,uv:()=>k,vP:()=>f,xA:()=>D,xU:()=>W,zN:()=>C});var r=n(1370),o="#FF5630",i="#DE350B",a="#BF2600",c="#FFC400",s="#FFAB00",u="#FF991F",l="#36B37E",d="#DEEBFF",p="#B3D4FF",f="#4C9AFF",h="#2684FF",v="#0065FF",m="#0052CC",g="#0747A6",y="#FFFFFF",b="#F4F5F7",w="#EBECF0",k="#C1C7D0",E="#A5ADBA",x="#8993A4",O="#6B778C",S="#5E6C84",C="#505F79",T="#42526E",A="#344563",_="#253858",P="#172B4D",D="#091E42",Z="rgba(9, 30, 66, 0.04)",I="rgba(9, 30, 66, 0.08)",L="rgba(9, 30, 66, 0.13)",M="rgba(9, 30, 66, 0.25)",R="rgba(9, 30, 66, 0.31)",N="#B8C7E0",j="#9FB0CC",F="#8C9CB8",B="#67758F",z="#3B475C",U="#313D52",V="#283447",H="#1B2638",W="#0D1424",G="rgba(13, 20, 36, 0.85)",q="rgba(13, 20, 36, 0.89)",K=((0,r.Z)({light:"var(--ds-surface, ".concat(y,")"),dark:"var(--ds-surface, ".concat(H,")")}),(0,r.Z)({light:"var(--ds-background-selected, ".concat(d,")"),dark:"var(--ds-background-selected, ".concat(p,")")}),(0,r.Z)({light:"var(--ds-background-neutral-hovered, ".concat(w,")"),dark:"var(--ds-background-neutral-hovered, ".concat(z,")")}),(0,r.Z)({light:"var(--ds-surface-overlay, ".concat(y,")"),dark:"var(--ds-surface-overlay, ".concat(V,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(D,")"),dark:"var(--ds-text, ".concat(N,")")}));(0,r.Z)({light:"var(--ds-text, ".concat(P,")"),dark:"var(--ds-text, ".concat(N,")")}),(0,r.Z)({light:"var(--ds-text-selected, ".concat(m,")"),dark:"var(--ds-text-selected, ".concat(m,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(O,")"),dark:"var(--ds-text-subtlest, ".concat(F,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat("#7A869A",")"),dark:"var(--ds-text-subtlest, ".concat("#7988A3",")")}),(0,r.Z)({light:"var(--ds-text, ".concat(P,")"),dark:"var(--ds-text, ".concat(N,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(O,")"),dark:"var(--ds-text-subtlest, ".concat(F,")")}),(0,r.Z)({light:b,dark:V}),(0,r.Z)({light:"var(--ds-link, ".concat(m,")"),dark:"var(--ds-link, ".concat(f,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat(v,")"),dark:"var(--ds-link-pressed, ".concat(h,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat(g,")"),dark:"var(--ds-link-pressed, ".concat(f,")")}),(0,r.Z)({light:"var(--ds-border-focused, ".concat(f,")"),dark:"var(--ds-border-focused, ".concat(h,")")}),(0,r.Z)({light:"var(--ds-background-brand-bold, ".concat(m,")"),dark:"var(--ds-background-brand-bold, ".concat(f,")")}),(0,r.Z)({light:m,dark:f}),(0,r.Z)({light:"#00B8D9",dark:"#00C7E6"}),(0,r.Z)({light:"#6554C0",dark:"#998DD9"}),(0,r.Z)({light:o,dark:o}),(0,r.Z)({light:s,dark:s}),(0,r.Z)({light:l,dark:l})},54355:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,m:()=>a});var r=(0,n(80859).j)((function(){return{mode:"light"}})),o=r.Provider,i=r.Consumer,a=r.useTheme;const c={Provider:o,Consumer:i}},12883:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,GV:()=>r,I8:()=>u,JB:()=>s,MU:()=>o,oc:()=>i,ug:()=>l,ww:()=>c});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 8},s=function(){return 14},u=function(){return"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"},l={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}},80859:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var r=n(59740),o=n(2784),i=["children"];function a(e){var t=function(e,t){return e(t)},n=(0,o.createContext)(e);function a(e){return((0,o.useContext)(n)||t)(e)}return{Consumer:function(e){var t=e.children,n=a((0,r.Z)(e,i));return o.createElement(o.Fragment,null,t(n))},Provider:function(e){var r=(0,o.useContext)(n),i=e.value||t,a=(0,o.useCallback)((function(e){return i(r,e)}),[r,i]);return o.createElement(n.Provider,{value:a},e.children)},useTheme:a}}},1370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(12883);function o(e){if(e&&e.theme){if(r.GV in e.theme)return e.theme[r.GV];if("mode"in e.theme&&r.oc.includes(e.theme.mode))return e.theme}return{mode:r.MU}}function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}},50438:(e,t,n)=>{"use strict";n.d(t,{G:()=>r});var r=1e3},50838:(e,t,n)=>{"use strict";n.d(t,{q:()=>V});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(28165),p=n(95158),f=n(19532),h=(0,l.memo)((function(e){var t=e.children,n=e.testId,r=e.isBold,o=void 0!==r&&r,i=e.appearance,a=void 0===i?"default":i,c=e.maxWidth,s=void 0===c?200:c,u=e.style,d=o?"bold":"subtle",h=a in m[d]?a:"default",v="string"==typeof s?s:"".concat(s,"px"),y="string"==typeof s&&/%$/.test(s);return l.createElement(p.Z,{as:"span",display:"inlineFlex",backgroundColor:m[d][h],borderRadius:"normal",paddingInline:"space.050",position:"static",testId:n,overflow:"hidden",UNSAFE_style:{backgroundColor:null==u?void 0:u.backgroundColor,maxWidth:y?s:"100%"}},l.createElement(f.Z,{fontSize:"size.050",fontWeight:"bold",lineHeight:"lineHeight.100",textTransform:"uppercase",color:g[d][h],shouldTruncate:!0,UNSAFE_style:{color:null==u?void 0:u.color,maxWidth:y?"100%":"calc(".concat(v," - ","var(--ds-space-100, 8px)",")")},testId:n&&"".concat(n,"--text")},t))}));h.displayName="Lozenge";const v=h;var m={bold:{default:"neutral.bold",inprogress:"information.bold",moved:"warning.bold",new:"discovery.bold",removed:"danger.bold",success:"success.bold"},subtle:{default:"neutral",inprogress:"information",moved:"warning",new:"discovery",removed:"danger",success:"success"}},g={bold:{default:"inverse",inprogress:"inverse",moved:"warning.inverse",new:"inverse",removed:"inverse",success:"inverse"},subtle:{default:"subtle",inprogress:"information",moved:"warning",new:"discovery",removed:"danger",success:"success"}},y=n(7896),b=n(31118),w=n(68079),k=n(93069),E=n(86522);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=function(){function e(t){var n=this;(0,r.Z)(this,e),(0,u.Z)(this,"_isAnalyticsEvent",!0),(0,u.Z)(this,"clone",(function(){return new e({payload:O({},n.payload)})})),this.payload=t.payload}return(0,o.Z)(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===(0,E.Z)(e)&&(this.payload=O(O({},this.payload),e)),this}}]),e}();function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var T=function(e){(0,a.Z)(n,e);var t=C(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,u.Z)((0,i.Z)(o),"_isUIAnalyticsEvent",!0),(0,u.Z)((0,i.Z)(o),"clone",(function(){return o.hasFired?null:new n({context:(0,w.Z)(o.context),handlers:(0,w.Z)(o.handlers),payload:JSON.parse(JSON.stringify(o.payload))})})),(0,u.Z)((0,i.Z)(o),"fire",(function(e){o.hasFired||(o.handlers.forEach((function(t){return t((0,i.Z)(o),e)})),o.hasFired=!0)})),o.context=e.context||[],o.handlers=e.handlers||[],o.hasFired=!1,o}return(0,o.Z)(n,[{key:"update",value:function(e){return this.hasFired?this:(0,k.Z)((0,s.Z)(n.prototype),"update",this).call(this,e)}}]),n}(S),A=n(46674),_=function(){return(0,l.useContext)(A.Z)};function P(){var e=_();return{createAnalyticsEvent:(0,b.vl)((function(t){return new T({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=(0,l.forwardRef)((function(n,r){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=P().createAnalyticsEvent,r=(0,l.useRef)({}),o=(0,l.useMemo)((function(){var o=r.current;return Object.keys(o).filter((function(t){return!(t in e)})).forEach((function(e){return delete o[e]})),Object.keys(e).reduce((function(r,i){var a=e[i];if(!["object","function"].includes((0,E.Z)(a)))return r;var c=t[i];if(i in o&&o[i].eventCreator===a&&o[i].propValue===c)return Z(Z({},r),{},(0,u.Z)({},i,o[i].wrappedCallback));var s=function(){var e="function"==typeof a?a(n,t):n(a);if(c&&"function"==typeof c){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];c.apply(void 0,o.concat([e]))}};return o[i]={eventCreator:a,wrappedCallback:s,propValue:c},Z(Z({},r),{},(0,u.Z)({},i,s))}),{})}),[e,t,n,r]);return{patchedEventProps:o}}(e,n),i=o.patchedEventProps,a=P().createAnalyticsEvent;return l.createElement(t,(0,y.Z)({},n,i,{createAnalyticsEvent:a,ref:r}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R=function(e){return function(t){var n=M(M({},t),{},{eventType:"ui"});n.attributes||(n.attributes={}),n.attributes.packageName="@atlaskit/status",n.attributes.packageVersion="1.2.11",n.attributes.componentName="status";var r=e(n);return r.fire("fabric-elements"),r}},N=n(50438);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var F={neutral:"default",purple:"new",blue:"inprogress",red:"removed",yellow:"moved",green:"success"},B=(0,d.iv)({"& > *":{display:"inline-block !important",lineHeight:"16px"}}),z="undefined"!=typeof window&&/Version\/.* Chrome\/.*/.test(window.navigator.userAgent),U=function(e){(0,a.Z)(n,e);var t=j(n);function n(){var e;(0,r.Z)(this,n);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a)),(0,u.Z)((0,i.Z)(e),"hoverStartTime",0),(0,u.Z)((0,i.Z)(e),"handleMouseEnter",(function(t){e.hoverStartTime=Date.now()})),(0,u.Z)((0,i.Z)(e),"handleMouseLeave",(function(t){var n=e.props.onHover;Date.now()-e.hoverStartTime>=N.G&&n&&n(),e.hoverStartTime=0})),e}return(0,o.Z)(n,[{key:"componentWillUnmount",value:function(){this.hoverStartTime=0}},{key:"render",value:function(){var e=this.props,t=e.text,n=e.color,r=e.style,o=e.role,i=e.onClick;if(0===t.trim().length)return null;var a=F[n]||"default";return(0,d.tZ)("span",{css:z?B:void 0,className:"status-lozenge-span",onClick:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-node-type":"status","data-color":n,"data-style":r,role:o},(0,d.tZ)(v,{appearance:a,maxWidth:200},t))}}]),n}(l.PureComponent);(0,u.Z)(U,"displayName","StatusInternal");var V=I({onClick:function(e,t){var n=t.localId;return R(e)({action:"clicked",actionSubject:"statusLozenge",attributes:{localId:n}})},onHover:function(e,t){var n=t.localId;return R(e)({action:"hovered",actionSubject:"statusLozenge",attributes:{localId:n}})}})(U)},73603:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(28165),o=n(8375),i=n(18619),a=n(91503),c=n(54202),s=n(83288),u=function(e){return function(t){return(0,r.iv)({flex:"0 0 16px",height:"16px",width:"16px",margin:"var(--ds-space-050, 4px)".concat(" ","var(--ds-space-150, 12px)"," 0 0"),color:e?"var(--ds-icon-subtle, ".concat(a.Y8,")"):(0,c.Z)({light:"var(--ds-icon-success, ".concat(a.ak,")"),dark:"var(--ds-icon-success, ".concat(a.T5,")")})({theme:t}),"> span":{margin:"-8px"}})}};const l=function(e){var t=e.appearance,n=e.children,a=e.contentRef,c=e.placeholder,l=e.showPlaceholder,d=e.dataAttributes,p=(0,s.m)(),f=(0,r.tZ)("span",{contentEditable:!1,css:u(l)(p)},(0,r.tZ)(o.Z,{label:"Decision",size:"large"}));return(0,r.tZ)(i.Z,{appearance:t,contentRef:a,icon:f,placeholder:c,showPlaceholder:l,itemType:"DECISION",dataAttributes:d,theme:p},n)}},18619:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r=n(7896),o=n(9249),i=n(87371),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(28165),p=n(54202),f=n(91503),h=n(16431);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var m=(0,d.iv)({margin:0,wordWrap:"break-word",minWidth:0,flex:"1 1 auto"}),g=(0,d.iv)({display:"flex",flexDirection:"row",padding:"6px 3px",position:"relative"}),y=function(e){return(0,d.iv)({display:"flex",flexDirection:"row",margin:"var(--ds-space-100, 8px)".concat(" 0 0 0"),padding:"var(--ds-space-100, 8px)",paddingLeft:"var(--ds-space-150, 12px)",borderRadius:"".concat((0,h.E0)(),"px"),backgroundColor:(0,p.Z)({light:"var(--ds-background-neutral, ".concat(f.os,")"),dark:"var(--ds-background-neutral, ".concat(f.H8,")")})({theme:e}),position:"relative",".decision-item":{cursor:"initial"}})},b=function(e){return(0,d.iv)({margin:"0 0 0 ".concat(e,"px"),position:"absolute",color:"var(--ds-text-subtlest, ".concat(f.iw,")"),pointerEvents:"none",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",maxWidth:"calc(100% - 50px)"})},w=function(e){(0,a.Z)(n,e);var t=v(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"renderPlaceholder",value:function(){var e=this.props,t=e.children,n=e.placeholder,r=e.showPlaceholder,o=e.itemType;if(!r||!n||t)return null;var i=(0,h.ww)()*("TASK"===o?3:3.5);return(0,d.tZ)("span",{"data-component":"placeholder",css:b(i),contentEditable:!1},n)}},{key:"renderMessageAppearance",value:function(){var e=this.props,t=e.contentRef,n=e.children,o=e.icon,i=e.itemType,a=e.checkBoxId,c=e.dataAttributes,s=e.theme;return"TASK"===i?(0,d.tZ)("div",{css:g,id:"".concat(a,"-wrapper")},o,this.renderPlaceholder(),(0,d.tZ)("div",(0,r.Z)({"data-component":"content",css:m,ref:t},c),n)):"DECISION"===i?(0,d.tZ)("div",{css:y(s),"data-decision-wrapper":"true"},o,this.renderPlaceholder(),(0,d.tZ)("div",(0,r.Z)({"data-component":"content",css:m,ref:t},c),n)):null}},{key:"render",value:function(){return this.renderMessageAppearance()}}]),n}(l.PureComponent);(0,u.Z)(w,"defaultProps",{appearance:"inline"})},19222:(e,t,n)=>{"use strict";n.d(t,{Z:()=>H});var r=n(9249),o=n(87371),i=n(80753),a=n(45754),c=n(11987),s=n(95058),u=n(56666),l=n(2784),d=n(71171),p=n(28165),f=n(18619),h=n(7896),v=n(31118),m=n(68079),g=n(93069),y=n(86522);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(){function e(t){var n=this;(0,r.Z)(this,e),(0,u.Z)(this,"_isAnalyticsEvent",!0),(0,u.Z)(this,"clone",(function(){return new e({payload:w({},n.payload)})})),this.payload=t.payload}return(0,o.Z)(e,[{key:"update",value:function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"===(0,y.Z)(e)&&(this.payload=w(w({},this.payload),e)),this}}]),e}();function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var x=function(e){(0,a.Z)(n,e);var t=E(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,u.Z)((0,i.Z)(o),"_isUIAnalyticsEvent",!0),(0,u.Z)((0,i.Z)(o),"clone",(function(){return o.hasFired?null:new n({context:(0,m.Z)(o.context),handlers:(0,m.Z)(o.handlers),payload:JSON.parse(JSON.stringify(o.payload))})})),(0,u.Z)((0,i.Z)(o),"fire",(function(e){o.hasFired||(o.handlers.forEach((function(t){return t((0,i.Z)(o),e)})),o.hasFired=!0)})),o.context=e.context||[],o.handlers=e.handlers||[],o.hasFired=!1,o}return(0,o.Z)(n,[{key:"update",value:function(e){return this.hasFired?this:(0,g.Z)((0,s.Z)(n.prototype),"update",this).call(this,e)}}]),n}(k),O=n(46674),S=function(){return(0,l.useContext)(O.Z)};function C(){var e=S();return{createAnalyticsEvent:(0,v.vl)((function(t){return new x({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){var n=(0,l.forwardRef)((function(n,r){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=C().createAnalyticsEvent,r=(0,l.useRef)({}),o=(0,l.useMemo)((function(){var o=r.current;return Object.keys(o).filter((function(t){return!(t in e)})).forEach((function(e){return delete o[e]})),Object.keys(e).reduce((function(r,i){var a=e[i];if(!["object","function"].includes((0,y.Z)(a)))return r;var c=t[i];if(i in o&&o[i].eventCreator===a&&o[i].propValue===c)return A(A({},r),{},(0,u.Z)({},i,o[i].wrappedCallback));var s=function(){var e="function"==typeof a?a(n,t):n(a);if(c&&"function"==typeof c){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];c.apply(void 0,o.concat([e]))}};return o[i]={eventCreator:a,wrappedCallback:s,propValue:c},A(A({},r),{},(0,u.Z)({},i,s))}),{})}),[e,t,n,r]);return{patchedEventProps:o}}(e,n),i=o.patchedEventProps,a=C().createAnalyticsEvent;return l.createElement(t,(0,h.Z)({},n,i,{createAnalyticsEvent:a,ref:r}))}));return n.displayName="WithAnalyticsEvents(".concat(t.displayName||t.name,")"),n}};var P,D,Z,I=(P="fabric-elements",function(e){return function(t){var n=t(e),r=n.clone();return r&&r.fire(P),n}}),L=n(54202),M=n(83288),R=n(91503),N=0,j=function(e){return function(t){return(0,p.iv)(D||(D=(0,d.Z)(["\n    flex: 0 0 16px;\n    width: 16px;\n    height: 16px;\n    position: relative;\n    align-self: start;\n    margin: "," "," 0 0;\n\n    & > input[type='checkbox'] {\n      width: 16px;\n      height: 16px;\n      z-index: 1;\n      cursor: pointer;\n      position: absolute;\n      outline: none;\n      margin: 0;\n      opacity: 0;\n      left: 0;\n      top: 50%;\n      transform: translateY(-50%);\n\n      + div {\n        box-sizing: border-box;\n        display: inline;\n        width: 100%;\n        cursor: pointer;\n\n        &::after {\n          background: ",";\n          background-size: 16px;\n          border-radius: 3px;\n          border-style: solid;\n          border-width: 1px;\n          border-color: ",";\n          box-sizing: border-box;\n          content: '';\n          height: 16px;\n          left: 50%;\n          position: absolute;\n          transition: border-color 0.2s ease-in-out;\n          top: 8px;\n          width: 16px;\n          transform: translate(-50%, -50%);\n        }\n      }\n      ","\n\n      &:not([disabled]):hover + div::after {\n        background: ",";\n        transition: border 0.2s ease-in-out;\n      }\n      &[disabled] + div {\n        opacity: 0.5;\n        cursor: default;\n      }\n      &:checked {\n        + div::after {\n          background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDA1MkNDIj48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n            no-repeat 0 0;\n          background-size: 16px;\n          border: 0;\n          border-color: transparent;\n        }\n        &:not([disabled]):hover + div::after {\n          background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDc0N0E2Ij48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n            no-repeat 0 0;\n          background-size: 16px;\n        }\n      }\n    }\n  "])),"var(--ds-space-050, 4px)","var(--ds-space-100, 8px)",(0,L.Z)({light:"var(--ds-background-input, ".concat(R.N0,")"),dark:"var(--ds-background-input, ".concat(R.Sk,")")})({theme:t}),(0,L.Z)({light:"var(--ds-border, ".concat(R.WA,")"),dark:"var(--ds-border, ".concat(R.X_,")")})({theme:t}),e?(0,p.iv)(Z||(Z=(0,d.Z)(["\n            &:focus-visible + div:after {\n              outline: 2px solid\n                ",";\n            }\n          "])),(0,L.Z)({light:"var(--ds-border-focused, ".concat(R.M5,")"),dark:"var(--ds-border-focused, ".concat(R.tE,")")})({theme:t})):"",(0,L.Z)({light:"var(--ds-background-input, ".concat(R.gt,")"),dark:"var(--ds-background-input, ".concat(R.tE,")")})({theme:t}))}};const F=_()((function(e){var t=e.appearance,n=e.isDone,r=e.isRenderer,o=e.contentRef,i=e.children,a=e.placeholder,c=e.showPlaceholder,s=e.disabled,u=e.dataAttributes,d=e.taskId,h=e.onChange,v=e.createAnalyticsEvent,m=(0,M.m)(),g=(0,l.useMemo)((function(){return"".concat(d,"-").concat(N++)}),[d]),y=(0,l.useMemo)((function(){return function(e){var t=!n;h&&h(d,t),v&&I({action:t?"checked":"unchecked",actionSubject:"action",eventType:"ui",attributes:{localId:d}})(v)}}),[h,d,n,v]),b=(0,l.useMemo)((function(){return function(e){"Enter"===e.key&&y(e)}}),[y]),w=(0,p.tZ)("span",{css:j(r)(m),contentEditable:!1},(0,p.tZ)("input",{id:g,"aria-labelledby":"".concat(g,"-wrapper"),name:g,type:"checkbox",onChange:y,checked:!!n,disabled:!!s,suppressHydrationWarning:!0,onKeyPress:b}),(0,p.tZ)("div",null));return(0,p.tZ)(f.Z,{appearance:t,contentRef:o,icon:w,placeholder:a,showPlaceholder:c,itemType:"TASK",dataAttributes:u,checkBoxId:g,theme:m},i)}));var B=n(19840);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var H=function(e){(0,a.Z)(n,e);var t=V(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,u.Z)((0,i.Z)(o),"mounted",!1),(0,u.Z)((0,i.Z)(o),"onUpdate",(function(e){o.setState({isDone:"DONE"===e})})),(0,u.Z)((0,i.Z)(o),"handleOnChange",(function(e,t){var n=o.props,r=n.taskDecisionProvider,i=n.objectAri,a=n.onChange;o.setState({isDone:t}),r&&i?r.then((function(n){o.mounted&&(n.toggleTask({localId:e,objectAri:i},t?"DONE":"TODO"),a&&a(e,t))})):a&&a(e,t)})),o.state={isDone:e.isDone},o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.subscribe(this.props.taskDecisionProvider,this.props.objectAri,this.props.isDone)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isDone!==this.props.isDone&&this.onUpdate(e.isDone?"DONE":"TODO"),e.taskDecisionProvider===this.props.taskDecisionProvider&&e.objectAri===this.props.objectAri||(this.unsubscribe(),this.subscribe(e.taskDecisionProvider,e.objectAri,e.isDone))}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.mounted=!1}},{key:"subscribe",value:function(e,t,n){var r=this;e&&t&&e.then((function(e){if(r.mounted){var o=r.props.taskId,i=U(U({},{localId:o,objectAri:t}),{},{state:n?"DONE":"TODO",lastUpdateDate:new Date,type:"TASK"});e.subscribe({localId:o,objectAri:t},r.onUpdate,i)}}))}},{key:"unsubscribe",value:function(){var e=this,t=this.props,n=t.taskDecisionProvider,r=t.taskId,o=t.objectAri;n&&o&&n.then((function(t){t.unsubscribe({localId:r,objectAri:o},e.onUpdate)}))}},{key:"render",value:function(){var e=this.state.isDone,t=this.props,n=t.appearance,r=t.children,o=t.contentRef,i=t.objectAri,a=t.showPlaceholder,c=t.placeholder,s=t.taskId,u=t.disabled,d=t.dataAttributes,p=t.isRenderer;return l.createElement(B.Wc,{data:{objectAri:i}},l.createElement(F,{isDone:e,isRenderer:p,taskId:s,onChange:this.handleOnChange,appearance:n,contentRef:o,showPlaceholder:a,placeholder:c,disabled:u,dataAttributes:d},r))}}]),n}(l.PureComponent);(0,u.Z)(H,"defaultProps",{appearance:"inline"})},91503:(e,t,n)=>{"use strict";n.d(t,{H8:()=>S,M5:()=>p,N0:()=>h,Sk:()=>O,T5:()=>a,WA:()=>m,X_:()=>x,Y8:()=>g,ak:()=>s,gt:()=>v,iw:()=>y,os:()=>w,tE:()=>u});var r=n(54202),o="#FF5630",i="#FFAB00",a="#57D9A3",c="#36B37E",s="#00875A",u="#B3D4FF",l="#4C9AFF",d="#2684FF",p="#0065FF",f="#0052CC",h="#FFFFFF",v="#EBECF0",m="#8993A4",g="#7A869A",y="#6B778C",b="#172B4D",w="rgba(9, 30, 66, 0.04)",k="#B8C7E0",E="#8C9CB8",x="#7988A3",O="#67758F",S="#283447";(0,r.Z)({light:"var(--ds-surface, ".concat(h,")"),dark:"var(--ds-surface, ".concat("#1B2638",")")}),(0,r.Z)({light:"var(--ds-background-selected, ".concat("#DEEBFF",")"),dark:"var(--ds-background-selected, ".concat(u,")")}),(0,r.Z)({light:"var(--ds-background-neutral-hovered, ".concat(v,")"),dark:"var(--ds-background-neutral-hovered, ".concat("#3B475C",")")}),(0,r.Z)({light:"var(--ds-surface-overlay, ".concat(h,")"),dark:"var(--ds-surface-overlay, ".concat(S,")")}),(0,r.Z)({light:"var(--ds-text, ".concat("#091E42",")"),dark:"var(--ds-text, ".concat(k,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(b,")"),dark:"var(--ds-text, ".concat(k,")")}),(0,r.Z)({light:"var(--ds-text-selected, ".concat(f,")"),dark:"var(--ds-text-selected, ".concat(f,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(y,")"),dark:"var(--ds-text-subtlest, ".concat(E,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(y,")"),dark:"var(--ds-text-subtlest, ".concat(x,")")}),(0,r.Z)({light:"var(--ds-text, ".concat(b,")"),dark:"var(--ds-text, ".concat(k,")")}),(0,r.Z)({light:"var(--ds-text-subtlest, ".concat(y,")"),dark:"var(--ds-text-subtlest, ".concat(E,")")}),(0,r.Z)({light:"#F4F5F7",dark:S}),(0,r.Z)({light:"var(--ds-link, ".concat(f,")"),dark:"var(--ds-link, ".concat(l,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat(p,")"),dark:"var(--ds-link-pressed, ".concat(d,")")}),(0,r.Z)({light:"var(--ds-link-pressed, ".concat("#0747A6",")"),dark:"var(--ds-link-pressed, ".concat(l,")")}),(0,r.Z)({light:"var(--ds-border-focused, ".concat(l,")"),dark:"var(--ds-border-focused, ".concat(d,")")}),(0,r.Z)({light:"var(--ds-background-brand-bold, ".concat(f,")"),dark:"var(--ds-background-brand-bold, ".concat(l,")")}),(0,r.Z)({light:f,dark:l}),(0,r.Z)({light:"#00B8D9",dark:"#00C7E6"}),(0,r.Z)({light:"#6554C0",dark:"#998DD9"}),(0,r.Z)({light:o,dark:o}),(0,r.Z)({light:i,dark:i}),(0,r.Z)({light:c,dark:c})},83288:(e,t,n)=>{"use strict";n.d(t,{m:()=>c});var r=n(59740),o=n(2784),i=["children"];var a=function(e){var t=function(e,t){return e(t)},n=(0,o.createContext)(e);function a(e){return((0,o.useContext)(n)||t)(e)}return{Consumer:function(e){var t=e.children,n=a((0,r.Z)(e,i));return o.createElement(o.Fragment,null,t(n))},Provider:function(e){var r=(0,o.useContext)(n),i=e.value||t,a=(0,o.useCallback)((function(e){return i(r,e)}),[r,i]);return o.createElement(n.Provider,{value:a},e.children)},useTheme:a}}((function(){return{mode:"light"}})),c=(a.Provider,a.Consumer,a.useTheme)},16431:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a,GV:()=>r,MU:()=>o,oc:()=>i,ww:()=>c});var r="__ATLASKIT_THEME__",o="light",i=["light","dark"],a=function(){return 3},c=function(){return 8}},54202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(16431);function o(e){if(e&&e.theme){if(r.GV in e.theme)return e.theme[r.GV];if("mode"in e.theme&&r.oc.includes(e.theme.mode))return e.theme}return{mode:r.MU}}function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}},4641:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>s,hl:()=>u});var r=n(9249),o=n(87371),i=n(56666),a=function(){function e(){(0,r.Z)(this,e),(0,i.Z)(this,"enabled",!1)}return(0,o.Z)(e,[{key:"log",value:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];this.enabled&&(t=console).log.apply(t,[e.UFOprefix].concat(r))}},{key:"warn",value:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];this.enabled&&(t=console).warn.apply(t,[e.UFOprefix].concat(r))}},{key:"enable",value:function(){this.enabled=!0}},{key:"disable",value:function(){this.enabled=!1}}]),e}();(0,i.Z)(a,"UFOprefix","[ufo🛸]");var c=new a,s=function(){c.log.apply(c,arguments)},u=function(){c.warn.apply(c,arguments)}},67336:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var r=n(9249),o=n(87371),i=n(56666),a=n(4641),c=n(81374),s=function(){function e(t,n){(0,r.Z)(this,e),(0,i.Z)(this,"instances",{}),this.experienceId=t,this.config=n}return(0,o.Z)(e,[{key:"getInstance",value:function(e){return this.instances[e]||(this.instances[e]=new c.Q(this.experienceId,this.config,e)),this.instances[e]}},{key:"release",value:function(e){(0,a.Hw)("instanceId",e),this.instances[e]&&this.instances[e].abort(),delete this.instances[e]}}]),e}()},37556:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r={NOT_STARTED:{id:"NOT_STARTED",final:!0},STARTED:{id:"STARTED"},IN_PROGRESS:{id:"IN_PROGRESS"},BLOCKED:{id:"BLOCKED"},RECOVERED:{id:"RECOVERED"},SUCCEEDED:{id:"SUCCEEDED",final:!0,success:!0},SUCCEEDED_WAITING_FOR_DEPS:{id:"SUCCEEDED_WAITING_FOR_DEPS"},FAILED:{id:"FAILED",final:!0},ABORTED:{id:"ABORTED",final:!0}}},25548:(e,t,n)=>{"use strict";var r,o;n.d(t,{R:()=>o,Z:()=>r}),function(e){e.Load="load",e.Experience="experience",e.Operation="operation"}(r||(r={})),function(e){e.PageLoad="page-load",e.PageSegmentLoad="page-segment-load",e.InlineResult="inline-result",e.Custom="custom"}(o||(o={}))},81374:(e,t,n)=>{"use strict";n.d(t,{Q:()=>R});var r,o,i,a,c,s,u=n(87371),l=n(9249),d=n(45754),p=n(11987),f=n(95058),h=n(68079),v=n(34795),m=n(56666),g=n(82841),y=n.n(g),b=n(98022);!function(e){e[e.EXPERIENCE_PAYLOAD=0]="EXPERIENCE_PAYLOAD",e[e.SUBSCRIBE=1]="SUBSCRIBE",e[e.UNSUBSCRIBE=2]="UNSUBSCRIBE"}(r||(r={})),function(e){e.VISIBLE="visible",e.HIDDEN="hidden",e.MIXED="mixed"}(o||(o={})),function(e){e.fmp="fmp",e.tti="tti"}(i||(i={})),function(e){e.fmp="fmp",e.tti="tti"}(a||(a={})),function(e){e.response="response",e.result="result"}(c||(c={})),function(e){e.duration="duration"}(s||(s={}));var w,k="__SUBSCRIBE_ALL__",E="inline-response",x=function(){if(!globalThis.__UFO_GLOBAL_EVENT_STREAM__){var e=(t=[],{__buffer_only__:!0,push:function(e){t.length<250&&t.push(e)},getStream:function(){return t}});globalThis.__UFO_GLOBAL_EVENT_STREAM__=e}var t;return globalThis.__UFO_GLOBAL_EVENT_STREAM__},O=function(e){return{type:r.EXPERIENCE_PAYLOAD,payload:e}},S=n(4641),C=function(){return"undefined"!=typeof window},T=new(function(){function e(){var t=this;(0,l.Z)(this,e),(0,m.Z)(this,"started",!1),(0,m.Z)(this,"observers",[]),(0,m.Z)(this,"broadcast",(function(){t.observers.forEach((function(e){return e()})),t.observers=[]}))}return(0,u.Z)(e,[{key:"start",value:function(){this.started||(this.started=!0,document.addEventListener("visibilitychange",this.broadcast),C()&&window.addEventListener("pagehide",this.broadcast))}},{key:"subscribe",value:function(e){this.observers.push(e)}},{key:"unsubscribe",value:function(e){this.observers=this.observers.filter((function(t){return t!==e}))}}]),e}()),A=n(37556),_=(w={},(0,m.Z)(w,A.h.NOT_STARTED.id,[A.h.STARTED.id]),(0,m.Z)(w,A.h.STARTED.id,[A.h.IN_PROGRESS.id,A.h.BLOCKED.id,A.h.SUCCEEDED.id,A.h.SUCCEEDED_WAITING_FOR_DEPS.id,A.h.FAILED.id,A.h.ABORTED.id]),(0,m.Z)(w,A.h.IN_PROGRESS.id,[A.h.BLOCKED.id,A.h.SUCCEEDED.id,A.h.SUCCEEDED_WAITING_FOR_DEPS.id,A.h.FAILED.id,A.h.ABORTED.id]),(0,m.Z)(w,A.h.BLOCKED.id,[A.h.RECOVERED.id,A.h.ABORTED.id]),(0,m.Z)(w,A.h.RECOVERED.id,[A.h.STARTED.id,A.h.SUCCEEDED.id,A.h.SUCCEEDED_WAITING_FOR_DEPS.id,A.h.FAILED.id,A.h.ABORTED.id]),(0,m.Z)(w,A.h.SUCCEEDED.id,[A.h.STARTED.id]),(0,m.Z)(w,A.h.SUCCEEDED_WAITING_FOR_DEPS.id,[A.h.SUCCEEDED.id,A.h.FAILED.id,A.h.ABORTED.id]),(0,m.Z)(w,A.h.FAILED.id,[A.h.STARTED.id]),(0,m.Z)(w,A.h.ABORTED.id,[A.h.STARTED.id]),w),P=n(25548);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,m.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(){return C()&&window.document&&"visible"!==window.document.visibilityState?o.HIDDEN:o.VISIBLE},L=function(e){return void 0!==e?~~e:~~performance.now()};function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,p.Z)(this,n)}}var R=function(e){(0,d.Z)(n,e);var t=M(n);function n(){return(0,l.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n)}(function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,l.Z)(this,e),(0,m.Z)(this,"state",A.h.NOT_STARTED),(0,m.Z)(this,"instanceId",null),(0,m.Z)(this,"parent",null),(0,m.Z)(this,"category",null),(0,m.Z)(this,"metadata",{}),(0,m.Z)(this,"onDoneCallbacks",[]),(0,m.Z)(this,"childExperiences",[]),(0,m.Z)(this,"explicitTimings",{}),(0,m.Z)(this,"isSSROutputAsFMP",!1),(0,m.Z)(this,"uuid",null),(0,m.Z)(this,"_until",null),(0,m.Z)(this,"metrics",{startTime:null,endTime:null,marks:[]}),(0,m.Z)(this,"performanceConfig",{}),(0,m.Z)(this,"setPageVisibleStateToMixed",(function(){r.pageVisibleState=o.MIXED,T.unsubscribe(r.setPageVisibleStateToMixed)})),this.id=t,this.category=(null==n?void 0:n.category)||null,this.until=(null==n?void 0:n.until)||null,this.instanceId=i,this.handleDoneBind=this._handleDoneExperience.bind(this),this.type=n.type,this.performanceType=n.performanceType,this.performanceConfig=n.performanceConfig||{},this.config=n,this.pageVisibleState=I(),this.featureFlags=n.featureFlags||[],this.timings=n.timings||[],n.performanceType!==P.R.PageLoad&&n.performanceType!==P.R.PageSegmentLoad||(this.isSSROutputAsFMP=n.isSSROutputAsFMP||!1)}var t,n,i,a,c,s,d;return(0,u.Z)(e,[{key:"transition",value:(d=(0,v.Z)(y().mark((function e(t,n){var o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,S.Hw)("async transition",this.id,this.state.id,t.id),c=this.state,s=t,!_[c.id]||!_[c.id].includes(s.id)){e.next=15;break}if((0,S.Hw)("TRANSITION: ".concat(this.id," from ").concat(this.state.id," to ").concat(t.id," successful"),this.state.final,!t.final),t===A.h.STARTED&&this._reset(),this.state.final&&!t.final&&(this.metrics.startTime=L(n),this.uuid=(0,b.v4)()),this.state=t,!t.final){e.next=14;break}return this.metrics.endTime=L(n),this._isManualStateEnabled()||x().push((i=k,a=this.handleDoneBind,{type:r.UNSUBSCRIBE,payload:{experienceId:i,callback:a}})),e.next=11,this.exportData();case 11:o=e.sent,(0,S.Hw)("this.parent",this.parent),x().push(O(o));case 14:return e.abrupt("return",!0);case 15:return(0,S.Hw)("TRANSITION: ".concat(this.id," from ").concat(this.state.id," to ").concat(t.id," unsuccessful")),(0,S.hl)("transition of ".concat(this.id," from ").concat(this.state," to ").concat(t," is not possible")),e.abrupt("return",!1);case 18:case"end":return e.stop()}var i,a,c,s}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"start",value:(s=(0,v.Z)(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.transition(A.h.STARTED,t);case 2:e.sent&&(this.pageVisibleState=I(),T.subscribe(this.setPageVisibleStateToMixed),this._isManualStateEnabled()||((0,S.Hw)("subscribed",this.id),x().push((n=k,o=this.handleDoneBind,{type:r.SUBSCRIBE,payload:{experienceId:n,callback:o}}))));case 4:case"end":return e.stop()}var n,o}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"mark",value:function(e,t){"fmp"!==e&&e!==E?this._mark(e,t):(0,S.hl)("please use markFMP or markInlineResponse for specialised marks")}},{key:"_mark",value:function(e,t){this.metrics.marks.push({name:e,time:L(t)}),this.transition(A.h.IN_PROGRESS)}},{key:"markFMP",value:function(e){this._mark("fmp",e)}},{key:"markInlineResponse",value:function(e){this._mark(E,e)}},{key:"_isManualStateEnabled",value:function(){return null===this.until}},{key:"_validateManualState",value:function(){return!!this._isManualStateEnabled()||((0,S.hl)('manual change of state not allowed as "until" is defined'),!1)}},{key:"switchToEndState",value:function(e,t){return null!=t&&t.force||this._validateManualState()?(null!=t&&t.metadata&&this.addMetadata(t.metadata),T.unsubscribe(this.setPageVisibleStateToMixed),this.transition(e)):null}},{key:"success",value:(c=(0,v.Z)(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(A.h.SUCCEEDED,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"failure",value:(a=(0,v.Z)(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(A.h.FAILED,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"abort",value:(i=(0,v.Z)(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.switchToEndState(A.h.ABORTED,t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"addMetadata",value:function(e){Object.assign(this.metadata,e)}},{key:"_handleDoneExperience",value:function(e){if((0,S.Hw)("_handleDoneExperience in",this.id,e.state,e,this._until),e.state.final&&null!==this._until){var t=this._until(e),n=t.done,r=t.state;n&&!this.state.final&&this.transition(r)}}},{key:"getId",value:(n=(0,v.Z)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.id);case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"exportData",value:(t=(0,v.Z)(y().mark((function e(){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getId();case 2:return e.t0=e.sent,e.t1=this.uuid,e.t2=this.type,e.t3="0.1.5",e.t4=this.performanceType,e.t5=this.category,e.t6=this.state,e.t7=Z({},this.metadata),e.t8=Z({},this.metrics),e.t9=(0,h.Z)(this.childExperiences),e.t10={success:!!this.state.success,startTime:this.metrics.startTime,duration:(this.metrics.endTime||0)-(this.metrics.startTime||0)},e.t11=this.config.platform||null,e.t12=this.pageVisibleState,e.t13=this.featureFlags,e.t14=this.isSSROutputAsFMP,e.t15=this.timings,e.t16=this.explicitTimings,e.t17=this.performanceConfig,e.abrupt("return",{id:e.t0,uuid:e.t1,type:e.t2,schemaVersion:e.t3,performanceType:e.t4,category:e.t5,state:e.t6,metadata:e.t7,metrics:e.t8,children:e.t9,result:e.t10,platform:e.t11,pageVisibleState:e.t12,featureFlags:e.t13,isSSROutputAsFMP:e.t14,timings:e.t15,explicitTimings:e.t16,performanceConfig:e.t17});case 21:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"_reset",value:function(){this.parent=null,this.metadata={},this.onDoneCallbacks=[],this.childExperiences=[],this.metrics={startTime:null,endTime:null,marks:[]},this._until=this.until?this.until():null}}]),e}())},87307:(e,t,n)=>{"use strict";n.d(t,{a3:()=>c,P6:()=>f});var r={};n.r(r),n.d(r,{requestService:()=>p});var o=n(9249),i=n(87371),a=n(56666),c=function(){function e(){(0,o.Z)(this,e),(0,a.Z)(this,"listeners",new Set)}return(0,i.Z)(e,[{key:"subscribe",value:function(e){this.listeners.add(e),this.lastResult&&e.result(this.lastResult)}},{key:"unsubscribe",value:function(e){this.listeners.delete(e)}},{key:"notifyResult",value:function(e){this.listeners.forEach((function(t){t.result(e)}))}},{key:"notifyError",value:function(e){this.listeners.forEach((function(t){t.error&&t.error(e)}))}},{key:"notifyInfo",value:function(e){this.listeners.forEach((function(t){t.info&&t.info(e)}))}},{key:"notifyNotReady",value:function(){this.listeners.forEach((function(e){e.notReady&&e.notReady()}))}}]),e}();function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={},d=function(e,t){if(t)for(var n in t)if({}.hasOwnProperty.call(t,n)){var r=t[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)e[n]=r[o];else e[n]=r}},p=function e(t,n){var r=t.url,o=t.securityProvider,i=t.refreshedSecurityProvider,a=n||l,c=a.path,s=a.queryParams,p=a.requestInit,f=o&&o(),h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=new URLSearchParams(new URL(e,"https://BASE_FALLBACK").search||void 0);if(e=e.split("?")[0],n)for(var i in n)({}).hasOwnProperty.call(n,i)&&o.append(i,n[i]);if(r&&r.params)for(var a in r.params)if({}.hasOwnProperty.call(r.params,a)){var c=r.params[a];if(Array.isArray(c))for(var s=0;s<c.length;s++)o.append(a,c[s]);else o.append(a,c)}var u="";t&&"/"!==e.substr(-1)&&!t.startsWith("/")&&(u="/");var l=o.toString();return l&&(l="?"+l),"".concat(e).concat(u).concat(t).concat(l)}(r,c,s,f),v=function(e,t){var n={};return d(n,t),e&&d(n,e.headers),n}(f,p&&p.headers),m=function(e){return e&&e.omitCredentials?"omit":"include"}(f),g=(null==n?void 0:n.ignoreResponsePayload)||!1,y=u(u({},p),{},{headers:v,credentials:m});return fetch(h,y).then((function(t){return 204===t.status?Promise.resolve():t.ok?g?Promise.resolve():t.json():401===t.status&&i?i().then((function(t){return e({url:r,securityProvider:function(){return t}},n)})):Promise.reject({code:t.status,reason:t.statusText})}))},f=r},31299:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(2784),o=n(96234);var i=r.memo((function(e){var t=e.setWidth,n=e.offscreen,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=r.useRef(),i=r.useState({inView:!1,entry:void 0,target:void 0}),a=(0,o.Z)(i,2),c=a[0],s=a[1],u=e.threshold,l=e.root,d=e.rootMargin,p=r.useCallback((function(e){n.current=new IntersectionObserver((function(t){if(t&&t.length){var n=t[0],r=n.isIntersecting,o=n.intersectionRatio;if(o>=0){var i=o>=(u||0);void 0!==r&&(i=i&&r),s({inView:i,entry:n,target:e})}}}),{threshold:u,root:l,rootMargin:d}),t.current&&n.current.unobserve(t.current),e&&n.current.observe(e),t.current=e}),[u,l,d]);return r.useEffect((function(){return function(){n.current&&t.current&&n.current.unobserve(t.current)}}),[]),[p,c.inView,c.target,c.entry]}({threshold:0}),a=(0,o.Z)(i,3),c=a[0],s=a[1],u=a[2],l=r.useRef((function(){return"undefined"==typeof window?null:new ResizeObserver((function(e){if(Array.isArray(e)&&e.length){var n=e[0].contentRect.width;t(Math.round(n))}}))}));return r.useEffect((function(){var e=(0,l.current)();if(null!==e)return u&&(s||n?e.observe(u):e.unobserve(u)),function(){e.disconnect()}}),[u,s,n]),r.createElement("div",{style:{display:"block",width:"100%",position:"absolute"},ref:c})})),a=r.memo((function(e){return r.createElement(i,{setWidth:e.setWidth,offscreen:e.offscreen})}))},24335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(94635),o=n.n(r);const i=function(e,t){return o()(e,t)}},66330:(e,t,n)=>{"use strict";n.d(t,{C:()=>f,E:()=>x,T:()=>v,a:()=>y,b:()=>b,c:()=>k,h:()=>d,u:()=>m,w:()=>h});var r=n(2784),o=n(91958),i=n(7896),a=n(49551),c=n(24335),s=n(81060),u=n(77407),l=n(82668),d={}.hasOwnProperty,p=(0,r.createContext)("undefined"!=typeof HTMLElement?(0,o.Z)({key:"css"}):null);var f=p.Provider,h=function(e){return(0,r.forwardRef)((function(t,n){var o=(0,r.useContext)(p);return e(t,o,n)}))},v=(0,r.createContext)({});var m=function(){return(0,r.useContext)(v)},g=(0,a.Z)((function(e){return(0,a.Z)((function(t){return function(e,t){return"function"==typeof t?t(e):(0,i.Z)({},e,t)}(e,t)}))})),y=function(e){var t=(0,r.useContext)(v);return e.theme!==t&&(t=g(t)(e.theme)),(0,r.createElement)(v.Provider,{value:t},e.children)};function b(e){var t=e.displayName||e.name||"Component",n=function(t,n){var o=(0,r.useContext)(v);return(0,r.createElement)(e,(0,i.Z)({theme:o,ref:n},t))},o=(0,r.forwardRef)(n);return o.displayName="WithTheme("+t+")",(0,c.Z)(o,e)}var w="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",k=function(e,t){var n={};for(var r in t)d.call(t,r)&&(n[r]=t[r]);return n[w]=e,n},E=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,s.hC)(t,n,r);(0,l.L)((function(){return(0,s.My)(t,n,r)}));return null},x=h((function(e,t,n){var o=e.css;"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var i=e[w],a=[o],c="";"string"==typeof e.className?c=(0,s.fp)(t.registered,a,e.className):null!=e.className&&(c=e.className+" ");var l=(0,u.O)(a,void 0,(0,r.useContext)(v));c+=t.key+"-"+l.name;var p={};for(var f in e)d.call(e,f)&&"css"!==f&&f!==w&&(p[f]=e[f]);return p.ref=n,p.className=c,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(E,{cache:t,serialized:l,isStringTag:"string"==typeof i}),(0,r.createElement)(i,p))}))},28165:(e,t,n)=>{"use strict";n.d(t,{F4:()=>d,iv:()=>l,ms:()=>h,tZ:()=>s,xB:()=>u});var r=n(2784),o=(n(91958),n(66330)),i=(n(94635),n(81060)),a=n(77407),c=n(82668),s=function(e,t){var n=arguments;if(null==t||!o.h.call(t,"css"))return r.createElement.apply(void 0,n);var i=n.length,a=new Array(i);a[0]=o.E,a[1]=(0,o.c)(e,t);for(var c=2;c<i;c++)a[c]=n[c];return r.createElement.apply(null,a)},u=(0,o.w)((function(e,t){var n=e.styles,s=(0,a.O)([n],void 0,(0,r.useContext)(o.T)),u=(0,r.useRef)();return(0,c.j)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+s.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),u.current=[n,r],function(){n.flush()}}),[t]),(0,c.j)((function(){var e=u.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==s.next&&(0,i.My)(t,s.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",s,n,!1)}}),[t,s.name]),null}));function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.O)(t)}var d=function(){var e=l.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},p=function e(t){for(var n=t.length,r=0,o="";r<n;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var c in a="",i)i[c]&&c&&(a&&(a+=" "),a+=c);break;default:a=i}a&&(o&&(o+=" "),o+=a)}}return o};var f=function(e){var t=e.cache,n=e.serializedArr;(0,c.L)((function(){for(var e=0;e<n.length;e++)(0,i.My)(t,n[e],!1)}));return null},h=(0,o.w)((function(e,t){var n=[],c=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var c=(0,a.O)(r,t.registered);return n.push(c),(0,i.hC)(t,c,!1),t.key+"-"+c.name},s={css:c,cx:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(e,t,n){var r=[],o=(0,i.fp)(e,r,n);return r.length<2?n:o+t(r)}(t.registered,c,p(n))},theme:(0,r.useContext)(o.T)},u=e.children(s);return!0,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(f,{cache:t,serializedArr:n}),u)}))},49551:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e){var t=new WeakMap;return function(n){if(t.has(n))return t.get(n);var r=e(n);return t.set(n,r),r}}},77407:(e,t,n)=>{"use strict";n.d(t,{O:()=>v});var r=n(79003),o=n(69409),i=n(86894),a=/[A-Z]|^ms/g,c=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!=typeof e},l=(0,i.Z)((function(e){return s(e)?e:e.replace(a,"-$&").toLowerCase()})),d=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(c,(function(e,t,n){return f={name:t,styles:n,next:f},t}))}return 1===o.Z[e]||s(e)||"number"!=typeof t||0===t?t:t+"px"};function p(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return f={name:n.name,styles:n.styles,next:f},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)f={name:r.name,styles:r.styles,next:f},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=p(e,t,n[o])+";";else for(var i in n){var a=n[i];if("object"!=typeof a)null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":u(a)&&(r+=l(i)+":"+d(i,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=t&&void 0!==t[a[0]]){var c=p(e,t,a);switch(i){case"animation":case"animationName":r+=l(i)+":"+c+";";break;default:r+=i+"{"+c+"}"}}else for(var s=0;s<a.length;s++)u(a[s])&&(r+=l(i)+":"+d(i,a[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=f,i=n(e);return f=o,p(e,t,i)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var f,h=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var o=!0,i="";f=void 0;var a=e[0];null==a||void 0===a.raw?(o=!1,i+=p(n,t,a)):i+=a[0];for(var c=1;c<e.length;c++)i+=p(n,t,e[c]),o&&(i+=a[c]);h.lastIndex=0;for(var s,u="";null!==(s=h.exec(i));)u+="-"+s[1];return{name:(0,r.Z)(i)+u,styles:i,next:f}}},11971:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(2784),o=n(7896),i=n(86894),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;const c=(0,i.Z)((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var s=n(66330);var u=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},l=n(77407),d=n(82668),p=c,f=function(e){return"theme"!==e},h=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?p:f},v=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof r&&n&&(r=e.__emotion_forwardProp),r},m=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;u(t,n,r);(0,d.L)((function(){return function(e,t,n){u(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}(t,n,r)}));return null};const g=function e(t,n){var i,a,c=t.__emotion_real===t,u=c&&t.__emotion_base||t;void 0!==n&&(i=n.label,a=n.target);var d=v(t,n,c),p=d||h(u),f=!p("as");return function(){var g=arguments,y=c&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==i&&y.push("label:"+i+";"),null==g[0]||void 0===g[0].raw)y.push.apply(y,g);else{0,y.push(g[0][0]);for(var b=g.length,w=1;w<b;w++)y.push(g[w],g[0][w])}var k=(0,s.w)((function(e,t,n){var o,i,c,v,g=f&&e.as||u,b="",w=[],k=e;if(null==e.theme){for(var E in k={},e)k[E]=e[E];k.theme=(0,r.useContext)(s.T)}"string"==typeof e.className?(o=t.registered,i=w,c=e.className,v="",c.split(" ").forEach((function(e){void 0!==o[e]?i.push(o[e]+";"):v+=e+" "})),b=v):null!=e.className&&(b=e.className+" ");var x=(0,l.O)(y.concat(w),t.registered,k);b+=t.key+"-"+x.name,void 0!==a&&(b+=" "+a);var O=f&&void 0===d?h(g):p,S={};for(var C in e)f&&"as"===C||O(C)&&(S[C]=e[C]);return S.className=b,S.ref=n,(0,r.createElement)(r.Fragment,null,(0,r.createElement)(m,{cache:t,serialized:x,isStringTag:"string"==typeof g}),(0,r.createElement)(g,S))}));return k.displayName=void 0!==i?i:"Styled("+("string"==typeof u?u:u.displayName||u.name||"Component")+")",k.defaultProps=t.defaultProps,k.__emotion_real=k,k.__emotion_base=u,k.__emotion_styles=y,k.__emotion_forwardProp=d,Object.defineProperty(k,"toString",{value:function(){return"."+a}}),k.withComponent=function(t,r){return e(t,(0,o.Z)({},n,r,{shouldForwardProp:v(k,r,!0)})).apply(void 0,y)},k}};var y=g.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){y[e]=y(e)}));const b=y},82668:(e,t,n)=>{"use strict";var r;n.d(t,{L:()=>a,j:()=>c});var o=n(2784),i=!!(r||(r=n.t(o,2))).useInsertionEffect&&(r||(r=n.t(o,2))).useInsertionEffect,a=i||function(e){return e()},c=i||o.useLayoutEffect},71696:(e,t,n)=>{"use strict";var r=n(34406);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i,a,c=n(47515).codes,s=c.ERR_AMBIGUOUS_ARGUMENT,u=c.ERR_INVALID_ARG_TYPE,l=c.ERR_INVALID_ARG_VALUE,d=c.ERR_INVALID_RETURN_VALUE,p=c.ERR_MISSING_ARGS,f=n(64082),h=n(43335).inspect,v=n(43335).types,m=v.isPromise,g=v.isRegExp,y=Object.assign?Object.assign:n(44956).assign,b=Object.is?Object.is:n(34679);new Map;function w(){var e=n(26796);i=e.isDeepEqual,a=e.isDeepStrictEqual}var k=!1,E=e.exports=C,x={};function O(e){if(e.message instanceof Error)throw e.message;throw new f(e)}function S(e,t,n,r){if(!n){var o=!1;if(0===t)o=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var i=new f({actual:n,expected:!0,message:r,operator:"==",stackStartFn:e});throw i.generatedMessage=o,i}}function C(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];S.apply(void 0,[C,t.length].concat(t))}E.fail=function e(t,n,o,i,a){var c,s=arguments.length;if(0===s)c="Failed";else if(1===s)o=t,t=void 0;else{if(!1===k)k=!0,(r.emitWarning?r.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094");2===s&&(i="!=")}if(o instanceof Error)throw o;var u={actual:t,expected:n,operator:void 0===i?"fail":i,stackStartFn:a||e};void 0!==o&&(u.message=o);var l=new f(u);throw c&&(l.message=c,l.generatedMessage=!0),l},E.AssertionError=f,E.ok=C,E.equal=function e(t,n,r){if(arguments.length<2)throw new p("actual","expected");t!=n&&O({actual:t,expected:n,message:r,operator:"==",stackStartFn:e})},E.notEqual=function e(t,n,r){if(arguments.length<2)throw new p("actual","expected");t==n&&O({actual:t,expected:n,message:r,operator:"!=",stackStartFn:e})},E.deepEqual=function e(t,n,r){if(arguments.length<2)throw new p("actual","expected");void 0===i&&w(),i(t,n)||O({actual:t,expected:n,message:r,operator:"deepEqual",stackStartFn:e})},E.notDeepEqual=function e(t,n,r){if(arguments.length<2)throw new p("actual","expected");void 0===i&&w(),i(t,n)&&O({actual:t,expected:n,message:r,operator:"notDeepEqual",stackStartFn:e})},E.deepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new p("actual","expected");void 0===i&&w(),a(t,n)||O({actual:t,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:e})},E.notDeepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new p("actual","expected");void 0===i&&w();a(t,n)&&O({actual:t,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:e})},E.strictEqual=function e(t,n,r){if(arguments.length<2)throw new p("actual","expected");b(t,n)||O({actual:t,expected:n,message:r,operator:"strictEqual",stackStartFn:e})},E.notStrictEqual=function e(t,n,r){if(arguments.length<2)throw new p("actual","expected");b(t,n)&&O({actual:t,expected:n,message:r,operator:"notStrictEqual",stackStartFn:e})};var T=function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.forEach((function(e){e in t&&(void 0!==r&&"string"==typeof r[e]&&g(t[e])&&t[e].test(r[e])?o[e]=r[e]:o[e]=t[e])}))};function A(e,t,n,r){if("function"!=typeof t){if(g(t))return t.test(e);if(2===arguments.length)throw new u("expected",["Function","RegExp"],t);if("object"!==o(e)||null===e){var c=new f({actual:e,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:r});throw c.operator=r.name,c}var s=Object.keys(t);if(t instanceof Error)s.push("name","message");else if(0===s.length)throw new l("error",t,"may not be an empty object");return void 0===i&&w(),s.forEach((function(o){"string"==typeof e[o]&&g(t[o])&&t[o].test(e[o])||function(e,t,n,r,o,i){if(!(n in e)||!a(e[n],t[n])){if(!r){var c=new T(e,o),s=new T(t,o,e),u=new f({actual:c,expected:s,operator:"deepStrictEqual",stackStartFn:i});throw u.actual=e,u.expected=t,u.operator=i.name,u}O({actual:e,expected:t,message:r,operator:i.name,stackStartFn:i})}}(e,t,o,n,s,r)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _(e){if("function"!=typeof e)throw new u("fn","Function",e);try{e()}catch(e){return e}return x}function P(e){return m(e)||null!==e&&"object"===o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function D(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!P(t=e()))throw new d("instance of Promise","promiseFn",t)}else{if(!P(e))throw new u("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return x})).catch((function(e){return e}))}))}function Z(e,t,n,r){if("string"==typeof n){if(4===arguments.length)throw new u("error",["Object","Error","Function","RegExp"],n);if("object"===o(t)&&null!==t){if(t.message===n)throw new s("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===n)throw new s("error/message",'The error "'.concat(t,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==o(n)&&"function"!=typeof n)throw new u("error",["Object","Error","Function","RegExp"],n);if(t===x){var i="";n&&n.name&&(i+=" (".concat(n.name,")")),i+=r?": ".concat(r):".";var a="rejects"===e.name?"rejection":"exception";O({actual:void 0,expected:n,operator:e.name,message:"Missing expected ".concat(a).concat(i),stackStartFn:e})}if(n&&!A(t,n,r,e))throw t}function I(e,t,n,r){if(t!==x){if("string"==typeof n&&(r=n,n=void 0),!n||A(t,n)){var o=r?": ".concat(r):".",i="doesNotReject"===e.name?"rejection":"exception";O({actual:t,expected:n,operator:e.name,message:"Got unwanted ".concat(i).concat(o,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function L(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];S.apply(void 0,[L,t.length].concat(t))}E.throws=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Z.apply(void 0,[e,_(t)].concat(r))},E.rejects=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return D(t).then((function(t){return Z.apply(void 0,[e,t].concat(r))}))},E.doesNotThrow=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];I.apply(void 0,[e,_(t)].concat(r))},E.doesNotReject=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return D(t).then((function(t){return I.apply(void 0,[e,t].concat(r))}))},E.ifError=function e(t){if(null!=t){var n="ifError got unwanted exception: ";"object"===o(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?n+=t.constructor.name:n+=t.message:n+=h(t);var r=new f({actual:t,expected:null,operator:"ifError",message:n,stackStartFn:e}),i=t.stack;if("string"==typeof i){var a=i.split("\n");a.shift();for(var c=r.stack.split("\n"),s=0;s<a.length;s++){var u=c.indexOf(a[s]);if(-1!==u){c=c.slice(0,u);break}}r.stack="".concat(c.join("\n"),"\n").concat(a.join("\n"))}throw r}},E.strict=y(L,E,{equal:E.strictEqual,deepEqual:E.deepStrictEqual,notEqual:E.notStrictEqual,notDeepEqual:E.notDeepStrictEqual}),E.strict.strict=E.strict},64082:(e,t,n)=>{"use strict";var r=n(34406);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)},s(e)}function u(e,t,n){return u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&l(o,n.prototype),o},u.apply(null,arguments)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var f=n(43335).inspect,h=n(47515).codes.ERR_INVALID_ARG_TYPE;function v(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}var m="",g="",y="",b="",w={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function k(e){var t=Object.keys(e),n=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){n[t]=e[t]})),Object.defineProperty(n,"message",{value:e.message}),n}function E(e){return f(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function x(e,t,n){var o="",i="",a=0,c="",s=!1,u=E(e),l=u.split("\n"),d=E(t).split("\n"),f=0,h="";if("strictEqual"===n&&"object"===p(e)&&"object"===p(t)&&null!==e&&null!==t&&(n="strictEqualObject"),1===l.length&&1===d.length&&l[0]!==d[0]){var k=l[0].length+d[0].length;if(k<=10){if(!("object"===p(e)&&null!==e||"object"===p(t)&&null!==t||0===e&&0===t))return"".concat(w[n],"\n\n")+"".concat(l[0]," !== ").concat(d[0],"\n")}else if("strictEqualObject"!==n){if(k<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;l[0][f]===d[0][f];)f++;f>2&&(h="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var n=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,n-e.length)}(" ",f),"^"),f=0)}}}for(var x=l[l.length-1],O=d[d.length-1];x===O&&(f++<2?c="\n  ".concat(x).concat(c):o=x,l.pop(),d.pop(),0!==l.length&&0!==d.length);)x=l[l.length-1],O=d[d.length-1];var S=Math.max(l.length,d.length);if(0===S){var C=u.split("\n");if(C.length>30)for(C[26]="".concat(m,"...").concat(b);C.length>27;)C.pop();return"".concat(w.notIdentical,"\n\n").concat(C.join("\n"),"\n")}f>3&&(c="\n".concat(m,"...").concat(b).concat(c),s=!0),""!==o&&(c="\n  ".concat(o).concat(c),o="");var T=0,A=w[n]+"\n".concat(g,"+ actual").concat(b," ").concat(y,"- expected").concat(b),_=" ".concat(m,"...").concat(b," Lines skipped");for(f=0;f<S;f++){var P=f-a;if(l.length<f+1)P>1&&f>2&&(P>4?(i+="\n".concat(m,"...").concat(b),s=!0):P>3&&(i+="\n  ".concat(d[f-2]),T++),i+="\n  ".concat(d[f-1]),T++),a=f,o+="\n".concat(y,"-").concat(b," ").concat(d[f]),T++;else if(d.length<f+1)P>1&&f>2&&(P>4?(i+="\n".concat(m,"...").concat(b),s=!0):P>3&&(i+="\n  ".concat(l[f-2]),T++),i+="\n  ".concat(l[f-1]),T++),a=f,i+="\n".concat(g,"+").concat(b," ").concat(l[f]),T++;else{var D=d[f],Z=l[f],I=Z!==D&&(!v(Z,",")||Z.slice(0,-1)!==D);I&&v(D,",")&&D.slice(0,-1)===Z&&(I=!1,Z+=","),I?(P>1&&f>2&&(P>4?(i+="\n".concat(m,"...").concat(b),s=!0):P>3&&(i+="\n  ".concat(l[f-2]),T++),i+="\n  ".concat(l[f-1]),T++),a=f,i+="\n".concat(g,"+").concat(b," ").concat(Z),o+="\n".concat(y,"-").concat(b," ").concat(D),T+=2):(i+=o,o="",1!==P&&0!==f||(i+="\n  ".concat(Z),T++))}if(T>20&&f<S-2)return"".concat(A).concat(_,"\n").concat(i,"\n").concat(m,"...").concat(b).concat(o,"\n")+"".concat(m,"...").concat(b)}return"".concat(A).concat(s?_:"","\n").concat(i).concat(o).concat(c).concat(h)}var O=function(e){function t(e){var n;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==p(e)||null===e)throw new h("options","Object",e);var o=e.message,i=e.operator,s=e.stackStartFn,u=e.actual,l=e.expected,f=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=o)n=a(this,d(t).call(this,String(o)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(m="[34m",g="[32m",b="[39m",y="[31m"):(m="",g="",b="",y="")),"object"===p(u)&&null!==u&&"object"===p(l)&&null!==l&&"stack"in u&&u instanceof Error&&"stack"in l&&l instanceof Error&&(u=k(u),l=k(l)),"deepStrictEqual"===i||"strictEqual"===i)n=a(this,d(t).call(this,x(u,l,i)));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var v=w[i],O=E(u).split("\n");if("notStrictEqual"===i&&"object"===p(u)&&null!==u&&(v=w.notStrictEqualObject),O.length>30)for(O[26]="".concat(m,"...").concat(b);O.length>27;)O.pop();n=1===O.length?a(this,d(t).call(this,"".concat(v," ").concat(O[0]))):a(this,d(t).call(this,"".concat(v,"\n\n").concat(O.join("\n"),"\n")))}else{var S=E(u),C="",T=w[i];"notDeepEqual"===i||"notEqual"===i?(S="".concat(w[i],"\n\n").concat(S)).length>1024&&(S="".concat(S.slice(0,1021),"...")):(C="".concat(E(l)),S.length>512&&(S="".concat(S.slice(0,509),"...")),C.length>512&&(C="".concat(C.slice(0,509),"...")),"deepEqual"===i||"equal"===i?S="".concat(T,"\n\n").concat(S,"\n\nshould equal\n\n"):C=" ".concat(i," ").concat(C)),n=a(this,d(t).call(this,"".concat(S).concat(C)))}return Error.stackTraceLimit=f,n.generatedMessage=!o,Object.defineProperty(c(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=u,n.expected=l,n.operator=i,Error.captureStackTrace&&Error.captureStackTrace(c(n),s),n.stack,n.name="AssertionError",a(n)}var n,s,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,e),n=t,s=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:f.custom,value:function(e,t){return f(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}],s&&i(n.prototype,s),u&&i(n,u),t}(s(Error));e.exports=O},47515:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},i(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}var c,s,u={};function l(e,t,n){n||(n=Error);var r=function(n){function r(n,a,c){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),s=o(this,i(r).call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,a,c))),s.code=e,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(r,n),r}(n);u[e]=r}function d(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",(function(e,t,o){var i,a,s,u;if(void 0===c&&(c=n(71696)),c("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(a="not ",t.substr(!s||s<0?0:+s,a.length)===a)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))u="The ".concat(e," ").concat(i," ").concat(d(t,"type"));else{var l=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(l," ").concat(i," ").concat(d(t,"type"))}return u+=". Received type ".concat(r(o))}),TypeError),l("ERR_INVALID_ARG_VALUE",(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===s&&(s=n(43335));var o=s.inspect(t);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(r,". Received ").concat(o)}),TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",(function(e,t,n){var o;return o=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(o,".")}),TypeError),l("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];void 0===c&&(c=n(71696)),c(t.length>0,"At least one arg needs to be specified");var o="The ",i=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),i){case 1:o+="".concat(t[0]," argument");break;case 2:o+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:o+=t.slice(0,i-1).join(", "),o+=", and ".concat(t[i-1]," arguments")}return"".concat(o," must be specified")}),TypeError),e.exports.codes=u},26796:(e,t,n)=>{"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=void 0!==/a/g.flags,a=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},c=function(e){var t=[];return e.forEach((function(e,n){return t.push([n,e])})),t},s=Object.is?Object.is:n(34679),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:n(74782);function d(e){return e.call.bind(e)}var p=d(Object.prototype.hasOwnProperty),f=d(Object.prototype.propertyIsEnumerable),h=d(Object.prototype.toString),v=n(43335).types,m=v.isAnyArrayBuffer,g=v.isArrayBufferView,y=v.isDate,b=v.isMap,w=v.isRegExp,k=v.isSet,E=v.isNativeError,x=v.isBoxedPrimitive,O=v.isNumberObject,S=v.isStringObject,C=v.isBooleanObject,T=v.isBigIntObject,A=v.isSymbolObject,_=v.isFloat32Array,P=v.isFloat64Array;function D(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<48||n>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function Z(e){return Object.keys(e).filter(D).concat(u(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function I(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}var L=0,M=1,R=2,N=3;function j(e,t,n,r){if(e===t)return 0!==e||(!n||s(e,t));if(n){if("object"!==o(e))return"number"==typeof e&&l(e)&&l(t);if("object"!==o(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==o(e))return(null===t||"object"!==o(t))&&e==t;if(null===t||"object"!==o(t))return!1}var a,c,u,d,p=h(e);if(p!==h(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var f=Z(e),v=Z(t);return f.length===v.length&&B(e,t,n,r,M,f)}if("[object Object]"===p&&(!b(e)&&b(t)||!k(e)&&k(t)))return!1;if(y(e)){if(!y(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(w(e)){if(!w(t)||(u=e,d=t,!(i?u.source===d.source&&u.flags===d.flags:RegExp.prototype.toString.call(u)===RegExp.prototype.toString.call(d))))return!1}else if(E(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(g(e)){if(n||!_(e)&&!P(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===I(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}(e,t))return!1;var D=Z(e),j=Z(t);return D.length===j.length&&B(e,t,n,r,L,D)}if(k(e))return!(!k(t)||e.size!==t.size)&&B(e,t,n,r,R);if(b(e))return!(!b(t)||e.size!==t.size)&&B(e,t,n,r,N);if(m(e)){if(c=t,(a=e).byteLength!==c.byteLength||0!==I(new Uint8Array(a),new Uint8Array(c)))return!1}else if(x(e)&&!function(e,t){return O(e)?O(t)&&s(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):S(e)?S(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):C(e)?C(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):T(e)?T(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):A(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return B(e,t,n,r,L)}function F(e,t){return t.filter((function(t){return f(e,t)}))}function B(e,t,n,i,s,l){if(5===arguments.length){l=Object.keys(e);var d=Object.keys(t);if(l.length!==d.length)return!1}for(var h=0;h<l.length;h++)if(!p(t,l[h]))return!1;if(n&&5===arguments.length){var v=u(e);if(0!==v.length){var m=0;for(h=0;h<v.length;h++){var g=v[h];if(f(e,g)){if(!f(t,g))return!1;l.push(g),m++}else if(f(t,g))return!1}var y=u(t);if(v.length!==y.length&&F(t,y).length!==m)return!1}else{var b=u(t);if(0!==b.length&&0!==F(t,b).length)return!1}}if(0===l.length&&(s===L||s===M&&0===e.length||0===e.size))return!0;if(void 0===i)i={val1:new Map,val2:new Map,position:0};else{var w=i.val1.get(e);if(void 0!==w){var k=i.val2.get(t);if(void 0!==k)return w===k}i.position++}i.val1.set(e,i.position),i.val2.set(t,i.position);var E=function(e,t,n,i,s,u){var l=0;if(u===R){if(!function(e,t,n,r){for(var i=null,c=a(e),s=0;s<c.length;s++){var u=c[s];if("object"===o(u)&&null!==u)null===i&&(i=new Set),i.add(u);else if(!t.has(u)){if(n)return!1;if(!V(e,t,u))return!1;null===i&&(i=new Set),i.add(u)}}if(null!==i){for(var l=a(t),d=0;d<l.length;d++){var p=l[d];if("object"===o(p)&&null!==p){if(!z(i,p,n,r))return!1}else if(!n&&!e.has(p)&&!z(i,p,n,r))return!1}return 0===i.size}return!0}(e,t,n,s))return!1}else if(u===N){if(!function(e,t,n,i){for(var a=null,s=c(e),u=0;u<s.length;u++){var l=r(s[u],2),d=l[0],p=l[1];if("object"===o(d)&&null!==d)null===a&&(a=new Set),a.add(d);else{var f=t.get(d);if(void 0===f&&!t.has(d)||!j(p,f,n,i)){if(n)return!1;if(!H(e,t,d,p,i))return!1;null===a&&(a=new Set),a.add(d)}}}if(null!==a){for(var h=c(t),v=0;v<h.length;v++){var m=r(h[v],2),g=(d=m[0],m[1]);if("object"===o(d)&&null!==d){if(!W(a,e,d,g,n,i))return!1}else if(!(n||e.has(d)&&j(e.get(d),g,!1,i)||W(a,e,d,g,!1,i)))return!1}return 0===a.size}return!0}(e,t,n,s))return!1}else if(u===M)for(;l<e.length;l++){if(!p(e,l)){if(p(t,l))return!1;for(var d=Object.keys(e);l<d.length;l++){var f=d[l];if(!p(t,f)||!j(e[f],t[f],n,s))return!1}return d.length===Object.keys(t).length}if(!p(t,l)||!j(e[l],t[l],n,s))return!1}for(l=0;l<i.length;l++){var h=i[l];if(!j(e[h],t[h],n,s))return!1}return!0}(e,t,n,l,i,s);return i.val1.delete(e),i.val2.delete(t),E}function z(e,t,n,r){for(var o=a(e),i=0;i<o.length;i++){var c=o[i];if(j(t,c,n,r))return e.delete(c),!0}return!1}function U(e){switch(o(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(l(e))return!1}return!0}function V(e,t,n){var r=U(n);return null!=r?r:t.has(r)&&!e.has(r)}function H(e,t,n,r,o){var i=U(n);if(null!=i)return i;var a=t.get(i);return!(void 0===a&&!t.has(i)||!j(r,a,!1,o))&&(!e.has(i)&&j(r,a,!1,o))}function W(e,t,n,r,o,i){for(var c=a(e),s=0;s<c.length;s++){var u=c[s];if(j(n,u,o,i)&&j(r,t.get(u),o,i))return e.delete(u),!0}return!1}e.exports={isDeepEqual:function(e,t){return j(e,t,false)},isDeepStrictEqual:function(e,t){return j(e,t,true)}}},62680:(e,t,n)=>{"use strict";var r=n(67286),o=n(89429),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},89429:(e,t,n)=>{"use strict";var r=n(4090),o=n(67286),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||r.call(a,i),s=o("%Object.getOwnPropertyDescriptor%",!0),u=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){var t=c(r,a,arguments);s&&u&&(s(t,"length").configurable&&u(t,"length",{value:1+l(0,e.length-(arguments.length-1))}));return t};var d=function(){return c(r,i,arguments)};u?u(e.exports,"apply",{value:d}):e.exports.apply=d},30323:(e,t,n)=>{"use strict";function r(e,t){return Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}n.d(t,{Z:()=>f});var o=function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;n=n.replace("#","").match(/.{2}/g);for(var a=0;a<n.length;a++)n[a]=parseInt(n[a],16);return"rgb"===t?{r:n[0],g:n[1],b:n[2]}:o.convert({conversions:r,operations:o,helpers:i},t,{r:n[0],g:n[1],b:n[2]})},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},s={hex:{test:function(e){return"string"==typeof e&&"#"===e.slice(0,1)},convert:o},rgb:{test:function(e){return r(e,["r","g","b"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"hex":return 1==(b=Math.round(n.r).toString(16)).length&&(b="0"+b),1==(w=Math.round(n.g).toString(16)).length&&(w="0"+w),1==(k=Math.round(n.b).toString(16)).length&&(k="0"+k),"#"+b+w+k;case"cssrgb":return"rgb("+Math.round(n.r)+","+Math.round(n.g)+","+Math.round(n.b)+")";case"hsl":var c=[b=n.r/255,w=n.g/255,k=n.b/255].sort(),s=(c[0]+c[2])/2*100;return c[0]==c[2]?(y=0,g=0):(y=s>=50?(c[2]-c[0])/(2-c[2]-c[0])*100:(c[2]-c[0])/(c[2]+c[0])*100,(g=c[2]==b?(w-k)/(c[2]-c[0])*60:c[2]==w?60*(2+(k-b)/(c[2]-c[0])):60*(4+(b-w)/(c[2]-c[0])))<0?g+=360:g>360&&(g%=360)),{h:g,s:y,l:s};case"csshsl":var u=o.convert({conversions:r,helpers:i},"hsl",n);return"hsl("+Math.round(u.h)+","+Math.round(u.s)+"%,"+Math.round(u.l)+"%)";case"cmyk":var l=n.r/255,d=n.g/255,p=n.b/255,f=1-Math.max(l,d,p);if(1!=f)var h=(1-l-f)/(1-f),v=(1-d-f)/(1-f),m=(1-p-f)/(1-f);else h=0,v=0,m=0;return{c:h,m:v,y:m,k:f};case"hsv":var g,y,b=n.r/255,w=n.g/255,k=n.b/255,E=Math.min(b,w,k),x=Math.max(b,w,k),O=x-E;if(0==O)g=0,y=0;else{y=O/x;var S=((x-b)/6+O/2)/O,C=((x-w)/6+O/2)/O,T=((x-k)/6+O/2)/O;b==x?g=T-C:w==x?g=1/3+S-T:k==x&&(g=2/3+C-S),g<0&&(g+=1),g>1&&(g-=1)}return{h:360*g,s:100*y,v:100*x};case"yiq":m=n.r/255*.299+n.g/255*.587+n.b/255*.114;var A=n.r/255*.596+n.g/255*-.274+n.b/255*-.322,_=n.r/255*.211+n.g/255*-.523+n.b/255*.312;return{y:m,i:A=i.bounded(A,[-.5957,.5957]),q:_=i.bounded(_,[-.5226,.5226])};case"XYZ":var P=[n.r,n.g,n.b].map((function(e){return e/255})).map((function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)})),D=i.getTransform("SRGB_XYZ").map((function(e){return P.reduce((function(t,n,r){return e[r]*n+t}),0)})).map((function(e){return 100*e})),Z=a(D,3);return{X:Z[0],Y:Z[1],Z:Z[2]};case"lms":case"cielab":case"cieluv":case"xyY":var I=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,I);case"cielch":var L=o.convert({conversions:r,operations:o,helpers:i},"cieluv",n);return o.convert({conversions:r,operations:o,helpers:i},t,L);case"hsluv":var M=o.convert({conversions:r,operations:o,helpers:i},"cielch",n);return o.convert({conversions:r,operations:o,helpers:i},t,M)}}},cssrgb:{test:function(e){return"string"==typeof e&&"rgb("===e.slice(0,4)},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;n=n.replace(/((rgb\(|\))|[\s]*)/g,"").split(",");for(var a=0;a<n.length;a++)n[a]=parseInt(n[a]);return"rgb"===t?{r:n[0],g:n[1],b:n[2]}:o.convert({conversions:r,operations:o,helpers:i},t,{r:n[0],g:n[1],b:n[2]})}},hsl:{test:function(e){return r(e,["h","s","l"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"rgb":if(0==n.s){var a=n.l/100*255;return{r:a,g:a,b:a}}var c,s,u;c=n.l>=50?n.l/100+n.s/100-n.l/100*(n.s/100):n.l/100*(1+n.s/100),s=n.l/100*2-c;var l,d,p,f=(.333+(u=n.h/360))%1,h=u,v=i.negMod(u-.333,1);return(l=6*f<1?s+6*(c-s)*f:2*f<1?c:3*f<2?s+6*(.666-f)*(c-s):s)<0&&(l=0),(d=6*h<1?s+6*(c-s)*h:2*h<1?c:3*h<2?s+6*(.666-h)*(c-s):s)<0&&(d=0),(p=6*v<1?s+6*(c-s)*v:2*v<1?c:3*v<2?s+6*(.666-v)*(c-s):s)<0&&(p=0),{r:255*l,g:255*d,b:255*p};case"csshsl":return"hsl("+Math.round(n.h)+","+Math.round(n.s)+"%,"+Math.round(n.l)+"%)";case"hsv":n.s=n.s/100,n.l=n.l/100;var m=n.s*(n.l<.5?n.l:1-n.l);return{h:n.h,s:2*m/(n.l+m)*100,v:100*(n.l+m)};default:var g=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,g)}}},csshsl:{test:function(e){return"string"==typeof e&&"hsl("===e.slice(0,4)},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;n=n.replace(/(hsl\(|\)|%|[\s]*)/g,"").split(",");for(var a=0;a<n.length;a++)n[a]=parseInt(n[a]);return"hsl"===t?{h:n[0],s:n[1],l:n[2]}:o.convert({conversions:r,operations:o,helpers:i},t,{h:n[0],s:n[1],l:n[2]})}},hsv:{test:function(e){return r(e,["h","s","v"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"rgb":n.h=n.h/360,n.s=n.s/100,n.v=n.v/100;var a=6*n.h;6==a&&(a=0);var c,s,u,l=Math.round(a),d=n.v*(1-n.s),p=n.v*(1-n.s*(a-l)),f=n.v*(1-n.s*(1-(a-l)));return 0==l?(c=n.v,s=f,u=d):1==l?(c=p,s=n.v,u=d):2==l?(c=d,s=n.v,u=f):3==l?(c=d,s=p,u=n.v):4==l?(c=f,s=d,u=n.v):(c=n.v,s=d,u=p),{r:255*c,g:255*s,b:255*u};case"hsl":return n.h=n.h/360,n.s=n.s/100,n.v=n.v/100,{h:360*n.h,s:100*((2-n.s)*n.v<1?n.s*n.v/((2-n.s)*n.v):n.s*n.v/(2-(2-n.s)*n.v)),l:(2-n.s)*n.v/2*100};default:var h=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,h)}}},cmyk:{test:function(e){return r(e,["c","m","y","k"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"rgb":return{r:a=255*(1-n.c)*(1-n.k),g:c=255*(1-n.m)*(1-n.k),b:s=255*(1-n.y)*(1-n.k)};case"cssrgb":var a=255*(1-n.c)*(1-n.k),c=255*(1-n.m)*(1-n.k),s=255*(1-n.y)*(1-n.k);return"rgb("+Math.round(a)+","+Math.round(c)+","+Math.round(s)+")";default:var u=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,u)}}},yiq:{test:function(e){return r(e,["y","i","q"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;if("rgb"===(n.i=i.bounded(n.i,[-.5957,.5957]),n.q=i.bounded(n.q,[-.5226,.5226]),t)){var a=255*(n.y+.956*n.i+.621*n.q),c=255*(n.y+-.272*n.i+-.647*n.q),s=255*(n.y+-1.106*n.i+-1.703*n.q);return{r:a=i.bounded(a,[0,255]),g:c=i.bounded(c,[0,255]),b:s=i.bounded(s,[0,255])}}var u=o.convert({conversions:r,operations:o,helpers:i},"rgb",n);return o.convert({conversions:r,operations:o,helpers:i},t,u)}},XYZ:{test:function(e){return r(e,["X","Y","Z"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers,c=i.getIlluminant("D65");switch(t){case"rgb":var s=[n.X,n.Y,n.Z].map((function(e){return e/100})),u=i.getTransform("INVERSE_SRGB_XYZ").map((function(e){return s.reduce((function(t,n,r){return e[r]*n+t}),0)})).map((function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055})).map((function(e){return 255*e})),l=a(u,3),d=l[0],p=l[1],f=l[2];return i.boundedRgb({r:d,g:p,b:f});case"lms":var h=[n.X,n.Y,n.Z].map((function(e){return e/100})),v=i.getTransform("BRADFORD").map((function(e){return h.reduce((function(t,n,r){return e[r]*n+t}),0)}));return{rho:v[0],gamma:v[1],beta:v[2]};case"cielab":var m=n.X/c.X,g=n.Y/c.Y,y=n.Z/c.Z,b=function(e){return e>.008856?i.cbrt(e):(903.3*e+16)/116},w=b(m),k=b(g);return{L:116*k-16,a:500*(w-k),b:200*(k-b(y))};case"cieluv":var E=n.Y/c.Y,x=E>.008856?116*i.cbrt(E)-16:903.3*E,O=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)},S=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)};return{L:x,u:13*x*(O(n)-O(c)),v:13*x*(S(n)-S(c))};case"xyY":return{x:n.X/(n.X+n.Y+n.Z),y:n.Y/(n.X+n.Y+n.Z),Y:n.Y};default:var C=i.boundedRgb(o.convert({conversions:r,operations:o,helpers:i},"rgb",n));return o.convert({conversions:r,operations:o,helpers:i},t,C)}}},xyY:{test:function(e){return r(e,["x","y","Y"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;if("XYZ"===t){var a=n.Y/n.y*n.x,c=n.Y/n.y*(1-n.x-n.y);return{X:a,Y:n.Y,Z:c}}var s=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,s)}},lms:{test:function(e){return r(e,["rho","gamma","beta"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;if("XYZ"===t){var a=[n.rho,n.gamma,n.beta],c=i.getTransform("INVERSE_BRADFORD").map((function(e){return a.reduce((function(t,n,r){return e[r]*n+t}),0)}));return{X:100*c[0],Y:100*c[1],Z:100*c[2]}}var s=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,s)}},cielab:{test:function(e){return r(e,["L","a","b"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;if("XYZ"===t){var a=i.getIlluminant("D65"),c=(n.L+16)/116,s=n.a/500+c,u=c-n.b/200,l=function(e){return Math.pow(e,3)>.008856?Math.pow(e,3):(116*e-16)/903.3},d=l(s),p=l(u),f=n.L>903.3*.008856?Math.pow(c,3):n.L/903.3;return{X:d*a.X,Y:f*a.Y,Z:p*a.Z}}var h=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,h)}},cieluv:{test:function(e){return r(e,["L","u","v"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"XYZ":var a=i.getIlluminant("D65"),c=function(e){return 4*e.X/(e.X+15*e.Y+3*e.Z)}(a),s=function(e){return 9*e.Y/(e.X+15*e.Y+3*e.Z)}(a),u=1/3*(52*n.L/(n.u+13*n.L*c)-1),l=n.L>903.3*.008856?Math.pow((n.L+16)/116,3):n.L/903.3,d=-5*l,p=(l*(39*n.L/(n.v+13*n.L*s)-5)-d)/(u- -1/3);return{X:100*p,Y:100*l,Z:100*(p*u+d)};case"cielch":var f=Math.sqrt(Math.pow(n.u,2)+Math.pow(n.v,2)),h=Math.atan2(n.v,n.u);return h<0&&(h+=2*Math.PI),h=i.toDeg(h),{L:n.L,C:f,h};default:var v=o.convert({conversions:r,operations:o,helpers:i},"XYZ",n);return o.convert({conversions:r,operations:o,helpers:i},t,v)}}},cielch:{test:function(e){return r(e,["L","C","h"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;switch(t){case"cieluv":var a=i.toRad(n.h),c=n.C*Math.cos(a),s=n.C*Math.sin(a);return{L:n.L,u:c,v:s};case"hsluv":if(n.L>99.9999999)return{hu:n.h,s:0,l:100};if(n.L<1e-8)return{hu:n.h,s:0,l:0};for(var u=(n.L+16)/1560896,l=u>.008856?u:n.L/903.3,d=i.getTransform("INVERSE_SRGB_XYZ"),p=[],f=0;f<3;f++)for(var h=d[f][0],v=d[f][1],m=d[f][2],g=0;g<2;g++){var y=(284517*h-94839*m)*l,b=(838422*m+769860*v+731718*h)*n.L*l-769860*g*n.L,w=(632260*m-126452*v)*l+126452*g;p.push({m:y/w,b:b/w})}var k=Number.MAX_VALUE,E=i.toRad(n.h);p.forEach((function(e){var t=e.b/(Math.sin(E)-e.m*Math.cos(E));t>=0&&(k=Math.min(k,t))}));var x=k;return{hu:n.h,s:n.C/x*100,l:n.L};default:var O=o.convert({conversions:r,operations:o,helpers:i},"cieluv",n);return o.convert({conversions:r,operations:o,helpers:i},t,O)}}},hsluv:{test:function(e){return r(e,["hu","s","l"])},convert:function(e,t,n){var r=e.conversions,o=e.operations,i=e.helpers;if("cielch"===t){if(n.L>99.9999999)return{L:100,C:0,h:n.hu};if(n.L<1e-8)return{L:0,C:0,h:n.hu};for(var a=(n.l+16)/1560896,c=a>.008856?a:n.l/903.3,s=i.getTransform("INVERSE_SRGB_XYZ"),u=[],l=0;l<3;l++)for(var d=s[l][0],p=s[l][1],f=s[l][2],h=0;h<2;h++){var v=(284517*d-94839*f)*c,m=(838422*f+769860*p+731718*d)*n.l*c-769860*h*n.l,g=(632260*f-126452*p)*c+126452*h;u.push({m:v/g,b:m/g})}var y=Number.MAX_VALUE,b=i.toRad(n.hu);u.forEach((function(e){var t=e.b/(Math.sin(b)-e.m*Math.cos(b));t>=0&&(y=Math.min(y,t))}));var w=y;return{L:n.l,C:w/100*n.s,h:n.hu}}var k=o.convert({conversions:r,operations:o,helpers:i},"cielch",n);return o.convert({conversions:r,operations:o,helpers:i},t,k)}}},u={adapt:function(e,t,n,r){var o=e.operations.convert(e,"XYZ",t),i=e.operations.convert(e,"lms",n);if(r)a=e.operations.convert(e,"lms",r);else var a=e.operations.convert(e,"lms",e.helpers.getIlluminant("D65"));var c=e.helpers.getTransform("BRADFORD"),s=e.helpers.getTransform("INVERSE_BRADFORD"),u=[[i.rho/a.rho,0,0],[0,i.gamma/a.gamma,0],[0,0,i.beta/a.beta]],l=e.helpers.matrixMultiply(s,u),d=e.helpers.matrixMultiply(l,c),p=[[o.X],[o.Y],[o.Z]],f=e.helpers.matrixMultiply(d,p),h={X:f[0][0],Y:f[1][0],Z:f[2][0]};return e.helpers.ready(e,h)},adjacent:function(e,t,n,r){for(var o=e.operations.convert(e,"hsl",r),i=[{h:o.h,s:o.s,l:o.l}],a=0;a<n-1;a++)o.h=e.helpers.negMod(o.h+t,360),i.push({h:o.h,s:o.s,l:o.l});return e.helpers.ready(e,i)},brightness:function(e,t,n){var r=e.operations.convert(e,"hsl",n);return r.l+=t,r.l<0?r.l=0:r.l>100&&(r.l=100),e.helpers.ready(e,r)},complementary:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.h=(n.h+180)%360,e.helpers.ready(e,n)},contrast:function(e,t,n){var r=e.operations.convert(e,"rgb",n);return r.r=255*((r.r/255-.5)*t+.5),r.r<0?r.r=0:r.r>255&&(r.r=255),r.g=255*((r.g/255-.5)*t+.5),r.g<0?r.g=0:r.g>255&&(r.g=255),r.b=255*((r.b/255-.5)*t+.5),r.b<0?r.b=0:r.b>255&&(r.b=255),e.helpers.ready(e,r)},contrastRatio:function(e,t){var n=e.operations.convert(e,"rgb",t);return n=(299*n.r+587*n.g+114*n.b)/1e3>=128?{r:0,g:0,b:0}:{r:255,g:255,b:255},e.helpers.ready(e,n)},convert:function(e,t,n){if(Object.keys(e.conversions).indexOf(t)>-1){n.colour?n=n.colour:n.colours&&(n=n.colours);var r=e.helpers.determineMode(n);return r!=t?e.conversions[r].convert(e,t,n):n}return e.helpers.ready(e,t)},difference:function(e,t,n,r,o){r=r||1,o=o||1;var i=e.operations.convert(e,"cielab",t),a=e.operations.convert(e,"cielab",n),c=Math.sqrt(Math.pow(i.a,2)+Math.pow(i.b,2)),s=c-Math.sqrt(Math.pow(a.a,2)+Math.pow(a.b,2)),u=i.L-a.L,l=i.a-a.a,d=i.b-a.b,p=Math.sqrt(Math.pow(l,2)+Math.pow(d,2)-Math.pow(s,2)),f=i.L<16?.511:.040975*i.L/(1.01765*i.L),h=.0638*c/(1.0131*c),v=Math.atan2(i.b,i.a),m=v>=0?v:v+360,g=164<=m&&m<=345?.56+Math.abs(.2*Math.cos(e.helpers.toRad(m+168))):.36+Math.abs(.4*Math.cos(e.helpers.toRad(m+35))),y=Math.pow(c,4)/(Math.pow(c,4)+1900),b=h*(y*g+1-y),w=Math.pow(u/(r*f),2);return Math.pow(s/(o*h),2),Math.pow(p/b,2),Math.sqrt(w+w+w)},fade:function(e,t,n,r){var o=e.operations.convert(e,"rgb",n),i=e.operations.convert(e,"rgb",r),a=[o];t-=1;for(var c=(i.r-o.r)/t,s=(i.g-o.g)/t,u=(i.b-o.b)/t,l={r:o.r,g:o.g,b:o.b},d=0;d<t-1;d++)l.r=e.helpers.slopeMod(l.r+c,255),l.g=e.helpers.slopeMod(l.g+s,255),l.b=e.helpers.slopeMod(l.b+u,255),a.push({r:l.r,g:l.g,b:l.b});return a.push(i),e.helpers.ready(e,a)},greyscale:function(e,t){var n=e.operations.convert(e,"rgb",t),r=(n.r+n.g+n.b)/3;return n={r,g:r,b:r},e.helpers.ready(e,n)},hue:function(e,t,n){var r=e.operations.convert(e,"hsl",n);return r.h=e.helpers.negMod(r.h+t,360),e.helpers.ready(e,r)},invert:function(e,t){var n=e.operations.convert(e,"rgb",t);return n.r=e.helpers.negMod(255-n.r,255),n.g=e.helpers.negMod(255-n.g,255),n.b=e.helpers.negMod(255-n.b,255),e.helpers.ready(e,n)},invertLightness:function(e,t){var n=e.operations.convert(e,"hsl",t);return n.l=100-n.l,e.helpers.ready(e,n)},mid:function(e,t,n){var r=e.operations.convert(e,"hsl",t),o=e.operations.convert(e,"hsl",n),i={h:(r.h+o.h)/2,s:(r.s+o.s)/2,l:(r.l+o.l)/2};return e.helpers.ready(e,i)},multiply:function(e,t,n){var r=e.operations.convert(e,"hsl",t),o=e.operations.convert(e,"hsl",n),i={h:r.h,s:r.s,l:r.l/100*(o.l/100)*100};return i.l=i.l>100?100:i.l,i.l=i.l<0?0:i.l,e.helpers.ready(e,i)},saturation:function(e,t,n){var r=e.operations.convert(e,"hsl",n);return r.s+=t,r.s<0?r.s=0:r.s>100&&(r.s=100),e.helpers.ready(e,r)},sepia:function(e,t){var n=e.operations.convert(e,"rgb",t),r={};return r.r=.393*n.r+.769*n.g+.189*n.b,r.g=.349*n.r+.686*n.g+.168*n.b,r.b=.272*n.r+.534*n.g+.131*n.b,e.helpers.ready(e,r)},shade:function(e,t,n){var r=e.operations.convert(e,"hsv",n);return r.v+=t,r.v<0?r.v=0:r.v>100&&(r.v=100),e.helpers.ready(e,r)},temperature:function(e,t){var n=e.operations.convert(e,"xyY",t),r=(n.x-.332)/(n.y-.1858);return-449*Math.pow(r,3)+3525*Math.pow(r,2)-6823.3*r+5520.33},tetrad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),r=[{h:n.h,s:n.s,l:n.l}],o=0;o<3;o++)n.h=(n.h+90)%360,r.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,r)},triad:function(e,t){for(var n=e.operations.convert(e,"hsl",t),r=[{h:n.h,s:n.s,l:n.l}],o=0;o<2;o++)n.h=(n.h+120)%360,r.push({h:n.h,s:n.s,l:n.l});return e.helpers.ready(e,r)}},l={ILLUMINANTS:{A:{X:1.0985*100,Y:100,Z:35.585},B:{X:99.072,Y:100,Z:85.223},C:{X:98.074,Y:100,Z:118.232},D50:{X:96.422,Y:100,Z:82.521},D55:{X:95.682,Y:100,Z:92.149},D65:{X:95.047,Y:100,Z:108.883},D75:{X:94.972,Y:100,Z:122.638},E:{X:100,Y:100,Z:100},F2:{X:.99186*100,Y:100,Z:67.393},F7:{X:95.041,Y:100,Z:108.747},F11:{X:1.00962*100,Y:100,Z:64.35}},TRANSFORMS:{BRADFORD:[[.8951,.2664,-.1614],[-.7502,1.7135,.0367],[.0389,-.0685,1.0296]],INVERSE_BRADFORD:[[.9869929,-.1470543,.1599627],[.4323053,.5183603,.0492912],[-.0085287,.0400428,.9684867]],SRGB_XYZ:[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],INVERSE_SRGB_XYZ:[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]]}},d=function(e,t,n){var r=Object.keys(e.operations).reduce((function(t,r){var o=e.operations[r];return t[r]=function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r.slice(0).map((function(e){return"object"===(void 0===e?"undefined":i(e))?Object.assign({},e):e}));return n&&n.colours?function t(n){var r=n.map((function(n){if(Array.isArray(n)){var r=t(n);return r.colours||r.colour}var a=o.apply(void 0,[e].concat(c(s),[n]));return"object"===(void 0===a?"undefined":i(a))?a.colours||a.colour:a}));return"number"!=typeof r[0]?e.helpers.ready(e,r):r}(n.colours):o.apply(void 0,[e].concat(c(s),[n?n.colour:void 0]))},t}),{});return n||(r=Object.assign(r,t)),r},p={getIlluminant:function(e){return l.ILLUMINANTS[e]},getTransform:function(e){return l.TRANSFORMS[e]},matrixMultiply:function(e,t){for(var n=[],r=0;r<e.length;r++){n[r]=[];for(var o=0;o<t[0].length;o++){for(var i=0,a=0;a<e[0].length;a++)i+=e[r][a]*t[a][o];n[r][o]=i}}return n},cbrt:function(e){if(Math.cbrt)return Math.cbrt(e);var t=Math.pow(Math.abs(e),1/3);return e<0?-t:t},toRad:function(e){return e*(Math.PI/180)},toDeg:function(e){return e*(180/Math.PI)},negMod:function(e,t){return(e%t+t)%t},slopeMod:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return e>2*t?slopeMod(e-2*t,t):e>t?2*t-e:e<0?slopeMod(e+2*t,t):e})),bounded:function(e,t){return e<t[0]?e=t[0]:e>t[1]&&(e=t[1]),e},boundedRgb:function(e){var t=this,n=function(e){return t.bounded(e,[0,255])};return{r:n(e.r),g:n(e.g),b:n(e.b)}},determineMode:function(e){for(var t in s)if(s.hasOwnProperty(t)&&s[t].test(e))return t;return null},ready:function(e,t){var n=e.conversions,r=e.operations,o=e.helpers,i={};switch(Object.prototype.toString.call(t)){case"[object Object]":case"[object String]":for(var a in i.colour=t,n)n.hasOwnProperty(a)&&function(e){Object.defineProperty(i,e,{get:function(){return o.determineMode(t),r.convert({conversions:n,operations:r,helpers:o},e,t)},enumerable:!0})}(a);return Object.assign(i,d({conversions:n,operations:r,helpers:o},l,i));case"[object Array]":for(var c in i.colours=t,n)n.hasOwnProperty(c)&&function(e){Object.defineProperty(i,e,{get:function(){return function t(i){return i.map((function(i){return Array.isArray(i)?t(i):r.convert({conversions:n,operations:r,helpers:o},e,i)}))}(t)},enumerable:!0})}(c);return Object.assign(i,d({conversions:n,operations:r,helpers:o},l,i));default:return null}}};const f=d({conversions:s,operations:u,helpers:p},l)},72779:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=o.apply(null,n);a&&e.push(a)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},21905:function(e){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t,n){m("listener called"),e.success=!0,t.forEach((function(t,r){n.clipboardData.setData(r,t),r===w&&n.clipboardData.getData(r)!=t&&(m("setting text/plain failed"),e.success=!1)})),n.preventDefault()}function o(e){var t=new E,n=r.bind(this,t,e);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return t.success}function i(e,t){s(e);var n=o(t);return u(),n}function a(e){var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important"),t.textContent="temporary element",document.body.appendChild(t);var n=i(t,e);return document.body.removeChild(t),n}function c(e){m("copyTextUsingDOM");var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important");var n=t;t.attachShadow&&(m("Using shadow DOM."),n=t.attachShadow({mode:"open"}));var r=document.createElement("span");r.innerText=e,n.appendChild(r),document.body.appendChild(t),s(r);var o=document.execCommand("copy");return u(),document.body.removeChild(t),o}function s(e){var t=document.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}function u(){document.getSelection().removeAllRanges()}function l(e){var t=new v.DT;return t.setData(w,e),t}function d(){return"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData}function p(e){var t=e.getData(w);if(void 0!==t)return window.clipboardData.setData("Text",t);throw"No `text/plain` value was specified."}function f(){return new h.Promise((function(e,t){var n=window.clipboardData.getData("Text");""===n?t(new Error("Empty clipboard or could not read plain text from clipboard")):e(n)}))}Object.defineProperty(t,"__esModule",{value:!0});var h=n(1),v=n(5),m=function(e){},g=!0,y=function(){(console.warn||console.log).call(arguments)},b=y.bind(console,"[clipboard-polyfill]"),w="text/plain",k=function(){function e(){}return e.setDebugLog=function(e){m=e},e.suppressWarnings=function(){g=!1,v.suppressDTWarnings()},e.write=function(e){return g&&!e.getData(w)&&b("clipboard.write() was called without a `text/plain` data type. On some platforms, this may result in an empty clipboard. Call clipboard.suppressWarnings() to suppress this warning."),new h.Promise((function(t,n){if(d())p(e)?t():n(new Error("Copying failed, possibly because the user rejected it."));else{if(o(e))return m("regular execCopy worked"),void t();if(navigator.userAgent.indexOf("Edge")>-1)return m('UA "Edge" => assuming success'),void t();if(i(document.body,e))return m("copyUsingTempSelection worked"),void t();if(a(e))return m("copyUsingTempElem worked"),void t();var r=e.getData(w);if(void 0!==r&&c(r))return m("copyTextUsingDOM worked"),void t();n(new Error("Copy command failed."))}}))},e.writeText=function(e){if(navigator.clipboard&&navigator.clipboard.writeText)return navigator.clipboard.writeText(e);var t=new v.DT;return t.setData(w,e),this.write(t)},e.read=function(){return new h.Promise((function(e,t){d()?f().then((function(t){return e(l(t))}),t):t("Read is not supported in your browser.")}))},e.readText=function(){return navigator.clipboard&&navigator.clipboard.readText?navigator.clipboard.readText():d()?f():new h.Promise((function(e,t){t("Read is not supported in your browser.")}))},e.DT=v.DT,e}();t.default=k;var E=function(){function e(){this.success=!1}return e}();e.exports=k},function(e,t,n){(function(t,r){!function(t,n){e.exports=n()}(0,(function(){"use strict";function e(e){var t=typeof e;return null!==e&&("object"===t||"function"===t)}function o(e){return"function"==typeof e}function i(e){W=e}function a(e){G=e}function c(){return void 0!==H?function(){H(u)}:s()}function s(){var e=setTimeout;return function(){return e(u,1)}}function u(){for(var e=0;e<V;e+=2)(0,X[e])(X[e+1]),X[e]=void 0,X[e+1]=void 0;V=0}function l(e,t){var n=arguments,r=this,o=new this.constructor(p);void 0===o[ee]&&D(o);var i=r._state;return i?function(){var e=n[i-1];G((function(){return A(i,o,e,r._result)}))}():O(r,o,e,t),o}function d(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(p);return w(n,e),n}function p(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function v(e){try{return e.then}catch(e){return oe.error=e,oe}}function m(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function g(e,t,n){G((function(e){var r=!1,o=m(n,t,(function(n){r||(r=!0,t!==n?w(e,n):E(e,n))}),(function(t){r||(r=!0,x(e,t))}),"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,x(e,o))}),e)}function y(e,t){t._state===ne?E(e,t._result):t._state===re?x(e,t._result):O(t,void 0,(function(t){return w(e,t)}),(function(t){return x(e,t)}))}function b(e,t,n){t.constructor===e.constructor&&n===l&&t.constructor.resolve===d?y(e,t):n===oe?(x(e,oe.error),oe.error=null):void 0===n?E(e,t):o(n)?g(e,t,n):E(e,t)}function w(t,n){t===n?x(t,f()):e(n)?b(t,n,v(n)):E(t,n)}function k(e){e._onerror&&e._onerror(e._result),S(e)}function E(e,t){e._state===te&&(e._result=t,e._state=ne,0!==e._subscribers.length&&G(S,e))}function x(e,t){e._state===te&&(e._state=re,e._result=t,G(k,e))}function O(e,t,n,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+ne]=n,o[i+re]=r,0===i&&e._state&&G(S,e)}function S(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)r=t[a],o=t[a+n],r?A(n,r,o,i):o(i);e._subscribers.length=0}}function C(){this.error=null}function T(e,t){try{return e(t)}catch(e){return ie.error=e,ie}}function A(e,t,n,r){var i=o(n),a=void 0,c=void 0,s=void 0,u=void 0;if(i){if((a=T(n,r))===ie?(u=!0,c=a.error,a.error=null):s=!0,t===a)return void x(t,h())}else a=r,s=!0;t._state!==te||(i&&s?w(t,a):u?x(t,c):e===ne?E(t,a):e===re&&x(t,a))}function _(e,t){try{t((function(t){w(e,t)}),(function(t){x(e,t)}))}catch(t){x(e,t)}}function P(){return ae++}function D(e){e[ee]=ae++,e._state=void 0,e._result=void 0,e._subscribers=[]}function Z(e,t){this._instanceConstructor=e,this.promise=new e(p),this.promise[ee]||D(this.promise),U(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&E(this.promise,this._result))):x(this.promise,I())}function I(){return new Error("Array Methods must be provided an Array")}function L(e){return new Z(this,e).promise}function M(e){var t=this;return new t(U(e)?function(n,r){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(n,r)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function R(e){var t=new this(p);return x(t,e),t}function N(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function j(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(e){this[ee]=P(),this._result=this._state=void 0,this._subscribers=[],p!==e&&("function"!=typeof e&&N(),this instanceof F?_(this,e):j())}function B(){var e=void 0;if(void 0!==r)e=r;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=F}var z=void 0;z=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var U=z,V=0,H=void 0,W=void 0,G=function(e,t){X[V]=e,X[V+1]=t,2===(V+=2)&&(W?W(u):Q())},q="undefined"!=typeof window?window:void 0,K=q||{},$=K.MutationObserver||K.WebKitMutationObserver,J="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),Y="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3),Q=void 0;Q=J?function(){return t.nextTick(u)}:$?function(){var e=0,t=new $(u),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}():Y?function(){var e=new MessageChannel;return e.port1.onmessage=u,function(){return e.port2.postMessage(0)}}():void 0===q?function(){try{var e=n(4);return H=e.runOnLoop||e.runOnContext,c()}catch(e){return s()}}():s();var ee=Math.random().toString(36).substring(16),te=void 0,ne=1,re=2,oe=new C,ie=new C,ae=0;return Z.prototype._enumerate=function(e){for(var t=0;this._state===te&&t<e.length;t++)this._eachEntry(e[t],t)},Z.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===d){var o=v(e);if(o===l&&e._state!==te)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(n===F){var i=new n(p);b(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(r(e),t)},Z.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===te&&(this._remaining--,e===re?x(r,n):this._result[t]=n),0===this._remaining&&E(r,this._result)},Z.prototype._willSettleAt=function(e,t){var n=this;O(e,void 0,(function(e){return n._settledAt(ne,t,e)}),(function(e){return n._settledAt(re,t,e)}))},F.all=L,F.race=M,F.resolve=d,F.reject=R,F._setScheduler=i,F._setAsap=a,F._asap=G,F.prototype={constructor:F,then:l,catch:function(e){return this.then(null,e)}},F.polyfill=B,F.Promise=F,F}))}).call(t,n(2),n(3))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function a(){v&&f&&(v=!1,f.length?h=f.concat(h):m=-1,h.length&&c())}function c(){if(!v){var e=o(a);v=!0;for(var t=h.length;t;){for(f=h,h=[];++m<t;)f&&f[m].run();m=-1,t=h.length}f=null,v=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function u(){}var l,d,p=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var f,h=[],v=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||v||o(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){},function(e,t,n){"use strict";function r(){c=!1}Object.defineProperty(t,"__esModule",{value:!0});var o=["text/plain","text/html"],i=function(){(console.warn||console.log).call(arguments)},a=i.bind(console,"[clipboard-polyfill]"),c=!0;t.suppressDTWarnings=r;var s=function(){function e(){this.m={}}return e.prototype.setData=function(e,t){c&&-1===o.indexOf(e)&&a("Unknown data type: "+e,"Call clipboard.suppressWarnings() to suppress this warning."),this.m[e]=t},e.prototype.getData=function(e){return this.m[e]},e.prototype.forEach=function(e){for(var t in this.m)e(this.m[t],t)},e}();t.DT=s}])},99798:(e,t,n)=>{"use strict";var r,o=n(34406),i=function(){function e(e,t){if("function"!=typeof e)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=function(e){var t=!e||!1!==e.batch;if(!t)return 1;var n=e&&e.maxBatchSize;if(void 0===n)return 1/0;if("number"!=typeof n||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}(t),this._batchScheduleFn=function(e){var t=e&&e.batchScheduleFn;if(void 0===t)return a;if("function"!=typeof t)throw new TypeError("batchScheduleFn must be a function: "+t);return t}(t),this._cacheKeyFn=function(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!=typeof t)throw new TypeError("cacheKeyFn must be a function: "+t);return t}(t),this._cacheMap=function(e){var t=!e||!1!==e.cache;if(!t)return null;var n=e&&e.cacheMap;if(void 0===n)return new Map;if(null!==n){var r=["get","set","delete","clear"].filter((function(e){return n&&"function"!=typeof n[e]}));if(0!==r.length)throw new TypeError("Custom cacheMap missing methods: "+r.join(", "))}return n}(t),this._batch=null,this.name=function(e){if(e&&e.name)return e.name;return null}(t)}var t=e.prototype;return t.load=function(e){if(null==e)throw new TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t=function(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn((function(){!function(e,t){if(t.hasDispatched=!0,0===t.keys.length)return void s(t);var n;try{n=e._batchLoadFn(t.keys)}catch(n){return c(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function errored synchronously: "+String(n)+"."))}if(!n||"function"!=typeof n.then)return c(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(n)+"."));n.then((function(e){if(!u(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));s(t);for(var n=0;n<t.callbacks.length;n++){var r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}})).catch((function(n){c(e,t,n)}))}(e,n)})),n}(this),n=this._cacheMap,r=this._cacheKeyFn(e);if(n){var o=n.get(r);if(o){var i=t.cacheHits||(t.cacheHits=[]);return new Promise((function(e){i.push((function(){e(o)}))}))}}t.keys.push(e);var a=new Promise((function(e,n){t.callbacks.push({resolve:e,reject:n})}));return n&&n.set(r,a),a},t.loadMany=function(e){if(!u(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],n=0;n<e.length;n++)t.push(this.load(e[n]).catch((function(e){return e})));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var n=this._cacheKeyFn(e);t.delete(n)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var n=this._cacheMap;if(n){var r,o=this._cacheKeyFn(e);if(void 0===n.get(o))t instanceof Error?(r=Promise.reject(t)).catch((function(){})):r=Promise.resolve(t),n.set(o,r)}return this},e}(),a="object"==typeof o&&"function"==typeof o.nextTick?function(e){r||(r=Promise.resolve()),r.then((function(){o.nextTick(e)}))}:"function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function c(e,t,n){s(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function s(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function u(e){return"object"==typeof e&&null!==e&&"number"==typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}e.exports=i},2463:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(66700),o=n(19785);function i(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),i=(0,r.Z)(t),a=n.getTime()-i.getTime();return a<0?-1:a>0?1:a}},90020:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(1645),o=n(66700),i=n(19785);function a(e){(0,i.Z)(1,arguments);var t=(0,o.Z)(e);return t.setHours(0,0,0,0),t}var c=864e5;function s(e,t){(0,i.Z)(2,arguments);var n=a(e),o=a(t),s=n.getTime()-(0,r.Z)(n),u=o.getTime()-(0,r.Z)(o);return Math.round((s-u)/c)}},42226:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(66700),o=n(19785);var i=n(2463);function a(e){(0,o.Z)(1,arguments);var t=(0,r.Z)(e);return function(e){(0,o.Z)(1,arguments);var t=(0,r.Z)(e);return t.setHours(23,59,59,999),t}(t).getTime()===function(e){(0,o.Z)(1,arguments);var t=(0,r.Z)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(t).getTime()}function c(e,t){(0,o.Z)(2,arguments);var n,c=(0,r.Z)(e),s=(0,r.Z)(t),u=(0,i.Z)(c,s),l=Math.abs(function(e,t){(0,o.Z)(2,arguments);var n=(0,r.Z)(e),i=(0,r.Z)(t);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())}(c,s));if(l<1)n=0;else{1===c.getMonth()&&c.getDate()>27&&c.setDate(30),c.setMonth(c.getMonth()-u*l);var d=(0,i.Z)(c,s)===-u;a((0,r.Z)(e))&&1===l&&1===(0,i.Z)(e,s)&&(d=!1),n=u*(l-Number(d))}return 0===n?0:n}},42366:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var r=n(18667),o=n(2463),i=n(42226),a=n(66700),c=n(19785);var s={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},u="trunc";function l(e,t,n){(0,c.Z)(2,arguments);var r,o=function(e,t){return(0,c.Z)(2,arguments),(0,a.Z)(e).getTime()-(0,a.Z)(t).getTime()}(e,t)/1e3;return((r=null==n?void 0:n.roundingMethod)?s[r]:s[u])(o)}var d=n(65222);function p(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var f=n(1645),h=1440,v=2520,m=43200,g=86400;function y(e,t,n){var s,u;(0,c.Z)(2,arguments);var y=(0,r.j)(),b=null!==(s=null!==(u=null==n?void 0:n.locale)&&void 0!==u?u:y.locale)&&void 0!==s?s:d.Z;if(!b.formatDistance)throw new RangeError("locale must contain formatDistance property");var w=(0,o.Z)(e,t);if(isNaN(w))throw new RangeError("Invalid time value");var k,E,x=p(p({},n),{addSuffix:Boolean(null==n?void 0:n.addSuffix),comparison:w});w>0?(k=(0,a.Z)(t),E=(0,a.Z)(e)):(k=(0,a.Z)(e),E=(0,a.Z)(t));var O,S=l(E,k),C=((0,f.Z)(E)-(0,f.Z)(k))/1e3,T=Math.round((S-C)/60);if(T<2)return null!=n&&n.includeSeconds?S<5?b.formatDistance("lessThanXSeconds",5,x):S<10?b.formatDistance("lessThanXSeconds",10,x):S<20?b.formatDistance("lessThanXSeconds",20,x):S<40?b.formatDistance("halfAMinute",0,x):S<60?b.formatDistance("lessThanXMinutes",1,x):b.formatDistance("xMinutes",1,x):0===T?b.formatDistance("lessThanXMinutes",1,x):b.formatDistance("xMinutes",T,x);if(T<45)return b.formatDistance("xMinutes",T,x);if(T<90)return b.formatDistance("aboutXHours",1,x);if(T<h){var A=Math.round(T/60);return b.formatDistance("aboutXHours",A,x)}if(T<v)return b.formatDistance("xDays",1,x);if(T<m){var _=Math.round(T/h);return b.formatDistance("xDays",_,x)}if(T<g)return O=Math.round(T/m),b.formatDistance("aboutXMonths",O,x);if((O=(0,i.Z)(E,k))<12){var P=Math.round(T/m);return b.formatDistance("xMonths",P,x)}var D=O%12,Z=Math.floor(O/12);return D<3?b.formatDistance("aboutXYears",Z,x):D<9?b.formatDistance("overXYears",Z,x):b.formatDistance("almostXYears",Z+1,x)}},36386:e=>{function t(e,t,n){var r,o,i,a,c;function s(){var u=Date.now()-a;u<t&&u>=0?r=setTimeout(s,t-u):(r=null,n||(c=e.apply(i,o),i=o=null))}null==t&&(t=100);var u=function(){i=this,o=arguments,a=Date.now();var u=n&&!r;return r||(r=setTimeout(s,t)),u&&(c=e.apply(i,o),i=o=null),c};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(c=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},u}t.debounce=t,e.exports=t},14926:(e,t,n)=>{"use strict";var r=n(33464),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,c=Object.defineProperty,s=n(81181)(),u=c&&s,l=function(e,t,n,r){if(t in e)if(!0===r){if(e[t]===n)return}else if("function"!=typeof(o=r)||"[object Function]"!==i.call(o)||!r())return;var o;u?c(e,t,{configurable:!0,enumerable:!1,value:n,writable:!0}):e[t]=n},d=function(e,t){var n=arguments.length>2?arguments[2]:{},i=r(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var c=0;c<i.length;c+=1)l(e,i[c],t[i[c]],n[i[c]])};d.supportsDescriptors=!!u,e.exports=d},44956:e=>{"use strict";function t(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,c=i.length;a<c;a++){var s=i[a],u=Object.getOwnPropertyDescriptor(o,s);void 0!==u&&u.enumerable&&(n[s]=o[s])}}return n}e.exports={assign:t,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}}},91355:(e,t,n)=>{var r,o=n(34406);!function(i){var a=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=10;function s(){this._events={},this._conf&&u.call(this,this._conf)}function u(e){e?(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),this._maxListeners=e.maxListeners!==i?e.maxListeners:c,e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this.newListener=e.newListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=c}function l(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==o&&o.emitWarning){var r=new Error(n);r.name="MaxListenersExceededWarning",r.emitter=this,r.count=e,o.emitWarning(r)}else console.error(n),console.trace&&console.trace()}function d(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,u.call(this,e)}function p(e,t,n,r){if(!n)return[];var o,i,a,c,s,u,l,d=[],f=t.length,h=t[r],v=t[r+1];if(r===f&&n._listeners){if("function"==typeof n._listeners)return e&&e.push(n._listeners),[n];for(o=0,i=n._listeners.length;o<i;o++)e&&e.push(n._listeners[o]);return[n]}if("*"===h||"**"===h||n[h]){if("*"===h){for(a in n)"_listeners"!==a&&n.hasOwnProperty(a)&&(d=d.concat(p(e,t,n[a],r+1)));return d}if("**"===h){for(a in(l=r+1===f||r+2===f&&"*"===v)&&n._listeners&&(d=d.concat(p(e,t,n,f))),n)"_listeners"!==a&&n.hasOwnProperty(a)&&("*"===a||"**"===a?(n[a]._listeners&&!l&&(d=d.concat(p(e,t,n[a],f))),d=d.concat(p(e,t,n[a],r))):d=a===v?d.concat(p(e,t,n[a],r+2)):d.concat(p(e,t,n[a],r)));return d}d=d.concat(p(e,t,n[h],r+1))}if((c=n["*"])&&p(e,t,c,r+1),s=n["**"])if(r<f)for(a in s._listeners&&p(e,t,s,f),s)"_listeners"!==a&&s.hasOwnProperty(a)&&(a===v?p(e,t,s[a],r+2):a===h?p(e,t,s[a],r+1):((u={})[a]=s[a],p(e,t,{"**":u},r+1)));else s._listeners?p(e,t,s,f):s["*"]&&s["*"]._listeners&&p(e,t,s["*"],f);return d}function f(e,t){for(var n=0,r=(e="string"==typeof e?e.split(this.delimiter):e.slice()).length;n+1<r;n++)if("**"===e[n]&&"**"===e[n+1])return;for(var o=this.listenerTree,a=e.shift();a!==i;){if(o[a]||(o[a]={}),o=o[a],0===e.length)return o._listeners?("function"==typeof o._listeners&&(o._listeners=[o._listeners]),o._listeners.push(t),!o._listeners.warned&&this._maxListeners>0&&o._listeners.length>this._maxListeners&&(o._listeners.warned=!0,l.call(this,o._listeners.length,a))):o._listeners=t,!0;a=e.shift()}return!0}d.EventEmitter2=d,d.prototype.delimiter=".",d.prototype.setMaxListeners=function(e){e!==i&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},d.prototype.event="",d.prototype.once=function(e,t){return this._once(e,t,!1)},d.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},d.prototype._once=function(e,t,n){return this._many(e,1,t,n),this},d.prototype.many=function(e,t,n){return this._many(e,t,n,!1)},d.prototype.prependMany=function(e,t,n){return this._many(e,t,n,!0)},d.prototype._many=function(e,t,n,r){var o=this;if("function"!=typeof n)throw new Error("many only accepts instances of Function");function i(){return 0==--t&&o.off(e,i),n.apply(this,arguments)}return i._origin=n,this._on(e,i,r),o},d.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,n,r,o,i,a=arguments.length;if(this._all&&this._all.length){if(i=this._all.slice(),a>3)for(t=new Array(a),o=0;o<a;o++)t[o]=arguments[o];for(r=0,n=i.length;r<n;r++)switch(this.event=e,a){case 1:i[r].call(this,e);break;case 2:i[r].call(this,e,arguments[1]);break;case 3:i[r].call(this,e,arguments[1],arguments[2]);break;default:i[r].apply(this,t)}}if(this.wildcard){i=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();p.call(this,i,c,this.listenerTree,0)}else{if("function"==typeof(i=this._events[e])){switch(this.event=e,a){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(a-1),o=1;o<a;o++)t[o-1]=arguments[o];i.apply(this,t)}return!0}i&&(i=i.slice())}if(i&&i.length){if(a>3)for(t=new Array(a-1),o=1;o<a;o++)t[o-1]=arguments[o];for(r=0,n=i.length;r<n;r++)switch(this.event=e,a){case 1:i[r].call(this);break;case 2:i[r].call(this,arguments[1]);break;case 3:i[r].call(this,arguments[1],arguments[2]);break;default:i[r].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},d.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,n,r,o,i,a=[],c=arguments.length;if(this._all){if(c>3)for(t=new Array(c),o=1;o<c;o++)t[o]=arguments[o];for(r=0,n=this._all.length;r<n;r++)switch(this.event=e,c){case 1:a.push(this._all[r].call(this,e));break;case 2:a.push(this._all[r].call(this,e,arguments[1]));break;case 3:a.push(this._all[r].call(this,e,arguments[1],arguments[2]));break;default:a.push(this._all[r].apply(this,t))}}if(this.wildcard){i=[];var u="string"==typeof e?e.split(this.delimiter):e.slice();p.call(this,i,u,this.listenerTree,0)}else i=this._events[e];if("function"==typeof i)switch(this.event=e,c){case 1:a.push(i.call(this));break;case 2:a.push(i.call(this,arguments[1]));break;case 3:a.push(i.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(c-1),o=1;o<c;o++)t[o-1]=arguments[o];a.push(i.apply(this,t))}else if(i&&i.length){if(i=i.slice(),c>3)for(t=new Array(c-1),o=1;o<c;o++)t[o-1]=arguments[o];for(r=0,n=i.length;r<n;r++)switch(this.event=e,c){case 1:a.push(i[r].call(this));break;case 2:a.push(i[r].call(this,arguments[1]));break;case 3:a.push(i[r].call(this,arguments[1],arguments[2]));break;default:a.push(i[r].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(a)},d.prototype.on=function(e,t){return this._on(e,t,!1)},d.prototype.prependListener=function(e,t){return this._on(e,t,!0)},d.prototype.onAny=function(e){return this._onAny(e,!1)},d.prototype.prependAny=function(e){return this._onAny(e,!0)},d.prototype.addListener=d.prototype.on,d.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},d.prototype._on=function(e,t,n){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw new Error("on only accepts instances of Function");return this._events||s.call(this),this.emit("newListener",e,t),this.wildcard?(f.call(this,e,t),this):(this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),n?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,l.call(this,this._events[e].length,e))):this._events[e]=t,this)},d.prototype.off=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var o="string"==typeof e?e.split(this.delimiter):e.slice();r=p.call(this,null,o,this.listenerTree,0)}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var c=0;c<r.length;c++){var s=r[c];if(n=s._listeners,a(n)){for(var u=-1,l=0,d=n.length;l<d;l++)if(n[l]===t||n[l].listener&&n[l].listener===t||n[l]._origin&&n[l]._origin===t){u=l;break}if(u<0)continue;return this.wildcard?s._listeners.splice(u,1):this._events[e].splice(u,1),0===n.length&&(this.wildcard?delete s._listeners:delete this._events[e]),this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete s._listeners:delete this._events[e],this.emit("removeListener",e,t))}return function e(t){if(t!==i){var n=Object.keys(t);for(var r in n){var o=n[r],a=t[o];a instanceof Function||"object"!=typeof a||null===a||(Object.keys(a).length>0&&e(t[o]),0===Object.keys(a).length&&delete t[o])}}}(this.listenerTree),this},d.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n])return t.splice(n,1),this.emit("removeListenerAny",e),this}else{for(n=0,r=(t=this._all).length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},d.prototype.removeListener=d.prototype.off,d.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||s.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),n=p.call(this,null,t,this.listenerTree,0),r=0;r<n.length;r++){n[r]._listeners=null}else this._events&&(this._events[e]=null);return this},d.prototype.listeners=function(e){if(this.wildcard){var t=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return p.call(this,t,n,this.listenerTree,0),t}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),a(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},d.prototype.eventNames=function(){return Object.keys(this._events)},d.prototype.listenerCount=function(e){return this.listeners(e).length},d.prototype.listenersAny=function(){return this._all?this._all:[]},(r=function(){return d}.call(t,n,t,e))===i||(e.exports=r)}()},6238:e=>{function t(e,t,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),a=t.get(i);return void 0===a&&(a=e.call(this,r),t.set(i,a)),a}function n(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function r(e,t,n,r,o){return n.bind(t,e,r,o)}function o(e,o){return r(e,this,1===e.length?t:n,o.cache.create(),o.serializer)}function i(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(e){return e in this.cache},a.prototype.get=function(e){return this.cache[e]},a.prototype.set=function(e,t){this.cache[e]=t};var c={create:function(){return new a}};e.exports=function(e,t){var n=t&&t.cache?t.cache:c,r=t&&t.serializer?t.serializer:i;return(t&&t.strategy?t.strategy:o)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return r(e,this,n,t.cache.create(),t.serializer)},monadic:function(e,n){return r(e,this,t,n.cache.create(),n.serializer)}}},83243:(e,t,n)=>{"use strict";var r=n(9680),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){if(!r(t))throw new TypeError("iterator must be a function");var a;arguments.length>=3&&(a=n),"[object Array]"===o.call(e)?function(e,t,n){for(var r=0,o=e.length;r<o;r++)i.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,a):"string"==typeof e?function(e,t,n){for(var r=0,o=e.length;r<o;r++)null==n?t(e.charAt(r),r,e):t.call(n,e.charAt(r),r,e)}(e,t,a):function(e,t,n){for(var r in e)i.call(e,r)&&(null==n?t(e[r],r,e):t.call(n,e[r],r,e))}(e,t,a)}},37795:e=>{"use strict";var t=Array.prototype.slice,n=Object.prototype.toString;e.exports=function(e){var r=this;if("function"!=typeof r||"[object Function]"!==n.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,i=t.call(arguments,1),a=Math.max(0,r.length-i.length),c=[],s=0;s<a;s++)c.push("$"+s);if(o=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var n=r.apply(this,i.concat(t.call(arguments)));return Object(n)===n?n:this}return r.apply(e,i.concat(t.call(arguments)))})),r.prototype){var u=function(){};u.prototype=r.prototype,o.prototype=new u,u.prototype=null}return o}},4090:(e,t,n)=>{"use strict";var r=n(37795);e.exports=Function.prototype.bind||r},67286:(e,t,n)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,c=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var u=function(){throw new a},l=s?function(){try{return u}catch(e){try{return s(arguments,"callee").get}catch(e){return u}}}():u,d=n(32636)(),p=Object.getPrototypeOf||function(e){return e.__proto__},f={},h="undefined"==typeof Uint8Array?r:p(Uint8Array),v={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":d?p([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?p(p([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?p((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?p((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?p(""[Symbol.iterator]()):r,"%Symbol%":d?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};try{null.error}catch(e){var m=p(p(e));v["%Error.prototype%"]=m}var g=function e(t){var n;if("%AsyncFunction%"===t)n=c("async function () {}");else if("%GeneratorFunction%"===t)n=c("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=c("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&(n=p(o.prototype))}return v[t]=n,n},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(4090),w=n(23198),k=b.call(Function.call,Array.prototype.concat),E=b.call(Function.apply,Array.prototype.splice),x=b.call(Function.call,String.prototype.replace),O=b.call(Function.call,String.prototype.slice),S=b.call(Function.call,RegExp.prototype.exec),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,T=/\\(\\)?/g,A=function(e,t){var n,r=e;if(w(y,r)&&(r="%"+(n=y[r])[0]+"%"),w(v,r)){var i=v[r];if(i===f&&(i=g(r)),void 0===i&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===S(/^%?[^%]*%?$/,e))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=O(e,0,1),n=O(e,-1);if("%"===t&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return x(e,C,(function(e,t,n,o){r[r.length]=n?x(o,T,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",i=A("%"+r+"%",t),c=i.name,u=i.value,l=!1,d=i.alias;d&&(r=d[0],E(n,k([0,1],d)));for(var p=1,f=!0;p<n.length;p+=1){var h=n[p],m=O(h,0,1),g=O(h,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==h&&f||(l=!0),w(v,c="%"+(r+="."+h)+"%"))u=v[c];else if(null!=u){if(!(h in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&p+1>=n.length){var y=s(u,h);u=(f=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:u[h]}else f=w(u,h),u=u[h];f&&!l&&(v[c]=u)}}return u}},50326:(e,t,n)=>{"use strict";var r=n(67286)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},81181:(e,t,n)=>{"use strict";var r=n(67286)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},32636:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(66679);e.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},66679:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},67226:(e,t,n)=>{"use strict";var r=n(66679);e.exports=function(){return r()&&!!Symbol.toStringTag}},23198:(e,t,n)=>{"use strict";var r=n(4090);e.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},91285:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},52635:(e,t,n)=>{"use strict";var r=n(67226)(),o=n(62680)("Object.prototype.toString"),i=function(e){return!(r&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},c=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=c?i:a},9680:e=>{"use strict";var t,n,r=Function.prototype.toString,o="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof o&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},o((function(){throw 42}),null,t)}catch(e){e!==n&&(o=null)}else o=null;var i=/^\s*class\b/,a=function(e){try{var t=r.call(e);return i.test(t)}catch(e){return!1}},c=function(e){try{return!a(e)&&(r.call(e),!0)}catch(e){return!1}},s=Object.prototype.toString,u="function"==typeof Symbol&&!!Symbol.toStringTag,l=!(0 in[,]),d=function(){return!1};if("object"==typeof document){var p=document.all;s.call(p)===s.call(document.all)&&(d=function(e){if((l||!e)&&(void 0===e||"object"==typeof e))try{var t=s.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=o?function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;try{o(e,null,t)}catch(e){if(e!==n)return!1}return!a(e)&&c(e)}:function(e){if(d(e))return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if(u)return c(e);if(a(e))return!1;var t=s.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&c(e)}},43138:(e,t,n)=>{"use strict";var r,o=Object.prototype.toString,i=Function.prototype.toString,a=/^\s*(?:function)?\*/,c=n(67226)(),s=Object.getPrototypeOf;e.exports=function(e){if("function"!=typeof e)return!1;if(a.test(i.call(e)))return!0;if(!c)return"[object GeneratorFunction]"===o.call(e);if(!s)return!1;if(void 0===r){var t=function(){if(!c)return!1;try{return Function("return function*() {}")()}catch(e){}}();r=!!t&&s(t)}return s(e)===r}},37053:e=>{"use strict";e.exports=function(e){return e!=e}},74782:(e,t,n)=>{"use strict";var r=n(89429),o=n(14926),i=n(37053),a=n(40755),c=n(55346),s=r(a(),Number);o(s,{getPolyfill:a,implementation:i,shim:c}),e.exports=s},40755:(e,t,n)=>{"use strict";var r=n(37053);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},55346:(e,t,n)=>{"use strict";var r=n(14926),o=n(40755);e.exports=function(){var e=o();return r(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},50198:(e,t,n)=>{"use strict";var r=n(83243),o=n(62191),i=n(62680),a=i("Object.prototype.toString"),c=n(67226)(),s=n(50326),u="undefined"==typeof globalThis?n.g:globalThis,l=o(),d=i("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},p=i("String.prototype.slice"),f={},h=Object.getPrototypeOf;c&&s&&h&&r(l,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var n=h(t),r=s(n,Symbol.toStringTag);if(!r){var o=h(n);r=s(o,Symbol.toStringTag)}f[e]=r.get}}));e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!c||!(Symbol.toStringTag in e)){var t=p(a(e),8,-1);return d(l,t)>-1}return!!s&&function(e){var t=!1;return r(f,(function(n,r){if(!t)try{t=n.call(e)===r}catch(e){}})),t}(e)}},10251:(e,t,n)=>{"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var c={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var s={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function d(e){var t=e.re=n(37998)(e.__opts__),r=e.__tlds__.slice();function c(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(u),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(c(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(c(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(c(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(c(t.tpl_host_fuzzy_test),"i");var s=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?i(n.validate)?r.validate=n.validate:l(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?l(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?l(t,n):s.push(t)}})),s.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var d=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function p(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function f(e,t){var n=new p(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function h(e,t){if(!(this instanceof h))return new h(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||c.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},c,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},s,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},d(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},h.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,c,s;if(this.re.schema_test.test(e))for((c=this.re.schema_search).lastIndex=0;null!==(t=c.exec(e));)if(o=this.testSchemaAt(e,t[2],c.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},h.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},37998:(e,t,n)=>{"use strict";e.exports=function(e){var t={};t.src_Any=n(83530).source,t.src_Cc=n(46889).source,t.src_Z=n(18442).source,t.src_P=n(7062).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><｜]";return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},81207:e=>{e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},50217:e=>{e.exports=function(e){return e.split("")}},45981:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},6435:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},51704:(e,t,n)=>{var r=n(52153),o=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(o,""):e}},23895:(e,t,n)=>{var r=n(39872);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},83126:(e,t,n)=>{var r=n(23895),o=n(33880),i=n(8435),a=n(66188);e.exports=function(e){return function(t){t=a(t);var n=o(t)?i(t):void 0,c=n?n[0]:t.charAt(0),s=n?r(n,1).join(""):t.slice(1);return c[e]()+s}}},34311:(e,t,n)=>{var r=n(81207),o=n(97329),i=n(11618),a=RegExp("['’]","g");e.exports=function(e){return function(t){return r(i(o(t).replace(a,"")),e,"")}}},61655:(e,t,n)=>{var r=n(6435)({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"});e.exports=r},33880:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},83559:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},8435:(e,t,n)=>{var r=n(50217),o=n(33880),i=n(63344);e.exports=function(e){return o(e)?i(e):r(e)}},52153:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},63344:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?",l=u+s+("(?:\\u200d(?:"+[i,a,c].join("|")+")"+u+s+")*"),d="(?:"+[i+r+"?",r,a,c,n].join("|")+")",p=RegExp(o+"(?="+o+")|"+d+l,"g");e.exports=function(e){return e.match(p)||[]}},75304:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",c="\\d+",s="["+n+"]",u="["+r+"]",l="[^"+t+i+c+n+r+o+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",f="["+o+"]",h="(?:"+u+"|"+l+")",v="(?:"+f+"|"+l+")",m="(?:['’](?:d|ll|m|re|s|t|ve))?",g="(?:['’](?:D|LL|M|RE|S|T|VE))?",y="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",w=b+y+("(?:\\u200d(?:"+["[^"+t+"]",d,p].join("|")+")"+b+y+")*"),k="(?:"+[s,d,p].join("|")+")"+w,E=RegExp([f+"?"+u+"+"+m+"(?="+[a,f,"$"].join("|")+")",v+"+"+g+"(?="+[a,f+h,"$"].join("|")+")",f+"?"+h+"+"+m,f+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",c,k].join("|"),"g");e.exports=function(e){return e.match(E)||[]}},96009:(e,t,n)=>{var r=n(82108),o=n(34311)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=o},82108:(e,t,n)=>{var r=n(66188),o=n(23779);e.exports=function(e){return o(r(e).toLowerCase())}},93586:(e,t,n)=>{var r=n(39872),o=n(82406),i=n(38101),a=Math.ceil,c=Math.max;e.exports=function(e,t,n){t=(n?o(e,t,n):void 0===t)?1:c(i(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var u=0,l=0,d=Array(a(s/t));u<s;)d[l++]=r(e,u,u+=t);return d}},54073:(e,t,n)=>{var r=n(29259),o=n(61100),i=n(7642),a=Math.max,c=Math.min;e.exports=function(e,t,n){var s,u,l,d,p,f,h=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=s,r=u;return s=u=void 0,h=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||m&&e-h>=l}function w(){var e=o();if(b(e))return k(e);p=setTimeout(w,function(e){var n=t-(e-f);return m?c(n,l-(e-h)):n}(e))}function k(e){return p=void 0,g&&s?y(e):(s=u=void 0,d)}function E(){var e=o(),n=b(e);if(s=arguments,u=this,f=e,n){if(void 0===p)return function(e){return h=e,p=setTimeout(w,t),v?y(e):d}(f);if(m)return clearTimeout(p),p=setTimeout(w,t),y(f)}return void 0===p&&(p=setTimeout(w,t)),d}return t=i(t)||0,r(n)&&(v=!!n.leading,l=(m="maxWait"in n)?a(i(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),E.cancel=function(){void 0!==p&&clearTimeout(p),h=0,s=f=u=p=void 0},E.flush=function(){return void 0===p?d:k(o())},E}},97329:(e,t,n)=>{var r=n(61655),o=n(66188),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(i,r).replace(a,"")}},79857:(e,t,n)=>{var r=n(34311)((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));e.exports=r},61100:(e,t,n)=>{var r=n(37772);e.exports=function(){return r.Date.now()}},12436:(e,t,n)=>{var r=n(54073),o=n(29259);e.exports=function(e,t,n){var i=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return o(n)&&(i="leading"in n?!!n.leading:i,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:i,maxWait:t,trailing:a})}},5707:(e,t,n)=>{var r=n(7642),o=1/0;e.exports=function(e){return e?(e=r(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},38101:(e,t,n)=>{var r=n(5707);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},7642:(e,t,n)=>{var r=n(51704),o=n(29259),i=n(4795),a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=c.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):a.test(e)?NaN:+e}},23779:(e,t,n)=>{var r=n(83126)("toUpperCase");e.exports=r},11618:(e,t,n)=>{var r=n(45981),o=n(83559),i=n(66188),a=n(75304);e.exports=function(e,t,n){return e=i(e),void 0===(t=n?void 0:t)?o(e)?a(e):r(e):e.match(t)||[]}},41427:function(e,t){!function(e){const t=Symbol("newer"),n=Symbol("older");class r{constructor(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}_markEntryAsUsed(e){e!==this.newest&&(e[t]&&(e===this.oldest&&(this.oldest=e[t]),e[t][n]=e[n]),e[n]&&(e[n][t]=e[t]),e[t]=void 0,e[n]=this.newest,this.newest&&(this.newest[t]=e),this.newest=e)}assign(e){let r,i=this.limit||Number.MAX_VALUE;this._keymap.clear();let a=e[Symbol.iterator]();for(let e=a.next();!e.done;e=a.next()){let a=new o(e.value[0],e.value[1]);if(this._keymap.set(a.key,a),r?(r[t]=a,a[n]=r):this.oldest=a,r=a,0==i--)throw new Error("overflow")}this.newest=r,this.size=this._keymap.size}get(e){var t=this._keymap.get(e);return t?(this._markEntryAsUsed(t),t.value):void 0}set(e,r){var i=this._keymap.get(e);return i?(i.value=r,this._markEntryAsUsed(i),this):(this._keymap.set(e,i=new o(e,r)),this.newest?(this.newest[t]=i,i[n]=this.newest):this.oldest=i,this.newest=i,++this.size,this.size>this.limit&&this.shift(),this)}shift(){var e=this.oldest;if(e)return this.oldest[t]?(this.oldest=this.oldest[t],this.oldest[n]=void 0):(this.oldest=void 0,this.newest=void 0),e[t]=e[n]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]}find(e){let t=this._keymap.get(e);return t?t.value:void 0}has(e){return this._keymap.has(e)}delete(e){var r=this._keymap.get(e);return r?(this._keymap.delete(r.key),r[t]&&r[n]?(r[n][t]=r[t],r[t][n]=r[n]):r[t]?(r[t][n]=void 0,this.oldest=r[t]):r[n]?(r[n][t]=void 0,this.newest=r[n]):this.oldest=this.newest=void 0,this.size--,r.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new a(this.oldest)}values(){return new c(this.oldest)}entries(){return this}[Symbol.iterator](){return new i(this.oldest)}forEach(e,n){"object"!=typeof n&&(n=this);let r=this.oldest;for(;r;)e.call(n,r.value,r.key,this),r=r[t]}toJSON(){for(var e=new Array(this.size),n=0,r=this.oldest;r;)e[n++]={key:r.key,value:r.value},r=r[t];return e}toString(){for(var e="",n=this.oldest;n;)e+=String(n.key)+":"+n.value,(n=n[t])&&(e+=" < ");return e}}function o(e,r){this.key=e,this.value=r,this[t]=void 0,this[n]=void 0}function i(e){this.entry=e}function a(e){this.entry=e}function c(e){this.entry=e}e.LRUMap=r,i.prototype[Symbol.iterator]=function(){return this},i.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.key}):{done:!0,value:void 0}},c.prototype[Symbol.iterator]=function(){return this},c.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.value}):{done:!0,value:void 0}}}(t)},90276:e=>{function t(e){switch(e){case 9:case 32:return!0}return!1}function n(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function r(e){var t,n=[],r=0,o=e.length,i=0,a=0,c=!1,s=0;for(t=e.charCodeAt(r);r<o;)96===t?c?(c=!1,s=r):i%2==0&&(c=!0,s=r):124!==t||i%2!=0||c||(n.push(e.substring(a,r)),a=r+1),92===t?i++:i=0,++r===o&&c&&(c=!1,r=s+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}e.exports=function(e,o,i,a){var c,s,u,l,d,p,f,h,v,m,g;if(o+2>i)return!1;if(d=o+1,e.sCount[d]<e.blkIndent)return!1;if(e.sCount[d]-e.blkIndent>=4)return!1;if((u=e.bMarks[d]+e.tShift[d])>=e.eMarks[d])return!1;if(124!==(c=e.src.charCodeAt(u++))&&45!==c&&58!==c)return!1;for(;u<e.eMarks[d];){if(124!==(c=e.src.charCodeAt(u))&&45!==c&&58!==c&&!t(c))return!1;u++}for(p=(s=n(e,o+1)).split("|"),h=[],l=0;l<p.length;l++){if(!(v=p[l].trim())){if(0===l||l===p.length-1)continue;return!1}if(!/^:?-+:?$/.test(v))return!1;58===v.charCodeAt(v.length-1)?h.push(58===v.charCodeAt(0)?"center":"right"):58===v.charCodeAt(0)?h.push("left"):h.push("")}if(-1===(s=n(e,o).trim()).indexOf("|"))return!1;if(e.sCount[o]-e.blkIndent>=4)return!1;if((p=r(s.replace(/^\||\|$/g,""))).length>h.length)return!1;if(a)return!0;for((f=e.push("table_open","table",1)).map=m=[o,0],(f=e.push("tr_open","tr",1)).map=[o,o+1],l=0;l<p.length;l++)(f=e.push("th_open","th",1)).map=[o,o+1],h[l]&&(f.attrs=[["style","text-align:"+h[l]]]),f=e.push("paragraph_open","p",1),(f=e.push("inline","",0)).content=p[l].trim(),f.map=[o,o+1],f.children=[],f=e.push("paragraph_close","p",-1),f=e.push("th_close","th",-1);for((f=e.push("tr_close","tr",-1)).map=g=[o+2,0],d=o+2;d<i&&!(e.sCount[d]<e.blkIndent)&&-1!==(s=n(e,d).trim()).indexOf("|")&&!(e.sCount[d]-e.blkIndent>=4);d++){p=r(s.replace(/^\||\|$/g,"")),f=e.push("tr_open","tr",1);for(var y=0,b=1;y<p.length;y++){f=e.push("td_open","td",1),h[y]&&(f.attrs=[["style","text-align:"+h[y]]]);var w=" "===p[y][0]||/^(\d+\.|\*|-)$/.test(p[y].trim())?1:0;e.bMarks[d]+=b+w,b=(p[y]||"").length+(w?0:1),e.eMarks[d]=e.bMarks[d]+b-1,e.lineMax=1,e.md.block.tokenize(e,d,d+1),f=e.push("td_close","td",-1)}f=e.push("tr_close","tr",-1)}return f=e.push("table_close","table",-1),m[1]=g[1]=d,e.line=d,!0}},13054:(e,t,n)=>{"use strict";e.exports=n(81671)},83906:(e,t,n)=>{"use strict";e.exports=n(50549)},75373:e=>{"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},69372:e=>{"use strict";var t="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",n="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",r=new RegExp("^(?:"+t+"|"+n+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),o=new RegExp("^(?:"+t+"|"+n+")");e.exports.n=r,e.exports.q=o},25292:(e,t,n)=>{"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return r.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var c=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,s=new RegExp(c.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),u=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,l=n(83906);var d=/[&<>"]/,p=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function h(e){return f[e]}var v=/[.?*+^$[\]\\(){}|-]/g;var m=n(7062);t.lib={},t.lib.mdurl=n(14976),t.lib.ucmicro=n(18579),t.assign=function(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=o,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(c,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(s,(function(e,t,n){return t||function(e,t){var n=0;return o(l,t)?l[t]:35===t.charCodeAt(0)&&u.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?a(n):e}(e,n)}))},t.isValidEntityCode=i,t.fromCodePoint=a,t.escapeHtml=function(e){return d.test(e)?e.replace(p,h):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return m.test(e)},t.escapeRE=function(e){return e.replace(v,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}},14960:(e,t,n)=>{"use strict";t.parseLinkLabel=n(21519),t.parseLinkDestination=n(15361),t.parseLinkTitle=n(75477)},15361:(e,t,n)=>{"use strict";var r=n(25292).unescapeAll;e.exports=function(e,t,n){var o,i,a=t,c={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(o=e.charCodeAt(t)))return c;if(60===o)return c;if(62===o)return c.pos=t+1,c.str=r(e.slice(a+1,t)),c.ok=!0,c;92===o&&t+1<n?t+=2:t++}return c}for(i=0;t<n&&32!==(o=e.charCodeAt(t))&&!(o<32||127===o);)if(92===o&&t+1<n){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===o&&++i>32)return c;if(41===o){if(0===i)break;i--}t++}return a===t||0!==i||(c.str=r(e.slice(a,t)),c.lines=0,c.pos=t,c.ok=!0),c}},21519:e=>{"use strict";e.exports=function(e,t,n){var r,o,i,a,c=-1,s=e.posMax,u=e.pos;for(e.pos=t+1,r=1;e.pos<s;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--r){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)r++;else if(n)return e.pos=u,-1}return o&&(c=e.pos),e.pos=u,c}},75477:(e,t,n)=>{"use strict";var r=n(25292).unescapeAll;e.exports=function(e,t,n){var o,i,a=0,c=t,s={ok:!1,pos:0,lines:0,str:""};if(t>=n)return s;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return s;for(t++,40===i&&(i=41);t<n;){if((o=e.charCodeAt(t))===i)return s.pos=t+1,s.lines=a,s.str=r(e.slice(c+1,t)),s.ok=!0,s;if(40===o&&41===i)return s;10===o?a++:92===o&&t+1<n&&(t++,10===e.charCodeAt(t)&&a++),t++}return s}},81671:(e,t,n)=>{"use strict";var r=n(25292),o=n(14960),i=n(33931),a=n(88777),c=n(89101),s=n(54197),u=n(97794),l=n(14976),d=n(68058),p={default:n(61602),zero:n(28373),commonmark:n(35112)},f=/^(vbscript|javascript|file|data):/,h=/^data:image\/(gif|png|jpeg|webp);/;function v(e){var t=e.trim().toLowerCase();return!f.test(t)||!!h.test(t)}var m=["http:","https:","mailto:"];function g(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||m.indexOf(t.protocol)>=0))try{t.hostname=d.toASCII(t.hostname)}catch(e){}return l.encode(l.format(t))}function y(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||m.indexOf(t.protocol)>=0))try{t.hostname=d.toUnicode(t.hostname)}catch(e){}return l.decode(l.format(t),l.decode.defaultChars+"%")}function b(e,t){if(!(this instanceof b))return new b(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new s,this.block=new c,this.core=new a,this.renderer=new i,this.linkify=new u,this.validateLink=v,this.normalizeLink=g,this.normalizeLinkText=y,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),t&&this.set(t)}b.prototype.set=function(e){return r.assign(this.options,e),this},b.prototype.configure=function(e){var t,n=this;if(r.isString(e)&&!(e=p[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},b.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},b.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},b.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},b.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},b.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},b.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},b.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=b},89101:(e,t,n)=>{"use strict";var r=n(51390),o=[["table",n(83031),["paragraph","reference"]],["code",n(71094)],["fence",n(75883),["paragraph","reference","blockquote","list"]],["blockquote",n(74261),["paragraph","reference","blockquote","list"]],["hr",n(71208),["paragraph","reference","blockquote","list"]],["list",n(1551),["paragraph","reference","blockquote"]],["reference",n(74600)],["html_block",n(15231),["paragraph","reference","blockquote"]],["heading",n(74758),["paragraph","reference","blockquote"]],["lheading",n(78971)],["paragraph",n(2248)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,a=t,c=!1,s=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=s){e.line=n;break}for(r=0;r<i&&!o[r](e,a,n,!1);r++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),(a=e.line)<n&&e.isEmpty(a)&&(c=!0,a++,e.line=a)}},i.prototype.parse=function(e,t,n,r){var o;e&&(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=n(89043),e.exports=i},88777:(e,t,n)=>{"use strict";var r=n(51390),o=[["normalize",n(37244)],["block",n(92304)],["inline",n(34059)],["linkify",n(99357)],["replacements",n(98919)],["smartquotes",n(32508)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}i.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},i.prototype.State=n(47811),e.exports=i},54197:(e,t,n)=>{"use strict";var r=n(51390),o=[["text",n(61414)],["newline",n(24537)],["escape",n(28199)],["backticks",n(18706)],["strikethrough",n(70338).w],["emphasis",n(87147).w],["link",n(96267)],["image",n(72641)],["autolink",n(61858)],["html_inline",n(33095)],["entity",n(45796)]],i=[["balance_pairs",n(92877)],["strikethrough",n(70338).g],["emphasis",n(87147).g],["text_collapse",n(13659)]];function a(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}a.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),i=o.length,a=e.md.options.maxNesting,c=e.cache;if(void 0===c[r]){if(e.level<a)for(n=0;n<i&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,c[r]=e.pos}else e.pos=c[r]},a.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){if(e.level<a)for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,n,r){var o,i,a,c=new this.State(e,t,n,r);for(this.tokenize(c),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](c)},a.prototype.State=n(81245),e.exports=a},35112:e=>{"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","text_collapse"]}}}},61602:e=>{"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},28373:e=>{"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","text_collapse"]}}}},33931:(e,t,n)=>{"use strict";var r=n(25292).assign,o=n(25292).unescapeAll,i=n(25292).escapeHtml,a={};function c(){this.rules=r({},a)}a.code_inline=function(e,t,n,r,o){var a=e[t];return"<code"+o.renderAttrs(a)+">"+i(e[t].content)+"</code>"},a.code_block=function(e,t,n,r,o){var a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+i(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,r,a){var c,s,u,l,d,p=e[t],f=p.info?o(p.info).trim():"",h="",v="";return f&&(h=(u=f.split(/(\s+)/g))[0],v=u.slice(2).join("")),0===(c=n.highlight&&n.highlight(p.content,h,v)||i(p.content)).indexOf("<pre")?c+"\n":f?(s=p.attrIndex("class"),l=p.attrs?p.attrs.slice():[],s<0?l.push(["class",n.langPrefix+h]):(l[s]=l[s].slice(),l[s][1]+=" "+n.langPrefix+h),d={attrs:l},"<pre><code"+a.renderAttrs(d)+">"+c+"</code></pre>\n"):"<pre><code"+a.renderAttrs(p)+">"+c+"</code></pre>\n"},a.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return i(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},c.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return r},c.prototype.renderToken=function(e,t,n){var r,o="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden||-1===r.nesting&&r.tag===a.tag)&&(i=!1)),o+=i?">\n":">")},c.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,a=0,c=e.length;a<c;a++)void 0!==i[r=e[a].type]?o+=i[r](e,a,t,n,this):o+=this.renderToken(e,a,t);return o},c.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,i=e.length;o<i;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type?r+=this.renderInlineAsText(e[o].children,t,n):"softbreak"===e[o].type&&(r+="\n");return r},c.prototype.render=function(e,t,n){var r,o,i,a="",c=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(i=e[r].type)?a+=this.renderInline(e[r].children,t,n):void 0!==c[i]?a+=c[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=c},51390:e=>{"use strict";function t(){this.__rules__=[],this.__cache__=null}t.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},t.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},t.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},t.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},t.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},t.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},t.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)}),this),this.__cache__=null,n},t.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},t.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)}),this),this.__cache__=null,n},t.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=t},74261:(e,t,n)=>{"use strict";var r=n(25292).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O,S=e.lineMax,C=e.bMarks[t]+e.tShift[t],T=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(C++))return!1;if(o)return!0;for(s=f=e.sCount[t]+1,32===e.src.charCodeAt(C)?(C++,s++,f++,i=!1,w=!0):9===e.src.charCodeAt(C)?(w=!0,(e.bsCount[t]+f)%4==3?(C++,s++,f++,i=!1):i=!0):w=!1,h=[e.bMarks[t]],e.bMarks[t]=C;C<T&&(a=e.src.charCodeAt(C),r(a));)9===a?f+=4-(f+e.bsCount[t]+(i?1:0))%4:f++,C++;for(v=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(w?1:0),l=C>=T,y=[e.sCount[t]],e.sCount[t]=f-s,b=[e.tShift[t]],e.tShift[t]=C-e.bMarks[t],E=e.md.block.ruler.getRules("blockquote"),g=e.parentType,e.parentType="blockquote",p=t+1;p<n&&(O=e.sCount[p]<e.blkIndent,!((C=e.bMarks[p]+e.tShift[p])>=(T=e.eMarks[p])));p++)if(62!==e.src.charCodeAt(C++)||O){if(l)break;for(k=!1,c=0,u=E.length;c<u;c++)if(E[c](e,p,n,!0)){k=!0;break}if(k){e.lineMax=p,0!==e.blkIndent&&(h.push(e.bMarks[p]),v.push(e.bsCount[p]),b.push(e.tShift[p]),y.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}h.push(e.bMarks[p]),v.push(e.bsCount[p]),b.push(e.tShift[p]),y.push(e.sCount[p]),e.sCount[p]=-1}else{for(s=f=e.sCount[p]+1,32===e.src.charCodeAt(C)?(C++,s++,f++,i=!1,w=!0):9===e.src.charCodeAt(C)?(w=!0,(e.bsCount[p]+f)%4==3?(C++,s++,f++,i=!1):i=!0):w=!1,h.push(e.bMarks[p]),e.bMarks[p]=C;C<T&&(a=e.src.charCodeAt(C),r(a));)9===a?f+=4-(f+e.bsCount[p]+(i?1:0))%4:f++,C++;l=C>=T,v.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(w?1:0),y.push(e.sCount[p]),e.sCount[p]=f-s,b.push(e.tShift[p]),e.tShift[p]=C-e.bMarks[p]}for(m=e.blkIndent,e.blkIndent=0,(x=e.push("blockquote_open","blockquote",1)).markup=">",x.map=d=[t,0],e.md.block.tokenize(e,t,p),(x=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=S,e.parentType=g,d[1]=e.line,c=0;c<b.length;c++)e.bMarks[c+t]=h[c],e.tShift[c+t]=b[c],e.sCount[c+t]=y[c],e.bsCount[c+t]=v[c];return e.blkIndent=m,!0}},71094:e=>{"use strict";e.exports=function(e,t,n){var r,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;o=++r}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!1)+"\n",i.map=[t,e.line],!0}},75883:e=>{"use strict";e.exports=function(e,t,n,r){var o,i,a,c,s,u,l,d=!1,p=e.bMarks[t]+e.tShift[t],f=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>f)return!1;if(126!==(o=e.src.charCodeAt(p))&&96!==o)return!1;if(s=p,(i=(p=e.skipChars(p,o))-s)<3)return!1;if(l=e.src.slice(s,p),a=e.src.slice(p,f),96===o&&a.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;for(c=t;!(++c>=n)&&!((p=s=e.bMarks[c]+e.tShift[c])<(f=e.eMarks[c])&&e.sCount[c]<e.blkIndent);)if(e.src.charCodeAt(p)===o&&!(e.sCount[c]-e.blkIndent>=4||(p=e.skipChars(p,o))-s<i||(p=e.skipSpaces(p))<f)){d=!0;break}return i=e.sCount[t],e.line=c+(d?1:0),(u=e.push("fence","code",0)).info=a,u.content=e.getLines(t+1,c,i,!0),u.markup=l,u.map=[t,e.line],!0}},74758:(e,t,n)=>{"use strict";var r=n(25292).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(u))||u>=l)return!1;for(a=1,i=e.src.charCodeAt(++u);35===i&&u<l&&a<=6;)a++,i=e.src.charCodeAt(++u);return!(a>6||u<l&&!r(i))&&(o||(l=e.skipSpacesBack(l,u),(c=e.skipCharsBack(l,35,u))>u&&r(e.src.charCodeAt(c-1))&&(l=c),e.line=t+1,(s=e.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),s.map=[t,e.line],(s=e.push("inline","",0)).content=e.src.slice(u,l).trim(),s.map=[t,e.line],s.children=[],(s=e.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a)),!0)}},71208:(e,t,n)=>{"use strict";var r=n(25292).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(u++))&&45!==i&&95!==i)return!1;for(a=1;u<l;){if((c=e.src.charCodeAt(u++))!==i&&!r(c))return!1;c===i&&a++}return!(a<3)&&(o||(e.line=t+1,(s=e.push("hr","hr",0)).map=[t,e.line],s.markup=Array(a+1).join(String.fromCharCode(i))),!0)}},15231:(e,t,n)=>{"use strict";var r=n(75373),o=n(69372).q,i=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var o,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(s=e.src.slice(u,l),o=0;o<i.length&&!i[o][0].test(s);o++);if(o===i.length)return!1;if(r)return i[o][2];if(a=t+1,!i[o][1].test(s))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(u=e.bMarks[a]+e.tShift[a],l=e.eMarks[a],s=e.src.slice(u,l),i[o][1].test(s)){0!==s.length&&a++;break}return e.line=a,(c=e.push("html_block","",0)).map=[t,a],c.content=e.getLines(t,a,e.blkIndent,!0),!0}},78971:e=>{"use strict";e.exports=function(e,t,n){var r,o,i,a,c,s,u,l,d,p,f=t+1,h=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";f<n&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)){if(e.sCount[f]>=e.blkIndent&&(s=e.bMarks[f]+e.tShift[f])<(u=e.eMarks[f])&&(45===(d=e.src.charCodeAt(s))||61===d)&&(s=e.skipChars(s,d),(s=e.skipSpaces(s))>=u)){l=61===d?1:2;break}if(!(e.sCount[f]<0)){for(o=!1,i=0,a=h.length;i<a;i++)if(h[i](e,f,n,!0)){o=!0;break}if(o)break}}return!!l&&(r=e.getLines(t,f,e.blkIndent,!1).trim(),e.line=f+1,(c=e.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(d),c.map=[t,e.line],(c=e.push("inline","",0)).content=r,c.map=[t,e.line-1],c.children=[],(c=e.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(d),e.parentType=p,!0)}},1551:(e,t,n)=>{"use strict";var r=n(25292).isSpace;function o(e,t){var n,o,i,a;return o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(o++))&&45!==n&&43!==n||o<i&&(a=e.src.charCodeAt(o),!r(a))?-1:o}function i(e,t){var n,o=e.bMarks[t]+e.tShift[t],i=o,a=e.eMarks[t];if(i+1>=a)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=a)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-o>=10)return-1}return i<a&&(n=e.src.charCodeAt(i),!r(n))?-1:i}e.exports=function(e,t,n,r){var a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O,S,C,T,A,_,P,D,Z,I,L=!1,M=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.sCount[t]>=e.blkIndent&&(L=!0),(A=i(e,t))>=0){if(p=!0,P=e.bMarks[t]+e.tShift[t],y=Number(e.src.slice(P,A-1)),L&&1!==y)return!1}else{if(!((A=o(e,t))>=0))return!1;p=!1}if(L&&e.skipSpaces(A)>=e.eMarks[t])return!1;if(g=e.src.charCodeAt(A-1),r)return!0;for(m=e.tokens.length,p?(I=e.push("ordered_list_open","ol",1),1!==y&&(I.attrs=[["start",y]])):I=e.push("bullet_list_open","ul",1),I.map=v=[t,0],I.markup=String.fromCharCode(g),w=t,_=!1,Z=e.md.block.ruler.getRules("list"),x=e.parentType,e.parentType="list";w<n;){for(T=A,b=e.eMarks[w],d=k=e.sCount[w]+A-(e.bMarks[t]+e.tShift[t]);T<b;){if(9===(a=e.src.charCodeAt(T)))k+=4-(k+e.bsCount[w])%4;else{if(32!==a)break;k++}T++}if((l=(c=T)>=b?1:k-d)>4&&(l=1),u=d+l,(I=e.push("list_item_open","li",1)).markup=String.fromCharCode(g),I.map=f=[t,0],p&&(I.info=e.src.slice(P,A-1)),C=e.tight,S=e.tShift[t],O=e.sCount[t],E=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=u,e.tight=!0,e.tShift[t]=c-e.bMarks[t],e.sCount[t]=k,c>=b&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!_||(M=!1),_=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=E,e.tShift[t]=S,e.sCount[t]=O,e.tight=C,(I=e.push("list_item_close","li",-1)).markup=String.fromCharCode(g),w=t=e.line,f[1]=w,c=e.bMarks[t],w>=n)break;if(e.sCount[w]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(D=!1,s=0,h=Z.length;s<h;s++)if(Z[s](e,w,n,!0)){D=!0;break}if(D)break;if(p){if((A=i(e,w))<0)break;P=e.bMarks[w]+e.tShift[w]}else if((A=o(e,w))<0)break;if(g!==e.src.charCodeAt(A-1))break}return(I=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(g),v[1]=w,e.line=w,e.parentType=x,M&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,m),!0}},2248:e=>{"use strict";e.exports=function(e,t){var n,r,o,i,a,c,s=t+1,u=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(c=e.parentType,e.parentType="paragraph";s<l&&!e.isEmpty(s);s++)if(!(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)){for(r=!1,o=0,i=u.length;o<i;o++)if(u[o](e,s,l,!0)){r=!0;break}if(r)break}return n=e.getLines(t,s,e.blkIndent,!1).trim(),e.line=s,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=c,!0}},74600:(e,t,n)=>{"use strict";var r=n(25292).normalizeReference,o=n(25292).isSpace;e.exports=function(e,t,n,i){var a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k,E=0,x=e.bMarks[t]+e.tShift[t],O=e.eMarks[t],S=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(x))return!1;for(;++x<O;)if(93===e.src.charCodeAt(x)&&92!==e.src.charCodeAt(x-1)){if(x+1===O)return!1;if(58!==e.src.charCodeAt(x+1))return!1;break}for(u=e.lineMax,w=e.md.block.ruler.getRules("reference"),v=e.parentType,e.parentType="reference";S<u&&!e.isEmpty(S);S++)if(!(e.sCount[S]-e.blkIndent>3||e.sCount[S]<0)){for(b=!1,d=0,p=w.length;d<p;d++)if(w[d](e,S,u,!0)){b=!0;break}if(b)break}for(O=(y=e.getLines(t,S,e.blkIndent,!1).trim()).length,x=1;x<O;x++){if(91===(a=y.charCodeAt(x)))return!1;if(93===a){h=x;break}(10===a||92===a&&++x<O&&10===y.charCodeAt(x))&&E++}if(h<0||58!==y.charCodeAt(h+1))return!1;for(x=h+2;x<O;x++)if(10===(a=y.charCodeAt(x)))E++;else if(!o(a))break;if(!(m=e.md.helpers.parseLinkDestination(y,x,O)).ok)return!1;if(l=e.md.normalizeLink(m.str),!e.md.validateLink(l))return!1;for(c=x=m.pos,s=E+=m.lines,g=x;x<O;x++)if(10===(a=y.charCodeAt(x)))E++;else if(!o(a))break;for(m=e.md.helpers.parseLinkTitle(y,x,O),x<O&&g!==x&&m.ok?(k=m.str,x=m.pos,E+=m.lines):(k="",x=c,E=s);x<O&&(a=y.charCodeAt(x),o(a));)x++;if(x<O&&10!==y.charCodeAt(x)&&k)for(k="",x=c,E=s;x<O&&(a=y.charCodeAt(x),o(a));)x++;return!(x<O&&10!==y.charCodeAt(x))&&(!!(f=r(y.slice(1,h)))&&(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[f]&&(e.env.references[f]={title:k,href:l}),e.parentType=v,e.line=t+E+1),!0))}},89043:(e,t,n)=>{"use strict";var r=n(99147),o=n(25292).isSpace;function i(e,t,n,r){var i,a,c,s,u,l,d,p;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,c=s=l=d=0,u=(a=this.src).length;s<u;s++){if(i=a.charCodeAt(s),!p){if(o(i)){l++,9===i?d+=4-d%4:d++;continue}p=!0}10!==i&&s!==u-1||(10!==i&&s++,this.bMarks.push(c),this.eMarks.push(s),this.tShift.push(l),this.sCount.push(d),this.bsCount.push(0),p=!1,l=0,d=0,c=s+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var o=new r(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),o(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,r){var i,a,c,s,u,l,d,p=e;if(e>=t)return"";for(l=new Array(t-e),i=0;p<t;p++,i++){for(a=0,d=s=this.bMarks[p],u=p+1<t||r?this.eMarks[p]+1:this.eMarks[p];s<u&&a<n;){if(c=this.src.charCodeAt(s),o(c))9===c?a+=4-(a+this.bsCount[p])%4:a++;else{if(!(s-d<this.tShift[p]))break;a++}s++}l[i]=a>n?new Array(a-n+1).join(" ")+this.src.slice(s,u):this.src.slice(s,u)}return l.join("")},i.prototype.Token=r,e.exports=i},83031:(e,t,n)=>{"use strict";var r=n(25292).isSpace;function o(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.substr(n,r-n)}function i(e){var t,n=[],r=0,o=e.length,i=!1,a=0,c="";for(t=e.charCodeAt(r);r<o;)124===t&&(i?(c+=e.substring(a,r-1),a=r):(n.push(c+e.substring(a,r)),c="",a=r+1)),i=92===t,r++,t=e.charCodeAt(r);return n.push(c+e.substring(a)),n}e.exports=function(e,t,n,a){var c,s,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O;if(t+2>n)return!1;if(p=t+1,e.sCount[p]<e.blkIndent)return!1;if(e.sCount[p]-e.blkIndent>=4)return!1;if((u=e.bMarks[p]+e.tShift[p])>=e.eMarks[p])return!1;if(124!==(x=e.src.charCodeAt(u++))&&45!==x&&58!==x)return!1;if(u>=e.eMarks[p])return!1;if(124!==(O=e.src.charCodeAt(u++))&&45!==O&&58!==O&&!r(O))return!1;if(45===x&&r(O))return!1;for(;u<e.eMarks[p];){if(124!==(c=e.src.charCodeAt(u))&&45!==c&&58!==c&&!r(c))return!1;u++}for(f=(s=o(e,t+1)).split("|"),m=[],l=0;l<f.length;l++){if(!(g=f[l].trim())){if(0===l||l===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(g))return!1;58===g.charCodeAt(g.length-1)?m.push(58===g.charCodeAt(0)?"center":"right"):58===g.charCodeAt(0)?m.push("left"):m.push("")}if(-1===(s=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((f=i(s)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),0===(h=f.length)||h!==m.length)return!1;if(a)return!0;for(w=e.parentType,e.parentType="table",E=e.md.block.ruler.getRules("blockquote"),(v=e.push("table_open","table",1)).map=y=[t,0],(v=e.push("thead_open","thead",1)).map=[t,t+1],(v=e.push("tr_open","tr",1)).map=[t,t+1],l=0;l<f.length;l++)v=e.push("th_open","th",1),m[l]&&(v.attrs=[["style","text-align:"+m[l]]]),(v=e.push("inline","",0)).content=f[l].trim(),v.children=[],v=e.push("th_close","th",-1);for(v=e.push("tr_close","tr",-1),v=e.push("thead_close","thead",-1),p=t+2;p<n&&!(e.sCount[p]<e.blkIndent);p++){for(k=!1,l=0,d=E.length;l<d;l++)if(E[l](e,p,n,!0)){k=!0;break}if(k)break;if(!(s=o(e,p).trim()))break;if(e.sCount[p]-e.blkIndent>=4)break;for((f=i(s)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),p===t+2&&((v=e.push("tbody_open","tbody",1)).map=b=[t+2,0]),(v=e.push("tr_open","tr",1)).map=[p,p+1],l=0;l<h;l++)v=e.push("td_open","td",1),m[l]&&(v.attrs=[["style","text-align:"+m[l]]]),(v=e.push("inline","",0)).content=f[l]?f[l].trim():"",v.children=[],v=e.push("td_close","td",-1);v=e.push("tr_close","tr",-1)}return b&&(v=e.push("tbody_close","tbody",-1),b[1]=p),v=e.push("table_close","table",-1),y[1]=p,e.parentType=w,e.line=p,!0}},92304:e=>{"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},34059:e=>{"use strict";e.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},99357:(e,t,n)=>{"use strict";var r=n(25292).arrayReplaceAt;function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,i,a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k=e.tokens;if(e.md.options.linkify)for(n=0,i=k.length;n<i;n++)if("inline"===k[n].type&&e.md.linkify.pretest(k[n].content))for(v=0,t=(a=k[n].children).length-1;t>=0;t--)if("link_close"!==(s=a[t]).type){if("html_inline"===s.type&&(w=s.content,/^<a[>\s]/i.test(w)&&v>0&&v--,o(s.content)&&v++),!(v>0)&&"text"===s.type&&e.md.linkify.test(s.content)){for(d=s.content,b=e.md.linkify.match(d),u=[],h=s.level,f=0,l=0;l<b.length;l++)m=b[l].url,g=e.md.normalizeLink(m),e.md.validateLink(g)&&(y=b[l].text,y=b[l].schema?"mailto:"!==b[l].schema||/^mailto:/i.test(y)?e.md.normalizeLinkText(y):e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),(p=b[l].index)>f&&((c=new e.Token("text","",0)).content=d.slice(f,p),c.level=h,u.push(c)),(c=new e.Token("link_open","a",1)).attrs=[["href",g]],c.level=h++,c.markup="linkify",c.info="auto",u.push(c),(c=new e.Token("text","",0)).content=y,c.level=h,u.push(c),(c=new e.Token("link_close","a",-1)).level=--h,c.markup="linkify",c.info="auto",u.push(c),f=b[l].lastIndex);f<d.length&&((c=new e.Token("text","",0)).content=d.slice(f),c.level=h,u.push(c)),k[n].children=a=r(a,t,u)}}else for(t--;a[t].level!==s.level&&"link_open"!==a[t].type;)t--}},37244:e=>{"use strict";var t=/\r\n?|\n/g,n=/\0/g;e.exports=function(e){var r;r=(r=e.src.replace(t,"\n")).replace(n,"�"),e.src=r}},98919:e=>{"use strict";var t=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,n=/\((c|tm|r|p)\)/i,r=/\((c|tm|r|p)\)/gi,o={c:"©",r:"®",p:"§",tm:"™"};function i(e,t){return o[t.toLowerCase()]}function a(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||(n.content=n.content.replace(r,i)),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}function c(e){var n,r,o=0;for(n=e.length-1;n>=0;n--)"text"!==(r=e[n]).type||o||t.test(r.content)&&(r.content=r.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===r.type&&"auto"===r.info&&o--,"link_close"===r.type&&"auto"===r.info&&o++}e.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)"inline"===e.tokens[r].type&&(n.test(e.tokens[r].content)&&a(e.tokens[r].children),t.test(e.tokens[r].content)&&c(e.tokens[r].children))}},32508:(e,t,n)=>{"use strict";var r=n(25292).isWhiteSpace,o=n(25292).isPunctChar,i=n(25292).isMdAsciiPunct,a=/['"]/,c=/['"]/g;function s(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}function u(e,t){var n,a,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O,S,C,T;for(S=[],n=0;n<e.length;n++){for(a=e[n],f=e[n].level,x=S.length-1;x>=0&&!(S[x].level<=f);x--);if(S.length=x+1,"text"===a.type){d=0,p=(u=a.content).length;e:for(;d<p&&(c.lastIndex=d,l=c.exec(u));){if(k=E=!0,d=l.index+1,O="'"===l[0],v=32,l.index-1>=0)v=u.charCodeAt(l.index-1);else for(x=n-1;x>=0&&("softbreak"!==e[x].type&&"hardbreak"!==e[x].type);x--)if(e[x].content){v=e[x].content.charCodeAt(e[x].content.length-1);break}if(m=32,d<p)m=u.charCodeAt(d);else for(x=n+1;x<e.length&&("softbreak"!==e[x].type&&"hardbreak"!==e[x].type);x++)if(e[x].content){m=e[x].content.charCodeAt(0);break}if(g=i(v)||o(String.fromCharCode(v)),y=i(m)||o(String.fromCharCode(m)),b=r(v),(w=r(m))?k=!1:y&&(b||g||(k=!1)),b?E=!1:g&&(w||y||(E=!1)),34===m&&'"'===l[0]&&v>=48&&v<=57&&(E=k=!1),k&&E&&(k=g,E=y),k||E){if(E)for(x=S.length-1;x>=0&&(h=S[x],!(S[x].level<f));x--)if(h.single===O&&S[x].level===f){h=S[x],O?(C=t.md.options.quotes[2],T=t.md.options.quotes[3]):(C=t.md.options.quotes[0],T=t.md.options.quotes[1]),a.content=s(a.content,l.index,T),e[h.token].content=s(e[h.token].content,h.pos,C),d+=T.length-1,h.token===n&&(d+=C.length-1),p=(u=a.content).length,S.length=x;continue e}k?S.push({token:n,pos:l.index,single:O,level:f}):E&&O&&(a.content=s(a.content,l.index,"’"))}else O&&(a.content=s(a.content,l.index,"’"))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&u(e.tokens[t].children,e)}},47811:(e,t,n)=>{"use strict";var r=n(99147);function o(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=r,e.exports=o},61858:e=>{"use strict";var t=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,n=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,r){var o,i,a,c,s,u,l=e.pos;if(60!==e.src.charCodeAt(l))return!1;for(s=e.pos,u=e.posMax;;){if(++l>=u)return!1;if(60===(c=e.src.charCodeAt(l)))return!1;if(62===c)break}return o=e.src.slice(s+1,l),n.test(o)?(i=e.md.normalizeLink(o),!!e.md.validateLink(i)&&(r||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(o),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=o.length+2,!0)):!!t.test(o)&&(i=e.md.normalizeLink("mailto:"+o),!!e.md.validateLink(i)&&(r||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(o),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=o.length+2,!0))}},18706:e=>{"use strict";e.exports=function(e,t){var n,r,o,i,a,c,s,u,l=e.pos;if(96!==e.src.charCodeAt(l))return!1;for(n=l,l++,r=e.posMax;l<r&&96===e.src.charCodeAt(l);)l++;if(s=(o=e.src.slice(n,l)).length,e.backticksScanned&&(e.backticks[s]||0)<=n)return t||(e.pending+=o),e.pos+=s,!0;for(a=c=l;-1!==(a=e.src.indexOf("`",c));){for(c=a+1;c<r&&96===e.src.charCodeAt(c);)c++;if((u=c-a)===s)return t||((i=e.push("code_inline","code",0)).markup=o,i.content=e.src.slice(l,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=c,!0;e.backticks[u]=a}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=s,!0}},92877:e=>{"use strict";function t(e,t){var n,r,o,i,a,c,s,u,l={},d=t.length;if(d){var p=0,f=-2,h=[];for(n=0;n<d;n++)if(o=t[n],h.push(0),t[p].marker===o.marker&&f===o.token-1||(p=n),f=o.token,o.length=o.length||0,o.close){for(l.hasOwnProperty(o.marker)||(l[o.marker]=[-1,-1,-1,-1,-1,-1]),a=l[o.marker][(o.open?3:0)+o.length%3],c=r=p-h[p]-1;r>a;r-=h[r]+1)if((i=t[r]).marker===o.marker&&i.open&&i.end<0&&(s=!1,(i.close||o.open)&&(i.length+o.length)%3==0&&(i.length%3==0&&o.length%3==0||(s=!0)),!s)){u=r>0&&!t[r-1].open?h[r-1]+1:0,h[n]=n-r+u,h[r]=u,o.open=!1,i.end=n,i.close=!1,c=-1,f=-2;break}-1!==c&&(l[o.marker][(o.open?3:0)+(o.length||0)%3]=c)}}}e.exports=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(t(0,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&t(0,r[n].delimiters)}},87147:e=>{"use strict";function t(e,t){var n,r,o,i,a,c;for(n=t.length-1;n>=0;n--)95!==(r=t[n]).marker&&42!==r.marker||-1!==r.end&&(o=t[r.end],c=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===o.token+1,a=String.fromCharCode(r.marker),(i=e.tokens[r.token]).type=c?"strong_open":"em_open",i.tag=c?"strong":"em",i.nesting=1,i.markup=c?a+a:a,i.content="",(i=e.tokens[o.token]).type=c?"strong_close":"em_close",i.tag=c?"strong":"em",i.nesting=-1,i.markup=c?a+a:a,i.content="",c&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}e.exports.w=function(e,t){var n,r,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(r=e.scanDelims(e.pos,42===i),n=0;n<r.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.g=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(t(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&t(e,r[n].delimiters)}},45796:(e,t,n)=>{"use strict";var r=n(83906),o=n(25292).has,i=n(25292).isValidEntityCode,a=n(25292).fromCodePoint,c=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,s=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,u,l=e.pos,d=e.posMax;if(38!==e.src.charCodeAt(l))return!1;if(l+1<d)if(35===e.src.charCodeAt(l+1)){if(u=e.src.slice(l).match(c))return t||(n="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),e.pending+=i(n)?a(n):a(65533)),e.pos+=u[0].length,!0}else if((u=e.src.slice(l).match(s))&&o(r,u[1]))return t||(e.pending+=r[u[1]]),e.pos+=u[0].length,!0;return t||(e.pending+="&"),e.pos++,!0}},28199:(e,t,n)=>{"use strict";for(var r=n(25292).isSpace,o=[],i=0;i<256;i++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){o[e.charCodeAt(0)]=1})),e.exports=function(e,t){var n,i=e.pos,a=e.posMax;if(92!==e.src.charCodeAt(i))return!1;if(++i<a){if((n=e.src.charCodeAt(i))<256&&0!==o[n])return t||(e.pending+=e.src[i]),e.pos+=2,!0;if(10===n){for(t||e.push("hardbreak","br",0),i++;i<a&&(n=e.src.charCodeAt(i),r(n));)i++;return e.pos=i,!0}}return t||(e.pending+="\\"),e.pos++,!0}},33095:(e,t,n)=>{"use strict";var r=n(69372).n;e.exports=function(e,t){var n,o,i,a=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(a)||a+2>=i)&&(!(33!==(n=e.src.charCodeAt(a+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(o=e.src.slice(a).match(r))&&(t||(e.push("html_inline","",0).content=e.src.slice(a,a+o[0].length)),e.pos+=o[0].length,!0))))}},72641:(e,t,n)=>{"use strict";var r=n(25292).normalizeReference,o=n(25292).isSpace;e.exports=function(e,t){var n,i,a,c,s,u,l,d,p,f,h,v,m,g="",y=e.pos,b=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(u=e.pos+2,(s=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((l=s+1)<b&&40===e.src.charCodeAt(l)){for(l++;l<b&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(l>=b)return!1;for(m=l,(p=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok&&(g=e.md.normalizeLink(p.str),e.md.validateLink(g)?l=p.pos:g=""),m=l;l<b&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(p=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<b&&m!==l&&p.ok)for(f=p.str,l=p.pos;l<b&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);else f="";if(l>=b||41!==e.src.charCodeAt(l))return e.pos=y,!1;l++}else{if(void 0===e.env.references)return!1;if(l<b&&91===e.src.charCodeAt(l)?(m=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?c=e.src.slice(m,l++):l=s+1):l=s+1,c||(c=e.src.slice(u,s)),!(d=e.env.references[r(c)]))return e.pos=y,!1;g=d.href,f=d.title}return t||(a=e.src.slice(u,s),e.md.inline.parse(a,e.md,e.env,v=[]),(h=e.push("image","img",0)).attrs=n=[["src",g],["alt",""]],h.children=v,h.content=a,f&&n.push(["title",f])),e.pos=l,e.posMax=b,!0}},96267:(e,t,n)=>{"use strict";var r=n(25292).normalizeReference,o=n(25292).isSpace;e.exports=function(e,t){var n,i,a,c,s,u,l,d,p="",f="",h=e.pos,v=e.posMax,m=e.pos,g=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(s=e.pos+1,(c=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((u=c+1)<v&&40===e.src.charCodeAt(u)){for(g=!1,u++;u<v&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(u>=v)return!1;if(m=u,(l=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok){for(p=e.md.normalizeLink(l.str),e.md.validateLink(p)?u=l.pos:p="",m=u;u<v&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(l=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<v&&m!==u&&l.ok)for(f=l.str,u=l.pos;u<v&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);}(u>=v||41!==e.src.charCodeAt(u))&&(g=!0),u++}if(g){if(void 0===e.env.references)return!1;if(u<v&&91===e.src.charCodeAt(u)?(m=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?a=e.src.slice(m,u++):u=c+1):u=c+1,a||(a=e.src.slice(s,c)),!(d=e.env.references[r(a)]))return e.pos=h,!1;p=d.href,f=d.title}return t||(e.pos=s,e.posMax=c,e.push("link_open","a",1).attrs=n=[["href",p]],f&&n.push(["title",f]),e.md.inline.tokenize(e),e.push("link_close","a",-1)),e.pos=u,e.posMax=v,!0}},24537:(e,t,n)=>{"use strict";var r=n(25292).isSpace;e.exports=function(e,t){var n,o,i,a=e.pos;if(10!==e.src.charCodeAt(a))return!1;if(n=e.pending.length-1,o=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(i=n-1;i>=1&&32===e.pending.charCodeAt(i-1);)i--;e.pending=e.pending.slice(0,i),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(a++;a<o&&r(e.src.charCodeAt(a));)a++;return e.pos=a,!0}},81245:(e,t,n)=>{"use strict";var r=n(99147),o=n(25292).isWhiteSpace,i=n(25292).isPunctChar,a=n(25292).isMdAsciiPunct;function c(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1}c.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},c.prototype.push=function(e,t,n){this.pending&&this.pushPending();var o=new r(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(i),o},c.prototype.scanDelims=function(e,t){var n,r,c,s,u,l,d,p,f,h=e,v=!0,m=!0,g=this.posMax,y=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;h<g&&this.src.charCodeAt(h)===y;)h++;return c=h-e,r=h<g?this.src.charCodeAt(h):32,d=a(n)||i(String.fromCharCode(n)),f=a(r)||i(String.fromCharCode(r)),l=o(n),(p=o(r))?v=!1:f&&(l||d||(v=!1)),l?m=!1:d&&(p||f||(m=!1)),t?(s=v,u=m):(s=v&&(!m||d),u=m&&(!v||f)),{can_open:s,can_close:u,length:c}},c.prototype.Token=r,e.exports=c},70338:e=>{"use strict";function t(e,t){var n,r,o,i,a,c=[],s=t.length;for(n=0;n<s;n++)126===(o=t[n]).marker&&-1!==o.end&&(i=t[o.end],(a=e.tokens[o.token]).type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",(a=e.tokens[i.token]).type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&c.push(i.token-1));for(;c.length;){for(r=(n=c.pop())+1;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;n!==--r&&(a=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=a)}}e.exports.w=function(e,t){var n,r,o,i,a=e.pos,c=e.src.charCodeAt(a);if(t)return!1;if(126!==c)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(c),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:c,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.g=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(t(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&t(e,r[n].delimiters)}},61414:e=>{"use strict";function t(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,n){for(var r=e.pos;r<e.posMax&&!t(e.src.charCodeAt(r));)r++;return r!==e.pos&&(n||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}},13659:e=>{"use strict";e.exports=function(e){var t,n,r=0,o=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)o[t].nesting<0&&r--,o[t].level=r,o[t].nesting>0&&r++,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},99147:e=>{"use strict";function t(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}t.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},t.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},t.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},t.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},t.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=t},97794:(e,t,n)=>{"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var c={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var s={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function d(e){var t=e.re=n(31486)(e.__opts__),r=e.__tlds__.slice();function c(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(u),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(c(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(c(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(c(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(c(t.tpl_host_fuzzy_test),"i");var s=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?i(n.validate)?r.validate=n.validate:l(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?l(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?l(t,n):s.push(t)}})),s.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var d=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function p(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function f(e,t){var n=new p(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function h(e,t){if(!(this instanceof h))return new h(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||c.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},c,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},s,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},d(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},h.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,c,s;if(this.re.schema_test.test(e))for((c=this.re.schema_search).lastIndex=0;null!==(t=c.exec(e));)if(o=this.testSchemaAt(e,t[2],c.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},h.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},31486:(e,t,n)=>{"use strict";e.exports=function(e){var t={};t.src_Any=n(83530).source,t.src_Cc=n(46889).source,t.src_Z=n(18442).source,t.src_P=n(7062).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><｜]";return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+").|;(?!"+t.src_ZCc+").|\\!+(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},43771:e=>{"use strict";var t={};function n(e,r){var o;return"string"!=typeof r&&(r=n.defaultChars),o=function(e){var n,r,o=t[e];if(o)return o;for(o=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),o.push(r);for(n=0;n<e.length;n++)o[r=e.charCodeAt(n)]="%"+("0"+r.toString(16).toUpperCase()).slice(-2);return o}(r),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,n,r,i,a,c,s,u="";for(t=0,n=e.length;t<n;t+=3)(r=parseInt(e.slice(t+1,t+3),16))<128?u+=o[r]:192==(224&r)&&t+3<n&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(u+=(s=r<<6&1984|63&i)<128?"��":String.fromCharCode(s),t+=3):224==(240&r)&&t+6<n&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&a))?(u+=(s=r<<12&61440|i<<6&4032|63&a)<2048||s>=55296&&s<=57343?"���":String.fromCharCode(s),t+=6):240==(248&r)&&t+9<n&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),c=parseInt(e.slice(t+10,t+12),16),128==(192&i)&&128==(192&a)&&128==(192&c))?((s=r<<18&1835008|i<<12&258048|a<<6&4032|63&c)<65536||s>1114111?u+="����":(s-=65536,u+=String.fromCharCode(55296+(s>>10),56320+(1023&s))),t+=9):u+="�";return u}))}n.defaultChars=";/?:@&=+$,#",n.componentChars="",e.exports=n},81737:e=>{"use strict";var t={};function n(e,r,o){var i,a,c,s,u,l="";for("string"!=typeof r&&(o=r,r=n.defaultChars),void 0===o&&(o=!0),u=function(e){var n,r,o=t[e];if(o)return o;for(o=t[e]=[],n=0;n<128;n++)r=String.fromCharCode(n),/^[0-9a-z]$/i.test(r)?o.push(r):o.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2));for(n=0;n<e.length;n++)o[e.charCodeAt(n)]=e[n];return o}(r),i=0,a=e.length;i<a;i++)if(c=e.charCodeAt(i),o&&37===c&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))l+=e.slice(i,i+3),i+=2;else if(c<128)l+=u[c];else if(c>=55296&&c<=57343){if(c>=55296&&c<=56319&&i+1<a&&(s=e.charCodeAt(i+1))>=56320&&s<=57343){l+=encodeURIComponent(e[i]+e[i+1]),i++;continue}l+="%EF%BF%BD"}else l+=encodeURIComponent(e[i]);return l}n.defaultChars=";/?:@&=+$,-_.!~*'()#",n.componentChars="-_.!~*'()",e.exports=n},75024:e=>{"use strict";e.exports=function(e){var t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||""}},14976:(e,t,n)=>{"use strict";e.exports.encode=n(81737),e.exports.decode=n(43771),e.exports.format=n(75024),e.exports.parse=n(72084)},72084:e=>{"use strict";function t(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}var n=/^([a-z0-9.+-]+:)/i,r=/:[0-9]*$/,o=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),a=["'"].concat(i),c=["%","/","?",";","#"].concat(a),s=["/","?","#"],u=/^[+a-z0-9A-Z_-]{0,63}$/,l=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,d={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};t.prototype.parse=function(e,t){var r,i,a,f,h,v=e;if(v=v.trim(),!t&&1===e.split("#").length){var m=o.exec(v);if(m)return this.pathname=m[1],m[2]&&(this.search=m[2]),this}var g=n.exec(v);if(g&&(a=(g=g[0]).toLowerCase(),this.protocol=g,v=v.substr(g.length)),(t||g||v.match(/^\/\/[^@\/]+@[^@\/]+/))&&(!(h="//"===v.substr(0,2))||g&&d[g]||(v=v.substr(2),this.slashes=!0)),!d[g]&&(h||g&&!p[g])){var y,b,w=-1;for(r=0;r<s.length;r++)-1!==(f=v.indexOf(s[r]))&&(-1===w||f<w)&&(w=f);for(-1!==(b=-1===w?v.lastIndexOf("@"):v.lastIndexOf("@",w))&&(y=v.slice(0,b),v=v.slice(b+1),this.auth=y),w=-1,r=0;r<c.length;r++)-1!==(f=v.indexOf(c[r]))&&(-1===w||f<w)&&(w=f);-1===w&&(w=v.length),":"===v[w-1]&&w--;var k=v.slice(0,w);v=v.slice(w),this.parseHost(k),this.hostname=this.hostname||"";var E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!E){var x=this.hostname.split(/\./);for(r=0,i=x.length;r<i;r++){var O=x[r];if(O&&!O.match(u)){for(var S="",C=0,T=O.length;C<T;C++)O.charCodeAt(C)>127?S+="x":S+=O[C];if(!S.match(u)){var A=x.slice(0,r),_=x.slice(r+1),P=O.match(l);P&&(A.push(P[1]),_.unshift(P[2])),_.length&&(v=_.join(".")+v),this.hostname=A.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}var D=v.indexOf("#");-1!==D&&(this.hash=v.substr(D),v=v.slice(0,D));var Z=v.indexOf("?");return-1!==Z&&(this.search=v.substr(Z),v=v.slice(0,Z)),v&&(this.pathname=v),p[a]&&this.hostname&&!this.pathname&&(this.pathname=""),this},t.prototype.parseHost=function(e){var t=r.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},e.exports=function(e,n){if(e&&e instanceof t)return e;var r=new t;return r.parse(e,n),r}},18169:e=>{"use strict";var t=function(e){return e!=e};e.exports=function(e,n){return 0===e&&0===n?1/e==1/n:e===n||!(!t(e)||!t(n))}},34679:(e,t,n)=>{"use strict";var r=n(14926),o=n(89429),i=n(18169),a=n(68070),c=n(20191),s=o(a(),Object);r(s,{getPolyfill:a,implementation:i,shim:c}),e.exports=s},68070:(e,t,n)=>{"use strict";var r=n(18169);e.exports=function(){return"function"==typeof Object.is?Object.is:r}},20191:(e,t,n)=>{"use strict";var r=n(68070),o=n(14926);e.exports=function(){var e=r();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},75691:(e,t,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(30801),c=Object.prototype.propertyIsEnumerable,s=!c.call({toString:null},"toString"),u=c.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=a(e),c=t&&"[object String]"===i.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=u&&n;if(c&&e.length>0&&!o.call(e,0))for(var v=0;v<e.length;++v)p.push(String(v));if(r&&e.length>0)for(var m=0;m<e.length;++m)p.push(String(m));else for(var g in e)h&&"prototype"===g||!o.call(e,g)||p.push(String(g));if(s)for(var y=function(e){if("undefined"==typeof window||!f)return d(e);try{return d(e)}catch(e){return!1}}(e),b=0;b<l.length;++b)y&&"constructor"===l[b]||!o.call(e,l[b])||p.push(l[b]);return p}}e.exports=r},33464:(e,t,n)=>{"use strict";var r=Array.prototype.slice,o=n(30801),i=Object.keys,a=i?function(e){return i(e)}:n(75691),c=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?c(r.call(e)):c(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},30801:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},3619:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ae});var r="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,o=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(r&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var i=r&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),o))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function c(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function s(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=c(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:u(s(e))}function l(e){return e&&e.referenceNode?e.referenceNode:e}var d=r&&!(!window.MSInputMethodContext||!document.documentMode),p=r&&/MSIE 10/.test(navigator.userAgent);function f(e){return 11===e?d:10===e?p:d||p}function h(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===c(n,"position")?h(n):n:e?e.ownerDocument.documentElement:document.documentElement}function v(e){return null!==e.parentNode?v(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var a,c,s=i.commonAncestorContainer;if(e!==s&&t!==s||r.contains(o))return"BODY"===(c=(a=s).nodeName)||"HTML"!==c&&h(a.firstElementChild)!==a?h(s):s;var u=v(e);return u.host?m(u.host,t):m(e,v(t).host)}function g(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function y(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function b(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,r=f(10)&&getComputedStyle(n);return{height:b("Height",t,n,r),width:b("Width",t,n,r)}}var k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function O(e){return x({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=g(e,"top"),r=g(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?w(e.ownerDocument):{},a=i.width||e.clientWidth||o.width,s=i.height||e.clientHeight||o.height,u=e.offsetWidth-a,l=e.offsetHeight-s;if(u||l){var d=c(e);u-=y(d,"x"),l-=y(d,"y"),o.width-=u,o.height-=l}return O(o)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),o="HTML"===t.nodeName,i=S(e),a=S(t),s=u(e),l=c(t),d=parseFloat(l.borderTopWidth),p=parseFloat(l.borderLeftWidth);n&&o&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var h=O({top:i.top-a.top-d,left:i.left-a.left-p,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!r&&o){var v=parseFloat(l.marginTop),m=parseFloat(l.marginLeft);h.top-=d-v,h.bottom-=d-v,h.left-=p-m,h.right-=p-m,h.marginTop=v,h.marginLeft=m}return(r&&!n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=g(t,"top"),o=g(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(h,t)),h}function T(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===c(e,"position"))return!0;var n=s(e);return!!n&&T(n)}function A(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===c(t,"transform");)t=t.parentElement;return t||document.documentElement}function _(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},a=o?A(e):m(e,l(t));if("viewport"===r)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=C(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:g(n),c=t?0:g(n,"left");return O({top:a-r.top+r.marginTop,left:c-r.left+r.marginLeft,width:o,height:i})}(a,o);else{var c=void 0;"scrollParent"===r?"BODY"===(c=u(s(t))).nodeName&&(c=e.ownerDocument.documentElement):c="window"===r?e.ownerDocument.documentElement:r;var d=C(c,a,o);if("HTML"!==c.nodeName||T(a))i=d;else{var p=w(e.ownerDocument),f=p.height,h=p.width;i.top+=d.top-d.marginTop,i.bottom=f+d.top,i.left+=d.left-d.marginLeft,i.right=h+d.left}}var v="number"==typeof(n=n||0);return i.left+=v?n:n.left||0,i.top+=v?n:n.top||0,i.right-=v?n:n.right||0,i.bottom-=v?n:n.bottom||0,i}function P(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var a=_(n,r,i,o),c={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},s=Object.keys(c).map((function(e){return x({key:e},c[e],{area:(t=c[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),u=s.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),l=u.length>0?u[0].key:s[0].key,d=e.split("-")[1];return l+(d?"-"+d:"")}function D(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(n,r?A(t):m(t,l(n)),r)}function Z(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function I(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function L(e,t,n){n=n.split("-")[0];var r=Z(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),a=i?"top":"left",c=i?"left":"top",s=i?"height":"width",u=i?"width":"height";return o[a]=t[a]+t[s]/2-r[s]/2,o[c]=n===c?t[c]-r[u]:t[I(c)],o}function M(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function R(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=M(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=O(t.offsets.popper),t.offsets.reference=O(t.offsets.reference),t=n(t,e))})),t}function N(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=D(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=P(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=L(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=R(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function j(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function F(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function B(){return this.state.isDestroyed=!0,j(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function z(e){var t=e.ownerDocument;return t?t.defaultView:window}function U(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||U(u(i.parentNode),t,n,r),r.push(i)}function V(e,t,n,r){n.updateBound=r,z(e).addEventListener("resize",n.updateBound,{passive:!0});var o=u(e);return U(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function H(){this.state.eventsEnabled||(this.state=V(this.reference,this.options,this.state,this.scheduleUpdate))}function W(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,z(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function G(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function q(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&G(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var K=r&&/Firefox/i.test(navigator.userAgent);function $(e,t,n){var r=M(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var J=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Y=J.slice(3);function X(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Y.indexOf(e),r=Y.slice(n+1).concat(Y.slice(0,n));return t?r.reverse():r}var Q="flip",ee="clockwise",te="counterclockwise";function ne(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),a=e.split(/(\+|\-)/).map((function(e){return e.trim()})),c=a.indexOf(M(a,(function(e){return-1!==e.search(/,|\s/)})));a[c]&&-1===a[c].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var s=/\s*,\s*|\s+/,u=-1!==c?[a.slice(0,c).concat([a[c].split(s)[0]]),[a[c].split(s)[1]].concat(a.slice(c+1))]:[a];return u=u.map((function(e,r){var o=(1===r?!i:i)?"height":"width",a=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],a=o[2];if(!i)return e;if(0===a.indexOf("%")){return O("%p"===a?n:r)[t]/100*i}if("vh"===a||"vw"===a)return("vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)}))})),u.forEach((function(e,t){e.forEach((function(n,r){G(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var re={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,a=o.popper,c=-1!==["bottom","top"].indexOf(n),s=c?"left":"top",u=c?"width":"height",l={start:E({},s,i[s]),end:E({},s,i[s]+i[u]-a[u])};e.offsets.popper=x({},a,l[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,a=o.reference,c=r.split("-")[0],s=void 0;return s=G(+n)?[+n,0]:ne(n,i,a,c),"left"===c?(i.top+=s[0],i.left-=s[1]):"right"===c?(i.top+=s[0],i.left+=s[1]):"top"===c?(i.left+=s[0],i.top-=s[1]):"bottom"===c&&(i.left+=s[0],i.top+=s[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||h(e.instance.popper);e.instance.reference===n&&(n=h(n));var r=F("transform"),o=e.instance.popper.style,i=o.top,a=o.left,c=o[r];o.top="",o.left="",o[r]="";var s=_(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=a,o[r]=c,t.boundaries=s;var u=t.priority,l=e.offsets.popper,d={primary:function(e){var n=l[e];return l[e]<s[e]&&!t.escapeWithReference&&(n=Math.max(l[e],s[e])),E({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=l[n];return l[e]>s[e]&&!t.escapeWithReference&&(r=Math.min(l[n],s[e]-("right"===e?l.width:l.height))),E({},n,r)}};return u.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";l=x({},l,d[t](e))})),e.offsets.popper=l,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(o),c=a?"right":"bottom",s=a?"left":"top",u=a?"width":"height";return n[c]<i(r[s])&&(e.offsets.popper[s]=i(r[s])-n[u]),n[s]>i(r[c])&&(e.offsets.popper[s]=i(r[c])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!$(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,a=i.popper,s=i.reference,u=-1!==["left","right"].indexOf(o),l=u?"height":"width",d=u?"Top":"Left",p=d.toLowerCase(),f=u?"left":"top",h=u?"bottom":"right",v=Z(r)[l];s[h]-v<a[p]&&(e.offsets.popper[p]-=a[p]-(s[h]-v)),s[p]+v>a[h]&&(e.offsets.popper[p]+=s[p]+v-a[h]),e.offsets.popper=O(e.offsets.popper);var m=s[p]+s[l]/2-v/2,g=c(e.instance.popper),y=parseFloat(g["margin"+d]),b=parseFloat(g["border"+d+"Width"]),w=m-e.offsets.popper[p]-y-b;return w=Math.max(Math.min(a[l]-v,w),0),e.arrowElement=r,e.offsets.arrow=(E(n={},p,Math.round(w)),E(n,f,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(j(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=_(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=I(r),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Q:a=[r,o];break;case ee:a=X(r);break;case te:a=X(r,!0);break;default:a=t.behavior}return a.forEach((function(c,s){if(r!==c||a.length===s+1)return e;r=e.placement.split("-")[0],o=I(r);var u=e.offsets.popper,l=e.offsets.reference,d=Math.floor,p="left"===r&&d(u.right)>d(l.left)||"right"===r&&d(u.left)<d(l.right)||"top"===r&&d(u.bottom)>d(l.top)||"bottom"===r&&d(u.top)<d(l.bottom),f=d(u.left)<d(n.left),h=d(u.right)>d(n.right),v=d(u.top)<d(n.top),m=d(u.bottom)>d(n.bottom),g="left"===r&&f||"right"===r&&h||"top"===r&&v||"bottom"===r&&m,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===i&&f||y&&"end"===i&&h||!y&&"start"===i&&v||!y&&"end"===i&&m),w=!!t.flipVariationsByContent&&(y&&"start"===i&&h||y&&"end"===i&&f||!y&&"start"===i&&m||!y&&"end"===i&&v),k=b||w;(p||g||k)&&(e.flipped=!0,(p||g)&&(r=a[s+1]),k&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=x({},e.offsets.popper,L(e.instance.popper,e.offsets.reference,e.placement)),e=R(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,a=-1!==["left","right"].indexOf(n),c=-1===["top","left"].indexOf(n);return o[a?"left":"top"]=i[n]-(c?o[a?"width":"height"]:0),e.placement=I(t),e.offsets.popper=O(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!$(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=M(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=M(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,c=h(e.instance.popper),s=S(c),u={position:o.position},l=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,a=Math.floor,c=function(e){return e},s=i(o.width),u=i(r.width),l=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?l||d||s%2==u%2?i:a:c,f=t?i:c;return{left:p(s%2==1&&u%2==1&&!d&&t?r.left-1:r.left),top:f(r.top),bottom:f(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!K),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",f=F("transform"),v=void 0,m=void 0;if(m="bottom"===d?"HTML"===c.nodeName?-c.clientHeight+l.bottom:-s.height+l.bottom:l.top,v="right"===p?"HTML"===c.nodeName?-c.clientWidth+l.right:-s.width+l.right:l.left,a&&f)u[f]="translate3d("+v+"px, "+m+"px, 0)",u[d]=0,u[p]=0,u.willChange="transform";else{var g="bottom"===d?-1:1,y="right"===p?-1:1;u[d]=m*g,u[p]=v*y,u.willChange=d+", "+p}var b={"x-placement":e.placement};return e.attributes=x({},b,e.attributes),e.styles=x({},u,e.styles),e.arrowStyles=x({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return q(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&q(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=D(o,t,e,n.positionFixed),a=P(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),q(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},oe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:re},ie=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=i(this.update.bind(this)),this.options=x({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=x({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return x({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&a(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var c=this.options.eventsEnabled;c&&this.enableEventListeners(),this.state.eventsEnabled=c}return k(e,[{key:"update",value:function(){return N.call(this)}},{key:"destroy",value:function(){return B.call(this)}},{key:"enableEventListeners",value:function(){return H.call(this)}},{key:"disableEventListeners",value:function(){return W.call(this)}}]),e}();ie.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,ie.placements=J,ie.Defaults=oe;const ae=ie},19353:(e,t,n)=>{"use strict";n.d(t,{JA:()=>f,NE:()=>a,QF:()=>g,YR:()=>x,_M:()=>s,_X:()=>m,mD:()=>p,w9:()=>v});var r=n(30709),o=n(75730),i=n(16037);function a(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function c(e,t,n){for(;e;e="start"==t?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(n&&1!=e.childCount)return!1}return!1}function s(e,t,n){var r=e.selection,o=r.$head,a=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;a=u(o)}var c=a&&a.nodeBefore;return!(!c||!i.NodeSelection.isSelectable(c))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,a.pos-c.nodeSize)).scrollIntoView()),!0)}function u(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function l(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function d(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function p(e,t){var n=e.selection,r=n.$from,o=n.$to;if(n instanceof i.AllSelection||r.parent.inlineContent||o.parent.inlineContent)return!1;var a=d(o.parent.contentMatchAt(o.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){var c=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,s=e.tr.insert(c,a.createAndFill());s.setSelection(i.TextSelection.create(s.doc,c+1)),t(s.scrollIntoView())}return!0}function f(e,t){var n=e.selection,o=n.$from,a=n.$to;if(e.selection instanceof i.NodeSelection&&e.selection.node.isBlock)return!(!o.parentOffset||!(0,r.Ax)(e.doc,o.pos))&&(t&&t(e.tr.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;if(t){var c=a.parentOffset==a.parent.content.size,s=e.tr;(e.selection instanceof i.TextSelection||e.selection instanceof i.AllSelection)&&s.deleteSelection();var u=0==o.depth?null:d(o.node(-1).contentMatchAt(o.indexAfter(-1))),l=c&&u?[{type:u}]:null,p=(0,r.Ax)(s.doc,s.mapping.map(o.pos),1,l);if(l||p||!(0,r.Ax)(s.doc,s.mapping.map(o.pos),1,u&&[{type:u}])||(l=[{type:u}],p=!0),p&&(s.split(s.mapping.map(o.pos),1,l),!c&&!o.parentOffset&&o.parent.type!=u)){var f=s.mapping.map(o.before()),h=s.doc.resolve(f);o.node(-1).canReplaceWith(h.index(),h.index()+1,u)&&s.setNodeMarkup(s.mapping.map(o.before()),u)}t(s.scrollIntoView())}return!0}function h(e,t,n){var a,s,u=t.nodeBefore,l=t.nodeAfter;if(u.type.spec.isolating||l.type.spec.isolating)return!1;if(function(e,t,n){var o=t.nodeBefore,i=t.nodeAfter,a=t.index();return!(!(o&&i&&o.type.compatibleContent(i.type))||(!o.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-o.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(a,a+1)||!i.isTextblock&&!(0,r.Mn)(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,o.type,o.contentMatchAt(o.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;var d=t.parent.canReplace(t.index(),t.index()+1);if(d&&(a=(s=u.contentMatchAt(u.childCount)).findWrapping(l.type))&&s.matchType(a[0]||l.type).validEnd){if(n){for(var p=t.pos+l.nodeSize,f=o.Fragment.empty,h=a.length-1;h>=0;h--)f=o.Fragment.from(a[h].create(null,f));f=o.Fragment.from(u.copy(f));var v=e.tr.step(new r.FC(t.pos-1,p,t.pos,p,new o.Slice(f,1,0),a.length,!0)),m=p+2*a.length;(0,r.Mn)(v.doc,m)&&v.join(m),n(v.scrollIntoView())}return!0}var g=i.Selection.findFrom(t,1),y=g&&g.$from.blockRange(g.$to),b=y&&(0,r.k9)(y);if(null!=b&&b>=t.depth)return n&&n(e.tr.lift(y,b).scrollIntoView()),!0;if(d&&c(l,"start",!0)&&c(u,"end")){for(var w=u,k=[];k.push(w),!w.isTextblock;)w=w.lastChild;for(var E=l,x=1;!E.isTextblock;E=E.firstChild)x++;if(w.canReplace(w.childCount,w.childCount,E.content)){if(n){for(var O=o.Fragment.empty,S=k.length-1;S>=0;S--)O=o.Fragment.from(k[S].copy(O));n(e.tr.step(new r.FC(t.pos-k.length,t.pos+l.nodeSize,t.pos+x,t.pos+l.nodeSize-x,new o.Slice(O,k.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function v(e,t){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,c=o.ranges;if(i&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,c=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(c)return!1;c=e.inlineContent&&e.type.allowsMarkType(n)})),c)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,c,e))return!1;if(r)if(a)e.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var s=!1,u=n.tr,l=0;!s&&l<c.length;l++){var d=c[l],p=d.$from,f=d.$to;s=n.doc.rangeHasMark(p.pos,f.pos,e)}for(var h=0;h<c.length;h++){var v=c[h],m=v.$from,g=v.$to;if(s)u.removeMark(m.pos,g.pos,e);else{var y=m.pos,b=g.pos,w=m.nodeAfter,k=g.nodeBefore,E=w&&w.isText?/^\s*/.exec(w.text)[0].length:0,x=k&&k.isText?/\s*$/.exec(k.text)[0].length:0;y+E<b&&(y+=E,b-=x),u.addMark(y,b,e.create(t))}}r(u.scrollIntoView())}return!0}}function m(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,o,i){return e(n,o&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var o=[],i=0;i<n.mapping.maps.length;i++){for(var a=n.mapping.maps[i],c=0;c<o.length;c++)o[c]=a.map(o[c]);a.forEach((function(e,t,n,r){return o.push(n,r)}))}for(var s=[],u=0;u<o.length;u+=2)for(var l=o[u],d=o[u+1],p=n.doc.resolve(l),f=p.sharedDepth(d),h=p.node(f),v=p.indexAfter(f),m=p.after(f+1);m<=d;++v){var g=h.maybeChild(v);if(!g)break;if(v&&-1==s.indexOf(m)){var y=h.child(v-1);y.type==g.type&&t(y,g)&&s.push(m)}m+=g.nodeSize}s.sort((function(e,t){return e-t}));for(var b=s.length-1;b>=0;b--)(0,r.Mn)(n.doc,s[b])&&n.join(s[b]);e(n)}}(o,t),i)}}function g(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}var y=g(a,(function(e,t,n){var o=e.selection.$cursor;if(!o||(n?!n.endOfTextblock("backward",e):o.parentOffset>0))return!1;var a=u(o);if(!a){var s=o.blockRange(),l=s&&(0,r.k9)(s);return null!=l&&(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}var d=a.nodeBefore;if(!d.type.spec.isolating&&h(e,a,t))return!0;if(0==o.parent.content.size&&(c(d,"end")||i.NodeSelection.isSelectable(d))){if(t){var p=e.tr.deleteRange(o.before(),o.after());p.setSelection(c(d,"end")?i.Selection.findFrom(p.doc.resolve(p.mapping.map(a.pos,-1)),-1):i.NodeSelection.create(p.doc,a.pos-d.nodeSize)),t(p.scrollIntoView())}return!0}return!(!d.isAtom||a.depth!=o.depth-1)&&(t&&t(e.tr.delete(a.pos-d.nodeSize,a.pos).scrollIntoView()),!0)}),s),b=g(a,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=l(r);if(!o)return!1;var a=o.nodeAfter;if(h(e,o,t))return!0;if(0==r.parent.content.size&&(c(a,"start")||i.NodeSelection.isSelectable(a))){if(t){var s=e.tr.deleteRange(r.before(),r.after());s.setSelection(c(a,"start")?i.Selection.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):i.NodeSelection.create(s.doc,s.mapping.map(o.pos))),t(s.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,a=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;a=l(o)}var c=a&&a.nodeAfter;return!(!c||!i.NodeSelection.isSelectable(c))&&(t&&t(e.tr.setSelection(i.NodeSelection.create(e.doc,a.pos)).scrollIntoView()),!0)})),w={Enter:g((function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),p,(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var o=n.before();if((0,r.Ax)(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}var i=n.blockRange(),a=i&&(0,r.k9)(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}),f),"Mod-Enter":function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var a=r.node(-1),c=r.indexAfter(-1),s=d(a.contentMatchAt(c));if(!a.canReplaceWith(c,c,s))return!1;if(t){var u=r.after(),l=e.tr.replaceWith(u,u,s.createAndFill());l.setSelection(i.Selection.near(l.doc.resolve(u),1)),t(l.scrollIntoView())}return!0},Backspace:y,"Mod-Backspace":y,"Shift-Backspace":y,Delete:b,"Mod-Delete":b,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new i.AllSelection(e.doc))),!0}},k={"Ctrl-h":w.Backspace,"Alt-Backspace":w["Mod-Backspace"],"Ctrl-d":w.Delete,"Ctrl-Alt-Backspace":w["Mod-Delete"],"Alt-Delete":w["Mod-Delete"],"Alt-d":w["Mod-Delete"]};for(var E in w)k[E]=w[E];var x=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?k:w},77156:(e,t,n)=>{"use strict";n.d(t,{$:()=>u,h:()=>s});var r=n(16453),o=n(16037),i="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function a(e){var t,n,r,o,a=e.split(/-(?!$)/),c=a[a.length-1];"Space"==c&&(c=" ");for(var s=0;s<a.length-1;s++){var u=a[s];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))t=!0;else if(/^(c|ctrl|control)$/i.test(u))n=!0;else if(/^s(hift)?$/i.test(u))r=!0;else{if(!/^mod$/i.test(u))throw new Error("Unrecognized modifier name: "+u);i?o=!0:n=!0}}return t&&(c="Alt-"+c),n&&(c="Ctrl-"+c),o&&(c="Meta-"+c),r&&(c="Shift-"+c),c}function c(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function s(e){return new o.Plugin({props:{handleKeyDown:u(e)}})}function u(e){var t=function(e){var t=Object.create(null);for(var n in e)t[a(n)]=e[n];return t}(e);return function(e,n){var o,i=(0,r.YG)(n),a=1==i.length&&" "!=i,s=t[c(i,n,!a)];if(s&&s(e.state,e.dispatch,e))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(o=r.ue[n.keyCode])&&o!=i){var u=t[c(o,n,!0)];if(u&&u(e.state,e.dispatch,e))return!0}else if(a&&n.shiftKey){var l=t[c(i,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}return!1}}},38970:(e,t,n)=>{"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var c={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var s={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},u="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function d(e){var t=e.re=n(30803)(e.__opts__),r=e.__tlds__.slice();function c(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(u),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(c(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(c(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(c(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(c(t.tpl_host_fuzzy_test),"i");var s=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?i(n.validate)?r.validate=n.validate:l(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?l(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?l(t,n):s.push(t)}})),s.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var d=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+d+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function p(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function f(e,t){var n=new p(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function h(e,t){if(!(this instanceof h))return new h(e,t);var n;t||(n=e,Object.keys(n||{}).reduce((function(e,t){return e||c.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=r({},c,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},s,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},d(this)}h.prototype.add=function(e,t){return this.__schemas__[e]=t,d(this),this},h.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},h.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,c,s;if(this.re.schema_test.test(e))for((c=this.re.schema_search).lastIndex=0;null!==(t=c.exec(e));)if(o=this.testSchemaAt(e,t[2],c.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(s=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||s<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},h.prototype.pretest=function(e){return this.re.pretest.test(e)},h.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},h.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},h.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;var t=this.re.schema_at_start.exec(e);if(!t)return null;var n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,f(this,0)):null},h.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),d(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,d(this),this)},h.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},h.prototype.onCompile=function(){},e.exports=h},30803:(e,t,n)=>{"use strict";e.exports=function(e){var t={};e=e||{},t.src_Any=n(83530).source,t.src_Cc=n(46889).source,t.src_Z=n(18442).source,t.src_P=n(7062).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><｜]";return t.src_pseudo_letter="(?:(?![><｜]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><｜]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><｜]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},78864:(e,t,n)=>{"use strict";e.exports=n(11970)},53557:(e,t,n)=>{"use strict";e.exports=n(16482)},83439:e=>{"use strict";e.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","source","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},44077:e=>{"use strict";var t="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",n="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",r=new RegExp("^(?:"+t+"|"+n+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),o=new RegExp("^(?:"+t+"|"+n+")");e.exports.n=r,e.exports.q=o},11571:(e,t,n)=>{"use strict";var r=Object.prototype.hasOwnProperty;function o(e,t){return r.call(e,t)}function i(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!=(65535&e)&&65534!=(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function a(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var c=/\\([!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~])/g,s=new RegExp(c.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),u=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i,l=n(53557);var d=/[&<>"]/,p=/[&<>"]/g,f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function h(e){return f[e]}var v=/[.?*+^$[\]\\(){}|-]/g;var m=n(7062);t.lib={},t.lib.mdurl=n(14976),t.lib.ucmicro=n(18579),t.assign=function(e){return Array.prototype.slice.call(arguments,1).forEach((function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e},t.isString=function(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)},t.has=o,t.unescapeMd=function(e){return e.indexOf("\\")<0?e:e.replace(c,"$1")},t.unescapeAll=function(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(s,(function(e,t,n){return t||function(e,t){var n=0;return o(l,t)?l[t]:35===t.charCodeAt(0)&&u.test(t)&&i(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?a(n):e}(e,n)}))},t.isValidEntityCode=i,t.fromCodePoint=a,t.escapeHtml=function(e){return d.test(e)?e.replace(p,h):e},t.arrayReplaceAt=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},t.isSpace=function(e){switch(e){case 9:case 32:return!0}return!1},t.isWhiteSpace=function(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1},t.isMdAsciiPunct=function(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}},t.isPunctChar=function(e){return m.test(e)},t.escapeRE=function(e){return e.replace(v,"\\$&")},t.normalizeReference=function(e){return e=e.trim().replace(/\s+/g," "),"Ṿ"==="ẞ".toLowerCase()&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}},55661:(e,t,n)=>{"use strict";t.parseLinkLabel=n(51645),t.parseLinkDestination=n(82115),t.parseLinkTitle=n(64647)},82115:(e,t,n)=>{"use strict";var r=n(11571).unescapeAll;e.exports=function(e,t,n){var o,i,a=t,c={ok:!1,pos:0,lines:0,str:""};if(60===e.charCodeAt(t)){for(t++;t<n;){if(10===(o=e.charCodeAt(t)))return c;if(60===o)return c;if(62===o)return c.pos=t+1,c.str=r(e.slice(a+1,t)),c.ok=!0,c;92===o&&t+1<n?t+=2:t++}return c}for(i=0;t<n&&32!==(o=e.charCodeAt(t))&&!(o<32||127===o);)if(92===o&&t+1<n){if(32===e.charCodeAt(t+1))break;t+=2}else{if(40===o&&++i>32)return c;if(41===o){if(0===i)break;i--}t++}return a===t||0!==i||(c.str=r(e.slice(a,t)),c.lines=0,c.pos=t,c.ok=!0),c}},51645:e=>{"use strict";e.exports=function(e,t,n){var r,o,i,a,c=-1,s=e.posMax,u=e.pos;for(e.pos=t+1,r=1;e.pos<s;){if(93===(i=e.src.charCodeAt(e.pos))&&0===--r){o=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===i)if(a===e.pos-1)r++;else if(n)return e.pos=u,-1}return o&&(c=e.pos),e.pos=u,c}},64647:(e,t,n)=>{"use strict";var r=n(11571).unescapeAll;e.exports=function(e,t,n){var o,i,a=0,c=t,s={ok:!1,pos:0,lines:0,str:""};if(t>=n)return s;if(34!==(i=e.charCodeAt(t))&&39!==i&&40!==i)return s;for(t++,40===i&&(i=41);t<n;){if((o=e.charCodeAt(t))===i)return s.pos=t+1,s.lines=a,s.str=r(e.slice(c+1,t)),s.ok=!0,s;if(40===o&&41===i)return s;10===o?a++:92===o&&t+1<n&&(t++,10===e.charCodeAt(t)&&a++),t++}return s}},11970:(e,t,n)=>{"use strict";var r=n(11571),o=n(55661),i=n(1135),a=n(48314),c=n(24705),s=n(8847),u=n(38970),l=n(14976),d=n(68058),p={default:n(5948),zero:n(10377),commonmark:n(44251)},f=/^(vbscript|javascript|file|data):/,h=/^data:image\/(gif|png|jpeg|webp);/;function v(e){var t=e.trim().toLowerCase();return!f.test(t)||!!h.test(t)}var m=["http:","https:","mailto:"];function g(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||m.indexOf(t.protocol)>=0))try{t.hostname=d.toASCII(t.hostname)}catch(e){}return l.encode(l.format(t))}function y(e){var t=l.parse(e,!0);if(t.hostname&&(!t.protocol||m.indexOf(t.protocol)>=0))try{t.hostname=d.toUnicode(t.hostname)}catch(e){}return l.decode(l.format(t),l.decode.defaultChars+"%")}function b(e,t){if(!(this instanceof b))return new b(e,t);t||r.isString(e)||(t=e||{},e="default"),this.inline=new s,this.block=new c,this.core=new a,this.renderer=new i,this.linkify=new u,this.validateLink=v,this.normalizeLink=g,this.normalizeLinkText=y,this.utils=r,this.helpers=r.assign({},o),this.options={},this.configure(e),t&&this.set(t)}b.prototype.set=function(e){return r.assign(this.options,e),this},b.prototype.configure=function(e){var t,n=this;if(r.isString(e)&&!(e=p[t=e]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name');if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&n.set(e.options),e.components&&Object.keys(e.components).forEach((function(t){e.components[t].rules&&n[t].ruler.enableOnly(e.components[t].rules),e.components[t].rules2&&n[t].ruler2.enableOnly(e.components[t].rules2)})),this},b.prototype.enable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.enable(e,!0))}),this),n=n.concat(this.inline.ruler2.enable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},b.prototype.disable=function(e,t){var n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach((function(t){n=n.concat(this[t].ruler.disable(e,!0))}),this),n=n.concat(this.inline.ruler2.disable(e,!0));var r=e.filter((function(e){return n.indexOf(e)<0}));if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},b.prototype.use=function(e){var t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},b.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");var n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},b.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},b.prototype.parseInline=function(e,t){var n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},b.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)},e.exports=b},24705:(e,t,n)=>{"use strict";var r=n(7088),o=[["table",n(10964),["paragraph","reference"]],["code",n(42669)],["fence",n(77336),["paragraph","reference","blockquote","list"]],["blockquote",n(82498),["paragraph","reference","blockquote","list"]],["hr",n(4101),["paragraph","reference","blockquote","list"]],["list",n(77520),["paragraph","reference","blockquote"]],["reference",n(57515)],["html_block",n(40881),["paragraph","reference","blockquote"]],["heading",n(63972),["paragraph","reference","blockquote"]],["lheading",n(74239)],["paragraph",n(53510)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1],{alt:(o[e][2]||[]).slice()})}i.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,a=t,c=!1,s=e.md.options.maxNesting;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=s){e.line=n;break}for(r=0;r<i&&!o[r](e,a,n,!1);r++);e.tight=!c,e.isEmpty(e.line-1)&&(c=!0),(a=e.line)<n&&e.isEmpty(a)&&(c=!0,a++,e.line=a)}},i.prototype.parse=function(e,t,n,r){var o;e&&(o=new this.State(e,t,n,r),this.tokenize(o,o.line,o.lineMax))},i.prototype.State=n(8954),e.exports=i},48314:(e,t,n)=>{"use strict";var r=n(7088),o=[["normalize",n(91648)],["block",n(86802)],["inline",n(59449)],["linkify",n(28449)],["replacements",n(70556)],["smartquotes",n(40149)],["text_join",n(15909)]];function i(){this.ruler=new r;for(var e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1])}i.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},i.prototype.State=n(42530),e.exports=i},8847:(e,t,n)=>{"use strict";var r=n(7088),o=[["text",n(32527)],["linkify",n(15908)],["newline",n(19428)],["escape",n(68780)],["backticks",n(83061)],["strikethrough",n(71705).w],["emphasis",n(10708).w],["link",n(67233)],["image",n(89789)],["autolink",n(73193)],["html_inline",n(43377)],["entity",n(53728)]],i=[["balance_pairs",n(70774)],["strikethrough",n(71705).g],["emphasis",n(10708).g],["fragments_join",n(65842)]];function a(){var e;for(this.ruler=new r,e=0;e<o.length;e++)this.ruler.push(o[e][0],o[e][1]);for(this.ruler2=new r,e=0;e<i.length;e++)this.ruler2.push(i[e][0],i[e][1])}a.prototype.skipToken=function(e){var t,n,r=e.pos,o=this.ruler.getRules(""),i=o.length,a=e.md.options.maxNesting,c=e.cache;if(void 0===c[r]){if(e.level<a)for(n=0;n<i&&(e.level++,t=o[n](e,!0),e.level--,!t);n++);else e.pos=e.posMax;t||e.pos++,c[r]=e.pos}else e.pos=c[r]},a.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax,a=e.md.options.maxNesting;e.pos<i;){if(e.level<a)for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},a.prototype.parse=function(e,t,n,r){var o,i,a,c=new this.State(e,t,n,r);for(this.tokenize(c),a=(i=this.ruler2.getRules("")).length,o=0;o<a;o++)i[o](c)},a.prototype.State=n(52576),e.exports=a},44251:e=>{"use strict";e.exports={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},5948:e=>{"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}}},10377:e=>{"use strict";e.exports={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}}},1135:(e,t,n)=>{"use strict";var r=n(11571).assign,o=n(11571).unescapeAll,i=n(11571).escapeHtml,a={};function c(){this.rules=r({},a)}a.code_inline=function(e,t,n,r,o){var a=e[t];return"<code"+o.renderAttrs(a)+">"+i(e[t].content)+"</code>"},a.code_block=function(e,t,n,r,o){var a=e[t];return"<pre"+o.renderAttrs(a)+"><code>"+i(e[t].content)+"</code></pre>\n"},a.fence=function(e,t,n,r,a){var c,s,u,l,d,p=e[t],f=p.info?o(p.info).trim():"",h="",v="";return f&&(h=(u=f.split(/(\s+)/g))[0],v=u.slice(2).join("")),0===(c=n.highlight&&n.highlight(p.content,h,v)||i(p.content)).indexOf("<pre")?c+"\n":f?(s=p.attrIndex("class"),l=p.attrs?p.attrs.slice():[],s<0?l.push(["class",n.langPrefix+h]):(l[s]=l[s].slice(),l[s][1]+=" "+n.langPrefix+h),d={attrs:l},"<pre><code"+a.renderAttrs(d)+">"+c+"</code></pre>\n"):"<pre><code"+a.renderAttrs(p)+">"+c+"</code></pre>\n"},a.image=function(e,t,n,r,o){var i=e[t];return i.attrs[i.attrIndex("alt")][1]=o.renderInlineAsText(i.children,n,r),o.renderToken(e,t,n)},a.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},a.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},a.text=function(e,t){return i(e[t].content)},a.html_block=function(e,t){return e[t].content},a.html_inline=function(e,t){return e[t].content},c.prototype.renderAttrs=function(e){var t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+i(e.attrs[t][0])+'="'+i(e.attrs[t][1])+'"';return r},c.prototype.renderToken=function(e,t,n){var r,o="",i=!1,a=e[t];return a.hidden?"":(a.block&&-1!==a.nesting&&t&&e[t-1].hidden&&(o+="\n"),o+=(-1===a.nesting?"</":"<")+a.tag,o+=this.renderAttrs(a),0===a.nesting&&n.xhtmlOut&&(o+=" /"),a.block&&(i=!0,1===a.nesting&&t+1<e.length&&("inline"===(r=e[t+1]).type||r.hidden||-1===r.nesting&&r.tag===a.tag)&&(i=!1)),o+=i?">\n":">")},c.prototype.renderInline=function(e,t,n){for(var r,o="",i=this.rules,a=0,c=e.length;a<c;a++)void 0!==i[r=e[a].type]?o+=i[r](e,a,t,n,this):o+=this.renderToken(e,a,t);return o},c.prototype.renderInlineAsText=function(e,t,n){for(var r="",o=0,i=e.length;o<i;o++)"text"===e[o].type?r+=e[o].content:"image"===e[o].type?r+=this.renderInlineAsText(e[o].children,t,n):"softbreak"===e[o].type&&(r+="\n");return r},c.prototype.render=function(e,t,n){var r,o,i,a="",c=this.rules;for(r=0,o=e.length;r<o;r++)"inline"===(i=e[r].type)?a+=this.renderInline(e[r].children,t,n):void 0!==c[i]?a+=c[e[r].type](e,r,t,n,this):a+=this.renderToken(e,r,t,n);return a},e.exports=c},7088:e=>{"use strict";function t(){this.__rules__=[],this.__cache__=null}t.prototype.__find__=function(e){for(var t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},t.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},t.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},t.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},t.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},t.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},t.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)}),this),this.__cache__=null,n},t.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach((function(e){e.enabled=!1})),this.enable(e,t)},t.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);var n=[];return e.forEach((function(e){var r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)}),this),this.__cache__=null,n},t.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},e.exports=t},82498:(e,t,n)=>{"use strict";var r=n(11571).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O,S=e.lineMax,C=e.bMarks[t]+e.tShift[t],T=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(C++))return!1;if(o)return!0;for(s=f=e.sCount[t]+1,32===e.src.charCodeAt(C)?(C++,s++,f++,i=!1,w=!0):9===e.src.charCodeAt(C)?(w=!0,(e.bsCount[t]+f)%4==3?(C++,s++,f++,i=!1):i=!0):w=!1,h=[e.bMarks[t]],e.bMarks[t]=C;C<T&&(a=e.src.charCodeAt(C),r(a));)9===a?f+=4-(f+e.bsCount[t]+(i?1:0))%4:f++,C++;for(v=[e.bsCount[t]],e.bsCount[t]=e.sCount[t]+1+(w?1:0),l=C>=T,y=[e.sCount[t]],e.sCount[t]=f-s,b=[e.tShift[t]],e.tShift[t]=C-e.bMarks[t],E=e.md.block.ruler.getRules("blockquote"),g=e.parentType,e.parentType="blockquote",p=t+1;p<n&&(O=e.sCount[p]<e.blkIndent,!((C=e.bMarks[p]+e.tShift[p])>=(T=e.eMarks[p])));p++)if(62!==e.src.charCodeAt(C++)||O){if(l)break;for(k=!1,c=0,u=E.length;c<u;c++)if(E[c](e,p,n,!0)){k=!0;break}if(k){e.lineMax=p,0!==e.blkIndent&&(h.push(e.bMarks[p]),v.push(e.bsCount[p]),b.push(e.tShift[p]),y.push(e.sCount[p]),e.sCount[p]-=e.blkIndent);break}h.push(e.bMarks[p]),v.push(e.bsCount[p]),b.push(e.tShift[p]),y.push(e.sCount[p]),e.sCount[p]=-1}else{for(s=f=e.sCount[p]+1,32===e.src.charCodeAt(C)?(C++,s++,f++,i=!1,w=!0):9===e.src.charCodeAt(C)?(w=!0,(e.bsCount[p]+f)%4==3?(C++,s++,f++,i=!1):i=!0):w=!1,h.push(e.bMarks[p]),e.bMarks[p]=C;C<T&&(a=e.src.charCodeAt(C),r(a));)9===a?f+=4-(f+e.bsCount[p]+(i?1:0))%4:f++,C++;l=C>=T,v.push(e.bsCount[p]),e.bsCount[p]=e.sCount[p]+1+(w?1:0),y.push(e.sCount[p]),e.sCount[p]=f-s,b.push(e.tShift[p]),e.tShift[p]=C-e.bMarks[p]}for(m=e.blkIndent,e.blkIndent=0,(x=e.push("blockquote_open","blockquote",1)).markup=">",x.map=d=[t,0],e.md.block.tokenize(e,t,p),(x=e.push("blockquote_close","blockquote",-1)).markup=">",e.lineMax=S,e.parentType=g,d[1]=e.line,c=0;c<b.length;c++)e.bMarks[c+t]=h[c],e.tShift[c+t]=b[c],e.sCount[c+t]=y[c],e.bsCount[c+t]=v[c];return e.blkIndent=m,!0}},42669:e=>{"use strict";e.exports=function(e,t,n){var r,o,i;if(e.sCount[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;o=++r}return e.line=o,(i=e.push("code_block","code",0)).content=e.getLines(t,o,4+e.blkIndent,!1)+"\n",i.map=[t,e.line],!0}},77336:e=>{"use strict";e.exports=function(e,t,n,r){var o,i,a,c,s,u,l,d=!1,p=e.bMarks[t]+e.tShift[t],f=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(p+3>f)return!1;if(126!==(o=e.src.charCodeAt(p))&&96!==o)return!1;if(s=p,(i=(p=e.skipChars(p,o))-s)<3)return!1;if(l=e.src.slice(s,p),a=e.src.slice(p,f),96===o&&a.indexOf(String.fromCharCode(o))>=0)return!1;if(r)return!0;for(c=t;!(++c>=n)&&!((p=s=e.bMarks[c]+e.tShift[c])<(f=e.eMarks[c])&&e.sCount[c]<e.blkIndent);)if(e.src.charCodeAt(p)===o&&!(e.sCount[c]-e.blkIndent>=4||(p=e.skipChars(p,o))-s<i||(p=e.skipSpaces(p))<f)){d=!0;break}return i=e.sCount[t],e.line=c+(d?1:0),(u=e.push("fence","code",0)).info=a,u.content=e.getLines(t+1,c,i,!0),u.markup=l,u.map=[t,e.line],!0}},63972:(e,t,n)=>{"use strict";var r=n(11571).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(35!==(i=e.src.charCodeAt(u))||u>=l)return!1;for(a=1,i=e.src.charCodeAt(++u);35===i&&u<l&&a<=6;)a++,i=e.src.charCodeAt(++u);return!(a>6||u<l&&!r(i))&&(o||(l=e.skipSpacesBack(l,u),(c=e.skipCharsBack(l,35,u))>u&&r(e.src.charCodeAt(c-1))&&(l=c),e.line=t+1,(s=e.push("heading_open","h"+String(a),1)).markup="########".slice(0,a),s.map=[t,e.line],(s=e.push("inline","",0)).content=e.src.slice(u,l).trim(),s.map=[t,e.line],s.children=[],(s=e.push("heading_close","h"+String(a),-1)).markup="########".slice(0,a)),!0)}},4101:(e,t,n)=>{"use strict";var r=n(11571).isSpace;e.exports=function(e,t,n,o){var i,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(42!==(i=e.src.charCodeAt(u++))&&45!==i&&95!==i)return!1;for(a=1;u<l;){if((c=e.src.charCodeAt(u++))!==i&&!r(c))return!1;c===i&&a++}return!(a<3)&&(o||(e.line=t+1,(s=e.push("hr","hr",0)).map=[t,e.line],s.markup=Array(a+1).join(String.fromCharCode(i))),!0)}},40881:(e,t,n)=>{"use strict";var r=n(83439),o=n(44077).q,i=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+r.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(o.source+"\\s*$"),/^$/,!1]];e.exports=function(e,t,n,r){var o,a,c,s,u=e.bMarks[t]+e.tShift[t],l=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(u))return!1;for(s=e.src.slice(u,l),o=0;o<i.length&&!i[o][0].test(s);o++);if(o===i.length)return!1;if(r)return i[o][2];if(a=t+1,!i[o][1].test(s))for(;a<n&&!(e.sCount[a]<e.blkIndent);a++)if(u=e.bMarks[a]+e.tShift[a],l=e.eMarks[a],s=e.src.slice(u,l),i[o][1].test(s)){0!==s.length&&a++;break}return e.line=a,(c=e.push("html_block","",0)).map=[t,a],c.content=e.getLines(t,a,e.blkIndent,!0),!0}},74239:e=>{"use strict";e.exports=function(e,t,n){var r,o,i,a,c,s,u,l,d,p,f=t+1,h=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;for(p=e.parentType,e.parentType="paragraph";f<n&&!e.isEmpty(f);f++)if(!(e.sCount[f]-e.blkIndent>3)){if(e.sCount[f]>=e.blkIndent&&(s=e.bMarks[f]+e.tShift[f])<(u=e.eMarks[f])&&(45===(d=e.src.charCodeAt(s))||61===d)&&(s=e.skipChars(s,d),(s=e.skipSpaces(s))>=u)){l=61===d?1:2;break}if(!(e.sCount[f]<0)){for(o=!1,i=0,a=h.length;i<a;i++)if(h[i](e,f,n,!0)){o=!0;break}if(o)break}}return!!l&&(r=e.getLines(t,f,e.blkIndent,!1).trim(),e.line=f+1,(c=e.push("heading_open","h"+String(l),1)).markup=String.fromCharCode(d),c.map=[t,e.line],(c=e.push("inline","",0)).content=r,c.map=[t,e.line-1],c.children=[],(c=e.push("heading_close","h"+String(l),-1)).markup=String.fromCharCode(d),e.parentType=p,!0)}},77520:(e,t,n)=>{"use strict";var r=n(11571).isSpace;function o(e,t){var n,o,i,a;return o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],42!==(n=e.src.charCodeAt(o++))&&45!==n&&43!==n||o<i&&(a=e.src.charCodeAt(o),!r(a))?-1:o}function i(e,t){var n,o=e.bMarks[t]+e.tShift[t],i=o,a=e.eMarks[t];if(i+1>=a)return-1;if((n=e.src.charCodeAt(i++))<48||n>57)return-1;for(;;){if(i>=a)return-1;if(!((n=e.src.charCodeAt(i++))>=48&&n<=57)){if(41===n||46===n)break;return-1}if(i-o>=10)return-1}return i<a&&(n=e.src.charCodeAt(i),!r(n))?-1:i}e.exports=function(e,t,n,r){var a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O,S,C,T,A,_,P,D,Z,I,L=!1,M=!0;if(e.sCount[t]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[t]-e.listIndent>=4&&e.sCount[t]<e.blkIndent)return!1;if(r&&"paragraph"===e.parentType&&e.sCount[t]>=e.blkIndent&&(L=!0),(A=i(e,t))>=0){if(p=!0,P=e.bMarks[t]+e.tShift[t],y=Number(e.src.slice(P,A-1)),L&&1!==y)return!1}else{if(!((A=o(e,t))>=0))return!1;p=!1}if(L&&e.skipSpaces(A)>=e.eMarks[t])return!1;if(g=e.src.charCodeAt(A-1),r)return!0;for(m=e.tokens.length,p?(I=e.push("ordered_list_open","ol",1),1!==y&&(I.attrs=[["start",y]])):I=e.push("bullet_list_open","ul",1),I.map=v=[t,0],I.markup=String.fromCharCode(g),w=t,_=!1,Z=e.md.block.ruler.getRules("list"),x=e.parentType,e.parentType="list";w<n;){for(T=A,b=e.eMarks[w],d=k=e.sCount[w]+A-(e.bMarks[t]+e.tShift[t]);T<b;){if(9===(a=e.src.charCodeAt(T)))k+=4-(k+e.bsCount[w])%4;else{if(32!==a)break;k++}T++}if((l=(c=T)>=b?1:k-d)>4&&(l=1),u=d+l,(I=e.push("list_item_open","li",1)).markup=String.fromCharCode(g),I.map=f=[t,0],p&&(I.info=e.src.slice(P,A-1)),C=e.tight,S=e.tShift[t],O=e.sCount[t],E=e.listIndent,e.listIndent=e.blkIndent,e.blkIndent=u,e.tight=!0,e.tShift[t]=c-e.bMarks[t],e.sCount[t]=k,c>=b&&e.isEmpty(t+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,t,n,!0),e.tight&&!_||(M=!1),_=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=E,e.tShift[t]=S,e.sCount[t]=O,e.tight=C,(I=e.push("list_item_close","li",-1)).markup=String.fromCharCode(g),w=t=e.line,f[1]=w,c=e.bMarks[t],w>=n)break;if(e.sCount[w]<e.blkIndent)break;if(e.sCount[t]-e.blkIndent>=4)break;for(D=!1,s=0,h=Z.length;s<h;s++)if(Z[s](e,w,n,!0)){D=!0;break}if(D)break;if(p){if((A=i(e,w))<0)break;P=e.bMarks[w]+e.tShift[w]}else if((A=o(e,w))<0)break;if(g!==e.src.charCodeAt(A-1))break}return(I=p?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1)).markup=String.fromCharCode(g),v[1]=w,e.line=w,e.parentType=x,M&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].hidden=!0,e.tokens[n].hidden=!0,n+=2)}(e,m),!0}},53510:e=>{"use strict";e.exports=function(e,t){var n,r,o,i,a,c,s=t+1,u=e.md.block.ruler.getRules("paragraph"),l=e.lineMax;for(c=e.parentType,e.parentType="paragraph";s<l&&!e.isEmpty(s);s++)if(!(e.sCount[s]-e.blkIndent>3||e.sCount[s]<0)){for(r=!1,o=0,i=u.length;o<i;o++)if(u[o](e,s,l,!0)){r=!0;break}if(r)break}return n=e.getLines(t,s,e.blkIndent,!1).trim(),e.line=s,(a=e.push("paragraph_open","p",1)).map=[t,e.line],(a=e.push("inline","",0)).content=n,a.map=[t,e.line],a.children=[],a=e.push("paragraph_close","p",-1),e.parentType=c,!0}},57515:(e,t,n)=>{"use strict";var r=n(11571).normalizeReference,o=n(11571).isSpace;e.exports=function(e,t,n,i){var a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k,E=0,x=e.bMarks[t]+e.tShift[t],O=e.eMarks[t],S=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(x))return!1;for(;++x<O;)if(93===e.src.charCodeAt(x)&&92!==e.src.charCodeAt(x-1)){if(x+1===O)return!1;if(58!==e.src.charCodeAt(x+1))return!1;break}for(u=e.lineMax,w=e.md.block.ruler.getRules("reference"),v=e.parentType,e.parentType="reference";S<u&&!e.isEmpty(S);S++)if(!(e.sCount[S]-e.blkIndent>3||e.sCount[S]<0)){for(b=!1,d=0,p=w.length;d<p;d++)if(w[d](e,S,u,!0)){b=!0;break}if(b)break}for(O=(y=e.getLines(t,S,e.blkIndent,!1).trim()).length,x=1;x<O;x++){if(91===(a=y.charCodeAt(x)))return!1;if(93===a){h=x;break}(10===a||92===a&&++x<O&&10===y.charCodeAt(x))&&E++}if(h<0||58!==y.charCodeAt(h+1))return!1;for(x=h+2;x<O;x++)if(10===(a=y.charCodeAt(x)))E++;else if(!o(a))break;if(!(m=e.md.helpers.parseLinkDestination(y,x,O)).ok)return!1;if(l=e.md.normalizeLink(m.str),!e.md.validateLink(l))return!1;for(c=x=m.pos,s=E+=m.lines,g=x;x<O;x++)if(10===(a=y.charCodeAt(x)))E++;else if(!o(a))break;for(m=e.md.helpers.parseLinkTitle(y,x,O),x<O&&g!==x&&m.ok?(k=m.str,x=m.pos,E+=m.lines):(k="",x=c,E=s);x<O&&(a=y.charCodeAt(x),o(a));)x++;if(x<O&&10!==y.charCodeAt(x)&&k)for(k="",x=c,E=s;x<O&&(a=y.charCodeAt(x),o(a));)x++;return!(x<O&&10!==y.charCodeAt(x))&&(!!(f=r(y.slice(1,h)))&&(i||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[f]&&(e.env.references[f]={title:k,href:l}),e.parentType=v,e.line=t+E+1),!0))}},8954:(e,t,n)=>{"use strict";var r=n(79486),o=n(11571).isSpace;function i(e,t,n,r){var i,a,c,s,u,l,d,p;for(this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0,this.result="",p=!1,c=s=l=d=0,u=(a=this.src).length;s<u;s++){if(i=a.charCodeAt(s),!p){if(o(i)){l++,9===i?d+=4-d%4:d++;continue}p=!0}10!==i&&s!==u-1||(10!==i&&s++,this.bMarks.push(c),this.eMarks.push(s),this.tShift.push(l),this.sCount.push(d),this.bsCount.push(0),p=!1,l=0,d=0,c=s+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}i.prototype.push=function(e,t,n){var o=new r(e,t,n);return o.block=!0,n<0&&this.level--,o.level=this.level,n>0&&this.level++,this.tokens.push(o),o},i.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},i.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},i.prototype.skipSpaces=function(e){for(var t,n=this.src.length;e<n&&(t=this.src.charCodeAt(e),o(t));e++);return e},i.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!o(this.src.charCodeAt(--e)))return e+1;return e},i.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},i.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},i.prototype.getLines=function(e,t,n,r){var i,a,c,s,u,l,d,p=e;if(e>=t)return"";for(l=new Array(t-e),i=0;p<t;p++,i++){for(a=0,d=s=this.bMarks[p],u=p+1<t||r?this.eMarks[p]+1:this.eMarks[p];s<u&&a<n;){if(c=this.src.charCodeAt(s),o(c))9===c?a+=4-(a+this.bsCount[p])%4:a++;else{if(!(s-d<this.tShift[p]))break;a++}s++}l[i]=a>n?new Array(a-n+1).join(" ")+this.src.slice(s,u):this.src.slice(s,u)}return l.join("")},i.prototype.Token=r,e.exports=i},10964:(e,t,n)=>{"use strict";var r=n(11571).isSpace;function o(e,t){var n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function i(e){var t,n=[],r=0,o=e.length,i=!1,a=0,c="";for(t=e.charCodeAt(r);r<o;)124===t&&(i?(c+=e.substring(a,r-1),a=r):(n.push(c+e.substring(a,r)),c="",a=r+1)),i=92===t,r++,t=e.charCodeAt(r);return n.push(c+e.substring(a)),n}e.exports=function(e,t,n,a){var c,s,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O;if(t+2>n)return!1;if(p=t+1,e.sCount[p]<e.blkIndent)return!1;if(e.sCount[p]-e.blkIndent>=4)return!1;if((u=e.bMarks[p]+e.tShift[p])>=e.eMarks[p])return!1;if(124!==(x=e.src.charCodeAt(u++))&&45!==x&&58!==x)return!1;if(u>=e.eMarks[p])return!1;if(124!==(O=e.src.charCodeAt(u++))&&45!==O&&58!==O&&!r(O))return!1;if(45===x&&r(O))return!1;for(;u<e.eMarks[p];){if(124!==(c=e.src.charCodeAt(u))&&45!==c&&58!==c&&!r(c))return!1;u++}for(f=(s=o(e,t+1)).split("|"),m=[],l=0;l<f.length;l++){if(!(g=f[l].trim())){if(0===l||l===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(g))return!1;58===g.charCodeAt(g.length-1)?m.push(58===g.charCodeAt(0)?"center":"right"):58===g.charCodeAt(0)?m.push("left"):m.push("")}if(-1===(s=o(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((f=i(s)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),0===(h=f.length)||h!==m.length)return!1;if(a)return!0;for(w=e.parentType,e.parentType="table",E=e.md.block.ruler.getRules("blockquote"),(v=e.push("table_open","table",1)).map=y=[t,0],(v=e.push("thead_open","thead",1)).map=[t,t+1],(v=e.push("tr_open","tr",1)).map=[t,t+1],l=0;l<f.length;l++)v=e.push("th_open","th",1),m[l]&&(v.attrs=[["style","text-align:"+m[l]]]),(v=e.push("inline","",0)).content=f[l].trim(),v.children=[],v=e.push("th_close","th",-1);for(v=e.push("tr_close","tr",-1),v=e.push("thead_close","thead",-1),p=t+2;p<n&&!(e.sCount[p]<e.blkIndent);p++){for(k=!1,l=0,d=E.length;l<d;l++)if(E[l](e,p,n,!0)){k=!0;break}if(k)break;if(!(s=o(e,p).trim()))break;if(e.sCount[p]-e.blkIndent>=4)break;for((f=i(s)).length&&""===f[0]&&f.shift(),f.length&&""===f[f.length-1]&&f.pop(),p===t+2&&((v=e.push("tbody_open","tbody",1)).map=b=[t+2,0]),(v=e.push("tr_open","tr",1)).map=[p,p+1],l=0;l<h;l++)v=e.push("td_open","td",1),m[l]&&(v.attrs=[["style","text-align:"+m[l]]]),(v=e.push("inline","",0)).content=f[l]?f[l].trim():"",v.children=[],v=e.push("td_close","td",-1);v=e.push("tr_close","tr",-1)}return b&&(v=e.push("tbody_close","tbody",-1),b[1]=p),v=e.push("table_close","table",-1),y[1]=p,e.parentType=w,e.line=p,!0}},86802:e=>{"use strict";e.exports=function(e){var t;e.inlineMode?((t=new e.Token("inline","",0)).content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}},59449:e=>{"use strict";e.exports=function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.md.inline.parse(t.content,e.md,e.env,t.children)}},28449:(e,t,n)=>{"use strict";var r=n(11571).arrayReplaceAt;function o(e){return/^<\/a\s*>/i.test(e)}e.exports=function(e){var t,n,i,a,c,s,u,l,d,p,f,h,v,m,g,y,b,w,k=e.tokens;if(e.md.options.linkify)for(n=0,i=k.length;n<i;n++)if("inline"===k[n].type&&e.md.linkify.pretest(k[n].content))for(v=0,t=(a=k[n].children).length-1;t>=0;t--)if("link_close"!==(s=a[t]).type){if("html_inline"===s.type&&(w=s.content,/^<a[>\s]/i.test(w)&&v>0&&v--,o(s.content)&&v++),!(v>0)&&"text"===s.type&&e.md.linkify.test(s.content)){for(d=s.content,b=e.md.linkify.match(d),u=[],h=s.level,f=0,b.length>0&&0===b[0].index&&t>0&&"text_special"===a[t-1].type&&(b=b.slice(1)),l=0;l<b.length;l++)m=b[l].url,g=e.md.normalizeLink(m),e.md.validateLink(g)&&(y=b[l].text,y=b[l].schema?"mailto:"!==b[l].schema||/^mailto:/i.test(y)?e.md.normalizeLinkText(y):e.md.normalizeLinkText("mailto:"+y).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+y).replace(/^http:\/\//,""),(p=b[l].index)>f&&((c=new e.Token("text","",0)).content=d.slice(f,p),c.level=h,u.push(c)),(c=new e.Token("link_open","a",1)).attrs=[["href",g]],c.level=h++,c.markup="linkify",c.info="auto",u.push(c),(c=new e.Token("text","",0)).content=y,c.level=h,u.push(c),(c=new e.Token("link_close","a",-1)).level=--h,c.markup="linkify",c.info="auto",u.push(c),f=b[l].lastIndex);f<d.length&&((c=new e.Token("text","",0)).content=d.slice(f),c.level=h,u.push(c)),k[n].children=a=r(a,t,u)}}else for(t--;a[t].level!==s.level&&"link_open"!==a[t].type;)t--}},91648:e=>{"use strict";var t=/\r\n?|\n/g,n=/\0/g;e.exports=function(e){var r;r=(r=e.src.replace(t,"\n")).replace(n,"�"),e.src=r}},70556:e=>{"use strict";var t=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,n=/\((c|tm|r)\)/i,r=/\((c|tm|r)\)/gi,o={c:"©",r:"®",tm:"™"};function i(e,t){return o[t.toLowerCase()]}function a(e){var t,n,o=0;for(t=e.length-1;t>=0;t--)"text"!==(n=e[t]).type||o||(n.content=n.content.replace(r,i)),"link_open"===n.type&&"auto"===n.info&&o--,"link_close"===n.type&&"auto"===n.info&&o++}function c(e){var n,r,o=0;for(n=e.length-1;n>=0;n--)"text"!==(r=e[n]).type||o||t.test(r.content)&&(r.content=r.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1—").replace(/(^|\s)--(?=\s|$)/gm,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1–")),"link_open"===r.type&&"auto"===r.info&&o--,"link_close"===r.type&&"auto"===r.info&&o++}e.exports=function(e){var r;if(e.md.options.typographer)for(r=e.tokens.length-1;r>=0;r--)"inline"===e.tokens[r].type&&(n.test(e.tokens[r].content)&&a(e.tokens[r].children),t.test(e.tokens[r].content)&&c(e.tokens[r].children))}},40149:(e,t,n)=>{"use strict";var r=n(11571).isWhiteSpace,o=n(11571).isPunctChar,i=n(11571).isMdAsciiPunct,a=/['"]/,c=/['"]/g;function s(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function u(e,t){var n,a,u,l,d,p,f,h,v,m,g,y,b,w,k,E,x,O,S,C,T;for(S=[],n=0;n<e.length;n++){for(a=e[n],f=e[n].level,x=S.length-1;x>=0&&!(S[x].level<=f);x--);if(S.length=x+1,"text"===a.type){d=0,p=(u=a.content).length;e:for(;d<p&&(c.lastIndex=d,l=c.exec(u));){if(k=E=!0,d=l.index+1,O="'"===l[0],v=32,l.index-1>=0)v=u.charCodeAt(l.index-1);else for(x=n-1;x>=0&&("softbreak"!==e[x].type&&"hardbreak"!==e[x].type);x--)if(e[x].content){v=e[x].content.charCodeAt(e[x].content.length-1);break}if(m=32,d<p)m=u.charCodeAt(d);else for(x=n+1;x<e.length&&("softbreak"!==e[x].type&&"hardbreak"!==e[x].type);x++)if(e[x].content){m=e[x].content.charCodeAt(0);break}if(g=i(v)||o(String.fromCharCode(v)),y=i(m)||o(String.fromCharCode(m)),b=r(v),(w=r(m))?k=!1:y&&(b||g||(k=!1)),b?E=!1:g&&(w||y||(E=!1)),34===m&&'"'===l[0]&&v>=48&&v<=57&&(E=k=!1),k&&E&&(k=g,E=y),k||E){if(E)for(x=S.length-1;x>=0&&(h=S[x],!(S[x].level<f));x--)if(h.single===O&&S[x].level===f){h=S[x],O?(C=t.md.options.quotes[2],T=t.md.options.quotes[3]):(C=t.md.options.quotes[0],T=t.md.options.quotes[1]),a.content=s(a.content,l.index,T),e[h.token].content=s(e[h.token].content,h.pos,C),d+=T.length-1,h.token===n&&(d+=C.length-1),p=(u=a.content).length,S.length=x;continue e}k?S.push({token:n,pos:l.index,single:O,level:f}):E&&O&&(a.content=s(a.content,l.index,"’"))}else O&&(a.content=s(a.content,l.index,"’"))}}}}e.exports=function(e){var t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&a.test(e.tokens[t].content)&&u(e.tokens[t].children,e)}},42530:(e,t,n)=>{"use strict";var r=n(79486);function o(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}o.prototype.Token=r,e.exports=o},15909:e=>{"use strict";e.exports=function(e){var t,n,r,o,i,a,c=e.tokens;for(t=0,n=c.length;t<n;t++)if("inline"===c[t].type){for(i=(r=c[t].children).length,o=0;o<i;o++)"text_special"===r[o].type&&(r[o].type="text");for(o=a=0;o<i;o++)"text"===r[o].type&&o+1<i&&"text"===r[o+1].type?r[o+1].content=r[o].content+r[o+1].content:(o!==a&&(r[a]=r[o]),a++);o!==a&&(r.length=a)}}},73193:e=>{"use strict";var t=/^([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,n=/^([a-zA-Z][a-zA-Z0-9+.\-]{1,31}):([^<>\x00-\x20]*)$/;e.exports=function(e,r){var o,i,a,c,s,u,l=e.pos;if(60!==e.src.charCodeAt(l))return!1;for(s=e.pos,u=e.posMax;;){if(++l>=u)return!1;if(60===(c=e.src.charCodeAt(l)))return!1;if(62===c)break}return o=e.src.slice(s+1,l),n.test(o)?(i=e.md.normalizeLink(o),!!e.md.validateLink(i)&&(r||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(o),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=o.length+2,!0)):!!t.test(o)&&(i=e.md.normalizeLink("mailto:"+o),!!e.md.validateLink(i)&&(r||((a=e.push("link_open","a",1)).attrs=[["href",i]],a.markup="autolink",a.info="auto",(a=e.push("text","",0)).content=e.md.normalizeLinkText(o),(a=e.push("link_close","a",-1)).markup="autolink",a.info="auto"),e.pos+=o.length+2,!0))}},83061:e=>{"use strict";e.exports=function(e,t){var n,r,o,i,a,c,s,u,l=e.pos;if(96!==e.src.charCodeAt(l))return!1;for(n=l,l++,r=e.posMax;l<r&&96===e.src.charCodeAt(l);)l++;if(s=(o=e.src.slice(n,l)).length,e.backticksScanned&&(e.backticks[s]||0)<=n)return t||(e.pending+=o),e.pos+=s,!0;for(a=c=l;-1!==(a=e.src.indexOf("`",c));){for(c=a+1;c<r&&96===e.src.charCodeAt(c);)c++;if((u=c-a)===s)return t||((i=e.push("code_inline","code",0)).markup=o,i.content=e.src.slice(l,a).replace(/\n/g," ").replace(/^ (.+) $/,"$1")),e.pos=c,!0;e.backticks[u]=a}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=s,!0}},70774:e=>{"use strict";function t(e,t){var n,r,o,i,a,c,s,u,l={},d=t.length;if(d){var p=0,f=-2,h=[];for(n=0;n<d;n++)if(o=t[n],h.push(0),t[p].marker===o.marker&&f===o.token-1||(p=n),f=o.token,o.length=o.length||0,o.close){for(l.hasOwnProperty(o.marker)||(l[o.marker]=[-1,-1,-1,-1,-1,-1]),a=l[o.marker][(o.open?3:0)+o.length%3],c=r=p-h[p]-1;r>a;r-=h[r]+1)if((i=t[r]).marker===o.marker&&i.open&&i.end<0&&(s=!1,(i.close||o.open)&&(i.length+o.length)%3==0&&(i.length%3==0&&o.length%3==0||(s=!0)),!s)){u=r>0&&!t[r-1].open?h[r-1]+1:0,h[n]=n-r+u,h[r]=u,o.open=!1,i.end=n,i.close=!1,c=-1,f=-2;break}-1!==c&&(l[o.marker][(o.open?3:0)+(o.length||0)%3]=c)}}}e.exports=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(t(0,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&t(0,r[n].delimiters)}},10708:e=>{"use strict";function t(e,t){var n,r,o,i,a,c;for(n=t.length-1;n>=0;n--)95!==(r=t[n]).marker&&42!==r.marker||-1!==r.end&&(o=t[r.end],c=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===o.token+1,a=String.fromCharCode(r.marker),(i=e.tokens[r.token]).type=c?"strong_open":"em_open",i.tag=c?"strong":"em",i.nesting=1,i.markup=c?a+a:a,i.content="",(i=e.tokens[o.token]).type=c?"strong_close":"em_close",i.tag=c?"strong":"em",i.nesting=-1,i.markup=c?a+a:a,i.content="",c&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--))}e.exports.w=function(e,t){var n,r,o=e.pos,i=e.src.charCodeAt(o);if(t)return!1;if(95!==i&&42!==i)return!1;for(r=e.scanDelims(e.pos,42===i),n=0;n<r.length;n++)e.push("text","",0).content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.g=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(t(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&t(e,r[n].delimiters)}},53728:(e,t,n)=>{"use strict";var r=n(53557),o=n(11571).has,i=n(11571).isValidEntityCode,a=n(11571).fromCodePoint,c=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,s=/^&([a-z][a-z0-9]{1,31});/i;e.exports=function(e,t){var n,u,l,d=e.pos,p=e.posMax;if(38!==e.src.charCodeAt(d))return!1;if(d+1>=p)return!1;if(35===e.src.charCodeAt(d+1)){if(u=e.src.slice(d).match(c))return t||(n="x"===u[1][0].toLowerCase()?parseInt(u[1].slice(1),16):parseInt(u[1],10),(l=e.push("text_special","",0)).content=i(n)?a(n):a(65533),l.markup=u[0],l.info="entity"),e.pos+=u[0].length,!0}else if((u=e.src.slice(d).match(s))&&o(r,u[1]))return t||((l=e.push("text_special","",0)).content=r[u[1]],l.markup=u[0],l.info="entity"),e.pos+=u[0].length,!0;return!1}},68780:(e,t,n)=>{"use strict";for(var r=n(11571).isSpace,o=[],i=0;i<256;i++)o.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){o[e.charCodeAt(0)]=1})),e.exports=function(e,t){var n,i,a,c,s,u=e.pos,l=e.posMax;if(92!==e.src.charCodeAt(u))return!1;if(++u>=l)return!1;if(10===(n=e.src.charCodeAt(u))){for(t||e.push("hardbreak","br",0),u++;u<l&&(n=e.src.charCodeAt(u),r(n));)u++;return e.pos=u,!0}return c=e.src[u],n>=55296&&n<=56319&&u+1<l&&(i=e.src.charCodeAt(u+1))>=56320&&i<=57343&&(c+=e.src[u+1],u++),a="\\"+c,t||(s=e.push("text_special","",0),n<256&&0!==o[n]?s.content=c:s.content=a,s.markup=a,s.info="escape"),e.pos=u+1,!0}},65842:e=>{"use strict";e.exports=function(e){var t,n,r=0,o=e.tokens,i=e.tokens.length;for(t=n=0;t<i;t++)o[t].nesting<0&&r--,o[t].level=r,o[t].nesting>0&&r++,"text"===o[t].type&&t+1<i&&"text"===o[t+1].type?o[t+1].content=o[t].content+o[t+1].content:(t!==n&&(o[n]=o[t]),n++);t!==n&&(o.length=n)}},43377:(e,t,n)=>{"use strict";var r=n(44077).n;e.exports=function(e,t){var n,o,i,a,c,s=e.pos;return!!e.md.options.html&&(i=e.posMax,!(60!==e.src.charCodeAt(s)||s+2>=i)&&(!(33!==(n=e.src.charCodeAt(s+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(o=e.src.slice(s).match(r))&&(t||((a=e.push("html_inline","",0)).content=e.src.slice(s,s+o[0].length),c=a.content,/^<a[>\s]/i.test(c)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(a.content)&&e.linkLevel--),e.pos+=o[0].length,!0))))}},89789:(e,t,n)=>{"use strict";var r=n(11571).normalizeReference,o=n(11571).isSpace;e.exports=function(e,t){var n,i,a,c,s,u,l,d,p,f,h,v,m,g="",y=e.pos,b=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;if(u=e.pos+2,(s=e.md.helpers.parseLinkLabel(e,e.pos+1,!1))<0)return!1;if((l=s+1)<b&&40===e.src.charCodeAt(l)){for(l++;l<b&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(l>=b)return!1;for(m=l,(p=e.md.helpers.parseLinkDestination(e.src,l,e.posMax)).ok&&(g=e.md.normalizeLink(p.str),e.md.validateLink(g)?l=p.pos:g=""),m=l;l<b&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);if(p=e.md.helpers.parseLinkTitle(e.src,l,e.posMax),l<b&&m!==l&&p.ok)for(f=p.str,l=p.pos;l<b&&(i=e.src.charCodeAt(l),o(i)||10===i);l++);else f="";if(l>=b||41!==e.src.charCodeAt(l))return e.pos=y,!1;l++}else{if(void 0===e.env.references)return!1;if(l<b&&91===e.src.charCodeAt(l)?(m=l+1,(l=e.md.helpers.parseLinkLabel(e,l))>=0?c=e.src.slice(m,l++):l=s+1):l=s+1,c||(c=e.src.slice(u,s)),!(d=e.env.references[r(c)]))return e.pos=y,!1;g=d.href,f=d.title}return t||(a=e.src.slice(u,s),e.md.inline.parse(a,e.md,e.env,v=[]),(h=e.push("image","img",0)).attrs=n=[["src",g],["alt",""]],h.children=v,h.content=a,f&&n.push(["title",f])),e.pos=l,e.posMax=b,!0}},67233:(e,t,n)=>{"use strict";var r=n(11571).normalizeReference,o=n(11571).isSpace;e.exports=function(e,t){var n,i,a,c,s,u,l,d,p="",f="",h=e.pos,v=e.posMax,m=e.pos,g=!0;if(91!==e.src.charCodeAt(e.pos))return!1;if(s=e.pos+1,(c=e.md.helpers.parseLinkLabel(e,e.pos,!0))<0)return!1;if((u=c+1)<v&&40===e.src.charCodeAt(u)){for(g=!1,u++;u<v&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(u>=v)return!1;if(m=u,(l=e.md.helpers.parseLinkDestination(e.src,u,e.posMax)).ok){for(p=e.md.normalizeLink(l.str),e.md.validateLink(p)?u=l.pos:p="",m=u;u<v&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);if(l=e.md.helpers.parseLinkTitle(e.src,u,e.posMax),u<v&&m!==u&&l.ok)for(f=l.str,u=l.pos;u<v&&(i=e.src.charCodeAt(u),o(i)||10===i);u++);}(u>=v||41!==e.src.charCodeAt(u))&&(g=!0),u++}if(g){if(void 0===e.env.references)return!1;if(u<v&&91===e.src.charCodeAt(u)?(m=u+1,(u=e.md.helpers.parseLinkLabel(e,u))>=0?a=e.src.slice(m,u++):u=c+1):u=c+1,a||(a=e.src.slice(s,c)),!(d=e.env.references[r(a)]))return e.pos=h,!1;p=d.href,f=d.title}return t||(e.pos=s,e.posMax=c,e.push("link_open","a",1).attrs=n=[["href",p]],f&&n.push(["title",f]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)),e.pos=u,e.posMax=v,!0}},15908:e=>{"use strict";var t=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;e.exports=function(e,n){var r,o,i,a,c,s,u;return!!e.md.options.linkify&&(!(e.linkLevel>0)&&(!((r=e.pos)+3>e.posMax)&&(58===e.src.charCodeAt(r)&&(47===e.src.charCodeAt(r+1)&&(47===e.src.charCodeAt(r+2)&&(!!(o=e.pending.match(t))&&(i=o[1],!!(a=e.md.linkify.matchAtStart(e.src.slice(r-i.length)))&&(c=(c=a.url).replace(/\*+$/,""),s=e.md.normalizeLink(c),!!e.md.validateLink(s)&&(n||(e.pending=e.pending.slice(0,-i.length),(u=e.push("link_open","a",1)).attrs=[["href",s]],u.markup="linkify",u.info="auto",(u=e.push("text","",0)).content=e.md.normalizeLinkText(c),(u=e.push("link_close","a",-1)).markup="linkify",u.info="auto"),e.pos+=c.length-i.length,!0)))))))))}},19428:(e,t,n)=>{"use strict";var r=n(11571).isSpace;e.exports=function(e,t){var n,o,i,a=e.pos;if(10!==e.src.charCodeAt(a))return!1;if(n=e.pending.length-1,o=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(i=n-1;i>=1&&32===e.pending.charCodeAt(i-1);)i--;e.pending=e.pending.slice(0,i),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(a++;a<o&&r(e.src.charCodeAt(a));)a++;return e.pos=a,!0}},52576:(e,t,n)=>{"use strict";var r=n(79486),o=n(11571).isWhiteSpace,i=n(11571).isPunctChar,a=n(11571).isMdAsciiPunct;function c(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}c.prototype.pushPending=function(){var e=new r("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},c.prototype.push=function(e,t,n){this.pending&&this.pushPending();var o=new r(e,t,n),i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),o.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(o),this.tokens_meta.push(i),o},c.prototype.scanDelims=function(e,t){var n,r,c,s,u,l,d,p,f,h=e,v=!0,m=!0,g=this.posMax,y=this.src.charCodeAt(e);for(n=e>0?this.src.charCodeAt(e-1):32;h<g&&this.src.charCodeAt(h)===y;)h++;return c=h-e,r=h<g?this.src.charCodeAt(h):32,d=a(n)||i(String.fromCharCode(n)),f=a(r)||i(String.fromCharCode(r)),l=o(n),(p=o(r))?v=!1:f&&(l||d||(v=!1)),l?m=!1:d&&(p||f||(m=!1)),t?(s=v,u=m):(s=v&&(!m||d),u=m&&(!v||f)),{can_open:s,can_close:u,length:c}},c.prototype.Token=r,e.exports=c},71705:e=>{"use strict";function t(e,t){var n,r,o,i,a,c=[],s=t.length;for(n=0;n<s;n++)126===(o=t[n]).marker&&-1!==o.end&&(i=t[o.end],(a=e.tokens[o.token]).type="s_open",a.tag="s",a.nesting=1,a.markup="~~",a.content="",(a=e.tokens[i.token]).type="s_close",a.tag="s",a.nesting=-1,a.markup="~~",a.content="","text"===e.tokens[i.token-1].type&&"~"===e.tokens[i.token-1].content&&c.push(i.token-1));for(;c.length;){for(r=(n=c.pop())+1;r<e.tokens.length&&"s_close"===e.tokens[r].type;)r++;n!==--r&&(a=e.tokens[r],e.tokens[r]=e.tokens[n],e.tokens[n]=a)}}e.exports.w=function(e,t){var n,r,o,i,a=e.pos,c=e.src.charCodeAt(a);if(t)return!1;if(126!==c)return!1;if(o=(r=e.scanDelims(e.pos,!0)).length,i=String.fromCharCode(c),o<2)return!1;for(o%2&&(e.push("text","",0).content=i,o--),n=0;n<o;n+=2)e.push("text","",0).content=i+i,e.delimiters.push({marker:c,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0},e.exports.g=function(e){var n,r=e.tokens_meta,o=e.tokens_meta.length;for(t(e,e.delimiters),n=0;n<o;n++)r[n]&&r[n].delimiters&&t(e,r[n].delimiters)}},32527:e=>{"use strict";function t(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}e.exports=function(e,n){for(var r=e.pos;r<e.posMax&&!t(e.src.charCodeAt(r));)r++;return r!==e.pos&&(n||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}},79486:e=>{"use strict";function t(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}t.prototype.attrIndex=function(e){var t,n,r;if(!this.attrs)return-1;for(n=0,r=(t=this.attrs).length;n<r;n++)if(t[n][0]===e)return n;return-1},t.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},t.prototype.attrSet=function(e,t){var n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},t.prototype.attrGet=function(e){var t=this.attrIndex(e),n=null;return t>=0&&(n=this.attrs[t][1]),n},t.prototype.attrJoin=function(e,t){var n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},e.exports=t},75730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ContentMatch:()=>j,DOMParser:()=>ie,DOMSerializer:()=>ye,Fragment:()=>a,Mark:()=>d,MarkType:()=>ne,Node:()=>L,NodeRange:()=>D,NodeType:()=>X,ReplaceError:()=>p,ResolvedPos:()=>C,Schema:()=>re,Slice:()=>f});var r=n(86403);function o(e,t,n){for(var r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;var i=e.child(r),a=t.child(r);if(i!=a){if(!i.sameMarkup(a))return n;if(i.isText&&i.text!=a.text){for(var c=0;i.text[c]==a.text[c];c++)n++;return n}if(i.content.size||a.content.size){var s=o(i.content,a.content,n+1);if(null!=s)return s}n+=i.nodeSize}else n+=i.nodeSize}}function i(e,t,n,r){for(var o=e.childCount,a=t.childCount;;){if(0==o||0==a)return o==a?null:{a:n,b:r};var c=e.child(--o),s=t.child(--a),u=c.nodeSize;if(c!=s){if(!c.sameMarkup(s))return{a:n,b:r};if(c.isText&&c.text!=s.text){for(var l=0,d=Math.min(c.text.length,s.text.length);l<d&&c.text[c.text.length-l-1]==s.text[s.text.length-l-1];)l++,n--,r--;return{a:n,b:r}}if(c.content.size||s.content.size){var p=i(c.content,s.content,n-1,r-1);if(p)return p}n-=u,r-=u}else n-=u,r-=u}}var a=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},c={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};a.prototype.nodesBetween=function(e,t,n,r,o){void 0===r&&(r=0);for(var i=0,a=0;a<t;i++){var c=this.content[i],s=a+c.nodeSize;if(s>e&&!1!==n(c,r+a,o,i)&&c.content.size){var u=a+1;c.nodesBetween(Math.max(0,e-u),Math.min(c.content.size,t-u),n,r+u)}a=s}},a.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},a.prototype.textBetween=function(e,t,n,r){var o="",i=!0;return this.nodesBetween(e,t,(function(a,c){a.isText?(o+=a.text.slice(Math.max(e,c)-c,t-c),i=!n):a.isLeaf&&r?(o+=r,i=!n):!i&&a.isBlock&&(o+=n,i=!0)}),0),o},a.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new a(r,this.size+e.size)},a.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],r=0;if(t>e)for(var o=0,i=0;i<t;o++){var c=this.content[o],s=i+c.nodeSize;s>e&&((i<e||s>t)&&(c=c.isText?c.cut(Math.max(0,e-i),Math.min(c.text.length,t-i)):c.cut(Math.max(0,e-i-1),Math.min(c.content.size,t-i-1))),n.push(c),r+=c.nodeSize),i=s}return new a(n,r)},a.prototype.cutByIndex=function(e,t){return e==t?a.empty:0==e&&t==this.content.length?this:new a(this.content.slice(e,t))},a.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new a(r,o)},a.prototype.addToStart=function(e){return new a([e].concat(this.content),this.size+e.nodeSize)},a.prototype.addToEnd=function(e){return new a(this.content.concat(e),this.size+e.nodeSize)},a.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},c.firstChild.get=function(){return this.content.length?this.content[0]:null},c.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},c.childCount.get=function(){return this.content.length},a.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},a.prototype.maybeChild=function(e){return this.content[e]},a.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var r=this.content[t];e(r,n,t),n+=r.nodeSize}},a.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),o(this,e,t)},a.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),i(this,e,t,n)},a.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return u(0,e);if(e==this.size)return u(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?u(n+1,o):u(n,r);r=o}},a.prototype.toString=function(){return"<"+this.toStringInner()+">"},a.prototype.toStringInner=function(){return this.content.join(", ")},a.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},a.fromJSON=function(e,t){if(!t)return a.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new a(t.map(e.nodeFromJSON))},a.fromArray=function(e){if(!e.length)return a.empty;for(var t,n=0,r=0;r<e.length;r++){var o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new a(t||e,n)},a.from=function(e){if(!e)return a.empty;if(e instanceof a)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new a([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(a.prototype,c);var s={index:0,offset:0};function u(e,t){return s.index=e,s.offset=t,s}function l(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!l(e[r],t[r]))return!1}else{for(var o in e)if(!(o in t)||!l(e[o],t[o]))return!1;for(var i in t)if(!(i in e))return!1}return!0}a.empty=new a([],0);var d=function(e,t){this.type=e,this.attrs=t};function p(e){var t=Error.call(this,e);return t.__proto__=p.prototype,t}d.prototype.addToSet=function(e){for(var t,n=!1,r=0;r<e.length;r++){var o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t},d.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},d.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},d.prototype.eq=function(e){return this==e||this.type==e.type&&l(this.attrs,e.attrs)},d.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},d.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},d.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},d.setFrom=function(e){if(!e||0==e.length)return d.none;if(e instanceof d)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},d.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="ReplaceError";var f=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},h={size:{configurable:!0}};function v(e,t,n){var r=e.findIndex(t),o=r.index,i=r.offset,a=e.maybeChild(o),c=e.findIndex(n),s=c.index,u=c.offset;if(i==t||a.isText){if(u!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(o!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(o,a.copy(v(a.content,t-i-1,n-i-1)))}function m(e,t,n,r){var o=e.findIndex(t),i=o.index,a=o.offset,c=e.maybeChild(i);if(a==t||c.isText)return r&&!r.canReplace(i,i,n)?null:e.cut(0,t).append(n).append(e.cut(t));var s=m(c.content,t-a-1,n);return s&&e.replaceChild(i,c.copy(s))}function g(e,t,n){if(n.openStart>e.depth)throw new p("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new p("Inconsistent open depths");return y(e,t,n,0)}function y(e,t,n,r){var o=e.index(r),i=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){var c=y(e,t,n,r+1);return i.copy(i.content.replaceChild(o,c))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){var s=function(e,t){for(var n=t.depth-e.openStart,r=t.node(n).copy(e.content),o=n-1;o>=0;o--)r=t.node(o).copy(a.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}(n,e);return x(i,O(e,s.start,s.end,t,r))}var u=e.parent,l=u.content;return x(u,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}return x(i,S(e,t,r))}function b(e,t){if(!t.type.compatibleContent(e.type))throw new p("Cannot join "+t.type.name+" onto "+e.type.name)}function w(e,t,n){var r=e.node(n);return b(r,t.node(n)),r}function k(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function E(e,t,n,r){var o=(t||e).node(n),i=0,a=t?t.index(n):o.childCount;e&&(i=e.index(n),e.depth>n?i++:e.textOffset&&(k(e.nodeAfter,r),i++));for(var c=i;c<a;c++)k(o.child(c),r);t&&t.depth==n&&t.textOffset&&k(t.nodeBefore,r)}function x(e,t){if(!e.type.validContent(t))throw new p("Invalid content for node "+e.type.name);return e.copy(t)}function O(e,t,n,r,o){var i=e.depth>o&&w(e,t,o+1),c=r.depth>o&&w(n,r,o+1),s=[];return E(null,e,o,s),i&&c&&t.index(o)==n.index(o)?(b(i,c),k(x(i,O(e,t,n,r,o+1)),s)):(i&&k(x(i,S(e,t,o+1)),s),E(t,n,o,s),c&&k(x(c,S(n,r,o+1)),s)),E(r,null,o,s),new a(s)}function S(e,t,n){var r=[];(E(null,e,n,r),e.depth>n)&&k(x(w(e,t,n+1),S(e,t,n+1)),r);return E(t,null,n,r),new a(r)}h.size.get=function(){return this.content.size-this.openStart-this.openEnd},f.prototype.insertAt=function(e,t){var n=m(this.content,e+this.openStart,t,null);return n&&new f(n,this.openStart,this.openEnd)},f.prototype.removeBetween=function(e,t){return new f(v(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},f.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},f.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},f.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},f.fromJSON=function(e,t){if(!t)return f.empty;var n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new f(a.fromJSON(e,t.content),n,r)},f.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,r=0,o=e.firstChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=e.lastChild;i&&!i.isLeaf&&(t||!i.type.spec.isolating);i=i.lastChild)r++;return new f(e,n,r)},Object.defineProperties(f.prototype,h),f.empty=new f(a.empty,0,0);var C=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},T={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};C.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},T.parent.get=function(){return this.node(this.depth)},T.doc.get=function(){return this.node(0)},C.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},C.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},C.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},C.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},C.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},C.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},C.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},T.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},T.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r},T.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},C.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1,o=0;o<e;o++)r+=n.child(o).nodeSize;return r},C.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return d.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){var o=n;n=r,r=o}for(var i=n.marks,a=0;a<i.length;a++)!1!==i[a].type.spec.inclusive||r&&i[a].isInSet(r.marks)||(i=i[a--].removeFromSet(i));return i},C.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,r=e.parent.maybeChild(e.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},C.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},C.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new D(this,e,n)},C.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},C.prototype.max=function(e){return e.pos>this.pos?e:this},C.prototype.min=function(e){return e.pos<this.pos?e:this},C.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},C.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],r=0,o=t,i=e;;){var a=i.content.findIndex(o),c=a.index,s=a.offset,u=o-s;if(n.push(i,c,r+s),!u)break;if((i=i.child(c)).isText)break;o=u-1,r+=s+1}return new C(t,n,o)},C.resolveCached=function(e,t){for(var n=0;n<A.length;n++){var r=A[n];if(r.pos==t&&r.doc==e)return r}var o=A[_]=C.resolve(e,t);return _=(_+1)%P,o},Object.defineProperties(C.prototype,T);var A=[],_=0,P=12,D=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},Z={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};Z.start.get=function(){return this.$from.before(this.depth+1)},Z.end.get=function(){return this.$to.after(this.depth+1)},Z.parent.get=function(){return this.$from.node(this.depth)},Z.startIndex.get=function(){return this.$from.index(this.depth)},Z.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(D.prototype,Z);var I=Object.create(null),L=function(e,t,n,r){this.type=e,this.attrs=t,this.content=n||a.empty,this.marks=r||d.none},M={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};M.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},M.childCount.get=function(){return this.content.childCount},L.prototype.child=function(e){return this.content.child(e)},L.prototype.maybeChild=function(e){return this.content.maybeChild(e)},L.prototype.forEach=function(e){this.content.forEach(e)},L.prototype.nodesBetween=function(e,t,n,r){void 0===r&&(r=0),this.content.nodesBetween(e,t,n,r,this)},L.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},M.textContent.get=function(){return this.textBetween(0,this.content.size,"")},L.prototype.textBetween=function(e,t,n,r){return this.content.textBetween(e,t,n,r)},M.firstChild.get=function(){return this.content.firstChild},M.lastChild.get=function(){return this.content.lastChild},L.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},L.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},L.prototype.hasMarkup=function(e,t,n){return this.type==e&&l(this.attrs,t||e.defaultAttrs||I)&&d.sameSet(this.marks,n||d.none)},L.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},L.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},L.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},L.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return f.empty;var r=this.resolve(e),o=this.resolve(t),i=n?0:r.sharedDepth(t),a=r.start(i),c=r.node(i).content.cut(r.pos-a,o.pos-a);return new f(c,r.depth-i,o.depth-i)},L.prototype.replace=function(e,t,n){return g(this.resolve(e),this.resolve(t),n)},L.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),r=n.index,o=n.offset;if(!(t=t.maybeChild(r)))return null;if(o==e||t.isText)return t;e-=o+1}},L.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,r=t.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},L.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,r=t.offset;if(r<e)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},L.prototype.resolve=function(e){return C.resolveCached(this,e)},L.prototype.resolveNoCache=function(e){return C.resolve(this,e)},L.prototype.rangeHasMark=function(e,t,n){var r=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(r=!0),!r})),r},M.isBlock.get=function(){return this.type.isBlock},M.isTextblock.get=function(){return this.type.isTextblock},M.inlineContent.get=function(){return this.type.inlineContent},M.isInline.get=function(){return this.type.isInline},M.isText.get=function(){return this.type.isText},M.isLeaf.get=function(){return this.type.isLeaf},M.isAtom.get=function(){return this.type.isAtom},L.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),N(this.marks,e)},L.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},L.prototype.canReplace=function(e,t,n,r,o){void 0===n&&(n=a.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var i=this.contentMatchAt(e).matchFragment(n,r,o),c=i&&i.matchFragment(this.content,t);if(!c||!c.validEnd)return!1;for(var s=r;s<o;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},L.prototype.canReplaceWith=function(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(e).matchType(n),i=o&&o.matchFragment(this.content,t);return!!i&&i.validEnd},L.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},L.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=d.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!d.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(e){return e.type.name})));this.content.forEach((function(e){return e.check()}))},L.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},L.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var r=a.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)},Object.defineProperties(L.prototype,M);var R=function(e){function t(t,n,r,o){if(e.call(this,t,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):N(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(L);function N(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var j=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},F={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};j.parse=function(e,t){var n=new B(e,t);if(null==n.next)return j.empty;var r=U(n);n.next&&n.err("Unexpected trailing text");var o=function(e){var t=Object.create(null);return n(K(e,0));function n(r){var o=[];r.forEach((function(t){e[t].forEach((function(t){var n=t.term,r=t.to;if(n){var i=o.indexOf(n),a=i>-1&&o[i+1];K(e,r).forEach((function(e){a||o.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var i=t[r.join(",")]=new j(r.indexOf(e.length-1)>-1),a=0;a<o.length;a+=2){var c=o[a+1].sort(q);i.next.push(o[a],t[c.join(",")]||n(c))}return i}}(function(e){var t=[[]];return o(i(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){var o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach((function(e){return e.to=t}))}function i(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(i(n,t))}),[]);if("seq"==e.type)for(var a=0;;a++){var c=i(e.exprs[a],t);if(a==e.exprs.length-1)return c;o(c,t=n())}else{if("star"==e.type){var s=n();return r(t,s),o(i(e.expr,s),s),[r(s)]}if("plus"==e.type){var u=n();return o(i(e.expr,t),u),o(i(e.expr,u),u),[r(u)]}if("opt"==e.type)return[r(t)].concat(i(e.expr,t));if("range"==e.type){for(var l=t,d=0;d<e.min;d++){var p=n();o(i(e.expr,l),p),l=p}if(-1==e.max)o(i(e.expr,l),l);else for(var f=e.min;f<e.max;f++){var h=n();r(l,h),o(i(e.expr,l),h),l=h}return[r(l)]}if("name"==e.type)return[r(t,null,e.value)]}}}(r));return function(e,t){for(var n=0,r=[e];n<r.length;n++){for(var o=r[n],i=!o.validEnd,a=[],c=0;c<o.next.length;c+=2){var s=o.next[c],u=o.next[c+1];a.push(s.name),!i||s.isText||s.hasRequiredAttrs()||(i=!1),-1==r.indexOf(u)&&r.push(u)}i&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},j.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},j.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var r=this,o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r},F.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},F.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},j.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},j.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var r=[this];return function o(i,c){var s=i.matchFragment(e,n);if(s&&(!t||s.validEnd))return a.from(c.map((function(e){return e.createAndFill()})));for(var u=0;u<i.next.length;u+=2){var l=i.next[u],d=i.next[u+1];if(!l.isText&&!l.hasRequiredAttrs()&&-1==r.indexOf(d)){r.push(d);var p=o(d,c.concat(l));if(p)return p}}}(this,[])},j.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},j.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(e)){for(var i=[],a=r;a.type;a=a.via)i.push(a.type);return i.reverse()}for(var c=0;c<o.next.length;c+=2){var s=o.next[c];s.isLeaf||s.hasRequiredAttrs()||s.name in t||r.type&&!o.next[c+1].validEnd||(n.push({match:s.contentMatch,type:s,via:r}),t[s.name]=!0)}}},F.edgeCount.get=function(){return this.next.length>>1},j.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},j.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var r=1;r<n.next.length;r+=2)-1==e.indexOf(n.next[r])&&t(n.next[r])}(this),e.map((function(t,n){for(var r=n+(t.validEnd?"*":" ")+" ",o=0;o<t.next.length;o+=2)r+=(o?", ":"")+t.next[o].name+"->"+e.indexOf(t.next[o+1]);return r})).join("\n")},Object.defineProperties(j.prototype,F),j.empty=new j(!0);var B=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},z={next:{configurable:!0}};function U(e){var t=[];do{t.push(V(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function V(e){var t=[];do{t.push(H(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function H(e){for(var t=function(e){if(e.eat("(")){var t=U(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,r=n[t];if(r)return[r];var o=[];for(var i in n){var a=n[i];a.groups.indexOf(t)>-1&&o.push(a)}0==o.length&&e.err("No node type or group '"+t+"' found");return o}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=G(e,t)}return t}function W(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function G(e,t){var n=W(e),r=n;return e.eat(",")&&(r="}"!=e.next?W(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function q(e,t){return t-e}function K(e,t){var n=[];return function t(r){var o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var a=o[i],c=a.term,s=a.to;c||-1!=n.indexOf(s)||t(s)}}(t),n.sort(q)}function $(e){var t=Object.create(null);for(var n in e){var r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function J(e,t){var n=Object.create(null);for(var r in e){var o=t&&t[r];if(void 0===o){var i=e[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function Y(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new ee(e[n]);return t}z.next.get=function(){return this.tokens[this.pos]},B.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},B.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(B.prototype,z);var X=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=Y(n.attrs),this.defaultAttrs=$(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},Q={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};Q.isInline.get=function(){return!this.isBlock},Q.isTextblock.get=function(){return this.isBlock&&this.inlineContent},Q.isLeaf.get=function(){return this.contentMatch==j.empty},Q.isAtom.get=function(){return this.isLeaf||this.spec.atom},X.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},X.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},X.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:J(this.attrs,e)},X.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new L(this,this.computeAttrs(e),a.from(t),d.setFrom(n))},X.prototype.createChecked=function(e,t,n){if(t=a.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new L(this,this.computeAttrs(e),t,d.setFrom(n))},X.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=a.from(t)).size){var r=this.contentMatch.fillBefore(t);if(!r)return null;t=r.append(t)}var o=this.contentMatch.matchFragment(t).fillBefore(a.empty,!0);return o?new L(this,e,t.append(o),d.setFrom(n)):null},X.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},X.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},X.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},X.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:d.empty:e},X.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,r){return n[e]=new X(e,t,r)}));var r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(X.prototype,Q);var ee=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},te={isRequired:{configurable:!0}};te.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(ee.prototype,te);var ne=function(e,t,n,r){this.name=e,this.schema=n,this.spec=r,this.attrs=Y(r.attrs),this.rank=t,this.excluded=null;var o=$(this.attrs);this.instance=o&&new d(this,o)};ne.prototype.create=function(e){return!e&&this.instance?this.instance:new d(this,J(this.attrs,e))},ne.compile=function(e,t){var n=Object.create(null),r=0;return e.forEach((function(e,o){return n[e]=new ne(e,r++,t,o)})),n},ne.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e},ne.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},ne.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var re=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=r.Z.from(e.nodes),this.spec.marks=r.Z.from(e.marks),this.nodes=X.compile(this.spec.nodes,this),this.marks=ne.compile(this.spec.marks,this);var n=Object.create(null);for(var o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");var i=this.nodes[o],a=i.spec.content||"",c=i.spec.marks;i.contentMatch=n[a]||(n[a]=j.parse(a,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==c?null:c?oe(this,c.split(" ")):""!=c&&i.inlineContent?null:[]}for(var s in this.marks){var u=this.marks[s],l=u.spec.excludes;u.excluded=null==l?[u]:""==l?[]:oe(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function oe(e,t){for(var n=[],r=0;r<t.length;r++){var o=t[r],i=e.marks[o],a=i;if(i)n.push(i);else for(var c in e.marks){var s=e.marks[c];("_"==o||s.spec.group&&s.spec.group.split(" ").indexOf(o)>-1)&&n.push(a=s)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}re.prototype.node=function(e,t,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof X))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)},re.prototype.text=function(e,t){var n=this.nodes.text;return new R(n,n.defaultAttrs,e,d.setFrom(t))},re.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},re.prototype.nodeFromJSON=function(e){return L.fromJSON(this,e)},re.prototype.markFromJSON=function(e){return d.fromJSON(this,e)},re.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var ie=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};ie.prototype.parse=function(e,t){void 0===t&&(t={});var n=new fe(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},ie.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new fe(this,t,!0);return n.addAll(e,null,t.from,t.to),f.maxOpen(n.finish())},ie.prototype.matchTag=function(e,t,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(ve(e,o.tag)&&(void 0===o.namespace||e.namespaceURI==o.namespace)&&(!o.context||t.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(e);if(!1===i)continue;o.attrs=i}return o}}},ie.prototype.matchStyle=function(e,t,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(e)||i.context&&!n.matchesContext(i.context)||i.style.length>e.length&&(61!=i.style.charCodeAt(e.length)||i.style.slice(e.length+1)!=t))){if(i.getAttrs){var a=i.getAttrs(t);if(!1===a)continue;i.attrs=a}return i}}},ie.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,r=0;r<t.length;r++){var o=t[r];if((null==o.priority?50:o.priority)<n)break}t.splice(r,0,e)}var r=function(t){var r=e.marks[t].spec.parseDOM;r&&r.forEach((function(e){n(e=me(e)),e.mark=t}))};for(var o in e.marks)r(o);var i;for(var a in e.nodes)i=void 0,(i=e.nodes[a].spec.parseDOM)&&i.forEach((function(e){n(e=me(e)),e.node=a}));return t},ie.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new ie(e,ie.schemaRules(e)))};var ae={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ce={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},se={ol:!0,ul:!0},ue=1,le=2;function de(e){return(e?ue:0)|("full"===e?le:0)}var pe=function(e,t,n,r,o,i,a){this.type=e,this.attrs=t,this.solid=o,this.match=i||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=d.none,this.pendingMarks=r,this.stashMarks=[]};pe.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(a.from(e));if(!t){var n,r=this.type.contentMatch;return(n=r.findWrapping(e.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},pe.prototype.finish=function(e){if(!(this.options&ue)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var r=a.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(a.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},pe.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]},pe.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var r=n[t];(this.type?this.type.allowsMarkType(r.type):ge(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},pe.prototype.inlineContext=function(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!ae.hasOwnProperty(e.parentNode.nodeName.toLowerCase())};var fe=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var r,o=t.topNode,i=de(t.preserveWhitespace)|(n?4:0);r=o?new pe(o.type,o.attrs,d.none,d.none,!0,t.topMatch||o.type.contentMatch,i):new pe(n?null:e.schema.topNodeType,null,d.none,d.none,!0,null,i),this.nodes=[r],this.open=0,this.find=t.findPositions,this.needsBlock=!1},he={top:{configurable:!0},currentPos:{configurable:!0}};function ve(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function me(e){var t={};for(var n in e)t[n]=e[n];return t}function ge(e,t){var n=t.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(e)){var i=[],a=function(e){i.push(e);for(var n=0;n<e.edgeCount;n++){var r=e.edge(n),o=r.type,c=r.next;if(o==t)return!0;if(i.indexOf(c)<0&&a(c))return!0}};return a(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}he.top.get=function(){return this.nodes[this.open]},fe.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}(t)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(e),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},fe.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(n.options&le||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&ue)t=n.options&le?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},fe.prototype.addElement=function(e,t){var n,r=e.nodeName.toLowerCase();se.hasOwnProperty(r)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var r=1==t.nodeType?t.nodeName.toLowerCase():null;r&&se.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):"li"==r?n=t:r&&(n=null)}}(e);var o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:ce.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);var i,a=this.top,c=this.needsBlock;if(ae.hasOwnProperty(r))i=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),i&&this.sync(a),this.needsBlock=c}else this.addElementByRule(e,o,!1===o.consuming?n:null)},fe.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},fe.prototype.ignoreFallback=function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},fe.prototype.readStyles=function(e){var t=d.none;e:for(var n=0;n<e.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(e[n],e[n+1],this,r);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;r=o}return t},fe.prototype.addElementByRule=function(e,t,n){var r,o,i,a=this;t.node?(o=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs,t.preserveWhitespace):(i=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(i));var c=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var s=t.contentElement;"string"==typeof s?s=e.querySelector(s):"function"==typeof s&&(s=s(e)),s||(s=e),this.findAround(e,s,!0),this.addAll(s,r)}r&&(this.sync(c),this.open--),i&&this.removePendingMark(i,c)},fe.prototype.addAll=function(e,t,n,r){for(var o=n||0,i=n?e.childNodes[n]:e.firstChild,a=null==r?null:e.childNodes[r];i!=a;i=i.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(i),t&&ae.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,o)},fe.prototype.findPlace=function(e){for(var t,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(e);if(i&&(!t||t.length>i.length)&&(t=i,n=o,!i.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},fe.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var r=n.activeMarks,o=0;o<e.marks.length;o++)n.type&&!n.type.allowsMarkType(e.marks[o].type)||(r=e.marks[o].addToSet(r));return n.content.push(e.mark(r)),!0}return!1},fe.prototype.enter=function(e,t,n){var r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r},fe.prototype.enterInner=function(e,t,n,r){this.closeExtra();var o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e,t);var i=null==r?-5&o.options:de(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new pe(e,t,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},fe.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},fe.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},fe.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},he.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,r=n.length-1;r>=0;r--)e+=n[r].nodeSize;t&&e++}return e},fe.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},fe.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},fe.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node))t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},fe.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},fe.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),a=function(e,c){for(;e>=0;e--){var s=n[e];if(""==s){if(e==n.length-1||0==e)continue;for(;c>=i;c--)if(a(e-1,c))return!0;return!1}var u=c>0||0==c&&o?t.nodes[c].type:r&&c>=i?r.node(c-i).type:null;if(!u||u.name!=s&&-1==u.groups.indexOf(s))return!1;c--}return!0};return a(n.length-1,this.open)},fe.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},fe.prototype.addPendingMark=function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},fe.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);var o=r.popFromStashMark(e);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==t)break}},Object.defineProperties(fe.prototype,he);var ye=function(e,t){this.nodes=e||{},this.marks=t||{}};function be(e){var t={};for(var n in e){var r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function we(e){return e.document||window.document}ye.prototype.serializeFragment=function(e,t,n){var r=this;void 0===t&&(t={}),n||(n=we(t).createDocumentFragment());var o=n,i=null;return e.forEach((function(e){if(i||e.marks.length){i||(i=[]);for(var n=0,a=0;n<i.length&&a<e.marks.length;){var c=e.marks[a];if(r.marks[c.type.name]){if(!c.eq(i[n])||!1===c.type.spec.spanning)break;n+=2,a++}else a++}for(;n<i.length;)o=i.pop(),i.pop();for(;a<e.marks.length;){var s=e.marks[a++],u=r.serializeMark(s,e.isInline,t);u&&(i.push(s,o),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(r.serializeNodeInner(e,t))})),n},ye.prototype.serializeNodeInner=function(e,t){void 0===t&&(t={});var n=ye.renderSpec(we(t),this.nodes[e.type.name](e)),r=n.dom,o=n.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,o,t):this.serializeFragment(e.content,t,o)}return r},ye.prototype.serializeNode=function(e,t){void 0===t&&(t={});for(var n=this.serializeNodeInner(e,t),r=e.marks.length-1;r>=0;r--){var o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},ye.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var r=this.marks[e.type.name];return r&&ye.renderSpec(we(n),r(e,t))},ye.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var r=t[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,a=n?e.createElementNS(n,r):e.createElement(r),c=t[1],s=1;if(c&&"object"==typeof c&&null==c.nodeType&&!Array.isArray(c))for(var u in s=2,c)if(null!=c[u]){var l=u.indexOf(" ");l>0?a.setAttributeNS(u.slice(0,l),u.slice(l+1),c[u]):a.setAttribute(u,c[u])}for(var d=s;d<t.length;d++){var p=t[d];if(0===p){if(d<t.length-1||d>s)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var f=ye.renderSpec(e,p,n),h=f.dom,v=f.contentDOM;if(a.appendChild(h),v){if(i)throw new RangeError("Multiple content holes");i=v}}return{dom:a,contentDOM:i}},ye.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new ye(this.nodesFromSchema(e),this.marksFromSchema(e)))},ye.nodesFromSchema=function(e){var t=be(e.nodes);return t.text||(t.text=function(e){return e.text}),t},ye.marksFromSchema=function(e){return be(e.marks)}},16037:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AllSelection:()=>f,EditorState:()=>E,NodeSelection:()=>d,Plugin:()=>C,PluginKey:()=>_,Selection:()=>a,SelectionRange:()=>s,TextSelection:()=>u,Transaction:()=>g});var r=n(75730),o=n(30709),i=Object.create(null),a=function(e,t,n){this.ranges=n||[new s(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},c={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};c.anchor.get=function(){return this.$anchor.pos},c.head.get=function(){return this.$head.pos},c.from.get=function(){return this.$from.pos},c.to.get=function(){return this.$to.pos},c.$from.get=function(){return this.ranges[0].$from},c.$to.get=function(){return this.ranges[0].$to},c.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},a.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},a.prototype.replace=function(e,t){void 0===t&&(t=r.Slice.empty);for(var n=t.content.lastChild,o=null,i=0;i<t.openEnd;i++)o=n,n=n.lastChild;for(var a=e.steps.length,c=this.ranges,s=0;s<c.length;s++){var u=c[s],l=u.$from,d=u.$to,p=e.mapping.slice(a);e.replaceRange(p.map(l.pos),p.map(d.pos),s?r.Slice.empty:t),0==s&&m(e,a,(n?n.isInline:o&&o.isTextblock)?-1:1)}},a.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,c=i.$to,s=e.mapping.slice(n),u=s.map(a.pos),l=s.map(c.pos);o?e.deleteRange(u,l):(e.replaceRangeWith(u,l,t),m(e,n,t.isInline?-1:1))}},a.findFrom=function(e,t,n){var r=e.parent.inlineContent?new u(e):v(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?v(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):v(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}},a.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new f(e.node(0))},a.atStart=function(e){return v(e,e,0,0,1)||new f(e)},a.atEnd=function(e){return v(e,e,e.content.size,e.childCount,-1)||new f(e)},a.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=i[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},a.jsonID=function(e,t){if(e in i)throw new RangeError("Duplicate use of selection JSON ID "+e);return i[e]=t,t.prototype.jsonID=e,t},a.prototype.getBookmark=function(){return u.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(a.prototype,c),a.prototype.visible=!0;var s=function(e,t){this.$from=e,this.$to=t},u=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return e.near(o);var i=n.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:o,o)},t.prototype.replace=function(t,n){if(void 0===n&&(n=r.Slice.empty),e.prototype.replace.call(this,t,n),n==r.Slice.empty){var o=this.$from.marksAcross(this.$to);o&&t.ensureMarks(o)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new l(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var a=e.findFrom(r,o,!0)||e.findFrom(r,-o,!0);if(!a)return e.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i||(n=(e.findFrom(n,-o,!0)||e.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new t(n,r)},Object.defineProperties(t.prototype,n),t}(a);a.jsonID("text",u);var l=function(e,t){this.anchor=e,this.head=t};l.prototype.map=function(e){return new l(e.map(this.anchor),e.map(this.head))},l.prototype.resolve=function(e){return u.between(e.resolve(this.anchor),e.resolve(this.head))};var d=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,c=n.resolve(a);return i?e.near(c):new t(c)},t.prototype.content=function(){return new r.Slice(r.Fragment.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new p(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(a);d.prototype.visible=!1,a.jsonID("node",d);var p=function(e){this.anchor=e};p.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new l(r,r):new p(r)},p.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&d.isSelectable(n)?new d(t):a.near(t)};var f=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=r.Slice.empty),n==r.Slice.empty){t.delete(0,t.doc.content.size);var o=e.atStart(t.doc);o.eq(t.selection)||t.setSelection(o)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return h},t}(a);a.jsonID("all",f);var h={map:function(){return this},resolve:function(e){return new f(e)}};function v(e,t,n,r,o,i){if(t.inlineContent)return u.create(e,n);for(var a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var c=t.child(a);if(c.isAtom){if(!i&&d.isSelectable(c))return d.create(e,n-(o<0?c.nodeSize:0))}else{var s=v(e,c,n+o,o<0?c.childCount:0,o,i);if(s)return s}n+=c.nodeSize*o}}function m(e,t,n){var r=e.steps.length-1;if(!(r<t)){var i,c=e.steps[r];if(c instanceof o.Pu||c instanceof o.FC)e.mapping.maps[r].forEach((function(e,t,n,r){null==i&&(i=r)})),e.setSelection(a.near(e.doc.resolve(i),n))}}var g=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return r.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.Mark.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(o.wx);function y(e,t){return t&&e?e.bind(t):e}var b=function(e,t,n){this.name=e,this.init=y(t.init,n),this.apply=y(t.apply,n)},w=[new b("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new b("selection",{init:function(e,t){return e.selection||a.atStart(t.doc)},apply:function(e){return e.selection}}),new b("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new b("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],k=function(e,t){var n=this;this.schema=e,this.fields=w.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new b(e.key,e.spec.state,e))}))},E=function(e){this.config=e},x={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};x.schema.get=function(){return this.config.schema},x.plugins.get=function(){return this.config.plugins},E.prototype.apply=function(e){return this.applyTransaction(e).state},E.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0},E.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var c=r?r[i].n:0,s=r?r[i].state:this,u=c<t.length&&a.spec.appendTransaction.call(a,c?t.slice(c):t,s,n);if(u&&n.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",e),!r){r=[];for(var l=0;l<this.config.plugins.length;l++)r.push(l<i?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}},E.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new E(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}for(var i=0;i<O.length;i++)O[i](this,e,t);return t},x.tr.get=function(){return new g(this)},E.create=function(e){for(var t=new k(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new E(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},E.prototype.reconfigure=function(e){for(var t=new k(this.schema,e.plugins),n=t.fields,r=new E(t),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(e,r)}return r},E.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t},E.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var o=new k(e.schema,e.plugins),i=new E(o);return o.fields.forEach((function(o){if("doc"==o.name)i.doc=r.Node.fromJSON(e.schema,t.doc);else if("selection"==o.name)i.selection=a.fromJSON(i.doc,t.selection);else if("storedMarks"==o.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var c in n){var s=n[c],u=s.spec.state;if(s.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(t,c))return void(i[o.name]=u.fromJSON.call(s,e,t[c],i))}i[o.name]=o.init(e,i)}})),i},E.addApplyListener=function(e){O.push(e)},E.removeApplyListener=function(e){var t=O.indexOf(e);t>-1&&O.splice(t,1)},Object.defineProperties(E.prototype,x);var O=[];function S(e,t,n){for(var r in e){var o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=S(o,t,{})),n[r]=o}return n}var C=function(e){this.props={},e.props&&S(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:A("plugin")};C.prototype.getState=function(e){return e[this.key]};var T=Object.create(null);function A(e){return e in T?e+"$"+ ++T[e]:(T[e]=0,e+"$")}var _=function(e){void 0===e&&(e="key"),this.key=A(e)};_.prototype.get=function(e){return e.config.pluginsByKey[this.key]},_.prototype.getState=function(e){return e[this.key]}},30709:(e,t,n)=>{"use strict";n.d(t,{Ax:()=>x,FC:()=>g,KS:()=>c,Mn:()=>O,Pu:()=>m,WJ:()=>_,Yo:()=>C,h8:()=>h,k9:()=>w,nd:()=>k,nj:()=>T,oo:()=>v,vs:()=>s,wx:()=>l,xu:()=>P});var r=n(75730),o=Math.pow(2,16);function i(e){return 65535&e}var a=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},c=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};c.prototype.recover=function(e){var t=0,n=i(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/o}(e)},c.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},c.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},c.prototype._map=function(e,t,n){for(var r=0,i=this.inverted?2:1,c=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var u=this.ranges[s]-(this.inverted?r:0);if(u>e)break;var l=this.ranges[s+i],d=this.ranges[s+c],p=u+l;if(e<=p){var f=u+r+((l?e==u?-1:e==p?1:t:t)<0?0:d);if(n)return f;var h=e==(t<0?u:p)?null:s/3+(e-u)*o;return new a(f,t<0?e!=u:e!=p,h)}r+=d-l}return n?e+r:new a(e+r)},c.prototype.touches=function(e,t){for(var n=0,r=i(t),o=this.inverted?2:1,a=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var s=this.ranges[c]-(this.inverted?n:0);if(s>e)break;var u=this.ranges[c+o];if(e<=s+u&&c==3*r)return!0;n+=this.ranges[c+a]-u}return!1},c.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),c=i+(this.inverted?0:o),s=this.ranges[r+t],u=this.ranges[r+n];e(a,a+s,c,c+u),o+=u-s}},c.prototype.invert=function(){return new c(this.ranges,!this.inverted)},c.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},c.offset=function(e){return 0==e?c.empty:new c(e<0?[0,-e,0]:[0,0,e])},c.empty=new c([]);var s=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function u(e){var t=Error.call(this,e);return t.__proto__=u.prototype,t}s.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new s(this.maps,this.mirror,e,t)},s.prototype.copy=function(){return new s(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},s.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},s.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},s.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},s.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},s.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},s.prototype.invert=function(){var e=new s;return e.appendMappingInverted(this),e},s.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},s.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},s.prototype._map=function(e,t,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var c=this.getMirror(o);if(null!=c&&c>o&&c<this.to){o=c,e=this.maps[c].recover(i.recover);continue}}i.deleted&&(r=!0),e=i.pos}return n?e:new a(e,r)},u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name="TransformError";var l=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new s},d={before:{configurable:!0},docChanged:{configurable:!0}};function p(){throw new Error("Override me")}d.before.get=function(){return this.docs.length?this.docs[0]:this.doc},l.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new u(t.failed);return this},l.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},d.docChanged.get=function(){return this.steps.length>0},l.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(l.prototype,d);var f=Object.create(null),h=function(){};h.prototype.apply=function(e){return p()},h.prototype.getMap=function(){return c.empty},h.prototype.invert=function(e){return p()},h.prototype.map=function(e){return p()},h.prototype.merge=function(e){return null},h.prototype.toJSON=function(){return p()},h.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=f[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},h.jsonID=function(e,t){if(e in f)throw new RangeError("Duplicate use of step JSON ID "+e);return f[e]=t,t.prototype.jsonID=e,t};var v=function(e,t){this.doc=e,this.failed=t};v.ok=function(e){return new v(e,null)},v.fail=function(e){return new v(null,e)},v.fromReplace=function(e,t,n,o){try{return v.ok(e.replace(t,n,o))}catch(e){if(e instanceof r.ReplaceError)return v.fail(e.message);throw e}};var m=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&y(e,this.from,this.to)?v.fail("Structure replace would overwrite content"):v.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new c([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?r.Slice.empty:new r.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var o=this.slice.size+e.slice.size==0?r.Slice.empty:new r.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),o,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,r.Slice.fromJSON(e,n.slice),!!n.structure)},t}(h);h.jsonID("replace",m);var g=function(e){function t(t,n,r,o,i,a,c){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(y(e,this.from,this.gapFrom)||y(e,this.gapTo,this.to)))return v.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return v.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?v.fromReplace(e,this.from,this.to,n):v.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new c([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,r.Slice.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(h);function y(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function b(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function w(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!b(r,o,i))break}}function k(e,t,n,r){void 0===r&&(r=e);var o=function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var c=(a.length?a[a.length-1]:t).contentMatch,s=r;c&&s<o;s++)c=c.matchType(n.child(s).type);if(!c||!c.validEnd)return null;return a}(r,t);return i?o.map(E).concat({type:t,attrs:n}).concat(i.map(E)):null}function E(e){return{type:e,attrs:null}}function x(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var c=o.depth-1,s=n-2;c>i;c--,s--){var u=o.node(c),l=o.index(c);if(u.type.spec.isolating)return!1;var d=u.content.cutByIndex(l,u.childCount),p=r&&r[s]||u;if(p!=u&&(d=d.replaceChild(0,p.type.create(p.attrs))),!u.canReplace(l+1,u.childCount)||!p.type.validContent(d))return!1}var f=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(f,f,h?h.type:o.node(i+1).type)}function O(e,t){var n=e.resolve(t),r=n.index();return S(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function S(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function C(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var c=r.indexAfter(a);if(r.node(a).canReplaceWith(c,c,n))return r.after(a+1);if(c<r.node(a).childCount)return null}}function T(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var c=r.depth;c>=0;c--){var s=c==r.depth?0:r.pos<=(r.start(c+1)+r.end(c+1))/2?-1:1,u=r.index(c)+(s>0?1:0),l=r.node(c),d=!1;if(1==a)d=l.canReplace(u,u,o);else{var p=l.contentMatchAt(u).findWrapping(o.firstChild.type);d=p&&l.canReplaceWith(u,u,p[0])}if(d)return 0==s?r.pos:s<0?r.before(c+1):r.after(c+1)}return null}function A(e,t,n){for(var o=[],i=0;i<e.childCount;i++){var a=e.child(i);a.content.size&&(a=a.copy(A(a.content,t,a))),a.isInline&&(a=t(a,n,i)),o.push(a)}return r.Fragment.fromArray(o)}h.jsonID("replaceAround",g),l.prototype.lift=function(e,t){for(var n=e.$from,o=e.$to,i=e.depth,a=n.before(i+1),c=o.after(i+1),s=a,u=c,l=r.Fragment.empty,d=0,p=i,f=!1;p>t;p--)f||n.index(p)>0?(f=!0,l=r.Fragment.from(n.node(p).copy(l)),d++):s--;for(var h=r.Fragment.empty,v=0,m=i,y=!1;m>t;m--)y||o.after(m+1)<o.end(m)?(y=!0,h=r.Fragment.from(o.node(m).copy(h)),v++):u++;return this.step(new g(s,u,a,c,new r.Slice(l.append(h),d,v),l.size-d,!0))},l.prototype.wrap=function(e,t){for(var n=r.Fragment.empty,o=t.length-1;o>=0;o--)n=r.Fragment.from(t[o].type.create(t[o].attrs,n));var i=e.start,a=e.end;return this.step(new g(i,a,i,a,new r.Slice(n,0,0),t.length,!0))},l.prototype.setBlockType=function(e,t,n,o){var i=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,o)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(i.doc,i.mapping.slice(a).map(t),n)){i.clearIncompatible(i.mapping.slice(a).map(t,1),n);var c=i.mapping.slice(a),s=c.map(t,1),u=c.map(t+e.nodeSize,1);return i.step(new g(s,u,s+1,u-1,new r.Slice(r.Fragment.from(n.create(o,null,e.marks)),0,0),1,!0)),!1}})),this},l.prototype.setNodeMarkup=function(e,t,n,o){var i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);var a=t.create(n,null,o||i.marks);if(i.isLeaf)return this.replaceWith(e,e+i.nodeSize,a);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new g(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new r.Slice(r.Fragment.from(a),0,0),1,!0))},l.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var o=this.doc.resolve(e),i=r.Fragment.empty,a=r.Fragment.empty,c=o.depth,s=o.depth-t,u=t-1;c>s;c--,u--){i=r.Fragment.from(o.node(c).copy(i));var l=n&&n[u];a=r.Fragment.from(l?l.type.create(l.attrs,a):o.node(c).copy(a))}return this.step(new m(e,e,new r.Slice(i.append(a),t,t),!0))},l.prototype.join=function(e,t){void 0===t&&(t=1);var n=new m(e-t,e+t,r.Slice.empty,!0);return this.step(n)};var _=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=e.resolve(this.from),i=o.node(o.sharedDepth(this.to)),a=new r.Slice(A(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),i),n.openStart,n.openEnd);return v.fromReplace(e,this.from,this.to,a)},t.prototype.invert=function(){return new P(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(h);h.jsonID("addMark",_);var P=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),o=new r.Slice(A(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return v.fromReplace(e,this.from,this.to,o)},t.prototype.invert=function(){return new _(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(h);function D(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}h.jsonID("removeMark",P),l.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],a=null,c=null;return this.doc.nodesBetween(e,t,(function(r,s,u){if(r.isInline){var l=r.marks;if(!n.isInSet(l)&&u.type.allowsMarkType(n.type)){for(var d=Math.max(s,e),p=Math.min(s+r.nodeSize,t),f=n.addToSet(l),h=0;h<l.length;h++)l[h].isInSet(f)||(a&&a.to==d&&a.mark.eq(l[h])?a.to=p:o.push(a=new P(d,p,l[h])));c&&c.to==d?c.to=p:i.push(c=new _(d,p,n))}}})),o.forEach((function(e){return r.step(e)})),i.forEach((function(e){return r.step(e)})),this},l.prototype.removeMark=function(e,t,n){var o=this;void 0===n&&(n=null);var i=[],a=0;return this.doc.nodesBetween(e,t,(function(o,c){if(o.isInline){a++;var s=null;if(n instanceof r.MarkType)for(var u,l=o.marks;u=n.isInSet(l);)(s||(s=[])).push(u),l=u.removeFromSet(l);else n?n.isInSet(o.marks)&&(s=[n]):s=o.marks;if(s&&s.length)for(var d=Math.min(c+o.nodeSize,t),p=0;p<s.length;p++){for(var f=s[p],h=void 0,v=0;v<i.length;v++){var m=i[v];m.step==a-1&&f.eq(i[v].style)&&(h=m)}h?(h.to=d,h.step=a):i.push({style:f,from:Math.max(c,e),to:d,step:a})}}})),i.forEach((function(e){return o.step(new P(e.from,e.to,e.style))})),this},l.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var o=this.doc.nodeAt(e),i=[],a=e+1,c=0;c<o.childCount;c++){var s=o.child(c),u=a+s.nodeSize,l=n.matchType(s.type,s.attrs);if(l){n=l;for(var d=0;d<s.marks.length;d++)t.allowsMarkType(s.marks[d].type)||this.step(new P(a,u,s.marks[d]))}else i.push(new m(a,u,r.Slice.empty));a=u}if(!n.validEnd){var p=n.fillBefore(r.Fragment.empty,!0);this.replace(a,a,new r.Slice(p,0,0))}for(var f=i.length-1;f>=0;f--)this.step(i[f]);return this},l.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=r.Slice.empty);var o=function(e,t,n,o){if(void 0===n&&(n=t),void 0===o&&(o=r.Slice.empty),t==n&&!o.size)return null;var i=e.resolve(t),a=e.resolve(n);return D(i,a,o)?new m(t,n,o):new Z(i,a,o).fit()}(this.doc,e,t,n);return o&&this.step(o),this},l.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new r.Slice(r.Fragment.from(n),0,0))},l.prototype.delete=function(e,t){return this.replace(e,t,r.Slice.empty)},l.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var Z=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var o=0;o<=e.depth;o++){var i=e.node(o);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(o))})}this.placed=r.Fragment.empty;for(var a=e.depth;a>0;a--)this.placed=r.Fragment.from(e.node(a).copy(this.placed))},I={depth:{configurable:!0}};function L(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(L(e.firstChild.content,t-1,n)))}function M(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(M(e.lastChild.content,t-1,n)))}function R(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function N(e,t,n){if(t<=0)return e;var o=e.content;return t>1&&(o=o.replaceChild(0,N(o.firstChild,t-1,1==o.childCount?n-1:0))),t>0&&(o=e.type.contentMatch.fillBefore(o).append(o),n<=0&&(o=o.append(e.type.contentMatch.matchFragment(o).fillBefore(r.Fragment.empty,!0)))),e.copy(o)}function j(e,t,n,r,o){var i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var c=r.fillBefore(i.content,!0,a);return c&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?c:null}function F(e,t,n,o,i){if(t<n){var a=e.firstChild;e=e.replaceChild(0,a.copy(F(a.content,t+1,n,o,a)))}if(t>o){var c=i.contentMatchAt(0),s=c.fillBefore(e).append(e);e=s.append(c.matchFragment(s).fillBefore(r.Fragment.empty,!0))}return e}function B(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}I.depth.get=function(){return this.frontier.length-1},Z.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,o=this.$from,i=this.close(t<0?this.$to:o.doc.resolve(t));if(!i)return null;for(var a=this.placed,c=o.depth,s=i.depth;c&&s&&1==a.childCount;)a=a.firstChild.content,c--,s--;var u=new r.Slice(a,c,s);return t>-1?new g(o.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||o.pos!=this.$to.pos?new m(o.pos,i.pos,u):void 0},Z.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,o=(t?(n=R(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var a=this.frontier[i],c=a.type,s=a.match,u=void 0,l=void 0;if(1==e&&(o?s.matchType(o.type)||(l=s.fillBefore(r.Fragment.from(o),!1)):c.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:i,parent:n,inject:l};if(2==e&&o&&(u=s.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:i,parent:n,wrap:u};if(n&&s.matchType(n.type))break}},Z.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,o=e.openEnd,i=R(t,n);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new r.Slice(t,n+1,Math.max(o,i.size+n>=t.size-o?n+1:0)),!0)},Z.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,o=e.openEnd,i=R(t,n);if(i.childCount<=1&&n>0){var a=t.size-n<=n+i.size;this.unplaced=new r.Slice(L(t,n-1,1),n-1,a?n-1:o)}else this.unplaced=new r.Slice(L(t,n,1),n,o)},Z.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,o=e.parent,i=e.inject,a=e.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var c=0;c<a.length;c++)this.openFrontierNode(a[c]);var s=this.unplaced,u=o?o.content:s.content,l=s.openStart-t,d=0,p=[],f=this.frontier[n],h=f.match,v=f.type;if(i){for(var m=0;m<i.childCount;m++)p.push(i.child(m));h=h.matchFragment(i)}for(var g=u.size+t-(s.content.size-s.openEnd);d<u.childCount;){var y=u.child(d),b=h.matchType(y.type);if(!b)break;(++d>1||0==l||y.content.size)&&(h=b,p.push(N(y.mark(v.allowedMarks(y.marks)),1==d?l:0,d==u.childCount?g:-1)))}var w=d==u.childCount;w||(g=-1),this.placed=M(this.placed,n,r.Fragment.from(p)),this.frontier[n].match=h,w&&g<0&&o&&o.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var k=0,E=u;k<g;k++){var x=E.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),E=x.content}this.unplaced=w?0==t?r.Slice.empty:new r.Slice(L(s.content,t-1,1),t-1,g<0?s.openEnd:t-1):new r.Slice(L(s.content,t,d),s.openStart,s.openEnd)},Z.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!j(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},Z.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=j(e,t,o,r,i);if(a){for(var c=t-1;c>=0;c--){var s=this.frontier[c],u=s.match,l=j(e,c,s.type,u,!0);if(!l||l.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}},Z.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=M(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},Z.prototype.openFrontierNode=function(e,t,n){var o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=M(this.placed,this.depth,r.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},Z.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(r.Fragment.empty,!0);e.childCount&&(this.placed=M(this.placed,this.frontier.length,e))},Object.defineProperties(Z.prototype,I),l.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var o=this.doc.resolve(e),i=this.doc.resolve(t);if(D(o,i,n))return this.step(new m(e,t,n));var a=B(o,this.doc.resolve(t));0==a[a.length-1]&&a.pop();var c=-(o.depth+1);a.unshift(c);for(var s=o.depth,u=o.pos-1;s>0;s--,u--){var l=o.node(s).type.spec;if(l.defining||l.isolating)break;a.indexOf(s)>-1?c=s:o.before(s)==u&&a.splice(1,0,-s)}for(var d=a.indexOf(c),p=[],f=n.openStart,h=n.content,v=0;;v++){var g=h.firstChild;if(p.push(g),v==n.openStart)break;h=g.content}f>0&&p[f-1].type.spec.defining&&o.node(d).type!=p[f-1].type?f-=1:f>=2&&p[f-1].isTextblock&&p[f-2].type.spec.defining&&o.node(d).type!=p[f-2].type&&(f-=2);for(var y=n.openStart;y>=0;y--){var b=(y+f+1)%(n.openStart+1),w=p[b];if(w)for(var k=0;k<a.length;k++){var E=a[(k+d)%a.length],x=!0;E<0&&(x=!1,E=-E);var O=o.node(E-1),S=o.index(E-1);if(O.canReplaceWith(S,S,w.type,w.marks))return this.replace(o.before(E),x?i.after(E):t,new r.Slice(F(n.content,0,n.openStart,b),b,n.openEnd))}}for(var C=this.steps.length,T=a.length-1;T>=0&&(this.replace(e,t,n),!(this.steps.length>C));T--){var A=a[T];A<0||(e=o.before(A),t=i.after(A))}return this},l.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var o=C(this.doc,e,n.type);null!=o&&(e=t=o)}return this.replaceRange(e,t,new r.Slice(r.Fragment.from(n),0,0))},l.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=B(n,r),i=0;i<o.length;i++){var a=o[i],c=i==o.length-1;if(c&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(c||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var s=1;s<=n.depth&&s<=r.depth;s++)if(e-n.start(s)==n.depth-s&&t>n.end(s)&&r.end(s)-t!=r.depth-s)return this.delete(n.before(s),t);return this.delete(e,t)}},41396:(e,t,n)=>{"use strict";var r=n(16037),o=n(75730),i=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++){var i=E(e[r])(n.selection);if(i){var a=f(i.pos,t)(n);if(a!==n)return a}}return n}},a=function(e){return function(t){if(l(t.selection)){var n=t.selection,i=n.$from,a=n.$to;if(e instanceof o.Fragment&&i.parent.canReplace(i.index(),i.indexAfter(),e)||i.parent.canReplaceWith(i.index(),i.indexAfter(),e.type))return p(t.replaceWith(i.pos,a.pos,e).setSelection(new r.NodeSelection(t.doc.resolve(i.pos))))}return t}},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(n){var o=r.Selection.findFrom(n.doc.resolve(e),t,!0);return o?n.setSelection(o):n}},s=function(e){return e.type&&e.type.spec.selectable},u=function(e,t,n){return function(e){return s(e)&&e.type.isLeaf}(e)?n.setSelection(new r.NodeSelection(n.doc.resolve(t))):c(t)(n)},l=function(e){return e instanceof r.NodeSelection},d=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},p=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},f=function(e,t){return function(n){var r=n.doc.nodeAt(e),o=n.doc.resolve(e);if(h(o,t)){var i=(n=n.replaceWith(e,e+r.nodeSize,t)).selection.$from.pos-1;return n=c(Math.max(i,0),-1)(n),n=c(n.selection.$from.start())(n),p(n)}return n}},h=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof o.Fragment?t:o.Fragment.from(t))},v=function(e){return function(t){var n=t.doc.nodeAt(e);return p(t.delete(e,e+n.nodeSize))}},m=function(e,t){var n=e.index();return t instanceof o.Fragment?e.parent.canReplace(n,n,t):t instanceof o.Node&&e.parent.canReplaceWith(n,n,t.type)},g=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},y=function(e){return function(t){var n=t.$from;return b(n,e)}},b=function(e,t){for(var n=e.depth;n>0;n--){var r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},w=function(e,t){return function(n){var r=y(e)(n);if(r)return O(r.pos,t)}},k=function(e){return function(t){return!!y(e)(t)}},E=function(e){return function(t){return y((function(t){return d(e,t)}))(t)}},x=function(e){var t=e.$from.nodeBefore,n=r.Selection.findFrom(e.$from,-1);if(n&&t){var o=E(t.type)(n);return o?o.pos:n.$from.pos}},O=function(e,t){var n=t(e),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},S=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants((function(e,r){if(n.push({node:e,pos:r}),!t)return!1})),n},C=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return S(e,n).filter((function(e){return t(e.node)}))},T=function(e,t,n){return C(e,(function(e){return e.type===t}),n)};t.EG=l,t.om=m,t.Kk=y,t.qv=b,t.iV=k,t.Tr=E,t.NP=function(e,t){return b(e,(function(e){return d(t,e)}))},t.bw=function(e){return function(t){return k((function(t){return d(e,t)}))(t)}},t.Yr=function(e,t){return function(n){return w((function(t){return d(e,t)}),t)(n)}},t.a1=function(e){return function(t){if(l(t)){var n=t.node,r=t.$from;if(d(e,n))return{node:n,pos:r.pos,depth:r.depth}}}},t.Ez=x,t.TM=O,t.xH=S,t.N2=C,t.D0=T,t.NQ=function(e){return function(t){var n=E(e)(t.selection);return n?v(n.pos)(t):t}},t.BX=i,t.au=function(e){if(l(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return p(e.delete(t,n))}return e},t.Ig=a,t.B0=c,t.Z3=function(e,t,n){return function(r){var o="number"==typeof t,c=r.selection.$from,d=o?r.doc.resolve(t):l(r.selection)?r.doc.resolve(c.pos+1):c,f=d.parent;if(l(r.selection)&&n&&r!==(r=a(e)(r)))return r;if(g(f)&&r!==(r=i(f.type,e)(r))){var h=s(e)?d.before(d.depth):d.pos;return u(e,h,r)}if(m(d,e)){r.insert(d.pos,e);var v=o?d.pos:s(e)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return p(u(e,v,r))}for(var y=d.depth;y>0;y--){var b=d.after(y),w=r.doc.resolve(b);if(m(w,e))return r.insert(b,e),p(u(e,b,r))}return r}},t.EB=function(e){var t=x(e.selection);return"number"==typeof t?v(t)(e):e}},6565:(e,t,n)=>{"use strict";n.d(t,{EH:()=>Mt,p:()=>Dt,tk:()=>Gt});var r=n(16037),o=n(75730),i=n(30709),a={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var c=/Edge\/(\d+)/.exec(navigator.userAgent),s=/MSIE \d/.test(navigator.userAgent),u=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),l=a.ie=!!(s||u||c);a.ie_version=s?document.documentMode||6:u?+u[1]:c?+c[1]:null,a.gecko=!l&&/gecko\/(\d+)/i.test(navigator.userAgent),a.gecko_version=a.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var d=!l&&/Chrome\/(\d+)/.exec(navigator.userAgent);a.chrome=!!d,a.chrome_version=d&&+d[1],a.safari=!l&&/Apple Computer/.test(navigator.vendor),a.ios=a.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),a.mac=a.ios||/Mac/.test(navigator.platform),a.android=/Android \d/.test(navigator.userAgent),a.webkit="webkitFontSmoothing"in document.documentElement.style,a.webkit_version=a.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var p=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},f=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},h=null,v=function(e,t,n){var r=h||(h=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},m=function(e,t,n,r){return n&&(y(e,t,n,r,-1)||y(e,t,n,r,1))},g=/^(img|br|input|textarea|hr)$/i;function y(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:b(e))){var i=e.parentNode;if(1!=i.nodeType||w(e)||g.test(e.nodeName)||"false"==e.contentEditable)return!1;t=p(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?b(e):0}}}function b(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function w(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var k=function(e){var t=e.isCollapsed;return t&&a.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function E(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function x(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function O(e,t){return"number"==typeof e?e:e[t]}function S(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function C(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=f(a))if(1==a.nodeType){var c=a==i.body||1!=a.nodeType,s=c?x(i):S(a),u=0,l=0;if(t.top<s.top+O(r,"top")?l=-(s.top-t.top+O(o,"top")):t.bottom>s.bottom-O(r,"bottom")&&(l=t.bottom-s.bottom+O(o,"bottom")),t.left<s.left+O(r,"left")?u=-(s.left-t.left+O(o,"left")):t.right>s.right-O(r,"right")&&(u=t.right-s.right+O(o,"right")),u||l)if(c)i.defaultView.scrollBy(u,l);else{var d=a.scrollLeft,p=a.scrollTop;l&&(a.scrollTop+=l),u&&(a.scrollLeft+=u);var h=a.scrollLeft-d,v=a.scrollTop-p;t={left:t.left-h,top:t.top-v,right:t.right-h,bottom:t.bottom-v}}if(c)break}}function T(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=f(e));return t}function A(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}var _=null;function P(e,t){for(var n,r,o=2e8,i=0,a=t.top,c=t.top,s=e.firstChild,u=0;s;s=s.nextSibling,u++){var l=void 0;if(1==s.nodeType)l=s.getClientRects();else{if(3!=s.nodeType)continue;l=v(s).getClientRects()}for(var d=0;d<l.length;d++){var p=l[d];if(p.top<=a&&p.bottom>=c){a=Math.max(p.bottom,a),c=Math.min(p.top,c);var f=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(f<o){n=s,o=f,r=f&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==s.nodeType&&f&&(i=u+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(i=u+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=L(r,1);if(i.top!=i.bottom&&D(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:P(n,r)}function D(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Z(e,t,n){var r=e.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var a=e.childNodes[i];if(1==a.nodeType)for(var c=a.getClientRects(),s=0;s<c.length;s++){var u=c[s];if(D(t,u))return Z(a,t,u)}if((i=(i+1)%r)==o)break}return e}function I(e,t){var n,r,o,i,c=e.dom.ownerDocument;if(c.caretPositionFromPoint)try{var s=c.caretPositionFromPoint(t.left,t.top);s&&(o=(n=s).offsetNode,i=n.offset)}catch(e){}if(!o&&c.caretRangeFromPoint){var u=c.caretRangeFromPoint(t.left,t.top);u&&(o=(r=u).startContainer,i=r.startOffset)}var l,d=(e.root.elementFromPoint?e.root:c).elementFromPoint(t.left,t.top+1);if(!d||!e.dom.contains(1!=d.nodeType?d.parentNode:d)){var p=e.dom.getBoundingClientRect();if(!D(t,p))return null;if(!(d=Z(e.dom,t,p)))return null}if(a.safari)for(var h=d;o&&h;h=f(h))h.draggable&&(o=i=null);if(d=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(d,t),o){if(a.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var v,m=o.childNodes[i];"IMG"==m.nodeName&&(v=m.getBoundingClientRect()).right<=t.left&&v.bottom>t.top&&i++}o==e.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&t.top>o.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(l=function(e,t,n,r){for(var o=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var c=a.dom.getBoundingClientRect();if(c.left>r.left||c.top>r.top)o=a.posBefore;else{if(!(c.right<r.left||c.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n)}(e,o,i,t))}null==l&&(l=function(e,t,n){var r=P(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var c=o.getBoundingClientRect();a=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,d,t));var g=e.docView.nearestDesc(d,!0);return{pos:l,inside:g?g.posAtStart-g.border:-1}}function L(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var M=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function R(e,t,n){var r=e.docView.domFromPos(t,n<0?-1:1),o=r.node,i=r.offset,c=a.webkit||a.gecko;if(3==o.nodeType){if(!c||!M.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var s=i,u=i,l=n<0?1:-1;return n<0&&!i?(u++,l=-1):n>=0&&i==o.nodeValue.length?(s--,l=1):n<0?s--:u++,N(L(v(o,s,u),l),l<0)}var d=L(v(o,i,i),n);if(a.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var p=L(v(o,i-1,i-1),-1);if(p.top==d.top){var f=L(v(o,i,i+1),-1);if(f.top!=d.top)return N(f,f.left<p.left)}}return d}if(!e.state.doc.resolve(t).parent.inlineContent){if(i&&(n<0||i==b(o))){var h=o.childNodes[i-1];if(1==h.nodeType)return j(h.getBoundingClientRect(),!1)}if(i<b(o)){var m=o.childNodes[i];if(1==m.nodeType)return j(m.getBoundingClientRect(),!0)}return j(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==b(o))){var g=o.childNodes[i-1],y=3==g.nodeType?v(g,b(g)-(c?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(y)return N(L(y,1),!1)}if(i<b(o)){for(var w=o.childNodes[i];w.pmViewDesc&&w.pmViewDesc.ignoreForCoords;)w=w.nextSibling;var k=w?3==w.nodeType?v(w,0,c?0:1):1==w.nodeType?w:null:null;if(k)return N(L(k,-1),!0)}return N(L(3==o.nodeType?v(o):o,-n),n>=0)}function N(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function j(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function F(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}var B=/[\u0590-\u08ac]/;var z=null,U=null,V=!1;function H(e,t,n){return z==t&&U==n?V:(z=t,U=n,V="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$from:r.$to;return F(e,t,(function(){for(var t=e.docView.domFromPos(o.pos,"up"==n?-1:1).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.dom;break}t=r.dom.parentNode}for(var i=R(e,o.pos,1),a=t.firstChild;a;a=a.nextSibling){var c=void 0;if(1==a.nodeType)c=a.getClientRects();else{if(3!=a.nodeType)continue;c=v(a,0,a.nodeValue.length).getClientRects()}for(var s=0;s<c.length;s++){var u=c[s];if(u.bottom>u.top+1&&("up"==n?i.top-u.top>2*(u.bottom-i.top):u.bottom-i.bottom>2*(i.bottom-u.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,c=e.root.getSelection();return B.test(r.parent.textContent)&&c.modify?F(e,t,(function(){var t=c.getRangeAt(0),o=c.focusNode,i=c.focusOffset,a=c.caretBidiLevel;c.modify("move",n,"character");var s=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==c.focusNode.nodeType?c.focusNode:c.focusNode.parentNode)||o==c.focusNode&&i==c.focusOffset;return c.removeAllRanges(),c.addRange(t),null!=a&&(c.caretBidiLevel=a),s})):"left"==n||"backward"==n?i:a}(e,t,n))}var W=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},G={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};W.prototype.matchesWidget=function(){return!1},W.prototype.matchesMark=function(){return!1},W.prototype.matchesNode=function(){return!1},W.prototype.matchesHack=function(e){return!1},W.prototype.parseRule=function(){return null},W.prototype.stopEvent=function(){return!1},G.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},G.border.get=function(){return 0},W.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},W.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size}},G.posBefore.get=function(){return this.parent.posBeforeChild(this)},G.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},G.posAfter.get=function(){return this.posBefore+this.size},G.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},W.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var c;if(e==this.dom&&this.contentDOM)c=t>p(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))c=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var s=e;;s=s.parentNode){if(s==this.dom){c=!1;break}if(s.parentNode.firstChild!=s)break}if(null==c&&t==e.childNodes.length)for(var u=e;;u=u.parentNode){if(u==this.dom){c=!0;break}if(u.parentNode.lastChild!=u)break}}return(null==c?n>0:c)?this.posAtEnd:this.posAtStart},W.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==e.nodeType?e:e.parentNode):o.nodeDOM==e))return o;n=!1}}},W.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},W.prototype.posFromDOM=function(e,t,n){for(var r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1},W.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}},W.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,o=0;n<this.children.length;n++){var i=this.children[n],a=o+i.size;if(a>e||i instanceof ee){r=e-o;break}o=a}if(r)return this.children[n].domFromPos(r-this.children[n].border,t);for(var c=void 0;n&&!(c=this.children[n-1]).size&&c instanceof K&&c.widget.type.side>=0;n--);if(t<=0){for(var s,u=!0;(s=n?this.children[n-1]:null)&&s.dom.parentNode!=this.contentDOM;n--,u=!1);return s&&t&&u&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?p(s.dom)+1:0}}for(var l,d=!0;(l=n<this.children.length?this.children[n]:null)&&l.dom.parentNode!=this.contentDOM;n++,d=!1);return l&&d&&!l.border&&!l.domAtom?l.domFromPos(0,t):{node:this.contentDOM,offset:l?p(l.dom):this.contentDOM.childNodes.length}},W.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var c=this.children[a],s=i+c.size;if(-1==r&&e<=s){var u=i+c.border;if(e>=u&&t<=s-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,u);e=i;for(var l=a;l>0;l--){var d=this.children[l-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=p(d.dom)+1;break}e-=d.size}-1==r&&(r=0)}if(r>-1&&(s>t||a==this.children.length-1)){t=s;for(var f=a+1;f<this.children.length;f++){var h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=p(h.dom);break}t+=h.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=s}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}},W.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},W.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},W.prototype.setSelection=function(e,t,n,r){for(var o=Math.min(e,t),i=Math.max(e,t),c=0,s=0;c<this.children.length;c++){var u=this.children[c],l=s+u.size;if(o>s&&i<l)return u.setSelection(e-s-u.border,t-s-u.border,n,r);s=l}var d=this.domFromPos(e,e?-1:1),f=t==e?d:this.domFromPos(t,t?-1:1),h=n.getSelection(),v=!1;if((a.gecko||a.safari)&&e==t){var g=d.node,y=d.offset;if(3==g.nodeType){if((v=y&&"\n"==g.nodeValue[y-1])&&y==g.nodeValue.length)for(var b=g,w=void 0;b;b=b.parentNode){if(w=b.nextSibling){"BR"==w.nodeName&&(d=f={node:w.parentNode,offset:p(w)+1});break}var k=b.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{var E=g.childNodes[y-1];v=E&&("BR"==E.nodeName||"false"==E.contentEditable)}}if(a.gecko&&h.focusNode&&h.focusNode!=f.node&&1==h.focusNode.nodeType){var x=h.focusNode.childNodes[h.focusOffset];x&&"false"==x.contentEditable&&(r=!0)}if(r||v&&a.safari||!m(d.node,d.offset,h.anchorNode,h.anchorOffset)||!m(f.node,f.offset,h.focusNode,h.focusOffset)){var O=!1;if((h.extend||e==t)&&!v){h.collapse(d.node,d.offset);try{e!=t&&h.extend(f.node,f.offset),O=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!O){if(e>t){var S=d;d=f,f=S}var C=document.createRange();C.setEnd(f.node,f.offset),C.setStart(d.node,d.offset),h.removeAllRanges(),h.addRange(C)}}},W.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},G.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},W.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,c=i-o.border;if(e>=a&&t<=c)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=c||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM?2:3}n=i}this.dirty=2},W.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},G.domAtom.get=function(){return!1},G.ignoreForCoords.get=function(){return!1},Object.defineProperties(W.prototype,G);var q=[],K=function(e){function t(t,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var c=document.createElement("span");c.appendChild(a),a=c}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,q,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},t.prototype.destroy=function(){this.widget.type.destroy(this.dom),e.prototype.destroy.call(this)},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(W),$=function(e){function t(t,n,r,o){e.call(this,t,q,n,null),this.textDOM=r,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(W),J=function(e){function t(t,n,r,o){e.call(this,t,[],r,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,r,i){var a=i.nodeViews[n.type.name],c=a&&a(n,i,r);return c&&c.dom||(c=o.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,c.dom,c.contentDOM||c.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,r){var o=t.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=fe(i,n,a,r)),e>0&&(i=fe(i,0,e,r));for(var c=0;c<i.length;c++)i[c].parent=o;return o.children=i,o},t}(W),Y=function(e){function t(t,n,r,o,i,a,c,s,u){e.call(this,t,n.isLeaf?q:[],i,a),this.nodeDOM=c,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(s,u)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,n,r,i,a,c){var s,u,l=a.nodeViews[n.type.name],d=l&&l(n,a,(function(){return u?u.parent?u.parent.posBeforeChild(u):void 0:c}),r,i),p=d&&d.dom,f=d&&d.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(p=(s=o.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,f=s.contentDOM);f||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var h=p;return p=se(p,r,n),d?u=new te(e,n,r,i,p,f,h,d,a,c+1):n.isText?new Q(e,n,r,i,p,h,a):new t(e,n,r,i,p,f,h,a,c+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?o.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&ue(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,r=this.node.inlineContent,i=t,c=e.composing&&this.localCompositionInfo(e,t),s=c&&c.pos>-1?c:null,u=c&&c.pos<0,l=new de(this,s&&s.node);!function(e,t,n,r){var o=t.locals(e),i=0;if(0==o.length){for(var a=0;a<e.childCount;a++){var c=e.child(a);r(c,o,t.forChild(i,c),a),i+=c.nodeSize}return}for(var s=0,u=[],l=null,d=0;;){if(s<o.length&&o[s].to==i){for(var p=o[s++],f=void 0;s<o.length&&o[s].to==i;)(f||(f=[p])).push(o[s++]);if(f){f.sort(pe);for(var h=0;h<f.length;h++)n(f[h],d,!!l)}else n(p,d,!!l)}var v=void 0,m=void 0;if(l)m=-1,v=l,l=null;else{if(!(d<e.childCount))break;m=d,v=e.child(d++)}for(var g=0;g<u.length;g++)u[g].to<=i&&u.splice(g--,1);for(;s<o.length&&o[s].from<=i&&o[s].to>i;)u.push(o[s++]);var y=i+v.nodeSize;if(v.isText){var b=y;s<o.length&&o[s].from<b&&(b=o[s].from);for(var w=0;w<u.length;w++)u[w].to<b&&(b=u[w].to);b<y&&(l=v.cut(b-i),v=v.cut(0,b-i),y=b,m=-1)}r(v,u.length?v.isInline&&!v.isLeaf?u.filter((function(e){return!e.inline})):u.slice():q,t.forChild(i,v),m),i=y}}(this.node,this.innerDeco,(function(t,a,c){t.spec.marks?l.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!c&&l.syncToMarks(a==n.node.childCount?o.Mark.none:n.node.child(a).marks,r,e),l.placeWidget(t,e,i)}),(function(t,n,o,a){var s;l.syncToMarks(t.marks,r,e),l.findNodeMatch(t,n,o,a)||u&&e.state.selection.from>i&&e.state.selection.to<i+t.nodeSize&&(s=l.findIndexWithChild(c.node))>-1&&l.updateNodeAt(t,n,o,s,e)||l.updateNextNode(t,n,o,e,a)||l.addNode(t,n,o,e,i),i+=t.nodeSize})),l.syncToMarks(q,r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(s&&this.protectLocalComposition(e,s),ne(this.contentDOM,this.children,e),a.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionInfo=function(e,t){var n=e.state.selection,o=n.from,i=n.to;if(!(!(e.state.selection instanceof r.TextSelection)||o<t||i>t+this.node.content.size)){var a=e.root.getSelection(),c=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=b(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(a.focusNode,a.focusOffset);if(c&&this.dom.contains(c.parentNode)){if(this.node.inlineContent){var s=c.nodeValue,u=function(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var a=e.child(o++),c=i;if(i+=a.nodeSize,a.isText){for(var s=a.text;o<e.childCount;){var u=e.child(o++);if(i+=u.nodeSize,!u.isText)break;s+=u.text}if(i>=n){var l=s.lastIndexOf(t,r-c);if(l>=0&&l+t.length+c>=n)return c+l}}}return-1}(this.node.content,s,o-t,i-t);return u<0?null:{node:c,pos:u,text:s}}return{node:c,pos:-1}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new $(this,i,n,o);e.compositionNodes.push(a),this.children=fe(this.children,r,r+o.length,e,a)}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!ue(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=ae(this.dom,this.nodeDOM,ie(this.outerDeco,this.node,t),ie(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}(W);function X(e,t,n,r,o){return se(r,t,e),new Y(null,e,t,n,r,r,r,o,0)}var Q=function(e){function t(t,n,r,o,i,a,c){e.call(this,t,n,r,o,i,null,a,c)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,r){var o=this.node.cut(e,n),i=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},t.prototype.markDirty=function(t,n){e.prototype.markDirty.call(this,t,n),this.dom==this.nodeDOM||0!=t&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,n),t}(Y),ee=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(e){return 0==this.dirty&&this.dom.nodeName==e},n.domAtom.get=function(){return!0},n.ignoreForCoords.get=function(){return"IMG"==this.dom.nodeName},Object.defineProperties(t.prototype,n),t}(W),te=function(e){function t(t,n,r,o,i,a,c,s,u,l){e.call(this,t,n,r,o,i,a,c,u,l),this.spec=s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n,r);return i&&this.updateInner(t,n,r,o),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(Y);function ne(e,t,n){for(var r=e.firstChild,o=!1,i=0;i<t.length;i++){var a=t[i],c=a.dom;if(c.parentNode==e){for(;c!=r;)r=le(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(c,r);if(a instanceof J){var s=r?r.previousSibling:e.lastChild;ne(a.contentDOM,a.children,n),r=s?s.nextSibling:e.firstChild}}for(;r;)r=le(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}function re(e){e&&(this.nodeName=e)}re.prototype=Object.create(null);var oe=[new re];function ie(e,t,n){if(0==e.length)return oe;for(var r=n?oe[0]:new re,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs;if(a)for(var c in a.nodeName&&o.push(r=new re(a.nodeName)),a){var s=a[c];null!=s&&(n&&1==o.length&&o.push(r=new re(t.isInline?"span":"div")),"class"==c?r.class=(r.class?r.class+" ":"")+s:"style"==c?r.style=(r.style?r.style+";":"")+s:"nodeName"!=c&&(r[c]=s))}}return o}function ae(e,t,n,r){if(n==oe&&r==oe)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],c=n[i];if(i){var s=void 0;c&&c.nodeName==a.nodeName&&o!=e&&(s=o.parentNode)&&s.tagName.toLowerCase()==a.nodeName||((s=document.createElement(a.nodeName)).pmIsDeco=!0,s.appendChild(o),c=oe[0]),o=s}ce(o,c||oe[0],a)}return o}function ce(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" ").filter(Boolean):q,a=n.class?n.class.split(" ").filter(Boolean):q,c=0;c<i.length;c++)-1==a.indexOf(i[c])&&e.classList.remove(i[c]);for(var s=0;s<a.length;s++)-1==i.indexOf(a[s])&&e.classList.add(a[s]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style)for(var u,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;u=l.exec(t.style);)e.style.removeProperty(u[1]);n.style&&(e.style.cssText+=n.style)}}function se(e,t,n){return ae(e,e,oe,ie(t,n,1!=e.nodeType))}function ue(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function le(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var de=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(e,t){var n=t,r=n.children.length,o=e.childCount,i=new Map,a=[];e:for(;o>0;){for(var c=void 0;;)if(r){var s=n.children[r-1];if(!(s instanceof J)){c=s,r--;break}n=s,r=s.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}var u=c.node;if(u){if(u!=e.child(o-1))break;--o,i.set(c,o),a.push(c)}}return{index:o,matched:i,matches:a.reverse()}}(e.node.content,e)};function pe(e,t){return e.type.side-t.type.side}function fe(e,t,n,r,o){for(var i=[],a=0,c=0;a<e.length;a++){var s=e[a],u=c,l=c+=s.size;u>=n||l<=t?i.push(s):(u<t&&i.push(s.slice(0,t-u,r)),o&&(i.push(o),o=null),l>n&&i.push(s.slice(n-u,s.size,r)))}return i}function he(e,t){var n=e.root.getSelection(),o=e.state.doc;if(!n.focusNode)return null;var i=e.docView.nearestDesc(n.focusNode),a=i&&0==i.size,c=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(c<0)return null;var s,u,l=o.resolve(c);if(k(n)){for(s=l;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&r.NodeSelection.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(e,t,n){for(var r=0==t,o=t==b(e);r||o;){if(e==n)return!0;var i=p(e);if(!(e=e.parentNode))return!1;r=r&&0==i,o=o&&i==b(e)}}(n.focusNode,n.focusOffset,i.dom))){var d=i.posBefore;u=new r.NodeSelection(c==d?l:o.resolve(d))}}else{var f=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(f<0)return null;s=o.resolve(f)}u||(u=xe(e,s,l,"pointer"==t||e.state.selection.head<l.pos&&!a?1:-1));return u}function ve(e){return e.editable?e.hasFocus():Oe(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function me(e,t){var n=e.state.selection;if(ke(e,n),ve(e)){if(!t&&e.mouseDown&&e.mouseDown.allowDefault)return e.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection();if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,p(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&a.ie&&a.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var o,i,c=n.anchor,s=n.head;!ge||n instanceof r.TextSelection||(n.$from.parent.inlineContent||(o=ye(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=ye(e,n.to))),e.docView.setSelection(c,s,e.root,t),ge&&(o&&we(o),i&&we(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout((function(){ve(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}de.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},de.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},de.prototype.syncToMarks=function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,c=this.index;c<Math.min(this.index+3,this.top.children.length);c++)if(this.top.children[c].matchesMark(e[o])){a=c;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var s=J.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,s),this.top=s,this.changed=!0}this.index=0,o++}},de.prototype.findNodeMatch=function(e,t,n,r){var o,i=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))i=this.top.children.indexOf(o,this.index);else for(var a=this.index,c=Math.min(this.top.children.length,a+5);a<c;a++){var s=this.top.children[a];if(s.matchesNode(e,t,n)&&!this.preMatch.matched.has(s)){i=a;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},de.prototype.updateNodeAt=function(e,t,n,r,o){return!!this.top.children[r].update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)},de.prototype.findIndexWithChild=function(e){for(;;){var t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){var n=e.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}e=t}},de.prototype.updateNextNode=function(e,t,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof Y){var c=this.preMatch.matched.get(a);if(null!=c&&c!=o)return!1;var s=a.dom;if(!(this.lock&&(s==this.lock||1==s.nodeType&&s.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&ue(t,a.outerDeco)))&&a.update(e,t,n,r))return this.destroyBetween(this.index,i),a.dom!=s&&(this.changed=!0),this.index++,!0;break}}return!1},de.prototype.addNode=function(e,t,n,r,o){this.top.children.splice(this.index++,0,Y.create(this.top,e,t,n,r,o)),this.changed=!0},de.prototype.placeWidget=function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new K(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},de.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof J;)e=e.children[e.children.length-1];e&&e instanceof Q&&!/\n$/.test(e.node.text)||((a.safari||a.chrome)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},de.prototype.addHackNode=function(e){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(e))this.index++;else{var t=document.createElement(e);"IMG"==e&&(t.className="ProseMirror-separator"),"BR"==e&&(t.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new ee(this.top,q,t,null)),this.changed=!0}};var ge=a.safari||a.chrome&&a.chrome_version<63;function ye(e,t){var n=e.docView.domFromPos(t,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,c=o?r.childNodes[o-1]:null;if(a.safari&&i&&"false"==i.contentEditable)return be(i);if(!(i&&"false"!=i.contentEditable||c&&"false"!=c.contentEditable)){if(i)return be(i);if(c)return be(c)}}function be(e){return e.contentEditable="true",a.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function we(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function ke(e,t){if(t instanceof r.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Ee(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Ee(e)}function Ee(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function xe(e,t,n,o){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||r.TextSelection.between(t,n,o)}function Oe(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Se(e,t){var n=e.selection,o=n.$anchor,i=n.$head,a=t>0?o.max(i):o.min(i),c=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return c&&r.Selection.findFrom(c,t)}function Ce(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Te(e,t,n){var o=e.state.selection;if(!(o instanceof r.TextSelection)){if(o instanceof r.NodeSelection&&o.node.isInline)return Ce(e,new r.TextSelection(t>0?o.$to:o.$from));var i=Se(e.state,t);return!!i&&Ce(e,i)}if(!o.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var c=Se(e.state,t);return!!(c&&c instanceof r.NodeSelection)&&Ce(e,c)}if(!(a.mac&&n.indexOf("m")>-1)){var s,u=o.$head,l=u.textOffset?null:t<0?u.nodeBefore:u.nodeAfter;if(!l||l.isText)return!1;var d=t<0?u.pos-l.nodeSize:u.pos;return!!(l.isAtom||(s=e.docView.descAt(d))&&!s.contentDOM)&&(r.NodeSelection.isSelectable(l)?Ce(e,new r.NodeSelection(t<0?e.state.doc.resolve(u.pos-l.nodeSize):u)):!!a.webkit&&Ce(e,new r.TextSelection(e.state.doc.resolve(t<0?d:d+l.nodeSize))))}}function Ae(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function _e(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Pe(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,c=!1;for(a.gecko&&1==n.nodeType&&r<Ae(n)&&_e(n.childNodes[r])&&(c=!0);;)if(r>0){if(1!=n.nodeType)break;var s=n.childNodes[r-1];if(_e(s))o=n,i=--r;else{if(3!=s.nodeType)break;r=(n=s).nodeValue.length}}else{if(Ze(n))break;for(var u=n.previousSibling;u&&_e(u);)o=n.parentNode,i=p(u),u=u.previousSibling;if(u)r=Ae(n=u);else{if((n=n.parentNode)==e.dom)break;r=0}}c?Ie(e,t,n,r):o&&Ie(e,t,o,i)}}function De(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=Ae(n);;)if(r<a){if(1!=n.nodeType)break;if(!_e(n.childNodes[r]))break;o=n,i=++r}else{if(Ze(n))break;for(var c=n.nextSibling;c&&_e(c);)o=c.parentNode,i=p(c)+1,c=c.nextSibling;if(c)r=0,a=Ae(n=c);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&Ie(e,t,o,i)}}function Ze(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Ie(e,t,n,r){if(k(t)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection();var i=e.state;setTimeout((function(){e.state==i&&me(e)}),50)}function Le(e,t,n){var o=e.state.selection;if(o instanceof r.TextSelection&&!o.empty||n.indexOf("s")>-1)return!1;if(a.mac&&n.indexOf("m")>-1)return!1;var i=o.$from,c=o.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var s=Se(e.state,t);if(s&&s instanceof r.NodeSelection)return Ce(e,s)}if(!i.parent.inlineContent){var u=t<0?i:c,l=o instanceof r.AllSelection?r.Selection.near(u,t):r.Selection.findFrom(u,t);return!!l&&Ce(e,l)}return!1}function Me(e,t){if(!(e.state.selection instanceof r.TextSelection))return!0;var n=e.state.selection,o=n.$head,i=n.$anchor,a=n.empty;if(!o.sameParent(i))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var c=!o.textOffset&&(t<0?o.nodeBefore:o.nodeAfter);if(c&&!c.isText){var s=e.state.tr;return t<0?s.delete(o.pos-c.nodeSize,o.pos):s.delete(o.pos,o.pos+c.nodeSize),e.dispatch(s),!0}return!1}function Re(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Ne(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||a.mac&&72==n&&"c"==r?Me(e,-1)||Pe(e):46==n||a.mac&&68==n&&"c"==r?Me(e,1)||De(e):13==n||27==n||(37==n?Te(e,-1,r)||Pe(e):39==n?Te(e,1,r)||De(e):38==n?Le(e,-1,r)||Pe(e):40==n?function(e){if(a.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;Re(e,o,!0),setTimeout((function(){return Re(e,o,!1)}),20)}}}(e)||Le(e,1,r)||De(e):r==(a.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function je(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(a.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||a.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function Fe(e,t,n,i,c){if(t<0){var s=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,u=he(e,s);if(u&&!e.state.selection.eq(u)){var l=e.state.tr.setSelection(u);"pointer"==s?l.setMeta("pointer",!0):"key"==s&&l.scrollIntoView(),e.dispatch(l)}}else{var d=e.state.doc.resolve(t),p=d.sharedDepth(n);t=d.before(p+1),n=e.state.doc.resolve(n).after(p+1);var f=e.state.selection,h=function(e,t,n){var r=e.docView.parseRange(t,n),i=r.node,c=r.fromOffset,s=r.toOffset,u=r.from,l=r.to,d=e.root.getSelection(),p=null,f=d.anchorNode;if(f&&e.dom.contains(1==f.nodeType?f:f.parentNode)&&(p=[{node:f,offset:d.anchorOffset}],k(d)||p.push({node:d.focusNode,offset:d.focusOffset})),a.chrome&&8===e.lastKeyCode)for(var h=s;h>c;h--){var v=i.childNodes[h-1],m=v.pmViewDesc;if("BR"==v.nodeName&&!m){s=h;break}if(!m||m.size)break}var g=e.state.doc,y=e.someProp("domParser")||o.DOMParser.fromSchema(e.state.schema),b=g.resolve(u),w=null,E=y.parse(i,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:c,to:s,preserveWhitespace:!b.parent.type.spec.code||"full",editableContent:!0,findPositions:p,ruleFromNode:je,context:b});if(p&&null!=p[0].pos){var x=p[0].pos,O=p[1]&&p[1].pos;null==O&&(O=x),w={anchor:x+u,head:O+u}}return{doc:E,sel:w,from:u,to:l}}(e,t,n);if(a.chrome&&e.cursorWrapper&&h.sel&&h.sel.anchor==e.cursorWrapper.deco.from){var v=e.cursorWrapper.deco.type.toDOM.nextSibling,m=v&&v.nodeValue?v.nodeValue.length:1;h.sel={anchor:h.sel.anchor+m,head:h.sel.anchor+m}}var g,y,b=e.state.doc,w=b.slice(h.from,h.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(g=e.state.selection.to,y="end"):(g=e.state.selection.from,y="start"),e.lastKeyCode=null;var x=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),c=a.a,s=a.b;if("end"==o){r-=c+Math.max(0,i-Math.min(c,s))-i}if(c<i&&e.size<t.size){s=(i-=r<=i&&r>=c?i-r:0)+(s-c),c=i}else if(s<i){c=(i-=r<=i&&r>=s?i-r:0)+(c-s),s=i}return{start:i,endA:c,endB:s}}(w.content,h.doc.content,h.from,g,y);if(!x){if(!(i&&f instanceof r.TextSelection&&!f.empty&&f.$head.sameParent(f.$anchor))||e.composing||h.sel&&h.sel.anchor!=h.sel.head){if((a.ios&&e.lastIOSEnter>Date.now()-225||a.android)&&c.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName}))&&e.someProp("handleKeyDown",(function(t){return t(e,E(13,"Enter"))})))return void(e.lastIOSEnter=0);if(h.sel){var O=Be(e,e.state.doc,h.sel);O&&!O.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(O))}return}x={start:f.from,endA:f.to,endB:f.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&x.start==x.endB&&e.state.selection instanceof r.TextSelection&&(x.start>e.state.selection.from&&x.start<=e.state.selection.from+2?x.start=e.state.selection.from:x.endA<e.state.selection.to&&x.endA>=e.state.selection.to-2&&(x.endB+=e.state.selection.to-x.endA,x.endA=e.state.selection.to)),a.ie&&a.ie_version<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>h.from&&"  "==h.doc.textBetween(x.start-h.from-1,x.start-h.from+1)&&(x.start--,x.endA--,x.endB--);var S,C=h.doc.resolveNoCache(x.start-h.from),T=h.doc.resolveNoCache(x.endB-h.from),A=C.sameParent(T)&&C.parent.inlineContent;if((a.ios&&e.lastIOSEnter>Date.now()-225&&(!A||c.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!A&&C.pos<h.doc.content.size&&(S=r.Selection.findFrom(h.doc.resolve(C.pos+1),1,!0))&&S.head==T.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,E(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>x.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||ze(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(ze(i,!0,!0));if(!a.parent.isTextblock||a.pos>n||ze(a,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(b,x.start,x.endA,C,T)&&e.someProp("handleKeyDown",(function(t){return t(e,E(8,"Backspace"))})))a.android&&a.chrome&&e.domObserver.suppressSelectionUpdates();else{a.chrome&&a.android&&x.toB==x.from&&(e.lastAndroidDelete=Date.now()),a.android&&!A&&C.start()!=T.start()&&0==T.parentOffset&&C.depth==T.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==x.endA&&(x.endB-=2,T=h.doc.resolveNoCache(x.endB-h.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,E(13,"Enter"))}))}),20));var _,P,D,Z,I=x.start,L=x.endA;if(A)if(C.pos==T.pos)a.ie&&a.ie_version<=11&&0==C.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return me(e)}),20)),_=e.state.tr.delete(I,L),P=b.resolve(x.start).marksAcross(b.resolve(x.endA));else if(x.endA==x.endB&&(Z=b.resolve(x.start))&&(D=function(e,t){for(var n,r,i,a=e.firstChild.marks,c=t.firstChild.marks,s=a,u=c,l=0;l<c.length;l++)s=c[l].removeFromSet(s);for(var d=0;d<a.length;d++)u=a[d].removeFromSet(u);if(1==s.length&&0==u.length)r=s[0],n="add",i=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=s.length||1!=u.length)return null;r=u[0],n="remove",i=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var p=[],f=0;f<t.childCount;f++)p.push(i(t.child(f)));if(o.Fragment.from(p).eq(e))return{mark:r,type:n}}(C.parent.content.cut(C.parentOffset,T.parentOffset),Z.parent.content.cut(Z.parentOffset,x.endA-Z.start()))))_=e.state.tr,"add"==D.type?_.addMark(I,L,D.mark):_.removeMark(I,L,D.mark);else if(C.parent.child(C.index()).isText&&C.index()==T.index()-(T.textOffset?0:1)){var M=C.parent.textBetween(C.parentOffset,T.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,I,L,M)})))return;_=e.state.tr.insertText(M,I,L)}if(_||(_=e.state.tr.replace(I,L,h.doc.slice(x.start-h.from,x.endB-h.from))),h.sel){var R=Be(e,_.doc,h.sel);R&&!(a.chrome&&a.android&&e.composing&&R.empty&&(x.start!=x.endB||e.lastAndroidDelete<Date.now()-100)&&(R.head==I||R.head==_.mapping.map(L)-1)||a.ie&&R.empty&&R.head==I)&&_.setSelection(R)}P&&_.ensureMarks(P),e.dispatch(_.scrollIntoView())}}}function Be(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:xe(e,t.resolve(n.anchor),t.resolve(n.head))}function ze(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function Ue(e,t){for(var n=[],r=t.content,i=t.openStart,a=t.openEnd;i>1&&a>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,a--;var c=r.firstChild;n.push(c.type.name,c.attrs!=c.type.defaultAttrs?c.attrs:null),r=c.content}var s=e.someProp("clipboardSerializer")||o.DOMSerializer.fromSchema(e.state.schema),u=Ye(),l=u.createElement("div");l.appendChild(s.serializeFragment(r,{document:u}));for(var d,p=l.firstChild;p&&1==p.nodeType&&(d=$e[p.nodeName.toLowerCase()]);){for(var f=d.length-1;f>=0;f--){for(var h=u.createElement(d[f]);l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),"tbody"!=d[f]&&(i++,a++)}p=l.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",i+" "+a+" "+JSON.stringify(n)),{dom:l,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function Ve(e,t,n,r,i){var c,s,u=i.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(r||u||!n);if(l){if(e.someProp("transformPastedText",(function(e){t=e(t,u||r)})),u)return t?new o.Slice(o.Fragment.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):o.Slice.empty;var d=e.someProp("clipboardTextParser",(function(e){return e(t,i,r)}));if(d)s=d;else{var p=i.marks(),f=e.state.schema,h=o.DOMSerializer.fromSchema(f);c=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((function(e){var t=c.appendChild(document.createElement("p"));e&&t.appendChild(h.serializeNode(f.text(e,p)))}))}}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),c=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=Ye().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);(n=o&&$e[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(r.innerHTML=e,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),a.webkit&&function(e){for(var t=e.querySelectorAll(a.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<t.length;n++){var r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}(c);var v=c&&c.querySelector("[data-pm-slice]"),m=v&&/^(\d+) (\d+) (.*)/.exec(v.getAttribute("data-pm-slice"));if(!s){var g=e.someProp("clipboardParser")||e.someProp("domParser")||o.DOMParser.fromSchema(e.state.schema);s=g.parseSlice(c,{preserveWhitespace:!(!l&&!m),context:i,ruleFromNode:function(e){if("BR"==e.nodeName&&!e.nextSibling)return{ignore:!0}}})}if(m)s=function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var i=e.content,a=e.openStart,c=e.openEnd,s=n.length-2;s>=0;s-=2){var u=r.nodes[n[s]];if(!u||u.hasRequiredAttrs())break;i=o.Fragment.from(u.create(n[s+1],i)),a++,c++}return new o.Slice(i,a,c)}(Ke(s,+m[1],+m[2]),m[3]);else if(s=o.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var r=t.node(n).contentMatchAt(t.index(n)),i=void 0,a=[];if(e.forEach((function(e){if(a){var t,n=r.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&i.length&&We(n,i,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=Ge(a[a.length-1],i.length));var o=He(e,n);a.push(o),r=r.matchType(o.type,o.attrs),i=n}}})),a)return{v:o.Fragment.from(a)}},r=t.depth;r>=0;r--){var i=n(r);if(i)return i.v}return e}(s.content,i),!0),s.openStart||s.openEnd){for(var y=0,b=0,w=s.content.firstChild;y<s.openStart&&!w.type.spec.isolating;y++,w=w.firstChild);for(var k=s.content.lastChild;b<s.openEnd&&!k.type.spec.isolating;b++,k=k.lastChild);s=Ke(s,y,b)}return e.someProp("transformPasted",(function(e){s=e(s)})),s}function He(e,t,n){void 0===n&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,o.Fragment.from(e));return e}function We(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){var a=We(e,t,n,r.lastChild,i+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(o.Fragment.from(He(n,e,i+1))))}}function Ge(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,Ge(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(o.Fragment.empty,!0);return e.copy(n.append(r))}function qe(e,t,n,r,i,a){var c=t<0?e.firstChild:e.lastChild,s=c.content;return i<r-1&&(s=qe(s,t,n,r,i+1,a)),i>=n&&(s=t<0?c.contentMatchAt(0).fillBefore(s,e.childCount>1||a<=i).append(s):s.append(c.contentMatchAt(c.childCount).fillBefore(o.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,c.copy(s))}function Ke(e,t,n){return t<e.openStart&&(e=new o.Slice(qe(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new o.Slice(qe(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}var $e={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Je=null;function Ye(){return Je||(Je=document.implementation.createHTMLDocument("title"))}var Xe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Qe=a.ie&&a.ie_version<=11,et=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};et.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},et.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var tt=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);a.ie&&a.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new et,Qe&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};tt.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},tt.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},tt.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Xe),Qe&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},tt.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Qe&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},tt.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},tt.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},tt.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},tt.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&Oe(e)){var e;if(this.suppressingSelectionUpdates)return me(this.view);if(a.ie&&a.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&m(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},tt.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},tt.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},tt.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Oe(this.view)&&!this.ignoreSelectionChange(t),r=-1,o=-1,i=!1,c=[];if(this.view.editable)for(var s=0;s<e.length;s++){var u=this.registerMutation(e[s],c);u&&(r=r<0?u.from:Math.min(u.from,r),o=o<0?u.to:Math.max(u.to,o),u.typeOver&&(i=!0))}if(a.gecko&&c.length>1){var l=c.filter((function(e){return"BR"==e.nodeName}));if(2==l.length){var d=l[0],p=l[1];d.parentNode&&d.parentNode.parentNode==p.parentNode?p.remove():d.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(e){if(nt)return;nt=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,c),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||me(this.view),this.currentSelection.set(t))}},tt.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var r=0;r<e.addedNodes.length;r++)t.push(e.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var o=e.previousSibling,i=e.nextSibling;if(a.ie&&a.ie_version<=11&&e.addedNodes.length)for(var c=0;c<e.addedNodes.length;c++){var s=e.addedNodes[c],u=s.previousSibling,l=s.nextSibling;(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(o=u),(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(i=l)}var d=o&&o.parentNode==e.target?p(o)+1:0,f=n.localPosFromDOM(e.target,d,-1),h=i&&i.parentNode==e.target?p(i):e.target.childNodes.length;return{from:f,to:n.localPosFromDOM(e.target,h,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var nt=!1;var rt={},ot={};function it(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function at(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return ct(e,t)})}))}function ct(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function st(e){return{left:e.clientX,top:e.clientY}}function ut(e,t,n,r,o){if(-1==r)return!1;for(var i=e.state.doc.resolve(r),a=function(r){if(e.someProp(t,(function(t){return r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},c=i.depth+1;c>0;c--){var s=a(c);if(s)return s.v}return!1}function lt(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function dt(e,t,n,o,i){return ut(e,"handleClickOn",t,n,o)||e.someProp("handleClick",(function(n){return n(e,t,o)}))||(i?function(e,t){if(-1==t)return!1;var n,o,i=e.state.selection;i instanceof r.NodeSelection&&(n=i.node);for(var a=e.state.doc.resolve(t),c=a.depth+1;c>0;c--){var s=c>a.depth?a.nodeAfter:a.node(c);if(r.NodeSelection.isSelectable(s)){o=n&&i.$from.depth>0&&c>=i.$from.depth&&a.before(i.$from.depth+1)==i.$from.pos?a.before(i.$from.depth):a.before(c);break}}return null!=o&&(lt(e,r.NodeSelection.create(e.state.doc,o),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),o=n.nodeAfter;return!!(o&&o.isAtom&&r.NodeSelection.isSelectable(o))&&(lt(e,new r.NodeSelection(n),"pointer"),!0)}(e,n))}function pt(e,t,n,r){return ut(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function ft(e,t,n,o){return ut(e,"handleTripleClickOn",t,n,o)||e.someProp("handleTripleClick",(function(n){return n(e,t,o)}))||function(e,t,n){if(0!=n.button)return!1;var o=e.state.doc;if(-1==t)return!!o.inlineContent&&(lt(e,r.TextSelection.create(o,0,o.content.size),"pointer"),!0);for(var i=o.resolve(t),a=i.depth+1;a>0;a--){var c=a>i.depth?i.nodeAfter:i.node(a),s=i.before(a);if(c.inlineContent)lt(e,r.TextSelection.create(o,s+1,s+1+c.content.size),"pointer");else{if(!r.NodeSelection.isSelectable(c))continue;lt(e,r.NodeSelection.create(o,s),"pointer")}return!0}}(e,n,o)}function ht(e){return kt(e)}ot.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!gt(e,t))if(229!=t.keyCode&&e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!a.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||Ne(e,t)?t.preventDefault():it(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,E(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},ot.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},ot.keypress=function(e,t){if(!(gt(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||a.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof r.TextSelection&&n.$from.sameParent(n.$to))){var o=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,o)}))||e.dispatch(e.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}}};var vt=a.mac?"metaKey":"ctrlKey";rt.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=ht(e),r=Date.now(),o="singleClick";r-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.lastClick)&&!t[vt]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(st(t));i&&("singleClick"==o?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new mt(e,i,t,n)):("doubleClick"==o?pt:ft)(e,i.pos,i.inside,t)?t.preventDefault():it(e,"pointer"))};var mt=function(e,t,n,o){var i,c,s=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=o,this.selectNode=n[vt],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1,t.inside>-1)i=e.state.doc.nodeAt(t.inside),c=t.inside;else{var u=e.state.doc.resolve(t.pos);i=u.parent,c=u.depth?u.before():0}this.mightDrag=null;var l=o?null:n.target,d=l?e.docView.nearestDesc(l,!0):null;this.target=d?d.dom:null;var p=e.state.selection;(0==n.button&&i.type.spec.draggable&&!1!==i.type.spec.selectable||p instanceof r.NodeSelection&&p.from<=c&&p.to>c)&&(this.mightDrag={node:i,pos:c,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&a.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),it(e,"pointer")};function gt(e,t){return!!e.composing||!!(a.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}mt.prototype.done=function(){var e=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return me(e.view)})),this.view.mouseDown=null},mt.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(st(e))),this.allowDefault||!t?it(this.view,"pointer"):dt(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||a.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||a.chrome&&!(this.view.state.selection instanceof r.TextSelection)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(lt(this.view,r.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):it(this.view,"pointer")}},mt.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),it(this.view,"pointer"),0==e.buttons&&this.done()},rt.touchdown=function(e){ht(e),it(e,"pointer")},rt.contextmenu=function(e){return ht(e)};var yt=a.android?5e3:-1;function bt(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return kt(e)}),t))}function wt(e){var t;for(e.composing&&(e.composing=!1,e.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function kt(e,t){if(e.domObserver.forceFlush(),wt(e),t||e.docView.dirty){var n=he(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}ot.compositionstart=ot.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),kt(e,!0),e.markCursor=null;else if(kt(e),a.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var c=i<0?o.lastChild:o.childNodes[i-1];if(!c)break;if(3==c.nodeType){r.collapse(c,c.nodeValue.length);break}o=c,i=-1}e.composing=!0}bt(e,yt)},ot.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,bt(e,20))};var Et=a.ie&&a.ie_version<15||a.ios&&a.webkit_version<604;function xt(e,t,n,r){var i=Ve(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,r,i||o.Slice.empty)})))return!0;if(!i)return!1;var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(i),c=a?e.state.tr.replaceSelectionWith(a,e.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}rt.copy=ot.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=Et?null:t.clipboardData,i=Ue(e,n.content()),a=i.dom,c=i.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",c)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},ot.paste=function(e,t){var n=Et?null:t.clipboardData;n&&xt(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?xt(e,r.value,null,t):xt(e,r.textContent,r.innerHTML,t)}),50)}}(e,t)};var Ot=function(e,t){this.slice=e,this.move=t},St=a.mac?"altKey":"ctrlKey";for(var Ct in rt.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var o=e.state.selection,i=o.empty?null:e.posAtCoords(st(t));if(i&&i.pos>=o.from&&i.pos<=(o instanceof r.NodeSelection?o.to-1:o.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var a=e.docView.nearestDesc(t.target,!0);a&&a.node.type.spec.draggable&&a!=e.docView&&e.dispatch(e.state.tr.setSelection(r.NodeSelection.create(e.state.doc,a.posBefore)))}var c=e.state.selection.content(),s=Ue(e,c),u=s.dom,l=s.text;t.dataTransfer.clearData(),t.dataTransfer.setData(Et?"Text":"text/html",u.innerHTML),t.dataTransfer.effectAllowed="copyMove",Et||t.dataTransfer.setData("text/plain",l),e.dragging=new Ot(c,!t[St])}},rt.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},ot.dragover=ot.dragenter=function(e,t){return t.preventDefault()},ot.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var a=e.posAtCoords(st(t));if(a){var c=e.state.doc.resolve(a.pos);if(c){var s=n&&n.slice;s?e.someProp("transformPasted",(function(e){s=e(s)})):s=Ve(e,t.dataTransfer.getData(Et?"Text":"text/plain"),Et?null:t.dataTransfer.getData("text/html"),!1,c);var u=n&&!t[St];if(e.someProp("handleDrop",(function(n){return n(e,t,s||o.Slice.empty,u)})))t.preventDefault();else if(s){t.preventDefault();var l=s?(0,i.nj)(e.state.doc,c.pos,s):c.pos;null==l&&(l=c.pos);var d=e.state.tr;u&&d.deleteSelection();var p=d.mapping.map(l),f=0==s.openStart&&0==s.openEnd&&1==s.content.childCount,h=d.doc;if(f?d.replaceRangeWith(p,p,s.content.firstChild):d.replaceRange(p,p,s),!d.doc.eq(h)){var v=d.doc.resolve(p);if(f&&r.NodeSelection.isSelectable(s.content.firstChild)&&v.nodeAfter&&v.nodeAfter.sameMarkup(s.content.firstChild))d.setSelection(new r.NodeSelection(v));else{var m=d.mapping.map(l);d.mapping.maps[d.mapping.maps.length-1].forEach((function(e,t,n,r){return m=r})),d.setSelection(xe(e,v,d.doc.resolve(m)))}e.focus(),e.dispatch(d.setMeta("uiEvent","drop"))}}}}}},rt.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&me(e)}),20))},rt.blur=function(e,t){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.set({}),e.focused=!1)},rt.beforeinput=function(e,t){if(a.chrome&&a.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,E(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},ot)rt[Ct]=ot[Ct];function Tt(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var At=function(e,t){this.spec=t||Lt,this.side=this.spec.side||0,this.toDOM=e};At.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new Dt(i-n,i-n,this)},At.prototype.valid=function(){return!0},At.prototype.eq=function(e){return this==e||e instanceof At&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Tt(this.spec,e.spec))},At.prototype.destroy=function(e){this.spec.destroy&&this.spec.destroy(e)};var _t=function(e,t){this.spec=t||Lt,this.attrs=e};_t.prototype.map=function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Dt(o,i,this)},_t.prototype.valid=function(e,t){return t.from<t.to},_t.prototype.eq=function(e){return this==e||e instanceof _t&&Tt(this.attrs,e.attrs)&&Tt(this.spec,e.spec)},_t.is=function(e){return e.type instanceof _t};var Pt=function(e,t){this.spec=t||Lt,this.attrs=e};Pt.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Dt(o.pos-n,i.pos-n,this)},Pt.prototype.valid=function(e,t){var n,r=e.content.findIndex(t.from),o=r.index,i=r.offset;return i==t.from&&!(n=e.child(o)).isText&&i+n.nodeSize==t.to},Pt.prototype.eq=function(e){return this==e||e instanceof Pt&&Tt(this.attrs,e.attrs)&&Tt(this.spec,e.spec)};var Dt=function(e,t,n){this.from=e,this.to=t,this.type=n},Zt={spec:{configurable:!0},inline:{configurable:!0}};Dt.prototype.copy=function(e,t){return new Dt(e,t,this.type)},Dt.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},Dt.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},Dt.widget=function(e,t,n){return new Dt(e,e,new At(t,n))},Dt.inline=function(e,t,n,r){return new Dt(e,t,new _t(n,r))},Dt.node=function(e,t,n,r){return new Dt(e,t,new Pt(n,r))},Zt.spec.get=function(){return this.type.spec},Zt.inline.get=function(){return this.type instanceof _t},Object.defineProperties(Dt.prototype,Zt);var It=[],Lt={},Mt=function(e,t){this.local=e&&e.length?e:It,this.children=t&&t.length?t:It};Mt.create=function(e,t){return t.length?zt(t,e,0,Lt):Rt},Mt.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},Mt.prototype.findInner=function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var c=0;c<this.children.length;c+=3)if(this.children[c]<t&&this.children[c+1]>e){var s=this.children[c]+1;this.children[c+2].findInner(e-s,t-s,n,r+s,o)}},Mt.prototype.map=function(e,t,n){return this==Rt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Lt)},Mt.prototype.mapInner=function(e,t,n,r,o){for(var i,a=0;a<this.local.length;a++){var c=this.local[a].map(e,n,r);c&&c.type.valid(t,c)?(i||(i=[])).push(c):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){for(var c=e.slice(),s=function(e,t,n,r){for(var a=0;a<c.length;a+=3){var s=c[a+1],u=void 0;-1==s||e>s+i||(t>=c[a]+i?c[a+1]=-1:n>=o&&(u=r-n-(t-e))&&(c[a]+=u,c[a+1]+=u))}},u=0;u<n.maps.length;u++)n.maps[u].forEach(s);for(var l=!1,d=0;d<c.length;d+=3)if(-1==c[d+1]){var p=n.map(e[d]+i),f=p-o;if(f<0||f>=r.content.size){l=!0;continue}var h=n.map(e[d+1]+i,-1)-o,v=r.content.findIndex(f),m=v.index,g=v.offset,y=r.maybeChild(m);if(y&&g==f&&g+y.nodeSize==h){var b=c[d+2].mapInner(n,y,p+1,e[d]+i+1,a);b!=Rt?(c[d]=f,c[d+1]=h,c[d+2]=b):(c[d+1]=-2,l=!0)}else l=!0}if(l){var w=function(e,t,n,r,o,i,a){function c(e,t){for(var i=0;i<e.local.length;i++){var s=e.local[i].map(r,o,t);s?n.push(s):a.onRemove&&a.onRemove(e.local[i].spec)}for(var u=0;u<e.children.length;u+=3)c(e.children[u+2],e.children[u]+t+1)}for(var s=0;s<e.length;s+=3)-1==e[s+1]&&c(e[s+2],t[s]+i+1);return n}(c,e,t||[],n,o,i,a),k=zt(w,r,0,a);t=k.local;for(var E=0;E<c.length;E+=3)c[E+1]<0&&(c.splice(E,3),E-=3);for(var x=0,O=0;x<k.children.length;x+=3){for(var S=k.children[x];O<c.length&&c[O]<S;)O+=3;c.splice(O,0,k.children[x],k.children[x+1],k.children[x+2])}}return new Mt(t&&t.sort(Ut),c)}(this.children,i,e,t,n,r,o):i?new Mt(i.sort(Ut)):Rt},Mt.prototype.add=function(e,t){return t.length?this==Rt?Mt.create(e,t):this.addInner(e,t,0):this},Mt.prototype.addInner=function(e,t,n){var r,o=this,i=0;e.forEach((function(e,a){var c,s=a+n;if(c=Ft(t,e,s)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,c,s+1):r.splice(i,0,a,a+e.nodeSize,zt(c,e,s+1,Lt)),i+=3}}));for(var a=jt(i?Bt(t):t,-n),c=0;c<a.length;c++)a[c].type.valid(e,a[c])||a.splice(c--,1);return new Mt(a.length?this.local.concat(a).sort(Ut):this.local,r||this.children)},Mt.prototype.remove=function(e){return 0==e.length||this==Rt?this:this.removeInner(e,0)},Mt.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+t,c=n[o+1]+t,s=0,u=void 0;s<e.length;s++)(u=e[s])&&u.from>a&&u.to<c&&(e[s]=null,(i||(i=[])).push(u));if(i){n==this.children&&(n=this.children.slice());var l=n[o+2].removeInner(i,a+1);l!=Rt?n[o+2]=l:(n.splice(o,3),o-=3)}}if(r.length)for(var d=0,p=void 0;d<e.length;d++)if(p=e[d])for(var f=0;f<r.length;f++)r[f].eq(p,t)&&(r==this.local&&(r=this.local.slice()),r.splice(f--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Mt(r,n):Rt},Mt.prototype.forChild=function(e,t){if(this==Rt)return this;if(t.isLeaf)return Mt.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var i=e+1,a=i+t.content.size,c=0;c<this.local.length;c++){var s=this.local[c];if(s.from<a&&s.to>i&&s.type instanceof _t){var u=Math.max(i,s.from)-i,l=Math.min(a,s.to)-i;u<l&&(r||(r=[])).push(s.copy(u,l))}}if(r){var d=new Mt(r.sort(Ut));return n?new Nt([d,n]):d}return n||Rt},Mt.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof Mt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},Mt.prototype.locals=function(e){return Vt(this.localsInner(e))},Mt.prototype.localsInner=function(e){if(this==Rt)return It;if(e.inlineContent||!this.local.some(_t.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof _t||t.push(this.local[n]);return t};var Rt=new Mt;Mt.empty=Rt,Mt.removeOverlap=Vt;var Nt=function(e){this.members=e};function jt(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new Dt(o.from+t,o.to+t,o.type))}return n}function Ft(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,o=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function Bt(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function zt(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var c=Ft(e,t,a+n);if(c){i=!0;var s=zt(c,t,n+a+1,r);s!=Rt&&o.push(a,a+t.nodeSize,s)}}));for(var a=jt(i?Bt(e):e,-n).sort(Ut),c=0;c<a.length;c++)a[c].type.valid(t,a[c])||(r.onRemove&&r.onRemove(a[c].spec),a.splice(c--,1));return a.length||o.length?new Mt(a,o):Rt}function Ut(e,t){return e.from-t.from||e.to-t.to}function Vt(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),Ht(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),Ht(t,o+1,i.copy(r.to,i.to)))}}return t}function Ht(e,t,n){for(;t<e.length&&Ut(n,e[t])>0;)t++;e.splice(t,0,n)}function Wt(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=Rt&&t.push(r)})),e.cursorWrapper&&t.push(Mt.create(e.state.doc,[e.cursorWrapper.deco])),Nt.from(t)}Nt.prototype.map=function(e,t){var n=this.members.map((function(n){return n.map(e,t,Lt)}));return Nt.from(n)},Nt.prototype.forChild=function(e,t){if(t.isLeaf)return Mt.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(e,t);o!=Rt&&(o instanceof Nt?n=n.concat(o.members):n.push(o))}return Nt.from(n)},Nt.prototype.eq=function(e){if(!(e instanceof Nt)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Nt.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?Vt(n?t:t.sort(Ut)):It},Nt.from=function(e){switch(e.length){case 0:return Rt;case 1:return e[0];default:return new Nt(e)}};var Gt=function(e,t){this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(Xt),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Jt(this),this.markCursor=null,this.cursorWrapper=null,$t(this),this.nodeViews=Yt(this),this.docView=X(this.state.doc,Kt(this),Wt(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new tt(e,(function(t,n,r,o){return Fe(e,t,n,r,o)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=rt[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||ct(e,t)||!e.editable&&t.type in ot||n(e,t)})};for(var n in rt)t(n);a.safari&&e.dom.addEventListener("input",(function(){return null})),at(e)}(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},qt={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};function Kt(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r&&(t.class+=" "+n[r]),"style"==r?t.style=(t.style?t.style+";":"")+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[Dt.node(0,e.state.doc.content.size,t)]}function $t(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:Dt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Jt(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Yt(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}function Xt(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}qt.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Gt.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&at(this),this._props=e,e.plugins&&(e.plugins.forEach(Xt),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)},Gt.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},Gt.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Gt.prototype.updateStateInner=function(e,t){var n=this,o=this.state,i=!1,c=!1;if(e.storedMarks&&this.composing&&(wt(this),c=!0),this.state=e,t){var s=Yt(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(s,this.nodeViews)&&(this.nodeViews=s,i=!0),at(this)}this.editable=Jt(this),$t(this);var u=Wt(this),l=Kt(this),d=t?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",p=i||!this.docView.matchesNode(e.doc,l,u);!p&&e.selection.eq(o.selection)||(c=!0);var f,h,v,g,y,b,w,k,E,x,O,S="preserve"==d&&c&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var c=e.root.elementFromPoint(i,a);if(c!=e.dom&&e.dom.contains(c)){var s=c.getBoundingClientRect();if(s.top>=o-20){t=c,n=s.top;break}}}return{refDOM:t,refTop:n,stack:T(e.dom)}}(this);if(c){this.domObserver.stop();var _=p&&(a.ie||a.chrome)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&(g=o.selection,y=e.selection,b=Math.min(g.$anchor.sharedDepth(g.head),y.$anchor.sharedDepth(y.head)),g.$anchor.start(b)!=y.$anchor.start(b));if(p){var P=a.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(e.doc,l,u,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=X(e.doc,l,u,this.dom,this)),P&&!this.trackWrites&&(_=!0)}_||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(f=this,h=f.docView.domFromPos(f.state.selection.anchor,0),v=f.root.getSelection(),m(h.node,h.offset,v.anchorNode,v.anchorOffset)))?me(this,_):(ke(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(o),"reset"==d)this.dom.scrollTop=0;else if("to selection"==d){var D=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof r.NodeSelection?C(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),D):C(this,this.coordsAtPos(e.selection.head,1),D))}else S&&(k=(w=S).refDOM,E=w.refTop,x=w.stack,O=k?k.getBoundingClientRect().top:0,A(x,0==O?0:O-E))},Gt.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Gt.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var o=this.directPlugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var a=this.state.plugins[i];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}},Gt.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(var o=0;o<this.directPlugins.length;o++){var i=this.directPlugins[o].props[e];if(null!=i&&(n=t?t(i):i))return n}var a=this.state.plugins;if(a)for(var c=0;c<a.length;c++){var s=a[c].props[e];if(null!=s&&(n=t?t(s):s))return n}},Gt.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Gt.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(_)return e.focus(_);var t=T(e);e.focus(null==_?{get preventScroll(){return _={preventScroll:!0},!0}}:void 0),_||(_=!1,A(t,0))}(this.dom),me(this),this.domObserver.start()},qt.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Gt.prototype.posAtCoords=function(e){return I(this,e)},Gt.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),R(this,e,t)},Gt.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},Gt.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Gt.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Gt.prototype.endOfTextblock=function(e,t){return H(this,t||this.state,e)},Gt.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Wt(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},qt.isDestroyed.get=function(){return null==this.docView},Gt.prototype.dispatchEvent=function(e){return function(e,t){ct(e,t)||!rt[t.type]||!e.editable&&t.type in ot||rt[t.type](e,t)}(this,e)},Gt.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Gt.prototype,qt)},68058:(e,t,n)=>{"use strict";n.r(t),n.d(t,{decode:()=>g,default:()=>k,encode:()=>y,toASCII:()=>w,toUnicode:()=>b,ucs2decode:()=>f,ucs2encode:()=>h});const r=2147483647,o=36,i=/^xn--/,a=/[^\0-\x7F]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,s={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},u=Math.floor,l=String.fromCharCode;function d(e){throw new RangeError(s[e])}function p(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const o=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(c,".")).split("."),t).join(".");return r+o}function f(e){const t=[];let n=0;const r=e.length;for(;n<r;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&o)<<10)+(1023&r)+65536):(t.push(o),n--)}else t.push(o)}return t}const h=e=>String.fromCodePoint(...e),v=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},m=function(e,t,n){let r=0;for(e=n?u(e/700):e>>1,e+=u(e/t);e>455;r+=o)e=u(e/35);return u(r+36*e/(e+38))},g=function(e){const t=[],n=e.length;let i=0,a=128,c=72,s=e.lastIndexOf("-");s<0&&(s=0);for(let n=0;n<s;++n)e.charCodeAt(n)>=128&&d("not-basic"),t.push(e.charCodeAt(n));for(let p=s>0?s+1:0;p<n;){const s=i;for(let t=1,a=o;;a+=o){p>=n&&d("invalid-input");const s=(l=e.charCodeAt(p++))>=48&&l<58?l-48+26:l>=65&&l<91?l-65:l>=97&&l<123?l-97:o;s>=o&&d("invalid-input"),s>u((r-i)/t)&&d("overflow"),i+=s*t;const f=a<=c?1:a>=c+26?26:a-c;if(s<f)break;const h=o-f;t>u(r/h)&&d("overflow"),t*=h}const f=t.length+1;c=m(i-s,f,0==s),u(i/f)>r-a&&d("overflow"),a+=u(i/f),i%=f,t.splice(i++,0,a)}var l;return String.fromCodePoint(...t)},y=function(e){const t=[],n=(e=f(e)).length;let i=128,a=0,c=72;for(const n of e)n<128&&t.push(l(n));const s=t.length;let p=s;for(s&&t.push("-");p<n;){let n=r;for(const t of e)t>=i&&t<n&&(n=t);const f=p+1;n-i>u((r-a)/f)&&d("overflow"),a+=(n-i)*f,i=n;for(const n of e)if(n<i&&++a>r&&d("overflow"),n===i){let e=a;for(let n=o;;n+=o){const r=n<=c?1:n>=c+26?26:n-c;if(e<r)break;const i=e-r,a=o-r;t.push(l(v(r+i%a,0))),e=u(i/a)}t.push(l(v(e,0))),c=m(a,f,p===s),a=0,++p}++a,++i}return t.join("")},b=function(e){return p(e,(function(e){return i.test(e)?g(e.slice(4).toLowerCase()):e}))},w=function(e){return p(e,(function(e){return a.test(e)?"xn--"+y(e):e}))},k={version:"2.1.0",ucs2:{decode:f,encode:h},decode:g,encode:y,toASCII:w,toUnicode:b}},87706:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(2784)),u=n(22497),l=c(n(6238)),d={width:"auto",height:"auto"},p=l.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),f=l.default((function(e,t){return Math.round(e/t)*t})),h=l.default((function(e,t){return new RegExp(e,"i").test(t)})),v=l.default((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,o){return Math.abs(r-e)<Math.abs(t[n]-e)?o:n}),0),o=Math.abs(t[r]-e);return 0===n||o<n?t[r]:e})),m=l.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),g=l.default((function(e){return"auto"===(e=e.toString())||m(e,"px")||m(e,"%")||m(e,"vh")||m(e,"vw")||m(e,"vmax")||m(e,"vmin")?e:e+"px"})),y=l.default((function(e,t,n,r,o){if(t&&"string"==typeof t&&m(t,"%")){var i=Number(t.replace("%",""))/100;t=e.width*i}if(n&&"string"==typeof n&&m(n,"%")){i=Number(n.replace("%",""))/100;n=e.height*i}if(r&&"string"==typeof r&&m(r,"%")){i=Number(r.replace("%",""))/100;r=e.width*i}if(o&&"string"==typeof o&&m(o,"%")){i=Number(o.replace("%",""))/100;o=e.height*i}return{maxWidth:void 0===t?void 0:Number(t),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===r?void 0:Number(r),minHeight:void 0===o?void 0:Number(o)}})),b=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],w="__resizable_base__",k=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.state={isResizing:!1,resizeCursor:"auto",width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),"undefined"!=typeof window&&(window.addEventListener("mouseup",n.onMouseUp),window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseleave",n.onMouseUp),window.addEventListener("touchmove",n.onMouseMove),window.addEventListener("touchend",n.onMouseUp)),n}return o(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||d},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var r=n[t];if(r instanceof HTMLElement&&r.classList.contains(w))return r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!=typeof window&&this.resizable){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&m(e.propsSize[t].toString(),"%")){if(m(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return g(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?g(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?g(t.height):n("height")}},enumerable:!0,configurable:!0}),t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var r={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,r},t.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var e=this.parentNode;if(e instanceof HTMLElement&&!this.base){var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add(w):t.className+=w,e.appendChild(t)}},t.prototype.componentWillUnmount=function(){if("undefined"!=typeof window){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp);var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement&&this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var r=n.offsetWidth+(this.parentLeft-this.resizableLeft),o=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}}else if("window"===this.props.bounds){if("undefined"!=typeof window){r=window.innerWidth-this.resizableLeft,o=window.innerHeight-this.resizableTop;e=e&&e<r?e:r,t=t&&t<o?t:o}}else if(this.props.bounds instanceof HTMLElement){r=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),o=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,o=this.state,i=o.direction,a=o.original,c=this.props,s=c.lockAspectRatio,u=c.lockAspectRatioExtraHeight,l=c.lockAspectRatioExtraWidth,d=a.width,p=a.height,f=u||0,v=l||0;return h("right",i)&&(d=a.width+(e-a.x)*r/n,s&&(p=(d-v)/this.ratio+f)),h("left",i)&&(d=a.width-(e-a.x)*r/n,s&&(p=(d-v)/this.ratio+f)),h("bottom",i)&&(p=a.height+(t-a.y)*r/n,s&&(d=(p-f)*this.ratio+v)),h("top",i)&&(p=a.height-(t-a.y)*r/n,s&&(d=(p-f)*this.ratio+v)),{newWidth:d,newHeight:p}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,c=o.lockAspectRatioExtraWidth,s=void 0===r.width?10:r.width,u=void 0===n.width||n.width<0?e:n.width,l=void 0===r.height?10:r.height,d=void 0===n.height||n.height<0?t:n.height,f=a||0,h=c||0;if(i){var v=(l-f)*this.ratio+h,m=(d-f)*this.ratio+h,g=(s-h)/this.ratio+f,y=(u-h)/this.ratio+f,b=Math.max(s,v),w=Math.min(u,m),k=Math.max(l,g),E=Math.min(d,y);e=p(e,b,w),t=p(t,k,E)}else e=p(e,s,u),t=p(t,l,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),o=r.left,i=r.top;this.resizableLeft=o,this.resizableTop=i}},t.prototype.onResizeStart=function(e,t){var n=0,r=0;if(e.nativeEvent instanceof MouseEvent){if(n=e.nativeEvent.clientX,r=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(n=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart&&(this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable)))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.setState({original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(e.target).cursor||"auto",direction:t})},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,r=t.maxHeight,o=t.minWidth,i=t.minHeight,a=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,c=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,s=this.state,u=s.direction,l=s.original,d=s.width,p=s.height,h=this.getParentSize(),g=y(h,n,r,o,i);n=g.maxWidth,r=g.maxHeight,o=g.minWidth,i=g.minHeight;var b=this.calculateNewSizeFromDirection(a,c),w=b.newHeight,k=b.newWidth,E=this.calculateNewMaxFromBoundary(n,r),x=this.calculateNewSizeFromAspectRatio(k,w,{width:E.maxWidth,height:E.maxHeight},{width:o,height:i});if(k=x.newWidth,w=x.newHeight,this.props.grid){var O=f(k,this.props.grid[0]),S=f(w,this.props.grid[1]),C=this.props.snapGap||0;k=0===C||Math.abs(O-k)<=C?O:k,w=0===C||Math.abs(S-w)<=C?S:w}this.props.snap&&this.props.snap.x&&(k=v(k,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(w=v(w,this.props.snap.y,this.props.snapGap));var T={width:k-l.width,height:w-l.height};if(d&&"string"==typeof d)if(m(d,"%"))k=k/h.width*100+"%";else if(m(d,"vw")){k=k/window.innerWidth*100+"vw"}else if(m(d,"vh")){k=k/window.innerHeight*100+"vh"}if(p&&"string"==typeof p)if(m(p,"%"))w=w/h.height*100+"%";else if(m(p,"vw")){w=w/window.innerWidth*100+"vw"}else if(m(p,"vh")){w=w/window.innerHeight*100+"vh"}this.setState({width:this.createSizeForCssProperty(k,"width"),height:this.createSizeForCssProperty(w,"height")}),this.props.onResize&&this.props.onResize(e,u,this.resizable,T)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,o=t.original;if(n&&this.resizable){var i={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,i),this.props.size&&this.setState(this.props.size),this.setState({isResizing:!1,resizeCursor:"auto"})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,o=t.handleClasses,i=t.handleWrapperStyle,a=t.handleWrapperClass,c=t.handleComponent;if(!n)return null;var l=Object.keys(n).map((function(t){return!1!==n[t]?s.createElement(u.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:o&&o[t]},c&&c[t]?c[t]:null):null}));return s.createElement("span",{className:a,style:i},l)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==b.indexOf(n)||(t[n]=e.props[n]),t}),{});return s.createElement("div",i({ref:function(t){t&&(e.resizable=t)},style:i({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},t),this.state.isResizing&&s.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(s.PureComponent);t.Resizable=k},22497:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(2784)),a={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};t.Resizer=function(e){return i.createElement("div",{className:e.className||"",style:r({position:"absolute",userSelect:"none"},a[e.direction],e.replaceStyles||{}),onMouseDown:function(t){e.onResizeStart(t,e.direction)},onTouchStart:function(t){e.onResizeStart(t,e.direction)}},e.children)}},28316:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(52967)},80589:function(e,t,n){!function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var r=n(t);function o(e,t){return o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},o(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}var a=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))},c={error:null},s=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state=c,t.resetErrorBoundary=function(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null==t.props.onReset||(e=t.props).onReset.apply(e,r),t.reset()},t}i(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.setState(c)},n.componentDidCatch=function(e,t){var n,r;null==(n=(r=this.props).onError)||n.call(r,e,t)},n.componentDidUpdate=function(e,t){var n,r,o=this.state.error,i=this.props.resetKeys;null!==o&&null!==t.error&&a(e.resetKeys,i)&&(null==(n=(r=this.props).onResetKeysChange)||n.call(r,e.resetKeys,i),this.reset())},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,o=t.FallbackComponent,i=t.fallback;if(null!==e){var a={error:e,resetErrorBoundary:this.resetErrorBoundary};if(r.isValidElement(i))return i;if("function"==typeof n)return n(a);if(o)return r.createElement(o,a);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(r.Component);function u(e,t){var n=function(n){return r.createElement(s,t,r.createElement(e,n))},o=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+o+")",n}function l(e){var t=r.useState(null),n=t[0],o=t[1];if(null!=e)throw e;if(null!=n)throw n;return o}e.ErrorBoundary=s,e.useErrorHandler=l,e.withErrorBoundary=u,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(2784))},14605:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v,d:()=>h});var r=n(27221),o=n(2784),i=n(89274),a=n(87576),c=n(72609),s=n(15339),u=n(32428),l=n(30087);function d(e){return{locale:e.locale,timeZone:e.timeZone,fallbackOnEmptyString:e.fallbackOnEmptyString,formats:e.formats,textComponent:e.textComponent,messages:e.messages,defaultLocale:e.defaultLocale,defaultFormats:e.defaultFormats,onError:e.onError,onWarn:e.onWarn,wrapRichTextChunksInFragment:e.wrapRichTextChunksInFragment,defaultRichTextElements:e.defaultRichTextElements}}function p(e){return e?Object.keys(e).reduce((function(t,n){var r=e[n];return t[n]=(0,l.Gt)(r)?(0,a.dt)(r):r,t}),{}):e}var f=function(e,t,n,i){for(var a=[],s=4;s<arguments.length;s++)a[s-4]=arguments[s];var u=p(i),l=c.w.apply(void 0,(0,r.ev)([e,t,n,u],a,!1));return Array.isArray(l)?o.Children.toArray(l):l},h=function(e,t){var n=e.defaultRichTextElements,o=(0,r._T)(e,["defaultRichTextElements"]),i=p(n),c=(0,s.d)((0,r.pi)((0,r.pi)((0,r.pi)({},a.Z0),o),{defaultRichTextElements:i}),t),u={locale:c.locale,timeZone:c.timeZone,fallbackOnEmptyString:c.fallbackOnEmptyString,formats:c.formats,defaultLocale:c.defaultLocale,defaultFormats:c.defaultFormats,messages:c.messages,onError:c.onError,defaultRichTextElements:i};return(0,r.pi)((0,r.pi)({},c),{formatMessage:f.bind(null,u,c.formatters),$t:f.bind(null,u,c.formatters)})};const v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cache=(0,u.Sn)(),t.state={cache:t.cache,intl:h(d(t.props),t.cache),prevConfig:d(t.props)},t}return(0,r.ZT)(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.prevConfig,r=t.cache,o=d(e);return(0,a.wU)(n,o)?null:{intl:h(o,r),prevConfig:o}},t.prototype.render=function(){return(0,a.lq)(this.state.intl),o.createElement(i.zt,{value:this.state.intl},this.props.children)},t.displayName="IntlProvider",t.defaultProps=a.Z0,t}(o.PureComponent)},89028:(e,t,n)=>{"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n(2784),s=n(13980),u=[],l=[];function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function p(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var o=d(e[r]);o.loading?t.loading=!0:(t.loaded[r]=o.loaded,t.error=o.error),n.push(o.promise),o.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(e){t.error=e}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function f(e,t){return c.createElement((n=e)&&n.__esModule?n.default:n,t);var n}function h(e,t){var d,p;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var h=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:f,webpack:null,modules:null},t),v=null;function m(){return v||(v=e(h.loader)),v.promise}return u.push(m),"function"==typeof h.webpack&&l.push((function(){if(e=h.webpack,"object"===r(n.m)&&e().every((function(e){return void 0!==e&&void 0!==n.m[e]})))return m();var e})),p=d=function(t){function n(r){o(this,n);var a=i(this,t.call(this,r));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),v=e(h.loader),a._loadModule()},m(),a.state={error:v.error,pastDelay:!1,timedOut:!1,loading:v.loading,loaded:v.loaded},a}return a(n,t),n.preload=function(){return m()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(h.modules)&&h.modules.forEach((function(t){e.context.loadable.report(t)})),v.loading){"number"==typeof h.delay&&(0===h.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){e.setState({pastDelay:!0})}),h.delay)),"number"==typeof h.timeout&&(this._timeout=setTimeout((function(){e.setState({timedOut:!0})}),h.timeout));var t=function(){e._mounted&&(e.setState({error:v.error,loaded:v.loaded,loading:v.loading}),e._clearTimeouts())};v.promise.then((function(){t()})).catch((function(e){t()}))}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?c.createElement(h.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?h.render(this.state.loaded,this.props):null},n}(c.Component),d.contextTypes={loadable:s.shape({report:s.func.isRequired})},p}function v(e){return h(d,e)}v.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return h(p,e)};var m=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return c.Children.only(this.props.children)},t}(c.Component);function g(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then((function(){if(e.length)return g(e)}))}m.propTypes={report:s.func.isRequired},m.childContextTypes={loadable:s.shape({report:s.func.isRequired}).isRequired},v.Capture=m,v.preloadAll=function(){return new Promise((function(e,t){g(u).then(e,t)}))},v.preloadReady=function(){return new Promise((function(e,t){g(l).then(e,e)}))},e.exports=v},55436:(e,t,n)=>{"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e){return{image:e,isLoaded:!1,isErrored:!1}}function a(e,t){return e.src!==t.src}var c=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),c=0;c<i;c++)a[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.state={isLoaded:!1,isErrored:!1},r.handleLoad=function(){var e=r.props.onLoad;r.unload(),r.setState({isLoaded:!0},(function(){e&&e()}))},r.handleError=function(){var e=r.props.onError;r.unload(),r.setState({isErrored:!0},(function(){e&&e()}))},o(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"load",value:function(){var e=this.props.src,t=this.state.image;t&&(t.onload=this.handleLoad,t.onerror=this.handleError,t.src=e)}},{key:"unload",value:function(){var e=this.state.image;e&&(e.onload=void 0,e.onerror=void 0)}},{key:"componentWillMount",value:function(){"undefined"!=typeof window&&this.setState(i(new Image))}},{key:"componentDidMount",value:function(){this.load()}},{key:"componentWillReceiveProps",value:function(e){a(this.props,e)&&this.setState(i(new Image))}},{key:"componentDidUpdate",value:function(e){a(e,this.props)&&(this.unload(),this.load())}},{key:"componentWillUnmount",value:function(){this.unload()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.loaded,r=e.errored,o=e.children,i=this.state,a=i.image,c=i.isLoaded,s=i.isErrored;return c&&n?n:s&&r?r:c||s||!t?o?o({image:c?a:void 0,loaded:c,errored:s}):null:t}}]),t}(function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2784)).Component);t.Z=c},19233:(e,t,n)=>{"use strict";var r=n(61059);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}});var o=n(16799);Object.defineProperty(t,"in",{enumerable:!0,get:function(){return o.TouchScrollable}})},63031:(e,t,n)=>{"use strict";n.d(t,{D:()=>a,H:()=>c});var r=n(2784),o=n(87533),i=function(){return r.useState((e=r.useContext(o.qz),t=e||o.cL,{uid:n=(0,o.Gn)(t)+(0,o.zv)(t),gen:function(e){return n+t.uid(e)}}));var e,t,n},a=function(){return i()[0].uid},c=function(){return i()[0].gen}},49135:(e,t,n)=>{"use strict";var r=n(71600);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"qj",{enumerable:!0,get:function(){return o.default}});var o=r(n(32432))},95138:(e,t,n)=>{"use strict";var r=n(71600),o=n(34590);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,a,c=r(n(53100)),s=r(n(98870)),u=r(n(60421)),l=r(n(1147)),d=r(n(85297)),p=r(n(68230)),f=r(n(26290)),h=o(n(2784)),v=n(28316),m=(n(41038),r(n(13980)),a=i=function(e){function t(){var e,n;(0,c.default)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=(0,u.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(o))),(0,f.default)((0,d.default)(n),"_child",void 0),(0,f.default)((0,d.default)(n),"_measure",(function(){var e=n.props,t=e.cache,r=e.columnIndex,o=void 0===r?0:r,i=e.parent,a=e.rowIndex,c=void 0===a?n.props.index||0:a,s=n._getCellMeasurements(),u=s.height,l=s.width;u===t.getHeight(c,o)&&l===t.getWidth(c,o)||(t.set(c,o,l,u),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:c}))})),(0,f.default)((0,d.default)(n),"_registerChild",(function(e){!e||e instanceof Element||console.warn("CellMeasurer registerChild expects to be passed Element or null"),n._child=e,e&&n._maybeMeasureCell()})),n}return(0,p.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure,registerChild:this._registerChild}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=this._child||(0,v.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,r=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var o=Math.ceil(t.offsetHeight),i=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),r&&(t.style.height=r),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,o=e.parent,i=e.rowIndex,a=void 0===i?this.props.index||0:i;if(!t.has(a,r)){var c=this._getCellMeasurements(),s=c.height,u=c.width;t.set(a,r,u,s),o&&"function"==typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}]),t}(h.PureComponent),(0,f.default)(i,"propTypes",null),a);t.default=m,(0,f.default)(m,"__internalCellMeasurerFlag",!1)},35472:(e,t,n)=>{"use strict";var r=n(71600);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_WIDTH=t.DEFAULT_HEIGHT=void 0;var o=r(n(53100)),i=r(n(98870)),a=r(n(26290));n(41038);t.DEFAULT_HEIGHT=30;t.DEFAULT_WIDTH=100;var c=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,o.default)(this,e),(0,a.default)(this,"_cellHeightCache",{}),(0,a.default)(this,"_cellWidthCache",{}),(0,a.default)(this,"_columnWidthCache",{}),(0,a.default)(this,"_rowHeightCache",{}),(0,a.default)(this,"_defaultHeight",void 0),(0,a.default)(this,"_defaultWidth",void 0),(0,a.default)(this,"_minHeight",void 0),(0,a.default)(this,"_minWidth",void 0),(0,a.default)(this,"_keyMapper",void 0),(0,a.default)(this,"_hasFixedHeight",void 0),(0,a.default)(this,"_hasFixedWidth",void 0),(0,a.default)(this,"_columnCount",0),(0,a.default)(this,"_rowCount",0),(0,a.default)(this,"columnWidth",(function(e){var n=e.index,r=t._keyMapper(0,n);return void 0!==t._columnWidthCache[r]?t._columnWidthCache[r]:t._defaultWidth})),(0,a.default)(this,"rowHeight",(function(e){var n=e.index,r=t._keyMapper(n,0);return void 0!==t._rowHeightCache[r]?t._rowHeightCache[r]:t._defaultHeight}));var r=n.defaultHeight,i=n.defaultWidth,c=n.fixedHeight,u=n.fixedWidth,l=n.keyMapper,d=n.minHeight,p=n.minWidth;this._hasFixedHeight=!0===c,this._hasFixedWidth=!0===u,this._minHeight=d||0,this._minWidth=p||0,this._keyMapper=l||s,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:30),this._defaultWidth=Math.max(this._minWidth,"number"==typeof i?i:100)}return(0,i.default)(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(e,t);return void 0!==this._cellHeightCache[n]?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(e,t);return void 0!==this._cellWidthCache[n]?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);return void 0!==this._cellHeightCache[n]}},{key:"set",value:function(e,t,n,r){var o=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[o]=r,this._cellWidthCache[o]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,t));var o=this._keyMapper(0,t);this._columnWidthCache[o]=n}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(e,a));var c=this._keyMapper(e,0);this._rowHeightCache[c]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}]),e}();function s(e,t){return"".concat(e,"-").concat(t)}t.default=c},23763:(e,t,n)=>{"use strict";var r=n(71600);Object.defineProperty(t,"Z8",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"t1",{enumerable:!0,get:function(){return i.default}});var o=r(n(95138)),i=r(n(35472));o.default},41038:(e,t,n)=>{"use strict";var r=n(71600);Object.defineProperty(t,"__esModule",{value:!0}),t.bpfrpt_proptype_CellMeasureCache=void 0;r(n(13980));t.bpfrpt_proptype_CellMeasureCache=null},42301:(e,t,n)=>{"use strict";var r=n(71600);Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"aV",{enumerable:!0,get:function(){return o.default}});var o=r(n(3319)),i=n(47604)},2784:(e,t,n)=>{"use strict";e.exports=n(83426)},67263:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var r=n(5),o=n(1),i=o.toHex,a=o.ceilHeapSize,c=n(6),s=function(e){for(e+=9;e%64>0;e+=1);return e},u=function(e,t){var n=new Int32Array(e,t+320,5),r=new Int32Array(5),o=new DataView(r.buffer);return o.setInt32(0,n[0],!1),o.setInt32(4,n[1],!1),o.setInt32(8,n[2],!1),o.setInt32(12,n[3],!1),o.setInt32(16,n[4],!1),r},l=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=t||65536)%64>0)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=t,this._padMaxChunkLen=s(t),this._heap=new ArrayBuffer(a(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new r({Int32Array},{},this._heap)}return e.prototype._initState=function(e,t){this._offset=0;var n=new Int32Array(e,t+320,5);n[0]=1732584193,n[1]=-271733879,n[2]=-1732584194,n[3]=271733878,n[4]=-1009589776},e.prototype._padChunk=function(e,t){var n=s(e),r=new Int32Array(this._heap,0,n>>2);return function(e,t){var n=new Uint8Array(e.buffer),r=t%4,o=t-r;switch(r){case 0:n[o+3]=0;case 1:n[o+2]=0;case 2:n[o+1]=0;case 3:n[o+0]=0}for(var i=1+(t>>2);i<e.length;i++)e[i]=0}(r,e),function(e,t,n){e[t>>2]|=128<<24-(t%4<<3),e[14+(2+(t>>2)&-16)]=n/(1<<29)|0,e[15+(2+(t>>2)&-16)]=n<<3}(r,e,t),n},e.prototype._write=function(e,t,n,r){c(e,this._h8,this._h32,t,n,r||0)},e.prototype._coreCall=function(e,t,n,r,o){var i=n;this._write(e,t,n),o&&(i=this._padChunk(n,r)),this._core.hash(i,this._padMaxChunkLen)},e.prototype.rawDigest=function(e){var t=e.byteLength||e.length||e.size||0;this._initState(this._heap,this._padMaxChunkLen);var n=0,r=this._maxChunkLen;for(n=0;t>n+r;n+=r)this._coreCall(e,n,r,t,!1);return this._coreCall(e,n,t-n,t,!0),u(this._heap,this._padMaxChunkLen)},e.prototype.digest=function(e){return i(this.rawDigest(e).buffer)},e.prototype.digestFromString=function(e){return this.digest(e)},e.prototype.digestFromBuffer=function(e){return this.digest(e)},e.prototype.digestFromArrayBuffer=function(e){return this.digest(e)},e.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},e.prototype.append=function(e){var t=0,n=e.byteLength||e.length||e.size||0,r=this._offset%this._maxChunkLen,o=void 0;for(this._offset+=n;t<n;)o=Math.min(n-t,this._maxChunkLen-r),this._write(e,t,o,r),t+=o,(r+=o)===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),r=0);return this},e.prototype.getState=function(){var e=void 0;if(this._offset%this._maxChunkLen)e=this._heap.slice(0);else{var t=new Int32Array(this._heap,this._padMaxChunkLen+320,5);e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}return{offset:this._offset,heap:e}},e.prototype.setState=function(e){return this._offset=e.offset,20===e.heap.byteLength?new Int32Array(this._heap,this._padMaxChunkLen+320,5).set(new Int32Array(e.heap)):this._h32.set(new Int32Array(e.heap)),this},e.prototype.rawEnd=function(){var e=this._offset,t=e%this._maxChunkLen,n=this._padChunk(t,e);this._core.hash(n,this._padMaxChunkLen);var r=u(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),r},e.prototype.end=function(){return i(this.rawEnd().buffer)},e}();e.exports=l,e.exports._core=r},function(e,t){for(var n=new Array(256),r=0;r<256;r++)n[r]=(r<16?"0":"")+r.toString(16);e.exports.toHex=function(e){for(var t=new Uint8Array(e),r=new Array(e.byteLength),o=0;o<r.length;o++)r[o]=n[t[o]];return r.join("")},e.exports.ceilHeapSize=function(e){var t=0;if(e<=65536)return 65536;if(e<16777216)for(t=1;t<e;t<<=1);else for(t=16777216;t<e;t+=16777216);return t},e.exports.isDedicatedWorkerScope=function(e){var t="WorkerGlobalScope"in e&&e instanceof e.WorkerGlobalScope,n="SharedWorkerGlobalScope"in e&&e instanceof e.SharedWorkerGlobalScope,r="ServiceWorkerGlobalScope"in e&&e instanceof e.ServiceWorkerGlobalScope;return t&&!n&&!r}},function(e,t,n){e.exports=function(){var e=n(0),t=function(e,n,r,o,i){var a=new self.FileReader;a.onloadend=function(){if(a.error)return i(a.error);var c=a.result;n+=a.result.byteLength;try{e.append(c)}catch(e){return void i(e)}n<o.size?t(e,n,r,o,i):i(null,e.end())},a.readAsArrayBuffer(o.slice(n,n+r))},r=!0;return self.onmessage=function(n){if(r){var o=n.data.data,i=n.data.file,a=n.data.id;if(void 0!==a&&(i||o)){var c=n.data.blockSize||4194304,s=new e(c);s.resetState();var u=function(e,t){e?self.postMessage({id:a,error:e.name}):self.postMessage({id:a,hash:t})};o&&function(e,t,n){try{return n(null,e.digest(t))}catch(e){return n(e)}}(s,o,u),i&&t(s,0,c,i,u)}}},function(){r=!1}}},function(e,t,n){var r=n(4),o=n(0),i=n(7),a=n(2),c=n(1).isDedicatedWorkerScope,s="undefined"!=typeof self&&c(self);o.disableWorkerBehaviour=s?a():function(){},o.createWorker=function(){var e=r(2),t=e.terminate;return e.terminate=function(){URL.revokeObjectURL(e.objectURL),t.call(e)},e},o.createHash=i,e.exports=o},function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}var o="[\\.|\\-|\\+|\\w|/|@]+",i="\\((/\\*.*?\\*/)?s?.*?("+o+").*?\\)";function a(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function c(e,t,r){var c={};c[r]=[];var s=t.toString(),u=s.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!u)return c;for(var l,d=u[1],p=new RegExp("(\\\\n|\\W)"+a(d)+i,"g");l=p.exec(s);)"dll-reference"!==l[3]&&c[r].push(l[3]);for(p=new RegExp("\\("+a(d)+'\\("(dll-reference\\s('+o+'))"\\)\\)'+i,"g");l=p.exec(s);)e[l[2]]||(c[r].push(l[1]),e[l[2]]=n(l[1]).m),c[l[2]]=c[l[2]]||[],c[l[2]].push(l[4]);return c}function s(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var o={main:n.m},i=t.all?{main:Object.keys(o)}:function(e,t){for(var n={main:[t]},r={main:[]},o={main:{}};s(n);)for(var i=Object.keys(n),a=0;a<i.length;a++){var u=i[a],l=n[u].pop();if(o[u]=o[u]||{},!o[u][l]&&e[u][l]){o[u][l]=!0,r[u]=r[u]||[],r[u].push(l);for(var d=c(e,e[u][l],u),p=Object.keys(d),f=0;f<p.length;f++)n[p[f]]=n[p[f]]||[],n[p[f]]=n[p[f]].concat(d[p[f]])}}return r}(o,e),a="";Object.keys(i).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;i[e][t];)t++;i[e].push(t),o[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i[e].map((function(t){return JSON.stringify(t)+": "+o[e][t].toString()})).join(",")+"});\n"})),a=a+"("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+i.main.map((function(e){return JSON.stringify(e)+": "+o.main[e].toString()})).join(",")+"})(self);";var u=new window.Blob([a],{type:"text/javascript"});if(t.bare)return u;var l=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),d=new window.Worker(l);return d.objectURL=l,d}},function(e,t){e.exports=function(e,t,n){"use asm";var r=new e.Int32Array(n);function o(e,t){e=e|0;t=t|0;var n=0,o=0,i=0,a=0,c=0,s=0,u=0,l=0,d=0,p=0,f=0,h=0,v=0,m=0;i=r[t+320>>2]|0;c=r[t+324>>2]|0;u=r[t+328>>2]|0;d=r[t+332>>2]|0;f=r[t+336>>2]|0;for(n=0;(n|0)<(e|0);n=n+64|0){a=i;s=c;l=u;p=d;h=f;for(o=0;(o|0)<64;o=o+4|0){m=r[n+o>>2]|0;v=((i<<5|i>>>27)+(c&u|~c&d)|0)+((m+f|0)+1518500249|0)|0;f=d;d=u;u=c<<30|c>>>2;c=i;i=v;r[e+o>>2]=m}for(o=e+64|0;(o|0)<(e+80|0);o=o+4|0){m=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31;v=((i<<5|i>>>27)+(c&u|~c&d)|0)+((m+f|0)+1518500249|0)|0;f=d;d=u;u=c<<30|c>>>2;c=i;i=v;r[o>>2]=m}for(o=e+80|0;(o|0)<(e+160|0);o=o+4|0){m=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31;v=((i<<5|i>>>27)+(c^u^d)|0)+((m+f|0)+1859775393|0)|0;f=d;d=u;u=c<<30|c>>>2;c=i;i=v;r[o>>2]=m}for(o=e+160|0;(o|0)<(e+240|0);o=o+4|0){m=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31;v=((i<<5|i>>>27)+(c&u|c&d|u&d)|0)+((m+f|0)-1894007588|0)|0;f=d;d=u;u=c<<30|c>>>2;c=i;i=v;r[o>>2]=m}for(o=e+240|0;(o|0)<(e+320|0);o=o+4|0){m=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31;v=((i<<5|i>>>27)+(c^u^d)|0)+((m+f|0)-899497514|0)|0;f=d;d=u;u=c<<30|c>>>2;c=i;i=v;r[o>>2]=m}i=i+a|0;c=c+s|0;u=u+l|0;d=d+p|0;f=f+h|0}r[t+320>>2]=i;r[t+324>>2]=c;r[t+328>>2]=u;r[t+332>>2]=d;r[t+336>>2]=f}return{hash:o}}},function(e,t){var n=this,r=void 0;"undefined"!=typeof self&&void 0!==self.FileReaderSync&&(r=new self.FileReaderSync);var o=function(e,t,n,r,o,i){var a=void 0,c=i%4,s=(o+c)%4,u=o-s;switch(c){case 0:t[i]=e[r+3];case 1:t[i+1-(c<<1)|0]=e[r+2];case 2:t[i+2-(c<<1)|0]=e[r+1];case 3:t[i+3-(c<<1)|0]=e[r]}if(!(o<s+(4-c))){for(a=4-c;a<u;a=a+4|0)n[i+a>>2|0]=e[r+a]<<24|e[r+a+1]<<16|e[r+a+2]<<8|e[r+a+3];switch(s){case 3:t[i+u+1|0]=e[r+u+2];case 2:t[i+u+2|0]=e[r+u+1];case 1:t[i+u+3|0]=e[r+u]}}};e.exports=function(e,t,i,a,c,s){if("string"==typeof e)return function(e,t,n,r,o,i){var a=void 0,c=i%4,s=(o+c)%4,u=o-s;switch(c){case 0:t[i]=e.charCodeAt(r+3);case 1:t[i+1-(c<<1)|0]=e.charCodeAt(r+2);case 2:t[i+2-(c<<1)|0]=e.charCodeAt(r+1);case 3:t[i+3-(c<<1)|0]=e.charCodeAt(r)}if(!(o<s+(4-c))){for(a=4-c;a<u;a=a+4|0)n[i+a>>2]=e.charCodeAt(r+a)<<24|e.charCodeAt(r+a+1)<<16|e.charCodeAt(r+a+2)<<8|e.charCodeAt(r+a+3);switch(s){case 3:t[i+u+1|0]=e.charCodeAt(r+u+2);case 2:t[i+u+2|0]=e.charCodeAt(r+u+1);case 1:t[i+u+3|0]=e.charCodeAt(r+u)}}}(e,t,i,a,c,s);if(e instanceof Array)return o(e,t,i,a,c,s);if(n&&n.Buffer&&n.Buffer.isBuffer(e))return o(e,t,i,a,c,s);if(e instanceof ArrayBuffer)return o(new Uint8Array(e),t,i,a,c,s);if(e.buffer instanceof ArrayBuffer)return o(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t,i,a,c,s);if(e instanceof Blob)return function(e,t,n,o,i,a){var c=void 0,s=a%4,u=(i+s)%4,l=i-u,d=new Uint8Array(r.readAsArrayBuffer(e.slice(o,o+i)));switch(s){case 0:t[a]=d[3];case 1:t[a+1-(s<<1)|0]=d[2];case 2:t[a+2-(s<<1)|0]=d[1];case 3:t[a+3-(s<<1)|0]=d[0]}if(!(i<u+(4-s))){for(c=4-s;c<l;c=c+4|0)n[a+c>>2|0]=d[c]<<24|d[c+1]<<16|d[c+2]<<8|d[c+3];switch(u){case 3:t[a+l+1|0]=d[l+2];case 2:t[a+l+2|0]=d[l+1];case 1:t[a+l+3|0]=d[l]}}}(e,t,i,a,c,s);throw new Error("Unsupported data type.")}},function(e,t,n){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),i=n(1).toHex,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rusha=new o,this._rusha.resetState()}return e.prototype.update=function(e){return this._rusha.append(e),this},e.prototype.digest=function(e){var t=this._rusha.rawEnd().buffer;if(!e)return t;if("hex"===e)return i(t);throw new Error("unsupported digest encoding")},r(e,[{key:"state",get:function(){return this._rusha.getState()},set:function(e){this._rusha.setState(e)}}]),e}();e.exports=function(){return new a}}])},e.exports=t()},33571:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n,r){e.call(this),this.parent=t,this.outerValue=n,this.outerIndex=r,this.index=0}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(n(83020).Subscriber);t.InnerSubscriber=o},75154:(e,t,n)=>{"use strict";var r=n(28761),o=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return r.Observable.of(this.value);case"E":return r.Observable.throw(this.error);case"C":return r.Observable.empty()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();t.Notification=o},28761:(e,t,n)=>{"use strict";var r=n(61885),o=n(90943),i=n(29235),a=n(57537),c=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=o.toSubscriber(e,t,n);if(r?r.call(i,this.source):i.add(this.source||!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.syncErrorThrown=!0,e.syncErrorValue=t,e.error(t)}},e.prototype.forEach=function(e,t){var n=this;if(t||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?t=r.root.Rx.config.Promise:r.root.Promise&&(t=r.root.Promise)),!t)throw new Error("no Promise impl found");return new t((function(t,r){var o;o=n.subscribe((function(t){if(o)try{e(t)}catch(e){r(e),o.unsubscribe()}else e(t)}),r,t)}))},e.prototype._subscribe=function(e){return this.source.subscribe(e)},e.prototype[i.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return 0===e.length?this:a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;if(e||(r.root.Rx&&r.root.Rx.config&&r.root.Rx.config.Promise?e=r.root.Rx.config.Promise:r.root.Promise&&(e=r.root.Promise)),!e)throw new Error("no Promise impl found");return new e((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();t.Observable=c},12047:(e,t)=>{"use strict";t.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},87450:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(n(83020).Subscriber);t.OuterSubscriber=o},28669:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(35955),i=n(23085),a=n(43962),c=n(17755),s=n(44003),u=n(27185),l=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),e.call(this),this.scheduler=r,this._events=[],this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n}return r(t,e),t.prototype.next=function(t){var n=this._getNow();this._events.push(new d(n,t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._trimBufferThenGetEvents(),r=this.scheduler;if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError||this.isStopped?t=a.Subscription.EMPTY:(this.observers.push(e),t=new u.SubjectSubscription(this,e)),r&&e.add(e=new c.ObserveOnSubscriber(e,r));for(var o=n.length,i=0;i<o&&!e.closed;i++)e.next(n[i].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||i.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(e-r[i].time<n);)i++;return o>t&&(i=Math.max(i,o-t)),i>0&&r.splice(0,i),r},t}(o.Subject);t.ReplaySubject=l;var d=function(e,t){this.time=e,this.value=t}},49225:(e,t)=>{"use strict";var n=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=Date.now?Date.now:function(){return+new Date},e}();t.Scheduler=n},35955:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(28761),i=n(83020),a=n(43962),c=n(44003),s=n(27185),u=n(97169),l=function(e){function t(t){e.call(this,t),this.destination=t}return r(t,e),t}(i.Subscriber);t.SubjectSubscriber=l;var d=function(e){function t(){e.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return r(t,e),t.prototype[u.rxSubscriber]=function(){return new l(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new s.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new o.Observable;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(o.Observable);t.Subject=d;var p=function(e){function t(t,n){e.call(this),this.destination=t,this.source=n}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):a.Subscription.EMPTY},t}(d);t.AnonymousSubject=p},27185:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n){e.call(this),this.subject=t,this.subscriber=n,this.closed=!1}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(n(43962).Subscription);t.SubjectSubscription=o},83020:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(59166),i=n(43962),a=n(12047),c=n(97169),s=function(e){function t(t,n,r){switch(e.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a.empty;break;case 1:if(!t){this.destination=a.empty;break}if("object"==typeof t){if(l(t)){var o=t[c.rxSubscriber]();this.syncErrorThrowable=o.syncErrorThrowable,this.destination=o,o.add(this)}else this.syncErrorThrowable=!0,this.destination=new u(this,t);break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,n,r)}}return r(t,e),t.prototype[c.rxSubscriber]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(i.Subscription);t.Subscriber=s;var u=function(e){function t(t,n,r,i){var c;e.call(this),this._parentSubscriber=t;var s=this;o.isFunction(n)?c=n:n&&(c=n.next,r=n.error,i=n.complete,n!==a.empty&&(s=Object.create(n),o.isFunction(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=c,this._error=r,this._complete=i}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}},t.prototype.__tryOrSetError=function(e,t,n){try{t.call(this._context,n)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(s);function l(e){return e instanceof s||"syncErrorThrowable"in e&&e[c.rxSubscriber]}},43962:(e,t,n)=>{"use strict";var r=n(86652),o=n(95853),i=n(59166),a=n(52897),c=n(18802),s=n(38716),u=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this,u=n._parent,d=n._parents,p=n._unsubscribe,f=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var h=-1,v=d?d.length:0;u;)u.remove(this),u=++h<v&&d[h]||null;if(i.isFunction(p))a.tryCatch(p).call(this)===c.errorObject&&(t=!0,e=e||(c.errorObject.e instanceof s.UnsubscriptionError?l(c.errorObject.e.errors):[c.errorObject.e]));if(r.isArray(f))for(h=-1,v=f.length;++h<v;){var m=f[h];if(o.isObject(m))if(a.tryCatch(m.unsubscribe).call(m)===c.errorObject){t=!0,e=e||[];var g=c.errorObject.e;g instanceof s.UnsubscriptionError?e=e.concat(l(g.errors)):e.push(g)}}if(t)throw new s.UnsubscriptionError(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function l(e){return e.reduce((function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)}),[])}t.Subscription=u},71587:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(28761),i=n(45568),a=n(73887),c=function(e){function t(t,n){e.call(this),this.arrayLike=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){var r=e.length;return 0===r?new a.EmptyObservable:1===r?new i.ScalarObservable(e[0],n):new t(e,n)},t.dispatch=function(e){var t=e.arrayLike,n=e.index,r=e.length,o=e.subscriber;o.closed||(n>=r?o.complete():(o.next(t[n]),e.index=n+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.arrayLike,r=this.scheduler,o=n.length;if(r)return r.schedule(t.dispatch,0,{arrayLike:n,index:0,length:o,subscriber:e});for(var i=0;i<o&&!e.closed;i++)e.next(n[i]);e.complete()},t}(o.Observable);t.ArrayLikeObservable=c},47951:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(28761),i=n(45568),a=n(73887),c=n(48647),s=function(e){function t(t,n){e.call(this),this.array=t,this.scheduler=n,n||1!==t.length||(this._isScalar=!0,this.value=t[0])}return r(t,e),t.create=function(e,n){return new t(e,n)},t.of=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];var r=e[e.length-1];c.isScheduler(r)?e.pop():r=null;var o=e.length;return o>1?new t(e,r):1===o?new i.ScalarObservable(e[0],r):new a.EmptyObservable(r)},t.dispatch=function(e){var t=e.array,n=e.index,r=e.count,o=e.subscriber;n>=r?o.complete():(o.next(t[n]),o.closed||(e.index=n+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.array,r=n.length,o=this.scheduler;if(o)return o.schedule(t.dispatch,0,{array:n,index:0,count:r,subscriber:e});for(var i=0;i<r&&!e.closed;i++)e.next(n[i]);e.complete()},t}(o.Observable);t.ArrayObservable=s},73887:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t){e.call(this),this.scheduler=t}return r(t,e),t.create=function(e){return new t(e)},t.dispatch=function(e){e.subscriber.complete()},t.prototype._subscribe=function(e){var n=this.scheduler;if(n)return n.schedule(t.dispatch,0,{subscriber:e});e.complete()},t}(n(28761).Observable);t.EmptyObservable=o},94683:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(86652),i=n(64110),a=n(14847),c=n(59832),s=n(86622),u=n(47951),l=n(71587),d=n(57901),p=n(28761),f=n(17755),h=n(29235),v=function(e){function t(t,n){e.call(this,null),this.ish=t,this.scheduler=n}return r(t,e),t.create=function(e,n){if(null!=e){if("function"==typeof e[h.observable])return e instanceof p.Observable&&!n?e:new t(e,n);if(o.isArray(e))return new u.ArrayObservable(e,n);if(a.isPromise(e))return new c.PromiseObservable(e,n);if("function"==typeof e[d.iterator]||"string"==typeof e)return new s.IteratorObservable(e,n);if(i.isArrayLike(e))return new l.ArrayLikeObservable(e,n)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")},t.prototype._subscribe=function(e){var t=this.ish,n=this.scheduler;return null==n?t[h.observable]().subscribe(e):t[h.observable]().subscribe(new f.ObserveOnSubscriber(e,n,0))},t}(p.Observable);t.FromObservable=v},86622:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(61885),i=n(28761),a=n(57901),c=function(e){function t(t,n){if(e.call(this),this.scheduler=n,null==t)throw new Error("iterator cannot be null.");this.iterator=function(e){var t=e[a.iterator];if(!t&&"string"==typeof e)return new s(e);if(!t&&void 0!==e.length)return new u(e);if(!t)throw new TypeError("object is not iterable");return e[a.iterator]()}(t)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.index,n=e.hasError,r=e.iterator,o=e.subscriber;if(n)o.error(e.error);else{var i=r.next();i.done?o.complete():(o.next(i.value),e.index=t+1,o.closed?"function"==typeof r.return&&r.return():this.schedule(e))}},t.prototype._subscribe=function(e){var n=this.iterator,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{index:0,iterator:n,subscriber:e});for(;;){var o=n.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed){"function"==typeof n.return&&n.return();break}}},t}(i.Observable);t.IteratorObservable=c;var s=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.length),this.str=e,this.idx=t,this.len=n}return e.prototype[a.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:void 0}},e}(),u=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=function(e){var t=+e.length;if(isNaN(t))return 0;if(0===t||(n=t,"number"!=typeof n||!o.root.isFinite(n)))return t;var n;if(t=function(e){var t=+e;if(0===t)return t;if(isNaN(t))return t;return t<0?-1:1}(t)*Math.floor(Math.abs(t)),t<=0)return 0;if(t>l)return l;return t}(e)),this.arr=e,this.idx=t,this.len=n}return e.prototype[a.iterator]=function(){return this},e.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}},e}();var l=Math.pow(2,53)-1},59832:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(61885),i=function(e){function t(t,n){e.call(this),this.promise=t,this.scheduler=n}return r(t,e),t.create=function(e,n){return new t(e,n)},t.prototype._subscribe=function(e){var t=this,n=this.promise,r=this.scheduler;if(null==r)this._isScalar?e.closed||(e.next(this.value),e.complete()):n.then((function(n){t.value=n,t._isScalar=!0,e.closed||(e.next(n),e.complete())}),(function(t){e.closed||e.error(t)})).then(null,(function(e){o.root.setTimeout((function(){throw e}))}));else if(this._isScalar){if(!e.closed)return r.schedule(a,0,{value:this.value,subscriber:e})}else n.then((function(n){t.value=n,t._isScalar=!0,e.closed||e.add(r.schedule(a,0,{value:n,subscriber:e}))}),(function(t){e.closed||e.add(r.schedule(c,0,{err:t,subscriber:e}))})).then(null,(function(e){o.root.setTimeout((function(){throw e}))}))},t}(n(28761).Observable);function a(e){var t=e.value,n=e.subscriber;n.closed||(n.next(t),n.complete())}function c(e){var t=e.err,n=e.subscriber;n.closed||n.error(t)}t.PromiseObservable=i},38633:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n,r){e.call(this),this.start=t,this._count=n,this.scheduler=r}return r(t,e),t.create=function(e,n,r){return void 0===e&&(e=0),void 0===n&&(n=0),new t(e,n,r)},t.dispatch=function(e){var t=e.start,n=e.index,r=e.count,o=e.subscriber;n>=r?o.complete():(o.next(t),o.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))},t.prototype._subscribe=function(e){var n=0,r=this.start,o=this._count,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{index:n,count:o,start:r,subscriber:e});for(;;){if(n++>=o){e.complete();break}if(e.next(r++),e.closed)break}},t}(n(28761).Observable);t.RangeObservable=o},45568:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n){e.call(this),this.value=t,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return r(t,e),t.create=function(e,n){return new t(e,n)},t.dispatch=function(e){var t=e.done,n=e.value,r=e.subscriber;t?r.complete():(r.next(n),r.closed||(e.done=!0,this.schedule(e)))},t.prototype._subscribe=function(e){var n=this.value,r=this.scheduler;if(r)return r.schedule(t.dispatch,0,{done:!1,value:n,subscriber:e});e.next(n),e.closed||e.complete()},t}(n(28761).Observable);t.ScalarObservable=o},36119:(e,t,n)=>{"use strict";var r=n(94683);t.D=r.FromObservable.create},74686:(e,t,n)=>{"use strict";var r=n(59832);t.p=r.PromiseObservable.create},71049:(e,t,n)=>{"use strict";var r=n(47951);t.of=r.ArrayObservable.of},66406:(e,t,n)=>{"use strict";var r=n(38633);t.w=r.RangeObservable.create},28361:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(83020);t.bufferCount=function(e,t){return void 0===t&&(t=null),function(n){return n.lift(new i(e,t))}};var i=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?c:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){e.call(this,t),this.bufferSize=n,this.buffer=[]}return r(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(o.Subscriber),c=function(e){function t(t,n,r){e.call(this,t),this.bufferSize=n,this.startBufferEvery=r,this.buffers=[],this.count=0}return r(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,r=t.startBufferEvery,o=t.buffers,i=t.count;this.count++,i%r==0&&o.push([]);for(var a=o.length;a--;){var c=o[a];c.push(e),c.length===n&&(o.splice(a,1),this.destination.next(c))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(o.Subscriber)},47551:(e,t,n)=>{"use strict";var r=n(39388);t.b=function(e,t){return r.mergeMap(e,t,1)}},80301:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(83020);t.map=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new i(e,t))}};var i=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}();t.MapOperator=i;var a=function(e){function t(t,n,r){e.call(this,t),this.project=n,this.count=0,this.thisArg=r||this}return r(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(o.Subscriber)},39388:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(7144),i=n(87450);t.mergeMap=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return"number"==typeof t&&(n=t,t=null),r.lift(new a(e,t,n))}};var a=function(){function e(e,t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=e,this.resultSelector=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.project,this.resultSelector,this.concurrent))},e}();t.MergeMapOperator=a;var c=function(e){function t(t,n,r,o){void 0===o&&(o=Number.POSITIVE_INFINITY),e.call(this,t),this.project=n,this.resultSelector=r,this.concurrent=o,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}return r(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){this.add(o.subscribeToResult(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,o){this.resultSelector?this._notifyResultSelector(e,t,n,r):this.destination.next(t)},t.prototype._notifyResultSelector=function(e,t,n,r){var o;try{o=this.resultSelector(e,t,n,r)}catch(e){return void this.destination.error(e)}this.destination.next(o)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber);t.MergeMapSubscriber=c},17755:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(83020),i=n(75154);t.observeOn=function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}};var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.scheduler,this.delay))},e}();t.ObserveOnOperator=a;var c=function(e){function t(t,n,r){void 0===r&&(r=0),e.call(this,t),this.scheduler=n,this.delay=r}return r(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.add(this.scheduler.schedule(t.dispatch,this.delay,new s(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(i.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(i.Notification.createError(e))},t.prototype._complete=function(){this.scheduleMessage(i.Notification.createComplete())},t}(o.Subscriber);t.ObserveOnSubscriber=c;var s=function(e,t){this.notification=e,this.destination=t};t.ObserveOnMessage=s},13756:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(83020);t.tap=function(e,t,n){return function(r){return r.lift(new i(e,t,n))}};var i=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.nextOrObserver,this.error,this.complete))},e}(),a=function(e){function t(t,n,r,i){e.call(this,t);var a=new o.Subscriber(n,r,i);a.syncErrorThrowable=!0,this.add(a),this.safeSubscriber=a}return r(t,e),t.prototype._next=function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)},t.prototype._error=function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)},t.prototype._complete=function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()},t}(o.Subscriber)},7287:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n){e.call(this)}return r(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(43962).Subscription);t.Action=o},35586:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=n(61885),i=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.pending=!1,this.work=n}return r(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e,this.pending=!0;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),o.root.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;o.root.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(n(7287).Action);t.AsyncAction=i},72086:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){e.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=void 0}return r(t,e),t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(n(49225).Scheduler);t.AsyncScheduler=o},58181:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(t,n){e.call(this,t,n),this.scheduler=t,this.work=n}return r(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(n(35586).AsyncAction);t.QueueAction=o},23140:function(e,t,n){"use strict";var r=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},o=function(e){function t(){e.apply(this,arguments)}return r(t,e),t}(n(72086).AsyncScheduler);t.QueueScheduler=o},23085:(e,t,n)=>{"use strict";var r=n(58181),o=n(23140);t.queue=new o.QueueScheduler(r.QueueAction)},57901:(e,t,n)=>{"use strict";var r=n(61885);function o(e){var t=e.Symbol;if("function"==typeof t)return t.iterator||(t.iterator=t("iterator polyfill")),t.iterator;var n=e.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var r=e.Map;if(r)for(var o=Object.getOwnPropertyNames(r.prototype),i=0;i<o.length;++i){var a=o[i];if("entries"!==a&&"size"!==a&&r.prototype[a]===r.prototype.entries)return a}return"@@iterator"}t.symbolIteratorPonyfill=o,t.iterator=o(r.root),t.$$iterator=t.iterator},29235:(e,t,n)=>{"use strict";var r=n(61885);function o(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}t.getSymbolObservable=o,t.observable=o(r.root),t.$$observable=t.observable},97169:(e,t,n)=>{"use strict";var r=n(61885).root.Symbol;t.rxSubscriber="function"==typeof r&&"function"==typeof r.for?r.for("rxSubscriber"):"@@rxSubscriber",t.$$rxSubscriber=t.rxSubscriber},44003:function(e,t){"use strict";var n=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},r=function(e){function t(){var t=e.call(this,"object unsubscribed");this.name=t.name="ObjectUnsubscribedError",this.stack=t.stack,this.message=t.message}return n(t,e),t}(Error);t.ObjectUnsubscribedError=r},38716:function(e,t){"use strict";var n=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},r=function(e){function t(t){e.call(this),this.errors=t;var n=Error.call(this,t?t.length+" errors occurred during unsubscription:\n  "+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return n(t,e),t}(Error);t.UnsubscriptionError=r},18802:(e,t)=>{"use strict";t.errorObject={e:{}}},86652:(e,t)=>{"use strict";t.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},64110:(e,t)=>{"use strict";t.isArrayLike=function(e){return e&&"number"==typeof e.length}},59166:(e,t)=>{"use strict";t.isFunction=function(e){return"function"==typeof e}},95853:(e,t)=>{"use strict";t.isObject=function(e){return null!=e&&"object"==typeof e}},14847:(e,t)=>{"use strict";t.isPromise=function(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},48647:(e,t)=>{"use strict";t.isScheduler=function(e){return e&&"function"==typeof e.schedule}},45575:(e,t)=>{"use strict";t.noop=function(){}},57537:(e,t,n)=>{"use strict";var r=n(45575);function o(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.noop}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];return o(e)},t.pipeFromArray=o},61885:(e,t,n)=>{"use strict";var r="undefined"!=typeof window&&window,o="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,i=void 0!==n.g&&n.g,a=r||i||o;t.root=a,function(){if(!a)throw new Error("RxJS could not find any global context (window, self, global)")}()},7144:(e,t,n)=>{"use strict";var r=n(61885),o=n(64110),i=n(14847),a=n(95853),c=n(28761),s=n(57901),u=n(33571),l=n(29235);t.subscribeToResult=function(e,t,n,d){var p=new u.InnerSubscriber(e,n,d);if(p.closed)return null;if(t instanceof c.Observable)return t._isScalar?(p.next(t.value),p.complete(),null):(p.syncErrorThrowable=!0,t.subscribe(p));if(o.isArrayLike(t)){for(var f=0,h=t.length;f<h&&!p.closed;f++)p.next(t[f]);p.closed||p.complete()}else{if(i.isPromise(t))return t.then((function(e){p.closed||(p.next(e),p.complete())}),(function(e){return p.error(e)})).then(null,(function(e){r.root.setTimeout((function(){throw e}))})),p;if(t&&"function"==typeof t[s.iterator])for(var v=t[s.iterator]();;){var m=v.next();if(m.done){p.complete();break}if(p.next(m.value),p.closed)break}else if(t&&"function"==typeof t[l.observable]){var g=t[l.observable]();if("function"==typeof g.subscribe)return g.subscribe(new u.InnerSubscriber(e,n,d));p.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var y="You provided "+(a.isObject(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";p.error(new TypeError(y))}}return null}},90943:(e,t,n)=>{"use strict";var r=n(83020),o=n(97169),i=n(12047);t.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[o.rxSubscriber])return e[o.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(i.empty)}},52897:(e,t,n)=>{"use strict";var r,o=n(18802);function i(){try{return r.apply(this,arguments)}catch(e){return o.errorObject.e=e,o.errorObject}}t.tryCatch=function(e){return r=e,i}},66985:function(e,t,n){var r=n(34406);!function(e,t){"use strict";if(!e.setImmediate){var n,o,i,a,c,s=1,u={},l=!1,d=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){r.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),n=function(t){e.postMessage(a+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return u[s]=o,n(s),s++},p.clearImmediate=f}function f(e){delete u[e]}function h(e){if(l)setTimeout(h,0,e);else{var n=u[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{f(e),l=!1}}}}}("undefined"==typeof self?void 0===n.g?this:n.g:self)},46889:e=>{e.exports=/[\0-\x1F\x7F-\x9F]/},3811:e=>{e.exports=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/},7062:e=>{e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},18442:e=>{e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},18579:(e,t,n)=>{"use strict";t.Any=n(83530),t.Cc=n(46889),t.Cf=n(3811),t.P=n(7062),t.Z=n(18442)},83530:e=>{e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},10082:e=>{e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},54895:(e,t,n)=>{"use strict";var r=n(52635),o=n(43138),i=n(32094),a=n(50198);function c(e){return e.call.bind(e)}var s="undefined"!=typeof BigInt,u="undefined"!=typeof Symbol,l=c(Object.prototype.toString),d=c(Number.prototype.valueOf),p=c(String.prototype.valueOf),f=c(Boolean.prototype.valueOf);if(s)var h=c(BigInt.prototype.valueOf);if(u)var v=c(Symbol.prototype.valueOf);function m(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function g(e){return"[object Map]"===l(e)}function y(e){return"[object Set]"===l(e)}function b(e){return"[object WeakMap]"===l(e)}function w(e){return"[object WeakSet]"===l(e)}function k(e){return"[object ArrayBuffer]"===l(e)}function E(e){return"undefined"!=typeof ArrayBuffer&&(k.working?k(e):e instanceof ArrayBuffer)}function x(e){return"[object DataView]"===l(e)}function O(e){return"undefined"!=typeof DataView&&(x.working?x(e):e instanceof DataView)}t.isArgumentsObject=r,t.isGeneratorFunction=o,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||O(e)},t.isUint8Array=function(e){return"Uint8Array"===i(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},t.isUint16Array=function(e){return"Uint16Array"===i(e)},t.isUint32Array=function(e){return"Uint32Array"===i(e)},t.isInt8Array=function(e){return"Int8Array"===i(e)},t.isInt16Array=function(e){return"Int16Array"===i(e)},t.isInt32Array=function(e){return"Int32Array"===i(e)},t.isFloat32Array=function(e){return"Float32Array"===i(e)},t.isFloat64Array=function(e){return"Float64Array"===i(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},g.working="undefined"!=typeof Map&&g(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(g.working?g(e):e instanceof Map)},y.working="undefined"!=typeof Set&&y(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(y.working?y(e):e instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},w.working="undefined"!=typeof WeakSet&&w(new WeakSet),t.isWeakSet=function(e){return w(e)},k.working="undefined"!=typeof ArrayBuffer&&k(new ArrayBuffer),t.isArrayBuffer=E,x.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&x(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=O;var S="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function C(e){return"[object SharedArrayBuffer]"===l(e)}function T(e){return void 0!==S&&(void 0===C.working&&(C.working=C(new S)),C.working?C(e):e instanceof S)}function A(e){return m(e,d)}function _(e){return m(e,p)}function P(e){return m(e,f)}function D(e){return s&&m(e,h)}function Z(e){return u&&m(e,v)}t.isSharedArrayBuffer=T,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===l(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===l(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===l(e)},t.isGeneratorObject=function(e){return"[object Generator]"===l(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===l(e)},t.isNumberObject=A,t.isStringObject=_,t.isBooleanObject=P,t.isBigIntObject=D,t.isSymbolObject=Z,t.isBoxedPrimitive=function(e){return A(e)||_(e)||P(e)||D(e)||Z(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(E(e)||T(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},43335:(e,t,n)=>{var r=n(34406),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),c=r[n];n<o;c=r[++n])g(c)||!E(c)?a+=" "+c:a+=" "+u(c);return a},t.deprecate=function(e,n){if(void 0!==r&&!0===r.noDeprecation)return e;if(void 0===r)return function(){return t.deprecate(e,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?console.trace(n):console.error(n),o=!0}return e.apply(this,arguments)}};var a={},c=/^$/;if(r.env.NODE_DEBUG){var s=r.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+s+"$","i")}function u(e,n){var r={seen:[],stylize:d};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&t._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),p(r,e,r.depth)}function l(e,t){var n=u.styles[t];return n?"["+u.colors[n][0]+"m"+e+"["+u.colors[n][1]+"m":e}function d(e,t){return e}function p(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return b(o)||(o=p(e,o,r)),o}var i=function(e,t){if(w(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(y(t))return e.stylize(""+t,"number");if(m(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),c=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),O(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(S(n)){var s=n.name?": "+n.name:"";return e.stylize("[Function"+s+"]","special")}if(k(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(O(n))return f(n)}var u,l="",d=!1,E=["{","}"];(v(n)&&(d=!0,E=["[","]"]),S(n))&&(l=" [Function"+(n.name?": "+n.name:"")+"]");return k(n)&&(l=" "+RegExp.prototype.toString.call(n)),x(n)&&(l=" "+Date.prototype.toUTCString.call(n)),O(n)&&(l=" "+f(n)),0!==a.length||d&&0!=n.length?r<0?k(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),u=d?function(e,t,n,r,o){for(var i=[],a=0,c=t.length;a<c;++a)_(t,String(a))?i.push(h(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(h(e,t,n,r,o,!0))})),i}(e,n,r,c,a):a.map((function(t){return h(e,n,r,c,t,d)})),e.seen.pop(),function(e,t,n){var r=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(r>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,l,E)):E[0]+l+E[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,o,i){var a,c,s;if((s=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?c=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(c=e.stylize("[Setter]","special")),_(r,o)||(a="["+o+"]"),c||(e.seen.indexOf(s.value)<0?(c=g(n)?p(e,s.value,null):p(e,s.value,n-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+c.split("\n").map((function(e){return"   "+e})).join("\n")):c=e.stylize("[Circular]","special")),w(a)){if(i&&o.match(/^\d+$/))return c;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.slice(1,-1),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+c}function v(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function g(e){return null===e}function y(e){return"number"==typeof e}function b(e){return"string"==typeof e}function w(e){return void 0===e}function k(e){return E(e)&&"[object RegExp]"===C(e)}function E(e){return"object"==typeof e&&null!==e}function x(e){return E(e)&&"[object Date]"===C(e)}function O(e){return E(e)&&("[object Error]"===C(e)||e instanceof Error)}function S(e){return"function"==typeof e}function C(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!a[e])if(c.test(e)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=n(54895),t.isArray=v,t.isBoolean=m,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=w,t.isRegExp=k,t.types.isRegExp=k,t.isObject=E,t.isDate=x,t.types.isDate=x,t.isError=O,t.types.isNativeError=O,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(10082);var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,n;console.log("%s - %s",(e=new Date,n=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":"),[e.getDate(),A[e.getMonth()],n].join(" ")),t.format.apply(t,arguments))},t.inherits=n(91285),t._extend=function(e,t){if(!t||!E(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var P="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function D(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!=typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},t.promisify.custom=P,t.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,t).then((function(e){r.nextTick(a.bind(null,null,e))}),(function(e){r.nextTick(D.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}},75639:e=>{for(var t=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}$/i,n=[],r=0;r<256;r++)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var i;if(Buffer.isBuffer(e))i=function(e,t){var r=t||0,o=n;return o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+"-"+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]+o[e[r++]]}(e);else{if("[object String]"!==Object.prototype.toString.call(e))return!1;i=e}if(i=i.toLowerCase(),!t.test(i))return!1;if(void 0===r)r=o(i);else if(o(i)!==r)return!1;switch(r){case 1:case 2:return!0;case 3:case 4:case 5:return-1!==["8","9","a","b"].indexOf(i.charAt(19));default:throw new Error("Invalid version provided.")}};var o=e.exports.version=function(e){return 0|e.charAt(14)}},98022:(e,t,n)=>{var r=n(84481),o=n(26426),i=o;i.v1=r,i.v4=o,e.exports=i},32094:(e,t,n)=>{"use strict";var r=n(83243),o=n(62191),i=n(62680),a=n(50326),c=i("Object.prototype.toString"),s=n(67226)(),u="undefined"==typeof globalThis?n.g:globalThis,l=o(),d=i("String.prototype.slice"),p={},f=Object.getPrototypeOf;s&&a&&f&&r(l,(function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var n=f(t),r=a(n,Symbol.toStringTag);if(!r){var o=f(n);r=a(o,Symbol.toStringTag)}p[e]=r.get}}}));var h=n(50198);e.exports=function(e){return!!h(e)&&(s&&Symbol.toStringTag in e?function(e){var t=!1;return r(p,(function(n,r){if(!t)try{var o=n.call(e);o===r&&(t=o)}catch(e){}})),t}(e):d(c(e),8,-1))}},27609:(e,t,n)=>{var r=n(67425).default;function o(){"use strict";e.exports=o=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,i=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},s=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof v?t:v,i=Object.create(o.prototype),c=new A(r||[]);return a(i,"_invoke",{value:O(e,n,c)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var h={};function v(){}function m(){}function g(){}var y={};d(y,s,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(_([])));w&&w!==n&&i.call(w,s)&&(y=w);var k=g.prototype=v.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(o,a,c,s){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&i.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(d).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=S(a,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=f(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function _(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:P}}function P(){return{value:void 0,done:!0}}return m.prototype=g,a(k,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:m,configurable:!0}),m.displayName=d(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,d(e,l,"GeneratorFunction")),e.prototype=Object.create(k),e},t.awrap=function(e){return{__await:e}},E(x.prototype),d(x.prototype,u,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new x(p(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),d(k,l,"Generator"),d(k,s,(function(){return this})),d(k,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),s=i.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},82841:(e,t,n)=>{var r=n(27609)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},62191:(e,t,n)=>{"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],o="undefined"==typeof globalThis?n.g:globalThis;e.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof o[r[t]]&&(e[e.length]=r[t]);return e}},34795:(e,t,n)=>{"use strict";function r(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var a=e.apply(t,n);function c(e){r(a,o,i,c,s,"next",e)}function s(e){r(a,o,i,c,s,"throw",e)}c(void 0)}))}}n.d(t,{Z:()=>o})},51462:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(88960),o=n(70352);function i(e,t,n){return i=(0,o.Z)()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);var i=new(Function.bind.apply(e,o));return n&&(0,r.Z)(i,n.prototype),i},i.apply(null,arguments)}},46840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(39868),o=n(81079),i=n(59147),a=n(34434);function c(e){return(0,r.Z)(e)||(0,o.Z)(e)||(0,i.Z)(e)||(0,a.Z)()}},30364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(95058),o=n(88960);var i=n(51462);function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return(0,i.Z)(e,arguments,(0,r.Z)(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),(0,o.Z)(a,e)},a(e)}},86403:(e,t,n)=>{"use strict";function r(e){this.content=e}n.d(t,{Z:()=>o}),r.prototype={constructor:r,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var o=n&&n!=e?this.remove(n):this,i=o.find(e),a=o.content.slice();return-1==i?a.push(n||e,t):(a[i+1]=t,n&&(a[i]=n)),new r(a)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new r(n)},addToStart:function(e,t){return new r([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new r(n)},addBefore:function(e,t,n){var o=this.remove(t),i=o.content.slice(),a=o.find(e);return i.splice(-1==a?i.length:a,0,t,n),new r(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=r.from(e)).size?new r(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=r.from(e)).size?new r(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=r.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},r.from=function(e){if(e instanceof r)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new r(t)};const o=r},75547:(e,t,n)=>{"use strict";n.d(t,{SJ:()=>w,m8:()=>x,KX:()=>S,Yw:()=>O});var r=200,o=function(){};o.prototype.append=function(e){return e.length?(e=o.from(e),!this.length&&e||e.length<r&&this.leafAppend(e)||this.length<r&&e.leafPrepend(this)||this.appendInner(e)):this},o.prototype.prepend=function(e){return e.length?o.from(e).append(this):this},o.prototype.appendInner=function(e){return new a(this,e)},o.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?o.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},o.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},o.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},o.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},o.from=function(e){return e instanceof o?e:e&&e.length?new i(e):o.empty};var i=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=r)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=r)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(o);o.empty=new i([]);var a=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(o);const c=o;var s=n(30709),u=n(16037);class l{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){if(this.items.get(o-1).selection){--o;break}}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let i,a,c=e.tr,s=[],u=[];return this.items.forEach(((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void u.push(e);if(n){u.push(new d(e.map));let t,o=e.step.map(n.slice(r));o&&c.maybeStep(o).doc&&(t=c.mapping.maps[c.mapping.maps.length-1],s.push(new d(t,void 0,void 0,s.length+u.length))),r--,t&&n.appendMap(t,r)}else c.maybeStep(e.step);return e.selection?(i=n?e.selection.map(n.slice(r)):e.selection,a=new l(this.items.slice(0,o).append(u.reverse().concat(s)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:c,selection:i}}addTransform(e,t,n,r){let o=[],i=this.eventCount,a=this.items,c=!r&&a.length?a.get(a.length-1):null;for(let n=0;n<e.steps.length;n++){let s,u=e.steps[n].invert(e.docs[n]),l=new d(e.mapping.maps[n],u,t);(s=c&&c.merge(l))&&(l=s,n?o.pop():a=a.slice(0,a.length-1)),o.push(l),t&&(i++,t=void 0),r||(c=l)}let s=i-n.depth;return s>f&&(a=function(e,t){let n;return e.forEach(((e,r)=>{if(e.selection&&0==t--)return n=r,!1})),e.slice(n)}(a,s),i-=s),new l(a.append(o),i)}remapping(e,t){let n=new s.vs;return this.items.forEach(((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)}),e,t),n}addMaps(e){return 0==this.eventCount?this:new l(this.items.append(e.map((e=>new d(e)))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach((e=>{e.selection&&a--}),r);let c=t;this.items.forEach((t=>{let r=o.getMirror(--c);if(null==r)return;i=Math.min(i,r);let s=o.maps[r];if(t.step){let i=e.steps[r].invert(e.docs[r]),u=t.selection&&t.selection.map(o.slice(c+1,r));u&&a++,n.push(new d(s,i,u))}else n.push(new d(s))}),r);let s=[];for(let e=t;e<i;e++)s.push(new d(o.maps[e]));let u=this.items.slice(0,r).append(s).append(n),p=new l(u,a);return p.emptyItemCount()>500&&(p=p.compress(this.items.length-n.length)),p}emptyItemCount(){let e=0;return this.items.forEach((t=>{t.step||e++})),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach(((i,a)=>{if(a>=e)r.push(i),i.selection&&o++;else if(i.step){let e=i.step.map(t.slice(n)),a=e&&e.getMap();if(n--,a&&t.appendMap(a,n),e){let c=i.selection&&i.selection.map(t.slice(n));c&&o++;let s,u=new d(a.invert(),e,c),l=r.length-1;(s=r.length&&r[l].merge(u))?r[l]=s:r.push(u)}}else i.map&&n--}),this.items.length,0),new l(c.from(r.reverse()),o)}}l.empty=new l(c.empty,0);class d{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new d(t.getMap().invert(),t,this.selection)}}}class p{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const f=20;function h(e){let t=[];return e.forEach(((e,n,r,o)=>t.push(r,o))),t}function v(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function m(e,t,n,r){let o=b(t),i=k.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,o);if(!a)return;let c=a.selection.resolve(a.transform.doc),s=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,o),u=new p(r?s:a.remaining,r?a.remaining:s,null,0);n(a.transform.setSelection(c).setMeta(k,{redo:r,historyState:u}).scrollIntoView())}let g=!1,y=null;function b(e){let t=e.plugins;if(y!=t){g=!1,y=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){g=!0;break}}return g}function w(e){return e.setMeta(E,!0)}const k=new u.PluginKey("history"),E=new u.PluginKey("closeHistory");function x(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new u.Plugin({key:k,state:{init:()=>new p(l.empty,l.empty,null,0),apply:(t,n,r)=>function(e,t,n,r){let o,i=n.getMeta(k);if(i)return i.historyState;n.getMeta(E)&&(e=new p(e.done,e.undone,null,0));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(k))return a.getMeta(k).redo?new p(e.done.addTransform(n,void 0,r,b(t)),e.undone,h(n.mapping.maps[n.steps.length-1]),e.prevTime):new p(e.done,e.undone.addTransform(n,void 0,r,b(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new p(e.done.rebased(n,o),e.undone.rebased(n,o),v(e.prevRanges,n.mapping),e.prevTime):new p(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),v(e.prevRanges,n.mapping),e.prevTime);{let o=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach(((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),i=a?v(e.prevRanges,n.mapping):h(n.mapping.maps[n.steps.length-1]);return new p(e.done.addTransform(n,o?t.selection.getBookmark():void 0,r,b(t)),l.empty,i,n.time)}}(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?O:"historyRedo"==n?S:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}const O=(e,t)=>{let n=k.getState(e);return!(!n||0==n.done.eventCount)&&(t&&m(n,e,t,!1),!0)},S=(e,t)=>{let n=k.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&m(n,e,t,!0),!0)}},16453:(e,t,n)=>{"use strict";n.d(t,{YG:()=>d,ue:()=>r});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),s=a||i&&+i[1]<57,u=0;u<10;u++)r[48+u]=r[96+u]=String(u);for(u=1;u<=24;u++)r[u+111]="F"+u;for(u=65;u<=90;u++)r[u]=String.fromCharCode(u+32),o[u]=String.fromCharCode(u);for(var l in r)o.hasOwnProperty(l)||(o[l]=r[l]);function d(e){var t=!(s&&(e.ctrlKey||e.altKey||e.metaKey)||c&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?o:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}},73268:e=>{"use strict";e.exports=JSON.parse('{"u2":"@atlaskit/smart-card","i8":"25.5.7"}')},70461:e=>{"use strict";e.exports=JSON.parse('{"aliceblue":"#f0f8ff","antiquewhite":"#faebd7","aqua":"#00ffff","aquamarine":"#7fffd4","azure":"#f0ffff","beige":"#f5f5dc","bisque":"#ffe4c4","black":"#000000","blanchedalmond":"#ffebcd","blue":"#0000ff","blueviolet":"#8a2be2","brown":"#a52a2a","burlywood":"#deb887","cadetblue":"#5f9ea0","chartreuse":"#7fff00","chocolate":"#d2691e","coral":"#ff7f50","cornflowerblue":"#6495ed","cornsilk":"#fff8dc","crimson":"#dc143c","cyan":"#00ffff","darkblue":"#00008b","darkcyan":"#008b8b","darkgoldenrod":"#b8860b","darkgray":"#a9a9a9","darkgreen":"#006400","darkgrey":"#a9a9a9","darkkhaki":"#bdb76b","darkmagenta":"#8b008b","darkolivegreen":"#556b2f","darkorange":"#ff8c00","darkorchid":"#9932cc","darkred":"#8b0000","darksalmon":"#e9967a","darkseagreen":"#8fbc8f","darkslateblue":"#483d8b","darkslategray":"#2f4f4f","darkslategrey":"#2f4f4f","darkturquoise":"#00ced1","darkviolet":"#9400d3","deeppink":"#ff1493","deepskyblue":"#00bfff","dimgray":"#696969","dimgrey":"#696969","dodgerblue":"#1e90ff","firebrick":"#b22222","floralwhite":"#fffaf0","forestgreen":"#228b22","fuchsia":"#ff00ff","gainsboro":"#dcdcdc","ghostwhite":"#f8f8ff","gold":"#ffd700","goldenrod":"#daa520","gray":"#808080","green":"#008000","greenyellow":"#adff2f","grey":"#808080","honeydew":"#f0fff0","hotpink":"#ff69b4","indianred":"#cd5c5c","indigo":"#4b0082","ivory":"#fffff0","khaki":"#f0e68c","lavender":"#e6e6fa","lavenderblush":"#fff0f5","lawngreen":"#7cfc00","lemonchiffon":"#fffacd","lightblue":"#add8e6","lightcoral":"#f08080","lightcyan":"#e0ffff","lightgoldenrodyellow":"#fafad2","lightgray":"#d3d3d3","lightgreen":"#90ee90","lightgrey":"#d3d3d3","lightpink":"#ffb6c1","lightsalmon":"#ffa07a","lightseagreen":"#20b2aa","lightskyblue":"#87cefa","lightslategray":"#778899","lightslategrey":"#778899","lightsteelblue":"#b0c4de","lightyellow":"#ffffe0","lime":"#00ff00","limegreen":"#32cd32","linen":"#faf0e6","magenta":"#ff00ff","maroon":"#800000","mediumaquamarine":"#66cdaa","mediumblue":"#0000cd","mediumorchid":"#ba55d3","mediumpurple":"#9370db","mediumseagreen":"#3cb371","mediumslateblue":"#7b68ee","mediumspringgreen":"#00fa9a","mediumturquoise":"#48d1cc","mediumvioletred":"#c71585","midnightblue":"#191970","mintcream":"#f5fffa","mistyrose":"#ffe4e1","moccasin":"#ffe4b5","navajowhite":"#ffdead","navy":"#000080","oldlace":"#fdf5e6","olive":"#808000","olivedrab":"#6b8e23","orange":"#ffa500","orangered":"#ff4500","orchid":"#da70d6","palegoldenrod":"#eee8aa","palegreen":"#98fb98","paleturquoise":"#afeeee","palevioletred":"#db7093","papayawhip":"#ffefd5","peachpuff":"#ffdab9","peru":"#cd853f","pink":"#ffc0cb","plum":"#dda0dd","powderblue":"#b0e0e6","purple":"#800080","rebeccapurple":"#663399","red":"#ff0000","rosybrown":"#bc8f8f","royalblue":"#4169e1","saddlebrown":"#8b4513","salmon":"#fa8072","sandybrown":"#f4a460","seagreen":"#2e8b57","seashell":"#fff5ee","sienna":"#a0522d","silver":"#c0c0c0","skyblue":"#87ceeb","slateblue":"#6a5acd","slategray":"#708090","slategrey":"#708090","snow":"#fffafa","springgreen":"#00ff7f","steelblue":"#4682b4","tan":"#d2b48c","teal":"#008080","thistle":"#d8bfd8","tomato":"#ff6347","turquoise":"#40e0d0","violet":"#ee82ee","wheat":"#f5deb3","white":"#ffffff","whitesmoke":"#f5f5f5","yellow":"#ffff00","yellowgreen":"#9acd32"}')},50549:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},16482:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')}}]);
//# sourceMappingURL=1905.631e2168c1c1b2bc5659.bundle.js.map