try{window.performance.mark("atlassian-navigation.async-notification-badge.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["atlassian-navigation.async-notification-badge"],{Be4h:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var s=n("3tO9"),a=n.n(s),i=n("NY1e"),o=n("MblU");const r="atlaskitNotificationLogClient";class c{constructor(t,e,n=r){this.serviceConfig={url:t},this.cloudId=e,this.source=n}async countUnseenNotifications(t={}){const e=a()(a()({path:"/api/3/notifications/count/unseen"},t),{},{queryParams:a()(a()({},this.cloudId&&{cloudId:this.cloudId}),{},{source:this.source},t.queryParams||{}),requestInit:a()({mode:"cors",headers:{"x-app-version":`${o.a}-${r}`}},t.requestInit||{})});return i.b.requestService(this.serviceConfig,e)}}},MblU:function(t){t.exports=JSON.parse('{"a":"6.0.3"}')},NY1e:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return f}));var s={};n.r(s),
n.d(s,"requestService",(function(){return d}));var a=n("lSNA"),i=n.n(a);class o{constructor(){i()(this,"listeners",new Set)}subscribe(t){this.listeners.add(t),this.lastResult&&t.result(this.lastResult)}unsubscribe(t){this.listeners.delete(t)}notifyResult(t){this.listeners.forEach((e=>{e.result(t)}))}notifyError(t){this.listeners.forEach((e=>{e.error&&e.error(t)}))}notifyInfo(t){this.listeners.forEach((e=>{e.info&&e.info(t)}))}notifyNotReady(){this.listeners.forEach((t=>{t.notReady&&t.notReady()}))}}var r=n("3tO9"),c=n.n(r);const l={},u=(t,e)=>{if(e)for(const n in e)if({}.hasOwnProperty.call(e,n)){const s=e[n];if(Array.isArray(s))for(let e=0;e<s.length;e++)t[n]=s[e];else t[n]=s}},d=(t,e)=>{const{url:n,securityProvider:s,refreshedSecurityProvider:a}=t,{path:i,queryParams:o,requestInit:r}=e||l,f=s&&s(),h=((t,e="",n,s)=>{const a=new URLSearchParams(new URL(t,"https://BASE_FALLBACK").search||void 0);if(t=t.split("?")[0],n)for(const r in n)({}).hasOwnProperty.call(n,r)&&a.append(r,n[r])
;if(s&&s.params)for(const r in s.params)if({}.hasOwnProperty.call(s.params,r)){const t=s.params[r];if(Array.isArray(t))for(let e=0;e<t.length;e++)a.append(r,t[e]);else a.append(r,t)}let i="";e&&"/"!==t.substr(-1)&&!e.startsWith("/")&&(i="/");let o=a.toString();return o&&(o="?"+o),`${t}${i}${e}${o}`})(n,i,o,f),m=((t,e)=>{const n={};return u(n,e),t&&u(n,t.headers),n})(f,r&&r.headers),p=(t=>t&&t.omitCredentials?"omit":"include")(f),y=(null==e?void 0:e.ignoreResponsePayload)||!1,b=c()(c()({},r),{},{headers:m,credentials:p});return fetch(h,b).then((t=>204===t.status?Promise.resolve():t.ok?y?Promise.resolve():t.json():401===t.status&&a?a().then((t=>d({url:n,securityProvider:()=>t},e))):Promise.reject({code:t.status,reason:t.statusText})))},f=s},feUo:function(t,e,n){"use strict";n.r(e),n.d(e,"Badge",(function(){return d}));var s=n("q1tI"),a=n.n(s),i=n("Be4h"),o=n("DTaC");const r=Object(o.i)((()=>n.e("async-atlaskit-badge").then(n.bind(null,"mUzi"))),{ssr:!1,
moduleId:"./node_modules/@atlaskit/badge/dist/cjs/index.js"}),c=t=>a.a.createElement(n("iqve").a,{id:"help.atlaskit-badge",packageName:n("aCQb").l,teamName:"navigation"},a.a.createElement(n("n+vo").a,{name:"lazy-notification-badge",fallback:null},a.a.createElement(r,t)));c.displayName="LazyNotifications";class l extends i.a{constructor(t){super("",""),this.count=0,this.count=t}countUnseenNotifications(){return Promise.resolve({count:this.count})}}const u=new l(0),d=({isNotificationCleared:t})=>{const[e,i]=Object(s.useState)(0),o=(async t=>{const[{releaseNotesNotifications:e}]=Object(n("UxYk").a)(),a=Object(s.useMemo)((()=>new l(e)),[e]);return await Promise.resolve(t||0===e?u:a)})(t);return Object(s.useEffect)((()=>{(async()=>{const t=await o;i(t.count)})()}),[o]),e>0?a.a.createElement(c,{max:3,appearance:"primary"},e):null}},xf3x:function(t,e,n){"use strict";n.r(e),n.d(e,"Badge",(function(){return m}));var s=n("q1tI"),a=n.n(s),i=n("Be4h"),o=n("DTaC")
;const r=Object(o.h)((()=>n.e("async-atlaskit-notification-indicator").then(n.bind(null,"VwTp")).then((t=>t.NotificationIndicator))),{ssr:!1,moduleId:"./node_modules/@atlaskit/notification-indicator/dist/cjs/index.js"}),c=t=>a.a.createElement(n("n+vo").a,{name:"lazy-notification-indicator",fallback:null},a.a.createElement(r,t));let l;c.displayName="LazyNotificationIndicator";class u extends i.a{constructor(t){super("",""),this.mockedCount=0,this.mockedCount=t}countUnseenNotifications(){return Promise.resolve({count:this.mockedCount})}}const d=new u(0),f=6e4,h=18e4,m=({isNotificationCleared:t,setIsNotificationCleared:e,isNotificationDrawerOpen:o})=>{const[r,u]=Object(s.useState)(f),m=((t,e)=>{const{fabricNotificationLogUrl:a}=Object(n("QwAD").c)(),o=a||"",r=Object(s.useMemo)((()=>new i.a(o,void 0)),[o]);return Promise.resolve(t||e?d:r)})(t,o);return a.a.createElement(c,{notificationLogProvider:m,refreshRate:r,onCountUpdated:(n={newCount:0})=>{n.newCount&&u(h),
t?l=setTimeout((()=>e(!1)),1e4):l&&clearTimeout(l)}})};m.displayName="Badge"}}]);try{window.__jsEvalStop("atlassian-navigation.async-notification-badge.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/atlassian-navigation.async-notification-badge.b25bb3f3963241f13e8a.8.js.map