try{window.performance.mark("@ak-switcher-chunk-atlassian-switcher.js:eval-start")}catch(e){}(window.webpackJsonp=window.webpackJsonp||[]).push([["@ak-switcher-chunk-atlassian-switcher"],{Pllz:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=(e,t)=>"function"==typeof e&&"function"==typeof t},ZDp4:function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure "+e)},e.exports.__esModule=!0,e.exports.default=e.exports},qtUi:function(e,t,r){"use strict";r.r(t);var n=r("ZDp4"),a=r.n(n),s=r("3tO9"),i=r.n(s),c=r("pVnL"),o=r.n(c),l=r("q1tI"),u=r("OhBV");const d=(e,t)=>{switch(t){case r("mVDi").d.xflow:return"function"==typeof e.triggerXFlow;case r("mVDi").d.isProductStoreInTrelloJSWFirstEnabled:return Boolean(e.recommendationsFeatureFlags&&e.recommendationsFeatureFlags.isProductStoreInTrelloJSWFirstEnabled);case r("mVDi").d.isProductStoreInTrelloConfluenceFirstEnabled:
return Boolean(e.recommendationsFeatureFlags&&e.recommendationsFeatureFlags.isProductStoreInTrelloConfluenceFirstEnabled);default:return Boolean(e[t])}};var f=r("lSNA"),E=r.n(f);function p(e){return r("QJvK").b[e].map(h)}function h(e){return{key:e,startMark:m(e,r("QJvK").f.START),endMark:m(e,r("QJvK").f.END)}}const m=(e,t)=>`${e}_${t}`;class b{constructor(e){E()(this,"ufoExperiences",new Map),this.commonExperienceConfig={platform:{component:e.ufoAttributes.component}}}createNewUFOExperience(e){return new(r("bUw2").a)(e.experience,i()(i()(i()({},this.commonExperienceConfig),e.config),{},{timings:p(e.experience)}))}getOrCreateUFOExperience(e){return this.ufoExperiences.has(e.experience)||this.ufoExperiences.set(e.experience,this.createNewUFOExperience(e)),this.ufoExperiences.get(e.experience)}get(e){return this.ufoExperiences.get(e)}getAll(){return Array.from(this.ufoExperiences.values())}}class O{constructor(e){this.config=e,this.experiences=new b(e)}start(e,t){
this.config.isUFOEnabled&&this.experiences.getOrCreateUFOExperience({experience:e,config:r("QJvK").c[e]}).start(t)}success(e,t){var r;this.config.isUFOEnabled&&(null===(r=this.experiences.get(e))||void 0===r||r.success({metadata:t}))}failure(e,t,r){var n;this.config.isUFOEnabled&&(null===(n=this.experiences.get(e))||void 0===n||n.failure({force:!0,metadata:i()(i()({},r),{},{errorName:t.name,errorMessage:t.message})}))}failureAll(e,t){this.config.isUFOEnabled&&this.experiences.getAll().forEach((r=>r.failure({force:!0,metadata:i()(i()({},t),{},{errorName:e.name,errorMessage:e.message})})))}abort(e,t,r){var n;this.config.isUFOEnabled&&(null===(n=this.experiences.get(e))||void 0===n||n.abort({force:!0,metadata:i()(i()({},r),{},{abortReason:t})}))}abortAll(e,t){this.config.isUFOEnabled&&this.experiences.getAll().forEach((r=>r.abort({force:!0,metadata:i()(i()({},t),{},{abortReason:e})})))}markStart(e,t){this.config.isUFOEnabled&&this.mark(r("QJvK").f.START,e,t)}markEnd(e,t){
this.config.isUFOEnabled&&this.mark(r("QJvK").f.END,e,t)}mark(e,t,n){const a=r("QJvK").g[t];a&&a.map((e=>this.experiences.get(e))).forEach((r=>null==r?void 0:r.mark(m(t,e),n)))}}var g=r("qKvR");const v=[r("QJvK").d.RENDER_CUSTOM_LINKS_SECTION,r("QJvK").d.RENDER_DISCOVER_SECTION,r("QJvK").d.RENDER_JOIN_SECTION,r("QJvK").d.RENDER_RECENT_SECTION,r("QJvK").d.RENDER_SWITCH_TO_SECTION,r("QJvK").d.RENDER_SWITCHER_EMPTY_STATE],w=[r("QJvK").e.SWITCHER_INITIAL_MOUNT];function N({children:e,isUFOEnabled:t}){const n=Object(r("2nys").b)((()=>new O({isUFOEnabled:t,ufoAttributes:{component:"atlassianSwitcher"}}))),a=Object(r("2nys").a)((()=>(()=>{var e;const t=performance.getEntriesByName?performance.getEntriesByName("atlassianSwitcher.render.start"):[];return null===(e=t[t.length-1])||void 0===e?void 0:e.startTime})()));return Object(r("2nys").a)((()=>{v.forEach((e=>n.start(e,a))),w.forEach((e=>n.markStart(e,a)))})),Object(l.useLayoutEffect)((()=>{const e=()=>{
n.abortAll(r("QJvK").a.WINDOW_UNLOADING)};return window.addEventListener("beforeunload",e),n.markEnd(r("QJvK").e.SWITCHER_INITIAL_MOUNT),()=>{n.abortAll(r("QJvK").a.COMPONENT_UNMOUNTED),window.removeEventListener("beforeunload",e)}}),[n]),Object(g.d)(r("hPDJ").a.Provider,{value:n},e)}const x=e=>i()(i()({source:"atlassianSwitcher",componentName:"atlassianSwitcher"},r("JmWB").a),Object(r("BQhS").e)(e)),F={appearance:"drawer"},T=e=>{let t=Object.assign({},(a()(e),e));const n=Object(r("hPDJ").b)();return Object(g.d)(r("ZiR6").a,o()({},t,{onErrorCallback:e=>n.failureAll(e)}))};t.default=e=>{const t=Object.assign({},F,e),{product:n,appearance:a}=t;let s;switch(n){case r("mVDi").f.JIRA:s=r("X5BY").d;break;case r("mVDi").f.CONFLUENCE:s=r("X5BY").b;break;case r("mVDi").f.TRELLO:s=r("X5BY").e;break;default:s=r("X5BY").c}const c=function(e){return Object.keys(r("mVDi").d).reduce(((t,r)=>i()(i()({},t),{},{[r]:d(e,r)})),{})}(t);return Object(g.d)(N,{isUFOEnabled:c.isUFOEnabled},Object(g.d)(u.k,{
data:x({featureFlags:i()({},c)})},Object(g.d)(r("lDmq").a,null,Object(g.d)(T,{appearance:a,product:n,extraAnalyticProps:function(){if(t.onDiscoverMoreClicked&&t.triggerXFlow){return{isDiscoverExpected:!!Object(r("Pllz").a)(t.onDiscoverMoreClicked,t.triggerXFlow)}}return{isDiscoverExpected:!1}}()},Object(g.d)(s,o()({},t,{features:c}))))))}}}]);try{window.__jsEvalStop("@ak-switcher-chunk-atlassian-switcher.js")}catch(e){}
//# sourceMappingURL=https://statlas.prod.atl-paas.net/jira-frontend-source-maps/assets/@ak-switcher-chunk-atlassian-switcher.6138d5c27ac0389e1b84.8.js.map